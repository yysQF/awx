{"version":3,"sources":["components/About/brand-logo.svg","locales/ja/messages.js","locales/en/messages.js","setupCSP.js","constants.js","util/qs.js","util/debounce.js","api/Base.js","api/models/ActivityStream.js","api/mixins/Relaunch.mixin.js","api/models/AdHocCommands.js","api/models/Applications.js","api/models/Auth.js","api/models/Config.js","api/models/CredentialInputSources.js","api/models/CredentialTypes.js","api/models/Credentials.js","api/models/Dashboard.js","api/models/Groups.js","api/models/Hosts.js","api/models/InstanceGroups.js","api/models/Instances.js","api/mixins/InstanceGroups.mixin.js","api/models/Inventories.js","api/models/InventoryScripts.js","api/mixins/Notifications.mixin.js","api/mixins/LaunchUpdate.mixin.js","api/mixins/Schedules.mixin.js","api/models/InventorySources.js","api/models/InventoryUpdates.js","api/models/JobTemplates.js","api/models/Jobs.js","api/models/Labels.js","api/models/Me.js","api/models/NotificationTemplates.js","api/models/Notifications.js","api/models/Organizations.js","api/models/ProjectUpdates.js","api/models/Projects.js","api/models/Roles.js","api/models/Root.js","api/models/Schedules.js","api/models/Settings.js","api/models/SystemJobs.js","api/models/Teams.js","api/models/Tokens.js","api/models/UnifiedJobTemplates.js","api/models/UnifiedJobs.js","api/models/Users.js","api/models/WorkflowApprovals.js","api/models/WorkflowApprovalTemplates.js","api/models/WorkflowJobTemplateNodes.js","api/models/WorkflowJobTemplates.js","api/models/WorkflowJobs.js","api/index.js","contexts/Config.jsx","util/auth.js","components/About/About.jsx","variables.js","components/AlertModal/AlertModal.jsx","components/ErrorDetail/ErrorDetail.jsx","components/ErrorDetail/getErrorMessage.js","components/AppContainer/BrandLogo.jsx","components/AppContainer/NavExpandableGroup.jsx","components/AppContainer/PageHeaderToolbar.jsx","components/AppContainer/AppContainer.jsx","components/AppContainer/index.jsx","components/Background/Background.jsx","components/ContentError/ContentError.jsx","screens/NotFound.jsx","util/useRequest.js","screens/Login/Login.jsx","util/language.js","components/ExpandCollapse/ExpandCollapse.jsx","types.js","components/Search/AdvancedSearch.jsx","components/Search/Search.jsx","components/Sort/Sort.jsx","contexts/Kebabified.jsx","components/DataListToolbar/DataListToolbar.jsx","components/ListHeader/ListHeader.jsx","components/ContentEmpty/ContentEmpty.jsx","components/ContentLoading/ContentLoading.jsx","components/Pagination/Pagination.jsx","components/LoadingSpinner/LoadingSpinner.jsx","components/PaginatedTable/PaginatedTable.jsx","components/PaginatedTable/ActionsTd.jsx","components/PaginatedTable/HeaderRow.jsx","components/PaginatedTable/ActionItem.jsx","util/dates.jsx","components/DetailList/DetailList.jsx","components/Popover/Popover.jsx","components/DetailList/Detail.jsx","components/DetailList/DeletedDetail.jsx","components/DetailList/UserDateDetail.jsx","components/DetailList/DetailBadge.jsx","components/DetailList/ArrayDetail.jsx","components/CodeMirrorInput/CodeMirrorInput.jsx","components/CodeMirrorInput/CodeMirrorField.jsx","components/MultiButtonToggle/ButtonGroup.jsx","components/MultiButtonToggle/MultiButtonToggle.jsx","util/yaml.js","components/CodeMirrorInput/constants.js","components/CodeMirrorInput/VariablesDetail.jsx","components/CodeMirrorInput/VariablesInput.jsx","components/FormField/FormField.jsx","components/FormField/CheckboxField.jsx","components/FormField/PasswordInput.jsx","components/FormField/PasswordField.jsx","components/FormLayout/FormLayout.jsx","components/FormField/sortErrorMessages.js","components/FormField/FormSubmitError.jsx","components/FormField/ArrayTextField.jsx","components/CodeMirrorInput/VariablesField.jsx","components/CodeMirrorInput/index.js","screens/ActivityStream/ActivityStreamDetailButton.jsx","screens/ActivityStream/ActivityStreamDescription.jsx","screens/ActivityStream/ActivityStreamListItem.jsx","screens/ActivityStream/ActivityStream.jsx","components/DataListCell/DataListCell.jsx","components/PaginatedDataList/PaginatedDataListItem.jsx","components/PaginatedDataList/PaginatedDataList.jsx","components/PaginatedDataList/ToolbarDeleteButton.jsx","components/PaginatedDataList/ToolbarAddButton.jsx","util/useSelected.jsx","screens/Application/ApplicationsList/ApplicationListItem.jsx","screens/Application/ApplicationsList/ApplicationsList.jsx","util/validators.jsx","components/FormActionGroup/FormActionGroup.jsx","util/useAutoPopulateLookup.jsx","components/ChipGroup/ChipGroup.jsx","components/SelectedList/SelectedList.jsx","components/CheckboxListItem/CheckboxListItem.jsx","components/OptionsList/OptionsList.jsx","components/Lookup/shared/reducer.js","components/Lookup/Lookup.jsx","components/Lookup/shared/LookupErrorMessage.jsx","components/Lookup/OrganizationLookup.jsx","components/AnsibleSelect/AnsibleSelect.jsx","screens/Application/shared/ApplicationForm.jsx","components/Card/CardBody.jsx","components/Card/CardActionsRow.jsx","screens/Application/ApplicationAdd/ApplicationAdd.jsx","screens/Application/ApplicationEdit/ApplicationEdit.jsx","components/DeleteButton/DeleteButton.jsx","screens/Application/ApplicationDetails/ApplicationDetails.jsx","util/strings.js","screens/Application/ApplicationTokens/ApplicationTokenListItem.jsx","screens/Application/ApplicationTokens/ApplicationTokenList.jsx","components/RoutedTabs/RoutedTabs.jsx","screens/Application/Application/Application.jsx","components/ScreenHeader/ScreenHeader.jsx","screens/Application/Applications.jsx","components/SelectableCard/SelectableCard.jsx","components/Wizard/Wizard.jsx","components/AddRole/SelectResourceStep.jsx","components/AddRole/CheckboxCard.jsx","components/AddRole/SelectRoleStep.jsx","components/AddRole/AddResourceRole.jsx","components/ResourceAccessList/DeleteRoleConfirmationModal.jsx","components/ResourceAccessList/ResourceAccessListItem.jsx","components/ResourceAccessList/ResourceAccessList.jsx","components/CredentialChip/CredentialChip.jsx","screens/Credential/CredentialDetail/CredentialDetail.jsx","screens/Credential/shared/CredentialFormFields/BecomeMethodField.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginSelected.jsx","components/FieldWithPrompt/FieldWithPrompt.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginPrompt/CredentialsStep.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginPrompt/MetadataStep.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginPrompt/CredentialPluginPrompt.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginField.jsx","screens/Credential/shared/CredentialPlugins/CredentialPluginTestAlert.jsx","screens/Credential/shared/CredentialFormFields/CredentialField.jsx","screens/Credential/shared/CredentialFormFields/GceFileUploadField.jsx","screens/Credential/shared/TypeInputsSubForm.jsx","screens/Credential/shared/ExternalTestModal.jsx","screens/Credential/shared/CredentialForm.jsx","screens/Credential/CredentialEdit/CredentialEdit.jsx","screens/Credential/Credential.jsx","screens/Credential/CredentialAdd/CredentialAdd.jsx","components/CopyButton/CopyButton.jsx","screens/Credential/CredentialList/CredentialListItem.jsx","screens/Credential/CredentialList/CredentialList.jsx","screens/Credential/Credentials.jsx","screens/CredentialType/shared/CredentialTypeForm.jsx","screens/CredentialType/CredentialTypeAdd/CredentialTypeAdd.jsx","screens/CredentialType/CredentialTypeList/CredentialTypeListItem.jsx","screens/CredentialType/CredentialTypeList/CredentialTypeList.jsx","screens/CredentialType/CredentialTypeDetails/CredentialTypeDetails.jsx","screens/CredentialType/CredentialTypeEdit/CredentialTypeEdit.jsx","screens/CredentialType/CredentialType.jsx","screens/CredentialType/CredentialTypes.jsx","util/prompt/mergeExtraVars.js","util/prompt/getSurveyValues.js","components/LaunchPrompt/steps/InventoryStep.jsx","components/LaunchPrompt/steps/StepName.jsx","components/LaunchPrompt/steps/useInventoryStep.jsx","components/LaunchPrompt/steps/CredentialsStep.jsx","components/LaunchPrompt/steps/useCredentialsStep.jsx","components/LaunchPrompt/steps/CredentialPasswordsStep.jsx","components/LaunchPrompt/steps/useCredentialPasswordsStep.jsx","components/MultiSelect/TagMultiSelect.jsx","components/MultiSelect/useSyncedSelectValue.js","components/LaunchPrompt/steps/OtherPromptsStep.jsx","components/LaunchPrompt/steps/useOtherPromptsStep.jsx","components/LaunchPrompt/steps/SurveyStep.jsx","components/LaunchPrompt/steps/useSurveyStep.jsx","components/PromptDetail/PromptProjectDetail.jsx","components/PromptDetail/PromptInventorySourceDetail.jsx","components/StatusIcon/StatusIcon.jsx","components/Sparkline/Sparkline.jsx","components/PromptDetail/PromptJobTemplateDetail.jsx","components/PromptDetail/PromptWFJobTemplateDetail.jsx","components/PromptDetail/PromptDetail.jsx","components/LaunchPrompt/steps/PreviewStep.jsx","components/LaunchPrompt/steps/usePreviewStep.jsx","components/LaunchPrompt/useLaunchSteps.js","components/LaunchPrompt/LaunchPrompt.jsx","components/LaunchButton/LaunchButton.jsx","components/JobList/JobListItem.jsx","components/JobList/JobListCancelButton.jsx","util/useWebsocket.js","util/useThrottle.js","components/JobList/sortJobs.js","components/JobList/useWsJobs.js","components/JobList/JobList.jsx","screens/Dashboard/shared/ChartTooltip.jsx","screens/Dashboard/shared/LineChart.jsx","screens/Dashboard/shared/Count.jsx","util/useWsTemplates.jsx","components/AddDropDownButton/AddDropDownButton.jsx","screens/Dashboard/shared/DashboardTemplateListItem.jsx","screens/Dashboard/shared/DashboardTemplateList.jsx","screens/Dashboard/Dashboard.jsx","components/HostToggle/HostToggle.jsx","screens/Host/HostList/HostListItem.jsx","screens/Host/HostList/SmartInventoryButton.jsx","screens/Host/HostList/HostList.jsx","components/Lookup/InstanceGroupsLookup.jsx","components/Lookup/InventoryLookup.jsx","components/Lookup/ProjectLookup.jsx","components/Lookup/MultiCredentialsLookup.jsx","components/Lookup/CredentialLookup.jsx","components/Lookup/ApplicationLookup.jsx","components/Lookup/HostListItem.jsx","components/Lookup/shared/HostFilterUtils.jsx","components/Lookup/HostFilterLookup.jsx","components/HostForm/HostForm.jsx","screens/Host/HostAdd/HostAdd.jsx","screens/Host/HostFacts/HostFacts.jsx","screens/Host/HostDetail/HostDetail.jsx","screens/Host/HostEdit/HostEdit.jsx","components/AssociateModal/AssociateModal.jsx","components/DisassociateButton/DisassociateButton.jsx","screens/Host/HostGroups/HostGroupItem.jsx","screens/Host/HostGroups/HostGroupsList.jsx","screens/Host/HostGroups/HostGroups.jsx","screens/Host/Host.jsx","screens/Host/Hosts.jsx","screens/InstanceGroup/shared/InstanceGroupForm.jsx","screens/InstanceGroup/InstanceGroupAdd/InstanceGroupAdd.jsx","screens/InstanceGroup/InstanceGroupList/InstanceGroupListItem.jsx","screens/InstanceGroup/InstanceGroupList/InstanceGroupList.jsx","screens/InstanceGroup/InstanceGroupDetails/InstanceGroupDetails.jsx","screens/InstanceGroup/InstanceGroupEdit/InstanceGroupEdit.jsx","components/InstanceToggle/InstanceToggle.jsx","screens/InstanceGroup/Instances/InstanceListItem.jsx","screens/InstanceGroup/Instances/InstanceList.jsx","screens/InstanceGroup/InstanceGroup.jsx","screens/InstanceGroup/shared/ContainerGroupForm.jsx","screens/InstanceGroup/ContainerGroupAdd/ContainerGroupAdd.jsx","screens/InstanceGroup/ContainerGroupDetails/ContainerGroupDetails.jsx","screens/InstanceGroup/ContainerGroupEdit/ContainerGroupEdit.jsx","screens/InstanceGroup/ContainerGroup.jsx","screens/InstanceGroup/InstanceGroups.jsx","screens/Inventory/InventoryList/useWsInventories.js","components/StatusLabel/StatusLabel.jsx","screens/Inventory/InventoryList/InventoryListItem.jsx","screens/Inventory/InventoryList/InventoryList.jsx","screens/Inventory/InventoryDetail/InventoryDetail.jsx","screens/Inventory/shared/InventoryForm.jsx","util/lists.js","screens/Inventory/InventoryEdit/InventoryEdit.jsx","screens/Inventory/shared/InventoryGroupForm.jsx","screens/Inventory/InventoryGroupAdd/InventoryGroupAdd.jsx","screens/Inventory/InventoryGroupEdit/InventoryGroupEdit.jsx","screens/Inventory/shared/InventoryGroupsDeleteModal.jsx","screens/Inventory/InventoryGroupDetail/InventoryGroupDetail.jsx","screens/Inventory/InventoryGroupHostAdd/InventoryGroupHostAdd.jsx","components/AdHocCommands/AdHocCredentialStep.jsx","components/AdHocCommands/AdHocDetailsStep.jsx","components/AdHocCommands/AdHocCommandsWizard.jsx","components/AdHocCommands/AdHocCommands.jsx","screens/Inventory/InventoryGroupHosts/InventoryGroupHostListItem.jsx","screens/Inventory/InventoryGroupHosts/InventoryGroupHostList.jsx","screens/Inventory/InventoryGroupHosts/InventoryGroupHosts.jsx","screens/Inventory/InventoryRelatedGroups/InventoryRelatedGroupListItem.jsx","screens/Inventory/InventoryRelatedGroups/InventoryRelatedGroupList.jsx","screens/Inventory/InventoryRelatedGroupAdd/InventoryRelatedGroupAdd.jsx","screens/Inventory/InventoryRelatedGroups/InventoryRelatedGroups.jsx","screens/Inventory/InventoryGroup/InventoryGroup.jsx","screens/Inventory/InventoryGroups/InventoryGroupItem.jsx","screens/Inventory/InventoryGroups/InventoryGroupsList.jsx","screens/Inventory/InventoryGroups/InventoryGroups.jsx","screens/Inventory/InventoryHostDetail/InventoryHostDetail.jsx","screens/Inventory/InventoryHostEdit/InventoryHostEdit.jsx","screens/Inventory/InventoryHostFacts/InventoryHostFacts.jsx","screens/Inventory/InventoryHostGroups/InventoryHostGroupItem.jsx","screens/Inventory/InventoryHostGroups/InventoryHostGroupsList.jsx","screens/Inventory/InventoryHostGroups/InventoryHostGroups.jsx","screens/Inventory/InventoryHost/InventoryHost.jsx","screens/Inventory/InventoryHostAdd/InventoryHostAdd.jsx","screens/Inventory/InventoryHosts/InventoryHostItem.jsx","screens/Inventory/InventoryHosts/InventoryHostList.jsx","screens/Inventory/InventoryHosts/InventoryHosts.jsx","components/Schedule/ScheduleOccurrences/ScheduleOccurrences.jsx","components/Schedule/ScheduleToggle/ScheduleToggle.jsx","components/Schedule/ScheduleDetail/ScheduleDetail.jsx","components/Schedule/shared/buildRuleObj.js","components/Schedule/shared/FrequencyDetailSubform.jsx","components/Schedule/shared/ScheduleForm.jsx","components/Schedule/ScheduleEdit/ScheduleEdit.jsx","components/Schedule/Schedule.jsx","components/Schedule/ScheduleAdd/ScheduleAdd.jsx","components/Schedule/ScheduleList/ScheduleListItem.jsx","components/Schedule/ScheduleList/ScheduleList.jsx","components/Schedule/Schedules.jsx","screens/Inventory/shared/InventorySourceSyncButton.jsx","screens/Inventory/InventorySourceDetail/InventorySourceDetail.jsx","screens/Inventory/shared/InventorySourceSubForms/SharedFields.jsx","screens/Inventory/shared/InventorySourceSubForms/AzureSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/EC2SubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/GCESubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/OpenStackSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/SCMSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/SatelliteSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/TowerSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/VMwareSubForm.jsx","screens/Inventory/shared/InventorySourceSubForms/VirtualizationSubForm.jsx","screens/Inventory/shared/InventorySourceForm.jsx","screens/Inventory/InventorySourceEdit/InventorySourceEdit.jsx","components/NotificationList/NotificationListItem.jsx","components/NotificationList/NotificationList.jsx","screens/Inventory/InventorySource/InventorySource.jsx","screens/Inventory/InventorySourceAdd/InventorySourceAdd.jsx","screens/Inventory/InventorySources/InventorySourceListItem.jsx","screens/Inventory/InventorySources/useWsInventorySources.js","screens/Inventory/InventorySources/InventorySourceList.jsx","screens/Inventory/InventorySources/InventorySources.jsx","screens/Inventory/Inventory.jsx","screens/Inventory/SmartInventoryDetail/SmartInventoryDetail.jsx","screens/Inventory/shared/SmartInventoryForm.jsx","screens/Inventory/SmartInventoryEdit/SmartInventoryEdit.jsx","screens/Inventory/SmartInventoryHosts/SmartInventoryHostListItem.jsx","screens/Inventory/SmartInventoryHosts/SmartInventoryHostList.jsx","screens/Inventory/SmartInventoryHostDetail/SmartInventoryHostDetail.jsx","screens/Inventory/SmartInventoryHost/SmartInventoryHost.jsx","screens/Inventory/SmartInventoryHosts/SmartInventoryHosts.jsx","screens/Inventory/SmartInventory.jsx","screens/Inventory/InventoryAdd/InventoryAdd.jsx","screens/Inventory/SmartInventoryAdd/SmartInventoryAdd.jsx","screens/Inventory/Inventories.jsx","screens/Job/JobDetail/JobDetail.jsx","screens/Job/JobOutput/shared/HostStatusBar.jsx","screens/Job/JobOutput/shared/JobEventLine.jsx","screens/Job/JobOutput/shared/JobEventLineToggle.jsx","screens/Job/JobOutput/shared/JobEventLineNumber.jsx","screens/Job/JobOutput/shared/JobEventLineText.jsx","screens/Job/JobOutput/shared/OutputToolbar.jsx","screens/Job/JobOutput/JobEvent.jsx","screens/Job/JobOutput/JobEventSkeleton.jsx","screens/Job/JobOutput/PageControls.jsx","screens/Job/JobOutput/HostEventModal.jsx","screens/Job/JobOutput/JobOutput.jsx","contexts/Workflow.jsx","components/Workflow/WorkflowUtils.jsx","components/Workflow/workflowReducer.js","screens/Job/WorkflowOutput/WorkflowOutputLink.jsx","components/Workflow/WorkflowActionTooltip.jsx","components/Workflow/WorkflowActionTooltipItem.jsx","components/Workflow/WorkflowHelp.jsx","components/Workflow/WorkflowLegend.jsx","components/Workflow/WorkflowLinkHelp.jsx","components/Workflow/WorkflowNodeHelp.jsx","components/Workflow/WorkflowNodeTypeLetter.jsx","components/Workflow/WorkflowStartNode.jsx","components/Workflow/WorkflowTools.jsx","screens/Job/WorkflowOutput/WorkflowOutputNode.jsx","screens/Job/WorkflowOutput/WorkflowOutputGraph.jsx","screens/Job/WorkflowOutput/WorkflowOutputToolbar.jsx","screens/Job/WorkflowOutput/useWsWorkflowOutput.js","screens/Job/WorkflowOutput/WorkflowOutput.jsx","screens/Job/useWsJob.js","screens/Job/Job.jsx","screens/Job/JobTypeRedirect.jsx","screens/Job/Jobs.jsx","screens/ManagementJob/ManagementJobs.jsx","screens/NotificationTemplate/constants.js","screens/NotificationTemplate/NotificationTemplateList/NotificationTemplateListItem.jsx","screens/NotificationTemplate/NotificationTemplateList/NotificationTemplateList.jsx","screens/NotificationTemplate/NotificationTemplateList/index.js","screens/NotificationTemplate/shared/TypeInputsSubForm.jsx","screens/NotificationTemplate/shared/CustomMessagesSubForm.jsx","screens/NotificationTemplate/shared/hasCustomMessages.js","screens/NotificationTemplate/shared/typeFieldNames.js","screens/NotificationTemplate/shared/NotificationTemplateForm.jsx","screens/NotificationTemplate/NotificationTemplateAdd.jsx","components/DetailList/CodeDetail.jsx","screens/NotificationTemplate/NotificationTemplateDetail/NotificationTemplateDetail.jsx","screens/NotificationTemplate/NotificationTemplateDetail/index.js","screens/NotificationTemplate/NotificationTemplateEdit/NotificationTemplateEdit.jsx","screens/NotificationTemplate/NotificationTemplateEdit/index.js","screens/NotificationTemplate/NotificationTemplate.jsx","screens/NotificationTemplate/NotificationTemplates.jsx","screens/Organization/OrganizationList/OrganizationListItem.jsx","screens/Organization/OrganizationList/OrganizationList.jsx","screens/Organization/shared/OrganizationForm.jsx","screens/Organization/OrganizationAdd/OrganizationAdd.jsx","screens/Organization/OrganizationDetail/OrganizationDetail.jsx","screens/Organization/OrganizationEdit/OrganizationEdit.jsx","screens/Organization/OrganizationTeams/OrganizationTeamListItem.jsx","screens/Organization/OrganizationTeams/OrganizationTeamList.jsx","screens/Organization/Organization.jsx","screens/Organization/Organizations.jsx","components/ClipboardCopyButton/ClipboardCopyButton.jsx","screens/Project/shared/ProjectSyncButton.jsx","screens/Project/ProjectList/ProjectListItem.jsx","screens/Project/ProjectList/ProjectList.jsx","screens/Project/ProjectList/useWsProjects.js","screens/Project/shared/ProjectSubForms/SharedFields.jsx","screens/Project/shared/ProjectSubForms/GitSubForm.jsx","screens/Project/shared/ProjectSubForms/InsightsSubForm.jsx","screens/Project/shared/ProjectSubForms/ManualSubForm.jsx","screens/Project/shared/ProjectSubForms/SvnSubForm.jsx","screens/Project/shared/ProjectSubForms/ArchiveSubForm.jsx","screens/Project/shared/ProjectForm.jsx","screens/Project/ProjectAdd/ProjectAdd.jsx","screens/Project/ProjectDetail/ProjectDetail.jsx","screens/Project/ProjectEdit/ProjectEdit.jsx","screens/Project/ProjectJobTemplatesList/ProjectJobTemplatesListItem.jsx","screens/Project/ProjectJobTemplatesList/ProjectJobTemplatesList.jsx","screens/Project/Project.jsx","screens/Project/Projects.jsx","screens/Schedule/AllSchedules.jsx","contexts/Settings.jsx","screens/Setting/shared/LoggingTestAlert.jsx","screens/Setting/shared/SettingDetail.jsx","screens/Setting/shared/RevertAllAlert.jsx","screens/Setting/shared/RevertFormActionGroup.jsx","screens/Setting/shared/RevertButton.jsx","screens/Setting/shared/SharedFields.jsx","screens/Setting/ActivityStream/ActivityStreamDetail/ActivityStreamDetail.jsx","util/useModal.js","screens/Setting/ActivityStream/ActivityStreamEdit/ActivityStreamEdit.jsx","screens/Setting/ActivityStream/ActivityStream.jsx","screens/Setting/AzureAD/AzureADDetail/AzureADDetail.jsx","screens/Setting/shared/settingUtils.js","screens/Setting/AzureAD/AzureADEdit/AzureADEdit.jsx","screens/Setting/AzureAD/AzureAD.jsx","screens/Setting/GitHub/GitHubDetail/GitHubDetail.jsx","screens/Setting/GitHub/GitHubEdit/GitHubEdit.jsx","screens/Setting/GitHub/GitHubOrgEdit/GitHubOrgEdit.jsx","screens/Setting/GitHub/GitHubTeamEdit/GitHubTeamEdit.jsx","screens/Setting/GitHub/GitHub.jsx","screens/Setting/GoogleOAuth2/GoogleOAuth2Detail/GoogleOAuth2Detail.jsx","screens/Setting/GoogleOAuth2/GoogleOAuth2Edit/GoogleOAuth2Edit.jsx","screens/Setting/GoogleOAuth2/GoogleOAuth2.jsx","screens/Setting/Jobs/JobsDetail/JobsDetail.jsx","screens/Setting/Jobs/JobsEdit/JobsEdit.jsx","screens/Setting/Jobs/Jobs.jsx","screens/Setting/LDAP/LDAPDetail/LDAPDetail.jsx","screens/Setting/LDAP/LDAPEdit/LDAPEdit.jsx","screens/Setting/LDAP/LDAP.jsx","screens/Setting/License/LicenseDetail/LicenseDetail.jsx","screens/Setting/License/LicenseEdit/LicenseEdit.jsx","screens/Setting/License/License.jsx","screens/Setting/Logging/LoggingDetail/LoggingDetail.jsx","screens/Setting/Logging/LoggingEdit/LoggingEdit.jsx","screens/Setting/Logging/Logging.jsx","screens/Setting/MiscSystem/MiscSystemDetail/MiscSystemDetail.jsx","screens/Setting/MiscSystem/MiscSystemEdit/MiscSystemEdit.jsx","screens/Setting/MiscSystem/MiscSystem.jsx","screens/Setting/RADIUS/RADIUSDetail/RADIUSDetail.jsx","screens/Setting/RADIUS/RADIUSEdit/RADIUSEdit.jsx","screens/Setting/RADIUS/RADIUS.jsx","screens/Setting/SAML/SAMLDetail/SAMLDetail.jsx","screens/Setting/SAML/SAMLEdit/SAMLEdit.jsx","screens/Setting/SAML/SAML.jsx","screens/Setting/SettingList.jsx","screens/Setting/TACACS/TACACSDetail/TACACSDetail.jsx","screens/Setting/TACACS/TACACSEdit/TACACSEdit.jsx","screens/Setting/TACACS/TACACS.jsx","screens/Setting/UI/UIDetail/UIDetail.jsx","screens/Setting/UI/UIEdit/UIEdit.jsx","screens/Setting/UI/UI.jsx","screens/Setting/Settings.jsx","screens/Team/TeamList/TeamListItem.jsx","screens/Team/TeamList/TeamList.jsx","screens/Team/shared/TeamForm.jsx","screens/Team/TeamAdd/TeamAdd.jsx","screens/Team/TeamDetail/TeamDetail.jsx","screens/Team/TeamEdit/TeamEdit.jsx","screens/Team/TeamRoles/TeamRoleListItem.jsx","components/UserAndTeamAccessAdd/getResourceAccessConfig.js","components/UserAndTeamAccessAdd/UserAndTeamAccessAdd.jsx","screens/Team/TeamRoles/TeamRolesList.jsx","screens/Team/Team.jsx","screens/Team/Teams.jsx","screens/Template/TemplateList/TemplateListItem.jsx","screens/Template/TemplateList/TemplateList.jsx","screens/Template/JobTemplateDetail/JobTemplateDetail.jsx","screens/Template/shared/LabelSelect.jsx","screens/Template/shared/PlaybookSelect.jsx","screens/Template/shared/WebhookSubForm.jsx","screens/Template/shared/JobTemplateForm.jsx","screens/Template/JobTemplateEdit/JobTemplateEdit.jsx","screens/Template/Survey/SurveyListItem.jsx","screens/Template/Survey/SurveyToolbar.jsx","screens/Template/Survey/SurveyPreviewModal.jsx","screens/Template/Survey/SurveyList.jsx","screens/Template/Survey/SurveyQuestionForm.jsx","screens/Template/Survey/SurveyQuestionAdd.jsx","screens/Template/Survey/SurveyQuestionEdit.jsx","screens/Template/TemplateSurvey.jsx","screens/Template/Template.jsx","components/AppendBody/AppendBody.jsx","components/FullPage/FullPage.jsx","screens/Template/WorkflowJobTemplateDetail/WorkflowJobTemplateDetail.jsx","screens/Template/shared/WorkflowJobTemplateForm.jsx","screens/Template/WorkflowJobTemplateEdit/WorkflowJobTemplateEdit.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/DeleteAllNodesModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/UnsavedChangesModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/LinkModals/LinkDeleteModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/LinkModals/LinkModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/LinkModals/LinkAddModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/LinkModals/LinkEditModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/InventorySourcesList.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/JobTemplatesList.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/ProjectsList.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/WorkflowJobTemplatesList.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/NodeTypeStep.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeTypeStep/useNodeTypeStep.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/RunStep.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/useRunTypeStep.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/useWorkflowNodeSteps.js","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeNextButton.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeAddModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeDeleteModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeEditModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/shared/WorkflowJobTemplateVisualizerUtils.js","screens/Template/WorkflowJobTemplateVisualizer/Modals/NodeModals/NodeViewModal.jsx","screens/Template/WorkflowJobTemplateVisualizer/VisualizerLink.jsx","screens/Template/WorkflowJobTemplateVisualizer/VisualizerNode.jsx","screens/Template/WorkflowJobTemplateVisualizer/VisualizerGraph.jsx","screens/Template/WorkflowJobTemplateVisualizer/VisualizerStartScreen.jsx","screens/Template/WorkflowJobTemplateVisualizer/VisualizerToolbar.jsx","screens/Template/WorkflowJobTemplateVisualizer/Visualizer.jsx","screens/Template/WorkflowJobTemplate.jsx","screens/Template/JobTemplateAdd/JobTemplateAdd.jsx","screens/Template/WorkflowJobTemplateAdd/WorkflowJobTemplateAdd.jsx","screens/Template/Templates.jsx","screens/User/UserList/UserListItem.jsx","screens/User/UserList/UserList.jsx","screens/User/shared/UserForm.jsx","screens/User/UserAdd/UserAdd.jsx","screens/User/UserDetail/UserDetail.jsx","screens/User/UserEdit/UserEdit.jsx","screens/User/UserOrganizations/UserOrganizationListItem.jsx","screens/User/UserOrganizations/UserOrganizationsList.jsx","screens/User/UserOrganizations/UserOrganizations.jsx","screens/User/UserTeams/UserTeamListItem.jsx","screens/User/UserTeams/UserTeamList.jsx","screens/User/UserTeams/UserTeams.jsx","screens/User/shared/UserTokenForm.jsx","screens/User/UserTokenAdd/UserTokenAdd.jsx","screens/User/UserTokenList/UserTokenListItem.jsx","screens/User/UserTokenList/UserTokenList.jsx","screens/User/UserTokenDetail/UserTokenDetail.jsx","screens/User/UserToken/UserToken.jsx","screens/User/UserTokens/UserTokens.jsx","screens/User/UserRoles/UserRolesListItem.jsx","screens/User/UserRoles/UserRolesList.jsx","screens/User/User.jsx","screens/User/Users.jsx","screens/WorkflowApproval/shared/WorkflowApprovalStatus.jsx","screens/WorkflowApproval/WorkflowApprovalList/WorkflowApprovalListItem.jsx","screens/WorkflowApproval/WorkflowApprovalList/WorkflowApprovalListApproveButton.jsx","screens/WorkflowApproval/WorkflowApprovalList/WorkflowApprovalListDenyButton.jsx","screens/WorkflowApproval/WorkflowApprovalList/WorkflowApprovalList.jsx","screens/WorkflowApproval/WorkflowApprovalList/index.js","screens/WorkflowApproval/WorkflowApprovalList/useWsWorkflowApprovals.js","screens/WorkflowApproval/WorkflowApprovalDetail/WorkflowApprovalDetail.jsx","screens/WorkflowApproval/WorkflowApprovalDetail/index.js","screens/WorkflowApproval/WorkflowApproval.jsx","screens/WorkflowApproval/WorkflowApprovals.jsx","routeConfig.js","App.jsx","index.jsx"],"names":["module","exports","languageData","plurals","n","ord","messages","About","Access","Add","Administration","Admins","Applications","a","Authentication","Cancel","Close","Collapse","Created","Credentials","Dashboard","Delete","Description","Details","Edit","Expand","Failure","First","Help","Info","Integrations","Inventories","Jobs","Last","License","Logout","Members","Modified","Name","Next","Notifications","Organizations","Page","Pagination","Password","Previous","Projects","Resources","Save","Schedules","Search","Select","Selected","Settings","Sort","Successful","System","Team","Teams","Templates","User","Username","Users","Views","items","pages","s","String","split","v0","t0","Number","n10","slice","n100","__webpack_nonce__","window","NONCE_ID","document","addEventListener","e","violation","blockedURI","documentURI","effectiveDirective","originalPolicy","referrer","statusCode","violatedDirective","sourceFile","lineNumber","columnNumber","xhr","XMLHttpRequest","open","setRequestHeader","send","JSON","stringify","JOB_TYPE_URL_SEGMENTS","job","project_update","system_job","inventory_update","ad_hoc_command","workflow_job","getQSConfig","namespace","defaultParams","page","page_size","order_by","integerFields","dateFields","Error","parseQueryString","config","queryString","params","qs","replace","map","forEach","nsKey","rawValue","namespaceMatches","key","decodeURIComponent","substr","length","value","some","v","parseInt","parseValue","mergeParam","stringToObject","addDefaultsToObject","fieldname","startsWith","includes","encodeQueryString","Object","keys","sort","filter","Array","isArray","val","encodeURIComponent","join","encodeValue","encodeNonDefaultQueryString","nonNamespacedParams","paramsWithoutDefaults","removeParams","namespaceParams","namespaced","oldParams","paramsToRemove","updated","removeParam","oldVal","deleteVal","reduce","index","indexOf","splice","mergeParams","newParams","merged","newVal","arr","deduped","Set","dedupeArray","concat","replaceParams","updateStorage","func","interval","timeout","args","clearTimeout","setTimeout","debounce","localStorage","setItem","dispatchEvent","Event","defaultHttp","axios","create","xsrfCookieName","xsrfHeaderName","paramsSerializer","interceptors","response","use","headers","timeoutDate","Date","getTime","Base","http","baseURL","this","baseUrl","data","post","id","delete","get","options","put","patch","ActivityStream","RelaunchMixin","parent","AdHocCommands","appId","Auth","Config","read","bind","CredentialInputSources","CredentialTypes","acceptableKinds","pageSize","next","results","nextResults","type","kind","readAccessList","readAccessOptions","readInputSources","requestCounter","fetchInputSources","pageNo","inputSources","Promise","resolve","reject","Groups","associateHost","createHost","readAllHosts","disassociateHost","hostId","host","disassociate","childId","Hosts","readFacts","readAllGroups","readGroupsOptions","associateGroup","disassociateGroup","groupId","group","InstanceGroups","associateInstance","disassociateInstance","readInstanceOptions","readInstances","readJobs","instanceGroupId","instanceId","Instances","InstanceGroupsMixin","resourceId","readHosts","readHostDetail","readGroups","promoteGroup","inventoryId","sourceId","values","InventoryScripts","NotificationsMixin","notificationId","notificationType","associateNotificationTemplatesApprovals","associateNotificationTemplatesStarted","associateNotificationTemplatesSuccess","associateNotificationTemplatesError","disassociateNotificationTemplatesApprovals","disassociateNotificationTemplatesStarted","disassociateNotificationTemplatesSuccess","disassociateNotificationTemplatesError","LaunchUpdateMixin","SchedulesMixin","InventorySources","createSyncStart","destroyGroups","destroyHosts","extraVars","extra_vars","InventoryUpdates","createSyncCancel","JobTemplates","launch","readLaunch","associateLabel","disassociateLabel","readCredentials","readWebhookKey","label","orgId","name","organization","credentialId","survey","getBaseURL","endpoint","Labels","Me","NotificationTemplates","ProjectUpdates","readInventories","readPlaybooks","readSync","sync","Roles","roleId","userId","teamId","Root","redirectURL","username","password","redirect","loginUrl","un","pw","category","SystemJobs","Tokens","UnifiedJobTemplates","UnifiedJobs","WorkflowApprovals","WorkflowApprovalTemplates","WorkflowJobTemplateNodes","idToAssociate","idToDissociate","WorkflowJobTemplates","WorkflowJobs","ActivityStreamAPI","AdHocCommandsAPI","ApplicationsAPI","AuthAPI","ConfigAPI","CredentialInputSourcesAPI","CredentialTypesAPI","CredentialsAPI","DashboardAPI","GroupsAPI","HostsAPI","InstanceGroupsAPI","InstancesAPI","InventoriesAPI","InventorySourcesAPI","InventoryUpdatesAPI","JobTemplatesAPI","JobsAPI","LabelsAPI","MeAPI","NotificationTemplatesAPI","NotificationsAPI","OrganizationsAPI","ProjectUpdatesAPI","ProjectsAPI","RolesAPI","RootAPI","SchedulesAPI","SettingsAPI","SystemJobsAPI","TeamsAPI","TokensAPI","UnifiedJobTemplatesAPI","UnifiedJobsAPI","UsersAPI","WorkflowApprovalsAPI","WorkflowApprovalTemplatesAPI","WorkflowJobTemplateNodesAPI","WorkflowJobTemplatesAPI","WorkflowJobsAPI","ConfigContext","React","createContext","ConfigProvider","Provider","Consumer","useConfig","useContext","isAuthenticated","cookie","parsed","pop","shift","ansible_version","version","isOpen","onClose","i18n","speechBubble","text","top","bottom","i","createSpeechBubble","AboutModal","productName","trademark","_","brandImageSrc","brandLogoImg","brandImageAlt","TextContent","TextList","component","TextListItem","defaultProps","withI18n","Header","styled","div","title","variant","children","props","i18nHash","variantIcons","danger","size","error","info","success","warning","customHeader","Title","headingLevel","Modal","header","aria-label","aria-labelledby","Boolean","Card","PFCard","CardBody","PFCardBody","Expandable","PFExpandable","useState","isExpanded","setIsExpanded","toggleText","onToggle","prototype","hasOwnProperty","call","message","detail","acc","currentValue","getErrorMessage","method","toUpperCase","url","status","m","renderNetworkError","stack","BrandImg","img","BrandLogo","src","NavExpandableGroup","routes","navItemPaths","path","isActiveGroup","isActivePath","history","matchPath","location","pathname","groupTitle","NavItem","itemId","isActive","to","NavExpandable","Component","withRouter","PageHeaderToolbar","isAboutDisabled","onAboutClick","onLogoutClick","loggedInUser","isHelpOpen","setIsHelpOpen","isUserOpen","setIsUserOpen","PageHeaderTools","PageHeaderToolsGroup","position","content","PageHeaderToolsItem","Dropdown","isPlain","DropdownPosition","right","onSelect","toggle","DropdownToggle","dropdownItems","DropdownItem","target","href","isDisabled","onClick","style","marginLeft","MAX_TIMEOUT","PageHeader","PFPageHeader","AppContainer","navRouteConfig","useHistory","useLocation","setConfig","configError","setConfigError","isAboutModalOpen","setIsAboutModalOpen","isReady","setIsReady","sessionTimeoutId","useRef","sessionIntervalId","getItem","storageVal","setStorageVal","useStorage","sessionTimeout","setSessionTimeout","timeoutWarning","setTimeoutWarning","timeRemaining","setTimeRemaining","handleSessionTimeout","handleLogout","useCallback","logout","useEffect","calcRemaining","current","clearInterval","Math","min","SESSION_WARNING_DURATION","setInterval","all","me","loadConfig","showNavToggle","logo","logoProps","headerTools","sidebar","PageSidebar","theme","nav","Nav","NavList","isManagedSidebar","showClose","actions","Button","max","floor","BackgroundImage","ContentError","isNotFound","is404","is401","EmptyState","EmptyStateIcon","icon","ExclamationTriangleIcon","EmptyStateBody","NotFound","PageSection","useRequest","makeRequest","initialValue","result","setResult","setError","isLoading","setIsLoading","isMounted","request","setValue","useDismissableError","showError","setShowError","dismissError","useDeleteItems","qsConfig","allItemsSelected","fetchItems","requestError","deleteItems","search","push","deletionError","clearDeletionError","LoginPage","PFLoginPage","alt","readAssetVariables","custom_logo","custom_login_info","BRAND_NAME","authData","logoSrc","brandName","loginInfo","socialAuthOptions","isCustomLoginInfoLoading","customLoginInfoError","fetchCustomLoginInfo","loginInfoError","dismissLoginInfoError","helperText","login","isAuthenticating","authenticationError","authenticate","authError","dismissAuthError","handleSubmit","brandImgSrc","brandImgAlt","loginTitle","textContent","socialMediaLoginContent","authKey","login_url","LoginMainFooterLinksItem","samlIDP","initialValues","onSubmit","formik","LoginForm","className","isLoginButtonDisabled","isValidPassword","isValidUsername","loginButtonLabel","onChangePassword","setFieldValue","onChangeUsername","onLoginButtonClick","passwordLabel","passwordValue","showHelperText","usernameLabel","usernameValue","getLanguage","languages","language","userLanguage","PFButton","ToolbarItem","PFToolbarItem","ExpandCollapse","isCompact","onCompact","onExpand","Role","shape","descendent_roles","arrayOf","string","role","number","isRequired","description","user_capabilities","unattach","bool","Organization","email","first_name","last_name","is_superuser","is_system_auditor","created","last_login","ldap_dn","related","summary_fields","direct_access","indirect_access","custom_virtualenv","max_hosts","object_roles","modified","JobTemplate","inventory","job_type","oneOf","playbook","project","Inventory","groups_with_active_failures","has_active_failures","has_inventory_sources","hosts_with_active_failures","inventory_sources_with_failures","organization_id","total_groups","total_hosts","total_inventory_sources","InstanceGroup","Instance","Label","Credential","cloud","Project","credential","last_job","last_update","created_by","modified_by","objectOf","scm_type","scm_url","scm_branch","scm_refspec","scm_clean","scm_delete_on_update","scm_update_on_launch","scm_update_cache_timeout","allow_override","Job","started","finished","job_template","instance_group","credentials","labels","count","scm_revision","limit","oneOfType","verbosity","execution_mode","job_slice_number","job_slice_count","artifacts","last_job_host_summary","groups","recent_jobs","enabled","instance_id","variables","expires","scope","SurveyQuestion","exact","isDefault","isBoolean","booleanLabels","true","false","rrule","extra_data","job_tags","skip_tags","diff_mode","unified_job_template","dtstart","dtend","next_run","timezone","until","question_name","question_description","required","variable","default","choices","CredentialType","spec","inputs","NotificationType","WorkflowApproval","notification_type","failed","canceled_on","elapsed","job_explanation","can_approve_or_deny","approval_expiration","timed_out","AdvancedGroup","AdvancedSearch","onSearch","searchableKeys","relatedSearchableKeys","allKeys","isPrefixDropdownOpen","setIsPrefixDropdownOpen","isLookupDropdownOpen","setIsLookupDropdownOpen","isKeyDropdownOpen","setIsKeyDropdownOpen","prefixSelection","setPrefixSelection","lookupSelection","setLookupSelection","keySelection","setKeySelection","searchValue","setSearchValue","handleAdvancedSearch","preventDefault","actualSearchKey","actualPrefix","SelectVariant","typeahead","typeAheadAriaLabel","event","selection","onClear","selections","placeholderText","maxHeight","noResultsFoundText","SelectOption","isCreatable","onCreateOption","optionKey","InputGroup","TextInput","onChange","onKeyDown","ButtonVariant","control","NoOptionDropdown","columns","onReplaceSearch","onRemove","onShowAdvancedSearch","isSearchDropdownOpen","setIsSearchDropdownOpen","defaultColumn","col","searchKey","setSearchKey","isFilterDropdownOpen","setIsFilterDropdownOpen","handleSearch","handleTextKeyDown","getLabelFromValue","colKey","currentSearchColumn","find","toString","chipsByKey","queryParams","queryParamsByKey","chips","paramsArr","defaultParamsKeys","filterDefaultParams","columnKey","keyToCheck","node","getChipsByKey","searchColumnName","searchOptions","ToolbarGroup","single","innerText","ouiaId","ToolbarFilter","deleteChip","unusedKey","chip","categoryName","showToolbarItem","checkbox","actualValue","checked","handleFilterDropdownSelect","optionLabel","inputId","field","val2","leftoverKey","sortKey","sortOrder","isNumeric","onSort","isSortDropdownOpen","setIsSortDropdownOpen","handleDropdownToggle","up","defaultSortedColumn","SortIcon","sortedColumnName","sortDropdownItems","SortNumericDownIcon","SortNumericDownAltIcon","SortAlphaDownIcon","SortAlphaDownAltIcon","direction","KebabifiedContext","KebabifiedProvider","useKebabifiedMenu","DataListToolbar","itemCount","clearAllFilters","searchColumns","sortColumns","showSelectAll","isAllSelected","onSelectAll","additionalControls","pagination","showExpandCollapse","isKebabOpen","setIsKebabOpen","isKebabModalOpen","setIsKebabModalOpen","isAdvancedSearchShown","setIsAdvancedSearchShown","Toolbar","collapseListedFiltersBreakpoint","clearFiltersButtonText","ToolbarContent","Checkbox","isChecked","ToolbarToggleGroup","toggleIcon","breakpoint","shown","isKebabified","onKebabModalChange","KebabToggle","EmptyStateControlsWrapper","ListHeader","handleReplaceSearch","handleSort","handleRemove","handleRemoveAll","pushHistoryState","oldParamsClone","order","encodedParams","emptyStateControls","renderToolbar","isEmpty","CubesIcon","PFEmptyState","ContentLoading","Spinner","AWXPagination","PFPagination","perPageOptions","css","titles","itemsPerPage","perPageSuffix","toFirstPage","toPreviousPage","toLastPage","toNextPage","optionsToggle","currPage","paginationTitle","dropDirection","DropdownDirection","UpdatingContent","LoadingSpinner","PaginatedTable","Content","contentError","hasContentLoading","headerRow","renderRow","toolbarSearchColumns","toolbarSearchableKeys","toolbarRelatedSearchableKeys","pluralizedItemName","showPageSizeOptions","handleSetPage","pageNumber","handleSetPageSize","dataListLabel","emptyContentMessage","emptyContentTitle","TableComposable","Tbody","ToolbarPagination","perPage","onSetPage","onPerPageSelect","ActionsGrid","repeat","numActions","ActionsTd","width","Children","child","cloneElement","column","displayName","Th","PFTh","HeaderRow","sortBy","Thead","Tr","columnIndex","HeaderCell","ActionItem","tooltip","visible","prependZeros","padStart","formatDateString","dateString","lang","navigator","toLocaleString","formatDateStringUTC","timeZone","secondsToHHMMSS","seconds","toISOString","timeOfDay","date","hour","getHours","minute","getMinutes","second","getSeconds","dateToInputDateTime","dateObj","year","getFullYear","month","getMonth","day","getDate","getRRuleDayConstants","dayString","RRule","SU","MO","TU","WE","TH","FR","SA","stacked","TextListVariants","dl","PopoverButton","button","Popover","ariaLabel","maxWidth","rest","bodyContent","headerContent","hideOnOutsideClick","data-cy","aria-haspopup","noVerticalAlign","DetailName","fullWidth","DetailValue","isEncrypted","isNotConfigured","Detail","dataCy","alwaysVisible","helpText","labelCy","valueCy","TextListItemVariants","dt","dd","_Detail","UserDateDetail","user","dateStr","DetailBadge","Badge","isRead","Value","ArrayDetail","vals","CodeMirror","ReactCodeMirror","fullHeight","rows","hasErrors","readOnly","placeholder","CodeMirrorInput","mode","isInitialized","setIsInitialized","onBeforeChange","editor","smartIndent","lineNumbers","lineWrapping","CodeMirrorField","validate","useField","meta","helpers","isValid","touched","FormGroup","fieldId","helperTextInvalid","validated","labelIcon","Group","ButtonGroup","SmallButton","MultiButtonToggle","buttons","buttonValue","buttonLabel","newValue","yamlToJson","yamlString","yaml","safeLoad","jsonToYaml","jsonString","trim","parse","entries","safeDump","isJsonObject","isJsonString","parseVariableField","variableField","JSON_MODE","getValueAsMode","VariablesDetail","setMode","setCurrentValue","Split","hasGutter","SplitItem","newMode","err","SplitItemRight","VariablesInput","onError","defaultValue","isControlled","htmlFor","aria-live","FormField","tooltipMaxWidth","TextArea","resizeOrientation","CheckboxField","PasswordInput","autocomplete","inputType","setInputType","autoComplete","undefined","PasswordField","FormColumnLayout","FormFullWidthLayout","FormCheckboxLayout","SubFormLayout","parseFieldErrors","obj","formValues","fieldErrors","formErrors","FormSubmitError","errorMessage","setErrorMessage","useFormikContext","setErrors","formError","console","sortErrorMessages","Alert","isInline","msg","ArrayTextField","FieldHeader","StyledCheckboxField","VariablesField","promptId","streamItem","setIsOpen","setting","changeRows","changes","gutter","timestamp","buildAnchor","resource","activity","operation","inventory_id","object1_pk","jt_id","workflow_job_template","wfjt_id","system_job_template","wfjt_name","reverse","workflow_approval","workflow_approval_template","getPastTense","item","test","isGroupRelationship","object1","object2","buildLabeledLink","link","labeledLinks","object_association","object_type","role_field","operationText","x","labelId","actor","buildUser","Td","dataLabel","light","PageSectionVariants","isTypeDropdownOpen","setIsTypeDropdownOpen","urlParams","URLSearchParams","activityStreamType","typeParams","or__object1__in","or__object2__in","QS_CONFIG","readOptions","actionsResponse","related_search_fields","GET","filterable","fetchActivityStream","display","justifyContent","hidden","set","urlParamsToAdd","searchParams","isGrouped","SelectGroup","toolbarSortColumns","PFDataListCell","DataListCell","DetailWrapper","PaginatedDataListItem","DataListItem","DataListItemRow","DataListItemCells","dataListCells","PaginatedDataList","onRowClick","renderItem","DataList","onSelectDataListItem","match","handleListItemSelect","WarningMessage","ToolbarDeleteButton","itemsToDelete","onDelete","warningMessage","cannotDelete","isModalOpen","setIsModalOpen","toggleModal","modalTitle","itemsUnableToDelete","renderTooltip","ToolbarAddButton","linkTo","defaultLabel","showToggleIndicator","Link","iconPosition","useSelected","list","selected","setSelected","handleSelect","row","prevState","DataListAction","_DataListAction","b","application","isSelected","detailUrl","DataListCheck","edit","useRouteMatch","applications","fetchApplications","destroy","deleteLoading","deleteApplications","handleDeleteApplications","canAdd","POST","isNaN","maxLength","minLength","minMaxValue","requiredEmail","noWhiteSpace","integer","str","isInteger","combine","validators","regExp","RegExp","FormActionGroup","onCancel","submitDisabled","ActionGroup","useAutoPopulateLookup","populateLookupField","isFirst","numChips","totalChips","expandedText","collapsedText","PFSplit","SplitLabelItem","SelectedList","displayKey","isReadOnly","renderChip","renderItemChip","removeItem","Chip","canDelete","CheckboxListItem","isRadio","onDeselect","CheckboxRadio","Radio","disabled","ModalList","OptionsList","optionCount","multiple","selectItem","deselectItem","fillWidth","reducer","state","action","selectedItems","findIndex","closeModal","initReducer","assertCorrectValueType","ChipHolder","Lookup","onBlur","renderOptionsList","useReducer","dispatch","clearQSParams","parts","ns","otherParts","param","OrganizationLookup","autoPopulate","autoPopulateLookup","organizations","fetchOrganizations","sortedColumnKey","AnsibleSelect","FormSelect","option","FormSelectOption","ApplicationFormFields","authorizationOptions","clientTypeOptions","organizationField","organizationMeta","organizationHelpers","authorizationTypeField","authorizationTypeMeta","authorizationTypeHelpers","clientTypeField","clientTypeMeta","clientTypeHelpers","onOrganizationChange","setTouched","endsWith","submitError","authorization_grant_type","redirect_uris","client_type","Form","TabbedCardBody","CardActionsWrapper","CardActionsRow","CardActions","ApplicationAdd","onSuccessfulAdd","setSubmitError","authChoices","clientChoices","authorization","choice","clientType","fetchOptions","ApplicationEdit","useParams","update","onConfirm","getAuthorizationGrantType","client_id","getClientType","toTitleCase","toLowerCase","word","charAt","token","readTokens","readTokenOptions","modifiedResults","tokens","fetchTokens","tokenId","handleDelete","RoutedTabs","tabsArray","Tabs","activeKey","tab","subpathMatch","getActiveTabId","eventKey","Tab","TabTitleText","setBreadcrumb","readDetail","fetchApplication","cardHeader","from","ActualTitle","titleElement","breadcrumbConfig","isExact","Crumb","showDivider","crumb","crumbElement","BreadcrumbItem","streamType","oneCrumbMatch","strict","isOnlyOneCrumb","alignItems","Breadcrumb","minHeight","ApplicationAlert","applicationModalSource","setApplicationModalSource","setBreadcrumbConfig","buildBreadcrumbConfig","app","client_secret","ClipboardCopy","ClipboardCopyVariant","expansion","SelectableItem","Indicator","Contents","p","SelectableCard","onKeyPress","tabIndex","Wizard","QS_Config","SelectResourceStep","selectedLabel","selectedResourceRows","resources","readResourceList","CheckboxWrapper","PFCheckbox","CheckboxCard","fontWeight","RolesStep","onRolesClick","roles","selectedListKey","selectedListLabel","selectedRoleRows","gridTemplateColumns","gap","marginTop","readUsers","assign","readUsersOptions","readTeams","readTeamsOptions","AddResourceRole","onSave","selectedResource","setSelectedResource","setSelectedResourceRows","setSelectedRoleRows","currentStepId","setCurrentStepId","maxEnabledStep","setMaxEnabledStep","handleResourceCheckboxClick","selectedIndex","selectedRow","handleResourceSelect","resourceType","handleWizardSave","roleRequests","j","associateRole","selectableRoles","user_only","userSearchColumns","userSortColumns","teamSearchColumns","teamSortColumns","wizardTitle","steps","flexWrap","marginBottom","enableNext","canJumpTo","SelectRoleStep","nextButtonText","currentStep","step","overflow","onNext","onGoToStep","handleWizardGoToStep","backButtonText","cancelButtonText","DeleteRoleConfirmationModal","isTeamRole","team_id","team_name","PFDataListItemCells","accessRecord","onRoleDelete","teamRoles","userRoles","getRoleLists","Text","TextVariants","h6","apiModel","deletionRecord","setDeletionRecord","deletionRole","setDeletionRole","showAddModal","setShowAddModal","showDeleteModal","setShowDeleteModal","accessRecords","fetchAccessRecords","disassociateRole","isDeleteLoading","deleteRole","record","vault_id","buildCredentialName","PluginInputMetadata","PluginFieldText","credential_type","credentialTypeInputs","managed_by_tower","loadedInputSources","fields","managedByTower","inputSourcesMap","inputSource","input_field_name","fetchDetails","deleteCredential","ask_at_runtime","source_credential","metadata","List","ListItem","renderDetail","BecomeMethodField","fieldOptions","setOptions","becomeMethodField","help_text","SelectedCredential","SpacedCredentialChip","CredentialChip","PluginHelpText","CredentialPluginSelected","onEditPlugin","onClearPlugin","FieldWithPrompt","promptName","aria-hidden","credential_type__kind","selectedCredential","selectedCredentialHelper","credentialsError","isCredentialsLoading","fetchCredentials","form","inputValues","credential_type_id","requiredFields","fetchMetadataOptions","multiline","CredentialPluginWizard","testPluginSuccess","testPluginError","testPluginMetadata","CustomFooter","WizardFooter","WizardContext","activeStep","onBack","footer","credentialName","successResponse","errorResponse","CredentialPluginPrompt","CredentialPluginInput","showPluginWizard","setShowPluginWizard","inputField","passwordPromptField","CredentialPluginField","CredentialPluginTestAlert","testMessage","setTestMessage","testVariant","setTestVariant","errorCode","errorStr","errorJSON","errors","AlertGroup","isToast","actionClose","AlertActionCloseButton","FileUpload","PFFileUpload","CredentialInput","credentialKind","fileName","setFileName","fileIsUploading","setFileIsUploading","subFormField","filename","onReadStarted","onReadFinished","allowEditingUploadedText","secret","passwordInput","CredentialField","credentialType","formikValues","passwordPrompts","selectOptions","fileError","setFileError","setFilename","file","setFile","inputsUsernameHelpers","inputsProjectHelpers","inputsSSHKeyDataHelpers","filenamePlaceholder","fileText","fileJSON","client_email","project_id","private_key","dropzoneProps","accept","onDropRejected","TypeInputsSubForm","stringFields","booleanFields","ExternalTestModal","credentialFormValues","payload","filteredInputs","handleTest","proptype","CredentialFormFields","credentialTypes","credTypeField","credTypeMeta","credTypeHelpers","isGalaxyCredential","orgField","orgMeta","orgHelpers","credentialTypeOptions","newCredentialType","setFieldTouched","CredentialForm","showExternalTestModal","setShowExternalTestModal","handleCancel","object","CredentialEdit","setCredentialTypes","setInputSources","credentialTypesMap","inputSourceMap","remainingValues","nonPluginInputs","pluginInputs","input","createAndUpdateInputSources","fieldName","fieldValue","target_credential","destroyInputSources","modifiedData","submitRequest","loadedCredentialTypes","loadData","setCredential","setContentError","setHasContentLoading","fetchData","showCardHeader","CredentialAdd","newCredentialId","CopyButton","copyItem","onCopyStart","onCopyFinish","copyError","copyItemToAPI","setIsDisabled","canEdit","copyCredential","copy","handleCopyStart","handleCopyFinish","creds","credActions","searchKeys","credentialCount","deleteCredentials","handleSelectAll","CredentialTypeFormFields","CredentialTypeForm","injectors","CredentialTypeAdd","CredentialTypeListItem","responseActions","credentialTypesCount","fetchCredentialTypes","deleteCredentialTypes","deleteCredentialType","CredentialTypeEdit","detailsUrl","mergeExtraVars","vars","getSurveyValues","surveyValues","inventories","fetchInventories","AlertText","ExclamationCircleIcon","PFExclamationCircleIcon","trigger","useInventoryStep","launchConfig","visitedSteps","getStep","getInitialValues","hasError","ask_inventory_on_launch","selectedType","setSelectedType","loadAllTypes","loadedTypes","types","typesError","isTypesLoading","fetchTypes","isVault","o","newItems","hasSameVaultID","useCredentialsStep","ask_credential_on_launch","vaultsThatPrompt","showcredentialPasswordSsh","showcredentialPasswordPrivilegeEscalation","showcredentialPasswordPrivateKeyPassphrase","passwords_needed_to_start","vaultId","become_password","ssh_key_unlock","vault_password","launchConfigCredential","defaults","defaultCred","passwords_needed","vaultPasswordIds","passwordNeeded","vaultPassword","credId","isValueMissing","useCredentialPasswordsStep","showStep","setFieldError","credential_passwords","ssh_password","checkForError","credentialValueKey","setPasswordFieldError","selectedCredentials","TagMultiSelect","stringToArray","renderOptions","opts","typeaheadMulti","toggleValue","arrayToString","onFilter","matches","addToStringToObjects","JobTypeField","VerbosityField","ShowChangesToggle","Switch","labelOff","TagField","ask_job_type_on_launch","ask_limit_on_launch","ask_scm_branch_on_launch","ask_verbosity_on_launch","ask_diff_mode_on_launch","ask_tags_on_launch","ask_skip_tags_on_launch","ask_variables_on_launch","useOtherPromptsStep","shouldShowPrompt","getVariablesData","TextField","question","NumberField","MultipleChoiceField","opt","MultiSelectField","isrequired","hasActualValue","surveyConfig","fieldTypes","textarea","multiplechoice","multiselect","float","Field","useSurveyStep","survey_enabled","isTextField","errMessage","validateSurveyField","local_path","optionsList","project_base_dir","group_by","instance_filters","overwrite","overwrite_vars","source","source_regions","source_vars","source_path","update_cache_timeout","update_on_launch","update_on_project_update","VERBOSITY","0","1","2","3","4","source_project","cred","region","Pulse","keyframes","Wrapper","WhiteTop","WhiteBottom","RunningJob","WaitingJob","FinishedJob","SuccessfulTop","SuccessfulBottom","FailedTop","FailedBottom","UnreachableTop","UnreachableBottom","ChangedTop","ChangedBottom","SkippedTop","SkippedBottom","StatusIcon","data-job-status","Sparkline","jobs","generateTooltip","statusIcons","allow_simultaneous","become_enabled","forks","host_config_key","instance_groups","use_fact_cache","webhook_key","webhook_service","inventoryKind","recentJobs","callback","origin","webhook_receiver","webhook_credential","ig","jobTag","skipTag","PromptHeader","h2","formatTimeout","minutes","buildResourceLink","inventory_source","PromptDetail","overrides","details","defaultConfig","clonedResource","keyToOmit","omitOverrides","nodeType","launchData","hasOverrides","unified_job_type","ErrorMessageWrapper","initialExtraVars","masked","passwordKeys","maskPasswords","q","usePreviewStep","showCredentialPasswordsStep","credentialPasswordStepRequired","PromptModalForm","visited","setVisited","resetForm","pfSteps","stepsAreReady","cur","newFormValues","formikValueKey","formikCredentialPasswords","credentialPasswordValueKey","stepWithError","validateStep","stepId","visitStep","prevStepId","visitAllSteps","credentialPasswords","other","preview","useLaunchSteps","postValues","c","nextStep","prevStep","prevId","onLaunch","LaunchButton","showLaunchPrompt","launchError","handleLaunch","launchWithParams","handleRelaunch","handleLaunchErrorClose","handlePromptErrorClose","setState","readSurvey","can_start_without_user_input","variables_needed_to_start","jobPromise","relaunch","readRelaunch","readLaunchUpdate","relaunchConfig","launchUpdate","showTypeColumn","jobTypes","management_job","isFilled","start","cannotCancelBecausePermissions","cannotCancelBecauseNotRunning","JobListCancelButton","jobsToCancel","numJobsToCancel","zeroOrOneJobSelected","cancelJobText","cannotCancelPermissions","cannotCancelNotRunning","numJobsUnableToCancel","useWebsocket","subscribeGroups","lastMessage","setLastMessage","ws","WebSocket","protocol","connect","xrftoken","onopen","onmessage","onclose","debug","onerror","close","useThrottle","throttledValue","setThrottledValue","lastRan","now","handler","sortFns","created_by__id","nameA","nameB","unified_job_template__project__id","sortJobs","fn","useWsJobs","initialJobs","fetchJobsById","setJobs","jobsToFetch","setJobsToFetch","throttledJobsToFetch","schedules","newJobs","deduplicated","unified_job_id","jobId","updateJob","ids","not__launch_type","fetchJobs","id__in","cancel","cancelJobsError","isCancelLoading","cancelJobs","cancelError","dismissCancelError","deleteJobs","handleJobCancel","handleJobDelete","Tooltip","handleMouseOver","d","fail","total","d3","pageX","svg","getBoundingClientRect","y","pageY","formatTooltipDate","toolTipWidth","toolTipBase","chartWidth","flipped","RAN","FAIL","TOTAL","DATE","jobsWidth","getComputedTextLength","successful","successTextWidth","failTextWidth","adjustedWidth","maxTextPerc","boxWidth","overage","boundingBox","attr","toolTipPoint","circleGreen","circleRed","successText","failText","interrupt","handleMouseOut","transition","delay","colors","draw","append","textWidthThreshold","height","isNavOpen","pageContext","margin","remove","getWidth","duration","attrTween","tweenDash","l","getTotalLength","rangeRound","range","ChartTooltip","parseTime","formattedData","formatted","largestY","a_max","b_max","domain","nice","ticks","successLine","curve","failLine","defined","tickSize","tickFormat","selectAll","maxTicks","round","select","tickValues","vertical","handleMouseMove","intersectX","cx","baseVal","dateFormat","enter","on","handleResize","removeEventListener","CountCard","CountLink","Count","isHoverable","useWsTemplates","initialTemplates","templates","setTemplates","t","unified_job_template_id","template","unshift","updateTemplate","element","contains","ref","fetchTemplates","copyTemplate","missingResourceIcon","responses","jtActions","wfjtActions","deleteTemplates","handleTemplateDelete","canAddJT","canAddWFJT","addTemplate","addWFTemplate","addButton","Counts","MainPageSection","GraphCardHeader","CardHeader","GraphCardActions","isPeriodDropdownOpen","setIsPeriodDropdownOpen","isJobTypeDropdownOpen","setIsJobTypeDropdownOpen","periodSelection","setPeriodSelection","jobTypeSelection","setJobTypeSelection","activeTabId","setActiveTabId","readJobGraph","period","dataFromCount","newData","dateSecs","jobData","jobGraphData","countData","fetchDashboardGraph","hosts","inventory_failed","projects","isEnabled","setIsEnabled","toggleHost","parsedQueryStrings","nonDefaultSearchParams","hasNonDefaultSearchParams","fetchHosts","deleteHosts","handleHostDelete","h","InstanceGroupsLookup","instanceGroups","fetchInstanceGroups","role_level","InventoryLookup","isPromptableField","isOverrideDisabled","ProjectLookup","fetchProjects","loadCredentials","selectedCredentialTypeId","MultiCredentialsLookup","credentialsCount","CredentialLookup","credentialTypeId","credentialTypeKind","credentialTypeNamespace","typeIdParams","typeKindParams","typeNamespaceParams","credential_type__namespace","ApplicationLookup","toSearchParams","k","toHostFilter","flatMap","HostFilterLookup","organizationId","setChips","setQueryString","useModal","buildSearchColumns","inventory__organization","qsToHostFilter","withoutNamespace","clonedObj","newObj","removeNamespacedKeys","defaultKeys","removeDefaultParams","filters","toQueryString","inputGroupChips","parsedKey","chipsArray","buildChips","handleOpenModal","handleClose","renderLookup","hostFilterString","InventoryLookupField","setInventory","inventoryMeta","inventoryHelpers","HostForm","isInventoryVisible","HostAdd","setFormError","formData","factsObj","facts","fetchFacts","setIsloading","setDeletionError","recentPlaybookJobs","HostEdit","onAssociate","fetchRequest","optionsRequest","handleSave","ModalNote","DisassociateButton","itemsToDisassociate","modalNote","onDisassociate","verifyCannotDisassociate","cannotDisassociate","itemsUnableToDisassociate","hostname","editUrl","invId","fetchGroups","isDisassociateLoading","disassociateHosts","disassociateError","handleDisassociate","fetchGroupsToAssociate","not__hosts","fetchGroupsOptions","groupsToAssociate","handleAssociate","associateError","fetchHost","job__hosts","InstanceGroupFormFields","instanceGroupNameField","InstanceGroupForm","instanceGroup","policy_instance_minimum","policy_instance_percentage","InstanceGroupAdd","_DataListCell","PFBadge","ListGroup","span","Unavailable","InstanceGroupListItem","isContainerGroup","is_containerized","is_isolated","is_controller","jobs_running","jobs_total","instances","capacity","Progress","percent_capacity_remaining","measureLocation","ProgressMeasureLocation","ProgressSize","sm","usedCapacity","instanceGroupsCount","modifiedSelected","clonedItem","modifyInstanceGroups","deleteInstanceGroups","errorMessageDelete","addContainerGroup","addInstanceGroup","deleteInstanceGroup","InstanceGroupEdit","fetchInstances","instance","toggleInstance","InstanceListItem","managed_by_policy","disassociateInstances","instancesToAssociate","fetchInstancesToAssociate","not__rampart_groups__id","ContainerGroupFormFields","credentialField","credentialMeta","credentialHelpers","overrideField","onCredentialChange","ContainerGroupForm","initialPodSpec","isCheckboxChecked","pod_spec_override","override","ContainerGroupAdd","fetchError","fetchInitialPodSpec","color","ContainerGroupEdit","detailsIUrl","useWsInventories","initialInventories","fetchInventoriesById","setInventories","inventoriesToFetch","setInventoriesToFetch","throttledInventoriesToFetch","newInventories","group_name","updatedInventory","pending_deletion","isSourceSyncRunning","Spin","RunningIcon","SyncAltIcon","running","pending","waiting","canceled","icons","CheckCircleIcon","ClockIcon","MinusCircleIcon","StatusLabel","Icon","rowIndex","copyInventory","syncStatus","team","deleteInventories","handleInventoryDelete","addInventory","addSmartInventory","numItemsToDelete","readInstanceGroups","instanceGroupsError","deleteInventory","userCapabilities","InventoryFormFields","instanceGroupsField","instanceGroupsHelpers","insightsCredentialField","InventoryForm","insights_credential","getAddedAndRemoved","original","added","removed","orig","InventoryEdit","associatedInstanceGroups","setInstanceGroups","contentLoading","setContentLoading","setCredentialTypeId","loadedInstanceGroups","loadedCredentialTypeId","associatePromises","associateInstanceGroup","disassociatePromises","disassociateInstanceGroup","inventoryGroup","li","InventoryGroupsDeleteModal","onAfterDelete","radioOption","setRadioOption","setIsDeleteLoading","InventoryGroupHostAdd","onEnableLaunch","TooltipWrapper","verbosityOptions","moduleOptions","moduleNameField","moduleNameMeta","moduleNameHelpers","variablesField","diffModeField","diffModeHelpers","becomeEnabledField","becomeEnabledHelpers","verbosityField","verbosityMeta","verbosityHelpers","argumentsRequired","argumentsMeta","argumentsHelpers","placeHolder","rel","FormikApp","withFormik","mapPropsToValues","adHocItems","module_args","module_name","onCloseWizard","enableLaunch","setEnableLaunch","propTypes","PropTypes","array","hasListItems","isWizardOpen","setIsWizardOpen","readAdHocOptions","isAdHocDisabled","launchAdHocCommands","isLaunchLoading","newCredential","manipulatedValues","onDismissError","readHostsOptions","hostCount","disassociateErr","fetchHostsToAssociate","not__groups","fetchHostsOptions","hostsToAssociate","dismissAssociateError","dismissDisassociateError","addFormUrl","addExistingHost","addNewHost","InventoryGroupHosts","setAssociateError","setDisassociateError","readChildren","fetchRelated","readPotentialGroups","not__id","not__parents","selectedGroups","associateChildGroup","disassociateGroups","disassociateChildGroup","addExistingGroup","addNewGroup","InventoryRelatedGroupAdd","associateInventoryGroup","prevGroupId","InventoryRelatedGroups","setInventoryGroup","groupOptions","groupCount","InventoryGroupAdd","InventoryHostEdit","hostGroupOptions","hostListUrl","InventoryHostAdd","hostsUrl","hostOptions","handleDeleteHosts","toolbarColumns","isSortable","isSearchable","InventoryHosts","OccurrencesLabel","ScheduleOccurrences","local","utc","schedule","toggleSchedule","PromptTitle","pathRoot","deleteSchedule","promises","createPreview","schedulePreview","readContentError","fetchCredentialsAndPreview","rule","rrulestr","repeatFrequency","freq","MINUTELY","toText","showPromptedFields","buildRuleObj","startDateTime","startDate","startTime","startYear","startMonth","startDay","startHour","startMinute","startSecond","ruleObj","UTC","tzid","frequency","HOURLY","DAILY","WEEKLY","byweekday","daysOfWeek","MONTHLY","runOn","bymonthday","runOnDayNumber","bysetpos","runOnTheOccurrence","runOnTheDay","YEARLY","bymonth","runOnDayMonth","runOnTheMonth","end","occurrences","endDateTime","endDate","endTime","endYear","endMonth","endDay","endHour","endMinute","endSecond","RunOnRadio","RunEveryLabel","_Checkbox","requiredPositiveInteger","daysOfWeekMeta","daysOfWeekHelpers","endMeta","intervalMeta","runOnMeta","endDateTimeMeta","monthOptions","updateDaysOfWeek","newDaysOfWeek","selectedDay","intervalValue","getRunEveryLabel","generateRunOnTheDay","days","every","ScheduleFormFields","zoneOptions","startDateTimeMeta","timezoneMeta","frequencyMeta","ScheduleForm","rruleError","closestQuarterHour","ceil","tomorrow","setDate","overriddenValues","fromString","origOptions","readZoneInfo","zone","loadZoneInfo","ScheduleEdit","formSubmitError","setFormSubmitError","scheduleId","unifiedJobTemplate","setSchedule","ScheduleAdd","createSchedule","scheduleBaseUrl","jobTypeLabels","ScheduleList","loadSchedules","loadScheduleOptions","hideAddButton","scheduleActions","fetchSchedules","InventorySourceSyncButton","startSyncLoading","startSyncError","startSyncProcess","current_update","cancelSyncLoading","cancelSyncError","cancelSyncProcess","startError","dismissStartError","inventorySource","enabled_var","enabled_value","host_filter","sourceChoices","fetchSourceChoices","SourceVarsField","popoverContent","OptionsField","showProjectUpdate","updateOnLaunchField","updateCacheTimeoutHelper","EnabledVarField","EnabledValueField","HostFilterField","autoPopulateCredential","handleCredentialUpdate","autoPopulateProject","projectField","projectMeta","projectHelpers","sourcePathField","sourcePathMeta","sourcePathHelpers","projectId","sourcePathError","fetchSourcePath","sourcePath","handleProjectUpdate","InventorySourceFormFields","sourceOptions","sourceField","sourceMeta","custom_virtualenvs","venvField","defaultVenv","sourceType","source_script","resetSubFormFields","azure_rm","ec2","gce","openstack","rhv","satellite6","scm","tower","vmware","InventorySourceForm","isSourceOptionsLoading","sourceOptionsError","fetchSourceOptions","InventorySourceEdit","remainingForm","sourceProject","NotificationListItem","canToggleNotifications","notification","approvalsTurnedOn","startedTurnedOn","successTurnedOn","errorTurnedOn","toggleNotification","typeLabels","showApprovalsToggle","NotificationList","loadingToggleIds","setLoadingToggleIds","toggleError","setToggleError","notificationsResults","notificationsCount","notifType","idMatchParams","readNotificationTemplatesStarted","readNotificationTemplatesSuccess","readNotificationTemplatesError","startedTemplates","successTemplates","errorTemplates","rtnObj","notifications","startedTemplateIds","st","successTemplateIds","su","errorTemplateIds","readNotificationTemplatesApprovals","approvalsTemplates","approvalsTemplateIds","fetchNotificationsResults","fetchNotifications","handleNotificationToggle","isCurrentlyOn","disassociateNotificationTemplate","associateNotificationTemplate","sourceListUrl","readSourceDetail","notifAdminRes","isNotifAdmin","fetchSource","readSchedules","readScheduleOptions","InventorySourceAdd","useWsInventorySources","initialSources","sources","setSources","inventory_source_id","last_updated","updateSource","not__source","inventoryType","readSources","sourceCount","sourceChoicesOptions","fetchSources","canSyncSources","syncAllSources","isSyncAllLoading","syncAllError","syncAll","handleDeleteSources","syncError","deleteRelatedInventoryResources","flat","deleteRelatedResourcesLoading","deleteRelatedResourcesError","handleDeleteRelatedResources","listUrl","scMatch","scLabel","hasInventoryLoading","or__job__inventory","or__adhoccommand__inventory","or__inventoryupdate__inventory_source__inventory","or__workflowjob__inventory","igData","deleteError","SmartInventoryFormFields","hostFilterField","hostFilterMeta","hostFilterHelpers","SmartInventoryForm","hostFilterFromParams","optionsError","SmartInventoryEdit","groupsToDisassociate","submitResult","addedIds","removedIds","adhoc","SmartInventoryHosts","fetchInventory","InventoryAdd","SmartInventoryAdd","initScreenHeader","setScreenHeader","nestedObject","setNestedGroup","passedInventory","passedNestedObject","passedSchedule","inventoryPath","inventoryHostsPath","inventoryGroupsPath","inventorySourcesPath","_VariablesInput","StatusDetailValue","jobTemplate","workflowJobTemplate","errorMsg","setErrorMsg","createdBy","relatedSchedule","getLaunchedByDetails","launchedByValue","launchedByLink","deleteJob","execution_node","BarWrapper","BarSegment","TooltipContent","counts","noData","hostStatus","ok","skipped","changed","failures","dark","barSegments","isClickable","JobEventLineNumber","JobEventLineText","BadgeGroup","OUTPUT_NO_COUNT_JOB_TYPES","hideCounts","playCount","playbook_counts","play_count","taskCount","task_count","darkCount","host_status_counts","failureCount","totalHostCount","sum","sec_num","hours","stampHours","stampMinutes","stampSeconds","toHHMMSS","stdout","JobEvent","counter","lineTextHtml","onJobEventClick","html","JobEventLine","JobEventLineToggle","dangerouslySetInnerHTML","__html","JobEventSkeletonContent","contentLength","JobEventSkeleton","onScrollFirst","onScrollLast","onScrollNext","onScrollPrevious","entities","AllHtmlEntities","HostNameDetailValue","processCodeMirrorValue","encode","HostEventModal","hostEvent","setHostStatus","activeTabKey","setActiveTabKey","processEventStatus","jsonObj","event_data","res","stdErr","stderr","stdOut","taskAction","processStdOutValue","host_name","play","task","task_action","cmd","TIME_EVENTS","ansi","Ansi","stream","5","6","7","8","9","10","11","12","13","14","15","styleAttrPattern","createStyleAttrHash","styleAttr","hash","charCodeAt","getLineTextHtml","start_line","sanitized","lineCssMap","lineText","hasAnsi","allStyleAttrs","cssMap","cssClassName","replaceStyleAttrs","toHtml","time","dateHours","dateMinutes","dateSeconds","getTimestamp","HeaderTitle","OutputHeader","OutputWrapper","OutputFooter","low","high","numbers","JobOutput","listRef","createRef","currentlyLoading","remoteRowCount","isHostModalOpen","cache","CellMeasurerCache","fixedWidth","defaultHeight","_isMounted","loadJobEvents","handleDeleteJob","rowRenderer","handleHostEventClick","handleHostModalClose","handleScrollFirst","handleScrollLast","handleScrollNext","handleScrollPrevious","isRowLoaded","loadMoreRows","scrollToRow","monitorJobSocketCounter","connectJobSocket","onMessage","eventGroup","jobSocketCounter","final_counter","prevProps","shouldRecomputeRowHeights","clear","recomputeRowHeights","loadRange","readEvents","newResults","jobEvent","actualLineTextHtml","isHostEvent","startIndex","stopIndex","counter__gte","counter__lte","then","Grid","_renderedRowStartIndex","scrollRange","_renderedRowStopIndex","_previousWidth","clearAll","rowCount","onRowsRendered","registerChild","nonce","onResize","deferredMeasurementCache","rowHeight","scrollToAlignment","overscanRowCount","WorkflowDispatchContext","WorkflowStateContext","normalizeY","nodePositions","constants","getScaleAndOffsetToFit","gBoundingClientRect","svgBoundingClientRect","gBBoxDimensions","currentScale","scaleToFit","yTranslate","scaleNeededForMaxHeight","scaleNeededForMaxWidth","lowerScale","generateLine","points","line","getLinePoints","sourceX","sourceY","targetX","targetY","getLinkOverlayPoints","slope","yIntercept","sqrt","layoutGraph","nodes","links","g","dagre","Graph","setGraph","rankdir","nodesep","ranksep","setDefaultEdgeLabel","setNode","setEdge","getTranslatePointsForZoom","currentScaleAndOffset","newScale","origScale","unscaledOffsetX","unscaledOffsetY","addLinkSourceNode","addLinkTargetNode","addNodeSource","addNodeTarget","addingLink","linkToDelete","linkToEdit","nextNodeId","nodeToDelete","nodeToEdit","nodeToView","showDeleteAllNodesModal","showLegend","showTools","showUnsavedChangesModal","unsavedChanges","visualizerReducer","linkType","newLinks","newNodes","isInvalidLinkTarget","createLink","fullUnifiedJobTemplate","nodeResource","promptValues","linkToCompare","createNode","cancelLink","isDeleted","deleteAllNodes","isConvergenceLink","deleteLink","nodeId","parents","linkParentMapping","removeLinksFromDeletedNode","parentId","addLinksFromParentsToChildren","deleteNode","workflowNodes","allNodeIds","chartNodeIdToIndexMapping","nodeIdToChartNodeIdMapping","nodeIdCounter","arrayOfNodesForChart","workflowMakerNodeId","nodeObj","originalNodeObject","generateNodes","arrayOfLinksForChart","nonRootNodeIds","sourceIndex","success_nodes","targetIndex","failure_nodes","always_nodes","generateLinks","uniqueNonRootNodeIds","rootNodeId","generateNodesAndLinks","sourceNode","parentMap","invalidLinkTargetIds","getAncestors","ancestorId","selectSourceForLinking","sourceNodeId","targetNodeId","existingLink","startDeleteLink","toggleDeleteAllNodesModal","toggleLegend","toggleTools","toggleUnsavedChangesModal","updateLink","editedNode","matchingNode","isEdited","updateNode","refreshedNode","originalNodeCredentials","refreshNode","WorkflowOutputLink","mouseEnter","mouseLeave","hovering","setHovering","pathD","setPathD","pathStroke","setPathStroke","linePoints","onMouseEnter","parentNode","appendChild","onMouseLeave","prepend","fill","opacity","stroke","strokeWidth","TooltipContents","TooltipArrow","TooltipArrowOuter","TooltipArrowInner","TooltipActions","WorkflowActionTooltip","pointX","pointY","tipHeight","TooltipItem","WorkflowActionTooltipItem","Outer","Inner","WorkflowHelp","Legend","ul","NodeTypeLetter","StyledExclamationTriangleIcon","SuccessLink","FailureLink","AlwaysLink","TimesIcon","GridDL","ResourceDeleted","jobStatus","CenteredPauseIcon","PauseIcon","WorkflowNodeTypeLetter","nodeTypeLetter","StartG","ignorePointerEvents","WorkflowStartNode","onUpdateHelpText","showActionTooltip","transform","wfConstants","rx","ry","dy","Pan","PanCenter","Tools","onFitGraph","onPan","onPanToMiddle","onZoomChange","zoomPercentage","zoomOut","zoomIn","NodeG","JobTopLine","Elapsed","NodeContents","NodeDefaultLabel","jobName","borderColor","WorkflowOutputGraph","linkHelp","setLinkHelp","nodeHelp","setNodeHelp","setZoomPercentage","svgRef","gRef","handleFitGraph","getBBox","zoomRef","translate","scale","scaleExtent","translation","xPos","yPos","translateX","translateY","ToolbarJob","ToolbarActions","ActionButton","StatusIconWithMargin","totalNodes","fetchWorkflowNodes","readNodes","useWsWorkflowOutput","workflowJobId","initialNodes","setNodes","refreshedNodes","updatedNodeObjects","updatedNodeObjectsMap","refreshNodeObjects","workflow_job_id","workflow_node_id","workflowReducer","newNodePositions","updatedNodes","useWsJob","initialJob","setJob","fetchJob","JobTypeRedirect","view","loadJob","TypeRedirect","NOTIFICATION_TYPES","grafana","irc","mattermost","pagerduty","rocketchat","slack","twilio","webhook","recentNotifications","recent_notifications","latestStatus","setStatus","isCopyDisabled","setIsCopyDisabled","pollForStatusChange","retries","sendTestNotification","NotificationTemplateList","addUrl","isTemplatesLoading","TypeFields","optionsField","optionsMeta","methodField","methodMeta","Fields","defaultMessages","useCustomField","useCustomHelpers","showMessages","showBodies","mountedRef","defs","resetFields","body","approved","denied","hasCustomMessages","isCustomized","defaultMessage","typeFieldNames","initialConfigValues","NotificationTemplateFormFields","typeField","typeMeta","NotificationTemplateForm","emailOptions","notification_configuration","use_ssl","mergeDefaultMessages","templ","def","useCustomMessages","stripped","use_tls","normalizeTypeFields","nullIfDefault","nonDefaultMessages","normalizeMessageFields","normalizeFields","NotificationTemplateAdd","fetchDefaultMessages","contextTypes","CodeDetail","CustomMessageDetails","NotificationTemplateDetail","configuration","deleteTemplate","typeMessageDefaults","recipients","sender","port","grafana_url","dashboardId","panelId","annotation_tags","grafana_no_verify_ssl","server","nickname","targets","mattermost_url","mattermost_username","mattermost_channel","mattermost_icon_url","mattermost_no_verify_ssl","subdomain","service_key","client_name","rocketchat_url","rocketchat_username","rocketchat_icon_url","rocketchat_no_verify_ssl","channels","hex_color","from_number","to_numbers","account_sid","disable_ssl_verification","http_method","NotificationTemplateEdit","templateId","fetchTemplate","tabs","updateBreadcrumbConfig","disable","related_field_counts","users","teams","orgs","orgActions","organizationCount","isOrgsLoading","deleteOrganizations","handleOrgDelete","OrganizationFormFields","license_info","galaxyCredentialsField","galaxyCredentialsMeta","galaxyCredentialsHelpers","license_type","MAX_SAFE_INTEGER","OrganizationForm","initialInstanceGroups","setInitialInstanceGroups","galaxy_credentials","OrganizationAdd","associateGalaxyCredential","deleteOrganization","OrganizationEdit","addedCredentials","removedCredentials","addedCredentialIds","removedCredentialIds","disassociateGalaxyCredential","fetchTeams","initialUpdate","readGalaxyCredentials","credentialsRes","organizationLoading","organizationError","loadOrganization","auditorRes","adminRes","isAuditorOfThisOrg","isAdminOfThisOrg","rolesLoading","rolesError","loadRoles","canSeeNotificationsTab","breadcrumb","ClipboardCopyButton","handleCopyClick","stringToCopy","switchDelay","timer","copied","clipboard","currentTarget","parentElement","el","createElement","execCommand","removeChild","clipboardCopyFunc","copyTip","entryDelay","exitDelay","copiedSuccessTip","handleSync","isDetailsView","copyProject","substring","initialProjects","setProjects","updatedProject","useWsProjects","deleteProjects","handleProjectDelete","UrlFormField","BranchFormField","ScmCredentialFormField","onCredentialSelection","typeId","ScmTypeOptions","scmUpdateOnLaunch","hideAllowOverride","credMeta","credHelpers","localPath","project_local_paths","localPaths","pathField","pathMeta","pathHelpers","scmCredentialType","insightsCredentialType","insights","ProjectFormFields","setCredentials","scmTypeOptions","setScmSubFormState","scmSubFormState","scmFormFields","scmTypeField","scmTypeMeta","scmTypeHelpers","resetScmTypeFields","currentScmFormFields","saveSubFormState","handleCredentialSelection","manual","git","svn","archive","datum","ProjectForm","setScmTypeOptions","credentialResponse","base_dir","ProjectAdd","deleteProject","ProjectEdit","canLaunch","jobTemplates","fetchProjectAndRoles","nested","projectSchedulesPath","SettingsContext","SettingsProvider","useSettings","LoggingTestAlert","errorData","statusText","unit","onRevertAll","onRevert","ButtonWrapper","isRevertable","isMatch","revertTooltipContent","tooltipContent","isSmall","PFFormGroup","SettingGroup","BooleanField","ChoiceField","EncryptedField","InputField","min_value","MIN_SAFE_INTEGER","max_value","ObjectField","emptyDefault","defaultRevertValue","readCategory","ACTIVITY_STREAM_ENABLED","ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC","activityStream","SettingDetail","ActivityStreamEdit","PUT","updateAll","submitForm","handleRevertAll","defaultValues","azure","sortNestedDetails","nestedTypes","notNested","booleanList","nestedList","pluck","sourceObject","formatJson","AzureADEdit","mergedData","fetchAzureAD","SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP","SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP","SOCIAL_AUTH_AZUREAD_OAUTH2_KEY","SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET","gitHubDefault","gitHubOrganization","gitHubTeam","gitHubDetails","GitHubEdit","fetchGithub","github","SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP","SOCIAL_AUTH_GITHUB_TEAM_MAP","SOCIAL_AUTH_GITHUB_KEY","SOCIAL_AUTH_GITHUB_SECRET","GitHubOrgEdit","SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP","SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP","SOCIAL_AUTH_GITHUB_ORG_KEY","SOCIAL_AUTH_GITHUB_ORG_SECRET","SOCIAL_AUTH_GITHUB_ORG_NAME","GitHubTeamEdit","SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP","SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP","SOCIAL_AUTH_GITHUB_TEAM_KEY","SOCIAL_AUTH_GITHUB_TEAM_SECRET","SOCIAL_AUTH_GITHUB_TEAM_ID","baseRoute","categoryRoute","googleOAuth2","GoogleOAuth2Edit","fetchGoogleOAuth2","SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS","SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS","SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP","SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP","SOCIAL_AUTH_GOOGLE_OAUTH2_KEY","SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET","ALLOW_JINJA_IN_EXTRA_VARS","AWX_ISOLATED_KEY_GENERATION","AWX_ISOLATED_PRIVATE_KEY","AWX_ISOLATED_PUBLIC_KEY","STDOUT_MAX_BYTES_DISPLAY","EVENT_STDOUT_MAX_BYTES_DISPLAY","jobsData","filterByPrefix","prefix","ldap1","ldap2","ldap3","ldap4","ldap5","ldapDefault","LDAPDetails","LDAPEdit","ldapCategory","allCategories","AUTH_LDAP_1_","AUTH_LDAP_2_","AUTH_LDAP_3_","AUTH_LDAP_4_","AUTH_LDAP_5_","AUTH_LDAP_","fetchLDAP","ldap","loggingData","logging","fetchLogging","LOG_AGGREGATOR_LOGGERS","LOG_AGGREGATOR_HOST","LOG_AGGREGATOR_TYPE","createTest","testLoggingError","testLogging","testSuccess","setTestLogging","testError","dismissTestError","handleCloseAlert","LOG_AGGREGATOR_ENABLED","LOG_AGGREGATOR_PORT","LOG_AGGREGATOR_USERNAME","LOG_AGGREGATOR_PASSWORD","LOG_AGGREGATOR_INDIVIDUAL_FACTS","LOG_AGGREGATOR_PROTOCOL","LOG_AGGREGATOR_LEVEL","LOG_AGGREGATOR_TCP_TIMEOUT","LOG_AGGREGATOR_VERIFY_CERT","dirty","allOptions","OAUTH2_PROVIDER","ACCESS_TOKEN_EXPIRE_SECONDS","REFRESH_TOKEN_EXPIRE_SECONDS","AUTHORIZATION_CODE_EXPIRE_SECONDS","pluckedSystemData","systemData","OAUTH2_PROVIDER_OPTIONS","systemOptions","system","restOptions","fetchSystem","CUSTOM_VENV_PATHS","REMOTE_HOST_HEADERS","TOWER_URL_BASE","ORG_ADMINS_CAN_SEE_ALL_USERS","MANAGE_ORGANIZATION_AUTH","SESSION_COOKIE_AGE","SESSIONS_PER_USER","AUTH_BASIC_ENABLED","ALLOW_OAUTH2_FOR_EXTERNAL_USERS","LOGIN_REDIRECT_OVERRIDE","INSIGHTS_TRACKING_STATE","REDHAT_USERNAME","REDHAT_PASSWORD","AUTOMATION_ANALYTICS_URL","AUTOMATION_ANALYTICS_GATHER_INTERVAL","radius","RADIUSEdit","fetchRadius","RADIUS_SERVER","RADIUS_PORT","RADIUS_SECRET","saml","SplitLayout","_Card","_CardHeader","CardDescription","settingRoutes","CardTitle","tacacs","TACACSEdit","fetchTACACS","TACACSPLUS_HOST","TACACSPLUS_PORT","TACACSPLUS_SECRET","TACACSPLUS_SESSION_TIMEOUT","TACACSPLUS_AUTH_PROTOCOL","uiData","ui","CUSTOM_LOGO","readAllOptions","deleteTeams","handleTeamDelete","TeamFormFields","setOrganization","TeamForm","TeamAdd","deleteTeam","TeamEdit","resource_name","resource_type_display_name","getResourceAccessConfig","onFetchData","selectedResourceType","setSelectedResourceType","stepIdReached","setStepIdReached","resourcesSelected","rolesSelected","handleRoleSelect","resourceRolesTypes","rolename","roleToDisassociate","setRoleToDisassociate","readRoles","readAdminOfOrganizations","readRoleOptions","orgAdminCount","roleCount","isAdminOfOrg","fetchRoles","disassociateTeamRole","disassociationError","clearDisassociationError","resource_id","resource_type","setTeam","addDropDownButton","isLoadingInstanceGroups","deleteJobTemplate","verbosityDetails","generateCallBackUrl","renderOptionsField","inventorykind","inventoryValue","Fragment","loadLabelOptions","setLabels","LabelSelect","createText","setSelections","newOptions","syncedValue","newOpts","useSyncedSelectValue","PlaybookSelect","isDisabledData","templateType","webhookServiceField","webhookServiceMeta","webhookServiceHelpers","webhookUrlField","webhookUrlHelpers","webhookKeyField","webhookKeyMeta","webhookKeyHelpers","webhookCredentialField","webhookCredentialMeta","webhookCredentialHelpers","loadCredentialType","credTypeId","updateWebhookKey","fetchWebhookKey","webhookKeyError","changeWebhookKey","isUpdateKeyDisabled","webhookServiceOptions","JobTemplateForm","isOverrideDisabledLookup","allowCallbacks","setAllowCallbacks","enableWebhooks","setEnableWebhooks","askInventoryOnLaunchField","jobTypeField","jobTypeMeta","jobTypeHelpers","handleProjectValidation","scmField","scmHelpers","playbookField","playbookMeta","playbookHelpers","labelsField","labelsHelpers","limitField","limitMeta","limitHelpers","jobTagsField","jobTagsHelpers","skipTagsField","skipTagsHelpers","webhookUrlMeta","loadRelatedInstanceGroups","instanceGroupError","instanceGroupLoading","callbackUrl","jobTypeOptions","newCredentials","isNew","allow_callbacks","webhook_url","JobTemplateEdit","fetchProject","fetchProjectError","projectLoading","submitLabels","submitInstanceGroups","submitCredentials","disassociationPromises","associationPromises","initialGroups","disassociateCredentials","disassociatePromise","associateCredentials","associatePromise","_Button","Required","isLast","onMoveUp","onMoveDown","Stack","StackItem","_Toolbar","surveyEnabled","onToggleSurvey","isDeleteDisabled","onToggleDeleteModal","questions","isPreviewModalOpen","onToggleModalOpen","toggleSurvey","updateSurvey","deleteSurvey","isDeleteModalOpen","setIsDeleteModalOpen","setIsPreviewModalOpen","moveUp","beginning","swapWith","moveDown","deleteModal","AnswerTypeField","SurveyQuestionForm","enableReinitialize","new_question","numberValidator","dA","SurveyQuestionAdd","newSpec","SurveyQuestionEdit","questionVariable","navigateToList","questionIndex","setSurveyEnabled","fetchSurvey","loadingError","setSurvey","updatedSurvey","updateError","updateLoading","updateSurveySpec","destroySurvey","readTemplateOptions","loadTemplateAndRoles","canAddAndEditSurvey","hasTemplateLoading","job__job_template","AppendBody","ReactDOM","createPortal","urlOrigin","deleteWorkflowJobTemplate","WorkflowJobTemplateForm","hasContentError","inventoryField","WorkflowJobTemplateEdit","templatePayload","formOrgId","templateOrgId","onSaveAndExit","onExit","setLinkType","InventorySourcesList","onUpdateNodeResource","inventorySources","fetchInventorySources","JobTemplatesList","fetchJobTemplates","ProjectsList","WorkflowJobTemplatesList","workflowJobTemplates","fetchWorkflowJobTemplates","TimeoutInput","TimeoutLabel","nodeTypeField","nodeTypeHelpers","nodeResourceField","nodeResourceHelpers","approvalNameMeta","approvalNameHelpers","approvalDescriptionHelpers","timeoutMinutesField","timeoutMinutesHelpers","timeoutSecondsField","timeoutSecondsHelpers","useNodeTypeStep","approvalNameField","approvalName","approvalDescription","timeoutMinutes","timeoutSeconds","useRunTypeStep","askLinkType","getNodeToEditDefaultValues","defaultCredsWithoutOverrides","templateDefaultCred","credentialHasOverride","scheduleCred","credentialHasScheduleOverride","sourceOfValues","newExtraData","useWorkflowNodeSteps","showPreviewStep","NodeNextButton","buttonText","triggerNext","NodeModalForm","credentialError","setTriggerNext","clearQueryParams","promptSteps","handleSaveNode","NodeModalInner","workflow_job_template_data","job_template_data","readLaunchConfigs","launchConfigError","onSaveForm","getNodeType","nodeAPI","isLaunchConfigLoading","fetchLaunchConfig","relatedData","isRelatedDataLoading","relatedDataError","fetchRelatedData","LinkG","updateLinkHelp","updateHelpText","tooltipX","setTooltipX","tooltipY","setTooltipY","addNodeAction","tooltipActions","noPointerEvents","NodeResourceName","VisualizerNode","onMouseOver","updateNodeHelp","setCredentialsError","detailError","setDetailError","isAddLinkSourceNode","updatedNode","handleEditClick","handleViewClick","viewDetailsAction","PotentialLink","polyline","WorkflowSVG","setHelpText","markerHeight","markerUnits","markerWidth","orient","refX","viewBox","onMouseMove","currentTransform","rect","mouseX","clientX","left","mouseY","clientY","sourceNodeX","sourceNodeY","startX","startY","raise","drawPotentialLinkToCursor","onMouseOut","newLinkHelp","newHelpText","newNodeHelp","targetNodeX","targetNodeY","finishX","finishY","drawPotentialLinkToNode","markerEnd","strokeDasharray","StartPanel","StartPanelWrapper","hasUnsavedChanges","CenteredContent","getAggregatedCredentials","originalNodeOverride","templateDefaultCredentials","theArray","isCredentialOverriden","overrideCred","associateNodes","originalLinkMap","associateNodeRequests","associateSuccessNode","associateFailureNode","associateAlwaysNode","disassociateNodes","deletedNodeIds","linkMap","disassociateNodeRequests","successNodeId","disassociateSuccessNode","failureNodeId","disassociateFailuresNode","alwaysNodeId","disassociateAlwaysNode","nodeRequests","approvalTemplateRequests","associateCredentialRequests","disassociateCredentialRequests","generateLinkMapAndNewLinks","realLinkSourceId","realLinkTargetId","createApprovalTemplate","saveVisualizerError","saveVisualizer","nodeRequestError","dismissNodeRequestError","readWorkflowJobTemplateOptions","hasRolesandTemplateLoading","rolesAndTemplateError","FullPage","workflow_job__workflow_job_template","JobTemplateAdd","addedGroups","WorkflowJobTemplateAdd","setTemplate","passedTemplate","templatePath","schedulesPath","surveyPath","UserListItem","user_type","ldapUser","socialAuthUser","auth","fetchUsers","deleteUsers","handleUserDelete","UserFormFields","externalAccount","external_account","userTypeOptions","userTypeField","userTypeMeta","UserForm","userType","confirm_password","submitValues","UserAdd","userValues","createUser","userAuthType","deleteUser","UserOrganizationListItem","readOrganizations","orgCount","fetchOrgs","UserOrganizations","UserTeamListItem","teamCount","usersResponse","userOptions","admin_role","member_role","read_role","disassociateUserRoles","disassociateTeams","teamsToAssociate","fetchTeamsToAssociate","not__member_role__members__id","not__admin_role__members__id","readTeamOptions","UserTeams","UserTokenFormFields","applicationField","applicationMeta","applicationHelpers","scopeField","scopeMeta","scopeHelpers","UserTokenAdd","createToken","NameLabel","deleteTokens","deleteToken","fetchToken","TokenAlert","tokenModalSource","setTokenModalSource","refresh_token","disassociateUserRole","fetchUser","addUserBreadcrumb","WorkflowApprovalStatus","workflowApproval","approved_or_denied_by","StatusCell","JobLabel","workflowJob","source_workflow_job","cannotApprove","WorkflowApprovalListApproveButton","onApprove","itemsUnableToApprove","cannotDeny","WorkflowApprovalListDenyButton","onDeny","itemsUnableToDeny","WorkflowApprovalList","isWorkflowApprovalsLoading","fetchWorkflowApprovals","workflowApprovals","initialWorkflowApprovals","setWorkflowApprovals","reloadEntireList","setReloadEntireList","throttledListRefresh","useWsWorkflowApprovals","deleteWorkflowApprovals","approve","approveApprovalError","isApproveLoading","approveWorkflowApprovals","handleApprove","deny","denyApprovalError","isDenyLoading","denyWorkflowApprovals","handleDeny","actionError","dismissActionError","onSuccessfulAction","WorkflowApprovalDetail","workflowApprovalId","deleteWorkflowApproval","dismissDeleteError","approveWorkflowApproval","approveError","dismissApproveError","denyWorkflowApproval","denyError","dismissDenyError","sourceWorkflowJob","sourceWorkflowJobTemplate","fetchWorkflowApproval","getRouteConfig","screen","ManagementJobs","ProtectedRoute","App","catalogs","en","ja","Background","Login","Screen","render","StrictMode","getElementById"],"mappings":"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D,OACNlB,EAASgB,SACjBlB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASgB,QACThB,OAKNoB,EAAapnB,KACXknB,GACEN,GAAaZ,EAASC,WACtBH,GACEE,EAASxgB,eAAewgB,EAASiB,SAAS,GAC1CjB,EAASiB,QACTjB,KAINoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXlB,EAASxgB,eAAejB,KAAK,GAAGgjB,WADrB,SAEdzB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,MAKR,MAEF,IAAK,YACCe,GAAoBf,IACtBoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASgB,QACThB,KAINoB,EAAapnB,KACXknB,GAAiB,MAAD,OACRlB,EAASiB,SACfnB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASiB,QACTjB,OAKNoB,EAAapnB,KACXknB,GACEN,GAAaZ,EAASC,WACtBH,GACEE,EAASxgB,eAAewgB,EAASiB,SAAS,GAC1CjB,EAASiB,QACTjB,KAINoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXlB,EAASxgB,eAAejB,KAAK,GAAGgjB,WADrB,OAEdzB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,MASZ,MAEF,QACE,OAAQA,EAASC,WAEf,IAAK,eACCc,GAAoBf,IACtBoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASiB,SAChDnB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASiB,QACTjB,KAINoB,EAAapnB,KACXknB,GAAiB,QAAD,OACNlB,EAASgB,SACjBlB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASgB,QACThB,MAKe,+BAArBA,EAASgB,SACY,+BAArBhB,EAASiB,QAETG,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,0BAEdH,GACEE,EAASxgB,eAAewgB,EAASgB,QAAQ,IACzChB,EAASgB,QACThB,MAKNoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASiB,SAChDnB,GACEE,EAASxgB,eAAewgB,EAASiB,SAAS,GAC1CjB,EAASiB,QACTjB,KAINoB,EAAapnB,KACXknB,GAAiB,QAAD,OACNlB,EAASgB,SACjBlB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,MAKR,MAEF,IAAK,YAECe,GAAoBf,IACtBoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASgB,QACThB,KAINoB,EAAapnB,KACXknB,GAAiB,MAAD,OACRlB,EAASiB,SACfnB,GACEE,EAASxgB,eAAe7b,MAAM,GAC9Bq8B,EAASiB,QACTjB,MAKe,+BAArBA,EAASgB,SACY,+BAArBhB,EAASiB,QAETG,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,0BAEdH,GACEE,EAASxgB,eAAewgB,EAASgB,QAAQ,IACzChB,EAASgB,QACThB,MAKNoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,KAINoB,EAAapnB,KACXknB,GAAiB,MAAD,OACRlB,EAASiB,SACfnB,GACEE,EAASxgB,eAAewgB,EAASiB,SAAS,GAC1CjB,EAASiB,QACTjB,MAKR,MACF,IAAK,SACHoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GAAYE,EAASL,QAASK,EAASgB,QAAShB,KAGpD,MAEF,IAAK,SACH,GACuB,sBAArBA,EAASgB,SAC6B,KAA9B,OAARhB,QAAQ,IAARA,GAAA,UAAAA,EAAUL,eAAV,mBAAmB9uB,cAAnB,eAA2BrV,QAC3B,CACA,IAAIgmC,EAAgB,GAElBA,EADiC,eAA/BxB,EAASL,QAAQ9uB,OAAO,GACVjE,EAAKU,EAAE,iBACiB,WAA/B0yB,EAASL,QAAQ9uB,OAAO,GAE/BmvB,EAASL,QAAQ3Z,YACiB,IAAlCga,EAASL,QAAQ3Z,UAAU,GAEXpZ,EAAKU,EAAE,kBAEPV,EAAKU,EAAE,eAGTV,EAAKU,EAAE,gBAEzB8zB,EAAapnB,KACXknB,GAAiB,GAAD,OACXM,EADW,YACMxB,EAASgB,SAC7BlB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,UAKNoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GACEE,EAASxgB,eAAewgB,EAASgB,SAAS,GAC1ChB,EAASgB,QACThB,KAKR,MACF,IAAK,SACHoB,EAAapnB,KACXknB,GAAiB,GAAD,OACXN,GAAaZ,EAASC,WADX,YACyBD,EAASgB,SAChDlB,GAAYE,EAASL,QAASK,EAASgB,QAAShB,OAS5D,MAAOtD,GACP,OAAO,8BAAO9vB,EAAKU,EAAE,qCAGvB,OACE,8BACG8zB,EAAazjC,QACZ,SAAC4S,EAAKkxB,GAAN,OACU,OAARlxB,EACEkxB,EAEA,oCACGlxB,EADH,IACSkxB,KAGb,UCrgBO1zB,6BA/Cf,YAAuD,IAArBwxB,EAAoB,EAApBA,WAAY3yB,EAAQ,EAARA,KAqBtC80B,EAAO,uBAAmBnC,EAAW9+B,IACrC83B,EAjBY,SAAAsI,GAAS,IAAD,MAaxB,OAXA,OAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAMrhB,sBAAV,iBAAI,EAAsBmiB,aAA1B,aAAI,EAA6BlhC,IAE7B,kBAAC,IAAD,CAAM0R,GAAE,iBAAY0uB,EAAKrhB,eAAemiB,MAAMlhC,GAAtC,aACLogC,EAAKrhB,eAAemiB,MAAM15B,WAG1B,OAAI44B,QAAJ,IAAIA,GAAJ,UAAIA,EAAMrhB,sBAAV,aAAI,EAAsBmiB,OACxB/0B,EAAKU,EAAE,8BAAIuzB,EAAKrhB,eAAemiB,MAAM15B,YAErC2E,EAAKU,EAAE,eAMLs0B,CAAUrC,GACjB7gB,EAAc,kBAAC,GAAD,CAA2BshB,SAAUT,IAEzD,OACE,kBAAC3L,GAAA,EAAD,CAAInzB,GAAI8+B,EAAW9+B,GAAI4O,kBAAiBqyB,GACtC,kBAACG,GAAA,EAAD,MACA,kBAACA,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,cACnBiyB,EAAWM,UAAYzL,GAAiBmL,EAAWM,WAAa,IAEnE,kBAACgC,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,sBAAmBirB,GACzC,kBAACsJ,GAAA,EAAD,CAAIphC,GAAIihC,EAASI,UAAWl1B,EAAKU,EAAE,eAChCoR,GAEH,kBAACsU,GAAD,CAAW8O,UAAWl1B,EAAKU,EAAE,iBAC3B,kBAACymB,GAAD,CAAYE,SAAO,EAACD,QAASpnB,EAAKU,EAAE,4BAClC,kBAAC,GAAD,CACEiyB,WAAYA,EACZhH,KAAMA,EACN7Z,YAAaA,UCuNV3Q,I,GAAAA,yBA7Of,YAAmC,IAATnB,EAAQ,EAARA,KAChBm1B,EAAUC,KAAVD,MAER,EAAoDlyB,oBAAS,GAA7D,mBAAOoyB,EAAP,KAA2BC,EAA3B,KACMrwB,EAAW6C,cACX/C,EAAU8C,cACV0tB,EAAY,IAAIC,gBAAgBvwB,EAASkI,QAEzCsoB,EAAqBF,EAAUxhC,IAAI,SAAW,MAEhD2hC,EAAa,GAEU,QAAvBD,IACFC,EAAa,CACXC,gBAAiBF,EACjBG,gBAAiBH,IAIrB,IAAMI,EAAYxoC,EAChB,kBACA,CACEG,KAAM,EACNC,UAAW,GACXC,SAAU,cAEZ,CAAC,KAAM,OAAQ,cAGjB,EAKIoe,GACFzC,sBAAW,sBACT,wCAAA7hB,EAAA,6DACQyG,EAASH,EAAiB+nC,EAAW5wB,EAASkI,QADtD,SAE4CvX,QAAQmU,IAAI,CACpDxN,GAAkB7H,KAAlB,2BAA4BzG,GAAWynC,IACvCn5B,GAAkBu5B,gBAJtB,0CAES9iC,EAFT,KAEmB+iC,EAFnB,uBAMS,CACL9gC,QAASjC,EAASW,KAAKsB,QACvB8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd3D,2CAiBA,CAACjxB,IAEH,CACEhQ,QAAS,GACT8gB,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA9BpB,IACEvN,OAAUhX,EADZ,EACYA,QAAS8gB,EADrB,EACqBA,MAAO0D,EAD5B,EAC4BA,sBAAuBD,EADnD,EACmDA,eAC1CoL,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACS+pB,EAJX,EAIE5pB,QA8CF,OAjBAhD,qBAAU,WACR4sB,MACC,CAACA,IAgBF,kBAAC,WAAD,KACE,kBAACtqB,GAAA,EAAD,CACErK,QAAS2zB,EACTtlB,UAAU,iBACVvI,MAAO,CAAE8uB,QAAS,OAAQC,eAAgB,kBAE1C,kBAACj0B,GAAA,EAAD,CAAON,KAAK,MAAMO,aAAa,MAC5BrC,EAAKU,EAAE,4BAEV,0BAAM7M,GAAG,yBAAyByiC,QAAM,GACrCt2B,EAAKU,EAAE,uCAEV,kBAAC5W,GAAA,EAAD,CACEu8B,MAAM,QACNhL,UAAU,QACV7Z,QAASqZ,KAAcsD,OACvB1b,kBAAgB,yBAChBoN,UAAU,qBACVxM,SAAUiyB,EACVzuB,SAAU,SAACmU,EAAOC,GACZA,GACFsa,EAAUgB,IAAI,OAAQtb,GAExBqa,GAAsB,GArCP,SAAAkB,GACvB,IAAIC,EAAe3oC,EAAiB+nC,EAAW5wB,EAASkI,QACxDspB,EAAe7kC,EAAc6kC,EAAc,CAAEjpC,KAAM,IACnD,IAAMw1B,EAAgB7yB,EAA4B0lC,EAAWY,EAAc,CACzEthC,KAAMqhC,EAAeziC,IAAI,UAE3BgR,EAAQqI,KACN4V,EAAa,UACN/d,EAASC,SADH,YACe8d,GACxB/d,EAASC,UA6BP2d,CAAiB0S,IAEnBpa,WAAYsa,EACZ31B,OAAQu1B,EACRqB,WAAS,GAET,kBAACC,GAAA,EAAD,CAAa58B,MAAOiG,EAAKU,EAAE,cAAWjS,IAAI,SACxC,kBAAC8sB,GAAA,EAAD,CAAc9sB,IAAI,eAAeI,MAAM,OACpCmR,EAAKU,EAAE,kCAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,OAAOI,MAAM,OAC5BmR,EAAKU,EAAE,sBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,YAAYI,MAAM,YACjCmR,EAAKU,EAAE,sBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,qBAAqBI,MAAM,qBAC1CmR,EAAKU,EAAE,yCAGZ,kBAACi2B,GAAA,EAAD,CAAa58B,MAAOiG,EAAKU,EAAE,kBAAejS,IAAI,aAC5C,kBAAC8sB,GAAA,EAAD,CACE9sB,IAAI,YACJI,MAAM,iEAELmR,EAAKU,EAAE,mBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,cAAcI,MAAM,cACnCmR,EAAKU,EAAE,qBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,WAAWI,MAAM,WAChCmR,EAAKU,EAAE,kBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,cAAcI,MAAM,aACnCmR,EAAKU,EAAE,qBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,QAAQI,MAAM,QAC7BmR,EAAKU,EAAE,gBAGZ,kBAACi2B,GAAA,EAAD,CAAa58B,MAAOiG,EAAKU,EAAE,eAAYjS,IAAI,UACzC,kBAAC8sB,GAAA,EAAD,CAAc9sB,IAAI,gBAAgBI,MAAM,gBACrCmR,EAAKU,EAAE,uBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,QAAQI,MAAM,QAC7BmR,EAAKU,EAAE,sBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,QAAQI,MAAM,QAC7BmR,EAAKU,EAAE,uBAGZ,kBAACi2B,GAAA,EAAD,CAAa58B,MAAOiG,EAAKU,EAAE,sBAAmBjS,IAAI,kBAChD,kBAAC8sB,GAAA,EAAD,CAAc9sB,IAAI,mBAAmBI,MAAM,mBACxCmR,EAAKU,EAAE,0BAEV,kBAAC6a,GAAA,EAAD,CACE9sB,IAAI,yBACJI,MAAM,yBAELmR,EAAKU,EAAE,gCAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,kBAAkBI,MAAM,kBACvCmR,EAAKU,EAAE,yBAEV,kBAAC6a,GAAA,EAAD,CACE9sB,IAAI,eACJI,MAAM,4CAELmR,EAAKU,EAAE,gCAGZ,kBAACi2B,GAAA,EAAD,CAAa58B,MAAOiG,EAAKU,EAAE,iBAAcjS,IAAI,YAC3C,kBAAC8sB,GAAA,EAAD,CAAc9sB,IAAI,WAAWI,MAAM,WAChCmR,EAAKU,EAAE,qBAKhB,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,EACnBzhB,MAAOsK,EACPyrB,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,eAC3BoM,SAAU+oB,EACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,gBACbjS,IAAK,SACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,gCACbjS,IAAK,+BAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,aACbjS,IAAK,aAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,oBAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BqL,UACE,kBAAC+B,GAAD,CAAW/Z,SAAU+oB,GACnB,kBAAC3O,GAAD,CAAY7H,QAAQ,aAAarf,EAAKU,EAAE,cACxC,kBAACwmB,GAAD,CAAY7H,QAAQ,mBACjBrf,EAAKU,EAAE,sBAEV,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,eACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,kBAGxBwiB,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBAAqBA,EAArB,CAA4BoL,SAAU+oB,MAExC9Q,UAAW,SAAA4N,GAAU,OACnB,kBAAC,GAAD,CAAwBA,WAAYA,a,iEChQlDkE,KAAenQ,YAAc,iBAG7B,IAAMoQ,GAAez1B,YAAOw1B,KAAPx1B,CAAH,yDAGlBy1B,GAAapQ,YAAc,eAEZoQ,I,GAAAA,MCATC,GAAgB11B,YAAOP,KAAPO,CAAH,8KAQJ,SAAS21B,GAAT,GAA0C,IAAT/C,EAAQ,EAARA,KAC9C,OACE,kBAACgD,GAAA,EAAD,CACEx0B,kBAAA,0BAAoCwxB,EAAKpgC,IACzCpF,IAAKwlC,EAAKpgC,GACVA,GAAE,UAAKogC,EAAKpgC,KAEZ,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAACsoC,GAAD,KACE,kBAAC,IAAD,CAAMxxB,GAAI,CAAEL,SAAU+uB,EAAKjwB,MACzB,uBAAGnQ,GAAE,0BAAqBogC,EAAKpgC,KAAOogC,EAAKh6B,cCN7D,SAASo9B,GAAT,GAkBI,IAqDE1S,EAtEJh6B,EAiBC,EAjBDA,MACA2sC,EAgBC,EAhBDA,WACA1S,EAeC,EAfDA,aACAC,EAcC,EAdDA,kBACA5B,EAaC,EAbDA,mBACAvC,EAYC,EAZDA,UACA5T,EAWC,EAXDA,SACAyqB,EAUC,EAVDA,WACAvS,EASC,EATDA,qBACAC,EAQC,EARDA,sBACAC,EAOC,EAPDA,6BACA0R,EAMC,EANDA,mBACAzR,EAKC,EALDA,mBACAC,EAIC,EAJDA,oBACAngB,EAGC,EAHDA,SACAjF,EAEC,EAFDA,KACAkjB,EACC,EADDA,cAEA,EAA6Bpb,cAArBqF,EAAR,EAAQA,OAAQjI,EAAhB,EAAgBA,SACVH,EAAU8C,cAMVwd,EAAgB,SAACrK,EAAOsK,GAC5B,IAAM70B,EAAY3C,EAAiBgf,EAAUK,GAC7C0V,EAAiBjxB,EAAcnB,EAAW,CAAEjD,KAAM83B,MAG9CC,EAAoB,SAACvK,EAAOjmB,EAAUvH,GAC1C,IAAMiD,EAAY3C,EAAiBgf,EAAUK,GAC7C0V,EAAiBjxB,EAAcnB,EAAW,CAAEhD,UAAWsH,EAAUvH,WAG7Dq1B,EAAmB,SAAA50B,GACvB,IAAMmC,EAAsBtC,EAAiB,GAAIiX,EAAQE,SAASkI,QAC5D6V,EAAgB7yB,EACpB2c,EACA7e,EACAmC,GAEF2U,EAAQqI,KAAK4V,EAAa,UAAM9d,EAAN,YAAkB8d,GAAkB9d,IAG1D0b,EAAgBoE,EAAqBp2B,OACvCo2B,EACA,CACE,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLyoB,WAAW,IAGb2J,EAAc+V,EAAmBhoC,OACnCgoC,EACA,CACE,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGP6uB,EAAcxvB,EAAiBgf,EAAU7H,EAASkI,QAElDqY,EAAgBxlB,EAAKU,EAAE,wCAAIykB,wBAC3BM,EAAsBzlB,EAAKU,EAC/B,oEAAeykB,wBAEXO,EAAoB1lB,EAAKU,EAAE,4CAAOykB,wBAItCR,EADEE,GAAqBl6B,EAAMiE,QAAU,EAC7B,kBAAC,GAAD,MACDg2B,EACC,kBAAC,GAAD,CAAc7iB,MAAO6iB,IACtBj6B,EAAMiE,QAAU,EAEvB,kBAAC,GAAD,CAAc2S,MAAOmkB,EAAmBjiB,QAASgiB,IAIjD,oCACGZ,GAAqB,kBAAC,GAAD,MACtB,kBAAC2S,GAAA,EAAD,CACEh1B,aAAYgjB,EACZiS,qBAAsB,SAAA5jC,GAAE,OAjEH,WAAa,IAAZA,EAAW,uDAAN,EAC3B6jC,EAAQ/sC,EAAMwyB,MAAK,SAAA8W,GAAI,OAAIA,EAAKpgC,KAAO3I,OAAO2I,MACpDyjC,EAAWI,GA+DuBC,CAAqB9jC,KAEhDlJ,EAAMyD,IAAImpC,KAMnB,IAAM1R,EACJ,kBAAC,GAAD,CACE1U,WAAS,EACTmT,cAAc,OACd5D,UAAWA,EACXlzB,KAAM8vB,EAAY9vB,MAAQ,EAC1Bs4B,QAASxI,EAAY7vB,UACrBi2B,eACE0B,EACI,CACE,CAAE7jB,MAAO,IAAK1S,MAAO,GACrB,CAAE0S,MAAO,KAAM1S,MAAO,IACtB,CAAE0S,MAAO,KAAM1S,MAAO,IACtB,CAAE0S,MAAO,KAAM1S,MAAO,KAExB,GAENk3B,UAAWV,EACXW,gBAAiBT,IAIrB,OACE,kBAAC,WAAD,KACE,kBAAC,GAAD,CACE7E,UAAWA,EACXwC,cAAeA,EACfD,mBAAoBA,EACpBrC,cAAeA,EACfC,YAAaA,EACbrH,eAAgByL,EAChBxL,sBAAuByL,EACvBpY,SAAUA,EACVoU,WAAY2E,IAEblB,EACAh6B,EAAMiE,OACL,kBAAC,GAAD,CACE4S,QAAQ,SACRkf,UAAWA,EACXlzB,KAAM8vB,EAAY9vB,MAAQ,EAC1Bs4B,QAASxI,EAAY7vB,UACrBi2B,eACE0B,EACI,CACE,CAAE7jB,MAAO,IAAK1S,MAAO,GACrB,CAAE0S,MAAO,KAAM1S,MAAO,IACtB,CAAE0S,MAAO,KAAM1S,MAAO,IACtB,CAAE0S,MAAO,KAAM1S,MAAO,KAExB,GAENk3B,UAAWV,EACXW,gBAAiBT,IAEjB,MA4BV8R,GAAkBn2B,aAAe,CAC/B2jB,mBAAmB,EACnBD,aAAc,KACdI,qBAAsB,GACtBC,sBAAuB,GACvBC,6BAA8B,GAC9B0R,mBAAoB,GACpBzR,mBAAoB,QACpBC,qBAAqB,EACrBmS,WAAY,SAAAtD,GAAI,OAAI,kBAAC+C,GAAD,CAAuBvoC,IAAKwlC,EAAKpgC,GAAIogC,KAAMA,KAC/D/Q,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAoBA,IAC7C41B,WAAY,kBAAM,OAILn2B,I,GAAAA,wBAAWuE,YAAW2xB,KCxM/BO,GAAiBv2B,YAAO8wB,KAAP9wB,CAAH,mDA6CpB,SAASw2B,GAAT,GAQI,IAPFC,EAOC,EAPDA,cACA3S,EAMC,EANDA,mBACAyM,EAKC,EALDA,aACAmG,EAIC,EAJDA,SACAC,EAGC,EAHDA,eACAh4B,EAEC,EAFDA,KACAi4B,EACC,EADDA,aAEA,EAA6C34B,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBACtB,EAAsCpf,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KAOMC,EAAc,WAClBD,GAAgBD,IAGlB3uB,qBAAU,WACJ6Y,GACFC,EAAmB6V,KAEpB,CAAC9V,EAAc8V,EAAa7V,IAE/B,IAsBMgW,EAAar4B,EAAKU,EAAE,2CAAWykB,wBAE/B/d,EACqB,IAAzB0wB,EAAclpC,QAAgBkpC,EAAchpC,KAAKmpC,GAKnD,OACE,oCACG7V,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,MACJ2Y,WAAYA,EACZpG,UAAU,SACVqG,QAAS+wB,GAERp4B,EAAKU,EAAE,sBAGV,kBAAC,KAAD,CAAS6F,QA1CO,WACpB,IAAM+xB,EAAsBR,EACzBloC,OAAOqoC,GACP7pC,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,MAAQg6B,EAAK54B,YAC9BpL,KAAK,MACR,OAAI6nC,EAAchpC,KAAKmpC,GAEnB,6BACGrG,EAAahjC,OAAS,EAAtB,UACMgjC,EADN,aACuB0G,GACpBt4B,EAAKU,EACH,yFAAUykB,qBAAuBmT,0BAKzCR,EAAclpC,OACToR,EAAKU,EAAE,qBAETV,EAAKU,EAAE,iCAuBQ63B,GAAiBjyB,SAAS,OAC1C,6BACE,kBAACyE,EAAA,EAAD,CACEvJ,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS+wB,EACThxB,WAAYA,GAEXpH,EAAKU,EAAE,wBAKfw3B,GACC,kBAAC,GAAD,CACE12B,QAAQ,SACRD,MAAO82B,EACPv4B,OAAQo4B,EACRn4B,QAASq4B,EACTttB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,iCACnB2G,QAjFS,WACnB0wB,IACAK,MAiFWp4B,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,iCACnB2G,QAAS+wB,GAERp4B,EAAKU,EAAE,wBAIZ,6BAAMV,EAAKU,EAAE,gDACZo3B,EAAc1pC,KAAI,SAAA6lC,GAAI,OACrB,0BAAMxlC,IAAKwlC,EAAKpgC,IACd,gCAASogC,EAAKh6B,MAAQg6B,EAAK54B,UAC3B,iCAGH28B,GACC,kBAACJ,GAAD,CAAgBp2B,QAAQ,UAAU4wB,UAAQ,EAAC7wB,MAAOy2B,MAiB9DH,GAAoB32B,aAAe,CACjCikB,mBAAoB,QACpByM,aAAc,GACdoG,eAAgB,KAChBC,aAAc,SAAAhE,GAAI,OAAKA,EAAKrhB,eAAeb,kBAAkBje,SAGhDqN,4BAAW02B,I,qBCjM1B,SAASW,GAAT,GAOI,IANFC,EAMC,EANDA,OACApxB,EAKC,EALDA,QACArH,EAIC,EAJDA,KACAoH,EAGC,EAHDA,WAGC,IAFDsxB,oBAEC,MAFc14B,EAAKU,EAAE,qBAErB,EADDi4B,EACC,EADDA,oBAEQvW,EAAiB5B,KAAjB4B,aAER,IAAKqW,IAAWpxB,EACd,MAAM,IAAIxZ,MACR,+DAIJ,OAAIu0B,EAEA,kBAACnb,GAAA,EAAD,CACExY,IAAI,MACJ2Y,WAAYA,EACZpG,UAAWy3B,EAASG,IAAO,SAC3BrzB,GAAIkzB,EACJpxB,QAAUA,QAAU2pB,GAEnB0H,GAIHD,EAEA,kBAAC,KAAD,CAASlyB,QAASmyB,EAAcpyB,SAAS,OACvC,kBAACyE,EAAA,EAAD,CACE3D,WAAYA,EACZpG,UAAW43B,IACXrzB,GAAIkzB,EACJj3B,QAAQ,UACRgB,aAAYk2B,GAEXA,IAMP,kBAAC3tB,EAAA,EAAD,CACEU,KAAMktB,EAAsB,kBAAC,KAAD,MAAoB,KAChDE,aAAcF,EAAsB,QAAU,KAC9Cn3B,QAAQ,UACRgB,aAAYk2B,EACZrxB,QAASA,GAERqxB,GAQPF,GAAiBt3B,aAAe,CAC9Bu3B,OAAQ,KACRpxB,QAAS,MAGIlG,4BAAWq3B,IC7DX,SAASM,KAAwB,IAAZC,EAAW,uDAAJ,GACzC,EAAgC91B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACMlY,EAAgBiY,EAASpqC,OAAS,GAAKoqC,EAASpqC,SAAWmqC,EAAKnqC,OAEhEsqC,EAAe,SAAAC,GACfH,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,GAAY,SAAAG,GAAS,mBAAQA,EAAUxpC,QAAO,SAAAyQ,GAAC,OAAIA,EAAExM,KAAOslC,EAAItlC,UAEhEolC,GAAY,SAAAG,GAAS,4BAAQA,GAAR,CAAmBD,QAI5C,MAAO,CAAEH,WAAUjY,gBAAemY,eAAcD,e,2CCJ5CI,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,2HAOdgT,GAAQhT,IAAOk4B,EAAV,qDAmFIp4B,6BA/Ef,YAMI,IALFq4B,EAKC,EALDA,YACAC,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA6yB,EAEC,EAFDA,UACA15B,EACC,EADDA,KAEM80B,EAAO,uBAAmB0E,EAAY3lC,IAC5C,OACE,kBAACojC,GAAA,EAAD,CACExoC,IAAK+qC,EAAY3lC,GACjB4O,kBAAiBqyB,EACjBjhC,GAAE,UAAK2lC,EAAY3lC,KAEnB,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,6BAAwB2lC,EAAY3lC,IACtCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CACE3oC,IAAI,UACJ+T,aAAYxC,EAAKU,EAAE,0BAEnB,kBAAC,IAAD,CAAM6E,GAAE,UAAKm0B,IACX,2BAAIF,EAAYv/B,QAGpB,kBAAC,GAAD,CACExL,IAAI,eACJ+T,aAAYxC,EAAKU,EAAE,2BAEnB,kBAAC,IAAD,CACE6E,GAAE,yBAAoBi0B,EAAY5mB,eAAe1Y,aAAarG,KAE9D,2BAAI2lC,EAAY5mB,eAAe1Y,aAAaD,QAGhD,kBAAC,GAAD,CAAcxL,IAAI,WAAW+T,aAAYxC,EAAKU,EAAE,uBAC9C,kBAAC,GAAD,KAAQV,EAAKU,EAAE,8CACf,8BAAO8mB,GAAiBgS,EAAYtmB,eAI1C,kBAAC,GAAD,CACE1Q,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEH0E,EAAY5mB,eAAeb,kBAAkB6nB,KAC5C,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,wBAAmBi0B,EAAY3lC,GAA/B,UAEF,kBAAC,KAAD,QAIJ,SC3ENgiC,GAAYxoC,EAAY,eAAgB,CAC5CG,KAAM,EACNC,UAAW,GACXC,SAAU,SAkLGyT,6BAhLf,YAAqC,IAATnB,EAAQ,EAARA,KACpBiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAWI/tB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAGgCvX,QAAQmU,IAAI,CACpDtN,GAAgB/H,KAAKzG,GACrBwO,GAAgBq5B,gBALR,0CAGH9iC,EAHG,KAGO+iC,EAHP,uBAQH,CACL+D,aAAc9mC,EAASW,KAAKsB,QAC5ByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAjB/C,2CAmBT,CAACjxB,IACJ,CACE60B,aAAc,GACdpZ,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApClBpN,EADF,EACEA,UACArK,EAFF,EAEEA,MACSg4B,EAHX,EAGExtB,QAHF,IAIEN,OACE6tB,EALJ,EAKIA,aACApZ,EANJ,EAMIA,UACA5V,EAPJ,EAOIA,QACA2O,EARJ,EAQIA,sBACAD,EATJ,EASIA,eAgCJjQ,qBAAU,WACRwwB,MACC,CAACA,IAEJ,MAA+DjB,GAC7DgB,GADMd,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAY4I,GAAgBu9B,QAAQnmC,SACnE,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY+sB,IAXHE,EADb,EACE7tB,UACAiB,EAFF,EAEEA,cACa6sB,EAHf,EAGEhtB,YACAI,EAJF,EAIEA,mBAYI6sB,EAAwB,uCAAG,sBAAA3yC,EAAA,sEACzB0yC,IADyB,OAE/BjB,EAAY,IAFmB,2CAAH,qDAKxBmB,EAAStvB,GAAWA,EAAQuvB,KAElC,OACE,oCACE,kBAACxuB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAc7iB,EACd8iB,kBAAmBzY,GAAa6tB,EAChCtvC,MAAOmvC,EACPpZ,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,2BAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,gBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,gBAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOK,GAAgB,KAE/ChtB,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,IARY,CAShB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUoC,EACVrC,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,6BAKnC62B,WAAY,SAAAiC,GAAW,OACrB,kBAAC,GAAD,CACE/qC,IAAK+qC,EAAY3lC,GACjBhF,MAAO2qC,EAAYv/B,KACnBu/B,YAAaA,EACbE,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBw1B,EAAY3lC,GAA9B,YACTgT,SAAU,kBAAMqyB,EAAaM,IAC7BC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAO2lC,EAAY3lC,SAG5DovB,mBACEmX,GACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,cAM5C,kBAAC,GAAD,CACElE,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,mDACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,WCnMrB,SAAS+K,GAAS3U,EAASzD,GAChC,IAAM4xB,EAAenuB,GAAWzD,EAAKU,EAAE,qCACvC,OAAO,SAAA7R,GACL,MAAqB,kBAAVA,GAAuBA,EAAMggC,OAGnB,kBAAVhgC,GAAuB3D,OAAOovC,MAAMzrC,GAG1CA,OAAL,EACS+iC,OAJT,EAFSA,GAYN,SAAS2I,GAAUvvB,EAAKhL,GAC7B,OAAO,SAAAnR,GACL,GAAIA,EAAMggC,OAAOjgC,OAASoc,EACxB,OAAOhL,EAAKU,EAAE,0DAA+BsK,UAM5C,SAASwvB,GAAU5wB,EAAK5J,GAC7B,OAAO,SAAAnR,GACL,GAAIA,EAAMggC,OAAOjgC,OAASgb,EACxB,OAAO5J,EAAKU,EAAE,2DAAgCkJ,UAM7C,SAAS6wB,GAAY7wB,EAAKoB,EAAKhL,GACpC,OAAO,SAAAnR,GACL,GAAIA,EAAQ+a,GAAO/a,EAAQmc,EACzB,OAAOhL,EAAKU,EACV,mFAAyDkJ,MAAWoB,UAOrE,SAAS0vB,GAAc16B,GAC5B,OAAO,SAAAnR,GACL,OAAKA,EAGA,4CAA4CqlC,KAAKrlC,QAAtD,EACSmR,EAAKU,EAAE,8BAHPV,EAAKU,EAAE,sCASb,SAASi6B,GAAa36B,GAC3B,OAAO,SAAAnR,GACL,GAAI,KAAKqlC,KAAKrlC,GACZ,OAAOmR,EAAKU,EAAE,4CAMb,SAASk6B,GAAQ56B,GACtB,OAAO,SAAAnR,GACL,IAAMgsC,EAAM/vC,OAAO+D,GACnB,IAAK3D,OAAO4vC,UAAUjsC,IAAU,SAASqlC,KAAK2G,GAC5C,OAAO76B,EAAKU,EAAE,uCAMb,SAASkR,GAAO5R,GACrB,OAAO,SAAAnR,GACL,IAAMgsC,EAAM/vC,OAAO+D,GACnB,IAAI,wBAAwBqlC,KAAK2G,KAI7B,wBAAwB3G,KAAK2G,GAGjC,OAAO76B,EAAKU,EAAE,qCAIX,SAASsD,GAAIhE,GAClB,OAAO,SAAAnR,GACL,GAAKA,EAIL,MAEG,oKAAoKqlC,KACnKrlC,QAHJ,EAMSmR,EAAKU,EAAE,kCAMb,SAASq6B,GAAQC,GACtB,OAAO,SAAAnsC,GACL,IAAK,IAAIwR,EAAI,EAAGA,EAAI26B,EAAWpsC,OAAQyR,IAAK,CAC1C,IAAM+sB,EAAW4N,EAAW36B,GACtB0B,EAAQqrB,EAAWA,EAASv+B,GAAS,KAC3C,GAAIkT,EACF,OAAOA,IAOR,SAASk5B,GAAOj7B,GACrB,OAAO,SAAAnR,GACL,IACEqsC,OAAOrsC,GACP,SACA,OAAOmR,EAAKU,EAAE,kD,eCzHdy6B,GAAkB,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,SAAU1rB,EAAqC,EAArCA,SAAU2rB,EAA2B,EAA3BA,eAAgBr7B,EAAW,EAAXA,KAC7D,OACE,kBAACmxB,GAAD,KACE,kBAACmK,GAAA,EAAD,KACE,kBAACvwB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,UACRrM,KAAK,SACLkS,QAASqI,EACTtI,WAAYi0B,GAEXr7B,EAAKU,EAAE,cAEV,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBc,QAAQ,YACRrM,KAAK,SACLkS,QAAS+zB,GAERp7B,EAAKU,EAAE,yBAalBy6B,GAAgBj6B,aAAe,CAC7Bm6B,gBAAgB,GAGHl6B,4BAAWg6B,ICjCX,SAASI,GAAsBC,GAC5C,IAAMC,EAAUlzB,kBAAO,GAEvB,OAAOc,uBACL,SAAApU,GACMwmC,EAAQhyB,SAA8B,IAAnBxU,EAAQrG,QAC7B4sC,EAAoBvmC,EAAQ,IAG9BwmC,EAAQhyB,SAAU,IAEpB,CAAC+xB,I,uECEUr6B,I,MAAAA,yBAjBf,YAAwE,IAAnDnB,EAAkD,EAAlDA,KAAM07B,EAA4C,EAA5CA,SAAUC,EAAkC,EAAlCA,WAAyBj6B,GAAS,EAAtBC,SAAsB,mBACrE,OACE,kBAAC,KAAD,iBACMD,EADN,CAEEg6B,SAAUA,EACVE,aAAc57B,EAAKU,EAAE,kBACrBm7B,cAAe77B,EAAKU,EAAE,yBAAIi7B,EAAaD,WCLvChM,GAAQruB,YAAOy6B,KAAPz6B,CAAH,6EAKL06B,GAAiB16B,YAAOuuB,KAAPvuB,CAAH,mGAMd26B,G,4JACJ,WACE,MAOIvoC,KAAKiO,MANP3H,EADF,EACEA,MACAi/B,EAFF,EAEEA,SACA5c,EAHF,EAGEA,SACA6f,EAJF,EAIEA,WACAC,EALF,EAKEA,WAIIC,EATN,EAMEC,gBAKC,gBAAGnI,EAAH,EAAGA,KAAMoI,EAAT,EAASA,WAAT,OACC,kBAACC,GAAA,EAAD,CAAM7tC,IAAKwlC,EAAKpgC,GAAIwT,QAASg1B,EAAYH,WAAYA,GAClDjI,EAAKgI,KAIZ,OACE,kBAAC,GAAD,KACE,kBAACF,GAAD,KAAiBhiC,GACjB,kBAAC61B,GAAA,EAAD,KACE,kBAAC,GAAD,CAAW8L,SAAU,EAAGC,WAAY3C,EAASpqC,QAC1CoqC,EAAS5qC,KAAI,SAAA6lC,GAAI,OAChBkI,EAAW,CACTlI,OACAoI,WAAY,kBAAMjgB,EAAS6X,IAC3BsI,WAAYL,c,GA5BDz2B,aA+C3Bu2B,GAAa96B,aAAe,CAC1B+6B,WAAY,OACZliC,MAAO,WACPqiB,SAAU,kBAAM,MAChB8f,YAAY,EACZE,eAAgB,MAGHJ,I,GAAAA,M,WCLAQ,GAzDU,SAAC,GASnB,IAAD,IARJp1B,kBAQI,aAPJq1B,eAOI,aANJhD,kBAMI,SALJp0B,EAKI,EALJA,OACAtL,EAII,EAJJA,MACAE,EAGI,EAHJA,KACAyiC,EAEI,EAFJA,WACA71B,EACI,EADJA,SAEM81B,EAAgBF,EAAUG,KAAQjD,KAExC,OACE,kBAAC1C,GAAA,EAAD,CACExoC,IAAK4W,EACL5C,kBAAA,4BAAsC4C,GACtCxR,GAAE,UAAKwR,IAEP,kBAAC6xB,GAAA,EAAD,KACE,kBAACyF,EAAD,CACEn6B,aAAA,4BAAiC6C,GACjC5C,kBAAA,4BAAsC4C,GACtCyZ,QAAS2a,EACToD,SAAUz1B,EACVvT,GAAE,mBAAcwR,GAChB0c,UAAW0X,EACXx/B,KAAMA,EACN4hB,SAAU4d,EAAaiD,EAAa71B,EACpChY,MAAOwW,IAET,kBAAC8xB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,2BACEoF,GAAE,4BAAuBwR,GACzB+qB,QAAO,mBAAc/qB,GACrBwK,UAAU,qBAEV,2BAAI9V,WC9Bd+iC,GAAYz7B,IAAOC,IAAV,2FAMf,SAASy7B,GAAT,GAoBI,IAnBFluC,EAmBC,EAnBDA,MACA+1B,EAkBC,EAlBDA,aACA5wB,EAiBC,EAjBDA,QACAgpC,EAgBC,EAhBDA,YACApc,EAeC,EAfDA,cACAC,EAcC,EAdDA,YACArH,EAaC,EAbDA,eACAC,EAYC,EAZDA,sBACAwjB,EAWC,EAXDA,SACA16B,EAUC,EAVDA,OACAtI,EASC,EATDA,KACA6S,EAQC,EARDA,SACA0f,EAOC,EAPDA,SACA0Q,EAMC,EANDA,WACAC,EAKC,EALDA,aACAf,EAIC,EAJDA,eACAhwB,EAGC,EAHDA,UACApM,EAEC,EAFDA,KACAi8B,EACC,EADDA,WAEA,OACE,kBAACa,GAAD,KACGjuC,EAAMD,OAAS,GACd,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,2BACds4B,SAAUnqC,EACVutB,SAAU,SAAA6X,GAAI,OAAIkJ,EAAalJ,IAC/BiI,WAAY1P,EACZ4P,eAAgBA,EAChBH,WAAYA,IAGhB,kBAAC,GAAD,CACErX,aAAcA,EACdj6B,MAAOqJ,EACP0sB,UAAWsc,EACX7X,mBAAoB5iB,EACpBuK,SAAUA,EACVkY,qBAAsBpE,EACtBgW,mBAAoB/V,EACpBoE,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BoL,kBAAmBzY,EACnBkrB,WAAY4F,EACZ3F,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVwR,OAAQ4uB,EAAKpgC,GACboG,KAAMgjC,EAAWhJ,EAAKgI,GAAchiC,EACpCF,MAAOk6B,EAAKgI,GACZxC,WAAY5qC,EAAMC,MAAK,SAAAuR,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,MAC1CgT,SAAU,kBAAMq2B,EAAWjJ,IAC3ByI,WAAY,kBAAMS,EAAalJ,IAC/BwI,SAAUQ,KAGd/Z,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,KAwB7B2X,GAAY77B,aAAe,CACzB+7B,UAAU,EACVb,eAAgB,KAChBxb,cAAe,GACfC,YAAa,GACbob,WAAY,QAGC96B,I,GAAAA,wBAAW47B,ICnHX,SAASM,GAAQC,EAAOC,GACrC,OAAQA,EAAOpoC,MACb,IAAK,cACH,OAkBN,SAAoBmoC,EAAOrJ,GACzB,IAAQuJ,EAA4BF,EAA5BE,cACR,IADoCF,EAAbL,SAErB,OAAO,2BACFK,GADL,IAEEE,cAAe,CAACvJ,KAIpB,GADcuJ,EAAcC,WAAU,SAAAp9B,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,OAC5C,EACX,OAAOypC,EAET,OAAO,2BACFA,GADL,IAEEE,cAAc,GAAD,mBAAMA,GAAN,CAAqBvJ,MAhCzBiJ,CAAWI,EAAOC,EAAOtJ,MAClC,IAAK,gBACH,OAkCN,SAAsBqJ,EAAOrJ,GAC3B,OAAO,2BACFqJ,GADL,IAEEE,cAAeF,EAAME,cAAc5tC,QAAO,SAAAyQ,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,QArCpDspC,CAAaG,EAAOC,EAAOtJ,MACpC,IAAK,eACH,OAuCN,SAAqBqJ,GACnB,IAAQpF,EAAiCoF,EAAjCpF,YAAarpC,EAAoByuC,EAApBzuC,MAAOouC,EAAaK,EAAbL,SAC5B,GAAI/E,EACF,OAAOwF,GAAWJ,GAEpB,IAAIE,EAAgB,GAChBP,EACFO,EAAa,YAAO3uC,GACXA,GACT2uC,EAAcpwB,KAAKve,GAErB,OAAO,2BACFyuC,GADL,IAEEpF,aAAcA,EACdsF,kBArDSpF,CAAYkF,GACrB,IAAK,cACH,OAAOI,GAAWJ,GACpB,IAAK,eACH,OAAO,2BAAKA,GAAZ,IAAmBL,SAAUM,EAAO1uC,QACtC,IAAK,YACH,OAAO,2BAAKyuC,GAAZ,IAAmBzuC,MAAO0uC,EAAO1uC,QACnC,IAAK,qBACH,OAAO,2BAAKyuC,GAAZ,IAAmBE,cAAeD,EAAOC,gBAC3C,QACE,MAAM,IAAI3vC,MAAJ,oCAAuC0vC,EAAOpoC,QA+C1D,SAASuoC,GAAWJ,GAClB,OAAO,2BACFA,GADL,IAEEpF,aAAa,IAIV,SAASyF,GAAT,GAAqE,IAA9C9uC,EAA6C,EAA7CA,MAA6C,IAAtCouC,gBAAsC,aAApB7kB,gBAAoB,UAe3E,SAAgCvpB,EAAOouC,GACrC,IAAKA,GAAYptC,MAAMC,QAAQjB,GAC7B,MAAM,IAAIhB,MACR,8DAGJ,GAAIovC,IAAaptC,MAAMC,QAAQjB,GAC7B,MAAM,IAAIhB,MAAM,sDArBlB+vC,CAAuB/uC,EAAOouC,GAC9B,IAAIO,EAAgB,GAIpB,OAHI3uC,IACF2uC,EAAgBP,EAAQ,YAAOpuC,GAAS,CAACA,IAEpC,CACL2uC,gBACA3uC,QACAouC,WACA/E,aAAa,EACb9f,YCvDJ,IAAMylB,GAAax8B,IAAOC,IAAV,8FAEM,SAAAI,GAAK,OACvBA,EAAM0F,WAAa,wCAA0C,QAEjE,SAAS02B,GAAOp8B,GACd,IACE7N,EAcE6N,EAdF7N,GACA0O,EAaEb,EAbFa,OACAsZ,EAYEna,EAZFma,SACAkiB,EAWEr8B,EAXFq8B,OACA3xB,EAUE1K,EAVF0K,UACAvd,EASE6S,EATF7S,MACAouC,EAQEv7B,EARFu7B,SACA7kB,EAOE1W,EAPF0W,SACAtL,EAMEpL,EANFoL,SACAsvB,EAKE16B,EALF06B,eACA4B,EAIEt8B,EAJFs8B,kBACAj5B,EAGErD,EAHFqD,QACA/E,EAEE0B,EAFF1B,KACAoH,EACE1F,EADF0F,WAGF,EAA0B62B,qBACxBZ,GACA,CAAExuC,QAAOouC,WAAU7kB,YACnBulB,IAHF,mBAAOL,EAAP,KAAcY,EAAd,KAMA30B,qBAAU,WACR20B,EAAS,CAAE/oC,KAAM,eAAgBtG,MAAOouC,MACvC,CAACA,IAEJ1zB,qBAAU,WACR20B,EAAS,CAAE/oC,KAAM,YAAatG,YAC7B,CAACA,IAEJ,IAAMsvC,EAAgB,WACpB,IAAMC,EAAQr5B,EAAQE,SAASkI,OAAOhf,QAAQ,MAAO,IAAIpD,MAAM,KACzDszC,EAAKvxB,EAASxf,UACdgxC,EAAaF,EAAMxuC,QAAO,SAAA2uC,GAAK,OAAKA,EAAMjvC,WAAN,UAAoB+uC,EAApB,SAC1Ct5B,EAAQqI,KAAR,UAAgBrI,EAAQE,SAASC,SAAjC,YAA6Co5B,EAAWruC,KAAK,QAWzDosC,EAAa,SAAApI,GAEfpY,EADEohB,EACOpuC,EAAMe,QAAO,SAAAyQ,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,MAEhC,OAIP6pC,EAAa,WACjBS,IACAD,EAAS,CAAE/oC,KAAM,iBAGX+iC,EAA+BoF,EAA/BpF,YAAasF,EAAkBF,EAAlBE,cACfjB,IACFnkB,GAAa6kB,GAAYpuC,EAAMD,OAAS,KAAQwY,EAChDzc,EAAQ,GAMZ,OALIsyC,EACFtyC,EAAQkE,EACCA,GACTlE,EAAMyiB,KAAKve,GAGX,kBAAC,WAAD,KACE,kBAAC8sB,GAAA,EAAD,CAAYoiB,OAAQA,GAClB,kBAAChzB,EAAA,EAAD,CACEvI,aAAW,SACX3O,GAAIA,EACJwT,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,kBAChCqM,QAASua,IAAcC,QACvB5U,WAAYgF,GAAahF,GAEzB,kBAAC,KAAD,OAEF,kBAACy2B,GAAD,CAAYz2B,WAAYA,EAAYyI,UAAU,qBAC5C,kBAAC,GAAD,CAAW6rB,SAAU,EAAGC,WAAYhxC,EAAMiE,QACvCjE,EAAMyD,KAAI,SAAA6lC,GAAI,OACbmI,EAAe,CACbnI,OACAoI,aACAE,oBAMV,kBAACj6B,GAAA,EAAD,CACEd,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,2BAAW6B,GAAUvC,EAAKU,EAAE,iBAC1C8B,aAAYxC,EAAKU,EAAE,qBACnBZ,OAAQo4B,EACRn4B,QAAS29B,EACT5yB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,UACR6F,QAhEG,WACX,IAAQm2B,EAAkBF,EAAlBE,cACFztC,EAAMktC,EAAWO,EAAgBA,EAAc,IAAM,KAC3D3hB,EAAS9rB,GACTouC,IACAD,EAAS,CAAE/oC,KAAM,iBA4DTiS,WAAYgR,GAAqC,IAAzBolB,EAAc5uC,QAErCoR,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CAAQtc,IAAI,SAAS+S,QAAQ,YAAY6F,QAASq2B,GAC/C19B,EAAKU,EAAE,wBAIXs9B,EAAkB,CACjBV,QACAY,WACA3B,gBAwBVuB,GAAO58B,aAAe,CACpBrN,GAAI,gBACJ0O,OAAQ,KACR1T,MAAO,KACPouC,UAAU,EACV7kB,UAAU,EACV2lB,OAAQ,aACR3B,eAAgB,gBAAGnI,EAAH,EAAGA,KAAMoI,EAAT,EAASA,WAAYE,EAArB,EAAqBA,UAArB,OACd,kBAACD,GAAA,EAAD,CACE7tC,IAAKwlC,EAAKpgC,GACVwT,QAAS,kBAAMg1B,EAAWpI,IAC1BiI,YAAaK,GAEZtI,EAAKh6B,QAMGkH,4BAAWuE,YAAWo4B,KC/KtB38B,6BAZf,YAA8C,IAAhBY,EAAe,EAAfA,MAAO/B,EAAQ,EAARA,KACnC,OAAK+B,EAKH,yBAAK8N,UAAU,oCAAoCwgB,YAAU,UAC1DtuB,EAAM0B,SAAWzD,EAAKU,EAAE,0BALpB,QCSLm1B,GAAYxoC,EAAY,gBAAiB,CAC7CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAAS8wC,GAAT,GAUI,IATF5Q,EASC,EATDA,kBACA5tB,EAQC,EARDA,KACAwtB,EAOC,EAPDA,QACAuQ,EAMC,EANDA,OACAliB,EAKC,EALDA,SACAzD,EAIC,EAJDA,SACAvpB,EAGC,EAHDA,MACAkW,EAEC,EAFDA,QACA05B,EACC,EADDA,aAEMC,EAAqBnD,GAAsB1f,GAEjD,EAII/P,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpDlM,GAAiBnJ,KAAKzG,GACtB4P,GAAiBi4B,gBAJT,0CAEH9iC,EAFG,KAEO+iC,EAFP,KAON0I,GACFC,EAAmB1rC,EAASW,KAAKsB,SARzB,kBAWH,CACL0pC,cAAe3rC,EAASW,KAAKsB,QAC7ByrB,UAAW1tB,EAASW,KAAKoiB,MACzB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAnB/C,2CAqBT,CAACuI,EAAcC,EAAoB35B,EAAQE,SAASkI,SACvD,CACEwxB,cAAe,GACfje,UAAW,EACXjH,sBAAuB,GACvBD,eAAgB,KA/BpB,IACEvN,OAAUyU,EADZ,EACYA,UAAWie,EADvB,EACuBA,cAAellB,EADtC,EACsCA,sBAAuBD,EAD7D,EAC6DA,eACpDoL,EAFT,EAEE7iB,MACS68B,EAHX,EAGEryB,QAoCF,OAJAhD,qBAAU,WACRq1B,MACC,CAACA,IAGF,kBAAClR,GAAA,EAAD,CACEC,QAAQ,eACRC,kBAAmBA,EACnB/b,WAAYuG,EACZyV,UAAWL,EAAU,UAAY,QACjCzzB,MAAOiG,EAAKU,EAAE,sBAEd,kBAAC,GAAD,CACE7M,GAAG,eACH0O,OAAQvC,EAAKU,EAAE,qBACf7R,MAAOA,EACPkvC,OAAQA,EACRliB,SAAUA,EACV/O,SAAU+oB,GACVzd,SAAUA,EACVymB,gBAAgB,OAChBb,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS2qC,EACT3B,YAAatc,EACbuc,SAAUK,EAAML,SAChB16B,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,eACL6S,SAAU+oB,GACVjV,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvB+S,UAAW+P,EACXW,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAO6iB,KAejC4Z,GAAmBt9B,aAAe,CAChC0sB,kBAAmB,GACnBJ,SAAS,EACTuQ,OAAQ,aACR3lB,UAAU,EACVvpB,MAAO,KACP4vC,cAAc,GAIDt9B,4BAAWuE,YAAW84B,K,qBC3IrC,SAASM,GAAT,GAWI,IAVFjrC,EAUC,EAVDA,GACAF,EASC,EATDA,KACAqM,EAQC,EARDA,KACAwtB,EAOC,EAPDA,QACAuQ,EAMC,EANDA,OACAlvC,EAKC,EALDA,MACAghB,EAIC,EAJDA,UACAzI,EAGC,EAHDA,WACAyU,EAEC,EAFDA,SACA5hB,EACC,EADDA,KAOA,OACE,kBAAC8kC,GAAA,EAAD,CACElrC,GAAIA,EACJhF,MAAOA,EACPgtB,SATmB,SAAC9rB,EAAKirB,GAC3BA,EAAM9T,OAAOjN,KAAOA,EACpB4hB,EAASb,EAAOjrB,IAQdguC,OAAQA,EACRv7B,aAAYxC,EAAKU,EAAE,qBACnBmtB,UAAWL,EAAU,UAAY,QACjC3d,UAAWA,EACXzI,WAAYA,GAEXzT,EAAKvF,KAAI,SAAA4wC,GAAM,OACd,kBAACC,GAAA,EAAD,CACExwC,IAAKuwC,EAAOvwC,IACZI,MAAOmwC,EAAOnwC,MACdkL,MAAOilC,EAAOjlC,MACdqN,WAAY43B,EAAO53B,iBAc7B03B,GAAc59B,aAAe,CAC3BvN,KAAM,GACN65B,SAAS,EACTuQ,OAAQ,aACRluB,UAAW,GACXzI,YAAY,GAeCjG,4BAAW29B,ICjE1B,SAASI,GAAT,GAKI,IAJFl/B,EAIC,EAJDA,KACAw5B,EAGC,EAHDA,YACA2F,EAEC,EAFDA,qBACAC,EACC,EADDA,kBAEM1H,EAAQmC,cACN1pB,EAAkB2hB,eAAlB3hB,cACR,EAAmEkd,aAAS,CAC1EpzB,KAAM,eACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOq/B,EAAP,KAA0BC,EAA1B,KAA4CC,EAA5C,KAIA,EAIIlS,aAAS,CACXpzB,KAAM,2BACNmzB,SAAUhV,GAAS,KAAMpY,KAN3B,mBACEw/B,EADF,KAEEC,EAFF,KAGEC,EAHF,KASA,EAA6DrS,aAAS,CACpEpzB,KAAM,cACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAO2/B,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMC,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,OACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB0R,EAAiBv9B,MACpCyrB,SAAU8R,EAAiB7R,UAAY6R,EAAiBv9B,MACxDg8B,OAAQ,kBAAMwB,EAAoBQ,cAClClkB,SAAUikB,EACVjxC,MAAOwwC,EAAkBxwC,MACzBupB,UAAQ,EACRqmB,eAAc,OAACjF,QAAD,IAACA,OAAD,EAACA,EAAa3lC,MAE9B,kBAAC65B,GAAA,EAAD,CACEC,QAAQ,WACRC,kBAAmB6R,EAAsB19B,MACzC8rB,UACG4R,EAAsBhS,SAAYgS,EAAsB19B,MAErD,QADA,UAGN8P,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,iCACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,oFAKN,kBAAC,GAAD,iBACM8+B,EADN,CAEEhS,SACGiS,EAAsBhS,UAAYgS,EAAsB19B,MAE3DqF,WAAYswB,EAAM1zB,IAAIg8B,SAAS,QAC/BnsC,GAAG,WACHF,KAAI,CAAG,CAAEoG,MAAO,GAAItL,IAAK,EAAGI,MAAO,KAA/B,mBAAwCswC,IAC5CtjB,SAAU,SAACb,EAAOnsB,GAChB6wC,EAAyBlzB,SAAS3d,QAIxC,kBAAC,GAAD,CACEgF,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,sBACdzG,KAAK,gBACL9E,KAAK,OACL0c,WAAYnP,QACuB,uBAAjC88B,EAAuB3wC,OAEzBu+B,SACmC,uBAAjCoS,EAAuB3wC,MACnBupB,GAAS,KAAMpY,GACf,KAENonB,QAASpnB,EAAKU,EAAE,6CAElB,kBAACgtB,GAAA,EAAD,CACEC,QAAQ,aACRC,kBAAmBgS,EAAe79B,MAClC8rB,UACG+R,EAAenS,SAAYmS,EAAe79B,MAAoB,QAAZ,UAErD8P,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,oBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,uFAKN,kBAAC,GAAD,iBACMi/B,EADN,CAEEnS,SAAUoS,EAAenS,UAAYmS,EAAe79B,MACpDlO,GAAG,aACHF,KAAI,CAAG,CAAEoG,MAAO,GAAItL,IAAK,EAAGI,MAAO,KAA/B,mBAAwCuwC,IAC5CvjB,SAAU,SAACb,EAAOnsB,GAChBgxC,EAAkBrzB,SAAS3d,SAwDxBsS,I,GAAAA,yBAjDf,YAQI,IAAD,EAPDi6B,EAOC,EAPDA,SACA1rB,EAMC,EANDA,SACA1P,EAKC,EALDA,KACAigC,EAIC,EAJDA,YACAzG,EAGC,EAHDA,YACA2F,EAEC,EAFDA,qBACAC,EACC,EADDA,kBAEM3vB,EAAgB,CACpBxV,MAAiB,OAAXu/B,QAAW,IAAXA,OAAA,EAAAA,EAAav/B,OAAQ,GAC3B6X,aAAwB,OAAX0nB,QAAW,IAAXA,OAAA,EAAAA,EAAa1nB,cAAe,GACzC5X,cAAyB,OAAXs/B,QAAW,IAAXA,GAAA,UAAAA,EAAa5mB,sBAAb,eAA6B1Y,eAAgB,KAC3DgmC,0BAAqC,OAAX1G,QAAW,IAAXA,OAAA,EAAAA,EAAa0G,2BAA4B,GACnEC,eAA0B,OAAX3G,QAAW,IAAXA,OAAA,EAAAA,EAAa2G,gBAAiB,GAC7CC,aAAwB,OAAX5G,QAAW,IAAXA,OAAA,EAAAA,EAAa4G,cAAe,IAG3C,OACE,kBAAC,KAAD,CAAQ3wB,cAAeA,EAAeC,SAAU,SAAAzX,GAAM,OAAIyX,EAASzX,MAChE,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACgO,GAAD,CACEvvB,OAAQA,EACR6pB,YAAaA,EACb2F,qBAAsBA,EACtBC,kBAAmBA,EACnBp/B,KAAMA,IAEPigC,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,uBCnLzBuxB,GAAiBj/B,YAAOwB,KAAPxB,CAAH,yFAGpBwB,KAAS6jB,YAAc,aAER4Z,I,GAAAA,M,WCJTC,GAAqBl/B,IAAOC,IAAV,4FAaTk/B,OARf,YAAuC,IAAb/+B,EAAY,EAAZA,SACxB,OACE,kBAAC8+B,GAAD,KACE,kBAACE,GAAA,EAAD,KAAch/B,KCgFLi/B,OAlFf,YAA8C,IAApBC,EAAmB,EAAnBA,gBAClB57B,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KAEA,EAII90B,GACFzC,sBAAW,sBAAC,sCAAA7hB,EAAA,sEAUAiV,GAAgBq5B,cAVhB,2BAERniC,KACEmX,QACEmrB,IACuC4K,EALnC,EAKFX,yBAA4B3nB,QACJuoB,EANtB,EAMFV,YAAe7nB,QAMjBwoB,EAAgBF,EAAYzyC,KAAI,SAAA4yC,GAAM,MAAK,CAC/CnyC,MAAOmyC,EAAO,GACdjnC,MAAOinC,EAAO,GACdvyC,IAAKuyC,EAAO,OAERC,EAAaH,EAAc1yC,KAAI,SAAA4yC,GAAM,MAAK,CAC9CnyC,MAAOmyC,EAAO,GACdjnC,MAAOinC,EAAO,GACdvyC,IAAKuyC,EAAO,OApBJ,kBAuBH,CACL7B,qBAAsB4B,EACtB3B,kBAAmB6B,IAzBX,2CA2BT,IACH,CACE9B,qBAAsB,GACtBC,kBAAmB,KAlCrBr9B,EADF,EACEA,MACSm/B,EAFX,EAEE30B,QAFF,IAGEN,OAAUkzB,EAHZ,EAGYA,qBAAsBC,EAHlC,EAGkCA,kBAmC5BrwB,EAAY,uCAAG,iCAAAvnB,EAAA,6DAAYyQ,EAAZ,qBACZiC,aAAejC,EAAOiC,aAAarG,GADvB,kBAGM4I,GAAgB9J,OAAOsF,GAH7B,gBAGTtE,EAHS,EAGTA,KACRgtC,EAAgBhtC,GAChBoR,EAAQqI,KAAR,wBAA8BzZ,EAAKE,GAAnC,aALiB,kDAOjB+sC,EAAe,EAAD,IAPG,0DAAH,sDAmBlB,OAJAr3B,qBAAU,WACR23B,MACC,CAACA,IAEAn/B,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAG5B,oCACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+M,SAAUX,EACVqsB,SAlBS,WACnBr2B,EAAQqI,KAAR,kBAkBU+xB,qBAAsBA,EACtBC,kBAAmBA,EACnBa,YAAaA,S,WCvCZkB,OArCf,YAII,IAHF3H,EAGC,EAHDA,YACA2F,EAEC,EAFDA,qBACAC,EACC,EADDA,kBAEMr6B,EAAU8C,cACRhU,EAAOutC,cAAPvtC,GACR,EAAsCoP,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KAEM7xB,EAAY,uCAAG,6BAAAvnB,EAAA,6DAAYyQ,EAAZ,qBACZiC,aAAejC,EAAOiC,aAAarG,GADvB,kBAGX4I,GAAgB4kC,OAAOxtC,EAAIoE,GAHhB,OAIjB8M,EAAQqI,KAAR,wBAA8BvZ,EAA9B,aAJiB,gDAMjB+sC,EAAe,EAAD,IANG,yDAAH,sDAalB,OACE,kBAACj+B,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+M,SAAUX,EACVyqB,YAAaA,EACb4B,SATa,WACnBr2B,EAAQqI,KAAR,wBAA8BvZ,EAA9B,cASMsrC,qBAAsBA,EACtBC,kBAAmBA,EACnBa,YAAaA,OCqBR9+B,6BAtDf,YAQI,IAPFmgC,EAOC,EAPDA,UACAjJ,EAMC,EANDA,WACAp+B,EAKC,EALDA,KACA+F,EAIC,EAJDA,KACAwB,EAGC,EAHDA,QACAC,EAEC,EAFDA,SACA2F,EACC,EADDA,WAEA,EAA4BnE,oBAAS,GAArC,mBAAOnD,EAAP,KAAe8yB,EAAf,KAEA,OACE,oCACE,kBAAC7nB,EAAA,EAAD,CACEvJ,QAASA,GAAW,YACpBgB,aAAYxC,EAAKU,EAAE,qBACnB0G,WAAYA,EACZC,QAAS,kBAAMurB,GAAU,KAExBnxB,GAAYzB,EAAKU,EAAE,sBAEtB,kBAAC,GAAD,CACEZ,OAAQA,EACRyB,MAAO82B,EACP72B,QAAQ,SACRzB,QAAS,kBAAM6yB,GAAU,IACzB9nB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,qBACnB0G,WAAYA,EACZC,QAASi6B,GAERthC,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAMurB,GAAU,KAExB5yB,EAAKU,EAAE,wBAIXV,EAAKU,EAAE,yCACR,6BACA,gCAASzG,QC6FFkH,6BAjIf,YAKI,IAJFnB,EAIC,EAJDA,KACAw5B,EAGC,EAHDA,YACA2F,EAEC,EAFDA,qBACAC,EACC,EADDA,kBAEMr6B,EAAU8C,cAChB,EAIIiE,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJiV,GAAgBu9B,QAAQR,EAAY3lC,IADhC,OAEVkR,EAAQqI,KAAK,iBAFH,2CAGT,CAACosB,EAAY3lC,GAAIkR,KAPTk1B,EADb,EACE7tB,UACOiB,EAFT,EAEEtL,MACSm4B,EAHX,EAGE3tB,QAQF,EAAgCE,GAAoBY,GAA5CtL,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAsBf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO2qC,EAAYv/B,KACnBgxB,OAAO,oBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO2qC,EAAY1nB,YACnBmZ,OAAO,2BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBi0B,EAAY5mB,eAAe1Y,aAAarG,GAA5D,aAED2lC,EAAY5mB,eAAe1Y,aAAaD,MAG7CgxB,OAAO,4BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MA9C0B,SAAAsG,GAChC,IAAItG,EAOJ,OANAswC,EAAqBvvC,QAAO,SAAAovC,GAI1B,OAHIA,EAAOnwC,QAAUsG,IACnBtG,EAAQmwC,EAAOjlC,OAEV,QAEFlL,EAsCM0yC,CACL/H,EAAY0G,0BAEdjV,OAAO,wCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,kBACd7R,MAAO2qC,EAAYgI,UACnBvW,OAAO,yBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,sBACd7R,MAAO2qC,EAAY2G,cACnBlV,OAAO,6BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,oBACd7R,MArDc,SAAAsG,GACpB,IAAItG,EAOJ,OANAuwC,EAAkBxvC,QAAO,SAAAovC,GAIvB,OAHIA,EAAOnwC,QAAUsG,IACnBtG,EAAQmwC,EAAOjlC,OAEV,QAEFlL,EA6CM4yC,CAAcjI,EAAY4G,aACjCnV,OAAO,2BAET,kBAAC,GAAD,CAAgBlxB,MAAOiG,EAAKU,EAAE,2BAASynB,KAAMqR,EAAYhnB,UACzD,kBAAC,GAAD,CACEzY,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMqR,EAAYtmB,YAGtB,kBAAC,GAAD,KACGsmB,EAAY5mB,eAAeb,mBAC1BynB,EAAY5mB,eAAeb,kBAAkB6nB,MAC3C,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXrzB,GAAE,wBAAmBi0B,EAAY3lC,GAA/B,SACF2O,aAAYxC,EAAKU,EAAE,cAElBV,EAAKU,EAAE,cAGb84B,EAAY5mB,eAAeb,mBAC1BynB,EAAY5mB,eAAeb,kBAAkBje,QAC3C,kBAAC,GAAD,CACEmG,KAAMu/B,EAAYv/B,KAClBo+B,WAAYr4B,EAAKU,EAAE,2BACnB4gC,UAAWpH,EACX9yB,WAAY6yB,GAEXj6B,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,sCACR,kBAAC,GAAD,CAAaqB,MAAOA,SCpIvB,I,GAAM2/B,GAAc,SAAAhwB,GACzB,OAAKA,EAGEA,EACJiwB,cACA52C,MAAM,KACNqD,KAAI,SAAAwzC,GAAI,OAAIA,EAAKC,OAAO,GAAG99B,cAAgB69B,EAAKx2C,MAAM,MACtD6E,KAAK,KANC,ICOLokB,GAAQhT,IAAOk4B,EAAV,qDAkDIp4B,6BA9Cf,YAMI,IALF2gC,EAKC,EALDA,MACArI,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA6yB,EAEC,EAFDA,UACA15B,EACC,EADDA,KAEM80B,EAAO,uBAAmBgN,EAAMjuC,IACtC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKqzC,EAAMjuC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKiuC,EAAMjuC,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,uBAAkBiuC,EAAMjuC,IAC1BirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,UAAU+T,aAAYxC,EAAKU,EAAE,oBAC7C,kBAAC,IAAD,CAAM6E,GAAE,UAAKm0B,IACX,2BAAIoI,EAAMlvB,eAAe+Y,KAAKtwB,YAGlC,kBAAC,GAAD,CAAc5M,IAAI,QAAQ+T,aAAYxC,EAAKU,EAAE,eAC3C,kBAAC,GAAD,KAAQV,EAAKU,EAAE,eACf,8BAAOghC,GAAYI,EAAM/qB,SAE3B,kBAAC,GAAD,CAActoB,IAAI,aAAa+T,aAAYxC,EAAKU,EAAE,oBAChD,kBAAC,GAAD,KAAQV,EAAKU,EAAE,oBACf,8BAAO8mB,GAAiBsa,EAAMhrB,mBCpCtC+e,GAAYxoC,EAAY,eAAgB,CAC5CG,KAAM,EACNC,UAAW,GACXC,SAAU,mBAgKGyT,6BA7Jf,YAAyC,IAATnB,EAAQ,EAARA,KACtBnM,EAAOutC,cAAPvtC,GACFoR,EAAW6C,cACjB,EAKIgE,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAOAvX,QAAQmU,IAAI,CACpBtN,GAAgBslC,WAAWluC,EAAI5F,GAC/BwO,GAAgBulC,iBAAiBnuC,KATzB,iDAINF,KAAQsB,EAJF,EAIEA,QAAS8gB,EAJX,EAIWA,MAEnBggB,EANQ,KAWJkM,EAAkBhtC,EAAQ7G,KAAI,SAAA6d,GAAW,IAAD,EAO5C,OANAA,EAAO2G,eAAiB,CACtB+Y,KAAM1f,EAAO2G,eAAe+Y,KAC5B6N,YAAavtB,EAAO2G,eAAe4mB,YACnCznB,kBAAmB,CAAEje,QAAQ,IAE/BmY,EAAOhS,KAAP,UAAcgS,EAAO2G,eAAe+Y,YAApC,aAAc,EAA4BtwB,SACnC4Q,KAlBC,kBAoBH,CACLi2B,OAAQD,EACRvhB,UAAW3K,EACX0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBA5B/C,4CA8BT,CAACriC,EAAIoR,EAASkI,SACjB,CAAE+0B,OAAQ,GAAIxhB,UAAW,EAAGjH,sBAAuB,GAAID,eAAgB,KApCvEzX,EADF,EACEA,MACAqK,EAFF,EAEEA,UAFF,IAGEH,OAAUi2B,EAHZ,EAGYA,OAAQxhB,EAHpB,EAGoBA,UAAWjH,EAH/B,EAG+BA,sBAAuBD,EAHtD,EAGsDA,eAC3C2oB,EAJX,EAIE51B,QAoCFhD,qBAAU,WACR44B,MACC,CAACA,IAEJ,MAA+DrJ,GAC7DoJ,GADMlJ,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAG/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAOg0C,EAAP,EAAGvuC,GAAH,OAAqByK,GAAU07B,QAAQoI,SAErD,CAACpJ,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYm1B,IAbHlI,EADb,EACE7tB,UACAiB,EAFF,EAEEA,cACa8sB,EAHf,EAGEjtB,YACAI,EAJF,EAIEA,mBAcI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACb2yC,IADa,OAEnBlB,EAAY,IAFO,2CAAH,qDAKlB,OACE,oCACE,kBAAC,GAAD,CACErU,aAAc7iB,EACd8iB,kBAAmBzY,GAAa6tB,EAChCtvC,MAAOu3C,EACPxhB,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,eAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,4BACLyoB,WAAW,IAGf0f,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBAEP,CACEwL,KAAM+F,EAAKU,EAAE,cACbjS,IAAK,SAEP,CACEwL,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,aAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOyI,GAAU,KAEzCp1B,SAAU+oB,GACV5U,mBAAoB,CAClB,kBAAC,GAAD,CACExyB,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,sBAKnC62B,WAAY,SAAAuK,GAAK,OACf,kBAAC,GAAD,CACErzC,IAAKqzC,EAAMjuC,GACXhF,MAAOizC,EAAM7nC,KACb6nC,MAAOA,EACPpI,UAAS,iBAAYoI,EAAMlvB,eAAe+Y,KAAK93B,GAAtC,YACTgT,SAAU,kBAAMqyB,EAAa4I,IAC7BrI,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOiuC,EAAMjuC,WAIxD,kBAAC,GAAD,CACEiM,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,6CACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,iCCpHbi1B,OApDf,SAAoB5gC,GAClB,IAAQ6gC,EAAc7gC,EAAd6gC,UACFx9B,EAAU8C,cACV5C,EAAW6C,cAuBjB,OACE,kBAAC06B,GAAA,EAAD,CAAMC,UAtBe,WACrB,IAAM/K,EAAQ6K,EAAUplB,MAAK,SAAAulB,GAAG,OAAIA,EAAInO,OAAStvB,EAASC,YAC1D,GAAIwyB,EACF,OAAOA,EAAM7jC,GAEf,IAAM8uC,EAAeJ,EAAUplB,MAAK,SAAAulB,GAAG,OACrCz9B,EAASC,SAAS5V,WAAWozC,EAAInO,SAEnC,OAAIoO,EACKA,EAAa9uC,GAEf,EAWU+uC,GAAkB/7B,SARrC,SAAyBmU,EAAO6nB,GAC9B,IAAMnL,EAAQ6K,EAAUplB,MAAK,SAAAulB,GAAG,OAAIA,EAAI7uC,KAAOgvC,KAC3CnL,GACF3yB,EAAQqI,KAAKsqB,EAAMnD,QAMlBgO,EAAUn0C,KAAI,SAAAs0C,GAAG,OAChB,kBAACI,GAAA,EAAD,CACEtgC,aAAgC,kBAAbkgC,EAAIzoC,KAAoByoC,EAAIzoC,KAAO,GACtD4oC,SAAUH,EAAI7uC,GACdpF,IAAKi0C,EAAI7uC,GACT0gC,KAAMmO,EAAInO,KACVhzB,MAAO,kBAACwhC,GAAA,EAAD,KAAeL,EAAIzoC,MAC1B0X,KAAK,aCoGAxQ,I,GAAAA,yBAtHf,YAA+C,IAAxB6hC,EAAuB,EAAvBA,cAAehjC,EAAQ,EAARA,KAC5BnM,EAAOutC,cAAPvtC,GACAqR,EAAa4C,cAAb5C,SACR,EAKI4G,GACFzC,sBAAW,sBAAC,sCAAA7hB,EAAA,sEACsBoO,QAAQmU,IAAI,CAC1CtN,GAAgBwmC,WAAWpvC,GAC3B4I,GAAgBq5B,gBAHR,0CACHpyB,EADG,KACK1P,EADL,KAKJ+sC,EAAgB/sC,EAAQL,KAAKmX,QAAQmrB,IAAIiK,yBAAyB3nB,QAAQnqB,KAC9E,SAAA4yC,GAAM,MAAK,CACTnyC,MAAOmyC,EAAO,GACdjnC,MAAOinC,EAAO,GACdvyC,IAAKuyC,EAAO,OAGVC,EAAajtC,EAAQL,KAAKmX,QAAQmrB,IAAImK,YAAY7nB,QAAQnqB,KAC9D,SAAA4yC,GAAM,MAAK,CACTnyC,MAAOmyC,EAAO,GACdjnC,MAAOinC,EAAO,GACdvyC,IAAKuyC,EAAO,OAGhBgC,EAAct/B,EAAO/P,MAnBX,kBAqBH,CACL6lC,YAAa91B,EAAO/P,KACpBwrC,qBAAsB4B,EACtB3B,kBAAmB6B,IAxBX,4CA0BT,CAAC+B,EAAenvC,IACnB,CAAEsrC,qBAAsB,GAAIC,kBAAmB,KAhC/ChzB,EADF,EACEA,UACArK,EAFF,EAEEA,MAFF,IAGEkK,OAAUutB,EAHZ,EAGYA,YAAa2F,EAHzB,EAGyBA,qBAAsBC,EAH/C,EAG+CA,kBACpC8D,EAJX,EAIE32B,QAgCFhD,qBAAU,WACR25B,MACC,CAACA,EAAkBh+B,IAEtB,IAoByB,EApBnBq9B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,8BAGZ6zB,KAAM,gBACN1gC,GAAI,GAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,iBAAD,OAAmB1gC,EAAnB,YAAiCA,GAAI,GACrE,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,iBAAD,OAAmB1gC,EAAnB,WAAgCA,GAAI,IAGjEsvC,EAAa,kBAAC,GAAD,CAAYZ,UAAWA,IAKxC,OAJIr9B,EAAS86B,SAAS,UACpBmD,EAAa,OAGV/2B,GAAarK,EAEd,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACS,OAA3B,UAAAA,EAAM/O,gBAAN,eAAgBiR,SACf,8BACGjE,EAAKU,EAAE,+BAA4B,IACpC,kBAAC,IAAD,CAAM6E,GAAG,iBACNvF,EAAKU,EAAE,oCAWtB,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACGwgC,EACD,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEC,KAAK,oBACL79B,GAAG,4BACH0R,OAAK,IAENuiB,GACC,oCACE,kBAAC,IAAD,CAAO50B,KAAK,0BACV,kBAAC,GAAD,CACEu6B,qBAAsBA,EACtBC,kBAAmBA,EACnB5F,YAAaA,KAGjB,kBAAC,IAAD,CAAO50B,KAAK,6BACV,kBAAC,GAAD,CACE40B,YAAaA,EACb2F,qBAAsBA,EACtBC,kBAAmBA,KAGvB,kBAAC,IAAD,CAAOx6B,KAAK,4BACV,kBAAC,GAAD,CAAmB40B,YAAaA,Y,iCC3D1C6J,GAAc,SAAdA,EAAe,GAA0B,IAGzCC,EAHiBC,EAAuB,EAAvBA,iBACf7L,EAAQmC,cACRt4B,EAAQgiC,EAAiB7L,EAAM1zB,KAerC,OAZI0zB,EAAM8L,UACRF,EACE,kBAAClhC,GAAA,EAAD,CAAON,KAAK,MAAMO,aAAa,MAC5Bd,IAKFA,IACH+hC,EAAe,MAIf,kBAAC,WAAD,KACGA,EACD,kBAAC,IAAD,CAAO1+B,KAAI,UAAK8yB,EAAM1zB,IAAX,WACT,kBAACq/B,EAAD,CAAaE,iBAAkBA,OAMjCE,GAAQ,SAARA,EAAS,GAAuC,IAArCF,EAAoC,EAApCA,iBAAkBG,EAAkB,EAAlBA,YAC3BhM,EAAQmC,cACR8J,EAAQJ,EAAiB7L,EAAM1zB,KAEjC4/B,EACF,kBAACC,GAAA,EAAD,CAAgBp1C,IAAKipC,EAAM1zB,IAAK0/B,YAAaA,GAC3C,kBAAC,IAAD,CAAMn+B,GAAImyB,EAAM1zB,KAAM2/B,IAW1B,OAPIjM,EAAM8L,UACRI,EAAe,MAGZD,IACHC,EAAe,MAGf,kBAAC,WAAD,KACGA,EACD,kBAAC,IAAD,CAAOh/B,KAAI,UAAK8yB,EAAM1zB,IAAX,WACT,kBAACy/B,EAAD,CAAOF,iBAAkBA,EAAkBG,aAAW,OAc/CviC,yBAtHM,SAAC,GAA4C,IAA1CoiC,EAAyC,EAAzCA,iBAAkBvjC,EAAuB,EAAvBA,KAAM8jC,EAAiB,EAAjBA,WACtC3O,EAAUC,KAAVD,MACF4O,EAAgBlK,YAAc,CAClCj1B,KAAMnV,OAAOC,KAAK6zC,GAAkB,GACpCS,QAAQ,IAEJC,EAAiBF,GAAiBA,EAAcP,QAEtD,OACE,kBAAC33B,GAAA,EAAD,CAAarK,QAAS2zB,GACpB,yBACE7tB,MAAO,CACL8uB,QAAS,OACTC,eAAgB,gBAChB6N,WAAY,WAGd,8BACID,GACA,kBAACE,GAAA,EAAD,KACE,kBAAC,IAAD,CAAOv/B,KAAK,UACV,kBAAC,GAAD,CAAO2+B,iBAAkBA,MAI/B,yBACEj8B,MAAO,CACL88B,UAAW,SAGb,kBAAC,IAAD,CAAOx/B,KAAK,UACV,kBAAC,GAAD,CAAa2+B,iBAAkBA,OAIrB,SAAfO,GACC,6BACE,kBAAC,KAAD,CAASv9B,QAASvG,EAAKU,EAAE,6BAA0B4F,SAAS,OAC1D,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,6BACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,0BACAu+B,EAAU,gBAAYA,GAAe,KAGvC,kBAAC,KAAD,cC7CVO,GAAmBhjC,YAAO8wB,KAAP9wB,CAAH,sDAsGPF,I,YAAAA,yBAlGf,YAAiC,IAATnB,EAAQ,EAARA,KACtB,EAA4DiD,mBAAS,MAArE,mBAAOqhC,EAAP,KAA+BC,EAA/B,KACA,EAAgDthC,mBAAS,CACvD,gBAAiBjD,EAAKU,EAAE,qBACxB,oBAAqBV,EAAKU,EAAE,iCAF9B,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAAAmwB,GAAgB,IAAD,EACRA,GAGLgL,GAAmB,GACjB,gBAAiBxkC,EAAKU,EAAE,qBACxB,oBAAqBV,EAAKU,EAAE,gCAFX,uCAGC84B,EAAY3lC,IAHb,UAGuB2lC,EAAYv/B,OAHnC,uCAICu/B,EAAY3lC,GAJb,SAIyBmM,EAAKU,EAAE,sBAJhC,uCAKC84B,EAAY3lC,GALb,YAK4BmM,EAAKU,EAAE,iBALnC,uCAMC84B,EAAY3lC,GANb,WAM2BmM,EAAKU,EAAE,gBANlC,MASrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,2CACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,qBACV,kBAAC,GAAD,CACE+7B,gBAAiB,SAAA+D,GAAG,OAAIH,EAA0BG,OAGtD,kBAAC,IAAD,CAAO9/B,KAAK,qBACV,kBAAC,GAAD,CAAao+B,cAAeyB,KAE9B,kBAAC,IAAD,CAAO7/B,KAAK,iBACV,kBAAC,GAAD,QAGH0/B,GACC,kBAAChiC,GAAA,EAAD,CACEE,aAAYxC,EAAKU,EAAE,gCACnBZ,QAAM,EACN0B,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,gCACdX,QAAS,kBAAMwkC,EAA0B,QAExCD,EAAuBK,eACtB,kBAACN,GAAD,CACE7iC,QAAQ,OACR4wB,UAAQ,EACR7wB,MAAOvB,EAAKU,EACV,iEAIN,kBAAC,GAAD,CAAYkpB,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOy1C,EAAuBrqC,OAE/BqqC,EAAuB9C,WACtB,kBAAC,GAAD,CACEznC,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC+1C,GAAA,EAAD,CACE1I,YAAU,EACV16B,QAASqjC,KAAqBC,WAE7BR,EAAuB9C,aAK/B8C,EAAuBK,eACtB,kBAAC,GAAD,CACE5qC,MAAOiG,EAAKU,EAAE,sBACd7R,MACE,kBAAC+1C,GAAA,EAAD,CACE1I,YAAU,EACV16B,QAASqjC,KAAqBC,WAE7BR,EAAuBK,uBCvGtCI,GAAiB1jC,IAAOC,IAAV,2QAKF,SAAAI,GAAK,OACnBA,EAAM+3B,WACF,sCACA,wCAMFuL,GAAY3jC,IAAOC,IAAV,4FAGO,SAAAI,GAAK,OACvBA,EAAM+3B,WAAa,sCAAwC,QAGzDwL,GAAW5jC,IAAOC,IAAV,qDAIRrZ,GAAcoZ,IAAO6jC,EAAV,kDAIjB,SAASC,GAAT,GAOI,IANFprC,EAMC,EANDA,MACA+X,EAKC,EALDA,YACAzK,EAIC,EAJDA,QACAoyB,EAGC,EAHDA,WACAxO,EAEC,EAFDA,OACAf,EACC,EADDA,UAEA,OACE,kBAAC6a,GAAD,CACE19B,QAASA,EACT+9B,WAAY/9B,EACZsK,KAAK,SACL0zB,SAAS,IACT7a,UAASS,EACTwO,WAAYA,EACZj3B,aAAY0nB,GAEZ,kBAAC8a,GAAD,CAAWvL,WAAYA,IACvB,kBAACwL,GAAD,KACE,2BAAIlrC,GACJ,kBAAC9R,GAAD,KAAc6pB,KActBqzB,GAAejkC,aAAe,CAC5BnH,MAAO,GACP+X,YAAa,GACb2nB,YAAY,EACZvP,UAAW,IAGEib,I,GAAAA,M,WCxEfG,KAAO5e,YAAc,WACNrlB,mBAAOikC,KAAPjkC,CAAf,2FCUMkkC,GAAY,SAAA1kB,GAChB,OAAOxzB,EAAY,WAAY,CAC7BG,KAAM,EACNC,UAAW,EACXC,SAAS,GAAD,OACNmzB,EAAYjxB,QAAO,SAAA6sB,GAAG,MAAgB,SAAZA,EAAIhuB,OAAgBG,OAAS,OAAS,eAItE,SAAS42C,GAAT,GAUI,IATF5kB,EASC,EATDA,cACAC,EAQC,EARDA,YACAob,EAOC,EAPDA,WACA3E,EAMC,EANDA,WACAmO,EAKC,EALDA,cACAC,EAIC,EAJDA,qBACA14B,EAGC,EAHDA,WACAk0B,EAEC,EAFDA,aACAlhC,EACC,EADDA,KAEMiF,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJ81B,EAAcxvB,EAClBy3C,GAAU1kB,GACV5b,EAASkI,QAHD,SAWAvX,QAAQmU,IAAI,CAACiD,EAAWsQ,GAAc4jB,MAXtC,iDAQNvtC,KAAQoiB,EARF,EAQEA,MAAO9gB,EART,EAQSA,QAEjB8gC,EAVQ,uBAYH,CACL4P,UAAW1wC,EACXyrB,UAAW3K,EACX0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBApB/C,4CAsBT,CAACjxB,EAAU+H,EAAYk0B,EAAcrgB,IACxC,CACE8kB,UAAW,GACXjlB,UAAW,EACXjH,sBAAuB,GACvBD,eAAgB,KAhClBpN,EADF,EACEA,UACArK,EAFF,EAEEA,MACS6jC,EAHX,EAGEr5B,QAHF,IAIEN,OAAU05B,EAJZ,EAIYA,UAAWjlB,EAJvB,EAIuBA,UAAWjH,EAJlC,EAIkCA,sBAAuBD,EAJzD,EAIyDA,eAqCzD,OAJAjQ,qBAAU,WACRq8B,MACC,CAACA,IAGF,kBAAC,WAAD,KACE,6BACG5lC,EAAKU,EACJ,oNAGHglC,EAAqB92C,OAAS,GAC7B,kBAAC,GAAD,CACEqtC,WAAYA,EACZliC,MAAO0rC,EACPrpB,SAAUkb,EACV0B,SAAU0M,IAGd,kBAAC,GAAD,CACE7gB,kBAAmBzY,EACnBwY,aAAc7iB,EACdpX,MAAOg7C,EACPjlB,UAAWA,EACX5T,SAAUy4B,GAAU1kB,GACpByW,WAAYA,EACZtS,qBAAsBpE,EACtBgW,mBAAoB/V,EACpBoE,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,WAAYiM,EAAqB52C,MAAK,SAAAuR,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,MACzDwR,OAAQ4uB,EAAKpgC,GACbpF,IAAKwlC,EAAKpgC,GACVoG,KAAMg6B,EAAKgI,GACXliC,MAAOk6B,EAAKgI,GACZp1B,SAAU,kBAAMywB,EAAWrD,IAC3ByI,WAAY,kBAAMpF,EAAWrD,OAGjC/Q,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,KAgB7BogB,GAAmBtkC,aAAe,CAChC0f,cAAe,KACfC,YAAa,KACbob,WAAY,OACZ3E,WAAY,aACZmO,cAAe,KACfC,qBAAsB,IAITvkC,I,MAAAA,wBAAWuE,YAAW8/B,KCxI/BK,GAAkBxkC,IAAOC,IAAV,iLAOfwgB,GAAWzgB,YAAOykC,KAAPzkC,CAAH,kFAOR0kC,G,4JACJ,WACE,MAA4DtyC,KAAKiO,MAAzDzH,EAAR,EAAQA,KAAM6X,EAAd,EAAcA,YAAa2nB,EAA3B,EAA2BA,WAAY5yB,EAAvC,EAAuCA,SAAUxB,EAAjD,EAAiDA,OACjD,OACE,kBAACwgC,GAAD,KACE,kBAAC,GAAD,CACE9jB,UAAW0X,EACX5d,SAAUhV,EACVrE,aAAYvI,EACZpG,GAAE,wBAAmBwR,GACrBtL,MACE,kBAAC,WAAD,KACE,yBAAKuN,MAAO,CAAE0+B,WAAY,SAAW/rC,GACrC,6BAAM6X,IAGVjjB,MAAOwW,S,GAhBUI,aA+B3BsgC,GAAa7kC,aAAe,CAC1B4Q,YAAa,GACb2nB,YAAY,EACZ5yB,SAAU,MAGGk/B,UC/Cf,SAASE,GAAT,GAQI,IAPFC,EAOC,EAPDA,aACAC,EAMC,EANDA,MACAC,EAKC,EALDA,gBACAC,EAIC,EAJDA,kBACAX,EAGC,EAHDA,qBACAY,EAEC,EAFDA,iBACAtmC,EACC,EADDA,KAEA,OACE,kBAAC,WAAD,KACE,6BACGA,EAAKU,EACJ,mIAGJ,6BACGglC,EAAqB92C,OAAS,GAC7B,kBAAC,GAAD,CACEqtC,WAAYmK,EACZlK,YAAU,EACVniC,MAAOssC,GAAqBrmC,EAAKU,EAAE,2BACnCs4B,SAAU0M,KAIhB,yBACEp+B,MAAO,CACL8uB,QAAS,OACTmQ,oBAAqB,UACrBC,IAAK,YACLC,UAAW,SAGZh3C,OAAOC,KAAKy2C,GAAO/3C,KAAI,SAAAujB,GAAI,OAC1B,kBAAC,GAAD,CACEG,YAAaq0B,EAAMx0B,GAAMG,YACzBzM,OAAQ8gC,EAAMx0B,GAAM9d,GACpB4lC,WAAY6M,EAAiBx3C,MAC3B,SAAAmlC,GAAI,OAAIA,EAAKpgC,KAAOsyC,EAAMx0B,GAAM9d,MAElCpF,IAAK03C,EAAMx0B,GAAM9d,GACjBoG,KAAMksC,EAAMx0B,GAAM1X,KAClB4M,SAAU,kBAAMq/B,EAAaC,EAAMx0B,YAiB/Cs0B,GAAU/kC,aAAe,CACvBglC,aAAc,aACdE,gBAAiB,OACjBC,kBAAmB,KACnBX,qBAAsB,GACtBY,iBAAkB,IAGLnlC,4BAAW8kC,ICnEpBS,GAAS,uCAAG,WAAMppB,GAAN,SAAA91B,EAAA,+EAChBiX,GAAS/J,KAAKjF,OAAOk3C,OAAOrpB,EAAa,CAAEhL,cAAc,MADzC,2CAAH,sDAGTs0B,GAAgB,uCAAG,sBAAAp/C,EAAA,+EAAYiX,GAASq3B,eAArB,2CAAH,qDAEhB+Q,GAAS,uCAAG,WAAMvpB,GAAN,SAAA91B,EAAA,+EAAqB6W,GAAS3J,KAAK4oB,IAAnC,2CAAH,sDAETwpB,GAAgB,uCAAG,sBAAAt/C,EAAA,+EAAY6W,GAASy3B,eAArB,2CAAH,qDAEtB,SAASiR,GAAT,GAAsE,IAA3CC,EAA0C,EAA1CA,OAAQjnC,EAAkC,EAAlCA,QAASomC,EAAyB,EAAzBA,MAAOnmC,EAAkB,EAAlBA,KAAMmzB,EAAY,EAAZA,SACvD,EAAgDlwB,mBAAS,MAAzD,mBAAOgkC,EAAP,KAAyBC,EAAzB,KACA,EAAwDjkC,mBAAS,IAAjE,mBAAOyiC,EAAP,KAA6ByB,EAA7B,KACA,EAAgDlkC,mBAAS,IAAzD,mBAAOqjC,EAAP,KAAyBc,EAAzB,KACA,EAA0CnkC,mBAAS,GAAnD,mBAAOokC,EAAP,KAAsBC,EAAtB,KACA,EAA4CrkC,mBAAS,GAArD,mBAAOskC,EAAP,KAAuBC,EAAvB,KAEMC,EAA8B,SAAA9b,GAClC,IAAM+b,EAAgBhC,EAAqBjI,WACzC,SAAAkK,GAAW,OAAIA,EAAY9zC,KAAO83B,EAAK93B,MAErC6zC,GAAiB,GACnBhC,EAAqBx0C,OAAOw2C,EAAe,GACP,IAAhChC,EAAqB92C,QACvB44C,EAAkBH,GAEpBD,EAAoB1B,IAEpByB,EAAwB,GAAD,mBAAKzB,GAAL,CAA2B/Z,MAiBhDic,EAAuB,SAAAC,GAC3BX,EAAoBW,GACpBV,EAAwB,IACxBC,EAAoB,KAYhBU,EAAgB,uCAAG,gCAAAtgD,EAAA,sDAIrB,IAJqB,SAEfugD,EAAe,GAEZ1nC,EAAI,EAAGA,EAAIqlC,EAAqB92C,OAAQyR,IAC/C,IAAS2nC,EAAI,EAAGA,EAAI1B,EAAiB13C,OAAQo5C,IAClB,UAArBf,EACFc,EAAa36B,KACX3O,GAASwpC,cACPvC,EAAqBrlC,GAAGxM,GACxByyC,EAAiB0B,GAAGn0C,KAGM,UAArBozC,GACTc,EAAa36B,KACX/O,GAAS4pC,cACPvC,EAAqBrlC,GAAGxM,GACxByyC,EAAiB0B,GAAGn0C,KAjBT,gBAwBf+B,QAAQmU,IAAIg+B,GAxBG,OAyBrBf,IAzBqB,yGAAH,qDAiChBkB,EAAe,eAAQ/B,GACJ,UAArBc,GACFx3C,OAAOC,KAAKy2C,GAAO93C,SAAQ,SAAAI,GACrBy5C,EAAgBz5C,GAAK05C,kBAChBD,EAAgBz5C,MAK7B,IAAM25C,EAAoB,CACxB,CACEnuC,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,yBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,yBAGH45C,EAAkB,CACtB,CACEpuC,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,cAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,cAGH65C,EAAoB,CACxB,CACEruC,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,wBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,0BAIH85C,EAAkB,CACtB,CACEtuC,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAIL+5C,EAAc,GAElB,OAAQvB,GACN,IAAK,QACHuB,EAAcxoC,EAAKU,EAAE,6CACrB,MACF,IAAK,QACH8nC,EAAcxoC,EAAKU,EAAE,6CACrB,MACF,QACE8nC,EAAcxoC,EAAKU,EAAE,iCAGzB,IAAM+nC,EAAQ,CACZ,CACE50C,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,6CACbM,UACE,yBAAKsG,MAAO,CAAE8uB,QAAS,OAAQsS,SAAU,SACvC,yBAAKphC,MAAO,CAAE+e,MAAO,OAAQsiB,aAAc,SACxC3oC,EAAKU,EACJ,oXAGJ,kBAAC,GAAD,CACE+4B,WAAiC,UAArBwN,EACZltC,MAAOiG,EAAKU,EAAE,qBACdwpB,UAAWlqB,EAAKU,EAAE,qBAClBuqB,OAAO,iBACP5jB,QAAS,kBAAMugC,EAAqB,YAElB,gBAAX,OAARzU,QAAQ,IAARA,OAAA,EAAAA,EAAUh+B,QAAyB,OAACg+B,QAAD,IAACA,OAAD,EAACA,EAAUj5B,cAC7C,kBAAC,GAAD,CACEu/B,WAAiC,UAArBwN,EACZltC,MAAOiG,EAAKU,EAAE,qBACdwpB,UAAWlqB,EAAKU,EAAE,qBAClBuqB,OAAO,iBACP5jB,QAAS,kBAAMugC,EAAqB,YANsB,MAWlEgB,WAAiC,OAArB3B,GAEd,CACEpzC,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,yDACbM,UACE,kBAAC,WAAD,KACwB,UAArBimC,GACC,kBAAC,GAAD,CACErmB,cAAewnB,EACfvnB,YAAawnB,EACbpM,WAAW,WACX3E,WAAYmQ,EACZz6B,WAAY05B,GACZxF,aAAc0F,GACdnB,cAAezlC,EAAKU,EAAE,2BACtBglC,qBAAsBA,EACtB7G,gBAAgB,aAGE,UAArBoI,GACC,kBAAC,GAAD,CACErmB,cAAe0nB,EACfznB,YAAa0nB,EACbjR,WAAYmQ,EACZz6B,WAAY65B,GACZ3F,aAAc4F,GACdrB,cAAezlC,EAAKU,EAAE,2BACtBglC,qBAAsBA,KAK9BkD,WAAYlD,EAAqB92C,OAAS,EAC1Ci6C,UAAWtB,GAAkB,GAE/B,CACE1zC,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,yDACbM,UACE,kBAAC8nC,GAAD,CACE5C,aA7MwB,SAAAv0B,GAC9B,IAAM+1B,EAAgBpB,EAAiB7I,WACrC,SAAAkK,GAAW,OAAIA,EAAY9zC,KAAO8d,EAAK9d,MAGrC6zC,GAAiB,GACnBpB,EAAiBp1C,OAAOw2C,EAAe,GACvCN,EAAoBd,IAEpBc,EAAoB,GAAD,mBAAKd,GAAL,CAAuB30B,MAqMtCw0B,MAAO+B,EACP9B,gBAAsC,UAArBa,EAA+B,WAAa,OAC7DZ,kBAAmBrmC,EAAKU,EAAE,2BAC1BglC,qBAAsBA,EACtBY,iBAAkBA,IAGtByC,eAAgB/oC,EAAKU,EAAE,aACvBkoC,WAAYtC,EAAiB13C,OAAS,EACtCi6C,UAAWtB,GAAkB,IAI3ByB,EAAcP,EAAMtrB,MAAK,SAAA8rB,GAAI,OAAIA,EAAKp1C,KAAOwzC,KAGnD,OACE,kBAAC,GAAD,CACE//B,MAAO,CAAE4hC,SAAU,UACnBppC,QAAM,EACNqpC,OA/MqB,SAAAF,GACvB3B,EAAiB2B,EAAKp1C,IACtB2zC,EAAkByB,EAAKp1C,KA8MrBkM,QAASA,EACTinC,OAAQc,EACRsB,WAAY,SAAAH,GAAI,OA7MS,SAAAA,GAC3B3B,EAAiB2B,EAAKp1C,IA4MAw1C,CAAqBJ,IACzCR,MAAOA,EACPlnC,MAAOinC,EACPO,eAAgBC,EAAYD,qBAAkB/X,EAC9CsY,eAAgBtpC,EAAKU,EAAE,qBACvB6oC,iBAAkBvpC,EAAKU,EAAE,uBAY/BqmC,GAAgB7lC,aAAe,CAC7BilC,MAAO,GACPhT,SAAU,IAIGhyB,4BAAW4lC,IC5R1B,SAASyC,GAAT,GAMI,IALF73B,EAKC,EALDA,KACAtW,EAIC,EAJDA,SACA+/B,EAGC,EAHDA,SACAkG,EAEC,EAFDA,UACAthC,EACC,EADDA,KAEMypC,EAAa,WACjB,MAA+B,qBAAjB93B,EAAK+3B,SAGfnoC,EAAQvB,EAAKU,EACjB,kCAAW+oC,IAAezpC,EAAKU,EAAE,aAAWV,EAAKU,EAAE,gBAErD,OACE,kBAAC,GAAD,CACEc,QAAQ,SACRD,MAAOA,EACPzB,QAAM,EACNC,QAASq7B,EACTtwB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,uBACnB2G,QAASi6B,GAERthC,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CAAQtc,IAAI,SAAS+S,QAAQ,YAAY6F,QAAS+zB,GAC/Cp7B,EAAKU,EAAE,wBAIX+oC,IACC,kBAAC,WAAD,KACGzpC,EAAKU,EACJ,gHAAoCiR,EAAK1X,KAAzC,EAA6D0X,EAAKg4B,aAEpE,6BACA,6BACC3pC,EAAKU,EACJ,uGAIJ,kBAAC,WAAD,KACGV,EAAKU,EACJ,4EAAoCiR,EAAK1X,KAAoBoB,gBAezEmuC,GAA4BtoC,aAAe,CACzC7F,SAAU,IAGG8F,4BAAWqoC,I,WCtDpBrS,GAAoB91B,YAAOuoC,MAAV,+FAAGvoC,CAAH,wBAgHRF,6BA5Gf,YAAuE,IAArC0oC,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,aAAc9pC,EAAQ,EAARA,KAwBtDm8B,EAAa,SAAAxqB,GACjB,OACE,kBAAC2qB,GAAA,EAAD,CACE7tC,IAAKkjB,EAAK9d,GACVwT,QAAS,WACPyiC,EAAan4B,EAAMk4B,IAErB3N,YAAavqB,EAAKI,kBAAkBC,UAEnCL,EAAK1X,OAKZ,EAhCqB,WACnB,IAAM8vC,EAAY,GACZC,EAAY,GAElB,SAASr6C,EAAKskC,GACZ,IAAQtiB,EAASsiB,EAATtiB,KACJA,EAAK+3B,QACPK,EAAU38B,KAAKuE,GAEfq4B,EAAU58B,KAAKuE,GAMnB,OAFAk4B,EAAaj3B,eAAeC,cAAczkB,IAAIuB,GAC9Ck6C,EAAaj3B,eAAeE,gBAAgB1kB,IAAIuB,GACzC,CAACo6C,EAAWC,GAiBUC,GAA/B,mBAAOF,EAAP,KAAkBC,EAAlB,KAEA,OACE,kBAAC/S,GAAA,EAAD,CACEx0B,kBAAgB,mBAChBhU,IAAKo7C,EAAah2C,GAClBA,GAAE,UAAKg2C,EAAah2C,KAEpB,kBAACqjC,GAAA,EAAD,KACE,kBAAC,GAAD,CACEE,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QACfo7C,EAAaxuC,UACZ,kBAACyF,GAAA,EAAD,KACG+oC,EAAah2C,GACZ,kBAACq2C,GAAA,EAAD,CAAMlpC,UAAWmpC,KAAaC,IAC5B,sBACE7kC,GAAI,CAAEL,SAAS,UAAD,OAAY2kC,EAAah2C,GAAzB,cAGbg2C,EAAaxuC,WAIlB,sBAAM2F,UAAWmpC,KAAaC,IAC3BP,EAAaxuC,WAKrBwuC,EAAaz3B,YAAcy3B,EAAax3B,UACvC,kBAAC,GAAD,CAAYuX,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAK,UAAKg7C,EAAaz3B,WAAlB,YAAgCy3B,EAAax3B,cAGpD,MAEN,kBAAC,GAAD,CAAc5jB,IAAI,SAChB,kBAAC,GAAD,CAAYm7B,SAAO,GAChBogB,EAAUp7C,OAAS,GAClB,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,mBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYqO,EAAUp7C,QAC3Co7C,EAAU57C,IAAI+tC,MAKtB4N,EAAUn7C,OAAS,GAClB,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,mBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYoO,EAAUn7C,QAC3Cm7C,EAAU37C,IAAI+tC,gB,yQC1GjCtG,GAAYxoC,EAAY,SAAU,CACtCG,KAAM,EACNC,UAAW,EACXC,SAAU,eA8KGyT,6BA3Kf,YAA2D,IAA7BnB,EAA4B,EAA5BA,KAAMqqC,EAAsB,EAAtBA,SAAUlX,EAAY,EAAZA,SAC5C,EAA4ClwB,mBAAS,MAArD,mBAAOqnC,EAAP,KAAuBC,EAAvB,KACA,EAAwCtnC,mBAAS,MAAjD,mBAAOunC,EAAP,KAAqBC,EAArB,KACA,EAAwCxnC,oBAAS,GAAjD,mBAAOynC,EAAP,KAAqBC,EAArB,KACA,EAA8C1nC,oBAAS,GAAvD,mBAAO2nC,EAAP,KAAwBC,EAAxB,KACM5lC,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDsgC,EAASh1C,eAAe89B,EAASt/B,GAAI5F,GACrCo8C,EAAS/0C,kBAAkB69B,EAASt/B,MAJ5B,0CAEHb,EAFG,KAEO+iC,EAFP,uBAMH,CACL+U,cAAe93C,EAASW,KAAKsB,QAC7ByrB,UAAW1tB,EAASW,KAAKoiB,MACzB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACmU,EAAUplC,EAAUkuB,EAASt/B,KACjC,CACEi3C,cAAe,GACfpqB,UAAW,EACXjH,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAU6+B,EADZ,EACYA,cAAepqB,EAD3B,EAC2BA,UAAWjH,EADtC,EACsCA,sBAAuBD,EAD7D,EAC6DA,eACpDoL,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACS2+B,EAJX,EAIEx+B,QA2BFhD,qBAAU,WACRwhC,MACC,CAACA,IAEJ,MAKIl+B,GACFxD,uBAAY,WACV,MAAoC,qBAAzBmhC,EAAad,QACfrrC,GAAS2sC,iBAAiBR,EAAad,QAASc,EAAa32C,IAE/D4K,GAASusC,iBAAiBV,EAAez2C,GAAI22C,EAAa32C,MAEhE,CAAC22C,IACJ,CACE19B,SAAU+oB,GACV7oB,WAAY+9B,IAdHE,EADb,EACE7+B,UACa8+B,EAFf,EAEEh+B,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAeF,OACE,oCACE,kBAAC,GAAD,CACEvL,MAAO6iB,EACPC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOmgD,EACPpqB,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,sBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,yBAEP,CACEwL,KAAM+F,EAAKU,EAAE,kBACbjS,IAAK,yBAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,cAEP,CACEwL,KAAM+F,EAAKU,EAAE,kBACbjS,IAAK,cAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,eAClB,kBAAC,GAAD,iBACMA,EADN,CAEEoL,SAAU+oB,GACV5U,oBACU,OAARkS,QAAQ,IAARA,GAAA,UAAAA,EAAUvgB,sBAAV,mBAA0Bb,yBAA1B,eAA6C6nB,MACzC,CACE,kBAAC,GAAD,CACEnrC,IAAI,MACJ4Y,QAAS,kBAAMsjC,GAAgB,OAGnC,OAIVpT,WAAY,SAAAsS,GAAY,OACtB,kBAAC,GAAD,CACEp7C,IAAKo7C,EAAah2C,GAClBg2C,aAAcA,EACdC,aAAc,SAACn4B,EAAMw5B,GACnBZ,EAAkBY,GAClBV,EAAgB94B,GAChBk5B,GAAmB,IAErB7qC,KAAMA,OAIX0qC,GACC,kBAAC,GAAD,CACE3qC,QAAS,kBAAM4qC,GAAgB,IAC/B3D,OAAQ,WACN2D,GAAgB,GAChBI,KAEF5E,MAAOhT,EAASvgB,eAAeK,aAC/BkgB,SAAUA,IAGbyX,GACC,kBAAC,GAAD,CACEj5B,KAAM64B,EACNnvC,SAAUivC,EAAejvC,SACzB+/B,SAAU,WACRmP,EAAkB,MAClBE,EAAgB,MAChBI,GAAmB,IAErBvJ,UAAS,sBAAE,sBAAA95C,EAAA,sEACH0jD,IADG,OAETL,GAAmB,GACnBN,EAAkB,MAClBE,EAAgB,MAJP,6CAQdp9B,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,mC,0DCnJHS,I,MAAAA,yBA9Bf,YAAmE,IAC7DhM,EADoBsf,EAAwC,EAAxCA,WAAYzU,EAA4B,EAA5BA,KAAmB0B,GAAS,EAAtBC,SAAsB,mBAiBhE,OAdExM,EADEsf,EAAWF,MACNvU,EAAKU,EAAE,cACe,QAApB+T,EAAWrf,MAAsC,QAApBqf,EAAWrf,KAC1Cqf,EAAWrf,KAAK2O,cAEhB29B,GAAYjtB,EAAWrf,MAW9B,kBAACknC,GAAA,EAAS56B,EACR,gCAASvM,EAAT,MATwB,WAAO,IAAD,EAChC,MAAwB,UAApBsf,EAAWrf,OAAX,UAA+Bqf,EAAWiE,cAA1C,aAA+B,EAAmB0yB,UAC9C,GAAN,OAAU32B,EAAWxa,KAArB,cAA+Bwa,EAAWiE,OAAO0yB,UAE7C,GAAN,OAAU32B,EAAWxa,MAMlBoxC,OCHDC,GAAsBjqC,YAAOqrB,GAAPrrB,CAAH,sDAInBkqC,GAAkBlqC,IAAO6jC,EAAV,mDA+PN/jC,6BA3Pf,YAAiD,IAArBnB,EAAoB,EAApBA,KAAMyU,EAAc,EAAdA,WAE1Bta,EAaFsa,EAbF5gB,GACAoG,EAYEwa,EAZFxa,KACA6X,EAWE2C,EAXF3C,YACA4G,EAUEjE,EAVFiE,OACAlG,EASEiC,EATFjC,QACAU,EAQEuB,EARFvB,SANF,EAcIuB,EAPF7B,eACE44B,EARJ,EAQIA,gBACAtxC,EATJ,EASIA,aACA0a,EAVJ,EAUIA,WACAC,EAXJ,EAWIA,YACA9C,EAZJ,EAYIA,kBAGEhN,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,sCAAA7hB,EAAA,sEAQAoO,QAAQmU,IAAI,CACpBlN,GAAmBomC,WAAWuI,EAAgB33C,IAC9CiJ,GAAevH,iBAAiB4E,KAVxB,iDAGNxG,KAAgB83C,EAHV,EAGE/yB,OAA8BgzB,EAHhC,EAGgCA,iBAGrBC,EANX,KAMNh4C,KAAQsB,QANF,kBAYH,CACL22C,OAAQH,EAAqBG,QAAU,GACvCC,eAAgBH,EAChB/1C,aAAcg2C,EAAmB56C,QAC/B,SAAC+6C,EAAiBC,GAEhB,OADAD,EAAgBC,EAAYC,kBAAoBD,EACzCD,IAET,MApBM,2CAuBT,CAAC3xC,EAAcqxC,EAAgB33C,KAClC,CACE+3C,OAAQ,GACRC,gBAAgB,EAChBl2C,aAAc,KAjClB,IACEsW,OAAU2/B,EADZ,EACYA,OAAQC,EADpB,EACoBA,eAAgBl2C,EADpC,EACoCA,aACzBs2C,EAFX,EAEE1/B,QACWsY,EAHb,EAGEzY,UACOwY,EAJT,EAIE7iB,MAiCF,EAII+J,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJsV,GAAek9B,QAAQ7/B,GADnB,OAEV4K,EAAQqI,KAAK,gBAFH,2CAGT,CAACjT,EAAc4K,KAPTmnC,EADX,EACE3/B,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAgFf,OAJArD,qBAAU,WACR0iC,MACC,CAACA,IAEApnB,EACK,kBAAC,GAAD,MAGLD,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE/wB,GAAG,yBACHkG,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,IAET,kBAAC,GAAD,CACEpG,GAAG,gCACHkG,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOijB,IAER5X,GACC,kBAAC,GAAD,CACErG,GAAG,iCACHkG,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,yBAAoBrL,EAAarG,GAAjC,aACLqG,EAAaD,QAKtB,kBAAC,GAAD,CACEpG,GAAG,oCACHkG,MAAOiG,EAAKU,EAAE,wBACd7R,MACEg9C,EACEL,EAAgBvxC,KAEhB,kBAAC,IAAD,CAAMsL,GAAE,4BAAuBimC,EAAgB33C,GAAvC,aACL23C,EAAgBvxC,QAMxB2xC,EAAOx9C,KAAI,SAAA8wB,GAAK,OA5HF,SAAC,GAAyC,IAAvCrrB,EAAsC,EAAtCA,GAAIkG,EAAkC,EAAlCA,MAAO5E,EAA2B,EAA3BA,KAAMg3C,EAAqB,EAArBA,eACvC,OAAIx2C,EAAa9B,GAEb,kBAAC,WAAD,CAAUpF,IAAKoF,GACb,kBAAC,GAAD,CACEA,GAAE,qBAAgBA,EAAhB,WACF+2B,WAAS,EACT7wB,MAAO,8BAAOA,EAAP,MACPlL,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY,GAClC,kBAAC,GAAD,CACElnB,WAAY9e,EAAa9B,GAAI+e,eAAew5B,kBAC5ClQ,YAAU,OAKlB,kBAACoP,GAAD,CACEz3C,GAAE,qBAAgBA,EAAhB,aACF84B,KAAK,aACLH,UAAQ,EACR39B,MAAOjC,KAAKC,UAAU8I,EAAa9B,GAAIw4C,SAAU,KAAM,GACvDxwB,SAAU,aACVyQ,KAAM,EACNC,WAAW,KAMN,YAATp3B,EAEA,kBAAC,GAAD,CACEtB,GAAE,qBAAgBA,EAAhB,WACFpF,IAAKoF,EACLkG,MAAOiG,EAAKU,EAAE,gBACd7R,MAAO,kBAACy9C,GAAA,EAAD,KAAO5zB,EAAO7kB,IAAO,kBAAC04C,GAAA,EAAD,KAAWxyC,MAK1B,gBAAf2e,EAAO7kB,GAEP,kBAAC,GAAD,CACEA,GAAE,qBAAgBA,EAAhB,WACFpF,IAAKoF,EACLkG,MAAOA,EACPlL,MAAOmR,EAAKU,EAAE,kBACdoqB,aAAW,IAKbqhB,GAAiC,QAAfzzB,EAAO7kB,GAEzB,kBAAC,GAAD,CACEA,GAAE,qBAAgBA,EAAhB,WACFpF,IAAKoF,EACLkG,MAAOA,EACPlL,MAAOmR,EAAKU,EAAE,2BAMlB,kBAAC,GAAD,CACE7M,GAAE,qBAAgBA,EAAhB,WACFpF,IAAKoF,EACLkG,MAAOA,EACPlL,MAAO6pB,EAAO7kB,KAuDO24C,CAAattB,MAElC,kBAAC,GAAD,CACErrB,GAAG,4BACHkG,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/W,IAER,kBAAC,GAAD,CACE/gB,GAAG,kCACHkG,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM9W,KAGTplB,OAAOC,KAAKiG,GAAc/G,OAAS,GAClC,kBAAC28C,GAAD,KACGvrC,EAAKU,EACJ,kHAIN,kBAAC,GAAD,KACGqR,EAAkB6nB,MACjB,kBAAC7uB,EAAA,EAAD,CAAQ/J,UAAW43B,IAAMrzB,GAAE,uBAAkBpL,EAAlB,UACxB6F,EAAKU,EAAE,cAGXqR,EAAkBje,QACjB,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,0BACnB4gC,UAAW4K,EACX9/B,UAAWA,GAEVpM,EAAKU,EAAE,uBAIbqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,qCACR,kBAAC,GAAD,CAAaqB,MAAOA,SCrQ9B,SAAS0qC,GAAT,GAA0D,IAA7BC,EAA4B,EAA5BA,aAAc76B,EAAc,EAAdA,WACzC,EAA4B5O,oBAAS,GAArC,mBAAOnD,EAAP,KAAe8yB,EAAf,KACA,EAA8B3vB,mBAC5B,CACE,OACA,KACA,QACA,SACA,OACA,QACA,QACA,SACA,OACA,MACA,aACA,QACA7U,KAAI,SAAA2B,GAAG,MAAK,CAAElB,MAAOkB,OAdzB,mBAAOiE,EAAP,KAAgB24C,EAAhB,KAgBA,EAA2Ctf,aAAS,CAClDpzB,KAAK,UAAD,OAAYyyC,EAAa74C,MAD/B,mBAAO+4C,EAAP,KAA0Btf,EAA1B,KAAgCC,EAAhC,KAGA,OACE,kBAACG,GAAA,EAAD,CACEC,QAAO,qBAAgB+e,EAAa74C,IACpC+5B,kBAAmBN,EAAKvrB,MACxBhI,MAAO2yC,EAAa3yC,MACpB+zB,UACE4e,EAAaG,WAAa,kBAAC,GAAD,CAAStmC,QAASmmC,EAAaG,YAE3Dh7B,WAAYA,EACZgc,UAAaP,EAAKG,SAAWH,EAAKvrB,MAAqB,QAAZ,WAE3C,kBAACjY,GAAA,EAAD,CACEuxB,UAAW,IACX7Z,QAASqZ,KAAcC,UACvBzX,SAAUuvB,EACV1X,QAAS,WACPqS,EAAQ/gB,SAAS,KAEnB3F,SAAU,SAACmU,EAAOgkB,GAChBzR,EAAQ/gB,SAASwyB,GACjBpM,GAAU,IAEZ9yB,OAAQA,EACRjM,GAAG,+BACHsnB,WAAYyxB,EAAkB/9C,MAC9B2sB,aAAW,EACXC,eAAgB,SAAAujB,GACd2N,EAAW,GAAD,mBAAK34C,GAAL,CAAc,CAAEnF,MAAOmwC,QAGlChrC,EAAQ5F,KAAI,SAAA4wC,GAAM,OACjB,kBAACzjB,GAAA,EAAD,CAAc9sB,IAAKuwC,EAAOnwC,MAAOA,MAAOmwC,EAAOnwC,aAazD49C,GAAkBvrC,aAAe,CAC/B2Q,YAAY,GAGC46B,I,SAAAA,M,sBCtETK,GAAqBzrC,IAAOC,IAAV,2KAOlByrC,GAAuB1rC,YAAO2rC,GAAP3rC,CAAH,kDAIpB4rC,GAAiB5rC,IAAO6jC,EAAV,kDAIpB,SAASgI,GAAT,GAKI,IAJFltC,EAIC,EAJDA,KACAyU,EAGC,EAHDA,WACA04B,EAEC,EAFDA,aACAC,EACC,EADDA,cAEA,OACE,oCACE,kBAACN,GAAD,KACE,kBAACC,GAAD,CAAsB1lC,QAAS+lC,EAAe34B,WAAYA,IAC1D,kBAAC,KAAD,CACElO,QAASvG,EAAKU,EAAE,6CAChB4F,SAAS,OAET,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,6CACnB2G,QAAS8lC,EACT3rC,QAASua,IAAcC,SAEvB,kBAAC,KAAD,SAIN,kBAACixB,GAAD,KACE,kBAAC,QAAD,iHAeRC,GAAyBhsC,aAAe,CACtCisC,aAAc,aACdC,cAAe,cAGFjsC,I,MAAAA,wBAAW+rC,IC7DpB3a,GAAclxB,IAAOC,IAAV,iHAKXkxB,GAAsBnxB,YAAOqvB,GAAPrvB,CAAH,yHAKzB,SAASgsC,GAAT,GAUI,IATF5rC,EASC,EATDA,SACAksB,EAQC,EARDA,QACA3tB,EAOC,EAPDA,KACA6R,EAMC,EANDA,WACA9X,EAKC,EALDA,MACA24B,EAIC,EAJDA,SACA4a,EAGC,EAHDA,WACAlmB,EAEC,EAFDA,QACAhgB,EACC,EADDA,WAEA,OACE,yBAAKyI,UAAU,oBACb,kBAAC,GAAD,KACE,6BACE,2BAAOA,UAAU,mBAAmBugB,QAASzC,GAC3C,0BAAM9d,UAAU,yBAAyB9V,GACxC8X,GACC,0BAAMhC,UAAU,4BAA4B09B,cAAY,QAAxD,MAKHnmB,GAAW,kBAAC,GAAD,CAAS7gB,QAAS6gB,EAASvzB,GAAI85B,KAE7C,kBAAC,GAAD,CACEvmB,WAAYA,EACZvT,GAAI6+B,EACJ34B,MAAOiG,EAAKU,EAAE,yBACdzG,KAAMqzC,KAGT7rC,GAcP4rC,GAAgBnsC,aAAe,CAC7B2Q,YAAY,EACZuV,QAAS,MAGIjmB,4BAAWksC,I,qBCxDpBxX,GAAYxoC,EAAY,aAAc,CAC1CG,KAAM,EACNC,UAAW,EACXC,SAAU,OACV8/C,sBAAuB,aA4FVrsC,6BAzFf,YAAoC,IAATnB,EAAQ,EAARA,KACzB,EAAyDqtB,aACvD,cADF,mBAAOogB,EAAP,KAA6BC,EAA7B,KAGM3oC,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpDjN,GAAepI,KAAf,eAAyBzG,IACzB6O,GAAeg5B,gBAJP,0CAEDniC,EAFC,KAEDA,KAAQoiC,EAFP,uBAMH,CACLlgB,YAAaliB,EAAKsB,QAClB8gB,MAAOpiB,EAAKoiB,MACZ0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACnxB,EAAQE,SAASkI,SACrB,CAAE0I,YAAa,GAAIE,MAAO,EAAG0D,sBAAuB,GAAID,eAAgB,KAvB1E,IACEvN,OAAU4J,EADZ,EACYA,YAAaE,EADzB,EACyBA,MAAO0D,EADhC,EACgCA,sBAAuBD,EADvD,EACuDA,eAC9Cm0B,EAFT,EAEE5rC,MACW6rC,EAHb,EAGExhC,UACSyhC,EAJX,EAIEthC,QA0BF,OAJAhD,qBAAU,WACRskC,MACC,CAACA,IAEAF,EACK,kBAAC,GAAD,CAAc5rC,MAAO4rC,IAI5B,kBAAC,GAAD,CACE/oB,aAAc+oB,EACd9oB,kBAAmB+oB,EACnBltB,UAAW3K,EACXprB,MAAOkrB,EACPyhB,WAAY,SAAA6B,GAAG,OAAIuU,EAAyBlhC,SAAS2sB,IACrDrsB,SAAU+oB,GACV0B,WAAY,SAAA9iB,GAAU,aACpB,kBAAC,GAAD,CACEglB,YAA8B,OAAlBgU,QAAkB,IAAlBA,GAAA,UAAAA,EAAoB5+C,aAApB,eAA2BgF,MAAO4gB,EAAW5gB,GACzDwR,OAAQoP,EAAW5gB,GACnBpF,IAAKgmB,EAAW5gB,GAChBoG,KAAMwa,EAAWxa,KACjBF,MAAO0a,EAAWxa,KAClB4M,SAAU,kBAAM6mC,EAAyBlhC,SAASiI,IAClDioB,WAAY,kBAAMgR,EAAyBlhC,SAAS,OACpDiwB,SAAO,KAGXvZ,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,EACrBJ,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,OCsBrBtY,6BAhHf,YAAiC,IAATnB,EAAQ,EAARA,KAChB8tC,EAAOhc,eACb,EAA6BzE,aAAS,cAA/BogB,EAAP,oBACA,EAAsBpgB,aAAS,UAAxB0gB,EAAP,oBAEA,EAKIjiC,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEAKAqV,GAAmBomC,WAC3BwK,EAAmB5+C,MAAM28C,iBACvBiC,EAAmB5+C,MAAMm/C,oBAPnB,2BAERr6C,KACE+kB,OAAoBu1B,EAHd,EAGI71B,UAA0Bi0B,EAH9B,EAG8BA,UAM/Bh+C,SAAQ,SAAA6wB,GACX6uB,EAAYl/C,MAAMqwB,EAAMrrB,IAC1Bi6C,EAAKr+B,cAAciJ,OAAOwG,EAAMrrB,IAAMk6C,EAAYl/C,MAAMqwB,EAAMrrB,IACtC,WAAfqrB,EAAM/pB,MAAqB+pB,EAAM3G,QAC1Cu1B,EAAKr+B,cAAciJ,OAAOwG,EAAMrrB,IAC9BqrB,EAAM5G,SAAW4G,EAAM3G,QAAQ,GAEjCu1B,EAAKr+B,cAAciJ,OAAOwG,EAAMrrB,IAAM,GAEpCo6C,GAAkBA,EAAe1+C,SAAS2vB,EAAMrrB,MAClDqrB,EAAM9G,UAAW,MAnBX,kBAsBHi0B,GAtBG,2CAwBT,IACH,IA9BQT,EADV,EACE3/B,OACAlK,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACS8hC,EAJX,EAIE3hC,QAkCF,OAJAhD,qBAAU,WACR2kC,MACC,CAACA,IAEA9hC,EACK,kBAAC,GAAD,MAGLrK,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAI5B,oCACG6pC,EAAOh9C,OAAS,GACf,kBAACyxC,GAAA,EAAD,KACE,kBAAClP,GAAD,KACGya,EAAOx9C,KAAI,SAAA8wB,GACV,MAAmB,WAAfA,EAAM/pB,KACJ+pB,EAAM3G,QAEN,kBAACmV,GAAA,EAAD,CACEj/B,IAAKywB,EAAMrrB,GACX85B,QAAO,qBAAgBzO,EAAMrrB,IAC7BkG,MAAOmlB,EAAMnlB,MACb8X,WAAYqN,EAAM9G,SAClB0V,UACE5O,EAAM2tB,WAAa,kBAAC,GAAD,CAAStmC,QAAS2Y,EAAM2tB,aAG7C,kBAAC,GAAD,CACE5yC,KAAI,iBAAYilB,EAAMrrB,IACtBhF,MAAOi/C,EAAK71C,OAAOygB,OAAOwG,EAAMrrB,IAChCA,GAAE,qBAAgBqrB,EAAMrrB,IACxBF,KAAMurB,EAAM3G,QAAQnqB,KAAI,SAAA4yC,GACtB,MAAO,CACLnyC,MAAOmyC,EACPvyC,IAAKuyC,EACLjnC,MAAOinC,MAGXnlB,SAAU,SAACb,EAAOnsB,GAChBi/C,EAAK39B,cAAL,iBAA6B+O,EAAMrrB,IAAMhF,IAE3Cu+B,SAAUlO,EAAM9G,SAAWA,GAAS,KAAMpY,GAAQ,QAOxD,kBAAC,GAAD,CACEvR,IAAKywB,EAAMrrB,GACXA,GAAE,qBAAgBqrB,EAAMrrB,IACxBkG,MAAOmlB,EAAMnlB,MACbqtB,QAASlI,EAAM2tB,UACf5yC,KAAI,iBAAYilB,EAAMrrB,IACtBsB,KAAM+pB,EAAMivB,UAAY,WAAa,OACrCt8B,WAAYqN,EAAM9G,SAClBgV,SAAUlO,EAAM9G,SAAWA,GAAS,KAAMpY,GAAQ,OAKjD,cCnGrB,SAASouC,GAAT,GAAkE,IAAhCpuC,EAA+B,EAA/BA,KAAM+O,EAAyB,EAAzBA,aAAchP,EAAW,EAAXA,QACpD,EAA6BstB,aAAS,cAA/BogB,EAAP,oBACA,EAAsBpgB,aAAS,UAAxB0gB,EAAP,oBAEA,EAIIjiC,GACFzC,sBAAW,sBACT,sBAAA7hB,EAAA,+EACEsV,GAAeo3B,KAAKuZ,EAAmB5+C,MAAMgF,GAAI,CAC/Cw4C,SAAU0B,EAAYl/C,SAF1B,2CAIA,CAAC4+C,EAAoBM,IAEvB,MAXQM,EADV,EACEpiC,OACOqiC,EAFT,EAEEvsC,MACSwsC,EAHX,EAGEhiC,QAYIk8B,EAAQ,CACZ,CACE50C,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,aACLuS,UAAW,kBAAC,GAAD,MACX4nC,aAAc6E,EAAmB5+C,OAEnC,CACEgF,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,WACLuS,UAAW,kBAAC,GAAD,MACX6nC,YAAa4E,EAAmB5+C,QAI9B2/C,EACJ,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,MACG,gBAAGC,EAAH,EAAGA,WAAYxF,EAAf,EAAeA,OAAQyF,EAAvB,EAAuBA,OAAvB,OACC,oCACE,kBAAC7jC,EAAA,EAAD,CACElX,GAAG,gCACH2N,QAAQ,UACR6F,QAAS8hC,EACT/hC,YAAaqmC,EAAmB5+C,OAEZ,aAAnB8/C,EAAWlgD,IAAqBuR,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAEzDiuC,GAAiC,aAAnBA,EAAWlgD,KACxB,oCACE,kBAAC,KAAD,CACE8X,QAASvG,EAAKU,EACZ,mIAEF4F,SAAS,SAET,kBAACyE,EAAA,EAAD,CACElX,GAAG,gCACH2N,QAAQ,YACR6F,QAAS,kBAAMknC,MAEdvuC,EAAKU,EAAE,eAIZ,kBAACqK,EAAA,EAAD,CACElX,GAAG,gCACH2N,QAAQ,YACR6F,QAASunC,GAER5uC,EAAKU,EAAE,uBAId,kBAACqK,EAAA,EAAD,CACElX,GAAG,kCACH2N,QAAQ,OACR6F,QAAStH,GAERC,EAAKU,EAAE,2BAQpB,OACE,oCACE,kBAAC4kC,GAAA,EAAD,CACExlC,QAAM,EACNC,QAASA,EACTwB,MAAOvB,EAAKU,EAAE,0CACd+nC,MAAOA,EACPzB,OAAQj4B,EACR8/B,OAAQL,IAETf,EAAmB5+C,OAClB,kBAAC,GAAD,CACEigD,eAAgBrB,EAAmB5+C,MAAMoL,KACzC80C,gBAAiBV,EACjBW,cAAeV,KAOzB,SAASW,GAAT,GAA6E,IAA3CjvC,EAA0C,EAA1CA,KAAMD,EAAoC,EAApCA,QAAS2P,EAA2B,EAA3BA,SAAUD,EAAiB,EAAjBA,cACzD,OACE,kBAAC,KAAD,CACEA,cAAe,CACbgF,YAAyB,OAAbhF,QAAa,IAAbA,OAAA,EAAAA,EAAegF,aAAc,KACzCiE,QAAqB,OAAbjJ,QAAa,IAAbA,OAAA,EAAAA,EAAeiJ,SAAU,IAEnChJ,SAAUA,IAET,gBAAGX,EAAH,EAAGA,aAAH,OACC,kBAACq/B,GAAD,CACEr/B,aAAcA,EACd/O,KAAMA,EACND,QAASA,OAanBkvC,GAAuB/tC,aAAe,CACpCuO,cAAe,IAGFtO,4BAAW8tC,IC3I1B,SAASC,GAAsBxtC,GAAQ,IAAD,IAElCD,EAMEC,EANFD,SACAzB,EAKE0B,EALF1B,KACAoH,EAIE1F,EAJF0F,WACAyK,EAGEnQ,EAHFmQ,WACA2b,EAEE9rB,EAFF8rB,QACAkf,EACEhrC,EADFgrC,aAGF,EAAgDzpC,oBAAS,GAAzD,mBAAOksC,EAAP,KAAyBC,EAAzB,KACA,EAAgC/hB,aAAS,UAAD,OAAWqf,EAAa74C,KAAhE,mBAAOw7C,EAAP,KAAqB9hB,EAArB,KACA,EAA8BF,aAAS,mBAAD,OAAoBqf,EAAa74C,KAAhEy7C,EAAP,oBAEA,OACE,qCACa,OAAVD,QAAU,IAAVA,GAAA,UAAAA,EAAYxgD,aAAZ,eAAmB4lB,YAClB,kBAAC,GAAD,CACEA,WAAU,OAAE46B,QAAF,IAAEA,GAAF,UAAEA,EAAYxgD,aAAd,aAAE,EAAmB4lB,WAC/B24B,cAAe,kBAAM7f,EAAQ/gB,SAAS,KACtC2gC,aAAc,kBAAMiC,GAAoB,MAG1C,kBAACzzB,GAAA,EAAD,KACG3c,IAAMwnB,aAAa/kB,EAAnB,2BACI4tC,GADJ,IAECx9B,aACAgc,UAAWL,EAAU,UAAY,QACjCpmB,aAAckoC,EAAoBzgD,MAClCgtB,SAAU,SAACnb,EAAGsa,GACZq0B,EAAWxzB,SAASb,OAGxB,kBAAC,KAAD,CACEzU,QAASvG,EAAKU,EACZ,kEAGF,kBAACqK,EAAA,EAAD,CACElX,GAAE,qBAAgB64C,EAAa74C,GAA7B,oBACF2N,QAASua,IAAcC,QACvBxZ,aAAYxC,EAAKU,EACf,iEAEF2G,QAAS,kBAAM+nC,GAAoB,IACnChoC,WAAYA,KAAgBkoC,EAAoBzgD,OAEhD,kBAAC,KAAD,SAKPsgD,GACC,kBAAC,GAAD,CACE1/B,cAC8B,kBAArB4/B,EAAWxgD,MAAqBwgD,EAAWxgD,MAAQ,GAE5DkR,QAAS,kBAAMqvC,GAAoB,IACnC1/B,SAAU,SAAA3f,GACRA,EAAI09B,SAAU,EACdF,EAAQ/gB,SAASzc,GACjBq/C,GAAoB,OAQhC,SAASG,GAAsB7tC,GAC7B,IAAQgrC,EAAsChrC,EAAtCgrC,aAAc76B,EAAwBnQ,EAAxBmQ,WAAY2b,EAAY9rB,EAAZ8rB,QAElC,EAA0BH,aAAS,UAAD,OAAWqf,EAAa74C,KAA1D,mBAASy5B,EAAT,KAAeC,EAAf,KACA,EAA8BF,aAAS,mBAAD,OAAoBqf,EAAa74C,KAAhEy7C,EAAP,oBASA,OAPA/lC,qBAAU,WACJ+lC,EAAoBzgD,OACtB0+B,EAAQ/gB,SAAS,MAGlB,CAAC8iC,EAAoBzgD,QAGtB,oCACG69C,EAAaP,eACZ,kBAAC,GAAD,CACExe,QAAO,qBAAgB+e,EAAa74C,IACpC+5B,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZ9X,MAAO2yC,EAAa3yC,MACpB24B,SAAQ,4BAAuBga,EAAa74C,IAC5Cy5C,WAAU,0BAAqBZ,EAAa74C,IAC5CuzB,QAASslB,EAAaG,WAEtB,kBAACqC,GAA0BxtC,GAC1B4rB,EAAKvrB,OAASurB,EAAKG,SAClB,yBACE5d,UAAU,oCACVhc,GAAE,UAAK64C,EAAa74C,GAAlB,WACFw8B,YAAU,UAET/C,EAAKvrB,QAKZ,kBAAC2rB,GAAA,EAAD,CACEC,QAAO,qBAAgB+e,EAAa74C,IACpC+5B,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZgc,UAAWL,EAAU,UAAY,QACjCzzB,MAAO2yC,EAAa3yC,MACpB+zB,UACE4e,EAAaG,WACX,kBAAC,GAAD,CAAStmC,QAASmmC,EAAaG,aAInC,kBAACqC,GAA0BxtC,KAgBrC6tC,GAAsBruC,aAAe,CACnCkG,YAAY,EACZyK,YAAY,GAGC1Q,4BAAWouC,I,sBCnJ1B,SAASC,GAAT,GAKI,IAJFxvC,EAIC,EAJDA,KACA8uC,EAGC,EAHDA,eACAC,EAEC,EAFDA,gBACAC,EACC,EADDA,cAEA,EAAsC/rC,mBAAS,IAA/C,mBAAOwsC,EAAP,KAAoBC,EAApB,KACA,EAAsCzsC,oBAAS,GAA/C,mBAAO0sC,EAAP,KAAoBC,EAApB,KAoCA,OAnCArmC,qBAAU,WACR,GAAIylC,EAAe,CAAC,IAAD,IACjB,UAAIA,QAAJ,IAAIA,GAAJ,UAAIA,EAAeh8C,gBAAnB,iBAAI,EAAyBW,YAA7B,aAAI,EAA+B+kB,OACjC,GAAIs2B,EAAch8C,SAASW,KAAK+kB,OAAOppB,WAAW,QAAS,CACzD,MAGI0/C,EAAch8C,SAASW,KAAK+kB,OAAO3tB,MAAM,MAH7C,mBACE8kD,EADF,KAEEC,EAFF,KAIA,IACE,IAAMC,EAAYnjD,KAAKkiC,MAAMghB,GAC7BJ,EAAe,GAAD,OACTG,GADS,QAED,OAATE,QAAS,IAATA,OAAA,EAAAA,EAAWC,OAAO,IAAlB,YAA4BD,EAAUC,OAAO,IAAO,KAGxD,SACAN,EAAeV,EAAch8C,SAASW,KAAK+kB,cAG7Cg3B,EAAeV,EAAch8C,SAASW,KAAK+kB,aAG7Cg3B,EACE1vC,EAAKU,EACH,qFAINkvC,EAAe,eACNb,IACTW,EAAe1vC,EAAKU,EAAE,qBACtBkvC,EAAe,cAEhB,CAAC5vC,EAAM+uC,EAAiBC,IAGzB,kBAACiB,GAAA,EAAD,CAAYC,SAAO,GAChBT,GAAeE,GACd,kBAACxd,GAAA,EAAD,CACEge,YACE,kBAACC,GAAA,EAAD,CACErwC,QAAS,WACP2vC,EAAe,MACfE,EAAe,SAIrBruC,MACE,oCACE,uBAAG1N,GAAG,+BAA+Bi7C,GACrC,uBAAGj7C,GAAG,kCAAkC47C,IAG5CjuC,QAASmuC,KAanBH,GAA0BtuC,aAAe,CACvC6tC,gBAAiB,KACjBC,cAAe,MAGF7tC,I,GAAAA,wBAAWquC,I,qCCrEpBa,GAAahvC,YAAOivC,KAAPjvC,CAAH,+CAIhB,SAASkvC,GAAT,GAAqE,IAA1C7D,EAAyC,EAAzCA,aAAc8D,EAA2B,EAA3BA,eAAmBpmB,EAAQ,kBAClE,EAAgCnnB,mBAAS,IAAzC,mBAAOwtC,EAAP,KAAiBC,EAAjB,KACA,EAA8CztC,oBAAS,GAAvD,mBAAO0tC,EAAP,KAAwBC,EAAxB,KACA,EAAsCvjB,aAAS,UAAD,OAAWqf,EAAa74C,KAAtE,mBAAOg9C,EAAP,KAAqBvjB,EAArB,KAA2BC,EAA3B,KACMC,IAAYF,EAAKG,SAAWH,EAAKvrB,OACvC,GAAI2qC,EAAayB,UAAW,CAM1B,OACE,kBAAC,GAAD,iBACM0C,EADN,CAEEh9C,GAAE,qBAAgB64C,EAAa74C,IAC/BsB,KAAK,OACL27C,SAAUL,EACV50B,SAXqB,SAAChtB,EAAOiiD,GAC/BvjB,EAAQ/gB,SAAS3d,GACjB6hD,EAAYI,IAUVC,cAAe,kBAAMH,GAAmB,IACxCI,eAAgB,kBAAMJ,GAAmB,IACzCxkC,UAAWukC,EACXM,0BAAwB,EACxBpjB,UAAWL,EAAU,UAAY,WAIvC,GAAIkf,EAAawE,OAAQ,CACvB,IAAMC,EAAgB,kBACpB,kBAAC,GAAD,iBACMN,EADN,CAEEh9C,GAAE,qBAAgB64C,EAAa74C,KAC3Bu2B,KAGR,MAA0B,aAAnBomB,EACL,kBAAC70B,GAAA,EAAD,KAAaw1B,KAEbA,IAGJ,OACE,kBAACv1B,GAAA,EAAD,iBACMi1B,EADN,CAEEh9C,GAAE,qBAAgB64C,EAAa74C,IAC/BgoB,SAAU,SAAChtB,EAAOmsB,GAChB61B,EAAah1B,SAASb,IAExB6S,UAAWL,EAAU,UAAY,WAiBvC,SAAS4jB,GAAT,GAAkE,IAAD,EAAtCC,EAAsC,EAAtCA,eAAgB3E,EAAsB,EAAtBA,aAAc1sC,EAAQ,EAARA,KACvCsxC,EAAiBxf,eAAzB75B,OAEF4Z,IAD+B,OAAdw/B,QAAc,IAAdA,GAAA,UAAAA,EAAgB34B,cAAhB,eAAwBN,WAAY,IACzB7oB,SAASm9C,EAAa74C,IAYxD,EAAsCw5B,aAAS,CAC7CpzB,KAAK,UAAD,OAAYyyC,EAAa74C,IAC7Bu5B,SAZIvb,KAAc,OAACy/B,QAAD,IAACA,OAAD,EAACA,EAAcC,gBAAgB7E,EAAa74C,KAMrDukB,GALes0B,EAAaP,eAC/BnsC,EAAKU,EACH,8EAEF,KAC2BV,GAE1B,OAET,mBAAO6wC,EAAP,KAAqBvjB,EAArB,KAA2BC,EAA3B,KAIMC,IAAYF,EAAKG,SAAWH,EAAKvrB,OAEvC,GAAI2qC,EAAan0B,QAAS,CACxB,IAAMi5B,EAAgB9E,EAAan0B,QAAQnqB,KAAI,SAAA4yC,GAC7C,MAAO,CACLnyC,MAAOmyC,EACPvyC,IAAKuyC,EACLjnC,MAAOinC,MAGX,OACE,kBAACtT,GAAA,EAAD,CACEC,QAAO,qBAAgB+e,EAAa74C,IACpC+5B,kBAAmBN,EAAKvrB,MACxBhI,MAAO2yC,EAAa3yC,MACpB8X,WAAYA,EACZgc,UAAWL,EAAU,UAAY,SAEjC,kBAAC,GAAD,iBACMqjB,EADN,CAEEh9C,GAAE,qBAAgB64C,EAAa74C,IAC/BF,KAAM69C,EACN31B,SAAU,SAACb,EAAOnsB,GAChB0+B,EAAQ/gB,SAAS3d,QAM3B,MAA4B,aAAxBwiD,EAAej8C,KAEf,kBAACs4B,GAAA,EAAD,CACEC,QAAO,qBAAgB+e,EAAa74C,IACpC+5B,kBAAmBN,EAAKvrB,MACxBhI,MAAO2yC,EAAa3yC,MACpB+zB,UACE4e,EAAaG,WAAa,kBAAC,GAAD,CAAStmC,QAASmmC,EAAaG,YAE3Dh7B,WAAYA,EACZgc,UAAWL,EAAU,UAAY,SAEjC,kBAAC+iB,GAAD,CACEC,eAAgBa,EAAej8C,KAC/Bs3C,aAAcA,KAKM,QAAxB2E,EAAej8C,MAAsC,kBAApBs3C,EAAa74C,GAE9C,kBAAC,GAAD,CAAmB64C,aAAcA,EAAc76B,WAAYA,IAI7D,kBAAC,GAAD,CACE66B,aAAcA,EACd76B,WAAYA,EACZgc,UAAWL,EAAU,UAAY,SAEjC,kBAAC+iB,GAAD,CAAiB7D,aAAcA,KAlFrC6D,GAAgBrvC,aAAe,CAC7BsvC,eAAgB,IA8FlBY,GAAgBlwC,aAAe,GAEhBC,4BAAWiwC,IC7FXjwC,6BAlFf,YAAuC,IAATnB,EAAQ,EAARA,KAC5B,EAAkCiD,mBAAS,MAA3C,mBAAOwuC,EAAP,KAAkBC,EAAlB,KACA,EAAgCzuC,mBAAS,IAAzC,mBAAO6tC,EAAP,KAAiBa,EAAjB,KACA,EAAwB1uC,mBAAS,IAAjC,mBAAO2uC,EAAP,KAAaC,EAAb,KACA,EAAoCxkB,aAAS,CAC3CpzB,KAAM,oBADG63C,EAAX,oBAGA,EAAmCzkB,aAAS,CAC1CpzB,KAAM,mBADG83C,EAAX,oBAGA,EAAsC1kB,aAAS,CAC7CpzB,KAAM,wBADG+3C,EAAX,oBAGA,OACE,kBAACtkB,GAAA,EAAD,CACEC,QAAQ,sBACRE,UAAY4jB,EAAwB,QAAZ,UACxB13C,MAAOiG,EAAKU,EAAE,kCACd8N,WAAYxO,EAAKU,EACf,0FAEFktB,kBAAmB6jB,GAEnB,kBAACpB,GAAA,EAAD,CACEx8C,GAAG,sBACHhF,MAAO+iD,EACPd,SAAUA,EACVmB,oBAAqBjyC,EAAKU,EAAE,4BAC5Bmb,SAAQ,uCAAE,WAAMhtB,GAAN,iBAAArH,EAAA,0DACJqH,EADI,iCAGJgjD,EAAQhjD,GACR8iD,EAAY9iD,EAAMoL,MAJd,SAKmBpL,EAAMqR,OALzB,OAKEgyC,EALF,QAMEC,EAAWvlD,KAAKkiC,MAAMojB,IAEhBE,cACTD,EAASE,YACTF,EAASG,aAQVR,EAAsBtlC,SAAS2lC,EAASC,cAAgB,IACxDL,EAAqBvlC,SAAS2lC,EAASE,YAAc,IACrDL,EAAwBxlC,SAAS2lC,EAASG,aAAe,IACzDZ,EAAa,OATbA,EACE1xC,EAAKU,EACH,qGAdF,kDAwBJgxC,EACE1xC,EAAKU,EACH,8FA1BA,gCA+BNmxC,EAAQ,IACRF,EAAY,IACZG,EAAsBtlC,SAAS,IAC/BulC,EAAqBvlC,SAAS,IAC9BwlC,EAAwBxlC,SAAS,IACjCklC,EAAa,MApCP,0DAAF,sDAuCRa,cAAe,CACbC,OAAQ,QACRC,eAAgB,WACdf,EACE1xC,EAAKU,EACH,0EChEhB,SAASgyC,GAAT,GAAsD,IAAzBrB,EAAwB,EAAxBA,eAAgBrxC,EAAQ,EAARA,KACrC2yC,EAAetB,EAAe34B,OAAOkzB,OAAOh8C,QAChD,SAAA88C,GAAY,MAA0B,WAAtBA,EAAav3C,MAAqBu3C,EAAan0B,WAE3Dq6B,EAAgBvB,EAAe34B,OAAOkzB,OAAOh8C,QACjD,SAAA88C,GAAY,MAA0B,YAAtBA,EAAav3C,QAE/B,OACE,kBAACk8B,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,sBAEV,kBAACwwB,GAAD,KACgC,QAA7BmgB,EAAe/jD,WAAuB,kBAAC,GAAD,MACtCqlD,EAAavkD,KAAI,SAAAs+C,GAAY,OAC5BA,EAAayB,UACX,kBAAChd,GAAD,CAAqB1iC,IAAKi+C,EAAa74C,IACrC,kBAAC,GAAD,CACEw9C,eAAgBA,EAChB3E,aAAcA,KAIlB,kBAAC,GAAD,CACEj+C,IAAKi+C,EAAa74C,GAClBw9C,eAAgBA,EAChB3E,aAAcA,OAInBkG,EAAchkD,OAAS,GACtB,kBAACuiC,GAAD,KACE,kBAACzD,GAAA,EAAD,CACEC,QAAQ,wBACR5zB,MAAOiG,EAAKU,EAAE,iBAEd,kBAAC0wB,GAAD,KACGwhB,EAAcxkD,KAAI,SAAAs+C,GAAY,OAC7B,kBAAC,GAAD,CACE74C,GAAE,qBAAgB64C,EAAa74C,IAC/BpF,IAAKi+C,EAAa74C,GAClBoG,KAAI,iBAAYyyC,EAAa74C,IAC7BkG,MAAO2yC,EAAa3yC,MACpBqtB,QAASslB,EAAaG,oBAgB1C6F,GAAkBxxC,aAAe,GAElBC,4BAAWuxC,IC5D1B,SAASG,GAAT,GAMI,IALF7yC,EAKC,EALDA,KACAyU,EAIC,EAJDA,WACA48B,EAGC,EAHDA,eACAyB,EAEC,EAFDA,qBACA/yC,EACC,EADDA,QAEA,EAII+L,GACFzC,sBAAW,uCACT,WAAMpR,GAAN,eAAAzQ,EAAA,yDACQurD,EAAU,CACdr6B,OAAQ24B,EAAe34B,OAAOkzB,OAAO76C,QACnC,SAACiiD,EAAgB9zB,GAEf,OADA8zB,EAAe9zB,EAAMrrB,IAAMi/C,EAAqBp6B,OAAOwG,EAAMrrB,IACtDm/C,IAET,IAEF3G,SAAUp0C,IAGRwc,GAAcA,EAAW+2B,kBAAoB6F,EAAex9C,GAZlE,yCAaWiJ,GAAeo3B,KAAKzf,EAAW5gB,GAAIk/C,IAb9C,gCAeSl2C,GAAmBq3B,KAAKmd,EAAex9C,GAAIk/C,IAfpD,2CADS,sDAkBT,CACEt+B,EACA48B,EAAex9C,GACfw9C,EAAe34B,OAAOkzB,OACtBkH,EAAqBp6B,SAGzB,MA7BQ21B,EADV,EACEpiC,OACOqiC,EAFT,EAEEvsC,MACSwsC,EAHX,EAGEhiC,QA8BI0mC,EAAU,uCAAG,WAAMh7C,GAAN,SAAAzQ,EAAA,sEACX+mD,EAAmBt2C,GADR,2CAAH,sDAIhB,OACE,oCACE,kBAAC,KAAD,CACEwX,cAAe4hC,EAAe34B,OAAO2zB,SAASt7C,QAC5C,SAAC0e,EAAeyP,GAMd,MALmB,WAAfA,EAAM/pB,MAAqB+pB,EAAM3G,QACnC9I,EAAcyP,EAAMrrB,IAAMqrB,EAAM5G,SAAW4G,EAAM3G,QAAQ,GAEzD9I,EAAcyP,EAAMrrB,IAAM,GAErB4b,IAET,IAEFC,SAAU,SAAAzX,GAAM,OAAIg7C,EAAWh7C,MAE9B,gBAAG8W,EAAH,EAAGA,aAAcoB,EAAjB,EAAiBA,cAAjB,OACC,kBAAC7N,GAAA,EAAD,CACEf,MAAOvB,EAAKU,EAAE,iCACdZ,QAAM,EACNC,QAAS,kBAAMA,KACfyB,QAAQ,QACRsJ,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,+BACHpF,IAAI,UACJ+S,QAAQ,UACR6F,QAAS,kBAAM0H,MAEd/O,EAAKU,EAAE,aAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,kCACHpF,IAAI,SACJ+S,QAAQ,OACR6F,QAAS,kBAAMtH,MAEdC,EAAKU,EAAE,wBAIZ,kBAAC2/B,GAAA,EAAD,KACE,kBAAClP,GAAD,KACGkgB,EAAe34B,OAAO2zB,SAASj+C,KAAI,SAAA8wB,GAAU,IAAD,EACrCrN,EAAU,UAAGw/B,EAAe34B,cAAlB,aAAG,EAAuBN,SAAS7oB,SACjD2vB,EAAMrrB,IAER,MAAmB,WAAfqrB,EAAM/pB,KACJ+pB,EAAM3G,QAEN,kBAACmV,GAAA,EAAD,CACEj/B,IAAKywB,EAAMrrB,GACX85B,QAAO,qBAAgBzO,EAAMrrB,IAC7BkG,MAAOmlB,EAAMnlB,MACb+zB,UACE5O,EAAM2tB,WACJ,kBAAC,GAAD,CAAStmC,QAAS2Y,EAAM2tB,YAG5Bh7B,WAAYA,GAEZ,kBAAC,GAAD,CACE5X,KAAMilB,EAAMrrB,GACZhF,MAAOqwB,EAAM5G,QACbzkB,GAAE,qBAAgBqrB,EAAMrrB,IACxBF,KAAMurB,EAAM3G,QAAQnqB,KAAI,SAAA4yC,GACtB,MAAO,CACLnyC,MAAOmyC,EACPvyC,IAAKuyC,EACLjnC,MAAOinC,MAGXnlB,SAAU,SAACb,EAAOnsB,GAChBshB,EAAc+O,EAAMrrB,GAAIhF,IAE1Bu+B,SAAUvb,EAAauG,GAAS,KAAMpY,GAAQ,QAOpD,kBAAC,GAAD,CACEvR,IAAKywB,EAAMrrB,GACXA,GAAE,qBAAgBqrB,EAAMrrB,IACxBkG,MAAOmlB,EAAMnlB,MACbqtB,QAASlI,EAAM2tB,UACf5yC,KAAMilB,EAAMrrB,GACZsB,KAAM+pB,EAAMivB,UAAY,WAAa,OACrCt8B,WAAYA,EACZub,SAAUvb,EAAauG,GAAS,KAAMpY,GAAQ,OAK7C,cAOnB,kBAAC,GAAD,CACE8uC,eAAgBgE,EAAqB74C,KACrC80C,gBAAiBV,EACjBW,cAAeV,KAMvBuE,GAAkBK,SAAW,CAC3Bz+B,WAAYlD,iBAAM,IAClB8/B,eAAgB9/B,iBAAM,IAAIM,WAC1BihC,qBAAsBvhC,iBAAM,IAAIM,WAChC9R,QAASjO,QAAK+f,YAGhBghC,GAAkB3xC,aAAe,CAC/BuT,WAAY,MAGCtT,4BAAW0xC,I,8FCpK1B,SAASM,GAAT,GAKI,IAAD,IAJDnzC,EAIC,EAJDA,KACAozC,EAGC,EAHDA,gBACAzjC,EAEC,EAFDA,OACAF,EACC,EADDA,cAEQU,EAAkB2hB,eAAlB3hB,cAER,EAAuDkd,aAAS,CAC9DpzB,KAAM,kBACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOqzC,EAAP,KAAsBC,EAAtB,KAAoCC,EAApC,KAKMC,IACFH,EAAcxkD,OAC8B,WAA9CukD,EAAgBC,EAAcxkD,OAAOuG,KAEvC,EAAwCi4B,aAAS,CAC/CpzB,KAAM,eACNmzB,SACEomB,GACAp7B,GACEpY,EAAKU,EAAE,6DACPV,KANN,mBAAOyzC,EAAP,KAAiBC,EAAjB,KAA0BC,EAA1B,KAUMC,EAAwBnkD,OAAOC,KAAK0jD,GACvChlD,KAAI,SAAAK,GACH,MAAO,CACLI,MAAOukD,EAAgB3kD,GAAKoF,GAC5BpF,IAAK2kD,EAAgB3kD,GAAKoF,GAC1BkG,MAAOq5C,EAAgB3kD,GAAKwL,SAG/BtK,MAAK,SAACnI,EAAG+xC,GAAJ,OAAW/xC,EAAEuS,MAAM4nC,cAAgBpI,EAAEx/B,MAAM4nC,cAAgB,GAAK,KAyClE7B,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,kBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,yBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB8lB,EAAQ3xC,MAC3ByrB,SAAUkmB,EAAQjmB,UAAYimB,EAAQ3xC,MACtCg8B,OAAQ,kBAAM4V,EAAW5T,cACzBlkB,SAAUikB,EACVjxC,MAAO4kD,EAAS5kD,MAChB4+B,QAASimB,EAAQjmB,QACjB1rB,MAAO2xC,EAAQ3xC,MACfqW,SAAUo7B,IAEZ,kBAAC9lB,GAAA,EAAD,CACEC,QAAQ,kBACRC,kBAAmB0lB,EAAavxC,MAChC8P,YAAU,EACVgc,UACGylB,EAAa7lB,SAAY6lB,EAAavxC,MAAoB,QAAZ,UAEjDhI,MAAOiG,EAAKU,EAAE,yBAEd,kBAAC,GAAD,iBACM2yC,EADN,CAEEx/C,GAAG,kBACHF,KAAI,CACF,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,iCACd0G,YAAY,IALZ,mBAOCwsC,IAEL/3B,SAAU,SAACb,EAAOnsB,GA7FC,IAACglD,EAAmB/F,EA8FrCyF,EAAgB/mC,SAAS3d,GA9FYi/C,EA+FXn+B,GA9FnByjC,EADWS,EA+FChlD,GA9FuB6pB,OAAOkzB,QAAU,IAC5Dv9C,SACL,YAAmE,IAAhE89C,EAA+D,EAA/DA,eAAgBh3C,EAA+C,EAA/CA,KAAMtB,EAAyC,EAAzCA,GAAI0kB,EAAqC,EAArCA,QAAkB2X,EAAmB,EAA5B5X,QACpC,GACEtpB,SAAS6kD,EAAmB,MAAQ/F,EAAKr+B,cAAc+7B,gBAEvDsC,EAAK39B,cAAL,iBAA6Btc,GAAM4b,EAAciJ,OAAO7kB,IACpDs4C,GACF2B,EAAK39B,cAAL,0BACqBtc,GACnB4b,EAAc8hC,gBAAgB19C,QAG7B,CACL,OAAQsB,GACN,IAAK,SACH24C,EAAK39B,cAAL,iBAA6Btc,GAAMq8B,GAAgB,IACnD,MACF,IAAK,UACH4d,EAAK39B,cAAL,iBAA6Btc,GAAMq8B,IAAgB,GAMnD3X,GACFu1B,EAAK39B,cAAL,iBAA6Btc,GAAMq8B,GAGjCic,GACF2B,EAAK39B,cAAL,0BAAsCtc,IAAM,GAGhDi6C,EAAKgG,gBAAL,iBAA+BjgD,IAAM,gBAiEdm9B,IAAxBqiB,EAAcxkD,OACW,KAAxBwkD,EAAcxkD,QADf,UAECukD,EAAgBC,EAAcxkD,cAF/B,iBAEC,EAAsC6pB,cAFvC,aAEC,EAA8CkzB,SAC5C,kBAAC,GAAD,CACEyF,eAAgB+B,EAAgBC,EAAcxkD,UAO1D,SAASklD,GAAT,GASI,IAAD,EARD/zC,EAQC,EARDA,KAQC,IAPDyU,kBAOC,MAPY,GAOZ,EAND2+B,EAMC,EANDA,gBACAz9C,EAKC,EALDA,aACA+Z,EAIC,EAJDA,SACA0rB,EAGC,EAHDA,SACA6E,EAEC,EAFDA,YACG7V,EACF,kBACD,EAA0DnnB,oBAAS,GAAnE,mBAAO+wC,EAAP,KAA8BC,EAA9B,KACMxkC,EAAgB,CACpBxV,KAAMwa,EAAWxa,MAAQ,GACzB6X,YAAa2C,EAAW3C,aAAe,GACvC5X,cAAwB,OAAVua,QAAU,IAAVA,GAAA,UAAAA,EAAY7B,sBAAZ,eAA4B1Y,eAAgB,KAC1DsxC,gBAAiB/2B,EAAW+2B,iBAAmB,GAC/C9yB,OAAQ,GACR64B,gBAAiB,IA4CnB,OAzCA9hD,OAAOwI,OAAOm7C,GAAiB/kD,SAAQ,SAAAgjD,IACtBA,EAAe34B,OAAOkzB,QAAU,IACxCv9C,SACL,YAAmE,IAAhE89C,EAA+D,EAA/DA,eAAgBh3C,EAA+C,EAA/CA,KAAMtB,EAAyC,EAAzCA,GAAI0kB,EAAqC,EAArCA,QAAkB2X,EAAmB,EAA5B5X,QACpC,IAAc,OAAV7D,QAAU,IAAVA,OAAA,EAAAA,EAAYiE,SAAUjE,EAAWiE,OAAO7kB,GACtCs4C,IACF18B,EAAc8hC,gBAAgB19C,GACF,QAA1B4gB,EAAWiE,OAAO7kB,KAAiB,GAEvC4b,EAAciJ,OAAO7kB,GAAM4gB,EAAWiE,OAAO7kB,OACxC,CACL,OAAQsB,GACN,IAAK,SACHsa,EAAciJ,OAAO7kB,GAAMq8B,GAAgB,GAC3C,MACF,IAAK,UACHzgB,EAAciJ,OAAO7kB,GAAMq8B,IAAgB,EAM3C3X,IACF9I,EAAciJ,OAAO7kB,GAAMq8B,GAGzBic,IACF18B,EAAc8hC,gBAAgB19C,IAAM,UAO9CpE,OAAOwI,OAAOtC,GAActH,SAAQ,SAAA09C,GAClCt8B,EAAciJ,OAAOqzB,EAAYC,kBAAoB,CACnDv3B,WAAYs3B,EAAYn5B,eAAew5B,kBACvC1zB,OAAQqzB,EAAYM,aAKtB,kBAAC,KAAD,CACE58B,cAAeA,EACfC,SAAU,SAAAzX,GACRyX,EAASzX,MAGV,SAAA0X,GAAM,eACL,oCACE,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACiiB,GAAD,eACExjC,OAAQA,EACRF,cAAeA,EACf2jC,gBAAiBA,EACjBpzC,KAAMA,GACFoqB,IAEN,kBAAC,GAAD,CAAiBroB,MAAOk+B,IACxB,kBAAC9O,GAAD,KACE,kBAACmK,GAAA,EAAD,KACE,kBAACvwB,EAAA,EAAD,CACElX,GAAG,8BACH2O,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,UACRrM,KAAK,SACLkS,QAASsI,EAAOZ,cAEf/O,EAAKU,EAAE,eAEH,OAANiP,QAAM,IAANA,GAAA,UAAAA,EAAQ1X,cAAR,eAAgBuzC,kBAEb,cADF,UAAA4H,EAAgBzjC,EAAO1X,OAAOuzC,wBAA9B,eAAgDp2C,OAE9C,kBAAC2V,EAAA,EAAD,CACElX,GAAG,8BACH2O,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,YACRrM,KAAK,SACLkS,QAAS,kBAAM4sC,GAAyB,IACxC7sC,YAAauI,EAAO6d,SAEnBxtB,EAAKU,EAAE,cAGd,kBAACqK,EAAA,EAAD,CACElX,GAAG,gCACH2O,aAAYxC,EAAKU,EAAE,qBACnBc,QAAQ,YACRrM,KAAK,SACLkS,QAAS+zB,GAERp7B,EAAKU,EAAE,0BAMjBszC,GACC,kBAAC,GAAD,CACEv/B,WAAYA,EACZ48B,eAAgB+B,EAAgBzjC,EAAO1X,OAAOuzC,iBAC9CsH,qBAAsBnjC,EAAO1X,OAC7B8H,QAAS,kBAAMk0C,GAAyB,UAStDF,GAAeb,SAAW,CACxBnkC,aAAcjd,QAAK+f,WACnBqiC,aAAcpiD,QAAK+f,WACnBuhC,gBAAiB7hC,iBAAM,IAAIM,WAC3B4C,WAAYlD,iBAAM,IAClB5b,aAAc8b,mBAAQ0iC,WACtBlU,YAAa1uB,iBAAM,KAGrBwiC,GAAe7yC,aAAe,CAC5BuT,WAAY,GACZ9e,aAAc,GACdsqC,YAAa,MAGA9+B,4BAAW4yC,I,+CCzS1B,SAASK,GAAT,GAA6C,IAAnB3/B,EAAkB,EAAlBA,WAAYzK,EAAM,EAANA,GACpC,EAA0B/G,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACA,EAAkClJ,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,EAA8CpJ,mBAAS,MAAvD,mBAAOmwC,EAAP,KAAwBiB,EAAxB,KACA,EAAwCpxC,mBAAS,IAAjD,mBAAOtN,EAAP,KAAqB2+C,EAArB,KACMvvC,EAAU8C,cAEhB,EAA+DiE,GAC7DzC,sBAAW,uCACT,WAAOpR,EAAQs8C,EAAoBC,GAAnC,uCAAAhtD,EAAA,6DACkBikD,EAAyB8I,EACvCt8C,EAAOuzC,iBADD9yB,OAKNA,EAIEzgB,EAJFygB,OACAxe,EAGEjC,EAHFiC,aACAq3C,EAEEt5C,EAFFs5C,gBACGkD,EATP,YAUMx8C,EAVN,IAYQy8C,EAAkB,GAClBC,EAAe,IACElJ,EAAqBG,QAAU,IAEvCv9C,SAAQ,SAAA6wB,GACrB,IAAM01B,EAAQl8B,EAAOwG,EAAMrrB,KAClB,OAAL+gD,QAAK,IAALA,OAAA,EAAAA,EAAOngC,cAAP,OAAqBmgC,QAArB,IAAqBA,OAArB,EAAqBA,EAAOl8B,QAC9Bi8B,EAAaz1B,EAAMrrB,IAAM+gD,EAChBrD,EAAgBryB,EAAMrrB,IAC/B6gD,EAAgBx1B,EAAMrrB,IAAM,MAE5B6gD,EAAgBx1B,EAAMrrB,IAAM+gD,KAI1BC,EAA8B,kBAClCplD,OAAOs/B,QAAQ4lB,GAAcvmD,KAAI,YAA8B,IAAD,mBAA3B0mD,EAA2B,KAAhBC,EAAgB,KAC5D,OAAKP,EAAeM,GAQhBC,EAAWtnB,QACN7wB,GAA0BykC,OAC/BmT,EAAeM,GAAWjhD,GAC1B,CACEw4C,SAAU0I,EAAWr8B,OACrB0zB,kBAAmB2I,EAAWtgC,WAAW5gB,KAKxC,KAjBE+I,GAA0BjK,OAAO,CACtCq5C,iBAAkB8I,EAClBzI,SAAU0I,EAAWr8B,OACrB0zB,kBAAmB2I,EAAWtgC,WAAW5gB,GACzCmhD,kBAAmBvgC,EAAW5gB,SAgBhCohD,EAAsB,kBAC1BxlD,OAAOwI,OAAOu8C,GAAgBpmD,KAAI,SAAA29C,GAAgB,IAAD,EACvCl4C,EAAyBk4C,EAAzBl4C,GAAIm4C,EAAqBD,EAArBC,iBACZ,OAAI,UAACtzB,EAAOszB,UAAR,aAAC,EAA0Bv3B,YAGxB,KAFE7X,GAA0Bo9B,QAAQnmC,OAKzCqhD,EA3DR,aA2DyBx8B,OAAQg8B,GAAoBD,IAEnD,OAAIv6C,QAAJ,IAAIA,OAAJ,EAAIA,EAAcrG,IAChBqhD,EAAah7C,aAAeA,EAAarG,IACpC,OAAImW,QAAJ,IAAIA,OAAJ,EAAIA,EAAInW,MACbqhD,EAAavpB,KAAO3hB,EAAGnW,IAhE3B,UAkE2B+B,QAAQmU,IAAR,CACvBjN,GAAeukC,OAAO5sB,EAAW5gB,GAAIqhD,IADd,mBAEpBD,OApEP,2CAkEWthD,EAlEX,KAkEWA,KAlEX,UAuEQiC,QAAQmU,IAAI8qC,KAvEpB,iCAyESlhD,GAzET,4CADS,0DA4ET,CAACqW,EAAIyK,EAAW5gB,MA7ELosC,EAAf,EAAQl+B,MAA6BozC,EAArC,EAA4B5oC,QAAwBN,EAApD,EAAoDA,OAiFpD1C,qBAAU,WACJ0C,GACFlH,EAAQqI,KAAR,uBAA6BnB,EAAOpY,GAApC,eAED,CAACoY,EAAQlH,IAEZwE,qBAAU,YACM,uCAAG,kCAAA/hB,EAAA,+EASHoO,QAAQmU,IAAI,CACpBlN,GAAmBnI,OACnBoI,GAAevH,iBAAiBkf,EAAW5gB,GAAI,CAAEpG,UAAW,QAXjD,mCAIQ2nD,EAJR,KAITzhD,KAAQsB,QAGS02C,EAPR,KAOTh4C,KAAQsB,QAMZo/C,EACEe,EAAsBrkD,QAAO,SAACwjD,EAAoBlD,GAEhD,OADAkD,EAAmBlD,EAAex9C,IAAMw9C,EACjCkD,IACN,KAELD,EACE3I,EAAmB56C,QAAO,SAAC+6C,EAAiBC,GAE1C,OADAD,EAAgBC,EAAYC,kBAAoBD,EACzCD,IACN,KAvBQ,kDA0Bb3/B,EAAS,EAAD,IA1BK,yBA4BbE,GAAa,GA5BA,6EAAH,qDA+BdgpC,KACC,CAAC5gC,EAAW5gB,KAEf,IAKMkb,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,sEACb2tD,EAAcl9C,EAAQm7C,EAAiBz9C,GAD1B,2CAAH,sDAIlB,OAAIoM,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAG1BqK,EACK,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEgvB,SApBe,WACnB,IAAMp3B,EAAG,uBAAmByQ,EAAW5gB,GAA9B,YACTkR,EAAQqI,KAAR,UAAgBpJ,KAmBZ0L,SAAUX,EACV0F,WAAYA,EACZ2+B,gBAAiBA,EACjBz9C,aAAcA,EACdsqC,YAAaA,KAMrBmU,GAAelB,SAAW,CACxB9/B,UAAW+gC,UAAOtiC,YAILuiC,UCrCAjzC,6BAzHf,YAA8C,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cAC1B,EAAoC//B,mBAAS,MAA7C,mBAAOwR,EAAP,KAAmB6gC,EAAnB,KACA,EAAwCryC,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkDtyC,oBAAS,GAA3D,mBAAO4hB,EAAP,KAA0B2wB,EAA1B,KACQtwC,EAAa4C,cAAb5C,SACFwyB,EAAQmC,YAAc,CAC1Bj1B,KAAM,qBAEA/Q,EAAOutC,cAAPvtC,GAER0V,qBAAU,WAAM,4CACd,8BAAA/hB,EAAA,+EAE2BsV,GAAemmC,WAAWpvC,GAFrD,gBAEYF,EAFZ,EAEYA,KACRqvC,EAAcrvC,GACd2hD,EAAc3hD,GAJlB,gDAMI4hD,EAAgB,EAAD,IANnB,yBAQIC,GAAqB,GARzB,6EADc,uBAAC,WAAD,wBAYdC,KACC,CAAC5hD,EAAIqR,EAAU89B,IAElB,IAAMT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,6BAGZ6zB,KAAK,eACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,gBAAD,OAAkB1gC,EAAlB,YAAgCA,GAAI,GACpE,CACEoG,KAAM+F,EAAKU,EAAE,eACb6zB,KAAK,gBAAD,OAAkB1gC,EAAlB,WACJA,GAAI,IAIJ6hD,GAAiB,EAMrB,OAJIxwC,EAAS86B,SAAS,SAAW96B,EAAS86B,SAAS,UACjD0V,GAAiB,IAGd7wB,GAAqBD,EAEtB,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GAClBA,EAAa5xB,UAA6C,MAAjC4xB,EAAa5xB,SAASiR,QAC9C,8BACGjE,EAAKU,EAAE,8BAA2B,IACnC,kBAAC,IAAD,CAAM6E,GAAG,gBACNvF,EAAKU,EAAE,mCAWtB,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,mBACL79B,GAAG,2BACH0R,OAAK,IAENxC,GAAc,CACb,kBAAC,IAAD,CAAOhmB,IAAI,UAAUmW,KAAK,4BACxB,kBAAC,GAAD,CAAkB6P,WAAYA,KAEhC,kBAAC,IAAD,CAAOhmB,IAAI,OAAOmW,KAAK,yBACrB,kBAAC,GAAD,CAAgB6P,WAAYA,KAE9B,kBAAC,IAAD,CAAOhmB,IAAI,SAASmW,KAAK,2BACvB,kBAAC,GAAD,CACEuuB,SAAU1e,EACV41B,SAAUvtC,MAGd,kBAAC,IAAD,CAAOrO,IAAI,YAAYmW,KAAK,MACxBigB,GACA,kBAAC,GAAD,CAAczZ,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CAAM0R,GAAE,uBAAkBmyB,EAAMzpC,OAAO4F,GAA/B,aACLmM,EAAKU,EAAE,oCAOpB,kBAAC,IAAD,CAAOjS,IAAI,YAAYmW,KAAK,MACxBigB,GACA,kBAAC,GAAD,CAAczZ,YAAU,GACrBvX,GACC,kBAAC,IAAD,CAAM0R,GAAE,uBAAkB1R,EAAlB,aACLmM,EAAKU,EAAE,yC,+CC0Bbi1C,OA7If,YAAgC,IAAP3rC,EAAM,EAANA,GACvB,EAA0B/G,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACA,EAAkClJ,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,EAA8CpJ,mBAAS,MAAvD,mBAAOmwC,EAAP,KAAwBiB,EAAxB,KACMtvC,EAAU8C,cAEhB,EAIIiE,GACFzC,sBAAW,uCACT,WAAOpR,EAAQs8C,GAAf,iCAAA/sD,EAAA,6DACkBikD,EAAyB8I,EACvCt8C,EAAOuzC,iBADD9yB,OAKNA,EAIEzgB,EAJFygB,OACAxe,EAGEjC,EAHFiC,aACAq3C,EAEEt5C,EAFFs5C,gBACGkD,EATP,YAUMx8C,EAVN,IAYQy8C,EAAkB,GAClBC,EAAe,IACElJ,EAAqBG,QAAU,IAEvCv9C,SAAQ,SAAA6wB,GACrB,IAAM01B,EAAQl8B,EAAOwG,EAAMrrB,KAClB,OAAL+gD,QAAK,IAALA,OAAA,EAAAA,EAAOngC,cAAP,OAAqBmgC,QAArB,IAAqBA,OAArB,EAAqBA,EAAOl8B,QAC9Bi8B,EAAaz1B,EAAMrrB,IAAM+gD,EAChBrD,EAAgBryB,EAAMrrB,IAC/B6gD,EAAgBx1B,EAAMrrB,IAAM,MAE5B6gD,EAAgBx1B,EAAMrrB,IAAM+gD,KAI1BM,EA3BR,aA2ByBx8B,OAAQg8B,GAAoBD,IAEnD,OAAIv6C,QAAJ,IAAIA,OAAJ,EAAIA,EAAcrG,IAChBqhD,EAAah7C,aAAeA,EAAarG,IACpC,OAAImW,QAAJ,IAAIA,OAAJ,EAAIA,EAAInW,MACbqhD,EAAavpB,KAAO3hB,EAAGnW,IAhC3B,UAoCYiJ,GAAenK,OAAOuiD,GApClC,wBAmCgBU,EAnChB,EAmCIjiD,KAAQE,GAnCZ,UAsCQ+B,QAAQmU,IACZta,OAAOs/B,QAAQ4lB,GAAcvmD,KAAI,mCAAEK,EAAF,KAAOI,EAAP,YAC/B+N,GAA0BjK,OAAO,CAC/Bq5C,iBAAkBv9C,EAClB49C,SAAUx9C,EAAM6pB,OAChB0zB,kBAAmBv9C,EAAM4lB,WAAW5gB,GACpCmhD,kBAAmBY,QA5C3B,iCAiDSA,GAjDT,4CADS,wDAoDT,CAAC5rC,KAxDIi2B,EADT,EACEl+B,MACSozC,EAFX,EAEE5oC,QACQpS,EAHV,EAGE8R,OA0DF1C,qBAAU,WACJpP,GACF4K,EAAQqI,KAAR,uBAA6BjT,EAA7B,eAED,CAACA,EAAc4K,IAElBwE,qBAAU,YACM,uCAAG,8BAAA/hB,EAAA,+EAIHqV,GAAmBnI,OAJhB,gBAGM0gD,EAHN,EAGXzhD,KAAQsB,QAEVo/C,EACEe,EAAsBrkD,QAAO,SAACwjD,EAAoBlD,GAEhD,OADAkD,EAAmBlD,EAAex9C,IAAMw9C,EACjCkD,IACN,KATQ,gDAYbpoC,EAAS,EAAD,IAZK,yBAcbE,GAAa,GAdA,4EAAH,qDAiBdgpC,KACC,IAEH,IAIMtmC,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,sEACb2tD,EAAcl9C,EAAQm7C,GADT,2CAAH,sDAIlB,OAAIrxC,EAEA,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,OAM3BqK,EAEA,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,SAOR,kBAACkJ,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEy4B,SAnCW,WACnBr2B,EAAQqI,KAAK,iBAmCLsC,SAAUX,EACVqkC,gBAAiBA,EACjBnT,YAAaA,Q,WCxIzB,SAAS4V,GAAT,GAOI,IANF71C,EAMC,EANDA,KACA81C,EAKC,EALDA,SACA1uC,EAIC,EAJDA,WACA2uC,EAGC,EAHDA,YACAC,EAEC,EAFDA,aACAxnC,EACC,EADDA,WAEA,EAAgE1C,GAC9DgqC,GADM1pC,EAAR,EAAQA,UAAkB6pC,EAA1B,EAAmBl0C,MAA2Bm0C,EAA9C,EAAqC3pC,QAIrChD,qBAAU,WACR,OAAI6C,EACK2pC,IAEFC,MACN,CAAC5pC,EAAW2pC,EAAaC,IAE5B,MAAgCvpC,GAAoBwpC,GAA5Cl0C,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OACE,oCACE,kBAAC,KAAD,CAASrG,QAASiI,EAAW4Y,QAAS9gB,SAAS,OAC7C,kBAACyE,EAAA,EAAD,CACE3D,WAAYgF,GAAahF,EACzB5E,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,QACR6F,QAAS6uC,GAET,kBAAC,KAAD,QAGJ,kBAAC,GAAD,CACE1zC,aAAYxC,EAAKU,EAAE,mBACnBZ,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER4B,EAAWojB,aACZ,kBAAC,GAAD,CAAa7vB,MAAOA,MAiB5B8zC,GAAW30C,aAAe,CACxBkG,YAAY,GAGCjG,I,GAAAA,wBAAW00C,IClDpBxc,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,sIAwGLF,6BAjGf,YAOI,IANFsT,EAMC,EANDA,WACAilB,EAKC,EALDA,UACAD,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA7G,EAEC,EAFDA,KACA6tC,EACC,EADDA,iBAEA,EAAoC5qC,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KAEMrhB,EAAO,uBAAmBrgB,EAAW5gB,IACrCuiD,EAAU3hC,EAAW7B,eAAeb,kBAAkB6nB,KAEtDyc,EAAiBhtC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEAC3BsV,GAAew5C,KAAK7hC,EAAW5gB,GAAI,CACvCoG,KAAK,GAAD,OAAKwa,EAAWxa,KAAhB,cAA0BiuB,QAFC,uBAI3B2lB,IAJ2B,2CAKhC,CAACp5B,EAAW5gB,GAAI4gB,EAAWxa,KAAM4zC,IAE9B0I,EAAkBltC,uBAAY,WAClC8sC,GAAc,KACb,IAEGK,EAAmBntC,uBAAY,WACnC8sC,GAAc,KACb,IAEH,OACE,kBAAClf,GAAA,EAAD,CACExoC,IAAKgmB,EAAW5gB,GAChB4O,kBAAiBqyB,EACjBjhC,GAAE,UAAK4gB,EAAW5gB,KAElB,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEvyB,WAAYA,EACZvT,GAAE,4BAAuB4gB,EAAW5gB,IACpCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIjlB,EAAWxa,QAGnB,kBAAC,GAAD,CAAcxL,IAAI,QACfgmB,EAAW7B,eAAe44B,gBAAgBvxC,SAIjD,kBAAC,GAAD,CACEuI,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHshB,GACC,kBAAC,KAAD,CAAS7vC,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CACE3D,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,uBAAkBkP,EAAW5gB,GAA7B,UAEF,kBAAC,KAAD,QAIL4gB,EAAW7B,eAAeb,kBAAkBukC,MAC3C,kBAAC,GAAD,CACElvC,WAAYA,EACZ2uC,YAAaQ,EACbP,aAAcQ,EACdV,SAAUO,EACV7nC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,iCAChBkxB,aAAc5xB,EAAKU,EAAE,4CC7F/Bm1B,GAAYxoC,EAAY,aAAc,CAC1CG,KAAM,EACNC,UAAW,GACXC,SAAU,SA0KGyT,6BAvKf,YAAmC,IAATnB,EAAQ,EAARA,KACxB,EAAgCiD,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACMh0B,EAAW6C,cAEjB,EAWIgE,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEyBvX,QAAQmU,IAAI,CAC7CjN,GAAepI,KAAKzG,GACpB6O,GAAeg5B,gBAJP,0CAEH2gB,EAFG,KAEIC,EAFJ,KAMJC,EAAalnD,OAAOC,MACxB,UAAAgnD,EAAY/iD,KAAKmX,eAAjB,eAA0BmrB,MAAO,IACjCrmC,QAAO,SAAAnB,GAAG,uBAAIioD,EAAY/iD,KAAKmX,eAArB,aAAI,EAA0BmrB,IAAIxnC,GAAKynC,eAC7CjC,EAAO0iB,EAAW1lD,QAAQ,WAE9B0lD,EAAW1iB,GAAQ,yBAXX,kBAaH,CACLpe,YAAa4gC,EAAM9iD,KAAKsB,QACxB2hD,gBAAiBH,EAAM9iD,KAAKoiB,MAC5BjL,QAAS4rC,EAAY/iD,KAAKmX,QAC1B2O,wBACa,OAAXi9B,QAAW,IAAXA,GAAA,UAAAA,EAAa/iD,YAAb,eAAmBqiC,wBAAyB,IAC5C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgBm9B,IApBR,4CAsBT,CAAC1xC,IACJ,CACE4Q,YAAa,GACb+gC,gBAAiB,EACjB9rC,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAxCpB,IACEvN,OACE4J,EAFJ,EAEIA,YACA+gC,EAHJ,EAGIA,gBACA9rC,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSyhC,EAVX,EAUEthC,QAkCFhD,qBAAU,WACRskC,MACC,CAACA,IAEJ,IAAM9sB,EACJiY,EAASpqC,OAAS,GAAKoqC,EAASpqC,SAAWinB,EAAYjnB,OACzD,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYiJ,GAAek9B,QAAQnmC,SAClE,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY6gC,IAXH5C,EADb,EACE7+B,UACayqC,EAFf,EAEE3pC,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACbqvD,IADa,OAEnB5d,EAAY,IAFO,2CAAH,qDAKZ6d,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAO5jB,GAAe,KAGxCqjB,EAAe,SAAAC,GACfH,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAI1BiB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAE3D,OACE,kBAACe,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOkrB,EACP6K,UAAWk2B,EACX9pC,SAAU+oB,GACVyB,WAAY4B,EACZjU,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BuL,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGT8oC,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACV4gB,WAAYwf,EACZ4Z,iBAAkBA,EAClBnU,UAAS,uBAAkBzF,EAAKpgC,GAAvB,YACT4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOogC,EAAKpgC,MACjDgT,SAAU,kBAAMqyB,EAAajF,OAGjC/Q,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CAAC,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAO,sBACpC,IAHY,CAIhB,kBAAC,GAAD,CACEhqC,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,+BAOvC,kBAAC,GAAD,CACE8B,aAAYxC,EAAKU,EAAE,uBACnBZ,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,kDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCjIblM,6BA7Cf,YAAgC,IAATnB,EAAQ,EAARA,KACrB,EAAgDiD,mBAAS,CACvD,eAAgBjD,EAAKU,EAAE,oBACvB,mBAAoBV,EAAKU,EAAE,gCAF7B,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAAAoL,GAAe,IAAD,EACPA,GAIL+vB,GAAmB,GACjB,eAAgBxkC,EAAKU,EAAE,oBACvB,mBAAoBV,EAAKU,EAAE,+BAFV,sCAGA+T,EAAW5gB,IAHX,UAGqB4gB,EAAWxa,OAHhC,sCAIAwa,EAAW5gB,GAJX,SAIuBmM,EAAKU,EAAE,sBAJ9B,sCAKA+T,EAAW5gB,GALX,YAK0BmM,EAAKU,EAAE,iBALjC,sCAMA+T,EAAW5gB,GANX,WAMyBmM,EAAKU,EAAE,gBANhC,MASrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,aACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,oBACV,kBAAC,GAAD,MAAS,gBAAGoF,EAAH,EAAGA,GAAH,OAAY,kBAAC,GAAD,CAAeA,GAAIA,GAAM,SAEhD,kBAAC,IAAD,CAAOpF,KAAK,oBACV,kBAAC,GAAD,CAAYo+B,cAAeyB,KAE7B,kBAAC,IAAD,CAAO7/B,KAAK,gBACV,kBAAC,GAAD,Y,0DC9BV,SAASmyC,GAAT,GAA6C,IAAT/2C,EAAQ,EAARA,KAClC,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,8BACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAACg8B,GAAD,KACE,kBAAC,GAAD,CACE/J,QAASpnB,EAAKU,EACZ,oHAEF7M,GAAG,uCACHoG,KAAK,SACLF,MAAOiG,EAAKU,EAAE,+BAGlB,kBAACywB,GAAD,KACE,kBAAC,GAAD,CACE/J,QAASpnB,EAAKU,EACZ,uHAEF7M,GAAG,0CACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,mCAOxB,SAASs2C,GAAT,GAMI,IAAD,IALD3F,sBAKC,MALgB,GAKhB,EAJD3hC,EAIC,EAJDA,SACA0rB,EAGC,EAHDA,SACA6E,EAEC,EAFDA,YACG7V,EACF,kBACK3a,EAAgB,CACpBxV,KAAMo3C,EAAep3C,MAAQ,GAC7B6X,YAAau/B,EAAev/B,aAAe,GAC3C4G,OAAQ24B,EAAe34B,OACnBiW,GAAW/hC,KAAKC,UAAUwkD,EAAe34B,SACzC,MACJu+B,UAAW5F,EAAe4F,UACtBtoB,GAAW/hC,KAAKC,UAAUwkD,EAAe4F,YACzC,OAEN,OACE,kBAAC,KAAD,CAAQxnC,cAAeA,EAAeC,SAAU,SAAAzX,GAAM,OAAIyX,EAASzX,MAChE,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC6lB,GAA6B3sB,GAC7B6V,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,oBAgB/BioC,GAAmB91C,aAAe,CAChCmwC,eAAgB,GAChBpR,YAAa,MAGA9+B,4BAAW61C,IC5DXE,I,GAAAA,GArCf,WACE,IAAMnyC,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KAEM7xB,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,+EAEgBqV,GAAmBlK,OAAnB,2BAC5BsF,GAD4B,IAE/Bg/C,UAAW9nB,GAAmBl3B,EAAOg/C,WACrCv+B,OAAQyW,GAAmBl3B,EAAOygB,QAClCtjB,KAAM,WANS,gBAEHpC,EAFG,EAETW,KAMRoR,EAAQqI,KAAR,4BAAkCpa,EAASa,GAA3C,aARiB,gDAUjB+sC,EAAe,EAAD,IAVG,yDAAH,sDAkBlB,OACE,kBAAC/0B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+M,SAAUX,EACVkxB,YAAaA,EACb7E,SAXW,WACnBr2B,EAAQqI,KAAR,4BCREisB,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,2HAOpB,SAAS81C,GAAT,GAMI,IALF9F,EAKC,EALDA,eACA3X,EAIC,EAJDA,UACAD,EAGC,EAHDA,WACA5yB,EAEC,EAFDA,SACA7G,EACC,EADDA,KAEM80B,EAAO,uBAAmBuc,EAAex9C,IAE/C,OACE,kBAACojC,GAAA,EAAD,CACExoC,IAAK4iD,EAAex9C,GACpB4O,kBAAiBqyB,EACjBjhC,GAAE,UAAKw9C,EAAex9C,GAApB,MAEF,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,kCAA6Bw9C,EAAex9C,IAC9CirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CACE3oC,IAAI,OACJ+T,aAAYxC,EAAKU,EAAE,8BAEnB,kBAAC,IAAD,CAAM6E,GAAE,UAAKm0B,IACX,2BAAI2X,EAAep3C,WAK3B,kBAAC,GAAD,CACEuI,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHuc,EAAez+B,eAAeb,kBAAkB6nB,MAC/C,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,6BAA0B4F,SAAS,OAC1D,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,6BACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,4BAAuB8rC,EAAex9C,GAAtC,UAEF,kBAAC,KAAD,WAUhBsjD,GAAuB7zC,UAAY,CACjC+tC,eAAgB74B,GAAe3G,WAC/B6nB,UAAWhoB,UAAOG,WAClB4nB,WAAYxnB,QAAKJ,WACjBhL,SAAU/U,QAAK+f,YAGF1Q,4BAAWg2C,ICvEpBthB,GAAYxoC,EAAY,kBAAmB,CAC/CG,KAAM,EACNC,UAAW,GACXi+C,kBAAkB,IA6KLvqC,6BA1Kf,YAAuC,IAATnB,EAAQ,EAARA,KACtBiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAWI/tB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAGgCvX,QAAQmU,IAAI,CACpDlN,GAAmBnI,KAAKzG,GACxB4O,GAAmBi5B,gBALX,0CAGH9iC,EAHG,KAGOokD,EAHP,uBAQH,CACLhE,gBAAiBpgD,EAASW,KAAKsB,QAC/BoiD,qBAAsBrkD,EAASW,KAAKoiB,MACpCjL,QAASssC,EAAgBzjD,KAAKmX,QAC9B2O,wBACiB,OAAf29B,QAAe,IAAfA,GAAA,UAAAA,EAAiBzjD,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAA0nD,EAAgBzjD,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAI2oD,EAAgBzjD,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAjB/C,2CAmBT,CAACjxB,IACJ,CACEmuC,gBAAiB,GACjBiE,qBAAsB,EACtBvsC,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCXoL,EADT,EACE7iB,MACAqK,EAFF,EAEEA,UACSkrC,EAHX,EAGE/qC,QAHF,IAIEN,OACEmnC,EALJ,EAKIA,gBACAiE,EANJ,EAMIA,qBACAvsC,EAPJ,EAOIA,QACA2O,EARJ,EAQIA,sBACAD,EATJ,EASIA,eAgCJjQ,qBAAU,WACR+tC,MACC,CAACA,IAEJ,MAA+Dxe,GAC7Dsa,GADMpa,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYgJ,GAAmBm9B,QAAQnmC,SAErD,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYsqC,IAbHrd,EADb,EACE7tB,UACAiB,EAFF,EAEEA,cACakqC,EAHf,EAGErqC,YACAI,EAJF,EAIEA,mBAcI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACb+vD,IADa,OAEnBte,EAAY,IAFO,2CAAH,qDAKZmB,EAAStvB,GAAWA,EAAQuvB,KAElC,OACE,oCACE,kBAACxuB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6tB,EAChCtvC,MAAOyoD,EACP1yB,UAAW22B,EACXlyB,mBAAoBnlB,EAAKU,EAAE,yBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAO2Z,GAAmB,KAElDtmC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,IARY,CAShB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,iCAKnC62B,WAAY,SAAA8Z,GAAc,OACxB,kBAAC,GAAD,CACE5iD,IAAK4iD,EAAex9C,GACpBhF,MAAOwiD,EAAep3C,KACtBo3C,eAAgBA,EAChB3X,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBqtC,EAAex9C,GAAjC,YACTgT,SAAU,kBAAMqyB,EAAamY,IAC7B5X,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOw9C,EAAex9C,SAG/DovB,mBACEmX,GACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,cAM5C,kBAAC,GAAD,CACExB,aAAYxC,EAAKU,EAAE,uBACnBZ,OAAQuN,EACRtN,QAASuN,EACT/L,MAAOvB,EAAKU,EAAE,cACdc,QAAQ,SAEPxB,EAAKU,EAAE,uDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCxFblM,6BAnFf,YAA0D,IAAzBkwC,EAAwB,EAAxBA,eAAgBrxC,EAAQ,EAARA,KACvCnM,EAA6Cw9C,EAA7Cx9C,GAAIoG,EAAyCo3C,EAAzCp3C,KAAM6X,EAAmCu/B,EAAnCv/B,YAAamlC,EAAsB5F,EAAtB4F,UAAWv+B,EAAW24B,EAAX34B,OACpC3T,EAAU8C,cAEhB,EAIIiE,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJqV,GAAmBm9B,QAAQnmC,GADvB,OAEVkR,EAAQqI,KAAR,qBAFU,2CAGT,CAACvZ,EAAIkR,KAPCyyC,EADX,EACEjrC,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,EACPgxB,OAAO,gCAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,4BACd7R,MAAO8/B,GAAW/hC,KAAKC,UAAU6rB,IACjC4T,KAAM,IAER,kBAAC,GAAD,CACEvyB,MAAOiG,EAAKU,EAAE,+BACd7R,MAAO8/B,GAAW/hC,KAAKC,UAAUoqD,IACjC3qB,KAAM,IAER,kBAAC,GAAD,CACEvyB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAMkpB,EAAe7+B,QACrBmZ,KAAM0lB,EAAez+B,eAAegC,aAEtC,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMkpB,EAAen+B,SACrByY,KAAM0lB,EAAez+B,eAAeiC,eAGxC,kBAAC,GAAD,KACGw8B,EAAez+B,eAAeb,mBAC7Bs/B,EAAez+B,eAAeb,kBAAkB6nB,MAC9C,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,4BAAuB1R,EAAvB,UAEDmM,EAAKU,EAAE,cAGb2wC,EAAez+B,eAAeb,mBAC7Bs/B,EAAez+B,eAAeb,kBAAkBje,QAC9C,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,+BACnB4gC,UAAWkW,EACXpwC,WAAYgF,GAEXpM,EAAKU,EAAE,uBAKfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,cACdc,QAAQ,cCtDHi2C,OAjCf,YAAiD,IAAnBpG,EAAkB,EAAlBA,eACtBtsC,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KACM8W,EAAU,4BAAwBrG,EAAex9C,GAAvC,YAEVkb,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEXqV,GAAmBwkC,OAAOgQ,EAAex9C,GAAzC,2BACDoE,GADC,IAEJg/C,UAAW9nB,GAAmBl3B,EAAOg/C,WACrCv+B,OAAQyW,GAAmBl3B,EAAOygB,WALnB,OAOjB3T,EAAQqI,KAAKsqC,GAPI,+CASjB9W,EAAe,EAAD,IATG,wDAAH,sDAgBlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEyQ,eAAgBA,EAChB3hC,SAAUX,EACVkxB,YAAaA,EACb7E,SATe,WACnBr2B,EAAQqI,KAAKsqC,QC6FFv2C,6BAjGf,YAAkD,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACtBnvC,EAAOutC,cAAPvtC,GACAqR,EAAa4C,cAAb5C,SAER,EAKI4G,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACaqV,GAAmBomC,WAAWpvC,GAD3C,uBACFF,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,CAACE,KARJuY,EADF,EACEA,UACOwY,EAFT,EAEE7iB,MACSu1C,EAHX,EAGE/qC,QACQ8kC,EAJV,EAIEplC,OAQF1C,qBAAU,WACR+tC,MACC,CAACA,EAAsBpyC,IAE1BqE,qBAAU,WACJ8nC,GACFrO,EAAcqO,KAEf,CAACA,EAAgBrO,IAEpB,IAkBgC,EAlB1BT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,kCAGZ6zB,KAAM,oBACN1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,qBAAD,OAAuB1gC,EAAvB,YACJA,GAAI,IAIR,IAAKuY,GAAawY,EAChB,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACgB,OAAlC,UAAAA,EAAa5xB,gBAAb,eAAuBiR,SACtB,8BACGjE,EAAKU,EAAE,mCAAgC,IACxC,kBAAC,IAAD,CAAM6E,GAAG,qBACNvF,EAAKU,EAAE,uCAUxB,IAAIyiC,EAAa,kBAAC,GAAD,CAAYZ,UAAWA,IAKxC,OAJIr9B,EAAS86B,SAAS,UACpBmD,EAAa,MAIb,kBAACt3B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACGwgC,EACA/2B,GAAa,kBAAC,GAAD,OACZA,GAAailC,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEjO,KAAK,wBACL79B,GAAG,gCACH0R,OAAK,IAENo6B,GACC,oCACE,kBAAC,IAAD,CAAOzsC,KAAK,8BACV,kBAAC,GAAD,CAAoBysC,eAAgBA,KAEtC,kBAAC,IAAD,CAAOzsC,KAAK,iCACV,kBAAC,GAAD,CAAuBysC,eAAgBA,YCvD1ClwC,6BA5Cf,YAAoC,IAATnB,EAAQ,EAARA,KACzB,EAAgDiD,mBAAS,CACvD,oBAAqBjD,EAAKU,EAAE,yBAC5B,wBAAyBV,EAAKU,EAAE,qCAFlC,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAAA+pC,GAAoB,IAAD,EACZA,GAGL5O,GAAmB,GACjB,oBAAqBxkC,EAAKU,EAAE,yBAC5B,wBAAyBV,EAAKU,EAAE,oCAFf,2CAGK0yC,EAAgBv/C,IAHrB,UAG+Bu/C,EAAgBn5C,OAH/C,2CAIKm5C,EAAgBv/C,GAJrB,SAIiCmM,EAAKU,EACrD,sBALe,2CAOK0yC,EAAgBv/C,GAPrB,YAOoCmM,EAAKU,EAAE,iBAP3C,MAUrB,CAACV,IAEH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,kBACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,yBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,yBACV,kBAAC,GAAD,CAAgBo+B,cAAeyB,KAEjC,kBAAC,IAAD,CAAO7/B,KAAK,qBACV,kBAAC,GAAD,Y,sBC7CK,SAAS+yC,KAA6C,IAA9Bv+C,EAA6B,uDAAjB,GAAIgB,EAAa,uDAAJ,GACxDw9C,EAAOnpB,KAAKC,SAASt1B,IAAc,GACzC,OAAO,2BACFw+C,GACAx9C,GCNQ,SAASy9C,GAAgB5/C,GACtC,IAAM6/C,EAAe,GASrB,OARAroD,OAAOC,KAAKuI,GAAQ5J,SAAQ,SAAAI,GAC1B,GAAIA,EAAIa,WAAW,YAAc2I,EAAOxJ,KAAS,GAAI,CACnD,GAAIoB,MAAMC,QAAQmI,EAAOxJ,KAAgC,IAAvBwJ,EAAOxJ,GAAKG,OAC5C,OAEFkpD,EAAarpD,EAAIE,OAAO,IAAMsJ,EAAOxJ,OAGlCqpD,ECGT,IAAMjiB,GAAYxoC,EAAY,YAAa,CACzCG,KAAM,EACNC,UAAW,EACXC,SAAU,SA+FGyT,I,MAAAA,yBA5Ff,YAAkC,IAATnB,EAAQ,EAARA,KACvB,EAA+BqtB,aAAS,CACtCpzB,KAAM,cADR,mBAAOilB,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KAIMxoB,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpD3M,GAAe1I,KAAKzG,GACpBmP,GAAe04B,gBAJP,0CAEDniC,EAFC,KAEDA,KAAQoiC,EAFP,uBAMH,CACLgiB,YAAapkD,EAAKsB,QAClB8gB,MAAOpiB,EAAKoiB,MACZ0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACnxB,EAAQE,WACZ,CACE8Q,MAAO,EACPgiC,YAAa,GACbt+B,sBAAuB,GACvBD,eAAgB,KA1BlBpN,EADF,EACEA,UACArK,EAFF,EAEEA,MAFF,IAGEkK,OAAU8rC,EAHZ,EAGYA,YAAahiC,EAHzB,EAGyBA,MAAO0D,EAHhC,EAGgCA,sBAAuBD,EAHvD,EAGuDA,eAC5Cw+B,EAJX,EAIEzrC,QA+BF,OAJAhD,qBAAU,WACRyuC,MACC,CAACA,IAEA5rC,EACK,kBAAC,GAAD,MAELrK,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAI5B,oCACE,kBAAC,GAAD,CACElT,MAAOqwB,EAAMrwB,MAAQ,CAACqwB,EAAMrwB,OAAS,GACrCmF,QAAS+jD,EACT/a,YAAajnB,EACb6K,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBlX,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,YACL6S,SAAU+oB,GACVrJ,UAAQ,EACR0Q,WAAY3P,EAAQ/gB,SACpB2wB,aAAc,kBAAMje,EAAMrD,SAAS,SAEpCyR,EAAKG,SAAWH,EAAKvrB,OACpB,kBAACowB,GAAA,EAAD,CAAO3wB,QAAQ,SAAS4wB,UAAQ,EAAC7wB,MAAO+rB,EAAKvrB,YClG/Ck2C,GAAY52C,IAAOC,IAAV,iIAKT42C,GAAwB72C,YAAO82C,KAAP92C,CAAH,oDAwBZF,6BApBf,YAAsD,IAAlCorB,EAAiC,EAAjCA,UAAW9qB,EAAsB,EAAtBA,SAAUzB,EAAY,EAAZA,KAAMnM,EAAM,EAANA,GAC7C,OAAK04B,EAIH,oCACE,kBAAC0rB,GAAD,CAAWpkD,GAAIA,GACZ4N,EACD,kBAAC,KAAD,CACE6E,SAAS,QACTC,QAASvG,EAAKU,EAAE,kCAChB03C,QAAQ,0BAER,kBAACF,GAAD,CAAuBv0B,IAAI,kDAX1B,yBAAK9vB,GAAIA,GAAK4N,MCVV,SAAS42C,GACtBC,EACAnlB,EACAnzB,EACAu4C,GAEA,MAA0BlrB,aAAS,aAAnC,mBAASC,EAAT,KAAeC,EAAf,KACMyE,KACHmB,GAA+B,2BAAX,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUh+B,SAEnB1F,OAAOC,KAAK6oD,GAAchpD,SAZlB,cAaR+9B,EAAKG,UACJH,EAAKz+B,OAEZ,MAAO,CACLo6C,KAAMuP,GAAQF,EAAct4C,EAAMgyB,GAClCviB,cAAegpC,GAAiBH,EAAcnlB,GAC9C/qB,SAAS,EACTwc,aAAc,KACd8zB,SAAUJ,EAAaK,yBAA2B3mB,EAClD+N,WAAY,SAAA+T,GACVA,EAAgB,aAAa,GAAM,IAErC1mB,SAAU,WACJE,EAAKG,UAAYH,EAAKz+B,OAA2B,iBAAlBskC,EAASh+B,MAC1Co4B,EAAQphB,SAASnM,EAAKU,EAAE,yCAKhC,SAAS83C,GAAQF,EAAct4C,EAAMgyB,GACnC,OAAKsmB,EAAaK,wBAGX,CACL9kD,GArCY,YAsCZoG,KACE,kBAAC,GAAD,CAAUsyB,UAAWyF,EAAWn+B,GAAG,kBAChCmM,EAAKU,EAAE,sBAGZM,UAAW,kBAAC,GAAD,CAAehB,KAAMA,IAChC4oC,YAAY,GAVL,KAcX,SAAS6P,GAAiBH,EAAcnlB,GAAW,IAAD,EAChD,OAAKmlB,EAAaK,wBAIX,CACLvlC,WAAmB,OAAR+f,QAAQ,IAARA,GAAA,UAAAA,EAAUvgB,sBAAV,eAA0BQ,YAAa,MAJ3C,GCvCX,IAAMyiB,GAAYxoC,EAAY,aAAc,CAC1CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAsKGyT,6BAnKf,YAAoC,IAATnB,EAAQ,EAARA,KACzB,EAA2BqtB,aAAS,CAClCpzB,KAAM,cACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOkf,EAAP,KAAgBqO,EAAhB,KAIA,EAAwCtqB,mBAAS,MAAjD,mBAAO21C,EAAP,KAAqBC,EAArB,KACM9zC,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACgBqV,GAAmBi8C,eADnC,cACJC,EADI,QAEMnqD,SACR8oC,EACJqhB,EAAY57B,MAAK,SAAAhoB,GAAI,MAAkB,QAAdA,EAAKC,SAAmB2jD,EAAY,GAC/DF,EAAgBnhB,IALR,kBAOHqhB,GAPG,2CAQT,IACH,IAdQC,EADV,EACE/sC,OACOgtC,EAFT,EAEEl3C,MACWm3C,EAHb,EAGE9sC,UACS+sC,EAJX,EAIE5sC,QAcFhD,qBAAU,WACR4vC,MACC,CAACA,IAEJ,MAKIrtC,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,yDACLoxD,EADK,yCAED,CAAE/iC,YAAa,GAAIE,MAAO,IAFzB,cAIJ9nB,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QAJlD,SAKgCvX,QAAQmU,IAAI,CACpDjN,GAAepI,KAAf,2BACKzG,GADL,IAEEu9C,gBAAiBoN,EAAa/kD,MAEhCiJ,GAAeg5B,gBAVP,0CAKDniC,EALC,KAKDA,KAAQoiC,EALP,uBAYH,CACLlgB,YAAaliB,EAAKsB,QAClB8gB,MAAOpiB,EAAKoiB,MACZ0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBApB/C,4CAsBT,CAAC0iB,EAAc7zC,EAAQE,SAASkI,SACnC,CAAE0I,YAAa,GAAIE,MAAO,EAAG0D,sBAAuB,GAAID,eAAgB,KA7B1E,IACEvN,OAAU4J,EADZ,EACYA,YAAaE,EADzB,EACyBA,MAAO0D,EADhC,EACgCA,sBAAuBD,EADvD,EACuDA,eAC9Cm0B,EAFT,EAEE5rC,MACW6rC,EAHb,EAGExhC,UACSyhC,EAJX,EAIEthC,QAgCF,GAJAhD,qBAAU,WACRskC,MACC,CAACA,IAEAqL,EACF,OAAO,kBAAC,GAAD,MAGT,GAAID,GAActL,EAChB,OAAO,kBAAC,GAAD,CAAc5rC,MAAOk3C,GAActL,IAG5C,IAAMyL,EAAiC,WAAX,OAAZR,QAAY,IAAZA,OAAA,EAAAA,EAAcxjD,MAW9B,OACE,oCACG4jD,GAASA,EAAMpqD,OAAS,GACvB,0BACE,0BACGoR,EAAKU,EAAE,2BAEV,sBAEE7M,GAAG,gCACHkG,MAAOiG,EAAKU,EAAE,0BACd/M,KAAMqlD,EAAM5qD,KAAI,SAAA+G,GAAI,MAAK,CACvB1G,IAAK0G,EAAKtB,GACVhF,MAAOsG,EAAKtB,GACZkG,MAAO5E,EAAK8E,KACZmN,YAAY,MAEdvY,MAAO+pD,GAAgBA,EAAa/kD,GACpCgoB,SAAU,SAAClwB,EAAGkI,GACZglD,EAAgBG,EAAM77B,MAAK,SAAAk8B,GAAC,OAAIA,EAAExlD,KAAO7E,SAAS6E,EAAI,aAK5D+5C,GACA,kBAAC,GAAD,CACE/+C,MAAOqwB,EAAMrwB,OAAS,GACtBmF,QAAS6hB,EACTmnB,YAAajnB,EACb6K,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBwjB,SAAUmc,EACV72C,OAAQvC,EAAKU,EAAE,oBACfzG,KAAK,cACL6S,SAAU+oB,GACVrJ,UAAU,EACV0Q,WAAY,SAAAjJ,GACV,IAIMqlB,EAAWp6B,EAAMrwB,MAAMe,QAAO,SAAAyQ,GAAC,OACnC+4C,GALqB,SAAArpD,GAAG,sBACEihC,KAAvB,OAAHjhC,QAAG,IAAHA,GAAA,UAAAA,EAAK2oB,cAAL,eAAa0yB,YACV,OAAHr7C,QAAG,IAAHA,GAAA,UAAAA,EAAK2oB,cAAL,eAAa0yB,aAAb,OAA0BnX,QAA1B,IAA0BA,GAA1B,UAA0BA,EAAMvb,cAAhC,aAA0B,EAAc0yB,UAG7BmO,CAAel5C,KAAkBA,EAFfjL,OAAS6+B,EAAK7+B,SAI7CkkD,EAASlsC,KAAK6mB,GACd1G,EAAQ/gB,SAAS8sC,IAEnBnc,aAAc,SAAAlJ,GACZ1G,EAAQ/gB,SAAS0S,EAAMrwB,MAAMe,QAAO,SAAAyQ,GAAC,OAAIA,EAAExM,KAAOogC,EAAKpgC,QAEzDuoC,eAhFW,SAAC,GAAD,IAAGnI,EAAH,EAAGA,KAAMoI,EAAT,EAASA,WAAYE,EAArB,EAAqBA,UAArB,OACjB,kBAAC,GAAD,CACE9tC,IAAKwlC,EAAKpgC,GACVwT,QAAS,kBAAMg1B,EAAWpI,IAC1BiI,YAAaK,EACb9nB,WAAYwf,W,oaCjGH,SAASulB,GAAmBlB,EAAcnlB,EAAUnzB,GACjE,MAAO,CACLipC,KAAMuP,GAAQF,EAAct4C,GAC5ByP,cAAegpC,GAAiBH,EAAcnlB,GAC9C/qB,SAAS,EACTwc,aAAc,KACd8zB,UAAU,EACV3Y,WAAY,SAAA+T,GACVA,EAAgB,eAAe,GAAM,IAEvC1mB,SAAU,cAId,SAASorB,GAAQF,EAAct4C,GAC7B,OAAKs4C,EAAamB,yBAGX,CACL5lD,GArBY,cAsBZpF,IAAK,EACLwL,KACE,kBAAC,GAAD,CAAUsyB,WAAW,EAAO14B,GAAG,oBAC5BmM,EAAKU,EAAE,qBAGZM,UAAW,kBAAC,GAAD,CAAiBhB,KAAMA,IAClC4oC,YAAY,GAXL,KAeX,SAAS6P,GAAiBH,EAAcnlB,GAAW,IAAD,EAChD,OAAKmlB,EAAamB,yBAIX,CACL5jC,aAAqB,OAARsd,QAAQ,IAARA,GAAA,UAAAA,EAAUvgB,sBAAV,eAA0BiD,cAAe,IAJ/C,GC0FI1U,6BA3Hf,YAA0D,IAAvBm3C,EAAsB,EAAtBA,aAAct4C,EAAQ,EAARA,KAEnC6V,EACRic,eADF75B,OAAU4d,YAGN6jC,EAAmB,GACrBC,GAA4B,EAC5BC,GAA4C,EAC5CC,GAA6C,EAsEjD,OAnEGvB,EAAamB,0BACdnB,EAAawB,0BAEbxB,EAAawB,0BAA0BzrD,SAAQ,SAAAiN,GAC7C,GAAiB,iBAAbA,EACFq+C,GAA4B,OACvB,GAAiB,oBAAbr+C,EACTs+C,GAA4C,OACvC,GAAiB,mBAAbt+C,EACTu+C,GAA6C,OACxC,GAAIv+C,EAAShM,WAAW,kBAAmB,CAChD,IAAMyqD,EAAUz+C,EAASvQ,MAAM,UAAU,IAAM,GAC/C2uD,EAAiBtsC,KAAK2sC,OAGjBlkC,GACTA,EAAYxnB,SAAQ,SAAAomB,GAClB,GAAKA,EAAWiE,OA8BT,CAAC,IAAD,QACgC,SAAvB,OAAVjE,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBpd,YACtBq+C,GAA4B,GAGc,SAA9B,OAAVllC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBshC,mBACtBJ,GAA4C,GAGH,SAA7B,OAAVnlC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBuhC,kBACtBJ,GAA6C,GAGJ,SAA7B,OAAVplC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBwhC,iBACtBR,EAAiBtsC,KAAKqH,EAAWiE,OAAO0yB,cA5CpB,CACtB,IAAM+O,EAAyB7B,EAAa8B,SAASvkC,YAAYsH,MAC/D,SAAAk9B,GAAW,OAAIA,EAAYxmD,KAAO4gB,EAAW5gB,MAG/C,IAA0B,OAAtBsmD,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBG,iBAAiB1rD,QAAS,EAAG,CAErDurD,EAAuBG,iBAAiB/qD,SAAS,kBAEjDoqD,GAA4B,GAG5BQ,EAAuBG,iBAAiB/qD,SAAS,qBAEjDqqD,GAA4C,GAG5CO,EAAuBG,iBAAiB/qD,SAAS,oBAEjDsqD,GAA6C,GAG/C,IAAMU,EAAmBJ,EAAuBG,iBAC7C1qD,QAAO,SAAA4qD,GAAc,OACpBA,EAAelrD,WAAW,qBAE3BlB,KAAI,SAAAqsD,GAAa,OAAIA,EAAc1vD,MAAM,UAAU,IAAM,MAE5D2uD,EAAiBtsC,KAAjB,MAAAssC,EAAgB,YAASa,SAuB/B,kBAACla,GAAA,EAAD,KACGsZ,GACC,kBAAC,GAAD,CACE9lD,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,oCACL4X,YAAU,IAGbgoC,GACC,kBAAC,GAAD,CACEhmD,GAAG,gCACHkG,MAAOiG,EAAKU,EAAE,+BACdzG,KAAK,sCACL4X,YAAU,IAGb+nC,GACC,kBAAC,GAAD,CACE/lD,GAAG,uCACHkG,MAAOiG,EAAKU,EAAE,sCACdzG,KAAK,uCACL4X,YAAU,IAGb6nC,EAAiBtrD,KAAI,SAAAssD,GAAM,OAC1B,kBAAC,GAAD,CACE7mD,GAAE,gCAA2B6mD,GAC7BjsD,IAAKisD,EACL3gD,MACa,KAAX2gD,EACI16C,EAAKU,EAAE,uBACPV,EAAKU,EAAE,wCAAqBg6C,YAElCzgD,KAAI,8CACS,KAAXygD,EAAA,WAAoBA,GAAW,GAD7B,MAGJ7oC,YAAU,WCnHd8oC,GAAiB,SAAA5qD,GACrB,OAAQA,GAAe,KAARA,GAGF,SAAS6qD,GACtBtC,EACAt4C,EACA66C,EACAtC,GAEA,MAAkCzmB,eAA1B75B,EAAR,EAAQA,OAAQ6iD,EAAhB,EAAgBA,cACVpC,EACJjpD,OAAOC,KAAK6oD,GAAchpD,SAdd,wBAoLhB,SAAuB+oD,EAAcrgD,GACnC,IAAIygD,GAAW,GAGZJ,EAAamB,0BACdnB,EAAawB,0BAEbxB,EAAawB,0BAA0BzrD,SAAQ,SAAAiN,GACzCq/C,GAAe1iD,EAAO8iD,qBAAqBz/C,MAC7Co9C,GAAW,MAGNzgD,EAAO4d,aAChB5d,EAAO4d,YAAYxnB,SAAQ,SAAAomB,GACzB,GAAKA,EAAWiE,OAYT,CAAC,IAAD,QAE8B,SAAvB,OAAVjE,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBpd,WACpBq/C,GAAe1iD,EAAO8iD,qBAAqBC,gBAE3CtC,GAAW,GAI6B,SAA9B,OAAVjkC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBshC,kBACpBW,GAAe1iD,EAAO8iD,qBAAqBf,mBAE3CtB,GAAW,GAI4B,SAA7B,OAAVjkC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBuhC,iBACpBU,GAAe1iD,EAAO8iD,qBAAqBd,kBAE3CvB,GAAW,GAI4B,SAA7B,OAAVjkC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBwhC,iBACpBS,GACE1iD,EAAO8iD,qBAAP,wBAEmC,KAA/BtmC,EAAWiE,OAAO0yB,SAAlB,WACQ32B,EAAWiE,OAAO0yB,UACtB,QAKVsN,GAAW,OA9CS,CACtB,IAAMyB,EAAyB7B,EAAa8B,SAASvkC,YAAYsH,MAC/D,SAAAk9B,GAAW,OAAIA,EAAYxmD,KAAO4gB,EAAW5gB,OAGrB,OAAtBsmD,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBG,iBAAiB1rD,QAAS,GACpDurD,EAAuBG,iBAAiBjsD,SAAQ,SAAAiN,GAC1Cq/C,GAAe1iD,EAAO8iD,qBAAqBz/C,MAC7Co9C,GAAW,UA4CvB,OAAOA,EAvOLuC,CAAc3C,EAAcrgD,GAE9B,MAAO,CACLgxC,KAAM4R,EACF,CACEhnD,GApBM,sBAqBNoG,KACE,kBAAC,GAAD,CAAUsyB,UAAWmsB,EAAU7kD,GAAG,6BAC/BmM,EAAKU,EAAE,8BAGZM,UACE,kBAAC,GAAD,CAAyBs3C,aAAcA,EAAct4C,KAAMA,IAE7D4oC,YAAY,GAEd,KACJn5B,cAAegpC,GAAiBH,EAAcrgD,EAAO4d,aACrDzN,SAAS,EACTwc,aAAc,KACd8zB,WACA3Y,WAAY,SAAA+T,GACVrkD,OAAOC,KAAKuI,EAAO8iD,sBAAsB1sD,SAAQ,SAAA6sD,GAAkB,OACjEpH,EAAgB,yBAAD,OACYoH,EADZ,OAEb,GACA,OAIN9tB,SAAU,WACR,IAAM+tB,EAAwB,SAAArG,GAC5BgG,EAAchG,EAAW90C,EAAKU,EAAE,uCAI/B43C,EAAamB,0BACdnB,EAAawB,0BAEbxB,EAAawB,0BAA0BzrD,SAAQ,SAAAiN,GACzCq/C,GAAe1iD,EAAO8iD,qBAAqBz/C,KAC7C6/C,EAAsB,yBAAD,OAA0B7/C,EAA1B,UAGhBrD,EAAO4d,aAChB5d,EAAO4d,YAAYxnB,SAAQ,SAAAomB,GACzB,GAAKA,EAAWiE,OAYT,CAAC,IAAD,QAE8B,SAAvB,OAAVjE,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBpd,WACpBq/C,GAAe1iD,EAAO8iD,qBAAqBC,eAE3CG,EAAsB,qCAIkB,SAA9B,OAAV1mC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBshC,kBACpBW,GAAe1iD,EAAO8iD,qBAAqBf,kBAE3CmB,EAAsB,wCAIiB,SAA7B,OAAV1mC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBuhC,iBACpBU,GAAe1iD,EAAO8iD,qBAAqBd,iBAE3CkB,EAAsB,uCAIiB,SAA7B,OAAV1mC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBwhC,iBACpBS,GACE1iD,EAAO8iD,qBAAP,wBAEmC,KAA/BtmC,EAAWiE,OAAO0yB,SAAlB,WACQ32B,EAAWiE,OAAO0yB,UACtB,OAKV+P,EAAsB,uCAAD,OAEc,KAA/B1mC,EAAWiE,OAAO0yB,SAAlB,WACQ32B,EAAWiE,OAAO0yB,UACtB,GAJa,WA9CD,CACtB,IAAM+O,EAAyB7B,EAAa8B,SAASvkC,YAAYsH,MAC/D,SAAAk9B,GAAW,OAAIA,EAAYxmD,KAAO4gB,EAAW5gB,OAGrB,OAAtBsmD,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBG,iBAAiB1rD,QAAS,GACpDurD,EAAuBG,iBAAiBjsD,SAAQ,SAAAiN,GAC1Cq/C,GAAe1iD,EAAO8iD,qBAAqBz/C,KAC7C6/C,EAAsB,yBAAD,OAA0B7/C,EAA1B,gBAqDvC,SAASm9C,GAAiBH,GAAyC,IAA3B8C,EAA0B,uDAAJ,GACtD3rC,EAAgB,CACpBsrC,qBAAsB,IAGxB,OAAKzC,GAKFA,EAAamB,0BACdnB,EAAawB,2BAEbxB,EAAawB,0BAA0BzrD,SAAQ,SAAAiN,GAC7CmU,EAAcsrC,qBAAqBz/C,GAAY,MAE1CmU,IAGT2rC,EAAoB/sD,SAAQ,SAAAomB,GAC1B,GAAKA,EAAWiE,OAUT,CAAC,IAAD,QACgC,SAAvB,OAAVjE,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBpd,YACtBmU,EAAcsrC,qBAAqBC,aAAe,IAGR,SAA9B,OAAVvmC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBshC,mBACtBvqC,EAAcsrC,qBAAqBf,gBAAkB,IAGZ,SAA7B,OAAVvlC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBuhC,kBACtBxqC,EAAcsrC,qBAAqBd,eAAiB,IAGX,SAA7B,OAAVxlC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBwhC,kBACjBzlC,EAAWiE,OAAO0yB,UAA2C,KAA/B32B,EAAWiE,OAAO0yB,SAGnD37B,EAAcsrC,qBAAd,yBACoBtmC,EAAWiE,OAAO0yB,WAClC,GAJJ37B,EAAcsrC,qBAAqBb,eAAiB,QAzBlC,CACtB,IAAMC,EAAyB7B,EAAa8B,SAASvkC,YAAYsH,MAC/D,SAAAk9B,GAAW,OAAIA,EAAYxmD,KAAO4gB,EAAW5gB,OAGrB,OAAtBsmD,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBG,iBAAiB1rD,QAAS,GACpDurD,EAAuBG,iBAAiBjsD,SAAQ,SAAAiN,GAC9CmU,EAAcsrC,qBAAqBz/C,GAAY,UA4BhDmU,GAjDEA,E,eCrEI4rC,I,GAAAA,GA5Df,YAA8C,IAApBx/B,EAAmB,EAAnBA,SAClBV,EvDgBqB,SAAAtsB,GAAK,OAAIA,EAAM9D,MAAM,KAAK6E,QAAO,SAAAG,GAAG,QAAMA,KuDhBlDurD,CADwB,EAATzsD,OAElC,EAA8BoU,mBAASkY,GAAvC,mBAAOnnB,EAAP,KAAgB24C,EAAhB,KACA,EAAoC1pC,oBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAgBMo4C,EAAgB,SAAAC,GACpB,OAAOA,EAAKptD,KAAI,SAAA4wC,GAAM,OACpB,kBAACzjB,GAAA,EAAD,CAAc9sB,IAAKuwC,EAAQnwC,MAAOmwC,GAC/BA,OAKP,OACE,kBAACl1C,GAAA,EAAD,CACE0X,QAASqZ,KAAc4gC,eACvBp4C,SAfmB,SAAAq4C,GACrBv4C,EAAcu4C,IAeZ70C,SA1Ba,SAACmU,EAAOiZ,GACvB,IAAI3F,EAEFA,EADEnT,EAAW5rB,SAAS0kC,GACX9Y,EAAWvrB,QAAO,SAAAyQ,GAAC,OAAIA,IAAM4zB,KAE7B9Y,EAAWxpB,OAAOsiC,GAE/BpY,EvDGyB,SAAAhtB,GAAK,OAAIA,EAAMoB,KAAK,KuDHpC0rD,CAAcrtB,KAoBrBpT,QAAS,kBAAMW,EAAS,KACxB+/B,SAAU,SAAA5gC,GACR,IAAM6f,EAAM7f,EAAM9T,OAAOrY,MAAM8yC,cACzBka,EAAU7nD,EAAQpE,QAAO,SAAAypD,GAAC,OAAIA,EAAE1X,cAAcpyC,SAASsrC,MAC7D,OAAO0gB,EAAcM,IAEvBrgC,aAAW,EACXC,eAAgB,SAAAxhB,GAKd,OAJAA,EAAOA,EAAK40B,OACP76B,EAAQzE,SAAS0K,IACpB0yC,EAAW34C,EAAQrC,OAAOsI,IAErBA,GAETkhB,WAAYA,EACZrb,OAAQoD,EACRT,kBAAgB,cAEf84C,EAAcvnD,KCJrB,SAAS8nD,KAAkC,IAAbnxD,EAAY,uDAAJ,GAIpC,OAHAA,EAAM0D,SAAQ,SAAA4lC,GACZA,EAAK7W,SAAWA,MAEXzyB,EAGT,SAASyyB,KACP,OAAOtyB,OAAO2I,KAAKI,IC/CrB,IAAM0+B,GAAclxB,IAAOC,IAAV,6MA0EjB,SAASy6C,GAAT,GAAiC,IAAT/7C,EAAQ,EAARA,KACtB,EAA+BqtB,aAAS,YAAxC,mBAAOnO,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACMv5B,EAAU,CACd,CACEnF,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,0BACd0G,YAAY,GAEd,CAAEvY,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,YAAS0G,YAAY,GAC/D,CACEvY,MAAO,QACPJ,IAAK,QACLsL,MAAOiG,EAAKU,EAAE,cACd0G,YAAY,IAGVomB,IAAYF,EAAKG,SAAWH,EAAKvrB,OACvC,OACE,kBAAC2rB,GAAA,EAAD,CACEC,QAAQ,kBACR5zB,MAAOiG,EAAKU,EAAE,iCACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,yLAKpBmR,YAAU,EACVgc,UAAWL,EAAU,UAAY,SAEjC,kBAAC,GAAD,eACE35B,GAAG,kBACHF,KAAMK,GACFkrB,EAHN,CAIErD,SAAU,SAACb,EAAOnsB,GAAR,OAAkB0+B,EAAQ/gB,SAAS3d,QAMrD,SAASmtD,GAAT,GAAmC,IAATh8C,EAAQ,EAARA,KACxB,EAA+BqtB,aAAS,aAAxC,mBAAOnO,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACMv5B,EAAU,CACd,CAAEnF,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,oBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,qBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,0BACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,mBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,+BAGlC8sB,IAAYF,EAAKG,SAAWH,EAAKvrB,OAEvC,OACE,kBAAC2rB,GAAA,EAAD,CACEC,QAAQ,mBACRE,UAAWL,EAAU,UAAY,QACjCzzB,MAAOiG,EAAKU,EAAE,iCACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,sFAKpB,kBAAC,GAAD,eACE7M,GAAG,mBACHF,KAAMK,GACFkrB,EAHN,CAIErD,SAAU,SAACb,EAAOnsB,GAAR,OAAkB0+B,EAAQ/gB,SAAS3d,QAMrD,SAASotD,GAAT,GAAsC,IAATj8C,EAAQ,EAARA,KAC3B,EAA2BqtB,aAAS,aAApC,mBAAOnO,EAAP,KAAgBqO,EAAhB,KACA,OACE,kBAACG,GAAA,EAAD,CAAWC,QAAQ,uBACjB,kBAAC,GAAD,KACG,IACD,2BAAO9d,UAAU,mBAAmBugB,QAAQ,uBAC1C,0BAAMvgB,UAAU,yBACb7P,EAAKU,EAAE,qBACR,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EAAE,oIAOxB,kBAACw7C,GAAA,EAAD,CACE15C,aAAY0c,EAAMrwB,MAAQmR,EAAKU,EAAE,WAASV,EAAKU,EAAE,YACjD7M,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAW7C,EAAMrwB,MACjBgtB,SAAU0R,EAAQ/gB,YAM1B,SAAS4vC,GAAT,GAAiD,IAA7BvoD,EAA4B,EAA5BA,GAAIoG,EAAwB,EAAxBA,KAAMF,EAAkB,EAAlBA,MAAOqtB,EAAW,EAAXA,QACnC,EAA2BiG,aAASpzB,GAApC,mBAAOilB,EAAP,KAAgBqO,EAAhB,KACA,OACE,kBAACG,GAAA,EAAD,CACEC,QAAS95B,EACTkG,MAAOA,EACP+zB,UAAW,kBAAC,GAAD,CAASvnB,QAAS6gB,KAE7B,kBAAC,GAAD,CAAgBv4B,MAAOqwB,EAAMrwB,MAAOgtB,SAAU0R,EAAQ/gB,YAK7CrL,6BAtLf,YAAmD,IAAvBm3C,EAAsB,EAAtBA,aAAct4C,EAAQ,EAARA,KACxC,OACE,kBAACqgC,GAAA,EAAD,KACGiY,EAAa+D,wBAA0B,kBAACN,GAAD,CAAc/7C,KAAMA,IAC3Ds4C,EAAagE,qBACZ,kBAAC,GAAD,CACEzoD,GAAG,eACHoG,KAAK,QACLF,MAAOiG,EAAKU,EAAE,qBACd0mB,QAASpnB,EAAKU,EAAE,uOAMnB43C,EAAaiE,0BACZ,kBAAC,GAAD,CACE1oD,GAAG,oBACHoG,KAAK,aACLF,MAAOiG,EAAKU,EAAE,8BACd0mB,QAASpnB,EAAKU,EACZ,sHAIL43C,EAAakE,yBAA2B,kBAACR,GAAD,CAAgBh8C,KAAMA,IAC9Ds4C,EAAamE,yBACZ,kBAACR,GAAD,CAAmBj8C,KAAMA,IAE1Bs4C,EAAaoE,oBACZ,kBAACN,GAAD,CACEvoD,GAAG,kBACHoG,KAAK,WACLF,MAAOiG,EAAKU,EAAE,iBACd8B,aAAYxC,EAAKU,EAAE,iBACnB0mB,QAASpnB,EAAKU,EAAE,8NAMnB43C,EAAaqE,yBACZ,kBAACP,GAAD,CACEvoD,GAAG,mBACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,kBACd8B,aAAYxC,EAAKU,EAAE,kBACnB0mB,QAASpnB,EAAKU,EAAE,mOAMnB43C,EAAasE,yBACZ,kBAAC,GAAD,CACE/oD,GAAG,mBACHoG,KAAK,aACLF,MAAOiG,EAAKU,EAAE,2BC7DT,SAASm8C,GAAoBvE,EAAcnlB,EAAUnzB,GAClE,MAAO,CACLipC,KAAMuP,GAAQF,EAAct4C,GAC5ByP,cAAegpC,GAAiBH,EAAcnlB,GAC9C/qB,SAAS,EACTwc,aAAc,KACd8zB,UAAU,EACV3Y,WAAY,SAAA+T,GACV,CACE,WACA,QACA,YACA,YACA,WACA,YACA,cACAzlD,SAAQ,SAAA6wB,GAAK,OAAI40B,EAAgB50B,GAAO,GAAM,OAElDkO,SAAU,cAId,SAASorB,GAAQF,EAAct4C,GAC7B,OAgBF,SAA0Bs4C,GACxB,OACEA,EAAa+D,wBACb/D,EAAagE,qBACbhE,EAAakE,yBACblE,EAAaoE,oBACbpE,EAAaqE,yBACbrE,EAAasE,yBACbtE,EAAaiE,0BACbjE,EAAamE,wBAzBVK,CAAiBxE,GAGf,CACLzkD,GAvCY,QAwCZpF,IAAK,EACLwL,KACE,kBAAC,GAAD,CAAUsyB,WAAW,EAAO14B,GAAG,sBAC5BmM,EAAKU,EAAE,uBAGZM,UAAW,kBAAC,GAAD,CAAkBs3C,aAAcA,EAAct4C,KAAMA,IAC/D4oC,YAAY,GAXL,KA4BX,SAAS6P,GAAiBH,EAAcnlB,GACtC,IAAM1jB,EAAgB,GAEtB,OAAK6oC,GAIDA,EAAa+D,yBACf5sC,EAAc4D,UAAmB,OAAR8f,QAAQ,IAARA,OAAA,EAAAA,EAAU9f,WAAY,IAE7CilC,EAAagE,sBACf7sC,EAAcwG,OAAgB,OAARkd,QAAQ,IAARA,OAAA,EAAAA,EAAUld,QAAS,IAEvCqiC,EAAakE,0BACf/sC,EAAc0G,WAAoB,OAARgd,QAAQ,IAARA,OAAA,EAAAA,EAAUhd,YAAa,GAE/CmiC,EAAaoE,qBACfjtC,EAAcgI,UAAmB,OAAR0b,QAAQ,IAARA,OAAA,EAAAA,EAAU1b,WAAY,IAE7C6gC,EAAaqE,0BACfltC,EAAciI,WAAoB,OAARyb,QAAQ,IAARA,OAAA,EAAAA,EAAUzb,YAAa,IAE/C4gC,EAAasE,0BACfntC,EAAcpW,WArFO,SAAA85B,GACvB,cAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAU3b,YACLmX,GAAW/hC,KAAKC,UAAUsmC,EAAS3b,cAEhC,OAAR2b,QAAQ,IAARA,OAAA,EAAAA,EAAU95B,aAAuC,SAAjB,OAAR85B,QAAQ,IAARA,OAAA,EAAAA,EAAU95B,YAC7Bs1B,GAAW/hC,KAAKC,UAAUsiC,GAAmBgE,EAAS95B,cAExD,MA8EsB0jD,CAAiB5pB,IAE1CmlB,EAAaiE,2BACf9sC,EAAcwF,YAAqB,OAARke,QAAQ,IAARA,OAAA,EAAAA,EAAUle,aAAc,IAEjDqjC,EAAamE,0BACfhtC,EAAckI,WAAoB,OAARwb,QAAQ,IAARA,OAAA,EAAAA,EAAUxb,aAAa,GAE5ClI,GA3BEA,ECzBX,SAASutC,GAAT,GAAwC,IAAnBC,EAAkB,EAAlBA,SAAUj9C,EAAQ,EAARA,KACvBg7B,EAAa,CACjBiiB,EAAS7kC,SAAWA,GAAS,KAAMpY,GAAQ,KAC3Ci9C,EAASrzC,IAAM4wB,GAAUyiB,EAASrzC,IAAK5J,GAAQ,KAC/Ci9C,EAASjyC,IAAMuvB,GAAU0iB,EAASjyC,IAAKhL,GAAQ,MAEjD,OACE,kBAAC,GAAD,CACEnM,GAAE,0BAAqBopD,EAAS5kC,UAChCpe,KAAI,iBAAYgjD,EAAS5kC,UACzBte,MAAOkjD,EAAS/kC,cAChBkP,QAAS61B,EAAS9kC,qBAClBtG,WAAYorC,EAAS7kC,SACrBgV,SAAU2N,GAAQC,GAClB7lC,KAAM8nD,EAAS9nD,KACfqlC,UAAWyiB,EAASrzC,IACpB2wB,UAAW0iB,EAASjyC,MAK1B,SAASkyC,GAAT,GAA0C,IAAnBD,EAAkB,EAAlBA,SAAUj9C,EAAQ,EAARA,KACzBg7B,EAAa,CACjBiiB,EAAS7kC,SAAWA,GAAS,KAAMpY,GAAQ,KAC3Cy6B,GAAYwiB,EAASrzC,IAAKqzC,EAASjyC,IAAKhL,GACtB,YAAlBi9C,EAAS9nD,KAAqBylC,GAAQ56B,GAAQ,MAEhD,OACE,kBAAC,GAAD,CACEnM,GAAE,0BAAqBopD,EAAS5kC,UAChCpe,KAAI,iBAAYgjD,EAAS5kC,UACzBte,MAAOkjD,EAAS/kC,cAChBkP,QAAS61B,EAAS9kC,qBAClBtG,WAAYorC,EAAS7kC,SACrBgV,SAAU2N,GAAQC,GAClB7lC,KAAK,SACLyU,IAAKqzC,EAASrzC,IACdoB,IAAKiyC,EAASjyC,MAKpB,SAASmyC,GAAT,GAA4C,IAAbF,EAAY,EAAZA,SAC7B,EAAsB5vB,aAAS,UAAD,OAAW4vB,EAAS5kC,WAAlD,mBAAO6G,EAAP,KAAcoO,EAAd,KACMz5B,EAAE,0BAAsBopD,EAAS5kC,UACjCmV,IAAYF,EAAKG,SAAWH,EAAKvrB,OACvC,OACE,kBAAC2rB,GAAA,EAAD,CACEC,QAAS95B,EACT+5B,kBAAmBN,EAAKvrB,MACxB8P,WAAYorC,EAAS7kC,SACrByV,UAAWL,EAAU,UAAY,QACjCzzB,MAAOkjD,EAAS/kC,cAChB4V,UAAW,kBAAC,GAAD,CAASvnB,QAAS02C,EAAS9kC,wBAEtC,kBAAC,GAAD,eACEtkB,GAAIA,EACJ25B,QAASA,GACLtO,EAHN,CAIEvrB,KAAMspD,EAAS1kC,QAAQxtB,MAAM,MAAMqD,KAAI,SAAAgvD,GAAG,MAAK,CAC7C3uD,IAAK2uD,EACLvuD,MAAOuuD,EACPrjD,MAAOqjD,UAOjB,SAASC,GAAT,GAA+C,IAAD,EAAlBJ,EAAkB,EAAlBA,SAAUj9C,EAAQ,EAARA,KACpC,EAA4BiD,oBAAS,GAArC,mBAAOnD,EAAP,KAAe8yB,EAAf,KACA,EAA+BvF,aAAS,CACtCpzB,KAAK,UAAD,OAAYgjD,EAAS5kC,UACzB+U,SAAU6vB,EAASK,WAAallC,GAAS,KAAMpY,GAAQ,OAFzD,mBAAOkf,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KAIM15B,EAAE,0BAAsBopD,EAAS5kC,UACjCklC,GAAkBN,EAAS7kC,WAAY,UAAAkV,EAAKz+B,aAAL,eAAYD,QAAS,EAC5D4+B,GAAWF,EAAKG,UAAaH,EAAKvrB,OAASw7C,EAEjD,OACE,kBAAC7vB,GAAA,EAAD,CACEC,QAAS95B,EACT+5B,kBACEN,EAAKvrB,OACL/B,EAAKU,EAAE,4DAETmR,WAAYorC,EAAS7kC,SACrByV,UAAWL,EAAU,UAAY,QACjCzzB,MAAOkjD,EAAS/kC,cAChB4V,UAAW,kBAAC,GAAD,CAASvnB,QAAS02C,EAAS9kC,wBAEtC,kBAACruB,GAAA,EAAD,CACE0X,QAASqZ,KAAc4gC,eACvB5nD,GAAIA,EACJwP,SAAUuvB,EACV/rB,SAAU,SAACmU,EAAOgkB,GAAY,IAAD,GAC3B,OAAI9f,QAAJ,IAAIA,GAAJ,UAAIA,EAAOrwB,aAAX,aAAI,EAAcU,SAASyvC,IACzBzR,EAAQ/gB,SAAS0S,EAAMrwB,MAAMe,QAAO,SAAAypD,GAAC,OAAIA,IAAMra,MAE/CzR,EAAQ/gB,SAAS0S,EAAMrwB,MAAM8C,OAAOqtC,IAEtCzR,EAAQwS,YAAW,IAErBjgC,OAAQA,EACRqb,WAAY+D,EAAMrwB,MAClBqsB,QAAS,WACPqS,EAAQwS,YAAW,GACnBxS,EAAQ/gB,SAAS,MAGlBywC,EAAS1kC,QAAQxtB,MAAM,MAAMqD,KAAI,SAAAgvD,GAAG,OACnC,kBAAC7hC,GAAA,EAAD,CAAc9sB,IAAK2uD,EAAKvuD,MAAOuuD,SAO1Bj8C,6BA/If,YAA6C,IAAvBq8C,EAAsB,EAAtBA,aAAcx9C,EAAQ,EAARA,KAC5By9C,EAAa,CACjBv9C,KAAM88C,GACNU,SAAUV,GACV1hD,SAAU0hD,GACVW,eAAgBR,GAChBS,YAAaP,GACbziB,QAASsiB,GACTW,MAAOX,IAET,OACE,kBAAC7c,GAAA,EAAD,KACGmd,EAAa/kC,KAAKrqB,KAAI,SAAA6uD,GACrB,IAAMa,EAAQL,EAAWR,EAAS9nD,MAClC,OACE,kBAAC2oD,EAAD,CAAOrvD,IAAKwuD,EAAS5kC,SAAU4kC,SAAUA,EAAUj9C,KAAMA,WC/BpD,SAAS+9C,GACtBzF,EACAkF,EACArqB,EACAnzB,EACAu4C,GAEA,MAAkCzmB,eAA1BgpB,EAAR,EAAQA,cAAe7iD,EAAvB,EAAuBA,OACjBygD,EACJjpD,OAAOC,KAAK6oD,GAAchpD,SAXd,WAoHhB,SAAuB+oD,EAAckF,EAAcvlD,GACjD,IAAIygD,GAAW,EACXJ,EAAa0F,gBAAkBR,EAAa/kC,MAC9C+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GACxB,IAAMpuD,EAAQoJ,EAAO,UAAD,OAAWglD,EAAS5kC,WAClC4lC,EAAc,CAAC,OAAQ,YAAY1uD,SAAS0tD,EAAS9nD,MACrDoqB,EAAY,CAAC,UAAW,SAAShwB,SAAS0tD,EAAS9nD,MACrD8oD,IAAgBpvD,GAAmB,IAAVA,KAExBouD,EAASrzC,KAAO/a,EAAMD,OAASquD,EAASrzC,KACxCqzC,EAASjyC,KAAOnc,EAAMD,OAASquD,EAASjyC,OAEzC0tC,GAAW,GAGXn5B,IAAc1wB,GAAmB,IAAVA,KACrBA,EAAQouD,EAASrzC,KAAO/a,EAAQouD,EAASjyC,OAC3C0tC,GAAW,GAGXuE,EAAS7kC,WAAavpB,GAAmB,IAAVA,IACjC6pD,GAAW,MAKjB,OAAOA,EAlILuC,CAAc3C,EAAckF,EAAcvlD,GAE5C,MAAO,CACLgxC,KAAMqP,EAAa0F,eACf,CACEnqD,GAjBM,SAkBNoG,KACE,kBAAC,GAAD,CAAUsyB,UAAWmsB,EAAU7kD,GAAG,eAC/BmM,EAAKU,EAAE,gBAGZM,UAAW,kBAAC,GAAD,CAAYw8C,aAAcA,EAAcx9C,KAAMA,IACzD4oC,YAAY,GAEd,KACJn5B,cAAegpC,GAAiBH,EAAckF,EAAcrqB,GAC5DqqB,eACAp1C,SAAS,EACTwc,aAAc,KACd8zB,WACA3Y,WAAY,SAAA+T,IACN,OAAC0J,QAAD,IAACA,OAAD,EAACA,EAAc/kC,OAGnB+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GACxBnJ,EAAgB,UAAD,OAAWmJ,EAAS5kC,WAAY,GAAM,OAGzD+U,SAAU,WACJkrB,EAAa0F,gBAAkBR,EAAa/kC,MAC9C+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GACxB,IAAMiB,EAiDhB,SAA6BjB,EAAUpuD,EAAOmR,GAC5C,IAAMi+C,EAAc,CAAC,OAAQ,YAAY1uD,SAAS0tD,EAAS9nD,MACrDoqB,EAAY,CAAC,UAAW,SAAShwB,SAAS0tD,EAAS9nD,MACzD,GAAI8oD,IAAgBpvD,GAAmB,IAAVA,GAAc,CACzC,GAAIouD,EAASrzC,KAAO/a,EAAMD,OAASquD,EAASrzC,IAC1C,OAAO5J,EAAKU,EAAE,2DAAgCu8C,EAASrzC,OAEzD,GAAIqzC,EAASjyC,KAAOnc,EAAMD,OAASquD,EAASjyC,IAC1C,OAAOhL,EAAKU,EAAE,0DAA+Bu8C,EAASjyC,OAG1D,GAAIuU,IAAc1wB,GAAmB,IAAVA,KACrBA,EAAQouD,EAASrzC,KAAO/a,EAAQouD,EAASjyC,KAC3C,OAAOhL,EAAKU,EACV,iFAAyDu8C,EAASrzC,IAAlE,EAA6EqzC,EAASjyC,OAI5F,GAAIiyC,EAAS7kC,WAAavpB,GAAmB,IAAVA,EACjC,OAAOmR,EAAKU,EAAE,qCAEhB,OAAO,KAtEoBy9C,CACjBlB,EACAhlD,EAAO,UAAD,OAAWglD,EAAS5kC,WAC1BrY,GAEEk+C,GACFpD,EAAc,UAAD,OAAWmC,EAAS5kC,UAAY6lC,QAQzD,SAASzF,GAAiBH,EAAckF,EAAcrqB,GACpD,IAAKmlB,EAAa0F,iBAAmBR,EACnC,MAAO,GAGT,IAAMvlD,EAAS,GA2Bf,OA1BA,OAAIulD,QAAJ,IAAIA,OAAJ,EAAIA,EAAc/kC,OAChB+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GACF,gBAAlBA,EAAS9nD,KACX8C,EAAO,UAAD,OAAWglD,EAAS5kC,WAAc4kC,EAAS3kC,QAC7C2kC,EAAS3kC,QAAQvtB,MAAM,MACvB,GACuB,mBAAlBkyD,EAAS9nD,KAClB8C,EAAO,UAAD,OAAWglD,EAAS5kC,WACxB4kC,EAAS3kC,SAAW2kC,EAAS1kC,QAAQxtB,MAAM,MAAM,GAEnDkN,EAAO,UAAD,OAAWglD,EAAS5kC,WAAc4kC,EAAS3kC,SAAW,IAE9D,OAAI6a,QAAJ,IAAIA,OAAJ,EAAIA,EAAU3b,aACZ/nB,OAAOs/B,QAAQoE,EAAS3b,YAAYnpB,SAAQ,YAAmB,IAAD,mBAAhBI,EAAgB,KAAXI,EAAW,KACxDJ,IAAQwuD,EAAS5kC,WACf4kC,EAAS9nD,KACX8C,EAAO,UAAD,OAAWglD,EAAS5kC,WAAcxpB,SAU7CoJ,E,cCYMkJ,6BAhGf,YAAkD,IAAD,EAAlBnB,EAAkB,EAAlBA,KAAMmzB,EAAY,EAAZA,SAEjC5d,EAYE4d,EAZF5d,eACAxC,EAWEogB,EAXFpgB,kBACAqrC,EAUEjrB,EAVFirB,WACAnpC,EASEke,EATFle,WACAE,EAQEge,EARFhe,UACAC,EAOE+d,EAPF/d,qBACAF,EAMEie,EANFje,YACAH,EAKEoe,EALFpe,SACAM,EAIE8d,EAJF9d,qBACAC,EAGE6d,EAHF7d,yBACAN,EAEEme,EAFFne,QACApC,EACEugB,EADFvgB,eAGEyrC,EAAc,GAuBlB,OArBElpC,GACAC,GACAC,GACAE,KAEA8oC,EACE,kBAAC/R,GAAA,EAAD,KACGn3B,GAAa,kBAACo3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,eAC/B0U,GACC,kBAACm3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,0BAEnB2U,GACC,kBAACk3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,mCAEnB6U,GACC,kBAACg3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,iCAOxB,qCACiB,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgB1Y,cACf,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aADJ,OAGG+e,QAHH,IAGGA,OAHH,EAGGA,EAAgB1Y,aAAaD,QAKpC,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,uBAE/B,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,4BACd7R,MAAoB,KAAbkmB,EAAkB/U,EAAKU,EAAE,eAAaghC,GAAY3sB,KAE3D,kBAAC,GAAD,CAAQhb,MAAOiG,EAAKU,EAAE,2BAAwB7R,MAAOmmB,IACrD,kBAAC,GAAD,CAAQjb,MAAOiG,EAAKU,EAAE,8BAA2B7R,MAAOomB,IACxD,kBAAC,GAAD,CAAQlb,MAAOiG,EAAKU,EAAE,+BAA4B7R,MAAOqmB,KAC1C,OAAdtC,QAAc,IAAdA,GAAA,UAAAA,EAAgB6B,kBAAhB,eAA4B5gB,KAC3B,kBAAC,GAAD,CACEkG,MAAOiG,EAAKU,EAAE,kCACd7R,MACE,kBAAC,GAAD,CACEJ,IAAK0kC,EAASvgB,eAAe6B,WAAW5gB,GACxC4gB,WAAY0e,EAASvgB,eAAe6B,WACpCynB,YAAU,MAKjBmiB,GAAe,kBAAC,GAAD,CAAQtkD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,IAC1D,kBAAC,GAAD,CACEtkD,MAAOiG,EAAKU,EAAE,sBACd7R,MAAK,UAAKymB,EAAL,YAAiCtV,EAAKU,EAAE,mBAE/C,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOkkB,IAET,kBAAC,GAAD,MACG,gBAAGurC,EAAH,EAAGA,iBAAH,OACC,kBAAC,GAAD,CACEvkD,MAAOiG,EAAKU,EAAE,0BACd7R,MAAOyvD,OAIb,kBAAC,GAAD,CAAQvkD,MAAOiG,EAAKU,EAAE,2BAAwB7R,MAAOuvD,QC2E5Cj9C,I,mDAAAA,yBAtKf,YAA0D,IAAD,UAAlBnB,EAAkB,EAAlBA,KAAMmzB,EAAY,EAAZA,SAEzCpgB,EAcEogB,EAdFpgB,kBACAwrC,EAaEprB,EAbForB,SACAC,EAYErrB,EAZFqrB,iBACAC,EAWEtrB,EAXFsrB,UACAC,EAUEvrB,EAVFurB,eACAC,EASExrB,EATFwrB,OACAC,EAQEzrB,EARFyrB,eACAC,EAOE1rB,EAPF0rB,YACAC,EAME3rB,EANF2rB,YACAlsC,EAKEugB,EALFvgB,eACAmsC,EAIE5rB,EAJF4rB,qBACAC,EAGE7rB,EAHF6rB,iBACAC,EAEE9rB,EAFF8rB,yBACA9oC,EACEgd,EADFhd,UAGI+oC,EAAY,CAChBC,EAAGn/C,EAAKU,EAAE,mBACV0+C,EAAGp/C,EAAKU,EAAE,oBACV2+C,EAAGr/C,EAAKU,EAAE,yBACV4+C,EAAGt/C,EAAKU,EAAE,kBACV6+C,EAAGv/C,EAAKU,EAAE,8BAGR29C,EAAc,GAqBlB,OAnBEI,GACAC,GACAM,GACAC,KAEAZ,EACE,kBAAC/R,GAAA,EAAD,KACGmS,GAAa,kBAAClS,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,mBAC/Bg+C,GACC,kBAACnS,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,6BAEnBs+C,GAAoB,kBAACzS,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,0BACtCu+C,GACC,kBAAC1S,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,oCAOxB,qCACiB,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgB1Y,cACf,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aADJ,OAGG+e,QAHH,IAGGA,OAHH,EAGGA,EAAgB1Y,aAAaD,QAKpC,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,wBAEhB,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgBQ,YACf,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,iCAAkBqN,EAAeQ,iBAAjC,aAAkB,EAA0Bvf,GAA5C,aAAR,OACG+e,QADH,IACGA,GADH,UACGA,EAAgBQ,iBADnB,aACG,EAA2BnZ,QAKpC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,eAAY7R,MAAO8vD,IACzC,kBAAC,GAAD,CACE5kD,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOkkB,KAEM,OAAdH,QAAc,IAAdA,OAAA,EAAAA,EAAgB4sC,iBACf,kBAAC,GAAD,CACEzlD,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,8BAAeqN,EAAe4sC,sBAA9B,aAAe,EAA+B3rD,GAA9C,aAAR,UACG+e,EAAe4sC,sBADlB,aACG,EAA+BvlD,QAKxC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,uBAAoB7R,MAAOiwD,IACjD,kBAAC,GAAD,CAAQ/kD,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOqwD,EAAU/oC,KACjD,kBAAC,GAAD,CACEpc,MAAOiG,EAAKU,EAAE,sBACd7R,MAAK,UAAKkwD,EAAL,YAA6B/+C,EAAKU,EAAE,oBAE5B,OAAdkS,QAAc,IAAdA,GAAA,UAAAA,EAAgBiD,mBAAhB,eAA6BjnB,QAAS,GACrC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,mBACd7R,MAAO+jB,EAAeiD,YAAYznB,KAAI,SAAAqxD,GAAI,OACxC,kBAAC,GAAD,CAAgBhxD,IAAG,OAAEgxD,QAAF,IAAEA,OAAF,EAAEA,EAAM5rD,GAAI4gB,WAAYgrC,EAAMvjB,YAAU,SAIhE0iB,GACC,kBAAC,GAAD,CACEh0B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,gBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAYijB,EAAe7zD,MAAM,KAAK6D,QAErCgwD,EAAe7zD,MAAM,KAAKqD,KAAI,SAAAsxD,GAAM,OACnC,kBAACpjB,GAAA,EAAD,CAAM7tC,IAAKixD,EAAQxjB,YAAU,GAC1BwjB,SAOZlB,GACC,kBAAC,GAAD,CACE5zB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,yBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY6iB,EAAiBzzD,MAAM,KAAK6D,QAEvC4vD,EAAiBzzD,MAAM,KAAKqD,KAAI,SAAAwB,GAAM,OACrC,kBAAC0sC,GAAA,EAAD,CAAM7tC,IAAKmB,EAAQssC,YAAU,GAC1BtsC,SAOZ2uD,GACC,kBAAC,GAAD,CACE3zB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,sBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY4iB,EAASxzD,MAAM,KAAK6D,QACrD2vD,EAASxzD,MAAM,KAAKqD,KAAI,SAAA2I,GAAK,OAC5B,kBAACulC,GAAA,EAAD,CAAM7tC,IAAKsI,EAAOmlC,YAAU,GACzBnlC,SAOZsnD,GAAe,kBAAC,GAAD,CAAQtkD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,IACzDQ,GACC,kBAAC,GAAD,CACE9kD,MAAOiG,EAAKU,EAAE,yBACd4rB,KAAM,EACNz9B,MAAOgwD,Q,cCtKXc,GAAQC,YAAH,4HASLC,GAAUx+C,IAAOC,IAAV,wJASPw+C,GAAWz+C,IAAOC,IAAV,yGAMRy+C,GAAc1+C,IAAOC,IAAV,sGAMX0+C,GAAa3+C,YAAOw+C,GAAPx+C,CAAH,yOAKDs+C,IAGTM,GAAa5+C,YAAOw+C,GAAPx+C,CAAH,4DAIV6+C,GAAc7+C,YAAOw+C,GAAPx+C,CAAH,mGAQX8+C,GAAgB9+C,IAAOC,IAAV,4DAGb8+C,GAAmB/+C,YAAO0+C,GAAP1+C,CAAH,4BAEhBg/C,GAAYh/C,YAAOy+C,GAAPz+C,CAAH,4BACTi/C,GAAej/C,IAAOC,IAAV,4DAIZi/C,GAAiBl/C,YAAOy+C,GAAPz+C,CAAH,4BACdm/C,GAAoBn/C,IAAOC,IAAV,4DAIjBm/C,GAAap/C,YAAOy+C,GAAPz+C,CAAH,4BACVq/C,GAAgBr/C,IAAOC,IAAV,4DAIbq/C,GAAat/C,YAAOy+C,GAAPz+C,CAAH,4BACVu/C,GAAgBv/C,IAAOC,IAAV,4DAInB0+C,GAAWt5B,YAAc,aACzBu5B,GAAWv5B,YAAc,aACzBw5B,GAAYx5B,YAAc,cAC1By5B,GAAcz5B,YAAc,gBAC5B05B,GAAiB15B,YAAc,mBAC/B25B,GAAU35B,YAAc,YACxB45B,GAAa55B,YAAc,eAC3B65B,GAAe75B,YAAc,iBAC7B85B,GAAkB95B,YAAc,oBAChC+5B,GAAW/5B,YAAc,aACzBg6B,GAAch6B,YAAc,gBAC5Bi6B,GAAWj6B,YAAc,aACzBk6B,GAAcl6B,YAAc,gBAE5B,I,MA+Cem6B,GA/CI,SAAC,GAA0B,IAAxB58C,EAAuB,EAAvBA,OAAWvC,EAAY,kBAC3C,OACE,yCAASA,EAAT,CAAgBo/C,kBAAiB78C,EAAQzB,aAAYyB,IACvC,YAAXA,GAAwB,kBAAC+7C,GAAD,CAAYzS,cAAY,UACpC,QAAXtpC,GACW,YAAXA,GACW,YAAXA,GACW,kBAAXA,IAA+B,kBAACg8C,GAAD,CAAY1S,cAAY,UAC5C,WAAXtpC,GAAkC,UAAXA,GAAiC,aAAXA,IAC7C,kBAACi8C,GAAD,CAAa3S,cAAY,QACvB,kBAAC8S,GAAD,MACA,kBAACC,GAAD,QAGS,eAAXr8C,GAAsC,OAAXA,IAC3B,kBAACi8C,GAAD,CAAa3S,cAAY,QACvB,kBAAC4S,GAAD,MACA,kBAACC,GAAD,OAGQ,YAAXn8C,GACC,kBAACi8C,GAAD,CAAa3S,cAAY,QACvB,kBAACkT,GAAD,MACA,kBAACC,GAAD,OAGQ,YAAXz8C,GACC,kBAACi8C,GAAD,CAAa3S,cAAY,QACvB,kBAACoT,GAAD,MACA,kBAACC,GAAD,OAGQ,gBAAX38C,GACC,kBAACi8C,GAAD,CAAa3S,cAAY,QACvB,kBAACgT,GAAD,MACA,kBAACC,GAAD,OAGJ,0BAAM3wC,UAAU,oBAAhB,IAAqC5L,EAArC,OCtHA20B,GAAOv3B,aAAO,SAAAK,GAAK,OAAI,kBAAC,IAAUA,KAA3BL,CAAH,oDAIJw+C,GAAUx+C,IAAOC,IAAV,2EAMPy/C,GAAY,SAAC,GAAoB,IAAlB/gD,EAAiB,EAAjBA,KAAMghD,EAAW,EAAXA,KACnBC,EAAkB,SAAAl0D,GAAG,OACzB,kBAAC,WAAD,KACE,6BACGiT,EAAKU,EAAE,gBADV,IACwB3T,EAAI8G,IAE5B,6BACGmM,EAAKU,EAAE,gBADV,IACwB3T,EAAIkX,OAAOF,eAElChX,EAAI2oB,UACH,6BACG1V,EAAKU,EAAE,kBADV,IAC0B8mB,GAAiBz6B,EAAI2oB,aAM/CwrC,EAAcF,EAAK5yD,KAAI,SAAArB,GAAG,OAC9B,kBAAC,KAAD,CAASuZ,SAAS,MAAMC,QAAS06C,EAAgBl0D,GAAM0B,IAAK1B,EAAI8G,IAC9D,kBAAC+kC,GAAD,CACEp2B,aAAYxC,EAAKU,EAAE,6BAAa3T,EAAI8G,MACpC0R,GAAE,gBAAWzY,EAAsBC,EAAIoI,MAArC,YAA8CpI,EAAI8G,KAEpD,kBAAC,GAAD,CAAYoQ,OAAQlX,EAAIkX,cAK9B,OAAO,kBAAC,GAAD,KAAUi9C,IAMnBH,GAAU7/C,aAAe,CACvB8/C,KAAM,IAGO7/C,4BAAW4/C,IC2MX5/C,6BA3Pf,YAAsD,IAAD,sBAAlBnB,EAAkB,EAAlBA,KAAMmzB,EAAY,EAAZA,SAErCguB,EAqBEhuB,EArBFguB,mBACAxI,EAoBExlB,EApBFwlB,wBACAyI,EAmBEjuB,EAnBFiuB,eACAzpC,EAkBEwb,EAlBFxb,UACAte,EAiBE85B,EAjBF95B,WACAgoD,EAgBEluB,EAhBFkuB,MACAC,EAeEnuB,EAfFmuB,gBACAC,EAcEpuB,EAdFouB,gBACAjrC,EAaE6c,EAbF7c,gBACAmB,EAYE0b,EAZF1b,SACApE,EAWE8f,EAXF9f,SACA4C,EAUEkd,EAVFld,MACA1C,EASE4f,EATF5f,SACAZ,EAQEwgB,EARFxgB,QACAsC,EAOEke,EAPFle,WACAyC,EAMEyb,EANFzb,UACA9E,EAKEugB,EALFvgB,eACA4uC,EAIEruB,EAJFquB,eACArrC,EAGEgd,EAHFhd,UACAsrC,EAEEtuB,EAFFsuB,YACAC,EACEvuB,EADFuuB,gBAGIxC,EAAY,CAChBC,EAAGn/C,EAAKU,EAAE,mBACV0+C,EAAGp/C,EAAKU,EAAE,oBACV2+C,EAAGr/C,EAAKU,EAAE,yBACV4+C,EAAGt/C,EAAKU,EAAE,kBACV6+C,EAAGv/C,EAAKU,EAAE,8BAGR29C,EAAc,IAEhB+C,GACAE,GACAH,GACAK,KAEAnD,EACE,kBAAC/R,GAAA,EAAD,KACG8U,GACC,kBAAC7U,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,qCAEnB4gD,GACC,kBAAC/U,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,sCAEnBygD,GACC,kBAAC5U,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,gCAEnB8gD,GAAkB,kBAACjV,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,4BAK3C,IAAMihD,EACgC,WAAtB,OAAd/uC,QAAc,IAAdA,GAAA,UAAAA,EAAgBQ,iBAAhB,eAA2Bhe,MACvB,kBACA,YAEAwsD,EAAU,OAAGhvC,QAAH,IAAGA,GAAH,UAAGA,EAAgB8D,mBAAnB,aAAG,EAA6BtoB,KAAI,SAAArB,GAAG,kCAClDA,GADkD,IAErDoI,KAAM,WAGR,OACE,qCACG,UAAAyd,EAAe8D,mBAAf,eAA4B9nB,QAAS,GACpC,kBAAC,GAAD,CACEC,MAAO,kBAAC,GAAD,CAAWmyD,KAAMY,IACxB7nD,MAAOiG,EAAKU,EAAE,mBAGlB,kBAAC,GAAD,CAAQ3G,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAO6yC,GAAYruB,MACpC,OAAdT,QAAc,IAAdA,OAAA,EAAAA,EAAgB1Y,cACf,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aADJ,OAGG+e,QAHH,IAGGA,OAHH,EAGGA,EAAgB1Y,aAAaD,QAKpC,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,wBAEhB,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgBQ,WACf,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,WAAMo8C,EAAN,sBAAuB/uC,EAAeQ,iBAAtC,aAAuB,EAA0Bvf,GAAjD,aADJ,UAGG+e,EAAeQ,iBAHlB,aAGG,EAA0BnZ,SAKhC0+C,GACC,kBAAC,GAAD,CAAe5+C,MAAOiG,EAAKU,EAAE,wBAGlB,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgBY,SACf,kBAAC,GAAD,CACEzZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,8BAAeqN,EAAeY,eAA9B,aAAe,EAAwB3f,GAAvC,aAAR,UACG+e,EAAeY,eADlB,aACG,EAAwBvZ,QAK/B,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,uBAE/B,kBAAC,GAAD,CAAQ3G,MAAOiG,EAAKU,EAAE,8BAA2B7R,MAAOomB,IACxD,kBAAC,GAAD,CAAQlb,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO0kB,IACrC,kBAAC,GAAD,CAAQxZ,MAAOiG,EAAKU,EAAE,cAAW7R,MAAOwyD,GAAS,MACjD,kBAAC,GAAD,CAAQtnD,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOonB,IACrC,kBAAC,GAAD,CAAQlc,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOqwD,EAAU/oC,KAC3B,mBAAdwB,GACN,kBAAC,GAAD,CACE5d,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8oB,EAAY3X,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAG9C,kBAAC,GAAD,CAAQ3G,MAAOiG,EAAKU,EAAE,oBAAkB7R,MAAOynB,IAC/C,kBAAC,GAAD,CAAQvc,MAAOiG,EAAKU,EAAE,wBAAqB7R,MAAOyyD,KAC1C,OAAP3uC,QAAO,IAAPA,OAAA,EAAAA,EAASkvC,WACR,kBAAC,GAAD,CACE9nD,MAAOiG,EAAKU,EAAE,kCACd7R,MAAK,UAAKtD,OAAO0Z,SAAS68C,QAArB,OAA8BnvC,EAAQkvC,YAG/C,kBAAC,GAAD,CACE9nD,MAAOiG,EAAKU,EAAE,wBACd7R,MAAO6yC,GAAYggB,MAEb,OAAP/uC,QAAO,IAAPA,OAAA,EAAAA,EAASovC,mBACR,kBAAC,GAAD,CACEhoD,MAAOiG,EAAKU,EAAE,oBACd7R,MAAK,UAAKtD,OAAO0Z,SAAS68C,QAArB,OAA8BnvC,EAAQovC,oBAG/C,kBAAC,GAAD,CAAQhoD,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAO4yD,KAC/B,OAAd7uC,QAAc,IAAdA,OAAA,EAAAA,EAAgBovC,qBACf,kBAAC,GAAD,CACEp3B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,2BACd7R,MACE,kBAAC,GAAD,CACEJ,IAAG,UAAEmkB,EAAeovC,0BAAjB,aAAE,EAAmCnuD,GACxC4gB,WAAY7B,EAAeovC,mBAC3B9lB,YAAU,MAKjBmiB,GAAe,kBAAC,GAAD,CAAQtkD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,KAC3C,OAAdzrC,QAAc,IAAdA,GAAA,UAAAA,EAAgBiD,mBAAhB,eAA6BjnB,QAAS,GACrC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,oBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAeiD,YAAYjnB,QAEtCgkB,EAAeiD,YAAYznB,KAAI,SAAAqxD,GAAI,OAClC,kBAAC,GAAD,CAAgBhxD,IAAKgxD,EAAK5rD,GAAI4gB,WAAYgrC,EAAMvjB,YAAU,WAMrD,OAAdtpB,QAAc,IAAdA,GAAA,UAAAA,EAAgBkD,cAAhB,mBAAwB7gB,eAAxB,eAAiCrG,QAAS,GACzC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,eACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAekD,OAAO7gB,QAAQrG,QAEzCgkB,EAAekD,OAAO7gB,QAAQ7G,KAAI,SAAA2L,GAAK,OACtC,kBAACuiC,GAAA,EAAD,CAAM7tC,IAAKsL,EAAMlG,GAAIqoC,YAAU,GAC5BniC,EAAME,aAOH,OAAfsnD,QAAe,IAAfA,OAAA,EAAAA,EAAiB3yD,QAAS,GACzB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,wBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY4lB,EAAgB3yD,QACjD2yD,EAAgBnzD,KAAI,SAAA6zD,GAAE,OACrB,kBAAC3lB,GAAA,EAAD,CAAM7tC,IAAKwzD,EAAGpuD,GAAIqoC,YAAU,GACzB+lB,EAAGhoD,aAOP,OAARwd,QAAQ,IAARA,OAAA,EAAAA,EAAU7oB,QAAS,GAClB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,iBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYlkB,EAAS1sB,MAAM,KAAK6D,QACrD6oB,EAAS1sB,MAAM,KAAKqD,KAAI,SAAA8zD,GAAM,OAC7B,kBAAC5lB,GAAA,EAAD,CAAM7tC,IAAKyzD,EAAQhmB,YAAU,GAC1BgmB,UAOH,OAATxqC,QAAS,IAATA,OAAA,EAAAA,EAAW9oB,QAAS,GACnB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYjkB,EAAU3sB,MAAM,KAAK6D,QACtD8oB,EAAU3sB,MAAM,KAAKqD,KAAI,SAAA+zD,GAAO,OAC/B,kBAAC7lB,GAAA,EAAD,CAAM7tC,IAAK0zD,EAASjmB,YAAU,GAC3BimB,SAOZ9oD,GACC,kBAAC,GAAD,CACEU,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAOwK,QC1HF8H,6BA1Hf,YAAwD,IAAD,gBAAlBnB,EAAkB,EAAlBA,KAAMmzB,EAAY,EAAZA,SAEvCguB,EAQEhuB,EARFguB,mBACA9nD,EAOE85B,EAPF95B,WACA4c,EAMEkd,EANFld,MACAtD,EAKEwgB,EALFxgB,QACAsC,EAIEke,EAJFle,WACArC,EAGEugB,EAHFvgB,eACA6uC,EAEEtuB,EAFFsuB,YACAC,EACEvuB,EADFuuB,gBAGErD,EAAc,IACd8C,GAAsBO,KACxBrD,EACE,kBAAC/R,GAAA,EAAD,KACG6U,GACC,kBAAC5U,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,gCAEnBghD,GAAmB,kBAACnV,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,2BAK5C,IAAMihD,EACgC,WAAtB,OAAd/uC,QAAc,IAAdA,GAAA,UAAAA,EAAgBQ,iBAAhB,eAA2Bhe,MACvB,kBACA,YAEAwsD,EAAU,OAAGhvC,QAAH,IAAGA,GAAH,UAAGA,EAAgB8D,mBAAnB,aAAG,EAA6BtoB,KAAI,SAAArB,GAAG,kCAClDA,GADkD,IAErDoI,KAAM,WAGR,OACE,qCACiB,OAAdyd,QAAc,IAAdA,GAAA,UAAAA,EAAgB8D,mBAAhB,eAA6B9nB,QAAS,GACrC,kBAAC,GAAD,CACEC,MAAO,kBAAC,GAAD,CAAWmyD,KAAMY,IACxB7nD,MAAOiG,EAAKU,EAAE,oBAGH,OAAdkS,QAAc,IAAdA,OAAA,EAAAA,EAAgB1Y,eACf,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aADJ,OAGG+e,QAHH,IAGGA,OAHH,EAGGA,EAAgB1Y,aAAaD,SAKvB,OAAd2Y,QAAc,IAAdA,OAAA,EAAAA,EAAgBQ,YACf,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,WAAMo8C,EAAN,sBAAuB/uC,EAAeQ,iBAAtC,aAAuB,EAA0Bvf,GAAjD,aADJ,UAGG+e,EAAeQ,iBAHlB,aAGG,EAA0BnZ,QAKnC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,8BAA2B7R,MAAOomB,IACxD,kBAAC,GAAD,CAAQlb,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOonB,IACrC,kBAAC,GAAD,CACElc,MAAOiG,EAAKU,EAAE,wBACd7R,MAAO6yC,GAAYggB,KAErB,kBAAC,GAAD,CAAQ3nD,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAO4yD,KACtC,OAAP9uC,QAAO,IAAPA,OAAA,EAAAA,EAASovC,mBACR,kBAAC,GAAD,CACEhoD,MAAOiG,EAAKU,EAAE,oBACd7R,MAAK,UAAKtD,OAAO0Z,SAAS68C,QAArB,OAA8BnvC,EAAQovC,oBAG9C1D,GAAe,kBAAC,GAAD,CAAQtkD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,KAC3C,OAAdzrC,QAAc,IAAdA,OAAA,EAAAA,EAAgBovC,qBACf,kBAAC,GAAD,CACEp3B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,2BACd7R,MACE,kBAAC,GAAD,CACEJ,IAAG,UAAEmkB,EAAeovC,0BAAjB,aAAE,EAAmCnuD,GACxC4gB,WAAY7B,EAAeovC,mBAC3B9lB,YAAU,OAKH,OAAdtpB,QAAc,IAAdA,GAAA,UAAAA,EAAgBkD,cAAhB,mBAAwB7gB,eAAxB,eAAiCrG,QAAS,GACzC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,eACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAekD,OAAO7gB,QAAQrG,QAEzCgkB,EAAekD,OAAO7gB,QAAQ7G,KAAI,SAAA2L,GAAK,OACtC,kBAACuiC,GAAA,EAAD,CAAM7tC,IAAKsL,EAAMlG,GAAIqoC,YAAU,GAC5BniC,EAAME,YAOlBZ,GACC,kBAAC,GAAD,CACEU,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAOwK,QC5GX+oD,GAAe/gD,IAAOghD,GAAV,iFAAGhhD,CAAH,6DAKlB,SAASihD,GAActwD,GACrB,GAAuB,qBAAZA,GAAuC,OAAZA,EACpC,OAAO,KAET,IAAMuwD,EAAU54C,KAAKsB,MAAMjZ,EAAU,IAC/Bg2B,EAAUh2B,EAAqC,GAA3B2X,KAAKsB,MAAMjZ,EAAU,IAC/C,OACE,kBAAC,QAAD,0CACGuwD,UAAcv6B,aAKrB,SAASw6B,GAAkBrvB,GACzB,IAAMoB,EAAO,CACX5e,aAAa,2BAAD,OAA6Bwd,EAASt/B,GAAtC,YACZ2f,QAAQ,aAAD,OAAe2f,EAASt/B,GAAxB,YACP4uD,iBAAiB,0BAAD,OAA4BtvB,EAAS/f,UAArC,oBAA0D+f,EAASt/B,GAAnE,YAChB4/B,sBAAsB,oCAAD,OAAsCN,EAASt/B,GAA/C,aAGvB,OAAO0gC,EAAI,OAACpB,QAAD,IAACA,OAAD,EAACA,EAAUh+B,MACpB,kBAAC,IAAD,CAAMoQ,GAAIgvB,EAAKpB,EAASh+B,OAAQg+B,EAASl5B,MAEzCk5B,EAASl5B,KAiCb,SAASyoD,GAAT,GAA8E,IAAD,MAArD1iD,EAAqD,EAArDA,KAAMmzB,EAA+C,EAA/CA,SAA+C,IAArCmlB,oBAAqC,MAAtB,GAAsB,MAAlBqK,iBAAkB,MAAN,GAAM,EACrEzD,EAAY,CAChBC,EAAGn/C,EAAKU,EAAE,mBACV0+C,EAAGp/C,EAAKU,EAAE,oBACV2+C,EAAGr/C,EAAKU,EAAE,yBACV4+C,EAAGt/C,EAAKU,EAAE,kBACV6+C,EAAGv/C,EAAKU,EAAE,8BAGNkiD,EAtBR,SAAuBzvB,EAAUwvB,EAAWE,GAC1C,IAAMC,EAAc,2BACf3vB,GADe,IAElBvgB,eAAe,eAAMugB,EAASvgB,iBAC3BiwC,GAML,OAJApzD,OAAOC,KAAKizD,GAAWt0D,SAAQ,SAAA00D,UACtBD,EAAeC,GACtB,OAAOD,QAAP,IAAOA,YAAgBlwC,eAAemwC,MAEjCD,EAYSE,CAAc7vB,EAAUwvB,EAAWrK,EAAa8B,UAChEwI,EAAQztD,MAAgB,OAATwtD,QAAS,IAATA,OAAA,EAAAA,EAAWM,WAAYL,EAAQztD,KAC9C,IAxCqB+tD,EAwCfC,EAAe1zD,OAAOC,KAAKizD,GAAW/zD,OAAS,EAErD,OACE,oCACE,kBAAC,GAAD,CAAYokC,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO2zD,GAAkBrvB,KACvD,kBAAC,GAAD,CAAQp5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO+zD,EAAQ9wC,cAC7C,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO6yC,GAAYkhB,EAAQQ,kBAAoBR,EAAQztD,QAEzD,kBAAC,GAAD,CACE4E,MAAOiG,EAAKU,EAAE,gBACd7R,MAAOyzD,GAAa,OAACM,QAAD,IAACA,OAAD,EAACA,EAAS5wD,WAEb,aAAX,OAAP4wD,QAAO,IAAPA,OAAA,EAAAA,EAASztD,OACR,kBAAC,GAAD,CAAqBg+B,SAAUyvB,IAEd,sBAAX,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASztD,OACR,kBAAC,GAAD,CAA6Bg+B,SAAUyvB,IAEtB,kBAAX,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASztD,OACR,kBAAC,GAAD,CAAyBg+B,SAAUyvB,IAElB,2BAAX,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASztD,OACR,kBAAC,GAAD,CAA2Bg+B,SAAUyvB,KAE/B,OAAPA,QAAO,IAAPA,OAAA,EAAAA,EAASpwC,UACR,kBAAC,GAAD,CACEzY,MAAOiG,EAAKU,EAAE,2BACdynB,KAAMy6B,EAAQpwC,QACdmZ,KAAI,OAAEi3B,QAAF,IAAEA,GAAF,UAAEA,EAAShwC,sBAAX,aAAE,EAAyBgC,cAG3B,OAAPguC,QAAO,IAAPA,OAAA,EAAAA,EAAS1vC,WACR,kBAAC,GAAD,CACEnZ,MAAOiG,EAAKU,EAAE,6CACdynB,KAAI,OAAEy6B,QAAF,IAAEA,OAAF,EAAEA,EAAS1vC,SACfyY,KAAI,OAAEi3B,QAAF,IAAEA,GAAF,UAAEA,EAAShwC,sBAAX,aAAE,EAAyBiC,iBA9EpBquC,EAmFF5K,GAjFN0F,gBACXkF,EAAWzJ,0BACXyJ,EAAWzG,yBACXyG,EAAWvK,yBACXuK,EAAW7G,wBACX6G,EAAW5G,qBACX4G,EAAW3G,0BACX2G,EAAWvG,yBACXuG,EAAWxG,oBACXwG,EAAWtG,yBACXsG,EAAW1G,0BAuEuB2G,GAC9B,oCACE,2BACA,kBAACf,GAAD,KAAepiD,EAAKU,EAAE,yBACtB,kBAAC,GAAD,CAAY8B,aAAW,oBACpB81C,EAAa+D,wBACZ,kBAAC,GAAD,CACEtiD,MAAOiG,EAAKU,EAAE,iCACd7R,MAAO6yC,GAAYihB,EAAUtvC,YAGhCilC,EAAamB,0BACZ,kBAAC,GAAD,CACE7uB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,oBACd4rB,KAAM,EACNz9B,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAYgnB,EAAU9sC,YAAYjnB,QAEjC+zD,EAAU9sC,YAAYznB,KAAI,SAAAqxD,GAAI,OAC7B,kBAAC,GAAD,CACEhxD,IAAKgxD,EAAK5rD,GACV4gB,WAAYgrC,EACZvjB,YAAU,UAOrBoc,EAAaK,yBACZ,kBAAC,GAAD,CACE5+C,MAAOiG,EAAKU,EAAE,qBACd7R,MAAK,UAAE8zD,EAAUvvC,iBAAZ,aAAE,EAAqBnZ,OAG/Bq+C,EAAaiE,0BACZ,kBAAC,GAAD,CACExiD,MAAOiG,EAAKU,EAAE,8BACd7R,MAAO8zD,EAAU1tC,aAGpBqjC,EAAagE,qBACZ,kBAAC,GAAD,CAAQviD,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO8zD,EAAU1sC,QAEhDxmB,OAAO6T,UAAUC,eAAeC,KAAKm/C,EAAW,cACjDrK,EAAakE,wBACX,kBAAC,GAAD,CACEziD,MAAOiG,EAAKU,EAAE,iCACd7R,MAAOqwD,EAAUyD,EAAUxsC,aAE3B,KACHmiC,EAAaoE,oBACZ,kBAAC,GAAD,CACE9xB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,iBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WACGgnB,EAAUlrC,UAAmC,KAAvBkrC,EAAUlrC,SAE7BkrC,EAAUlrC,SAAS1sB,MAAM,KAAK6D,OAD9B,GAIL+zD,EAAUlrC,SAAS7oB,OAAS,GAC3B+zD,EAAUlrC,SAAS1sB,MAAM,KAAKqD,KAAI,SAAA8zD,GAAM,OACtC,kBAAC5lB,GAAA,EAAD,CAAM7tC,IAAKyzD,EAAQhmB,YAAU,GAC1BgmB,SAOd5J,EAAaqE,yBACZ,kBAAC,GAAD,CACE/xB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WACGgnB,EAAUjrC,WAAqC,KAAxBirC,EAAUjrC,UAE9BirC,EAAUjrC,UAAU3sB,MAAM,KAAK6D,OAD/B,GAIL+zD,EAAUjrC,UAAU9oB,OAAS,GAC5B+zD,EAAUjrC,UAAU3sB,MAAM,KAAKqD,KAAI,SAAA+zD,GAAO,OACxC,kBAAC7lB,GAAA,EAAD,CAAM7tC,IAAK0zD,EAASjmB,YAAU,GAC3BimB,SAOd7J,EAAamE,yBACZ,kBAAC,GAAD,CACE1iD,MAAOiG,EAAKU,EAAE,qBACd7R,OAC0B,IAAxB8zD,EAAUhrC,UAAqB3X,EAAKU,EAAE,WAASV,EAAKU,EAAE,eAI1D43C,EAAa0F,gBACb1F,EAAasE,0BACb,kBAAC,GAAD,CACE7iD,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAO8zD,EAAUtpD,gBAUjCqpD,GAAaxhD,aAAe,CAC1Bo3C,aAAc,CAAE8B,SAAU,KAQbj5C,I,MAAAA,wBAAWuhD,I,sJC9PpBxK,GAAwB72C,YAAO82C,KAAP92C,CAAH,yEAKrBgiD,GAAsBhiD,IAAOC,IAAV,mMA+DVH,6BAvDf,YAMI,IALFgyB,EAKC,EALDA,SACAmlB,EAIC,EAJDA,aACAkF,EAGC,EAHDA,aACA9rB,EAEC,EAFDA,WACA1xB,EACC,EADDA,KAEQ/H,EAAW65B,eAAX75B,OACF6/C,EAAeD,GAAgB5/C,GAE/B0qD,EAAS,eACV1qD,GAGL,GAAIqgD,EAAasE,yBAA2BtE,EAAa0F,eAAgB,CACvE,IAAMsF,EACJhL,EAAasE,0BAA4B+F,EAAUtpD,YAAc,OACnE,UAAImkD,QAAJ,IAAIA,OAAJ,EAAIA,EAAc/kC,KAAM,CACtB,IAGM8qC,EtBtCL,SAAuB3L,EAAM4L,GAClC,IAAM7yD,EAAO,eAAQinD,GAMrB,OALA4L,EAAan1D,SAAQ,SAAAI,GACS,qBAAjBkC,EAAQlC,KACjBkC,EAAQlC,GAAO,uCAGZkC,EsB+BY8yD,CAAc3L,EAHN0F,EAAa/kC,KACjC7oB,QAAO,SAAA8zD,GAAC,MAAe,aAAXA,EAAEvuD,QACd/G,KAAI,SAAAs1D,GAAC,OAAIA,EAAErrC,aAEdsqC,EAAUtpD,WAAao1B,KAAKO,SAC1B2oB,GAAe2L,EAAkBC,SAGnCZ,EAAUtpD,WAAao1B,KAAKO,SAC1B2oB,GAAe2L,EAAkB,KAKvC,OACE,kBAAC,WAAD,KACG5xB,GACC,kBAAC2xB,GAAD,KACGrjD,EAAKU,EAAE,iDACR,kBAAC,KAAD,CACE4F,SAAS,QACTC,QAASvG,EAAKU,EAAE,+BAChB03C,QAAQ,0BAER,kBAAC,GAAD,QAIN,kBAAC,GAAD,CACEjlB,SAAUA,EACVmlB,aAAcA,EACdqK,UAAWA,QCrEJ,SAASgB,GACtBrL,EACAt4C,EACAmzB,EACAqqB,EACAjxB,EACAsuB,GAEA,MAAO,CACL5R,KAAM4R,EACF,CACEhnD,GAbM,UAcNoG,KACE,kBAAC,GAAD,CAAUsyB,WAAW,EAAO14B,GAAG,gBAC5BmM,EAAKU,EAAE,iBAGZM,UACE,kBAAC,GAAD,CACEs3C,aAAcA,EACdnlB,SAAUA,EACVqqB,aAAcA,EACd9rB,WAAYnF,IAGhBqc,YAAarc,EACbwc,eAAgB/oC,EAAKU,EAAE,sBAEzB,KACJ+O,cAAe,GACfrH,SAAS,EACTrG,MAAO,KACPg+B,WAAY,aACZ3S,SAAU,cC/Bd,SAASw2B,KAA6D,IAAjC/tC,EAAgC,uDAAlB,GAAIyiC,EAAc,uCACnE,KACE,OAACA,QAAD,IAACA,OAAD,EAACA,EAAcmB,4BAAf,OACAnB,QADA,IACAA,OADA,EACAA,EAAcwB,2BAEd,OAAOxB,EAAawB,0BAA0BlrD,OAAS,EAGzD,IAAIi1D,GAAiC,EAqBrC,OAnBAhuC,EAAYxnB,SAAQ,SAAAomB,GAAe,IAAD,QAChC,GAAKA,EAAWiE,OASmB,SAAvB,OAAVjE,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBpd,WACoB,SAA9B,OAAVmZ,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBshC,kBACmB,SAA7B,OAAVvlC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBuhC,iBACmB,SAA7B,OAAVxlC,QAAU,IAAVA,GAAA,UAAAA,EAAYiE,cAAZ,eAAoBwhC,kBAEpB2J,GAAiC,OAdX,CACtB,IAAM1J,EAAyB7B,EAAa8B,SAASvkC,YAAYsH,MAC/D,SAAAk9B,GAAW,OAAIA,EAAYxmD,KAAO4gB,EAAW5gB,OAGrB,OAAtBsmD,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBG,iBAAiB1rD,QAAS,IACpDi1D,GAAiC,OAYhCA,ECzBT,SAASC,GAAT,GAOI,IANFxL,EAMC,EANDA,aACAt4C,EAKC,EALDA,KACAo7B,EAIC,EAJDA,SACA1rB,EAGC,EAHDA,SACAyjB,EAEC,EAFDA,SACAqqB,EACC,EADDA,aAEA,EAAoC1rB,eAA5BgiB,EAAR,EAAQA,gBAAiB77C,EAAzB,EAAyBA,OAEzB,EDkBa,SACbqgD,EACAkF,EACArqB,EACAnzB,GAEA,MAA8BiD,mBAAS,IAAvC,mBAAO8gD,EAAP,KAAgBC,EAAhB,KACA,EAA8B/gD,oBAAS,GAAvC,mBAAOmF,EAAP,KAAgBC,EAAhB,KACA,EAA0CypB,eAAlCrE,EAAR,EAAQA,QAAiB6jB,EAAzB,EAAiBr5C,OACXwwC,EAAQ,CACZ4P,GAAiBC,EAAcnlB,EAAUnzB,EAAM+jD,GAC/CvK,GAAmBlB,EAAcnlB,EAAUnzB,GAC3C46C,GACEtC,EACAt4C,EACA4jD,GAA4BtS,EAAaz7B,YAAayiC,GACtDyL,GAEFlH,GAAoBvE,EAAcnlB,EAAUnzB,GAC5C+9C,GAAczF,EAAckF,EAAcrqB,EAAUnzB,EAAM+jD,IAEpDE,EAAcnyB,eAAdmyB,UACF13B,EAAYkc,EAAM35C,MAAK,SAAAm6C,GAAI,OAAIA,EAAKyP,YAE1CjQ,EAAMr7B,KACJu2C,GAAerL,EAAct4C,EAAMmzB,EAAUqqB,EAAcjxB,GAAW,IAGxE,IAAM23B,EAAUzb,EAAMr6C,KAAI,SAAAvD,GAAC,OAAIA,EAAEo+C,QAAMr5C,QAAO,SAAA/E,GAAC,OAAS,MAALA,KAC7Cs5D,GAAiB1b,EAAM35C,MAAK,SAAAjE,GAAC,OAAKA,EAAEud,WAE1CmB,qBAAU,WACR,GAAI46C,EAAe,CACjB,IAAM10C,EAAgBg5B,EAAM13C,QAAO,SAAC4S,EAAKygD,GACvC,OAAO,2BACFzgD,GACAygD,EAAI30C,iBAER,IAEG40C,EAAa,eAAQ50C,GAE3BhgB,OAAOC,KAAK4hD,GAAcjjD,SAAQ,SAAAi2D,GAChC,GACqB,yBAAnBA,GACA70D,OAAO6T,UAAUC,eAAeC,KAC9B6gD,EACA,wBAEF,CACA,IAAME,EAA4BjT,EAAayJ,qBAC/CtrD,OAAOC,KAAK60D,GAA2Bl2D,SACrC,SAAAm2D,GAEI/0D,OAAO6T,UAAUC,eAAeC,KAC9B6gD,EAActJ,qBACdyJ,KAGFH,EAActJ,qBAAqByJ,GACjCD,EAA0BC,YAKlC/0D,OAAO6T,UAAUC,eAAeC,KAAK6gD,EAAeC,KAEpDD,EAAcC,GAAkBhT,EAAagT,OAIjDL,EAAU,CACRhsD,OAAQosD,EACR52B,YAGFplB,GAAW,MAGZ,CAACipC,EAAaz7B,YAAasuC,IAE9B,IAAMM,EAAgBhc,EAAMtrB,MAAK,SAAAtyB,GAAC,OAAIA,EAAE+5B,gBAGxC,MAAO,CACL6jB,MAAOyb,EACP97C,UACAs8C,aAAc,SAAAC,GACZlc,EAAMtrB,MAAK,SAAAtyB,GAAC,aAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGo+C,YAAH,eAASp1C,MAAO8wD,KAAQv3B,YAE1Cw3B,UAAW,SAACC,EAAY/Q,GACtBkQ,EAAW,2BACND,GADK,mBAEPc,GAAa,KAEhBpc,EAAMtrB,MAAK,SAAAtyB,GAAC,aAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGo+C,YAAH,eAASp1C,MAAOgxD,KAAY9kB,WAAW+T,IAEzDgR,cAAe,SAAAhR,GACbkQ,EAAW,CACT5wC,WAAW,EACXyC,aAAa,EACbkvC,qBAAqB,EACrBC,OAAO,EACP5qD,QAAQ,EACR6qD,SAAS,IAEXxc,EAAMp6C,SAAQ,SAAAxD,GAAC,OAAIA,EAAEk1C,WAAW+T,OAElClvB,aA1BmB6/B,EAAgBA,EAAc7/B,aAAe,MC7F9DsgC,CAAe5M,EAAckF,EAAcrqB,EAAUnzB,GANvDyoC,EADF,EACEA,MACArgC,EAFF,EAEEA,QACAs8C,EAHF,EAGEA,aACAE,EAJF,EAIEA,UACAE,EALF,EAKEA,cA8BF,EAAgCr4C,GAnChC,EAMEmY,cA6BM7iB,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OAAI7K,EAEA,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,WACP6M,MAGF,kBAAC,GAAD,CAAc7K,MAAOA,KAMzB,kBAACujC,GAAA,EAAD,CACExlC,QAAM,EACNC,QAASq7B,EACT4L,OA/CiB,WAAO,IAAD,IACnBme,EAAa,GACb34C,EAAW,SAAC/d,EAAKI,GACA,qBAAVA,GAAmC,OAAVA,IAClCs2D,EAAW12D,GAAOI,IAGhBipD,EAAeD,GAAgB5/C,GACrCuU,EAAS,uBAAwBvU,EAAO8iD,sBACxCvuC,EAAS,eAAD,UAAiBvU,EAAOmb,iBAAxB,aAAiB,EAAkBvf,IAC3C2Y,EACE,cADM,UAENvU,EAAO4d,mBAFD,aAEN,EAAoBznB,KAAI,SAAAg3D,GAAC,OAAIA,EAAEvxD,OAEjC2Y,EAAS,WAAYvU,EAAOob,UAC5B7G,EAAS,QAASvU,EAAOge,OACzBzJ,EAAS,WAAYvU,EAAOwf,UAC5BjL,EAAS,YAAavU,EAAOyf,WAI7BlL,EAAS,aAAcmrC,GAHLW,EAAasE,wBAC3B3kD,EAAOoB,YAAc,MACrB85B,EAAS95B,WACoCy+C,IACjDtrC,EAAS,aAAcvU,EAAOgd,YAE9BvF,EAASy1C,IAwBPvW,OAAM,uCAAE,WAAMyW,GAAN,SAAA79D,EAAA,sDACNk9D,EAAaW,EAASxxD,IADhB,2CAAF,sDAGNs1C,OAAM,uCAAE,WAAOkc,EAAUC,GAAjB,SAAA99D,EAAA,sDACc,YAAhB69D,EAASxxD,GACXixD,EAAchR,IAEd8Q,EAAUU,EAASC,OAAQzR,GAC3B4Q,EAAaW,EAASxxD,KALlB,2CAAF,wDAQNu1C,WAAU,uCAAE,WAAOic,EAAUC,GAAjB,SAAA99D,EAAA,sDACU,YAAhB69D,EAASxxD,GACXixD,EAAchR,IAEd8Q,EAAUU,EAASC,OAAQzR,GAC3B4Q,EAAaW,EAASxxD,KALd,2CAAF,wDAQV0N,MAAOvB,EAAKU,EAAE,gBACd+nC,MACErgC,EACIqgC,EACA,CACE,CACExuC,KAAM+F,EAAKU,EAAE,wBACbM,UAAW,kBAAC,GAAD,QAIrBsoC,eAAgBtpC,EAAKU,EAAE,qBACvB6oC,iBAAkBvpC,EAAKU,EAAE,qBACzBqoC,eAAgB/oC,EAAKU,EAAE,eA4BdS,6BAvBf,YAOI,IANFm3C,EAMC,EANDA,aACAt4C,EAKC,EALDA,KACAo7B,EAIC,EAJDA,SACAoqB,EAGC,EAHDA,SAGC,IAFDryB,gBAEC,MAFU,GAEV,EADDqqB,EACC,EADDA,aAEA,OACE,kBAAC,KAAD,CAAQ/tC,cAAe,GAAIC,SAAU,SAAAzX,GAAM,OAAIutD,EAASvtD,KACtD,kBAAC6rD,GAAD,CACEp0C,SAAU,SAAAzX,GAAM,OAAIutD,EAASvtD,IAC7BmjC,SAAUA,EACVp7B,KAAMA,EACNs4C,aAAcA,EACdkF,aAAcA,EACdrqB,SAAUA,Q,OCnGZsyB,G,kDAOJ,WAAY/jD,GAAQ,IAAD,8BACjB,cAAMA,IAED47B,MAAQ,CACXooB,kBAAkB,EAClBpN,aAAc,KACdqN,aAAa,EACbnI,aAAc,MAGhB,EAAKoI,aAAe,EAAKA,aAAajxD,KAAlB,gBACpB,EAAKkxD,iBAAmB,EAAKA,iBAAiBlxD,KAAtB,gBACxB,EAAKmxD,eAAiB,EAAKA,eAAenxD,KAApB,gBACtB,EAAKoxD,uBAAyB,EAAKA,uBAAuBpxD,KAA5B,gBAC9B,EAAKqxD,uBAAyB,EAAKA,uBAAuBrxD,KAA5B,gBAdb,E,0DAiBnB,WACElB,KAAKwyD,SAAS,CAAEN,YAAa,S,oCAG/B,WACElyD,KAAKwyD,SAAS,CAAEP,kBAAkB,M,iEAGpC,0CAAAl+D,EAAA,6DACU2rC,EAAa1/B,KAAKiO,MAAlByxB,SACFz5B,EACc,0BAAlBy5B,EAASh+B,KACL0J,GAAwBnF,WAAWy5B,EAASt/B,IAC5C0J,GAAgB7D,WAAWy5B,EAASt/B,IACpCqyD,EACc,0BAAlB/yB,EAASh+B,KACL0J,GAAwBqnD,WAAW/yB,EAASt/B,IAC5C0J,GAAgB2oD,WAAW/yB,EAASt/B,IAT5C,kBAWyC6F,EAXzC,mBAWkB4+C,EAXlB,EAWY3kD,KAEJ6pD,EAAe,MAEflF,EAAa0F,eAfrB,kCAgB6BkI,EAhB7B,iBAgBcvyD,EAhBd,EAgBcA,KAER6pD,EAAe7pD,EAlBrB,UA/C8BuvD,EAoEC5K,GAlElB6N,8BACVjD,EAAWvK,yBACXuK,EAAWtG,yBACXsG,EAAW5G,qBACX4G,EAAW3G,0BACX2G,EAAWlF,gBACVkF,EAAWpJ,2BACqC,IAAhDoJ,EAAWpJ,0BAA0BlrD,QACrCs0D,EAAWkD,2BACqC,IAAhDlD,EAAWkD,0BAA0Bx3D,OA4DnC6E,KAAKwyD,SAAS,CACZP,kBAAkB,EAClBpN,eACAkF,iBALF/pD,KAAKoyD,iBAAiB,IAtB5B,kDA+BIpyD,KAAKwyD,SAAS,CAAEN,YAAY,EAAD,KA/B/B,kCA/CF,IAAgCzC,IA+C9B,qB,2HAmCA,WAAuBj1D,GAAvB,yBAAAzG,EAAA,wEAEkCiM,KAAKiO,MAA3BqD,EAFZ,EAEYA,QAGc,kBAHLouB,EAFrB,EAEqBA,UAGJh+B,KACXkxD,EAAa9oD,GAAgB9D,OAAO05B,EAASt/B,GAAI5F,GAAU,IAChC,0BAAlBklC,EAASh+B,KAClBkxD,EAAaxnD,GAAwBpF,OAAO05B,EAASt/B,GAAI5F,GAAU,IACxC,QAAlBklC,EAASh+B,KAClBkxD,EAAa7oD,GAAQ8oD,SAASnzB,EAASt/B,GAAI5F,GAAU,IAC1B,iBAAlBklC,EAASh+B,OAClBkxD,EAAavnD,GAAgBwnD,SAASnzB,EAASt/B,GAAI5F,GAAU,KAZnE,SAegCo4D,EAfhC,gBAekBt5D,EAflB,EAeY4G,KACRoR,EAAQqI,KAAR,gBAAsBrgB,EAAI8G,GAA1B,YAhBJ,kDAkBIJ,KAAKwyD,SAAS,CAAEN,YAAW,OAlB/B,0D,0HAsBA,4CAAAn+D,EAAA,+DACgCiM,KAAKiO,MAA3BqD,EADV,EACUA,QAKc,sBALLouB,EADnB,EACmBA,UAKJh+B,KAEXoxD,EAAelpD,GAAoBmpD,iBACjCrzB,EAASsvB,kBAEgB,mBAAlBtvB,EAASh+B,KAElBoxD,EAAexoD,GAAYyoD,iBAAiBrzB,EAAS3f,SAC1B,iBAAlB2f,EAASh+B,KAClBoxD,EAAeznD,GAAgBynD,aAAapzB,EAASt/B,IAC1B,mBAAlBs/B,EAASh+B,KAClBoxD,EAAe/pD,GAAiB+pD,aAAapzB,EAASt/B,IAC3B,QAAlBs/B,EAASh+B,OAClBoxD,EAAe/oD,GAAQ+oD,aAAapzB,EAASt/B,KAnBjD,kBAuB2C0yD,EAvB3C,oBAuBkBE,EAvBlB,EAuBY9yD,MAEUmmD,2BACoC,IAApD2M,EAAe3M,0BAA0BlrD,OA1B/C,uBA4B4B,qBAAlBukC,EAASh+B,KACXmxD,EAAWjpD,GAAoBqpD,aAC7BvzB,EAASsvB,kBAEgB,mBAAlBtvB,EAASh+B,KAClBmxD,EAAWvoD,GAAY2oD,aAAavzB,EAAS3f,SAClB,iBAAlB2f,EAASh+B,KAClBmxD,EAAWxnD,GAAgBwnD,SAASnzB,EAASt/B,IAClB,mBAAlBs/B,EAASh+B,KAClBmxD,EAAW9pD,GAAiB8pD,SAASnzB,EAASt/B,IACnB,QAAlBs/B,EAASh+B,OAClBmxD,EAAW9oD,GAAQ8oD,SAASnzB,EAASt/B,KAvC7C,UAyCkCyyD,EAzClC,iBAyCoBv5D,EAzCpB,EAyCc4G,KACRoR,EAAQqI,KAAR,gBAAsBrgB,EAAI8G,GAA1B,YA1CN,wBA4CMJ,KAAKwyD,SAAS,CACZP,kBAAkB,EAClBpN,aAAcmO,IA9CtB,0DAkDIhzD,KAAKwyD,SAAS,CAAEN,YAAY,EAAD,KAlD/B,0D,0EAsDA,WAAU,IAAD,OACP,EAKIlyD,KAAK6pC,MAJPqoB,EADF,EACEA,YACAD,EAFF,EAEEA,iBACApN,EAHF,EAGEA,aACAkF,EAJF,EAIEA,aAEF,EAAqC/pD,KAAKiO,MAAlCyxB,EAAR,EAAQA,SAAUnzB,EAAlB,EAAkBA,KAAMyB,EAAxB,EAAwBA,SACxB,OACE,kBAAC,WAAD,KACGA,EAAS,CACRmkD,aAAcnyD,KAAKmyD,aACnBE,eAAgBryD,KAAKqyD,iBAEtBH,GACC,kBAAC,GAAD,CACE7lD,OAAQ6lD,EACRnkD,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAStM,KAAKsyD,wBAEb/lD,EAAKU,EAAE,8BACR,kBAAC,GAAD,CAAaqB,MAAO4jD,KAGvBD,GACC,kBAAC,GAAD,CACEpN,aAAcA,EACdkF,aAAcA,EACdrqB,SAAUA,EACVqyB,SAAU/xD,KAAKoyD,iBACfzqB,SAAU,kBAAM,EAAK6qB,SAAS,CAAEP,kBAAkB,Y,GA9KnC1mD,IAAMyG,WAsLlBtE,wBAAWuE,YAAW+/C,KCnM/BpsB,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,2HA0FLF,6BAnFf,YAMI,IAAD,IALDnB,EAKC,EALDA,KACAjT,EAIC,EAJDA,IACA0sC,EAGC,EAHDA,WACA5yB,EAEC,EAFDA,SAEC,IADD8/C,sBACC,SACK7xB,EAAO,uBAAmB/nC,EAAI8G,IAE9B+yD,EAAW,CACf55D,eAAgBgT,EAAKU,EAAE,8BACvBxT,iBAAkB8S,EAAKU,EAAE,uBACzB3T,IAAKiT,EAAKU,EAAE,qBACZvT,eAAgB6S,EAAKU,EAAE,gBACvBmmD,eAAgB7mD,EAAKU,EAAE,uBACvBtT,aAAc4S,EAAKU,EAAE,sBAGvB,OACE,kBAACu2B,GAAA,EAAD,CAAcx0B,kBAAiBqyB,EAASjhC,GAAE,UAAK9G,EAAI8G,KACjD,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,qBAAgB9G,EAAI8G,IACtBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAa,CACX,kBAAC,GAAD,CAAc3oC,IAAI,SAASq4D,UAAU,GAClC/5D,EAAIkX,QAAU,kBAAC,GAAD,CAAYA,OAAQlX,EAAIkX,UAEzC,kBAAC,GAAD,CAAcxV,IAAI,QAChB,8BACE,kBAAC,IAAD,CAAM8W,GAAE,gBAAWzY,EAAsBC,EAAIoI,MAArC,YAA8CpI,EAAI8G,KACxD,2BACG9G,EAAI8G,GADP,WACoB9G,EAAIkN,UARnB,mBAaP0sD,EACA,CACE,kBAAC,GAAD,CAAcl4D,IAAI,OAAO+T,aAAW,QACjCokD,EAAS75D,EAAIoI,QAGlB,IAnBO,CAoBX,kBAAC,GAAD,CAAc1G,IAAI,YACf1B,EAAI2oB,SAAW8R,GAAiBz6B,EAAI2oB,UAAY,QAIvD,kBAAC,GAAD,CACElT,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEU,eAAb/nC,EAAIoI,OAAJ,UACDpI,EAAI6lB,sBADH,iBACD,EAAoBb,yBADnB,aACD,EAAuCg1C,OACrC,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,qBAAkB4F,SAAS,OAClD,kBAAC,GAAD,CAAc6sB,SAAUpmC,IACrB,gBAAG+4D,EAAH,EAAGA,eAAH,OACC,kBAAC/6C,EAAA,EAAD,CACEvJ,QAAQ,QACR6F,QAASy+C,EACTtjD,aAAYxC,EAAKU,EAAE,4BAEnB,kBAAC,KAAD,WAMR,SC7FZ,SAASsmD,GAA+Bj6D,GACtC,OACGA,EAAI6lB,eAAeb,kBAAkBg1C,OACtC,CAAC,UAAW,UAAW,WAAWx3D,SAASxC,EAAIkX,QAInD,SAASgjD,GAA8Bl6D,GACrC,OAAQ,CAAC,UAAW,UAAW,WAAWwC,SAASxC,EAAIkX,QAGzD,SAASijD,GAAT,GAAgE,IAAjClnD,EAAgC,EAAhCA,KAAMmnD,EAA0B,EAA1BA,aAAc/rB,EAAY,EAAZA,SACjD,EAA6C97B,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBACtB,EAAsCpf,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACMivB,EAAkBD,EAAav4D,OAC/By4D,EAAuBD,EAAkB,EAOzChvB,EAAc,WAClBD,GAAgBD,IAGlB3uB,qBAAU,WACJ6Y,GACFC,EAAmB6V,KAEpB,CAAC9V,EAAc8V,EAAa7V,IAE/B,IAiDMjb,EACoB,IAAxB+/C,EAAav4D,QACbu4D,EAAar4D,KAAKk4D,KAClBG,EAAar4D,KAAKm4D,IAEdK,EAAgBtnD,EAAKU,EACzB,8GACA,CACE2mD,yBAIJ,OACE,oCACGjlC,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,aACJ2Y,WAAYA,EACZpG,UAAU,SACVqG,QAAS+wB,GAERkvB,GAGH,kBAAC,KAAD,CAAS/gD,QAzEO,WACpB,IAAMghD,EAA0BJ,EAC7Bv3D,OAAOo3D,IACP54D,KAAI,SAAArB,GAAG,OAAIA,EAAIkN,QACZutD,EAAyBL,EAC5Bv3D,OAAOq3D,IACP74D,KAAI,SAAArB,GAAG,OAAIA,EAAIkN,QAIlB,OAH8BstD,EAAwB51D,OACpD61D,GACA54D,OAC0B,EAExB,6BACG24D,EAAwB34D,OAAS,GAChC,6BACGoR,EAAKU,EACJ,+JACA,CACE+mD,sBAAuBF,EAAwB34D,SAGlD,IAAI+C,OAAO41D,EAAwBt3D,KAAK,QAG5Cu3D,EAAuB54D,OAAS,GAC/B,6BACGoR,EAAKU,EACJ,qQACA,CACE+mD,sBAAuBD,EAAuB54D,SAGjD,IAAI+C,OAAO61D,EAAuBv3D,KAAK,SAM9Cm3D,EAAkB,EACbpnD,EAAKU,EACV,iIACA,CACE0mD,oBAICpnD,EAAKU,EAAE,iCA2BQ63B,GAAiBjyB,SAAS,OAC1C,6BACE,kBAACyE,EAAA,EAAD,CACEvJ,QAAQ,YACRgB,aAAY8kD,EACZjgD,QAAS+wB,EACThxB,WAAYA,GAEXkgD,KAKRpvB,GACC,kBAAC,GAAD,CACE12B,QAAQ,SACRD,MAAO+lD,EACPxnD,OAAQo4B,EACRn4B,QAASq4B,EACTttB,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,4BACHpF,IAAI,SACJ+S,QAAQ,SACRgB,aAAY8kD,EACZjgD,QAjHY,WACtB+zB,IACAhD,MAiHWkvB,GAEH,kBAACv8C,EAAA,EAAD,CACElX,GAAG,2BACHpF,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,eACnB2G,QAAS+wB,GAERp4B,EAAKU,EAAE,kBAIZ,6BACGV,EAAKU,EACJ,kIACA,CACE0mD,qBAILD,EAAa/4D,KAAI,SAAArB,GAAG,OACnB,0BAAM0B,IAAK1B,EAAI8G,IACb,gCAAS9G,EAAIkN,MACb,mCAcditD,GAAoBhmD,aAAe,CACjCimD,aAAc,GACd/rB,SAAU,cAGGj6B,4BAAW+lD,ICtLX,SAASQ,GAAaC,GACnC,MAAsC1kD,mBAAS,MAA/C,mBAAO2kD,EAAP,KAAoBC,EAApB,KACMC,EAAKv/C,iBAAO,MA+ClB,OA7CAgB,qBAAU,WACRu+C,EAAGr+C,QAAU,IAAIs+C,UAAJ,UACqB,UAA7Bx8D,OAAO0Z,SAAS+iD,SAAuB,MAAQ,OADvC,aAETz8D,OAAO0Z,SAAS5O,KAFP,gBAMb,IAAM4xD,EAAU,WACd,IAAMC,EAAW,YAAKz8D,SAAS+T,QAC5BzU,MAAM,gBACN2U,MACA3U,MAAM,KACN4U,QACHmoD,EAAGr+C,QAAQ9c,KACTC,KAAKC,UAAU,CACbq7D,WACAzxC,OAAQkxC,MAwBd,OApBAG,EAAGr+C,QAAQ0+C,OAASF,EAEpBH,EAAGr+C,QAAQ2+C,UAAY,SAAAz8D,GACrBk8D,EAAej7D,KAAKkiC,MAAMnjC,EAAEgI,QAG9Bm0D,EAAGr+C,QAAQ4+C,QAAU,SAAA18D,GAEnBsmC,QAAQq2B,MAAM,iCAAkC38D,GAChDwG,YAAW,WACT81D,MACC,MAGLH,EAAGr+C,QAAQ8+C,QAAU,SAAAz4B,GAEnBmC,QAAQq2B,MAAM,iBAAkBx4B,EAAK,oBACrCg4B,EAAGr+C,QAAQ++C,SAGN,WACLV,EAAGr+C,QAAQ++C,WAEZ,IAEIZ,ECjDM,SAASa,GAAY55D,EAAOonB,GACzC,MAA4ChT,mBAASpU,GAArD,mBAAO65D,EAAP,KAAuBC,EAAvB,KACMC,EAAUrgD,iBAAOnV,KAAKy1D,OACtB78C,EAAezD,iBAAO1Z,GAoB5B,OAlBA0a,qBAAU,WACR,GAAI1a,IAAUmd,EAAavC,QAEzB,OADAk/C,EAAkB95D,GACX,aAGT,IAAMi6D,EAAU32D,YAAW,WACrBiB,KAAKy1D,MAAQD,EAAQn/C,SAAWwM,IAClC2yC,EAAQn/C,QAAUrW,KAAKy1D,MACvBF,EAAkB95D,MAEnBonB,GAAS7iB,KAAKy1D,MAAQD,EAAQn/C,UAEjC,OAAO,WACLvX,aAAa42D,MAEd,CAACj6D,EAAOonB,IAEJyyC,ECzBT,IAAMK,GAAU,CACdrzC,SAwBF,SAAoBluB,EAAG+xC,GACrB,IAAK/xC,EAAEkuB,SACL,OAAO,EAET,IAAK6jB,EAAE7jB,SACL,OAAQ,EAEV,OAAO/lB,GAAK,IAAIyD,KAAK5L,EAAEkuB,UAAW,IAAItiB,KAAKmmC,EAAE7jB,YA9B7C7hB,GA2CF,SAAcrM,EAAG+xC,GACf,OAAO5pC,GAAKnI,EAAEqM,GAAI0lC,EAAE1lC,KA3CpBoG,KA8CF,SAAgBzS,EAAG+xC,GACjB,OAAO5pC,GAAKnI,EAAEyS,KAAMs/B,EAAEt/B,OA9CtB+uD,eAiDF,SAAqBxhE,EAAG+xC,GAAI,IAAD,QACnB0vB,EAAK,UAAGzhE,EAAEorB,sBAAL,iBAAG,EAAkBgC,kBAArB,aAAG,EAA8B/gB,GACtCq1D,EAAK,UAAG3vB,EAAE3mB,sBAAL,iBAAG,EAAkBgC,kBAArB,aAAG,EAA8B/gB,GAC5C,OAA6B,EAAtBlE,GAAKs5D,EAAOC,IAnDnBC,kCAsDF,SAAmB3hE,EAAG+xC,GACpB,OAAO5pC,GAAKnI,EAAEowB,qBAAsB2hB,EAAE3hB,uBAtDtCnC,QA6BF,SAAmBjuB,EAAG+xC,GACpB,IAAK/xC,EAAEiuB,QACL,OAAO,EAET,IAAK8jB,EAAE9jB,QACL,OAAQ,EAEV,OAAO9lB,GAAK,IAAIyD,KAAK5L,EAAEiuB,SAAU,IAAIriB,KAAKmmC,EAAE9jB,YAjC/B,SAAS2zC,GAASpI,EAAM/yD,GACrC,MAAmDA,EAA3CP,gBAAR,MAAmB,YAAnB,IAAmDO,EAAnBR,iBAAhC,MAA4C,GAA5C,EACMgB,EAAMf,EAASS,QAAQ,IAAK,IAC5Bk7D,EAAKN,GAAQt6D,GACnB,OAAK46D,GAI0B,MAAhB37D,EAAS,GAAaszD,EAAKrxD,KAI5C,SAAiB05D,GACf,OAAO,SAAC7hE,EAAG+xC,GAAJ,OAAsB,EAAZ8vB,EAAG7hE,EAAG+xC,IALwB1F,CAAQw1B,IAAOrI,EAAKrxD,KAAK05D,IAC1Dj+D,MAAM,EAAGqC,GAJduzD,EAAK51D,MAAM,EAAGqC,GAiDzB,SAASkC,GAAKnI,EAAG+xC,GACf,OAAK/xC,EAGA+xC,EAGD/xC,EAAI+xC,GACE,EAEN/xC,EAAI+xC,EACC,EAEF,EARE,GAHC,EC1DG,SAAS+vB,GAAUC,EAAaC,EAAe18C,GAC5D,IAAM7H,EAAW6C,cACjB,EAAwB7E,mBAASsmD,GAAjC,mBAAOvI,EAAP,KAAayI,EAAb,KACA,EAAsCxmD,mBAAS,IAA/C,mBAAOymD,EAAP,KAAoBC,EAApB,KACMC,EAAuBnB,GAAYiB,EAAa,KAChD9B,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACP6I,UAAW,CAAC,WACZ7tC,QAAS,CAAC,qBAGZzS,qBAAU,WACRkgD,EAAQF,KACP,CAACA,IA8CJ,OAvCAhgD,qBAAU,WACR,sBAAC,gCAAA/hB,EAAA,yDACMoiE,EAAqBh7D,OAD3B,wDAIC+6D,EAAe,IAJhB,SAKuBH,EAAcI,GALrC,OAKOE,EALP,QAMOC,EAAeD,EAAQl6D,QAC3B,SAAA7C,GAAG,OAAKi0D,EAAK7jC,MAAK,SAAA6qB,GAAC,OAAIA,EAAEn0C,KAAO9G,EAAI8G,UAErBjF,SACTX,EAASH,EAAiBgf,EAAU7H,EAASkI,QACnDs8C,EAAQL,GAAS,GAAD,mBAAKW,GAAL,YAAsB/I,IAAO/yD,KAXhD,0CAAD,KAcC,CAAC27D,EAAsBJ,IAE1BjgD,qBAAU,WACR,GAAKq+C,GAAgBA,EAAYoC,eAAjC,CAGA,IAAM/7D,EAASH,EAAiBgf,EAAU7H,EAASkI,QAEnD,KADuB1d,OAAOC,KAAKzB,GAAQW,OAAS,IAGjD,CAAC,YAAa,SAAU,SAASW,SAASq4D,EAAY3jD,QAFzD,CAOA,IAnCmBpQ,EAmCbo2D,EAAQrC,EAAYoC,eACpBh5D,EAAQgwD,EAAKvjB,WAAU,SAAAuK,GAAC,OAAIA,EAAEn0C,KAAOo2D,KACvCj5D,GAAS,EACXy4D,EAAQL,GASd,SAAmBpI,EAAMhwD,EAAOyS,GAC9B,IAAM1W,EAAG,2BACJi0D,EAAKhwD,IADD,IAEPiT,OAAQR,EAAQQ,OAChByR,SAAUjS,EAAQiS,WAEpB,MAAM,GAAN,mBAAWsrC,EAAK51D,MAAM,EAAG4F,IAAzB,CAAiCjE,GAAjC,YAAyCi0D,EAAK51D,MAAM4F,EAAQ,KAfvCk5D,CAAUlJ,EAAMhwD,EAAO42D,GAAc35D,KAtCrC4F,EAwCJ+zD,EAAYoC,eAvCtBN,EAAYn6D,SAASsE,IACxB81D,GAAe,SAAAQ,GAAG,OAAIA,EAAIx4D,OAAOkC,WAwClC,CAAC+zD,IAEG5G,ECgQM7/C,6BAtSf,YAAmE,IAAhDnB,EAA+C,EAA/CA,KAAMzS,EAAyC,EAAzCA,cAAyC,IAA1Bo5D,sBAA0B,SAC1D9wB,EAAYxoC,EAChB,MAD2B,aAGzBG,KAAM,EACNC,UAAW,GACXC,SAAU,YACV08D,iBAAkB,QACf78D,GAEL,CAAC,KAAM,OAAQ,cAGjB,EAAgC0V,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACMh0B,EAAW6C,cACjB,EAKIgE,GACFzC,sBAAW,sBACT,wCAAA7hB,EAAA,6DACQyG,EAASH,EAAiB+nC,EAAW5wB,EAASkI,QADtD,SAE4CvX,QAAQmU,IAAI,CACpDvL,GAAe9J,KAAf,eAAyBzG,IACzBuQ,GAAes3B,gBAJnB,0CAES9iC,EAFT,KAEmB+iC,EAFnB,uBAMS,CACL9gC,QAASjC,EAASW,KAAKsB,QACvB8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd3D,2CAiBA,CAACjxB,IAEH,CACEhQ,QAAS,GACT8gB,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA9BpB,IACEvN,OAAUhX,EADZ,EACYA,QAAS8gB,EADrB,EACqBA,MAAO0D,EAD5B,EAC4BA,sBAAuBD,EADnD,EACmDA,eAC1CoL,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSi+C,EAJX,EAIE99C,QA6BFhD,qBAAU,WACR8gD,MACC,CAACA,IAGJ,IAUMrJ,EAAOsI,GAAUr0D,EAVDoU,sBAAW,uCAC/B,WAAM8gD,GAAN,mBAAA3iE,EAAA,6DACQyG,EAASH,EAAiB+nC,EAAW5wB,EAASkI,SAC7Cm9C,OAASH,EAAIl6D,KAAK,KAF3B,SAGyBuO,GAAe9J,KAAKzG,GAH7C,uBAGU0F,EAHV,EAGUA,KAHV,kBAISA,EAAKsB,SAJd,2CAD+B,sDAO/B,CAACgQ,EAASkI,SAGmC0oB,GAEzC9U,EAAgBiY,EAASpqC,SAAWoyD,EAAKpyD,QAAUoqC,EAASpqC,OAAS,EAE3E,EAIIkd,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,+EACHoO,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAArB,GACX,MAAI,CAAC,MAAO,UAAW,UAAW,WAAWwC,SAASxC,EAAIkX,QACjDzG,GAAQ+sD,OAAOx9D,EAAI8G,GAAI9G,EAAIoI,MAE7BS,QAAQC,eANT,2CAST,CAACmjC,IACJ,IAdOwxB,EADT,EACEzoD,MACW0oD,EAFb,EAEEr+C,UACSs+C,EAHX,EAGEn+C,QAeF,EAGIE,GAAoB+9C,GAFfG,EADT,EACE5oD,MACc6oD,EAFhB,EAEEh+C,aAGF,EAKIC,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,YAAmB,IAAhB+G,EAAe,EAAfA,KAAMtB,EAAS,EAATA,GACpB,OAAQsB,GACN,IAAK,MACH,OAAOqI,GAAQw8B,QAAQnmC,GACzB,IAAK,iBACH,OAAO2I,GAAiBw9B,QAAQnmC,GAClC,IAAK,aACH,OAAOuK,GAAc47B,QAAQnmC,GAC/B,IAAK,iBACH,OAAOiK,GAAkBk8B,QAAQnmC,GACnC,IAAK,mBACH,OAAOyJ,GAAoB08B,QAAQnmC,GACrC,IAAK,eACH,OAAOiL,GAAgBk7B,QAAQnmC,GACjC,QACE,OAAO,YAId,CAACmlC,IACJ,CACElsB,SAAU+oB,EACV9oB,iBAAkBgU,EAClB/T,WAAYq9C,IA9BHpf,EADb,EACE7+B,UACay+C,EAFf,EAEE39C,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBA+BIw9C,EAAe,uCAAG,sBAAAtjE,EAAA,sEAChBkjE,IADgB,OAEtBzxB,EAAY,IAFU,2CAAH,qDAKf8xB,EAAe,uCAAG,sBAAAvjE,EAAA,sEAChBqjE,IADgB,OAEtB5xB,EAAY,IAFU,2CAAH,qDAKf6d,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOunB,GAAQ,KAGjC9nB,EAAe,SAAAjF,GACf+E,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOogC,EAAKpgC,MACnColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOogC,EAAKpgC,OAE/ColC,EAAYD,EAASrnC,OAAOsiC,KAIhC,OACE,oCACE,kBAACtxB,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6+B,GAAmBwf,EACnD9/D,MAAOq2D,EACPtgC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,EACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,WACbjS,IAAK,MAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,2BAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAI,WACJuF,QAAS,CACP,CAAC,iBAAkBgM,EAAKU,EAAE,+BAC1B,CAAC,mBAAoBV,EAAKU,EAAE,wBAC5B,CAAC,MAAOV,EAAKU,EAAE,sBACf,CAAC,iBAAkBV,EAAKU,EAAE,iBAC1B,CAAC,aAAcV,EAAKU,EAAE,wBACtB,CAAC,eAAgBV,EAAKU,EAAE,wBAG5B,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SACLuF,QAAS,CACP,CAAC,MAAOgM,EAAKU,EAAE,aACf,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,aAAcV,EAAKU,EAAE,oBACtB,CAAC,SAAUV,EAAKU,EAAE,gBAClB,CAAC,QAASV,EAAKU,EAAE,eACjB,CAAC,WAAYV,EAAKU,EAAE,oBAGxB,CACEzG,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,WACbjS,IAAK,MAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,kBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,qCAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,YAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,EACV5U,mBAAoB,CAClB,kBAAC,GAAD,CACExyB,IAAI,SACJspC,SAAUgzB,EACVjzB,cAAekB,EACf7T,mBAAmB,SAErB,kBAAC,GAAD,CACE12B,IAAI,SACJ2sC,SAAU0vB,EACV3D,aAAcnuB,SAKtBzB,WAAY,SAAAxqC,GAAG,OACb,kBAAC,GAAD,CACE0B,IAAK1B,EAAI8G,GACT9G,IAAKA,EACL45D,eAAgBA,EAChB9/C,SAAU,kBAAMqyB,EAAansC,IAC7B0sC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAO9G,EAAI8G,YAKvDwZ,GACC,kBAAC,GAAD,CACEvN,QAAM,EACN0B,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,2CACR,kBAAC,GAAD,CAAaqB,MAAOsL,KAGvBs9C,GACC,kBAAC,GAAD,CACE7qD,QAAM,EACN0B,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6qD,GAER5qD,EAAKU,EAAE,2CACR,kBAAC,GAAD,CAAaqB,MAAO4oD,S,SCzGfK,G,WA9Mb,WAAYxP,GAAO,IAAD,gCAwGlByP,gBAAkB,SAAAC,GAChB,IAAIjpD,EAAU,EACVkpD,EAAO,EACPC,EAAQ,EACNv2B,EACJw2B,KAASC,MACTD,KACU,EAAKE,KACZztC,OACA0tC,wBAAwB32B,EAC3B,GACI42B,EACJJ,KAASK,MACTL,KACU,EAAKE,KACZztC,OACA0tC,wBAAwBC,EAC3B,GACIE,EAAoBN,KAAc,SACxC,GAAKH,EAAL,CAIA,IAAMU,EAAe,EAAKC,YAAY/tC,OAAO0tC,wBAAwBnlC,MAC/DylC,EAAaT,KAAA,UACN,EAAKE,IADC,UAEhBztC,OACA0tC,wBAAwBnlC,MAErB0lC,EADW,IAAOH,EAAeE,EAAc,IACzBj3B,EAAIi3B,EAAc,IAC1CZ,IACFjpD,EAAUipD,EAAEc,KAAO,EACnBb,EAAOD,EAAEe,MAAQ,EACjBb,EAAQF,EAAEgB,OAAS,EACnB,EAAK/jC,KAAKjoB,KAAKyrD,EAAkBT,EAAEiB,MAAQ,QAGzCjB,GAAKA,EAAEv3D,OACTsO,EAAUipD,EAAEv3D,KAAKq4D,KAAO,EACxBb,EAAOD,EAAEv3D,KAAKs4D,MAAQ,EACtBb,EAAQF,EAAEv3D,KAAKu4D,OAAS,EACxB,EAAK/jC,KAAKjoB,KAAKyrD,EAAkBT,EAAEv3D,KAAKw4D,MAAQ,QAGlD,EAAKnL,KAAK9gD,KAAV,UAAkBkrD,EAAlB,YAA2B,EAAKrxD,QAChC,EAAKqyD,UAAY,EAAKpL,KAAKljC,OAAOuuC,wBAClC,EAAKvzC,OAAO5Y,KAAZ,UAAoBirD,IACpB,EAAKmB,WAAWpsD,KAAhB,UAAwB+B,IACxB,EAAKsqD,iBAAmB,EAAKD,WAAWxuC,OAAOuuC,wBAC/C,EAAKG,cAAgB,EAAK1zC,OAAOgF,OAAOuuC,wBAExC,IAGII,EAHEC,EAAe,EAAKN,UAAY,EAAKO,SAAY,IAEjDC,EAAUF,EADE,GAIhBD,EADEC,EAHc,GAIA,EAAKC,SAAWC,EAEhB,EAAKD,SAGvB,EAAKE,YAAYC,KAAK,QAASL,GAC/B,EAAKZ,YAAYiB,KAAK,YAAtB,oBAAgDj4B,EAAhD,aAAsD42B,EAAtD,MACIM,GACF,EAAKgB,aAAaD,KAAK,YAAa,kCACpC,EAAKD,YAAYC,KAAK,KAAML,EAAgB,IAC5C,EAAKO,YAAYF,KAAK,MAAOL,GAC7B,EAAKQ,UAAUH,KAAK,MAAOL,GAC3B,EAAKhhD,KAAKqhD,KAAK,KAAML,EAAgB,GACrC,EAAKS,YAAYJ,KAAK,IAAsB,GAAhBL,GAC5B,EAAKU,SAASL,KAAK,IAAsB,GAAhBL,GACzB,EAAKH,WAAWQ,KAAK,KAAM,EAAKP,iBAAmB,GAAK,IACxD,EAAKzzC,OAAOg0C,KAAK,KAAM,EAAKN,cAAgB,GAAK,IACjD,EAAKrkC,KAAK2kC,KAAK,KAAML,EAAgB,GACrC,EAAKzL,KAAK8L,KAAK,KAAM,EAAKV,UAAY,EAAI,MAE1C,EAAKW,aAAaD,KAAK,YAAa,iCACpC,EAAKD,YAAYC,KAAK,IAAK,IAC3B,EAAKE,YAAYF,KAAK,KAAM,IAC5B,EAAKG,UAAUH,KAAK,KAAM,IAC1B,EAAKrhD,KAAKqhD,KAAK,IAAK,IACpB,EAAKI,YAAYJ,KAAK,IAAK,IAC3B,EAAKK,SAASL,KAAK,IAAK,IACxB,EAAKR,WAAWQ,KAAK,IAAKL,EAAgB,EAAKF,kBAC/C,EAAKzzC,OAAOg0C,KAAK,IAAKL,EAAgB,EAAKD,eAC3C,EAAKrkC,KAAK2kC,KAAK,IAAK,IACpB,EAAK9L,KAAK8L,KAAK,IAAKL,IAGtB,EAAKZ,YAAYvkD,MAAM,UAAW,GAClC,EAAKukD,YAAYuB,cAlMD,KAqMlBC,eAAiB,WACf,EAAKxB,YACFyB,aACAC,MAAM,IACNjmD,MAAM,UAAW,GACjBA,MAAM,iBAAkB,SAzM3B7T,KAAKsG,MAAQyhD,EAAKzhD,MAClBtG,KAAK83D,IAAM/P,EAAK+P,IAChB93D,KAAK+5D,OAAShS,EAAKgS,OACnB/5D,KAAKuM,KAAOw7C,EAAKx7C,KACjBvM,KAAKg6D,O,wCAGP,WACEh6D,KAAKo4D,YAAcR,KAAA,UAAa53D,KAAK83D,IAAlB,WAA+BmC,OAAO,KACzDj6D,KAAKo4D,YAAYiB,KAAK,KAAM,iBAC5Br5D,KAAKo4D,YAAYiB,KAAK,WAAY,WAClCr5D,KAAKo4D,YAAYvkD,MAAM,UAAW,GAClC7T,KAAKo4D,YAAYvkD,MAAM,iBAAkB,QACzC7T,KAAKo4D,YAAYiB,KAAK,YAAa,uBACnCr5D,KAAKk5D,SAAW,IAChBl5D,KAAKk6D,mBAAqB,GAE1Bl6D,KAAKs5D,aAAet5D,KAAKo4D,YACtB6B,OAAO,QACPZ,KAAK,YAAa,iCAClBA,KAAK,IAAK,GACVA,KAAK,IAAK,GACVA,KAAK,SAAU,IACfA,KAAK,QAAS,IACdA,KAAK,OAAQ,WAChBr5D,KAAKo5D,YAAcp5D,KAAKo4D,YACrB6B,OAAO,QACPZ,KAAK,IAAK,IACVA,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,SAAU,IACfA,KAAK,QAASr5D,KAAKk5D,UACnBG,KAAK,OAAQ,WAChBr5D,KAAKu5D,YAAcv5D,KAAKo4D,YACrB6B,OAAO,UACPZ,KAAK,KAAM,IACXA,KAAK,KAAM,GACXA,KAAK,IAAK,GACVA,KAAK,SAAU,SACfA,KAAK,OAAQr5D,KAAK+5D,OAAO,IAC5B/5D,KAAKw5D,UAAYx5D,KAAKo4D,YACnB6B,OAAO,UACPZ,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,IAAK,GACVA,KAAK,SAAU,SACfA,KAAK,OAAQr5D,KAAK+5D,OAAO,IAC5B/5D,KAAKy5D,YAAcz5D,KAAKo4D,YACrB6B,OAAO,QACPZ,KAAK,IAAK,IACVA,KAAK,IAAK,GACVA,KAAK,YAAa,IAClBA,KAAK,OAAQ,SACb5sD,KAAKzM,KAAKuM,KAAKU,EAAE,oBACpBjN,KAAK05D,SAAW15D,KAAKo4D,YAClB6B,OAAO,QACPZ,KAAK,IAAK,IACVA,KAAK,IAAK,IACVA,KAAK,YAAa,IAClBA,KAAK,OAAQ,SACb5sD,KAAKzM,KAAKuM,KAAKU,EAAE,gBACpBjN,KAAKgY,KAAOhY,KAAKo4D,YACd6B,OAAO,QACPZ,KAAK,OAAQ,SACbA,KAAK,SAAU,SACfA,KAAK,IAAK,IACVA,KAAK,IAAK,IACVA,KAAK,YAAa,IAClB5sD,KAAK,KACRzM,KAAKutD,KAAOvtD,KAAKo4D,YACd6B,OAAO,QACPZ,KAAK,OAAQ,SACbA,KAAK,IAAK,KACVA,KAAK,KAAM,IACXA,KAAK,YAAa,IAClBA,KAAK,cAAe,OACpB5sD,KAAKzM,KAAKuM,KAAKU,EAAE,iBACpBjN,KAAK64D,WAAa74D,KAAKo4D,YACpB6B,OAAO,QACPZ,KAAK,OAAQ,SACbA,KAAK,YAAa,IAClBA,KAAK,IAAK,KACVA,KAAK,IAAK,GACVA,KAAK,KAAM,oBACX5sD,KAAK,KACRzM,KAAKqlB,OAASrlB,KAAKo4D,YAChB6B,OAAO,QACPZ,KAAK,OAAQ,SACbA,KAAK,YAAa,IAClBA,KAAK,IAAK,KACVA,KAAK,IAAK,IACVA,KAAK,KAAM,gBACX5sD,KAAK,KACRzM,KAAK00B,KAAO10B,KAAKo4D,YACd6B,OAAO,QACPZ,KAAK,OAAQ,SACbA,KAAK,SAAU,SACfA,KAAK,IAAK,IACVA,KAAK,KAAM,IACXA,KAAK,YAAa,IAClB5sD,KAAKzM,KAAKuM,KAAKU,EAAE,mB,KCgLxB,IAAwB+E,G,MAUTtE,yBAVSsE,GAhRxB,YAA6D,IAAxC5R,EAAuC,EAAvCA,GAAIF,EAAmC,EAAnCA,KAAMi6D,EAA6B,EAA7BA,OAAQ5tD,EAAqB,EAArBA,KAC7B6tD,EADkD,EAAfC,YACnCD,UAGFJ,EAAOpkD,uBAAY,WACvB,IAAM0kD,EAAgB,GAAhBA,EAA2B,GAA3BA,EAAuC,GAAvCA,EAAiD,GAmBvD1C,KAAA,WAAiBx3D,EAAjB,SAA2Bm6D,SAC3B,IAAM3nC,EAlBW,WACf,IAAIA,EAIJ,IACEA,EACEr3B,SAASq8D,KAAA,WAAcx3D,IAAMyT,MAAM,SAAU,IAC3CymD,EACAA,GAAgB,IACpB,MAAOhsD,GACPskB,EAAQ,IAEV,OAAOA,EAKK4nC,GAEd,SAASX,EAAW1oD,GAClBA,EACG0oD,aACAY,SAAS,KACTC,UAAU,mBAAoBC,GAGnC,SAASA,IAAsB,IAAD,uBAARngE,EAAQ,yBAARA,EAAQ,gBAC5B,IAAMogE,EAAIpgE,EAAO,GAAGA,EAAO,IAAIqgE,iBACzBjuD,EAAIgrD,KAAA,YAA0BgD,GAA1B,UAAkCA,EAAlC,YAAuCA,IACjD,OAAO,SAAAt+D,GAAG,OAAIsQ,EAAEtQ,IAGlB,IAAM8kC,EAAIw2B,OAAekD,WAAW,CAAC,EAAGloC,IAClColC,EAAIJ,OAAiBmD,MAAM,CAACZ,EAAQ,IAGpCJ,EAASnC,KAAgB,CAAC,UAAW,UAAW,SAChDE,EAAMF,KAAA,WACEx3D,IACX65D,OAAO,OACPZ,KAAK,QAASzmC,EAAQ0nC,EAAcA,GACpCjB,KAAK,SAAUc,EAASG,EAAaA,GAErCjB,KAAK,IAAK,KACVY,OAAO,KACPZ,KAAK,KAAM,mBACXA,KAAK,YATI,oBASsBiB,EATtB,aASsCA,EATtC,MAWN3mC,EAAU,IAAIqnC,GAAa,CAC/BlD,IAAI,IAAD,OAAM13D,GACT25D,SACAzzD,MAAOiG,EAAKU,EAAE,qBACdV,SAEI0uD,EAAYrD,KAAa,YAEzBsD,EAAgBh7D,EAAK5C,QACzB,SAAC69D,EAAD,GAAiD,IAAnCp8C,EAAkC,EAAlCA,QAAS85C,EAAyB,EAAzBA,WAAYxzC,EAAa,EAAbA,OAC3BqzC,EAAOuC,EAAUl8C,IAAY,IAAIpf,KACjC44D,GAAOM,GAAc,EACrBL,GAAQnzC,GAAU,EAClBozC,GAASI,EAAaxzC,GAAU,EACtC,OAAO81C,EAAUj9D,OAAO,CAAEw6D,OAAMH,MAAKC,OAAMC,YAE7C,IAGI2C,EAAWF,EAAc59D,QAAO,SAAC+9D,EAAOv1B,GAC5C,IAAMw1B,EAAQplD,KAAKqB,IAAIuuB,EAAEyyB,IAAMzyB,EAAE0yB,KAAO1yB,EAAEyyB,IAAMzyB,EAAE0yB,MAClD,OAAO6C,EAAQC,EAAQD,EAAQC,IAC9B,GACHl6B,EAAEm6B,OAAO3D,KAAUsD,GAAe,SAAAzD,GAAC,OAAIA,EAAEiB,SACzCV,EAAEuD,OAAO,CACP,EACAH,EAAW,EAAIA,EAAWllD,KAAKqB,IAAI6jD,EAAW,GAAI,GAAK,IACtDI,OAEH,IA0CIC,EA1CEC,EAAc9D,OAEjB+D,MAAM/D,MACNx2B,GAAE,SAAAq2B,GAAC,OAAIr2B,EAAEq2B,EAAEiB,SACXV,GAAE,SAAAP,GAAC,OAAIO,EAAEP,EAAEc,QAERqD,EAAWhE,OAEdiE,SAAQ,SAAApE,GAAC,MAAsB,kBAAXA,EAAEe,QACtBmD,MAAM/D,MACNx2B,GAAE,SAAAq2B,GAAC,OAAIr2B,EAAEq2B,EAAEiB,SACXV,GAAE,SAAAP,GAAC,OAAIO,EAAEP,EAAEe,SAEdV,EACGmC,OAAO,KACPZ,KAAK,QAAS,UACdtpD,KACC6nD,KACYI,GACTyD,MACCL,EAAW,EACPllD,KAAKC,IAAIilD,EAAWllD,KAAKqB,IAAI6jD,EAAW,GAAI,GAAI,IAChD,GAELU,UAAUlpC,GACVmpC,WAAWnE,KAAU,OAEzBoE,UAAU,QACV3C,KAAK,SAAU,WAClBvB,EAAIkE,UAAU,sBAAsB3C,KAAK,KAAM,GAG/CvB,EACGmC,OAAO,QACPZ,KAAK,YAAa,eAClBA,KAAK,IAAK,EAAIiB,GACdjB,KAAK,IAAK,EAAIc,EAAS,GACvBd,KAAK,KAAM,OACXxlD,MAAM,cAAe,UACrBpH,KAAK,gBAIR,IAAMwvD,EAAW/lD,KAAKgmD,MACpBhB,EAAc//D,QAAU+/D,EAAc//D,OAAS,IAEjDsgE,EAAQP,EAAcvgE,KAAI,SAAA88D,GAAC,OAAIA,EAAEiB,QACJ,KAAzBwC,EAAc//D,SAChBsgE,EAAQP,EACLvgE,KAAI,SAAC88D,EAAG7qD,GAAJ,OAAWA,EAAIqvD,IAAa,EAAIxE,EAAEiB,UAAOn7B,KAC7CphC,QAAO,SAAAqkC,GAAI,OAAIA,MAGpBs3B,EAAIqE,OAAO,WAAW9C,KAAK,SAAU,WAErCvB,EACGmC,OAAO,KACPZ,KAAK,QAAS,UACdA,KAAK,YAHR,uBAGqCc,EAHrC,MAIGpqD,KACC6nD,KACcx2B,GACXg7B,WAAWX,GACXK,UAAU3B,GACV4B,WAAWnE,KAAc,aAE7BoE,UAAU,QACV3C,KAAK,SAAU,WAElBvB,EAAIkE,UAAU,sBAAsB3C,KAAK,IAAK,IAG9CvB,EACGmC,OAAO,QACPZ,KACC,YAHJ,oBAIiBzmC,EAAQ,EAJzB,cAIgCunC,EAASG,EAAa,GAJtD,MAMGzmD,MAAM,cAAe,UACrBpH,KAAK,QACR,IAAM4vD,EAAWvE,EACdmC,OAAO,QACPZ,KAAK,QAAS,cACdxlD,MAAM,SAAU,SAChBA,MAAM,eAAgB,OACtBA,MAAM,mBAAoB,QAC1BA,MAAM,UAAW,KAEd2jD,EAAkB,SAAAC,GACtB9jC,EAAQ6jC,gBAAgBC,GAExB4E,EAASxC,aAAahmD,MAAM,UAAW,MAGnCyoD,EAAkB,WAA+B,IAAD,uBAAR9hE,EAAQ,yBAARA,EAAQ,gBACpD,IAAM+hE,EAAa/hE,EAAO,GAAGA,EAAO,IAAIgiE,GAAGC,QAAQrhE,MACnDihE,EAAShD,KAAK,KAAK,4BAAUkD,EAAV,YAAwBpC,EAAxB,YAAkCoC,EAAlC,IAAgD,OAG/D3C,EAAiB,WAErBjmC,EAAQimC,iBAERyC,EAASxC,aAAahmD,MAAM,UAAW,IAIzCikD,EACGmC,OAAO,QACP/5D,KAAK,CAACg7D,IACN7B,KAAK,QAAS,QACdxlD,MAAM,OAAQ,QACdA,MAAM,UAAU,kBAAMkmD,EAAO,MAC7BV,KAAK,eAAgB,GACrBA,KAAK,IAAKqC,GACV3rD,KAAK8pD,GAGR/B,EACGmC,OAAO,QACP/5D,KAAK,CAACg7D,IACN7B,KAAK,QAAS,QACdxlD,MAAM,OAAQ,QACdA,MAAM,UAAU,kBAAMkmD,EAAO,MAC7BV,KAAK,eAAgB,GACrBA,KAAK,IAAKuC,GACV7rD,KAAK8pD,GAER,IAAM6C,EAAa9E,KAAc,WAGjCE,EACGkE,UAAU,OACV97D,KAAKg7D,GACLyB,QACA1C,OAAO,UACPZ,KAAK,IAAK,GACVxlD,MAAM,UAAU,kBAAMkmD,EAAO,MAC7BlmD,MAAM,QAAQ,kBAAMkmD,EAAO,MAC3BV,KAAK,MAAM,SAAA5B,GAAC,OAAIr2B,EAAEq2B,EAAEiB,SACpBW,KAAK,MAAM,SAAA5B,GAAC,OAAIO,EAAEP,EAAEc,QACpBc,KAAK,MAAM,SAAA5B,GAAC,4BAAmBiF,EAAWjF,EAAEiB,UAC5CkE,GAAG,YAAapF,GAChBoF,GAAG,YAAaN,GAChBM,GAAG,WAAYhD,GAElB9B,EACGkE,UAAU,OACV97D,KAAKg7D,GACLyB,QACA1C,OAAO,UACPZ,KAAK,IAAK,GACVxlD,MAAM,UAAU,kBAAMkmD,EAAO,MAC7BlmD,MAAM,QAAQ,kBAAMkmD,EAAO,MAC3BV,KAAK,MAAM,SAAA5B,GAAC,OAAIr2B,EAAEq2B,EAAEiB,SACpBW,KAAK,MAAM,SAAA5B,GAAC,OAAIO,EAAEP,EAAEe,SACpBa,KAAK,MAAM,SAAA5B,GAAC,4BAAmBiF,EAAWjF,EAAEiB,UAC5CkE,GAAG,YAAapF,GAChBoF,GAAG,YAAaN,GAChBM,GAAG,WAAYhD,KACjB,CAAC15D,EAAMi6D,EAAQ5tD,EAAMnM,IAkBxB,OAhBA0V,qBAAU,WACRkkD,MACC,CAACA,EAAMI,IAEVtkD,qBAAU,WACR,SAAS+mD,IACP7C,IAOF,OAJAliE,OAAOG,iBAAiB,SAAU4kE,GAElCA,IAEO,kBAAM/kE,OAAOglE,oBAAoB,SAAUD,MACjD,CAAC7C,IAEG,yBAAK55D,GAAIA,KAUT,SAA0B6N,GAC/B,OACE,kBAACrY,EAAA,EAAD,MACG,SAAAykE,GAAW,OAAI,kBAACroD,GAAD,iBAAe/D,EAAf,CAAsBosD,YAAaA,WCxRrD0C,GAAYnvD,YAAOsB,KAAPtB,CAAH,6eAqBTovD,GAAYpvD,YAAOu3B,IAAPv3B,CAAH,kGAkBAqvD,OAXf,YAA+C,IAA9B53C,EAA6B,EAA7BA,OAAQyb,EAAqB,EAArBA,KAAM5gC,EAAe,EAAfA,KAAMoG,EAAS,EAATA,MACnC,OACE,kBAAC02D,GAAD,CAAWlrD,GAAIgvB,GACb,kBAACi8B,GAAD,CAAWG,aAAW,GACpB,wBAAI9gD,UAAWiJ,GAAU,UAAWnlB,GAAQ,GAC3CoG,KCnCM,SAAS62D,GAAeC,GACrC,MAAkC5tD,mBAAS4tD,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KACMnJ,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBA2BZ,OAxBAzS,qBAAU,WACRwnD,EAAaF,KACZ,CAACA,IAEJtnD,qBACE,WACE,GAAI,OAACq+C,QAAD,IAACA,OAAD,EAACA,EAAaoC,eAAlB,CAGA,IAAMh5D,EAAQ8/D,EAAUrzB,WACtB,SAAAuzB,GAAC,OAAIA,EAAEn9D,KAAO+zD,EAAYqJ,2BAE5B,IAAe,IAAXjgE,EAAJ,CAIA,IAAMkgE,EAAWJ,EAAU9/D,GACrBL,EAAO,YAAOmgE,GACpBngE,EAAQK,GASd,SAAwBkgE,EAAUztD,GAChC,IAAMm+C,EAAU,YAAQsP,EAASt+C,eAAe8D,aAAe,IACzD3pB,EAAM,CACV8G,GAAI4P,EAAQumD,eACZ/lD,OAAQR,EAAQQ,OAChByR,SAAUjS,EAAQiS,UAAY,KAC9BvgB,KAAMsO,EAAQtO,MAEVnE,EAAQ4wD,EAAWnkB,WAAU,SAAAuK,GAAC,OAAIA,EAAEn0C,KAAO9G,EAAI8G,MACjD7C,GAAS,EACX4wD,EAAW5wD,GAAX,2BACK4wD,EAAW5wD,IACXjE,GAGL60D,EAAWuP,QAAQpkE,GAGrB,OAAO,2BACFmkE,GADL,IAEEt+C,eAAe,2BACVs+C,EAASt+C,gBADA,IAEZ8D,YAAakrC,EAAWx2D,MAAM,EAAG,QA/BhBgmE,CAAeF,EAAUtJ,GAC1CmJ,EAAapgE,OAEf,CAACi3D,IAGIkJ,ECoBM3vD,6BA9Cf,YAAqD,IAAxB6F,EAAuB,EAAvBA,cAAehH,EAAQ,EAARA,KAClCoiB,EAAiB5B,KAAjB4B,aACR,EAA4Bnf,oBAAS,GAArC,mBAAOnD,EAAP,KAAe8yB,EAAf,KACMy+B,EAAU9oD,iBAAO,MAevB,OAbAgB,qBAAU,WACR,IAAMzC,EAAS,SAAAnb,GACRy2B,GAAkBivC,GAAYA,EAAQ5nD,QAAQ6nD,SAAS3lE,EAAEub,SAC5D0rB,GAAU,IAKd,OADAnnC,SAASC,iBAAiB,QAASob,GAAQ,GACpC,WACLrb,SAAS8kE,oBAAoB,QAASzpD,MAEvC,CAACsb,IAEAA,EACK,kBAAC,WAAD,KAAWpb,GAIlB,yBAAKuqD,IAAKF,EAAS5iE,IAAI,OACrB,kBAACgY,GAAA,EAAD,CACEC,SAAO,EACP5G,OAAQA,EACRwG,SAAUK,KAAiBC,MAC3BE,OACE,kBAAC,GAAD,CACEtE,aAAYxC,EAAKU,EAAE,qBACnBi4B,qBAAmB,EACnBtxB,QAAS,kBAAMurB,GAAW9yB,MAG9BkH,cAAeA,Q,WCbjBqyB,GAAiBh4B,YAAOi4B,MAAV,+FAAGj4B,CAAH,yFAoJLF,6BA7If,YAOI,IANFnB,EAMC,EANDA,KACAkxD,EAKC,EALDA,SACAz3B,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA6yB,EAEC,EAFDA,UACA83B,EACC,EADDA,eAEA,EAAoCvuD,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KACMrhB,EAAO,uBAAmBo8B,EAASr9D,IAEnC49D,EAAepoD,sBAAW,sBAAC,sBAAA7hB,EAAA,yDACT,iBAAlB0pE,EAAS/7D,KADkB,gCAEvBoI,GAAgB+4C,KAAK4a,EAASr9D,GAAI,CACtCoG,KAAK,GAAD,OAAKi3D,EAASj3D,KAAd,cAAwBiuB,QAHD,6CAMvBrpB,GAAwBy3C,KAAK4a,EAASr9D,GAAI,CAC9CoG,KAAK,GAAD,OAAKi3D,EAASj3D,KAAd,cAAwBiuB,QAPD,uBAUzBspC,IAVyB,2CAW9B,CAACA,EAAgBN,EAASr9D,GAAIq9D,EAASj3D,KAAMi3D,EAAS/7D,OAEnDohD,EAAkBltC,uBAAY,WAClC8sC,GAAc,KACb,IAEGK,EAAmBntC,uBAAY,WACnC8sC,GAAc,KACb,IAEGub,EACc,iBAAlBR,EAAS/7D,QACP+7D,EAASt+C,eAAeY,UACtB09C,EAASt+C,eAAeQ,YACvB89C,EAASvY,yBAChB,OACE,kBAAC1hB,GAAA,EAAD,CAAcx0B,kBAAiBqyB,EAASjhC,GAAE,UAAKq9D,EAASr9D,KACtD,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEvyB,WAAYA,EACZvT,GAAE,6BAAwBq9D,EAASr9D,IACnCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAOoF,GAAIihC,GAC3B,8BACE,kBAAC,IAAD,CAAMvvB,GAAE,UAAKm0B,IACX,2BAAIw3B,EAASj3D,QAGhBy3D,GACC,8BACE,kBAAC,KAAD,CACEnrD,QAASvG,EAAKU,EACZ,+DAEF4F,SAAS,SAET,8BAKR,kBAAC,GAAD,CAAc7X,IAAI,QACfizC,GAAYwvB,EAAS/7D,OAExB,kBAAC,GAAD,CAAc1G,IAAI,aAChB,kBAAC,GAAD,CAAWuyD,KAAMkQ,EAASt+C,eAAe8D,kBAI/C,kBAAC,GAAD,CAAgBlU,aAAW,UAAUC,kBAAiBqyB,GACjC,0BAAlBo8B,EAAS/7D,MACR,kBAAC,KAAD,CAASoR,QAASvG,EAAKU,EAAE,2BAAS4F,SAAS,OACzC,sBACEc,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,2BAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,2CAAsC2rD,EAASr9D,GAA/C,gBAEF,kBAAC,KAAD,QAILq9D,EAASt+C,eAAeb,kBAAkBg1C,OACzC,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAAC,GAAD,CAAc6sB,SAAU+9B,IACrB,gBAAGtL,EAAH,EAAGA,aAAH,OACC,sBACEx+C,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCAEnBc,QAAQ,QACR6F,QAASu+C,GAET,kBAAC,KAAD,WAMTsL,EAASt+C,eAAeb,kBAAkB6nB,MACzC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,sBACEc,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,qBAAgB2rD,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,GAA1C,UAEF,kBAAC,KAAD,QAILq9D,EAASt+C,eAAeb,kBAAkBukC,MACzC,kBAAC,GAAD,CACE9nC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,iCAChBkxB,aAAc5xB,EAAKU,EAAE,oDAEvB0G,WAAYA,EACZ2uC,YAAaQ,EACbP,aAAcQ,EACdV,SAAU2b,U,8jBChJlB57B,GAAYxoC,EAChB,WACA,CACEG,KAAM,EACNC,UAAW,EACXC,SAAU,OACVyH,KAAM,sCAER,CAAC,KAAM,OAAQ,cA6PFgM,I,YAAAA,yBA1Pf,YAA0C,IAATnB,EAAQ,EAARA,KAIzBiF,EAAW6C,cAEjB,EAAgC7E,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEA,EAYIntB,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEcvX,QAAQmU,IAAI,CAClCxL,GAAuB7J,KAAKzG,GAC5BsP,GAAgBu4B,cAChBj3B,GAAwBi3B,cACxBv3B,GAAuBu3B,gBANf,cAEJ67B,EAFI,yBAQH,CACL18D,QAAS08D,EAAU,GAAGh+D,KAAKsB,QAC3B8gB,MAAO47C,EAAU,GAAGh+D,KAAKoiB,MACzB67C,UAAWD,EAAU,GAAGh+D,KAAKmX,QAC7B+mD,YAAaF,EAAU,GAAGh+D,KAAKmX,QAC/B2O,wBACE,UAAAk4C,EAAU,UAAV,mBAAch+D,YAAd,eAAoBqiC,wBAAyB,IAC7C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAiiE,EAAU,GAAGh+D,KAAKmX,eAAlB,eAA2BmrB,MAAO,IAClCrmC,QAAO,SAAAnB,GAAG,uBAAIkjE,EAAU,GAAGh+D,KAAKmX,eAAtB,aAAI,EAA2BmrB,IAAIxnC,GAAKynC,gBAlB5C,2CAoBT,CAACjxB,IACJ,CACEhQ,QAAS,GACT8gB,MAAO,EACP67C,UAAW,GACXC,YAAa,GACbp4C,sBAAuB,GACvBD,eAAgB,KAxCpB,IACEvN,OACEhX,EAFJ,EAEIA,QACA8gB,EAHJ,EAGIA,MACA67C,EAJJ,EAIIA,UACAC,EALJ,EAKIA,YACAp4C,EANJ,EAMIA,sBACAD,EAPJ,EAOIA,eAEKoL,EATT,EASE7iB,MACAqK,EAVF,EAUEA,UACSolD,EAXX,EAWEjlD,QAiCFhD,qBAAU,WACRioD,MACC,CAACA,IAEJ,IAAMV,EAAYF,GAAe37D,GAE3B8rB,EACJiY,EAASpqC,SAAWkiE,EAAUliE,QAAUoqC,EAASpqC,OAAS,EAC5D,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,YAAmB,IAAhB+G,EAAe,EAAfA,KAAMtB,EAAS,EAATA,GACpB,MAAa,iBAATsB,EACKoI,GAAgBy8B,QAAQnmC,GAEpB,0BAATsB,GACK0J,GAAwBm7B,QAAQnmC,SAK5C,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYwkD,IArBHvmB,EADb,EACE7+B,UACa0lD,EAFf,EAEE5kD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAsBIykD,EAAoB,uCAAG,sBAAAvqE,EAAA,sEACrBsqE,IADqB,OAE3B74B,EAAY,IAFe,2CAAH,qDAKpB6d,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOq3B,GAAa,KAGtC53B,EAAe,SAAAg4B,GACfl4B,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOq9D,EAASr9D,MACvColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOq9D,EAASr9D,OAEnDolC,EAAYD,EAASrnC,OAAOu/D,KAI1Bc,EACJJ,GAAaniE,OAAO6T,UAAUC,eAAeC,KAAKouD,EAAW,QACzDK,EACJJ,GAAepiE,OAAO6T,UAAUC,eAAeC,KAAKquD,EAAa,QAE7DK,EAAclyD,EAAKU,EAAE,yBACrByxD,EAAgBnyD,EAAKU,EAAE,8BACvB0xD,EACJ,kBAAC,GAAD,CACE3jE,IAAI,MACJuY,cAAe,CACb,kBAACC,GAAA,EAAD,CACExY,IAAKyjE,EACLlxD,UAAW43B,IACXrzB,GAAG,+BACH/C,aAAY0vD,GAEXA,GAEH,kBAACjrD,GAAA,EAAD,CACEjG,UAAW43B,IACXrzB,GAAG,wCACH9W,IAAK0jE,EACL3vD,aAAY2vD,GAEXA,MAMT,OACE,kBAAC,WAAD,KACE,kBAACxvD,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOmmE,EACPpwC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,kBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,WACLuF,QAAS,CACP,CAAC,eAAgBgM,EAAKU,EAAE,kCACxB,CAAC,wBAAyBV,EAAKU,EAAE,6BAGrC,CACEzG,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,qCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,+BAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,gBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,4BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZ+wC,GAAYC,EAAa,CAACG,GAAa,IAD3B,CAEhB,kBAAC,GAAD,CACE3jE,IAAI,SACJspC,SAAUg6B,EACVj6B,cAAekB,EACf7T,mBAAmB,oBAK3BoS,WAAY,SAAA25B,GAAQ,OAClB,kBAAC,GAAD,CACEziE,IAAKyiE,EAASr9D,GACdhF,MAAOqiE,EAASj3D,KAChBi3D,SAAUA,EACVx3B,UAAS,qBAAgBw3B,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,IACnDgT,SAAU,kBAAMqyB,EAAag4B,IAC7Bz3B,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOq9D,EAASr9D,MACrD29D,eAAgBA,KAGpBvuC,oBAAqB+uC,GAAYC,IAAeG,KAGpD,kBAAC,GAAD,CACE5vD,aAAYxC,EAAKU,EAAE,uBACnBZ,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SC5PtBglD,GAAShxD,IAAOC,IAAV,iPAWNgxD,GAAkBjxD,YAAOwK,KAAPxK,CAAH,+IASfkxD,GAAkBlxD,YAAOmxD,KAAPnxD,CAAH,2EAIfoxD,GAAmBpxD,YAAOo/B,KAAPp/B,CAAH,2EA8MPF,6BAzMf,YAA8B,IAAD,YAARnB,EAAQ,EAARA,KACnB,EAAwDiD,oBAAS,GAAjE,mBAAOyvD,EAAP,KAA6BC,EAA7B,KACA,EAA0D1vD,oBAAS,GAAnE,mBAAO2vD,EAAP,KAA8BC,EAA9B,KACA,EAA8C5vD,mBAAS,SAAvD,mBAAO6vD,EAAP,KAAwBC,EAAxB,KACA,EAAgD9vD,mBAAS,OAAzD,mBAAO+vD,EAAP,KAAyBC,EAAzB,KACA,EAAsChwD,mBAAS,GAA/C,mBAAOiwD,EAAP,KAAoBC,EAApB,KAEA,EAIIrnD,GACFzC,sBAAW,sBAAC,sCAAA7hB,EAAA,sEACwCoO,QAAQmU,IAAI,CAC5DhN,GAAaq2D,aAAa,CACxBC,OAAQP,EACRz/C,SAAU2/C,IAEZj2D,GAAarI,SANL,0CACDf,EADC,KACDA,KAAgB2/D,EADf,KACS3/D,KAOb4/D,EAAU,GAChB5/D,EAAKqtD,KAAKsL,WAAWj+D,SAAQ,YAAwB,IAAD,mBAArBmlE,EAAqB,KAAXz9C,EAAW,KAC7Cw9C,EAAQC,KACXD,EAAQC,GAAY,IAEtBD,EAAQC,GAAUlH,WAAav2C,KAEjCpiB,EAAKqtD,KAAKloC,OAAOzqB,SAAQ,YAAwB,IAAD,mBAArBmlE,EAAqB,KAAXz9C,EAAW,KACzCw9C,EAAQC,KACXD,EAAQC,GAAY,IAEtBD,EAAQC,GAAU16C,OAAS/C,KAEvB09C,EAAUhkE,OAAOC,KAAK6jE,GAASnlE,KAAI,SAAAolE,GACvC,MAAkB,IAAIpgE,KAAgB,IAAXogE,GAAiBvrC,cAAcl9B,MAAM,KAAzDynB,EAAP,oBAEA,OADA+gD,EAAQC,GAAUhhD,QAAUA,EACrB+gD,EAAQC,MAxBP,kBA0BH,CACLE,aAAcD,EACdE,UAAWL,IA5BH,4CA8BT,CAACR,EAAiBE,IACrB,CACEU,aAAc,GACdC,UAAW,KArCbvnD,EADF,EACEA,UADF,IAEEH,OAAUynD,EAFZ,EAEYA,aAAcC,EAF1B,EAE0BA,UACfC,EAHX,EAGErnD,QA0CF,OAHAhD,qBAAU,WACRqqD,MACC,CAACA,EAAqBd,EAAiBE,IACtC5mD,EAEA,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAMN,kBAAC,WAAD,KACE,kBAAC,GAAD,CACEmhC,WAAW,MACXP,iBAAkB,CAAE,QAASvjC,EAAKU,EAAE,8BAEtC,kBAACmL,GAAA,EAAD,KACE,kBAACwmD,GAAD,KACE,kBAAC,GAAD,CACE99B,KAAK,SACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAWE,aAAb,aAAE,EAAkBzI,MACxBrxD,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEoY,QAAM,EACNyb,KAAK,iDACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAWE,aAAb,aAAE,EAAkB/6C,OACxB/e,MAAOiG,EAAKU,EAAE,yCAEhB,kBAAC,GAAD,CACE6zB,KAAK,eACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAW5b,mBAAb,aAAE,EAAwBqT,MAC9BrxD,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEoY,QAAM,EACNyb,KAAK,+DACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAW5b,mBAAb,aAAE,EAAwB+b,iBAC9B/5D,MAAOiG,EAAKU,EAAE,+CAEhB,kBAAC,GAAD,CACE6zB,KAAK,YACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAWI,gBAAb,aAAE,EAAqB3I,MAC3BrxD,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEoY,QAAM,EACNyb,KAAK,+CACL5gC,KAAI,OAAEggE,QAAF,IAAEA,GAAF,UAAEA,EAAWI,gBAAb,aAAE,EAAqBj7C,OAC3B/e,MAAOiG,EAAKU,EAAE,iDAIpB,kBAAC4xD,GAAD,KACE,yBAAKziD,UAAU,UACb,kBAAClN,GAAA,EAAD,CAAM9O,GAAG,4BACP,kBAAC2uC,GAAA,EAAD,CACEhgC,aAAYxC,EAAKU,EAAE,aACnB+hC,UAAWywB,EACXrsD,SAAU,SAACpY,EAAKo0C,GAAN,OAAmBswB,EAAetwB,KAE5C,kBAACC,GAAA,EAAD,CACEtgC,aAAYxC,EAAKU,EAAE,6BACnBmiC,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,oCAE/B,kBAACoiC,GAAA,EAAD,CACEtgC,aAAYxC,EAAKU,EAAE,6BACnBmiC,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,oCAE/B,kBAACoiC,GAAA,EAAD,CACEtgC,aAAYxC,EAAKU,EAAE,kCACnBmiC,SAAU,EACVthC,MACE,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,qCAIX,IAAhBwyD,GACC,kBAAC,WAAD,KACE,kBAACX,GAAD,KACE,kBAACE,GAAD,KACE,kBAAC3oE,GAAA,EAAD,CACE0X,QAASqZ,KAAcsD,OACvB/C,gBAAiBpb,EAAKU,EAAE,sBACxB8B,aAAYxC,EAAKU,EAAE,sBACnBmP,UAAU,eACVxM,SAAUsvD,EACV9rD,SAAU,SAACmU,EAAOC,GAAR,OACR83C,EAAmB93C,IAErBE,WAAY23C,EACZhzD,OAAQ4yD,GAER,kBAACn3C,GAAA,EAAD,CAAc9sB,IAAI,QAAQI,MAAM,SAC7BmR,EAAKU,EAAE,4BAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,YAAYI,MAAM,aACjCmR,EAAKU,EAAE,4BAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,OAAOI,MAAM,QAC5BmR,EAAKU,EAAE,6BAGZ,kBAAC5W,GAAA,EAAD,CACE0X,QAASqZ,KAAcsD,OACvB/C,gBAAiBpb,EAAKU,EAAE,wBACxB8B,aAAYxC,EAAKU,EAAE,wBACnBmP,UAAU,gBACVxM,SAAUwvD,EACVhsD,SAAU,SAACmU,EAAOC,GAAR,OACRg4C,EAAoBh4C,IAEtBE,WAAY63C,EACZlzD,OAAQ8yD,GAER,kBAACr3C,GAAA,EAAD,CAAc9sB,IAAI,MAAMI,MAAM,OAC3BmR,EAAKU,EAAE,sBAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,WAAWI,MAAM,YAChCmR,EAAKU,EAAE,kCAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,aAAaI,MAAM,cAClCmR,EAAKU,EAAE,0BAEV,kBAAC6a,GAAA,EAAD,CAAc9sB,IAAI,eAAeI,MAAM,gBACpCmR,EAAKU,EAAE,qCAKhB,kBAACmC,GAAA,EAAD,KACE,kBAAC,GAAD,CACE+qD,OAAQ,IACR/5D,GAAG,qBACHF,KAAM+/D,MAKG,IAAhBR,GAAqB,kBAAC,GAAD,CAAS3lE,cAAe,CAAEE,UAAW,KAC1C,IAAhBylE,GAAqB,kBAAC,GAAD,aCrKnB/xD,6BA1Ef,YAWI,IAVFnB,EAUC,EAVDA,KACA6P,EASC,EATDA,UACAxZ,EAQC,EARDA,KAQC,IAPD+Q,kBAOC,SAND/D,EAMC,EANDA,SAMC,IALD+jB,eAKC,MALSpnB,EAAKU,EACb,qLAID,EACD,EAAkCuC,mBAAS5M,EAAKsgB,SAAhD,mBAAOq9C,EAAP,KAAkBC,EAAlB,KACA,EAAkChxD,oBAAS,GAA3C,mBAAOyJ,EAAP,KAAkBC,EAAlB,KAEA,EAA0Db,GACxDzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJyV,GAASokC,OAAOhrC,EAAKxC,GAAI,CAC7B8iB,SAAUq9C,IAFF,iCAIFA,GAJE,2CAKT,CAAC39D,EAAM29D,IACV39D,EAAKsgB,SAPC1K,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,UAAWrK,EAA3B,EAA2BA,MAAgBmyD,EAA3C,EAAkC3nD,QAyBlC,OAfAhD,qBAAU,WACJ0C,IAAW+nD,IACbC,EAAahoD,GACT5I,GACFA,EAAS4I,MAGZ,CAACA,EAAQ+nD,EAAW3wD,IAEvBkG,qBAAU,WACJxH,GACF4K,GAAa,KAEd,CAAC5K,IAGF,kBAAC,WAAD,KACE,kBAAC,KAAD,CAASwE,QAAS6gB,EAAS9gB,SAAS,OAClC,sBACEuJ,UAAWA,EAEXhc,GAAE,eAAUwC,EAAKxC,GAAf,WACFkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAWiyC,EACX5sD,WACEgF,GACAhF,IACC/Q,EAAKuc,eAAeb,kBAAkB6nB,KAEzC/d,SAAUq4C,EACV1xD,aAAYxC,EAAKU,EAAE,uBAGtBgM,GAAa3K,IAAUqK,GACtB,kBAAC,GAAD,CACE5K,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAQiC,IAAUqK,EAClBrM,QAAS,kBAAM4M,GAAa,KAE3B3M,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOA,S,+HCtDxBs3B,GAAiBh4B,YAAOi4B,MAAV,kFAAGj4B,CAAH,oFA2ELF,6BApEf,YAAwE,IAAhDnB,EAA+C,EAA/CA,KAAM3J,EAAyC,EAAzCA,KAAMojC,EAAmC,EAAnCA,WAAY5yB,EAAuB,EAAvBA,SAAU6yB,EAAa,EAAbA,UAClD5E,EAAO,uBAAmBz+B,EAAKxC,IACrC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAK4H,EAAKxC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKwC,EAAKxC,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiBwC,EAAKxC,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIrjC,EAAK4D,QAGb,kBAAC,GAAD,CAAcxL,IAAI,cAChB,kBAAC,GAAD,CAAWuyD,KAAM3qD,EAAKuc,eAAe8D,eAEvC,kBAAC,GAAD,CAAcjoB,IAAI,aACf4H,EAAKuc,eAAeQ,WACnB,kBAAC,WAAD,KACE,0BAA6BpT,EAAKU,EAAE,sBACpC,kBAAC,IAAD,CACE6E,GAAE,iCAA4BlP,EAAKuc,eAAeQ,UAAUvf,GAA1D,aAEDwC,EAAKuc,eAAeQ,UAAUnZ,WAO3C,kBAAC,GAAD,CACEuI,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEJ,kBAAC,GAAD,CAAYz+B,KAAMA,IACjBA,EAAKuc,eAAeb,kBAAkB6nB,KACrC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,iBAAYlP,EAAKxC,GAAjB,UAEF,kBAAC,KAAD,QAIJ,S,wHC/BGsN,6BA7Cf,YAA8D,IAA9BkG,EAA6B,EAA7BA,QAASrH,EAAoB,EAApBA,KAAMoH,EAAc,EAAdA,WAG7C,OAFyBoZ,KAAjB4B,aAIJ,kBAACnb,GAAA,EAAD,CACExY,IAAI,MACJ2Y,WAAYA,EACZpG,UAAU,SACVqG,QAASA,GAERrH,EAAKU,EAAE,yBAMZ,kBAAC,KAAD,CACEjS,IAAI,iBACJ8X,QACGa,EAEGpH,EAAKU,EACH,yEAFFV,EAAKU,EAAE,6DAKb4F,SAAS,OAET,6BACE,kBAACyE,EAAA,EAAD,CACE1D,QAASA,EACT7E,aAAYxC,EAAKU,EAAE,wBACnBc,QAAQ,YACR4F,WAAYA,GAEXpH,EAAKU,EAAE,8BClBZm1B,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAuMGyT,6BApMf,YAA6B,IAATnB,EAAQ,EAARA,KACZ+E,EAAU8C,cACV5C,EAAW6C,cACX4vB,EAAQmC,cACd,EAAgC52B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACMk7B,EAAqBrmE,EAAiB+nC,GAAW5wB,EAASkI,QAC1DinD,EAAyB,GAE/B3kE,OAAOC,KAAKykE,GAAoB9lE,SAAQ,SAAAI,GACjConC,GAAUtoC,cAAckB,KAC3B2lE,EAAuB3lE,GAAO0lE,EAAmB1lE,OAIrD,IAAM4lE,EACJ5kE,OAAOC,KAAK0kE,GAAwBxlE,OAAS,EAE/C,EAKIkd,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEYvX,QAAQmU,IAAI,CAChC9M,GAASvI,KAAKzG,GACdgP,GAAS64B,gBAJD,cAEJ7gC,EAFI,yBAMH,CACL4+D,MAAO5+D,EAAQ,GAAGtB,KAAKsB,QACvB8gB,MAAO9gB,EAAQ,GAAGtB,KAAKoiB,MACvBjL,QAAS7V,EAAQ,GAAGtB,KAAKmX,QACzB2O,wBACE,UAAAxkB,EAAQ,UAAR,mBAAYtB,YAAZ,eAAkBqiC,wBAAyB,IAC3C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MAAK,UAAAuF,EAAQ,GAAGtB,KAAKmX,eAAhB,eAAyBmrB,MAAO,IAAIrmC,QAC9D,SAAAnB,GAAG,uBAAIwG,EAAQ,GAAGtB,KAAKmX,eAApB,aAAI,EAAyBmrB,IAAIxnC,GAAKynC,gBAdnC,2CAiBT,CAACjxB,IACJ,CACE4uD,MAAO,GACP99C,MAAO,EACPjL,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KA7BpB,IACEvN,OAAU4nD,EADZ,EACYA,MAAO99C,EADnB,EACmBA,MAAOjL,EAD1B,EAC0BA,QAAS2O,EADnC,EACmCA,sBAAuBD,EAD1D,EAC0DA,eACjDoL,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSkoD,EAJX,EAIE/nD,QA6BFhD,qBAAU,WACR+qD,MACC,CAACA,IAEJ,IAAMvzC,EAAgBiY,EAASpqC,SAAWilE,EAAMjlE,QAAUoqC,EAASpqC,OAAS,EAC5E,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,SAAAiI,GAAI,OAAI4G,GAAS+8B,QAAQ3jC,EAAKxC,UAC7D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYsnD,IAXHrpB,EADb,EACE7+B,UACamoD,EAFf,EAEErnD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYIknD,EAAgB,uCAAG,sBAAAhtE,EAAA,sEACjB+sE,IADiB,OAEvBt7B,EAAY,IAFW,2CAAH,qDAKhB6d,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOo6B,GAAS,KAGlC36B,EAAe,SAAA7iC,GACf2iC,EAASlqC,MAAK,SAAA2lE,GAAC,OAAIA,EAAE5gE,KAAOwC,EAAKxC,MACnColC,EAAYD,EAASppC,QAAO,SAAA6kE,GAAC,OAAIA,EAAE5gE,KAAOwC,EAAKxC,OAE/ColC,EAAYD,EAASrnC,OAAO0E,KAY1B+jC,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAE3D,OACE,kBAACe,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOkpE,EACPnzC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CAAC,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,WACnC,IAHY,CAIhB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUy8B,EACV18B,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,iBARb,YAUZ05B,EACA,CACE,kBAAC,GAAD,CACEhzB,YAAaitD,EACbhtD,QAAS,WArE7BtC,EAAQqI,KAAR,uDACkDpd,mBAC9CR,EAAkB4kE,UAsEN,SAIV78B,WAAY,SAAAlhC,GAAI,OACd,kBAAC,GAAD,CACE5H,IAAK4H,EAAKxC,GACVwC,KAAMA,EACNqjC,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkB3N,EAAKxC,GAAvB,YACT4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwC,EAAKxC,MACjDgT,SAAU,kBAAMqyB,EAAa7iC,OAGjC4sB,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,UAChC,QAITqJ,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,4CACR,kBAAC,GAAD,CAAaqB,MAAOsL,SC5MxBwoB,GAAYxoC,EAAY,kBAAmB,CAC/CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAASgnE,GAAqBhzD,GAC5B,IACE7S,EAOE6S,EAPF7S,MACAgtB,EAMEna,EANFma,SACAuL,EAKE1lB,EALF0lB,QACAvX,EAIEnO,EAJFmO,UACAuI,EAGE1W,EAHF0W,SACArT,EAEErD,EAFFqD,QACA/E,EACE0B,EADF1B,KAGF,EAKI8L,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpD7M,GAAkBxI,KAAKzG,GACvBiP,GAAkB44B,gBAJV,0CAEDniC,EAFC,KAEDA,KAAQoiC,EAFP,uBAMH,CACL4+B,eAAgBhhE,EAAKsB,QACrB8gB,MAAOpiB,EAAKoiB,MACZ0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACnxB,EAAQE,WACZ,CACE0vD,eAAgB,GAChB5+C,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAU0oD,EADZ,EACYA,eAAgB5+C,EAD5B,EAC4BA,MAAO0D,EADnC,EACmCA,sBAAuBD,EAD1D,EAC0DA,eAC/Co7C,EAFX,EAEEroD,QACAxK,EAHF,EAGEA,MACAqK,EAJF,EAIEA,UA+BF,OAJA7C,qBAAU,WACRqrD,MACC,CAACA,IAGF,kBAAClnC,GAAA,EAAD,CACE7d,UAAWA,EACX9V,MAAOiG,EAAKU,EAAE,wBACdotB,UAAW1G,GAAW,kBAAC,GAAD,CAAS7gB,QAAS6gB,IACxCuG,QAAQ,uBAER,kBAAC,GAAD,CACE95B,GAAG,sBACH0O,OAAQvC,EAAKU,EAAE,wBACf7R,MAAOA,EACPgtB,SAAUA,EACV/O,SAAU+oB,GACVoH,UAAQ,EACR7kB,SAAUA,EACVhM,UAAWA,EACX4xB,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS2gE,EACT33B,YAAajnB,EACb6K,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,wBACbjS,IAAK,gCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBwjB,SAAUK,EAAML,SAChB16B,OAAQvC,EAAKU,EAAE,wBACfzG,KAAK,iBACL6S,SAAU+oB,GACVrJ,UAAW+P,EACXW,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAOA,KAajC2yD,GAAqBxzD,aAAe,CAClCkmB,QAAS,GACTvX,UAAW,GACXuI,UAAU,GAGGjX,4BAAWuE,YAAWgvD,KC1H/B7+B,GAAYxoC,EAAY,YAAa,CACzCG,KAAM,EACNC,UAAW,EACXC,SAAU,OACVmnE,WAAY,aAGd,SAASC,GAAT,GAYI,IAXFjmE,EAWC,EAXDA,MACAgtB,EAUC,EAVDA,SACAkiB,EASC,EATDA,OACA/9B,EAQC,EARDA,KACA+E,EAOC,EAPDA,QACAqT,EAMC,EANDA,SACA28C,EAKC,EALDA,kBACApnC,EAIC,EAJDA,QACA+E,EAGC,EAHDA,SACA4a,EAEC,EAFDA,WACA0nB,EACC,EADDA,mBAEA,EAWIlpD,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpD3M,GAAe1I,KAAKzG,GACpBmP,GAAe04B,gBAJP,0CAEDniC,EAFC,KAEDA,KAAQoiC,EAFP,uBAMH,CACLgiB,YAAapkD,EAAKsB,QAClB8gB,MAAOpiB,EAAKoiB,MACZ0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,cACvDkgB,QACE1zC,QAAQqzB,EAAgBpiC,KAAKmX,QAAQuvB,OAAS26B,IAhBxC,2CAmBT,CAACjwD,EAAQE,WACZ,CACE8yC,YAAa,GACbhiC,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,GAChB48B,SAAS,IArCb,IACEnqC,OACE8rC,EAFJ,EAEIA,YACAhiC,EAHJ,EAGIA,MACA0D,EAJJ,EAIIA,sBACAD,EALJ,EAKIA,eACA48B,EANJ,EAMIA,QAEO4B,EARX,EAQEzrC,QACAxK,EATF,EASEA,MACAqK,EAVF,EAUEA,UAmCF,OAJA7C,qBAAU,WACRyuC,MACC,CAACA,IAEG+c,EACL,oCACE,kBAAC,GAAD,CACEpnC,QAASA,EACT9b,WAAYuG,EACZre,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAUA,EACV4a,WAAYA,EACZlmC,YAAagvC,EACbhvB,QAASpnB,EAAKU,EAAE,gFAGhB,kBAAC,GAAD,CACE7M,GAAG,mBACH0O,OAAQvC,EAAKU,EAAE,qBACf7R,MAAOA,EACPgtB,SAAUA,EACVkiB,OAAQA,EACR3lB,SAAUA,EACVhM,UAAWA,EACXhF,YAAagvC,EACbtpC,SAAU+oB,GACVmI,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS+jD,EACT/a,YAAajnB,EACb6K,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBwjB,SAAUK,EAAML,SAChB16B,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,YACL6S,SAAU+oB,GACVrJ,UAAW+P,EACXW,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAOA,MAI/B,oCACE,kBAAC,GAAD,CACElO,GAAG,mBACH0O,OAAQvC,EAAKU,EAAE,qBACf7R,MAAOA,EACPgtB,SAAUA,EACVkiB,OAAQA,EACR3lB,SAAUA,EACVhM,UAAWA,EACXhF,YAAagvC,EACbtpC,SAAU+oB,GACVmI,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS+jD,EACT/a,YAAajnB,EACb6K,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBwjB,SAAUK,EAAML,SAChB16B,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,YACL6S,SAAU+oB,GACVrJ,UAAW+P,EACXW,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAOA,KAYjC+yD,GAAgB5zD,aAAe,CAC7BrS,MAAO,KACPupB,UAAU,EACV48C,oBAAoB,GAGP7zD,4BAAWuE,YAAWovD,KClM/Bj/B,GAAYxoC,EAAY,UAAW,CACvCG,KAAM,EACNC,UAAW,EACXC,SAAU,OACVmnE,WAAY,aAGd,SAASI,GAAT,GAYI,IAXFrnC,EAWC,EAXDA,kBACA6Q,EAUC,EAVDA,aACAz+B,EASC,EATDA,KACAwtB,EAQC,EARDA,QACA3R,EAOC,EAPDA,SACAzD,EAMC,EANDA,SACAgP,EAKC,EALDA,QACAv4B,EAIC,EAJDA,MACAkvC,EAGC,EAHDA,OACAh5B,EAEC,EAFDA,QACAiwD,EACC,EADDA,mBAEMt2B,EAAqBnD,GAAsB1f,GACjD,EAKI/P,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAEgCvX,QAAQmU,IAAI,CACpDhM,GAAYrJ,KAAKzG,GACjB8P,GAAY+3B,gBAJJ,0CAEDniC,EAFC,KAEDA,KAAQoiC,EAFP,KAMN0I,GACFC,EAAmB/qC,EAAKsB,SAPhB,kBASH,CACL8gB,MAAOpiB,EAAKoiB,MACZg+C,SAAUpgE,EAAKsB,QACfwkB,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,cACvDkgB,QACE1zC,QAAQqzB,EAAgBpiC,KAAKmX,QAAQuvB,OAAS26B,IAnBxC,2CAsBT,CAACv2B,EAAcC,EAAoB35B,EAAQE,SAASkI,SACvD,CACE4I,MAAO,EACPg+C,SAAU,GACVt6C,sBAAuB,GACvBD,eAAgB,GAChB48B,SAAS,IAlCb,IACEnqC,OAAU8nD,EADZ,EACYA,SAAUh+C,EADtB,EACsBA,MAAO0D,EAD7B,EAC6BA,sBAAuBD,EADpD,EACoDA,eAAgB48B,EADpE,EACoEA,QACzD8e,EAFX,EAEE3oD,QACAxK,EAHF,EAGEA,MACAqK,EAJF,EAIEA,UAsCF,OAJA7C,qBAAU,WACR2rD,MACC,CAACA,IAGF,kBAACxnC,GAAA,EAAD,CACEC,QAAQ,UACRC,kBAAmBA,EACnB/b,WAAYuG,EACZyV,UAAWL,EAAU,UAAY,QACjCzzB,MAAOiG,EAAKU,EAAE,qBACdotB,UAAW1G,GAAW,kBAAC,GAAD,CAAS7gB,QAAS6gB,KAExC,kBAAC,GAAD,CACEvzB,GAAG,UACH0O,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,UACLpL,MAAOA,EACPkvC,OAAQA,EACRliB,SAAUA,EACVzD,SAAUA,EACVhM,UAAWA,EACXhF,YAAagvC,EACbtpC,SAAU+oB,GACVmI,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACb5c,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eACLuF,QAAS,CACP,CAAC,GAAIgM,EAAKU,EAAE,gBACZ,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,UAAWV,EAAKU,EAAE,wBACnB,CAAC,WAAYV,EAAKU,EAAE,4BAGxB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBzlB,QAAS+/D,EACT/2B,YAAajnB,EACbknB,SAAUK,EAAML,SAChB16B,OAAQvC,EAAKU,EAAE,qBACfzG,KAAK,UACL6S,SAAU+oB,GACVrJ,UAAW+P,EACXW,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAOA,KAiBjCkzD,GAAc/zD,aAAe,CAC3Bu9B,cAAc,EACd7Q,kBAAmB,GACnBJ,SAAS,EACTuQ,OAAQ,aACR3lB,UAAU,EACVgP,QAAS,GACTv4B,MAAO,KACPmmE,oBAAoB,GAIP7zD,4BAAWuE,YAAWuvD,KCtK/Bp/B,GAAYxoC,EAAY,cAAe,CAC3CG,KAAM,EACNC,UAAW,EACXC,SAAU,S,SAGGynE,G,mFAAf,WAA+BlnE,EAAQmnE,GAAvC,iBAAA5tE,EAAA,6DACEyG,EAAOu9C,gBAAkB4pB,GAA4B,EADvD,SAEyBt4D,GAAepI,KAAKzG,GAF7C,uBAEU0F,EAFV,EAEUA,KAFV,kBAGSA,GAHT,4C,sBAMA,SAAS0hE,GAAuB3zD,GAC9B,IAAQ7S,EAA4C6S,EAA5C7S,MAAOgtB,EAAqCna,EAArCma,SAAUoU,EAA2BvuB,EAA3BuuB,QAASlrB,EAAkBrD,EAAlBqD,QAAS/E,EAAS0B,EAAT1B,KAC3C,EAAwCiD,mBAAS,MAAjD,mBAAO21C,EAAP,KAAqBC,EAArB,KAEA,EAKI/sC,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACUqV,GAAmBi8C,eAD7B,cACJE,EADI,OAEJthB,EAAQshB,EAAM77B,MAAK,SAAAhoB,GAAI,MAAkB,QAAdA,EAAKC,SAAmB4jD,EAAM,GAC/DH,EAAgBnhB,GAHN,kBAIHshB,GAJG,2CAKT,IACH,IAXQ5F,EADV,EACEnnC,OACSktC,EAFX,EAEE5sC,QACO0sC,EAHT,EAGEl3C,MACWm3C,EAJb,EAIE9sC,UAWF7C,qBAAU,WACR4vC,MACC,CAACA,IAEJ,MAUIrtC,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,yDACLoxD,EADK,yCAED,CACL/iC,YAAa,GACbE,MAAO,IAJD,cAOJ9nB,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QAPlD,SAQ0CvX,QAAQmU,IAAI,CAC9DorD,GAAgBlnE,EAAQ2qD,EAAa/kD,IACrCiJ,GAAeg5B,gBAVP,iDAQD7gC,EARC,EAQDA,QAAS8gB,EARR,EAQQA,MAASggB,EARjB,KAaV9gC,EAAQ7G,KAAI,SAAA6d,GAAW,IAAD,EACpB,MAAoB,UAAhBA,EAAO7W,OAAP,UAA2B6W,EAAOyM,cAAlC,aAA2B,EAAe0yB,WAC5Cn/B,EAAOlS,MAAP,UAAkBkS,EAAOhS,KAAzB,cAAmCgS,EAAOyM,OAAO0yB,UAC1Cn/B,IAETA,EAAOlS,MAAP,UAAkBkS,EAAOhS,MAClBgS,MAnBC,kBAsBH,CACL4J,YAAa5gB,EACbqgE,iBAAkBv/C,EAClB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBA9B/C,4CAgCT,CAAC0iB,EAAc7zC,EAAQE,WAC1B,CACE4Q,YAAa,GACby/C,iBAAkB,EAClB77C,sBAAuB,GACvBD,eAAgB,KAhDpB,IACEvN,OACE4J,EAFJ,EAEIA,YACAy/C,EAHJ,EAGIA,iBACA77C,EAJJ,EAIIA,sBACAD,EALJ,EAKIA,eAEOq0B,EAPX,EAOEthC,QACOohC,EART,EAQE5rC,MACW6rC,EATb,EASExhC,UA2CF7C,qBAAU,WACRskC,MACC,CAACA,IAEJtkC,qBAAU,YACJ0vC,GAActL,IAChB1d,EAAQgpB,GAActL,KAEvB,CAACsL,EAAYtL,EAAkB1d,IAElC,IAAMkM,EAAa,SAAC,GAAD,IAAGlI,EAAH,EAAGA,KAAMoI,EAAT,EAASA,WAAYE,EAArB,EAAqBA,UAArB,OACjB,kBAAC,GAAD,CACE9tC,IAAKwlC,EAAKpgC,GACVwT,QAAS,kBAAMg1B,EAAWpI,IAC1BiI,YAAaK,EACb9nB,WAAYwf,KAGVmlB,EAAiC,WAAX,OAAZR,QAAY,IAAZA,OAAA,EAAAA,EAAcxjD,MAE9B,OACE,kBAAC,GAAD,CACEvB,GAAG,kBACH0O,OAAQvC,EAAKU,EAAE,oBACf7R,MAAOA,EACPouC,UAAQ,EACRphB,SAAUA,EACV/O,SAAU+oB,GACVzpB,UAAW8sC,GAAkBtL,EAC7BxR,eAAgBD,EAChB6B,kBAAmB,YAAqC,IAAlCV,EAAiC,EAAjCA,MAAOY,EAA0B,EAA1BA,SAAU3B,EAAgB,EAAhBA,UACrC,OACE,kBAAC,WAAD,KACG6c,GACC,sBACE53C,QAAQ,OACR4wB,UAAQ,EAER7wB,MAAOvB,EAAKU,EACV,sJAIL0yC,GAAmBA,EAAgBxkD,OAAS,GAC3C,0BACE,0BACGoR,EAAKU,EAAE,2BAEV,sBAEE7M,GAAG,gCACHkG,MAAOiG,EAAKU,EAAE,0BACd/M,KAAMy/C,EAAgBhlD,KAAI,SAAA+G,GAAI,MAAK,CACjC1G,IAAK0G,EAAKtB,GACVhF,MAAOsG,EAAKtB,GACZkG,MAAO5E,EAAK8E,KACZmN,YAAY,MAEdvY,MAAO+pD,GAAgBA,EAAa/kD,GACpCgoB,SAAU,SAAClwB,EAAGkI,GACZglD,EACEzF,EAAgBj2B,MAAK,SAAAk8B,GAAC,OAAIA,EAAExlD,KAAO7E,SAAS6E,EAAI,YAM1D,kBAAC,GAAD,CACEhF,MAAOyuC,EAAME,cACbxpC,QAAS6hB,EACTmnB,YAAas4B,EACb10C,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvBwjB,SAAUmc,EACV72C,OAAQvC,EAAKU,EAAE,oBACfu7B,WAAYmd,EAAU,QAAU,OAChCn/C,KAAK,cACL6S,SAAU+oB,GACVrJ,UAAW+P,EACXW,WAAY,SAAAjJ,GACV,IAKMuJ,EAAgBF,EAAME,cAAc5tC,QAAO,SAAAyQ,GAAC,OAChD+4C,GANqB,SAAArpD,GAAG,sBACEihC,KAAvB,OAAHjhC,QAAG,IAAHA,GAAA,UAAAA,EAAK2oB,cAAL,eAAa0yB,YACV,OAAHr7C,QAAG,IAAHA,GAAA,UAAAA,EAAK2oB,cAAL,eAAa0yB,aAAb,OAA0BnX,QAA1B,IAA0BA,GAA1B,UAA0BA,EAAMvb,cAAhC,aAA0B,EAAc0yB,UAI7BmO,CAAel5C,KAA4BA,EAFlDmrC,kBAAoBvX,EAAKuX,oBAK/B,OADAhO,EAAcpwB,KAAK6mB,GACZiK,EAAS,CACd/oC,KAAM,qBACNqoC,mBAGJL,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,UACxDmI,eAAgBD,QAuB9Bk5B,GAAuBn0D,aAAe,CACpCrS,MAAO,IAIMsS,4BAAWuE,YAAW2vD,K,kkBC9N/Bx/B,GAAYxoC,EAAY,cAAe,CAC3CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAAS6nE,GAAT,GAgBI,IAfF3nC,EAeC,EAfDA,kBACA7zB,EAcC,EAdDA,MACAyzB,EAaC,EAbDA,QACAuQ,EAYC,EAZDA,OACAliB,EAWC,EAXDA,SACAzD,EAUC,EAVDA,SACAo9C,EASC,EATDA,iBACAC,EAQC,EARDA,mBACAC,EAOC,EAPDA,wBACA7mE,EAMC,EANDA,MACAmR,EAKC,EALDA,KACAonB,EAIC,EAJDA,QACAhgB,EAGC,EAHDA,WACAq3B,EAEC,EAFDA,aACAxB,EACC,EADDA,SAEMl4B,EAAU8C,cACV62B,EAAqBnD,GAAsB1f,GACjD,EAII/P,GACFzC,sBAAW,sBAAC,kDAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QACtDwoD,EAAeH,EACjB,CAAEhqB,gBAAiBgqB,GACnB,GACEI,EAAiBH,EACnB,CAAEjoB,sBAAuBioB,GACzB,GACEI,EAAsBH,EACxB,CAAEI,2BAA4BJ,GAC9B,GAVM,SAYgC9/D,QAAQmU,IAAI,CACpDjN,GAAepI,KACbvD,EAAYlD,EAAD,YAAC,2BACP0nE,GACAC,GACAC,KAGP/4D,GAAeg5B,gBApBP,0CAYDniC,EAZC,KAYDA,KAAQoiC,EAZP,KAuBN0I,GACFC,EAAmB/qC,EAAKsB,SAGpB0hD,EAAalnD,OAAOC,MACxB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,eACjDjC,EAAO0iB,EAAW1lD,QAAQ,WAE9B0lD,EAAW1iB,GAAQ,yBAhCX,kBAmCH,CACLle,MAAOpiB,EAAKoiB,MACZF,YAAaliB,EAAKsB,QAClBwkB,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgBm9B,IAzCR,4CA2CT,CACDlY,EACAC,EACA82B,EACAC,EACAC,EACA3wD,EAAQE,SAASkI,SAEnB,CACE4I,MAAO,EACPF,YAAa,GACb4D,sBAAuB,GACvBD,eAAgB,KA5DpB,IACEvN,OAAU8J,EADZ,EACYA,MAAOF,EADnB,EACmBA,YAAa4D,EADhC,EACgCA,sBAAuBD,EADvD,EACuDA,eACrDzX,EAFF,EAEEA,MACS8rC,EAHX,EAGEthC,QAmEF,OANAhD,qBAAU,WACRskC,MACC,CAACA,IAKF,kBAACngB,GAAA,EAAD,CACEC,QAAQ,aACR9b,WAAYuG,EACZyV,UAAWL,EAAU,UAAY,QACjCzzB,MAAOA,EACP+zB,UAAW1G,GAAW,kBAAC,GAAD,CAAS7gB,QAAS6gB,IACxCwG,kBAAmBA,GAEnB,kBAAC,GAAD,CACE/5B,GAAG,aACH0O,OAAQxI,EACRlL,MAAOA,EACPkvC,OAAQA,EACRliB,SAAUA,EACVzD,SAAUA,EACVtL,SAAU+oB,GACVzuB,WAAYA,EACZ61B,SAAUA,EACVe,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS6hB,EACTmnB,YAAajnB,EACbxT,OAAQxI,EACR+S,SAAU+oB,GACVjV,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvB+S,UAAW+P,EACXtiC,KAAK,aACLijC,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,UACxDgJ,SAAUA,OAIhB,kBAAC,GAAD,CAAoBl7B,MAAOA,KAwCjCwzD,GAAiBr0D,aAAe,CAC9Bs0D,iBAAkB,GAClBC,mBAAoB,GACpB7nC,kBAAmB,GACnBJ,SAAS,EACTyP,UAAU,EACVc,OAAQ,aACR3lB,UAAU,EACVvpB,MAAO,KACPuY,YAAY,EACZq3B,cAAc,GAIDt9B,4BAAWo0D,ICxNpB1/B,GAAYxoC,EAAY,eAAgB,CAC5CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAASqoE,GAAT,GAA8D,IAAjC/1D,EAAgC,EAAhCA,KAAM6b,EAA0B,EAA1BA,SAAUhtB,EAAgB,EAAhBA,MAAOkL,EAAS,EAATA,MAC5CkL,EAAW6C,cACjB,EAIIgE,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAQAvX,QAAQmU,IAAI,CACpBtN,GAAgB/H,KAAKzG,GACrBwO,GAAgBq5B,cAVR,iDAKNniC,KAAQsB,EALF,EAKEA,QAAS8gB,EALX,EAKWA,MAEnBggB,EAPQ,uBAYH,CACL+D,aAAc7kC,EACdyrB,UAAW3K,EACX0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACN,OAAfqmC,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,mBAAuBmX,eAAvB,eAAgCmrB,MAAO,IACvCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBApB/C,4CAsBT,CAACjxB,IACJ,CACE60B,aAAc,GACdpZ,UAAW,EACXjH,sBAAuB,GACvBD,eAAgB,KA/BlBzX,EADF,EACEA,MADF,IAEEkK,OAAU6tB,EAFZ,EAEYA,aAAcpZ,EAF1B,EAE0BA,UAAWjH,EAFrC,EAEqCA,sBAAuBD,EAF5D,EAE4DA,eACjDugB,EAHX,EAGExtB,QAmCF,OAHAhD,qBAAU,WACRwwB,MACC,CAACA,IAEF,kBAACrM,GAAA,EAAD,CAAWC,QAAQ,cAAc5zB,MAAOA,GACtC,kBAAC,GAAD,CACElG,GAAG,cACH0O,OAAQvC,EAAKU,EAAE,oBACf7R,MAAOA,EACPgtB,SAAUA,EACV/O,SAAU+oB,GACVmI,kBAAmB,gBAAGV,EAAH,EAAGA,MAAOY,EAAV,EAAUA,SAAU3B,EAApB,EAAoBA,UAApB,OACjB,kBAAC,GAAD,CACE1tC,MAAOyuC,EAAME,cACbxpC,QAAS8lC,EACTkD,YAAatc,EACbne,OAAQvC,EAAKU,EAAE,qBACfoM,SAAU+oB,GACVjV,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,2BAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,gBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,gBAGT+qB,eAAgBA,EAChBC,sBAAuBA,EACvB+S,UAAW+P,EACXtiC,KAAK,cACLijC,WAAY,SAAAjJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,cAAe8+B,UACpDkJ,aAAc,SAAAlJ,GAAI,OAAIiK,EAAS,CAAE/oC,KAAM,gBAAiB8+B,eAI9D,kBAAC,GAAD,CAAoBlyB,MAAOA,KAUjCg0D,GAAkB70D,aAAe,CAC/BrS,MAAO,MAGMsS,4BAAWuE,YAAWqwD,KCxFtB50D,I,MAAAA,yBA3Bf,YAAuC,IAAf8yB,EAAc,EAAdA,KAAMj0B,EAAQ,EAARA,KAC5B,OACE,kBAACi3B,GAAA,EAAD,CACEx0B,kBAAA,0BAAoCwxB,EAAKpgC,IACzCpF,IAAKwlC,EAAKpgC,GACVA,GAAE,UAAKogC,EAAKpgC,KAEZ,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,cAC1C,kBAACI,GAAA,EAAD,KACE,kBAAC,IAAD,CAAMyE,GAAI,CAAEL,SAAU+uB,EAAKjwB,MACzB,uBAAGnQ,GAAE,0BAAqBogC,EAAKpgC,KAAOogC,EAAKh6B,SAIjD,kBAAC,GAAD,CAAcxL,IAAI,YAAY+T,aAAYxC,EAAKU,EAAE,mBAC9CuzB,EAAKrhB,eAAeQ,UAAUnZ,cCzBtC,SAAS+7D,KAA6B,IAAdtkD,EAAa,uDAAJ,GACtC,MAAe,KAAXA,EACK,GAEFA,EACJvjB,QAAQ,MAAO,IACfA,QAAQ,KAAM,SACdpD,MAAM,cACNqD,KAAI,SAAAvD,GAAC,OAAIA,EAAEE,MAAM,QACjBgG,QAAO,SAAC0lC,EAAD,GAA2B,IAAD,mBAAVw/B,EAAU,KAAPlnE,EAAO,KAC1BN,EAAMC,mBAAmBunE,GACzBpnE,EAAQH,mBAAmBK,GAQjC,YAP0BiiC,IAAtByF,EAAahoC,GACfgoC,EAAahoC,GAAOI,EACXgB,MAAMC,QAAQ2mC,EAAahoC,IACpCgoC,EAAahoC,GAAb,sBAAwBgoC,EAAahoC,IAArC,CAA2CI,IAE3C4nC,EAAahoC,GAAO,CAACgoC,EAAahoC,GAAMI,GAEnC4nC,IACN,IAmCA,SAASy/B,KAAiC,IAApBz/B,EAAmB,uDAAJ,GAC1C,OAAOhnC,OAAOC,KAAK+mC,GAChB0/B,SAAQ,SAAA1nE,GACP,OAAIoB,MAAMC,QAAQ2mC,EAAahoC,IACtBgoC,EAAahoC,GAAKL,KAAI,SAAA2B,GAAG,gBAAOtB,EAAP,YAAcsB,MAE1C,GAAN,OAAUtB,EAAV,YAAiBgoC,EAAahoC,OAE/BwB,KAAK,SCnCV,IAAM4tC,GAAax8B,IAAOC,IAAV,uHAOVw7B,GAAYz7B,IAAOC,IAAV,2FAwBTu0B,GAAYxoC,EAChB,cACA,CACEG,KAAM,EACNC,UAAW,EACXC,SAAU,QAEZ,CAAC,KAAM,OAAQ,YAAa,cAwC9B,SAAS0oE,GAAT,GASI,IARFxoC,EAQC,EARDA,kBACA5tB,EAOC,EAPDA,KACAwtB,EAMC,EANDA,QACApmB,EAKC,EALDA,WACA22B,EAIC,EAJDA,OACAliB,EAGC,EAHDA,SACAw6C,EAEC,EAFDA,eACAxnE,EACC,EADDA,MAEMkW,EAAU8C,cACV5C,EAAW6C,cACjB,EAA0B7E,mBAAS,IAAnC,mBAAOua,EAAP,KAAc84C,EAAd,KACA,EAAsCrzD,mBAAS,IAA/C,mBAAOjV,EAAP,KAAoBuoE,EAApB,KACA,EA/Ee,WACf,MAAsCtzD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KAUA,MAAO,CACLD,cACAE,YAVF,WACED,GAAgBD,IAUhBwF,WAPF,WACEvF,GAAe,KAuEgCq+B,GAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WAC5B9c,EApDmB,SAAA5gB,GAAI,MAAI,CACjC,CACE/F,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,WACbjS,IAAK,MAEP,CACEwL,KAAM+F,EAAKU,EAAE,cACbjS,IAAK,2BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,aAEP,CACEwL,KAAM+F,EAAKU,EAAE,gBACbjS,IAAK,UACL0oB,WAAW,GAEb,CACEld,KAAM+F,EAAKU,EAAE,oBACbjS,IAAK,eAEP,CACEwL,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,uBAmBegoE,CAAmBz2D,GAEzC,EAKI8L,GACFzC,sBAAW,uCACT,WAAMrP,GAAN,uBAAAxS,EAAA,6DACQyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QADtD,SAE8CvX,QAAQmU,IAAI,CACtD9M,GAASvI,KACPvD,EAAYlD,EAAQ,CAAEyoE,wBAAyB18D,KAEjDiD,GAAS64B,gBANb,0CAEWniC,EAFX,KAEWA,KAAgBmX,EAF3B,KAEqBnX,KAFrB,kBAQS,CACLoiB,MAAOpiB,EAAKoiB,MACZ89C,MAAOlgE,EAAKsB,QACZwkB,wBACS,OAAP3O,QAAO,IAAPA,OAAA,EAAAA,EAASkrB,wBAAyB,IAClC5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MAAY,OAAPob,QAAO,IAAPA,OAAA,EAAAA,EAASA,QAAQmrB,MAAO,IAAIrmC,QACtD,SAAAnB,GAAG,uBAAIqc,EAAQA,eAAZ,aAAI,EAAiBmrB,IAAIxnC,GAAKynC,gBAfvC,2CADS,sDAoBT,CAACjxB,EAASkI,SAEZ,CACE4I,MAAO,EACP89C,MAAO,GACPp6C,sBAAuB,GACvBD,eAAgB,KAhCpB,IACEvN,OAAU8J,EADZ,EACYA,MAAO89C,EADnB,EACmBA,MAAOp6C,EAD1B,EAC0BA,sBAAuBD,EADjD,EACiDA,eACxCoL,EAFT,EAEE7iB,MACSuyD,EAHX,EAGE/nD,QACAH,EAJF,EAIEA,UAgCF,EAAgCK,GAAoBmY,GAA5C7iB,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAef,SAAS+pD,EAAezoE,GACtB,IAAMuoC,EAAeu/B,GAAe9nE,GAC9B0oE,EDxGH,SAA8B7oE,GAAmB,IAAXwjC,EAAU,uDAAJ,GAC3CslC,EAAYpnE,OAAOk3C,OAAO,GAAIpV,GAC9BulC,EAAS,GAQf,OAPArnE,OAAOC,KAAKmnE,GAAWxoE,SAAQ,SAAAC,GAC7B,IAAIG,EAAMH,EACNA,EAAMgB,WAAWvB,EAAOT,aAC1BmB,EAAMH,EAAMK,OAAOZ,EAAOT,UAAUsB,OAAS,IAE/CkoE,EAAOroE,GAAOooE,EAAUvoE,MAEnBwoE,EC8FoBC,CAAqBlhC,GAAWY,GAKzD,OAAOy/B,GD1FJ,SAA6BnoE,GAAmB,IAAXwjC,EAAU,uDAAJ,GAC1CslC,EAAYpnE,OAAOk3C,OAAO,GAAIpV,GAC9BylC,EAAcvnE,OAAOC,KAAK3B,EAAOR,eAIvC,OAHAypE,EAAY3oE,SAAQ,SAAA00D,UACX8T,EAAU9T,MAEZ8T,ECgFwBI,CAC3BphC,GACA+gC,IAlBJrtD,qBAAU,WACJ2uB,GAAem+B,IACjBzpD,IACA0nD,EAAW+B,MAEZ,CAAC/B,EAAY+B,EAAgBn+B,IAEhC3uB,qBAAU,WACR,IAAM2tD,EAAUlB,GAAennE,GAC/B0nE,ED5IG,SAAuBxoE,GAA4B,IAApB0oC,EAAmB,uDAAJ,GACnD,OAAyC,IAArChnC,OAAOC,KAAK+mC,GAAc7nC,OAAqB,GAE5Ca,OAAOC,KAAK+mC,GAChB0/B,SAAQ,SAAA1nE,GACP,OAAIoB,MAAMC,QAAQ2mC,EAAahoC,IACtBgoC,EAAahoC,GAAKL,KACvB,SAAA2B,GAAG,gBACEhC,EAAOT,UADT,YACsB0C,mBACrBvB,GAFD,YAGIuB,mBAAmBD,OAGxB,GAAN,OAAUhC,EAAOT,UAAjB,YAA8B0C,mBAC5BvB,GADF,YAEKuB,mBAAmBymC,EAAahoC,QAEtCwB,KAAK,KC2HSknE,CAActhC,GAAWqhC,IACxCZ,EAuBF,WAAkC,IAAd1mE,EAAa,uDAAJ,GACrBwnE,EAAkB3nE,OAAOC,KAAKE,GAAQmB,QAAO,SAACwgC,EAAKgN,GACvD,IAAM84B,EAAY94B,EAAMpwC,QAAQ,OAAQ,IAClCmpE,EAAa,GAsBnB,OApBIznE,MAAMC,QAAQF,EAAO2uC,IACvB3uC,EAAO2uC,GAAOlwC,SAAQ,SAAA0B,GAAG,OACvBunE,EAAWlqD,KAAK,CACd3e,IAAI,GAAD,OAAK8vC,EAAL,YAAcxuC,GACjB+tB,KAAK,GAAD,OAAK/tB,QAIbunE,EAAWlqD,KAAK,CACd3e,IAAI,GAAD,OAAK8vC,EAAL,YAAc3uC,EAAO2uC,IACxBzgB,KAAK,GAAD,OAAKluB,EAAO2uC,MAIpBhN,EAAI8lC,GAAa,CACf5oE,IAAK4oE,EACLt9D,MAAOnK,EAAO2uC,GACd/gB,MAAM,GAAD,OAAM85C,IAGN/lC,IACN,IAEH,OAAO6lC,EAnDEG,CAAWL,MACnB,CAACroE,IAqDJ,IAAM2oE,EAAkB,WACtBzyD,EAAQ5W,QAAQ,CACd+W,SAAS,GAAD,OAAKD,EAASC,UACtBiI,OAAQnf,IAEVoqC,KAGIq/B,EAAc,WAClB/5B,IACA34B,EAAQ5W,QAAQ,CACd+W,SAAS,GAAD,OAAKD,EAASC,UACtBiI,OAAQ,MAINuqD,EAAe,kBACnB,kBAAC/7C,GAAA,EAAD,CAAYoiB,OAAQA,GAClB,kBAAChzB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,eACnB7M,GAAG,cACHuT,WAAYA,EACZC,QAASmwD,EACTh2D,QAASua,IAAcC,SAEvB,kBAAC,KAAD,OAEF,kBAAC,GAAD,CAAYnM,UAAU,qBACnB+Q,EAAcxyB,KAAI,wBAAG6L,EAAH,EAAGA,KAAMxL,EAAT,EAASA,IAAT,OACjB,kBAAC,GAAD,CACEiwB,aAAczkB,EACdxL,IAAKwL,EACLyhC,SAAU,EACVC,YAAY,UAAAne,EAAM/uB,UAAN,mBAAY+uB,aAAZ,eAAmB5uB,SAAU,GAJ3C,UAMG4uB,EAAM/uB,UANT,iBAMG,EAAY+uB,aANf,aAMG,EAAmBpvB,KAAI,SAAAqwB,GAAI,OAC1B,kBAAC6d,GAAA,EAAD,CAAM7tC,IAAKgwB,EAAKhwB,IAAKytC,YAAU,GAC5Bzd,EAAKX,gBASpB,OACE,kBAAC4P,GAAA,EAAD,CACEC,QAAQ,cACRC,kBAAmBA,EACnB/b,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,0BACdmtB,UAAWL,EAAU,UAAY,QACjCM,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,2MAQL0G,EACC,kBAAC,KAAD,CACEb,QAASvG,EAAKU,EACZ,sEAGDg3D,KAGHA,IAEF,kBAACp1D,GAAA,EAAD,CACEE,aAAYxC,EAAKU,EAAE,qBACnBZ,OAAQo4B,EACRn4B,QAAS03D,EACTl2D,MAAOvB,EAAKU,EAAE,iDACdc,QAAQ,QACRsJ,QAAS,CACP,kBAACC,EAAA,EAAD,CACE3D,YAAanC,EAASkI,OACtB1e,IAAI,SACJ4Y,QA9HG,WACX,IAAMswD,EAAmBhB,EAAe1xD,EAASkI,QACjD0O,EAAS87C,GACTj6B,IACA34B,EAAQ5W,QAAQ,CACd+W,SAAS,GAAD,OAAKD,EAASC,UACtBiI,OAAQ,MAyHF3L,QAAQ,WAEPxB,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CAAQtc,IAAI,SAAS+S,QAAQ,OAAO6F,QAASowD,GAC1Cz3D,EAAKU,EAAE,wBAIZ,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEkkB,aAAc7iB,EACd8iB,kBAAmBzY,EACnBsU,UAAW3K,EACXprB,MAAOkpE,EACPv8B,WAAY,aACZnS,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACV0B,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVogC,KAAI,2BAAOA,GAAP,IAAajwB,IAAI,UAAD,OAAYiwB,EAAKpgC,GAAjB,iBAGxBqvB,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DpY,qBAAsBpE,EACtBgW,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,aAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,MAIpC,kBAAC,GAAD,CAAoB1X,MAAOA,KAYjCq0D,GAAiBl1D,aAAe,CAC9BssB,SAAS,EACTuQ,OAAQ,aACRliB,SAAU,aACVw6C,eAAgB,KAChBxnE,MAAO,IAGMsS,4BAAWuE,YAAW0wD,KC9W/BwB,GAAuBz2D,sBAAW,YAAqB,IAAlBnB,EAAiB,EAAjBA,KAAM3J,EAAW,EAAXA,KAC/C,EAAkC4M,mBAChC5M,EAAOA,EAAKuc,eAAeQ,UAAY,IADzC,mBAAOA,EAAP,KAAkBykD,EAAlB,KAIA,EAA4CxqC,aAAS,CACnDpzB,KAAM,YACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAS83D,EAAT,KAAwBC,EAAxB,KAKA,OACE,kBAACrqC,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,qBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,8DAINmR,YAAU,EACV8b,QAAQ,mBACRE,UACGiqC,EAAcrqC,SAAYqqC,EAAc/1D,MAAoB,QAAZ,UAEnD6rB,kBAAmBkqC,EAAc/1D,OAEjC,kBAAC,GAAD,CACE4rB,QAAQ,mBACR9+B,MAAOukB,EACP2qB,OAAQ,kBAAMg6B,EAAiBh4B,cAC/B3Y,QAASpnB,EAAKU,EAAE,4DAChB8sB,SAAUsqC,EAAcrqC,UAAYqqC,EAAc/1D,MAClD6rB,kBAAmBkqC,EAAc/1D,MACjC8Z,SAAU,SAAAhtB,GACRkpE,EAAiBvrD,SAAS3d,EAAMgF,IAChCgkE,EAAahpE,IAEfupB,UAAQ,EACRqV,QAASqqC,EAAcrqC,QACvB1rB,MAAO+1D,EAAc/1D,YAMvBi2D,GAAW,SAAC,GAOX,IANL9jB,EAMI,EANJA,aACAnlC,EAKI,EALJA,aACA1Y,EAII,EAJJA,KACA4hE,EAGI,EAHJA,mBACAj4D,EAEI,EAFJA,KACAigC,EACI,EADJA,YAEA,OACE,kBAAC,KAAD,CACExwB,cAAe,CACbxV,KAAM5D,EAAK4D,KACX6X,YAAazb,EAAKyb,YAClBsB,UAAW/c,EAAK+c,WAAa,GAC7ByD,UAAWxgB,EAAKwgB,WAElBnH,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,YACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,mBACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEfu3D,GAAsB,kBAACL,GAAD,CAAsBvhE,KAAMA,IACnD,kBAAC86B,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,iBACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,wBAGjBu/B,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,qBAiB/BipD,GAAS92D,aAAe,CACtB7K,KAAM,CACJ4D,KAAM,GACN6X,YAAa,GACbsB,eAAW4d,EACXna,UAAW,QACXjE,eAAgB,CACdQ,UAAW,OAGf6kD,oBAAoB,EACpBh4B,YAAa,MAIA9+B,4BAAW62D,ICnGXE,OAhCf,WACE,MAAkCj1D,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMpzD,EAAU8C,cAEVkH,EAAY,uCAAG,WAAMqpD,GAAN,iBAAA5wE,EAAA,+EAEgByV,GAAStK,OAAOylE,GAFhC,gBAEHplE,EAFG,EAETW,KACRoR,EAAQqI,KAAR,iBAAuBpa,EAASa,GAAhC,aAHiB,gDAKjBskE,EAAa,EAAD,IALK,yDAAH,sDAalB,OACE,kBAACtsD,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEoM,aAAcA,EACdmlC,aAVW,WACnBnvC,EAAQqI,KAAR,WAUQ6yB,YAAajO,QCgBV7wB,6BApCf,YAAoC,IAAfnB,EAAc,EAAdA,KAAM3J,EAAQ,EAARA,KACzB,EAAiEyV,GAC/DzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACyBoO,QAAQmU,IAAI,CAC7C9M,GAASxG,UAAUJ,EAAKxC,MAFhB,0CACKwkE,EADL,KACD1kE,KADC,kBAIH/G,KAAKC,UAAUwrE,EAAU,KAAM,IAJ5B,2CAKT,CAAChiE,IACJ,MAPciiE,EAAhB,EAAQrsD,OAAeG,EAAvB,EAAuBA,UAAWrK,EAAlC,EAAkCA,MAAgBw2D,EAAlD,EAAyChsD,QAczC,OAJAhD,qBAAU,WACRgvD,MACC,CAACA,IAEAnsD,EACK,kBAAC,GAAD,MAGLrK,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYixB,OAAO,MACjB,kBAAC,GAAD,CAAiBj5B,MAAOiG,EAAKU,EAAE,cAAW2rB,YAAU,EAACx9B,MAAOypE,SC2GrDn3D,6BA5Hf,YAAqC,IAAfnB,EAAc,EAAdA,KAAM3J,EAAQ,EAARA,KAExBmc,EAaEnc,EAbFmc,QACAV,EAYEzb,EAZFyb,YACAje,EAWEwC,EAXFxC,GACAqf,EAUE7c,EAVF6c,SACAjZ,EASE5D,EATF4D,KACA4c,EAQExgB,EARFwgB,UANF,EAcIxgB,EAPFuc,eACEQ,EARJ,EAQIA,UACAsD,EATJ,EASIA,YACA9B,EAVJ,EAUIA,WACAC,EAXJ,EAWIA,YACA9C,EAZJ,EAYIA,kBAIJ,EAAkC9O,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBosD,EAAlB,KACA,EAA0Cv1D,oBAAS,GAAnD,mBAAOoK,EAAP,KAAsBorD,EAAtB,KACM1zD,EAAU8C,cAEV2sD,EAAgB,uCAAG,sBAAAhtE,EAAA,6DACvBgxE,GAAa,GADU,kBAGfv7D,GAAS+8B,QAAQnmC,GAHF,OAIrBkR,EAAQqI,KAAK,UAJQ,gDAMrBqrD,EAAiB,EAAD,IANK,yBAQrBD,GAAa,GARQ,4EAAH,qDAYtB,IAAKpsD,GAAaiB,EAChB,OACE,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,kBAAM04D,GAAiB,KAE/Bz4D,EAAKU,EAAE,uCAAqBzG,UAC7B,kBAAC,GAAD,CAAa8H,MAAOsL,KAK1B,IAAMqrD,EAAqBhiD,EAAYtoB,KAAI,SAAArB,GAAG,kCAAUA,GAAV,IAAeoI,KAAM,WACnE,OACE,kBAAC,GAAD,KACE,sBAAYkB,KAAMA,IAClB,kBAAC,GAAD,CAAY28B,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,EAAMgxB,OAAO,eAC/B,OAAlBytC,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9pE,QAAS,GAC5B,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,iBACd7R,MAAO,kBAAC,GAAD,CAAWmyD,KAAM0X,MAG5B,kBAAC,GAAD,CAAQ3+D,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,qBACduqB,OAAO,iBACPp8B,MACE,kBAAC,IAAD,CAAM0W,GAAE,iCAA4B6N,EAAUvf,GAAtC,aACLuf,EAAUnZ,QAIjB,kBAAC,GAAD,CACEkuB,KAAM3V,EACNzY,MAAOiG,EAAKU,EAAE,2BACdirB,KAAM/W,EACNqW,OAAO,oBAET,kBAAC,GAAD,CACE9C,KAAMjV,EACNnZ,MAAOiG,EAAKU,EAAE,6CACdirB,KAAM9W,EACNoW,OAAO,0BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAOgoB,KAGX,kBAAC,GAAD,MACoB,OAAjB9E,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB6nB,OAClB,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,iBAAY1R,EAAZ,UAEDmM,EAAKU,EAAE,eAGM,OAAjBqR,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBje,SAClB,kBAAC,GAAD,CACEwtC,UAAW,kBAAMkzB,KACjBn8B,WAAYr4B,EAAKU,EAAE,oBACnBzG,KAAMA,KAIXoT,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,kBAAM04D,EAAiB,QAE/Bz4D,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,iIC7FfsrD,OAlCf,YAA6B,IAATtiE,EAAQ,EAARA,KAClB,EAAkC4M,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMzgB,EAAU,iBAAarhD,EAAKxC,GAAlB,YACVkR,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEXyV,GAASokC,OAAOhrC,EAAKxC,GAAIoE,GAFd,OAGjB8M,EAAQqI,KAAKsqC,GAHI,+CAKjBygB,EAAa,EAAD,IALK,wDAAH,sDAalB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE9hE,KAAMA,EACN0Y,aAAcA,EACdmlC,aATe,WACnBnvC,EAAQqI,KAAKsqC,IASTzX,YAAajO,MCrBf6D,GAAY,WAAwB,IAAvBnoC,EAAsB,uDAAX,OAC5B,OAAOL,EAAY,YAAa,CAC9BG,KAAM,EACNC,UAAW,EACXC,cAqJWyT,I,GAAAA,yBAjJf,YAUI,IATFnB,EASC,EATDA,KASC,IARDuC,cAQC,MARQvC,EAAKU,EAAE,cAQf,MAPDa,aAOC,MAPOvB,EAAKU,EAAE,qBAOd,EANDX,EAMC,EANDA,QACA64D,EAKC,EALDA,YACAC,EAIC,EAJDA,aACAC,EAGC,EAHDA,eAGC,IAFD5gC,mBAEC,aADD+D,kBACC,MADY,OACZ,EACKl3B,EAAU8C,cAChB,EAAmCixB,GAAY,IAAvCE,EAAR,EAAQA,SAAUE,EAAlB,EAAkBA,aAElB,EAKIptB,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EACb+nC,GAAUoG,GACVl3B,EAAQE,SAASkI,QAHT,SAUAvX,QAAQmU,IAAI,CAAC8uD,EAAa5qE,GAAS6qE,MAVnC,iDAONnlE,KAAQoiB,EAPF,EAOEA,MAAO9gB,EAPT,EAOSA,QAEjB8gC,EATQ,uBAYH,CACLprC,MAAOsK,EACPyrB,UAAW3K,EACX0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBApB/C,4CAsBT,CAAC2iC,EAAcC,EAAgB/zD,EAAQE,SAASkI,OAAQ8uB,IAC3D,CACEtxC,MAAO,GACP+1B,UAAW,EACXjH,sBAAuB,GACvBD,eAAgB,KAhCTxM,EADX,EACET,QADF,IAEEN,OAAUthB,EAFZ,EAEYA,MAAO+1B,EAFnB,EAEmBA,UAAWjH,EAF9B,EAE8BA,sBAAuBD,EAFrD,EAEqDA,eAC5CoL,EAHT,EAGE7iB,MACAqK,EAJF,EAIEA,UAiCF7C,qBAAU,WACRyD,MACC,CAACA,IAEJ,IAAMmxB,EAAgB,WACpB,IAAMC,EAAQr5B,EAAQE,SAASkI,OAAOhf,QAAQ,MAAO,IAAIpD,MAAM,KACvDuC,EAAcuoC,GAAUoG,GAAxB3uC,UACFgxC,EAAaF,EAAMxuC,QACvB,SAAA2uC,GAAK,OAAKA,EAAMjvC,WAAN,UAAoBhC,EAApB,SAEZyX,EAAQ5W,QAAR,UAAmB4W,EAAQE,SAASC,SAApC,YAAgDo5B,EAAWruC,KAAK,QAG5D8oE,EAAU,uCAAG,sBAAAvxE,EAAA,sEACXoxE,EAAY5/B,GADD,OAEjBmF,IACAp+B,IAHiB,2CAAH,qDAMV03D,EAAc,WAClBt5B,IACAp+B,KAGF,OACE,kBAAC,WAAD,KACE,kBAACuC,GAAA,EAAD,CACEd,QAAQ,QACRD,MAAOA,EACPiB,aAAYxC,EAAKU,EAAE,0BACnBZ,OAAQo4B,EACRn4B,QAAS03D,EACT3sD,QAAS,CACP,kBAACC,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBjS,IAAI,SACJ+S,QAAQ,UACR6F,QAAS0xD,EACT3xD,WAAgC,IAApB4xB,EAASpqC,QAEpBoR,EAAKU,EAAE,cAEV,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBjS,IAAI,SACJ+S,QAAQ,YACR6F,QAASowD,GAERz3D,EAAKU,EAAE,wBAIZ,kBAAC,GAAD,CACEu7B,WAAYA,EACZrX,aAAcA,EACduY,aAAcjE,EACd32B,OAAQA,EACR6J,UAAWA,EACX6wB,UAAQ,EACRD,YAAatc,EACb1sB,QAASrJ,EACTmiB,SAAU+oB,GAAUoG,GACpBzP,UAAU,EACV0Q,WAAYhE,EACZrqC,MAAOmqC,EACPpY,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAI,GAAD,OAAKwtC,EAAL,eACH/kB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAI,GAAD,OAAKwtC,KAGZziB,eAAgBA,EAChBC,sBAAuBA,SClJ3Bu/C,GAAY33D,IAAOC,IAAV,8EAIf,SAAS23D,GAAT,GAOI,IANFj5D,EAMC,EANDA,KAMC,IALDk5D,2BAKC,MALqB,GAKrB,MAJDC,iBAIC,MAJW,GAIX,MAHD9gC,kBAGC,MAHYr4B,EAAKU,EAAE,sBAGnB,EAFD04D,EAEC,EAFDA,eAEC,IADDC,gCACC,SACD,EAA4Bp2D,oBAAS,GAArC,mBAAOnD,EAAP,KAAe8yB,EAAf,KACA,EAA6CtzB,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBAatB,SAASi3C,EAAmBrlC,GAAO,IAAD,IAChC,QAAO,UAACA,EAAKrhB,sBAAN,iBAAC,EAAqBb,yBAAtB,aAAC,EAAwCje,QAPlDyV,qBAAU,WACJ6Y,GACFC,EAAmBviB,KAEpB,CAACsiB,EAActiB,EAAQuiB,IA8B1B,IAAIjb,GAAa,EAYjB,OAVEA,EADEiyD,EAE+B,IAA/BH,EAAoBtqE,QACpBsqE,EAAoBpqE,KAAKwqE,GAEiB,IAA/BJ,EAAoBtqE,OAOjC,oCACGwzB,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,MACJ+T,aAAYxC,EAAKU,EAAE,qBACnB0G,WAAYA,EACZpG,UAAU,SACVqG,QAAS,kBAAMurB,GAAU,KAExB5yB,EAAKU,EAAE,sBAGV,kBAAC,KAAD,CAAS6F,QAjDf,WACE,GAAI8yD,EAA0B,CAC5B,IAAME,EAA4BL,EAC/BtpE,OAAO0pE,GACPlrE,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QACjBhK,KAAK,MAER,GAAIipE,EAAoBpqE,KAAKwqE,GAC3B,OACE,6BACGt5D,EAAKU,EACJ,oGAA8D64D,gCAOxE,OAAIL,EAAoBtqE,OACfoR,EAAKU,EAAE,qBAETV,EAAKU,EAAE,qCA4BQ63B,GAAiBjyB,SAAS,OAC1C,6BACE,kBAACyE,EAAA,EAAD,CACEvJ,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAMurB,GAAU,IACzBxrB,WAAYA,GAEXpH,EAAKU,EAAE,wBAMfZ,GACC,kBAAC,GAAD,CACEA,OAAQA,EACRyB,MAAO82B,EACP72B,QAAQ,UACRzB,QAAS,kBAAM6yB,GAAU,IACzB9nB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,eACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,6BACnB2G,QAzFZ,WACE+xD,IACAxmC,GAAU,KAyFC5yB,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAMurB,GAAU,KAExB5yB,EAAKU,EAAE,wBAIXy4D,GAAa,kBAACH,GAAD,KAAYG,GAE1B,6BAAMn5D,EAAKU,EAAE,sDAEZw4D,EAAoB9qE,KAAI,SAAA6lC,GAAI,OAC3B,0BAAMxlC,IAAKwlC,EAAKpgC,IACd,gCAASogC,EAAKulC,SAAWvlC,EAAKulC,SAAWvlC,EAAKh6B,MAC9C,mCASdg/D,GAAmB/3D,aAAe,CAChCg4D,oBAAqB,GACrBC,UAAW,GACX9gC,WAAY,IAuBCl3B,4BAAW83D,ICtGX93D,6BAhDf,YAA4E,IAAnDnB,EAAkD,EAAlDA,KAAMjJ,EAA4C,EAA5CA,MAAOgB,EAAqC,EAArCA,YAAa0hC,EAAwB,EAAxBA,WAAY5yB,EAAY,EAAZA,SACvDiuB,EAAO,uBAAmB/9B,EAAMlD,IAChC6lC,EAAS,iCAA6B3hC,EAA7B,mBAAmDhB,EAAMlD,GAAzD,YACT4lE,EAAO,iCAA6B1hE,EAA7B,mBAAmDhB,EAAMlD,GAAzD,SAEb,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKsI,EAAMlD,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKkD,EAAMlD,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEl3B,kBAAiBqyB,EACjBjhC,GAAE,uBAAkBkD,EAAMlD,IAC1BirB,QAAS2a,EACT5d,SAAUhV,IAEZ,kBAACswB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAI/9B,EAAMkD,WAKlB,kBAACo/B,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEH/9B,EAAM6b,eAAeb,kBAAkB6nB,MACtC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,mBAAgB4F,SAAS,OAChD,kBAACyE,EAAA,EAAD,CAAQvJ,QAAQ,QAAQR,UAAW43B,IAAMrzB,GAAIk0D,GAC3C,kBAAC,KAAD,cC9BV5jC,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAsOGyT,6BAnOf,YAAyC,IAAfnB,EAAc,EAAdA,KAAM3J,EAAQ,EAARA,KAC9B,EAAsC4M,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KAEY/hC,EAAWgrC,cAAfvtC,GACAsZ,EAAWrF,cAAXqF,OACFusD,EAAQrjE,EAAKuc,eAAeQ,UAAUvf,GAE5C,EAWIiY,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAQAvX,QAAQmU,IAAI,CACpB9M,GAASvG,cAAcN,EAAQnI,GAC/BgP,GAAStG,kBAAkBP,KAVnB,iDAKNzC,KAAQoiB,EALF,EAKEA,MAAO9gB,EALT,EAKSA,QAEjB8gC,EAPQ,uBAaH,CACLtf,OAAQxhB,EACRyrB,UAAW3K,EACXjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAtB/C,4CAwBT,CAAC9/B,EAAQ+W,IACZ,CACEsJ,OAAQ,GACRiK,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KA1CpB,IACEvN,OACEwK,EAFJ,EAEIA,OACAiK,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSutD,EAVX,EAUEptD,QAoCFhD,qBAAU,WACRowD,MACC,CAACA,IAEJ,MAA+D7gC,GAC7DriB,GADMuiB,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAIIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAA2I,GAAK,OAAIkG,GAASpG,kBAAkBT,EAAQW,SAE1D,CAACX,EAAQ4iC,IACZ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY2sD,IAZHC,EADb,EACExtD,UACaytD,EAFf,EAEE3sD,YACe4sD,EAHjB,EAGEzsD,cAcI0sD,EAAkB,uCAAG,sBAAAvyE,EAAA,sEACnBqyE,IADmB,OAEzB5gC,EAAY,IAFa,2CAAH,qDAKlB+gC,EAAyB3wD,uBAC7B,SAAApb,GACE,OAAOmP,GAAevF,WACpB6hE,EACAvoE,EAAYlD,EAAQ,CAAEgsE,WAAY7jE,OAGtC,CAACsjE,EAAOtjE,IAGJ8jE,EAAqB7wD,uBACzB,kBAAMjM,GAAezG,kBAAkB+iE,KACvC,CAACA,IAGH,EAA4D5tD,GAC1DzC,sBAAW,uCACT,WAAM8wD,GAAN,SAAA3yE,EAAA,sEACQoO,QAAQmU,IACZowD,EAAkB/rE,KAAI,SAAA2I,GAAK,OACzBkG,GAASrG,eAAeR,EAAQW,EAAMlD,QAH5C,OAME8lE,IANF,2CADS,sDAST,CAACvjE,EAAQujE,KAVIS,EAAjB,EAAQ7tD,QAAiC8tD,EAAzC,EAAkCt4D,MAclC,EAAgC0K,GAC9B4tD,GAAkBP,GADZ/3D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITwtB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAE3D,OACE,oCACE,kBAAC,GAAD,CACE8Z,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCjvE,MAAO8rB,EACPiK,UAAWA,EACX5T,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVkD,MAAOk9B,EACP79B,OAAQA,EACR2B,YAAak8B,EAAKrhB,eAAeQ,UAAUvf,GAC3C4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOogC,EAAKpgC,MACjDgT,SAAU,kBAAMqyB,EAAajF,OAGjC/Q,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOhjB,GAAU,KAEzC3J,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJ4Y,QAAS,kBAAM8wB,GAAe,OAGlC,IARY,CAShB,kBAAC,GAAD,CACE1pC,IAAI,eACJ2qE,eAAgBW,EAChBb,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EAAE,sCACnBy4D,UAAWn5D,EAAKU,EAAE,sOAU1BuiB,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAM4Y,QAAS,kBAAM8wB,GAAe,MACxD,OAGPD,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,eACfm4D,aAAcmB,EACdlB,eAAgBoB,EAChBhiC,YAAaA,EACb0gC,YAAawB,EACbr6D,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,wBAGjBqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEP64D,EACGr6D,EAAKU,EAAE,6BACPV,EAAKU,EAAE,mDACX,kBAAC,GAAD,CAAaqB,MAAOA,SCxOfZ,6BAXf,YAA+B,IAAT9K,EAAQ,EAARA,KACpB,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO5H,IAAI,OAAOmW,KAAK,qBACrB,kBAAC,GAAD,CAAgBvO,KAAMA,SCoIf8K,6BArHf,YAAwC,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACd/9B,EAAW6C,cACX4vB,EAAQmC,YAAc,cAC5B,EAA+D/tB,GAC7DzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACayV,GAASgmC,WAAWvL,EAAMzpC,OAAO4F,IAD9C,uBACFF,EADE,EACFA,KACRqvC,EAAcrvC,GAFJ,kBAGHA,GAHG,2CAIT,CAAC+jC,EAAMzpC,OAAO4F,GAAImvC,KALfjhC,EAAR,EAAQA,MAAOqK,EAAf,EAAeA,UAAmB/V,EAAlC,EAA0B4V,OAAuBquD,EAAjD,EAAwC/tD,QAQxChD,qBAAU,WACR+wD,MACC,CAACA,EAAWr1D,IAEf,IA2CW,EA3CLs9B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,uBAGZ6zB,KAAK,SACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,eACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,mBACJnQ,GAAI,IAIR,GAAIuY,EACF,OACE,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAMR,GAAIZ,EACF,OACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACU,OAAvB,OAALA,QAAK,IAALA,GAAA,UAAAA,EAAO/O,gBAAP,eAAiBiR,SAChB,8BACGjE,EAAKU,EAAE,wBAAqB,IAC7B,kBAAC,IAAD,CAAM6E,GAAG,UAAUvF,EAAKU,EAAE,6BASxC,IAAIg1C,GAAiB,EAMrB,OAJIzwC,EAASC,SAAS86B,SAAS,UAC7B0V,GAAiB,GAIjB,kBAAC7pC,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUa,KAAK,aAAa79B,GAAG,qBAAqB0R,OAAK,IACxD5gB,GAAQ,CACP,kBAAC,IAAD,CAAOuO,KAAK,qBAAqBnW,IAAI,WACnC,kBAAC,GAAD,CAAY4H,KAAMA,KAEpB,kBAAC,IAAD,CAAOuO,KAAK,kBAAkBnW,IAAI,QAChC,kBAAC,GAAD,CAAU4H,KAAMA,KAElB,kBAAC,IAAD,CAAO5H,IAAI,QAAQmW,KAAK,oBACtB,kBAAC,GAAD,CAAWvO,KAAMA,KAEnB,kBAAC,IAAD,CAAOuO,KAAK,oBAAoBnW,IAAI,UAClC,kBAAC,GAAD,CAAY4H,KAAMA,KAEpB,kBAAC,IAAD,CAAOuO,KAAK,4BAA4BnW,IAAI,kBAC1C,kBAAC,GAAD,CAASlB,cAAe,CAAEgtE,WAAYlkE,EAAKxC,QAG/C,kBAAC,IAAD,CAAOpF,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAKmyB,EAAM1zB,IAAX,aACLhE,EAAKU,EAAE,mCCvETS,6BAhDf,YAA0B,IAATnB,EAAQ,EAARA,KACf,EAAgDiD,mBAAS,CACvD,SAAUjD,EAAKU,EAAE,cACjB,aAAcV,EAAKU,EAAE,0BAFvB,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAAAhT,GAAS,IAAD,EACDA,GAGLmuC,GAAmB,GACjB,SAAUxkC,EAAKU,EAAE,cACjB,aAAcV,EAAKU,EAAE,yBAFJ,gCAGNrK,EAAKxC,IAHC,UAGSwC,EAAK4D,OAHd,gCAIN5D,EAAKxC,GAJC,SAIWmM,EAAKU,EAAE,sBAJlB,gCAKNrK,EAAKxC,GALC,YAKcmM,EAAKU,EAAE,iBALrB,gCAMNrK,EAAKxC,GANC,UAMYmM,EAAKU,EAAE,eANnB,gCAONrK,EAAKxC,GAPC,WAOamM,EAAKU,EAAE,gBAPpB,gCAQNrK,EAAKxC,GARC,mBAQqBmM,EAAKU,EAAE,wBAR5B,MAWrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CAAc8jC,WAAW,OAAOP,iBAAkBA,IAClD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,cACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,cACV,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CAAMg5B,cAAeyB,EAAuBz6B,GAAIA,GAAM,SAI5D,kBAAC,IAAD,CAAOpF,KAAK,UACV,kBAAC,GAAD,Y,yDCxCV,SAAS41D,GAAT,GAA4C,IAATx6D,EAAQ,EAARA,KACjC,EAAoCqtB,aAAS,QAAtCotC,EAAP,oBACA,OACE,oCACE,kBAAC,GAAD,CACExgE,KAAK,OACLpG,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,qBACdvL,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVzK,WAA6C,UAAjCqzD,EAAuB5rE,QAErC,kBAAC,GAAD,CACEgF,GAAG,yCACHkG,MAAOiG,EAAKU,EAAE,gCACdzG,KAAK,0BACL9E,KAAK,SACLyU,IAAI,IACJwjB,SAAUqN,GAAY,EAAG,WAAYz6B,GACrConB,QAASpnB,EAAKU,EACZ,wHAIJ,kBAAC,GAAD,CACE7M,GAAG,4CACHkG,MAAOiG,EAAKU,EAAE,mCACdzG,KAAK,6BACL9E,KAAK,SACLyU,IAAI,IACJoB,IAAI,MACJoc,QAASpnB,EAAKU,EACZ,8HAGF0sB,SAAUqN,GAAY,EAAG,IAAKz6B,MAMtC,SAAS06D,GAAT,GAMI,IAAD,IALDC,qBAKC,MALe,GAKf,EAJDjrD,EAIC,EAJDA,SACA0rB,EAGC,EAHDA,SACA6E,EAEC,EAFDA,YACG7V,EACF,kBACK3a,EAAgB,CACpBxV,KAAM0gE,EAAc1gE,MAAQ,GAC5B2gE,wBAAyBD,EAAcC,yBAA2B,EAClEC,2BAA4BF,EAAcE,4BAA8B,GAE1E,OACE,kBAAC,KAAD,CAAQprD,cAAeA,EAAeC,SAAU,SAAAzX,GAAM,OAAIyX,EAASzX,MAChE,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACspC,GAA4BpwC,GAC5B6V,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,oBAgB/B2rD,GAAkBx5D,aAAe,CAC/By5D,cAAe,GACf16B,YAAa,MAGA9+B,4BAAWu5D,ICxDXI,OAhCf,WACE,IAAM/1D,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KAEM7xB,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,+EAEgB0V,GAAkBvK,OAAOsF,GAFzC,gBAEHjF,EAFG,EAETW,KACRoR,EAAQqI,KAAR,2BAAiCpa,EAASa,GAA1C,aAHiB,gDAKjB+sC,EAAe,EAAD,IALG,yDAAH,sDAalB,OACE,kBAAC/0B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+M,SAAUX,EACVkxB,YAAaA,EACb7E,SAXW,WACnBr2B,EAAQqI,KAAR,2B,gCCIE0pB,GAAez1B,YAAO05D,IAAV,yFAAG15D,CAAH,yBAIZyqB,GAAQzqB,YAAO25D,MAAV,kFAAG35D,CAAH,sBAIL45D,GAAY55D,IAAO65D,KAAV,sFAAG75D,CAAH,sDAQTg4B,GAAiBh4B,YAAOi4B,MAAV,2FAAGj4B,CAAH,+EAOd85D,GAAc95D,IAAO65D,KAAV,wFAAG75D,CAAH,gDAIjB,SAAS+5D,GAAT,GAMI,IALFT,EAKC,EALDA,cACAjhC,EAIC,EAJDA,UACAD,EAGC,EAHDA,WACA5yB,EAEC,EAFDA,SACA7G,EACC,EADDA,KAEM80B,EAAO,uBAAmB6lC,EAAc9mE,IAExCwnE,EAAmB,SAAApnC,GACvB,OAAOA,EAAKqnC,kBAoBd,IAA4BrnC,EAsB5B,OACE,kBAACgD,GAAA,EAAD,CACExoC,IAAKksE,EAAc9mE,GACnB4O,kBAAiBqyB,EACjBjhC,GAAE,UAAK8mE,EAAc9mE,GAAnB,MAEF,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,iCAA4B8mE,EAAc9mE,IAC5CirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAGnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CACE3oC,IAAI,OACJ+T,aAAYxC,EAAKU,EAAE,6BAEnB,0BAAM7M,GAAIihC,GACR,kBAAC,IAAD,CAAMvvB,GAAE,UAAKm0B,IACX,2BAAIihC,EAAc1gE,SA5CNg6B,EA+CK0mC,EA9C3B1mC,EAAKsnC,YAEL,0BACE,kBAAC,KAAD,CAAO/4D,aAAYxC,EAAKU,EAAE,2BACvBV,EAAKU,EAAE,mBAKZuzB,EAAKunC,cAEL,0BACE,kBAAC,KAAD,CAAOh5D,aAAYxC,EAAKU,EAAE,6BACvBV,EAAKU,EAAE,qBAKT,OA+BC,kBAAC,GAAD,CACEjS,IAAI,OACJ+T,aAAYxC,EAAKU,EAAE,6BAEnB,0BAA6BV,EAAKU,EAAE,sBACpC,0BAAM7M,GAAIihC,GACPumC,EAAiBV,GACd36D,EAAKU,EAAE,wBACPV,EAAKU,EAAE,yBAGf,kBAAC,GAAD,CACEjS,IAAI,uBACJ+T,aAAYxC,EAAKU,EAAE,wBACnB2lB,MAAO,GAEP,kBAAC40C,GAAD,KACE,2BAAIj7D,EAAKU,EAAE,sBACX,kBAAC,GAAD,CAAOqrB,QAAM,GAAE4uC,EAAcc,eAE/B,kBAACR,GAAD,KACE,2BAAIj7D,EAAKU,EAAE,oBACX,kBAAC,GAAD,CAAOqrB,QAAM,GAAE4uC,EAAce,aAG7Bf,EAAcW,iBAKZ,KAJF,kBAACL,GAAD,KACE,2BAAIj7D,EAAKU,EAAE,mBACX,kBAAC,GAAD,CAAOqrB,QAAM,GAAE4uC,EAAcgB,aAKnC,kBAAC,GAAD,CACEltE,IAAI,WACJ+T,aAAYxC,EAAKU,EAAE,sCAtG/B,SAAsBuzB,GACpB,OAAKonC,EAAiBpnC,GAaf,KAZDA,EAAK2nC,SAEL,kBAACC,GAAA,EAAD,CACEhtE,MAAO8a,KAAKgmD,MAAM,IAAM17B,EAAK6nC,4BAC7BC,gBAAiBC,KAAwB77D,IACzC2B,KAAMm6D,KAAaC,GACnB36D,MAAOvB,EAAKU,EAAE,wBAIb,kBAACy6D,GAAD,SAAen7D,EAAKU,EAAE,qBA4FpBy7D,CAAaxB,OAIpB,kBAAC,GAAD,CACEn4D,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEH6lC,EAAc/nD,eAAeb,kBAAkB6nB,MAC9C,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,uCAAW4F,SAAS,OAC3C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,uCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GACE81D,EAAiBV,GAAjB,2CACwCA,EAAc9mE,GADtD,oCAEwB8mE,EAAc9mE,GAFtC,UAKF,kBAAC,KAAD,WAShBunE,GAAsB93D,UAAY,CAChCq3D,cAAexmD,GAActC,WAC7B6nB,UAAWhoB,UAAOG,WAClB4nB,WAAYxnB,QAAKJ,WACjBhL,SAAU/U,QAAK+f,YAGF1Q,4BAAWi6D,I,8YC3LpBvlC,GAAYxoC,EAAY,iBAAkB,CAC9CG,KAAM,EACNC,UAAW,KAoOE0T,I,GAAAA,yBA/Mf,YAAsC,IAATnB,EAAQ,EAARA,KACrBiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAWI/tB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAGgCvX,QAAQmU,IAAI,CACpD7M,GAAkBxI,KAAKzG,GACvBiP,GAAkB44B,gBALV,0CAGH9iC,EAHG,KAGOokD,EAHP,uBAQH,CACLud,eAAgB3hE,EAASW,KAAKsB,QAC9BmnE,oBAAqBppE,EAASW,KAAKoiB,MACnCjL,QAASssC,EAAgBzjD,KAAKmX,QAC9B2O,wBACiB,OAAf29B,QAAe,IAAfA,GAAA,UAAAA,EAAiBzjD,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAA0nD,EAAgBzjD,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAI2oD,EAAgBzjD,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAjB/C,2CAmBT,CAACjxB,IACJ,CACE0vD,eAAgB,GAChByH,oBAAqB,EACrBtxD,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCXoL,EADT,EACE7iB,MACAqK,EAFF,EAEEA,UACSwoD,EAHX,EAGEroD,QAHF,IAIEN,OACE0oD,EALJ,EAKIA,eACAyH,EANJ,EAMIA,oBACAtxD,EAPJ,EAOIA,QACA2O,EARJ,EAQIA,sBACAD,EATJ,EASIA,eAgCJjQ,qBAAU,WACRqrD,MACC,CAACA,IAEJ,MAA+D97B,GAC7D67B,GADM37B,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAIzCojC,EAvER,WAA2C,IAAb1xE,EAAY,uDAAJ,GACpC,OAAOA,EAAMyD,KAAI,SAAA6lC,GACf,IAAMqoC,EAAU,2BACXroC,GADW,IAEdrhB,eAAe,2BACVqhB,EAAKrhB,gBADI,IAEZb,kBAAkB,eACbkiB,EAAKrhB,eAAeb,uBAO7B,MAHwB,UAApBuqD,EAAWriE,OACbqiE,EAAW1pD,eAAeb,kBAAkBje,QAAS,GAEhDwoE,KAyDgBC,CAAqBvjC,GAE9C,EAKInsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYqJ,GAAkB88B,QAAQnmC,SAEpD,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY4nD,IAbH36B,EADb,EACE7tB,UACAiB,EAFF,EAEEA,cACamvD,EAHf,EAGEtvD,YACAI,EAJF,EAIEA,mBAcI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACbg1E,IADa,OAEnBvjC,EAAY,IAFO,2CAAH,qDAKZmB,EAAStvB,GAAWA,EAAQuvB,KAElC,SAASpC,EAAahE,GACpB,OAAQA,EAAKrhB,eAAeb,kBAAkBje,OAGhD,IAAMqxB,EAAqBnlB,EAAKU,EAAE,wBAE9B+7D,EAAqB,GAEzB,GAAIJ,EAAiBvtE,MAAK,SAAAmlC,GAAI,MAAkB,UAAdA,EAAKh6B,QAAmB,CACxD,IAAMq+B,EAAsB+jC,EACzBzsE,OAAOqoC,GACProC,QAAO,SAAAqkC,GAAI,MAAkB,UAAdA,EAAKh6B,QACpB7L,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QACjBhK,KAAK,MAEJqoC,GACE+jC,EAAiBvtE,KAAKmpC,KACxBwkC,EAAqBz8D,EAAKU,EACxB,gGAAyCykB,qBAAuBmT,0BAKlEmkC,EAAmB7tE,OAAS,IAC9B6tE,EAAqBA,EAAmB9qE,OAAO,OAEjD8qE,EAAqBA,EAAmB9qE,OACtCqO,EAAKU,EAAE,qDAIX,IAAMg8D,EAAoB18D,EAAKU,EAAE,4BAC3Bi8D,EAAmB38D,EAAKU,EAAE,2BAE1B0xD,EACJ,kBAAC,GAAD,CACE3jE,IAAI,MACJuY,cAAe,CACb,kBAACC,GAAA,EAAD,CACE1B,GAAG,uCACHvE,UAAW43B,IACXnqC,IAAKiuE,EACLl6D,aAAYk6D,GAEXA,GAEH,kBAACz1D,GAAA,EAAD,CACE1B,GAAG,uBACHvE,UAAW43B,IACXnqC,IAAKkuE,EACLn6D,aAAYm6D,GAEXA,MAYT,OACE,oCACE,kBAAC9wD,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6tB,EAChCtvC,MAAOgqE,EACPj0C,UAAW07C,EACXj3C,mBAAoBA,EACpBrY,SAAU+oB,GACVyB,WAAY4B,EACZjU,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOk7B,GAAkB,KAEjD7nD,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EAAS,CAACg4B,GAAa,IADX,CAEhB,kBAAC,GAAD,CACE3jE,IAAI,SACJspC,SAAUsK,EACVvK,cAAeukC,EACfl3C,mBAAoBnlB,EAAKU,EAAE,wBAC3BkxB,aAAc6qC,UAKtBllC,WAAY,SAAAojC,GAAa,OACvB,kBAAC,GAAD,CACElsE,IAAKksE,EAAc9mE,GACnBhF,MAAO8rE,EAAc1gE,KACrB0gE,cAAeA,EACfjhC,WA9COzF,EA8CiB0mC,EA7C7B1mC,EAAKqnC,iBAAL,UACA5jC,EAAM1zB,IADN,4BAC6BiwB,EAAKpgC,GADlC,sBAEA6jC,EAAM1zB,IAFN,YAEaiwB,EAAKpgC,GAFlB,aA8CKgT,SAAU,kBAAMqyB,EAAayhC,IAC7BlhC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAO8mE,EAAc9mE,QAhDnD,IAAAogC,GAmDXhR,mBAAoBmX,GAAUg4B,MAIpC,kBAAC,GAAD,CACE5vD,aAAYxC,EAAKU,EAAE,uBACnBZ,OAAQuN,EACRtN,QAASuN,EACT/L,MAAOvB,EAAKU,EAAE,cACdc,QAAQ,SAEPxB,EAAKU,EAAE,sDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCjOtB8tD,GAAc95D,IAAO65D,KAAV,6EA6IF/5D,6BAzIf,YAAwD,IAkB1B8yB,EAlBE0mC,EAAuB,EAAvBA,cAAe36D,EAAQ,EAARA,KACrCnM,EAAa8mE,EAAb9mE,GAAIoG,EAAS0gE,EAAT1gE,KAEN8K,EAAU8C,cAEhB,EAIIiE,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ0V,GAAkB88B,QAAQnmC,GADtB,OAEVkR,EAAQqI,KAAR,oBAFU,2CAGT,CAACvZ,EAAIkR,KAPC63D,EADX,EACErwD,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aA8Bf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,qBACd7R,OAjCoBolC,EAiCO0mC,EAhC7B1mC,EAAKsnC,YAEL,kBAAC7rC,GAAA,EAAD,CAAOC,WAAS,GACd,kBAACC,GAAA,EAAD,KAAYqE,EAAKh6B,MACjB,kBAAC21B,GAAA,EAAD,KACE,kBAAC,KAAD,CAAOptB,aAAYxC,EAAKU,EAAE,2BACvBV,EAAKU,EAAE,oBAMduzB,EAAKunC,cAEL,kBAAC9rC,GAAA,EAAD,CAAOC,WAAS,GACd,kBAACC,GAAA,EAAD,KAAYqE,EAAKh6B,MACjB,kBAAC21B,GAAA,EAAD,KACE,kBAAC,KAAD,CAAOptB,aAAYxC,EAAKU,EAAE,6BACvBV,EAAKU,EAAE,sBAMX,oCAAGuzB,EAAKh6B,OASTgxB,OAAO,+BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MACE8rE,EAAcW,iBACVt7D,EAAKU,EAAE,wBACPV,EAAKU,EAAE,uBAEbuqB,OAAO,wBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gCACduqB,OAAO,yCACP1kB,QAASo0D,EAAcC,0BAEzB,kBAAC,GAAD,CACE7gE,MAAOiG,EAAKU,EAAE,mCACduqB,OAAO,4CACP1kB,QAAO,UAAKo0D,EAAcE,2BAAnB,QAERF,EAAciB,SACb,kBAAC,GAAD,CACE7hE,MAAOiG,EAAKU,EAAE,sBACd6F,QAAO,UAAKoD,KAAKgmD,MACf,IAAMgL,EAAcmB,4BADf,MAGP7wC,OAAO,iCAGT,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,sBACd7R,MAAO,kBAAC,GAAD,KAAcmR,EAAKU,EAAE,qBAC5BuqB,OAAO,iCAIX,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAMwyC,EAAcnoD,QACpBmZ,KAAMgvC,EAAc/nD,eAAegC,aAErC,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMwyC,EAAcznD,SACpByY,KAAMgvC,EAAc/nD,eAAeiC,eAIvC,kBAAC,GAAD,KACG8lD,EAAc/nD,eAAeb,mBAC5B4oD,EAAc/nD,eAAeb,kBAAkB6nB,MAC7C,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,2BAAsB1R,EAAtB,UAEDmM,EAAKU,EAAE,cAGJ,UAATzG,GACC0gE,EAAc/nD,eAAeb,mBAC7B4oD,EAAc/nD,eAAeb,kBAAkBje,QAC7C,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,8BACnB4gC,UAAWs7B,EACXx1D,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,cACdc,QAAQ,cCpHHq7D,OA9Bf,YAA+C,IAAlBlC,EAAiB,EAAjBA,cACrB51D,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KACM8W,EAAU,2BAAuBijB,EAAc9mE,GAArC,YAEVkb,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEX0V,GAAkBmkC,OAAOs5B,EAAc9mE,GAAIoE,GAFhC,OAGjB8M,EAAQqI,KAAKsqC,GAHI,+CAKjB9W,EAAe,EAAD,IALG,wDAAH,sDAalB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+5B,cAAeA,EACfjrD,SAAUX,EACVkxB,YAAaA,EACb7E,SAVe,WACnBr2B,EAAQqI,KAAKsqC,QC0DFv2C,6BAtEf,YAMI,IALF0O,EAKC,EALDA,UACAitD,EAIC,EAJDA,eACAC,EAGC,EAHDA,SACA15D,EAEC,EAFDA,SACArD,EACC,EADDA,KAEA,EAAoBX,KAAZ2K,UAAR,MAAa,GAAb,EACA,EAAkC/G,mBAAS85D,EAASpmD,SAApD,mBAAOq9C,EAAP,KAAkBC,EAAlB,KACA,EAAkChxD,oBAAS,GAA3C,mBAAOyJ,EAAP,KAAkBC,EAAlB,KAEA,EAA8Db,GAC5DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ2V,GAAakkC,OAAO07B,EAASlpE,GAAI,CAAE8iB,SAAUq9C,IADzC,uBAEJ8I,IAFI,iCAGF9I,GAHE,2CAIT,CAAC+I,EAAU/I,EAAW8I,IACzBC,EAASpmD,SANH1K,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,UAAWrK,EAA3B,EAA2BA,MAAgBi7D,EAA3C,EAAkCzwD,QAwBlC,OAfAhD,qBAAU,WACJ0C,IAAW+nD,IACbC,EAAahoD,GACT5I,GACFA,EAAS4I,MAGZ,CAACA,EAAQ+nD,EAAW3wD,IAEvBkG,qBAAU,WACJxH,GACF4K,GAAa,KAEd,CAAC5K,IAGF,oCACE,kBAAC,KAAD,CACEwE,QAASvG,EAAKU,EACZ,oGAEF4F,SAAS,OAET,kBAAC41C,GAAA,EAAD,CACErsC,UAAWA,EACX8T,IAAI,wBACJ9vB,GAAE,eAAUkpE,EAASlpE,GAAnB,WACFkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAWiyC,EACX5sD,WAAYgF,KAAa,OAACpC,QAAD,IAACA,OAAD,EAACA,EAAIsI,cAC9BuJ,SAAUmhD,EACVx6D,aAAYxC,EAAKU,EAAE,2BAGtBgM,GAAa3K,IAAUqK,GACtB,kBAAC,GAAD,CACE5K,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAQiC,IAAUqK,EAClBrM,QAAS,kBAAM4M,GAAa,KAE3B3M,EAAKU,EAAE,mCACR,kBAAC,GAAD,CAAaqB,MAAOA,SCnDxBo5D,GAAc95D,IAAO65D,KAAV,mFAAG75D,CAAH,gDAIXy1B,GAAez1B,YAAO05D,IAAV,oFAAG15D,CAAH,yBAIZyqB,GAAQzqB,YAAO25D,MAAV,6EAAG35D,CAAH,sBAIL45D,GAAY55D,IAAO65D,KAAV,iFAAG75D,CAAH,sDAQf,SAAS47D,GAAT,GAMI,IAGoBhpC,EARtB8oC,EAKC,EALDA,SACAtjC,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACAi2D,EAEC,EAFDA,eACA98D,EACC,EADDA,KAEM80B,EAAO,uBAAmBioC,EAASlpE,IAgBzC,OACE,kBAACojC,GAAA,EAAD,CACEx0B,kBAAiBqyB,EACjBjhC,GAAE,UAAKkpE,EAASlpE,IAChBpF,IAAKsuE,EAASlpE,IAEd,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEl3B,kBAAiBqyB,EACjBhW,QAAS2a,EACT5lC,GAAE,oBAAekpE,EAASlpE,IAC1BgoB,SAAUhV,IAGZ,kBAACswB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,4BAC1C,2BAAIq8D,EAASvD,WAEf,kBAAC,GAAD,CAAc/qE,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBAC1C,0BAA6BV,EAAKU,EAAE,sBACpC,0BAAM7M,GAAIihC,GACPioC,EAASG,kBACNl9D,EAAKU,EAAE,aACPV,EAAKU,EAAE,iBAGf,kBAAC,GAAD,CACEjS,IAAI,uBACJ+T,aAAYxC,EAAKU,EAAE,wBACnB2lB,MAAO,GAEP,kBAAC,GAAD,KACE,2BAAIrmB,EAAKU,EAAE,sBACX,kBAAC,GAAD,CAAOqrB,QAAM,GAAEgxC,EAAStB,eAE1B,kBAAC,GAAD,KACE,2BAAIz7D,EAAKU,EAAE,oBACX,kBAAC,GAAD,CAAOqrB,QAAM,GAAEgxC,EAASrB,cAG5B,kBAAC,GAAD,CACEjtE,IAAI,WACJ+T,aAAYxC,EAAKU,EAAE,uCAzDTuzB,EA2DI8oC,EA1DpB9oC,EAAKtd,QAEL,kBAACklD,GAAA,EAAD,CACEhtE,MAAO8a,KAAKgmD,MAAM,IAAM17B,EAAK6nC,4BAC7BC,gBAAiBC,KAAwB77D,IACzC2B,KAAMm6D,KAAaC,GACnB36D,MAAOvB,EAAKU,EAAE,wBAIb,kBAAC,GAAD,KAAcV,EAAKU,EAAE,0BAoDxB,kBAAC24B,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEJ,sBAEEgoC,eAAgBA,EAChBC,SAAUA,OAOtBE,GAAiB35D,UAAY,CAC3By5D,SAAU3oD,GAASvC,WACnB4nB,WAAYxnB,QAAKJ,WACjBhL,SAAU/U,QAAK+f,YAGF1Q,4BAAW87D,I,uQC9GpBpnC,GAAYxoC,EAAY,WAAY,CACxCG,KAAM,EACNC,UAAW,GACXC,SAAU,aAwNGyT,6BArNf,YAAiC,IAATnB,EAAQ,EAARA,KACtB,EAAsCiD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACMlzB,EAAW6C,cACLxQ,EAAoB8pC,cAAxBvtC,GAER,EAWIiY,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpD7M,GAAkB9F,cAAcE,EAAiBrJ,GACjDiP,GAAkB/F,oBAAoBG,KAJ9B,0CAEHtE,EAFG,KAEOokD,EAFP,uBAMH,CACLukB,UAAW3oE,EAASW,KAAKsB,QACzB8gB,MAAO/iB,EAASW,KAAKoiB,MACrBjL,QAASssC,EAAgBzjD,KAAKmX,QAC9B2O,wBACiB,OAAf29B,QAAe,IAAfA,GAAA,UAAAA,EAAiBzjD,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAA0nD,EAAgBzjD,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAI2oD,EAAgBzjD,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,EAASkI,OAAQ7V,IACrB,CACEqkE,UAAW,GACX5lD,MAAO,EACPjL,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACE0vD,EAFJ,EAEIA,UACA5lD,EAHJ,EAGIA,MACAjL,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACS0wD,EAVX,EAUEvwD,QA6BF,EAA+DusB,GAC7D6iC,GADM3iC,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C1vB,qBAAU,WACRuzD,MACC,CAACA,IAEJ,MAIIjwD,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAA2uE,GAAQ,OACnB7/D,GAAkBhG,qBAAqBI,EAAiBylE,EAASlpE,UAGpE,CAACyD,EAAiB0hC,IACrB,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY8vD,IAdHlD,EADb,EACExtD,UACa+wD,EAFf,EAEEjwD,YACe4sD,EAHjB,EAGEzsD,cAgBF,EAA4DvB,GAC1DzC,sBAAW,uCACT,WAAM+zD,GAAN,SAAA51E,EAAA,sEACQoO,QAAQmU,IACZqzD,EAAqBhvE,KAAI,SAAA2uE,GAAQ,OAC/B7/D,GAAkBjG,kBAAkBK,EAAiBylE,EAASlpE,QAHpE,OAMEipE,IANF,2CADS,sDAST,CAACxlE,EAAiBwlE,KAVL1C,EAAjB,EAAQ7tD,QAAiC8tD,EAAzC,EAAkCt4D,MAc5Bg4D,EAAkB,uCAAG,sBAAAvyE,EAAA,sEACnB21E,IADmB,OAEzBlkC,EAAY,IAFa,2CAAH,qDAKxB,EAAgCxsB,GAC9B4tD,GAAkBP,GADZ/3D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITwtB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAErDuyD,EAA4Bh0D,uBAChC,SAAApb,GACE,OAAOkP,GAAazI,KAClBvD,EAAYlD,EAAQ,CAAEqvE,wBAAyBhmE,OAGnD,CAACA,IAMH,OACE,oCACE,kBAAC,GAAD,CACEstB,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCjvE,MAAOgxE,EACPj7C,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,kBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZjU,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BuL,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,WACLyoB,WAAW,IAGf0f,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,aAGTy0B,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOkiC,GAAa,KAE5C7uD,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,YACJ4Y,QAAS,kBAAM8wB,GAAe,IAC9BO,aAAc14B,EAAKU,EAAE,qBAGzB,IATY,CAUhB,kBAAC,GAAD,CACE24D,0BAA0B,EAC1B5qE,IAAI,eACJ2qE,eAAgBW,EAChBb,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EACf,uDAINuiB,mBACEmX,EACE,kBAAC,GAAD,CACE3rC,IAAI,MACJ4Y,QAAS,kBAAM8wB,GAAe,MAE9B,SAIVZ,WAAY,SAAAwlC,GAAQ,OAClB,kBAAC,GAAD,CACEtuE,IAAKsuE,EAASlpE,GACdhF,MAAOkuE,EAASvD,SAChBuD,SAAUA,EACVl2D,SAAU,kBAAMqyB,EAAa6jC,IAC7BtjC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOkpE,EAASlpE,MACrDipE,eAAgBA,OAIrB5kC,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,kBACfm4D,aAAcwE,EACdnlC,YAAaA,EACb0gC,YAAawB,EACbr6D,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,yBACdo4D,eAtFqB,kBAC3B57D,GAAkB/F,oBAAoBG,IAsFhC2kC,WAAW,aAGdl6B,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEP64D,EACGr6D,EAAKU,EAAE,6BACPV,EAAKU,EAAE,sDACX,kBAAC,GAAD,CAAaqB,MAAOA,SC/FfZ,6BArHf,YAAiD,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACrBnvC,EAAOutC,cAAPvtC,GACAqR,EAAa4C,cAAb5C,SAER,EAKI4G,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa0V,GAAkB+lC,WAAWpvC,GAD1C,uBACFF,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,CAACE,KARJuY,EADF,EACEA,UACOwY,EAFT,EAEE7iB,MACS6yD,EAHX,EAGEroD,QACQouD,EAJV,EAIE1uD,OAQF1C,qBAAU,WACRqrD,MACC,CAACA,EAAqB1vD,IAEzBqE,qBAAU,WACJoxD,GACF33B,EAAc23B,KAEf,CAACA,EAAe33B,IAEnB,IA4BgC,EA5B1BT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,iCAGZ6zB,KAAM,mBACN1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,oBAAD,OAAsB1gC,EAAtB,YACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,kBACb6zB,KAAK,oBAAD,OAAsB1gC,EAAtB,cACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,oBAAD,OAAsB1gC,EAAtB,SACJA,GAAI,IAIR,IAAKuY,GAAawY,EAChB,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACgB,OAAlC,UAAAA,EAAa5xB,gBAAb,eAAuBiR,SACtB,8BACGjE,EAAKU,EAAE,kCACP,GACD,kBAAC,IAAD,CAAM6E,GAAG,oBACNvF,EAAKU,EAAE,sCAUxB,IAAIyiC,EAAa,kBAAC,GAAD,CAAYZ,UAAWA,IAKxC,OAJIr9B,EAAS86B,SAAS,UACpBmD,EAAa,MAIb,kBAACt3B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACGwgC,EACA/2B,GAAa,kBAAC,GAAD,OACZA,GAAauuD,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEv3B,KAAK,uBACL79B,GAAG,+BACH0R,OAAK,IAEN0jD,GACC,oCACE,kBAAC,IAAD,CAAO/1D,KAAK,6BACV,kBAAC,GAAD,CAAmB+1D,cAAeA,KAEpC,kBAAC,IAAD,CAAO/1D,KAAK,gCACV,kBAAC,GAAD,CAAsB+1D,cAAeA,KAEvC,kBAAC,IAAD,CAAO/1D,KAAK,kCACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,6BACV,kBAAC,GAAD,CACE+hD,gBAAc,EACdp5D,cAAe,CAAEqoB,eAAgB+kD,EAAc9mE,c,0EC3GnE,SAAS0pE,GAAT,GAA4D,IAAxBv9D,EAAuB,EAAvBA,KAAM26D,EAAiB,EAAjBA,cAChCxqD,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKA,EAAwBrwC,aAAS,YAA1BswC,EAAP,oBAEMC,EAAqBv0D,uBACzB,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACElW,KAAK,OACLpG,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,qBACdvL,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACE9X,MAAOiG,EAAKU,EAAE,mBACd+0D,mBAAmB,aACnB7nC,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAU+hD,EACV/uE,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRgP,QAASpnB,EAAKU,EACZ,gIAEF+9B,eAAc,OAACk8B,QAAD,IAACA,OAAD,EAACA,EAAe9mE,MAGhC,kBAAC65B,GAAA,EAAD,CACEC,QAAQ,mCACR5zB,MAAOiG,EAAKU,EAAE,iBAEd,kBAAC0wB,GAAD,KACE,kBAAC,GAAD,CACEn3B,KAAK,WACLuI,aAAYxC,EAAKU,EAAE,oCACnB3G,MAAOiG,EAAKU,EAAE,oCACd7M,GAAG,kDAKR8pE,EAAc9uE,OACb,kBAACwiC,GAAD,KACE,kBAACF,GAAD,KACE,kBAAC,GAAD,CACE/J,QAASpnB,EAAKU,EACZ,8EAEF7M,GAAG,kBACHoG,KAAK,oBACLF,MAAOiG,EAAKU,EAAE,6BAS5B,SAASm9D,GAAT,GAOI,IAAD,EANDC,EAMC,EANDA,eACAnD,EAKC,EALDA,cACAjrD,EAIC,EAJDA,SACA0rB,EAGC,EAHDA,SACA6E,EAEC,EAFDA,YACG7V,EACF,kBACK2zC,EAAoBr7D,QAAO,OAACi4D,QAAD,IAACA,OAAD,EAACA,EAAeqD,qBAAsB,EAEjEvuD,EAAgB,CACpBxV,MAAmB,OAAb0gE,QAAa,IAAbA,OAAA,EAAAA,EAAe1gE,OAAQ,GAC7Bwa,WAAU,OAAEkmD,QAAF,IAAEA,GAAF,UAAEA,EAAe/nD,sBAAjB,aAAE,EAA+B6B,WAC3CupD,kBAAmBD,EAAiB,OAChCpD,QADgC,IAChCA,OADgC,EAChCA,EAAeqD,kBACfrvC,GAAW/hC,KAAKC,UAAUixE,IAC9BG,SAAUF,GAGZ,OACE,kBAAC,KAAD,CACEtuD,cAAeA,EACfC,SAAU,SAAAzX,GACRyX,EAASzX,MAGV,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACqsC,GAAD,eAA0B5C,cAAeA,GAAmBvwC,IAC3D6V,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,oBAiB/B8uD,GAAmB38D,aAAe,CAChCy5D,cAAe,GACf16B,YAAa,KACb69B,eAAgB,IAGH38D,4BAAW08D,IC/CXK,OA5Ff,WACE,IAAMn5D,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KAYM7xB,EAAY,uCAAG,WAAM9W,GAAN,mBAAAzQ,EAAA,+EAEgB0V,GAAkBvK,OAAO,CACxDsH,KAAMhC,EAAOgC,KACbwa,WAAU,OAAExc,QAAF,IAAEA,GAAF,UAAEA,EAAQwc,kBAAV,aAAE,EAAoB5gB,GAChCmqE,kBAAmB/lE,EAAOgmE,UAfRpvE,EAgBEoJ,EAAO+lE,kBAf3B9uC,GAAargC,KACfA,EAAQ8/B,GAAW9/B,IAEjBA,IAAU8/B,GAAW/hC,KAAKC,UAAUixE,IAC/BjvE,EAEF,MAUC,OAPW,gBAEHmE,EAFG,EAETW,KAORoR,EAAQqI,KAAR,2CAAiDpa,EAASa,GAA1D,aATiB,gDAWjB+sC,EAAe,EAAD,IAXG,kCAVG,IAAA/xC,IAUH,oBAAH,sDAmBlB,EAKIid,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa0V,GAAkB44B,cAD/B,uBACFniC,EADE,EACFA,KADE,kBAEHA,EAAKmX,QAAQuvB,KAAK2jC,kBAAkB1lD,SAFjC,2CAGT,IACH,CACEwlD,eAAgB,KAVXK,EADT,EACEp8D,MACAqK,EAFF,EAEEA,UACSgyD,EAHX,EAGE7xD,QACQuxD,EAJV,EAIE7xD,OAeF,OAJA1C,qBAAU,WACR60D,MACC,CAACA,IAEAD,EAEA,kBAACtyD,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOo8D,OAO3B/xD,EAEA,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,SAQR,kBAACkJ,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEm7D,eAAgBA,EAChBpuD,SAAUX,EACVkxB,YAAaA,EACb7E,SAvDW,WACnBr2B,EAAQqI,KAAR,2BC4EWjM,6BApGf,YAAyD,IAAD,EAAvBw5D,EAAuB,EAAvBA,cAAe36D,EAAQ,EAARA,KACtCnM,EAAa8mE,EAAb9mE,GAAIoG,EAAS0gE,EAAT1gE,KAEN8K,EAAU8C,cAEhB,EAIIiE,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ0V,GAAkB88B,QAAQnmC,GADtB,OAEVkR,EAAQqI,KAAR,oBAFU,2CAGT,CAACvZ,EAAIkR,KAPC63D,EADX,EACErwD,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8rE,EAAc1gE,KACrBgxB,OAAO,gCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOmR,EAAKU,EAAE,wBACduqB,OAAO,yBAER0vC,EAAc/nD,eAAe6B,YAC5B,kBAAC,GAAD,CACE1a,MAAOiG,EAAKU,EAAE,mBACd7R,MACE,kBAAC,KAAD,CAAO2S,QAAQ,UAAU68D,MAAM,QAA/B,UACG1D,EAAc/nD,eAAe6B,kBADhC,aACG,EAAyCxa,MAG9CgxB,OAAO,+BAGX,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAMwyC,EAAcnoD,QACpBmZ,KAAMgvC,EAAc/nD,eAAegC,aAErC,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMwyC,EAAcznD,SACpByY,KAAMgvC,EAAc/nD,eAAeiC,cAEpC8lD,EAAcqD,mBACb,kBAAC,GAAD,CACEjkE,MAAOiG,EAAKU,EAAE,0BACd7R,MACEqgC,GAAayrC,EAAcqD,mBACvBrvC,GAAWgsC,EAAcqD,mBACzBrD,EAAcqD,kBAEpB1xC,KAAM,KAKZ,kBAAC,GAAD,KACGquC,EAAc/nD,eAAeb,mBAC5B4oD,EAAc/nD,eAAeb,kBAAkB6nB,MAC7C,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,2CAAsC1R,EAAtC,UAEDmM,EAAKU,EAAE,cAGbi6D,EAAc/nD,eAAeb,mBAC5B4oD,EAAc/nD,eAAeb,kBAAkBje,QAC7C,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,8BACnB4gC,UAAWs7B,EACXx1D,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,cACdc,QAAQ,cCxBH88D,OA7Ef,YAAgD,IAAlB3D,EAAiB,EAAjBA,cACtB51D,EAAU8C,cAChB,EAAsC5E,mBAAS,MAA/C,mBAAOg9B,EAAP,KAAoBW,EAApB,KACM29B,EAAW,2CAAuC5D,EAAc9mE,GAArD,YAEjB,EAKIiY,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa0V,GAAkB44B,cAD/B,uBACFniC,EADE,EACFA,KADE,kBAEHA,EAAKmX,QAAQuvB,KAAK2jC,kBAAkB1lD,SAFjC,2CAGT,IACH,CACEwlD,eAAgB,KAVXK,EADT,EACEp8D,MACAqK,EAFF,EAEEA,UACSgyD,EAHX,EAGE7xD,QACQuxD,EAJV,EAIE7xD,OAWF1C,qBAAU,WACR60D,MACC,CAACA,IAEJ,IAAMrvD,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEX0V,GAAkBmkC,OAAOs5B,EAAc9mE,GAAI,CAC/CoG,KAAMhC,EAAOgC,KACbwa,WAAYxc,EAAOwc,WAAW5gB,GAC9BmqE,kBAAmB/lE,EAAOgmE,SAAWhmE,EAAO+lE,kBAAoB,OALjD,OAOjBj5D,EAAQqI,KAAKmxD,GAPI,+CASjB39B,EAAe,EAAD,IATG,wDAAH,sDAgBlB,OAAIu9B,EAEA,kBAACtyD,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOo8D,OAO3B/xD,EAEA,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,SAQR,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEg4D,cAAeA,EACfmD,eAAgBA,EAChBpuD,SAAUX,EACVkxB,YAAaA,EACb7E,SAnCe,WACnBr2B,EAAQqI,KAAKmxD,QCqFFp9D,6BA7Gf,YAAkD,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACtBnvC,EAAOutC,cAAPvtC,GACAqR,EAAa4C,cAAb5C,SAER,EAKI4G,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa0V,GAAkB+lC,WAAWpvC,GAD1C,uBACFF,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,CAACE,KARJuY,EADF,EACEA,UACOwY,EAFT,EAEE7iB,MACS6yD,EAHX,EAGEroD,QACQouD,EAJV,EAIE1uD,OAQF1C,qBAAU,WACRqrD,MACC,CAACA,EAAqB1vD,IAEzBqE,qBAAU,WACJoxD,GACF33B,EAAc23B,KAEf,CAACA,EAAe33B,IAEnB,IAuBgC,EAvB1BT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,iCAGZ6zB,KAAM,mBACN1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,oCAAD,OAAsC1gC,EAAtC,YACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,oCAAD,OAAsC1gC,EAAtC,SACJA,GAAI,IAIR,IAAKuY,GAAawY,EAChB,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACgB,OAAlC,UAAAA,EAAa5xB,gBAAb,eAAuBiR,SACtB,8BACGjE,EAAKU,EAAE,mCACP,GACD,kBAAC,IAAD,CAAM6E,GAAG,oBACNvF,EAAKU,EAAE,sCAUxB,IAAIyiC,EAAa,kBAAC,GAAD,CAAYZ,UAAWA,IAKxC,OAJIr9B,EAAS86B,SAAS,UACpBmD,EAAa,MAIb,kBAACt3B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACGwgC,EACA/2B,GAAa,kBAAC,GAAD,OACZA,GAAauuD,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEv3B,KAAK,uCACL79B,GAAG,+CACH0R,OAAK,IAEN0jD,GACC,oCACE,kBAAC,IAAD,CAAO/1D,KAAK,6CACV,kBAAC,GAAD,CAAoB+1D,cAAeA,KAErC,kBAAC,IAAD,CAAO/1D,KAAK,gDACV,kBAAC,GAAD,CAAuB+1D,cAAeA,KAExC,kBAAC,IAAD,CAAO/1D,KAAK,6CACV,kBAAC,GAAD,CACE+hD,gBAAc,EACdp5D,cAAe,CAAEqoB,eAAgB+kD,EAAc9mE,cCxCpDsN,6BApEf,YAAmC,IAATnB,EAAQ,EAARA,KACxB,EAAgDiD,mBAAS,CACvD,mBAAoBjD,EAAKU,EAAE,wBAC3B,uBAAwBV,EAAKU,EAAE,8BAC/B,uCAAwCV,EAAKU,EAAE,iCAHjD,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAMMC,EAAwBp7B,uBAC5B,SAAAsrD,GAAmB,IAAD,EACXA,GAGLnwB,GAAmB,GACjB,mBAAoBxkC,EAAKU,EAAE,uBAC3B,uBAAwBV,EAAKU,EAAE,8BAC/B,uCAAwCV,EAAKU,EAC3C,gCAJe,0CAOIi0D,EAAe9gE,GAPnB,YAOkCmM,EAAKU,EAAE,iBAPzC,0CAQIi0D,EAAe9gE,GARnB,cAQoCmM,EAAKU,EACxD,mBATe,0CAWIi0D,EAAe9gE,GAXnB,SAW+BmM,EAAKU,EAAE,sBAXtC,0CAYIi0D,EAAe9gE,GAZnB,SAY+BmM,EAAKU,EAAE,sBAZtC,0CAaIi0D,EAAe9gE,IAbnB,UAa6B8gE,EAAe16D,OAb5C,0DAeoB06D,EAAe9gE,GAfnC,YAekDmM,EAAKU,EACtE,iBAhBe,0DAkBoBi0D,EAAe9gE,GAlBnC,SAkB+CmM,EAAKU,EACnE,cAnBe,0DAqBoBi0D,EAAe9gE,GArBnC,SAqB+CmM,EAAKU,EACnE,sBAtBe,0DAwBoBi0D,EAAe9gE,IAxBnC,UAwB6C8gE,EAAe16D,OAxB5D,MA2BrB,CAAC+F,IAEH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,iBACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,wCACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,wCACV,kBAAC,GAAD,CAAgBo+B,cAAeyB,KAEjC,kBAAC,IAAD,CAAO7/B,KAAK,wBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,wBACV,kBAAC,GAAD,CAAeo+B,cAAeyB,KAEhC,kBAAC,IAAD,CAAO7/B,KAAK,oBACV,kBAAC,GAAD,YChEK,SAAS45D,GACtBC,EACAzmB,EACA0mB,EACA5xD,GAEA,IAAM7H,EAAW6C,cACX/C,EAAU8C,cAChB,EAAsC5E,mBAASw7D,GAA/C,mBAAO1mB,EAAP,KAAoB4mB,EAApB,KACA,EAAoD17D,mBAAS,IAA7D,mBAAO27D,EAAP,KAA2BC,EAA3B,KACMC,EAA8BrW,GAAYmW,EAAoB,KAC9DhX,EAAcF,GAAa,CAC/B3P,YAAa,CAAC,kBACdiJ,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBAGZzS,qBAAU,WACRo1D,EAAeF,KACd,CAACA,IA+GJ,OAxGAl1D,qBACE,WACE,sBAAC,8BAAA/hB,EAAA,yDACMs3E,EAA4BlwE,OADlC,wDAICiwE,EAAsB,IAJvB,SAK8BH,EAC3BI,GANH,OAKOC,EALP,OAQOpuE,EARP,YAQqBonD,GACpBgnB,EAAe1wE,SAAQ,SAAA+kB,GACrB,IAAMpiB,EAAQ+mD,EAAYta,WAAU,SAAAp9B,GAAC,OAAIA,EAAExM,KAAOuf,EAAUvf,OAC7C,IAAX7C,IAGJL,EAAQK,GAASoiB,MAEnBurD,EAAehuE,GAhBhB,0CAAD,KAoBF,CAACmuE,EAA6BJ,IAGhCn1D,qBACE,WACE,IACE,OAACq+C,QAAD,IAACA,OAAD,EAACA,EAAat0B,gBACQ,qBAArBs0B,EAAYzyD,MACgB,gBAA3ByyD,EAAYoX,YAHhB,CAOA,IAAMhuE,EAAQ+mD,EAAYta,WACxB,SAAAyH,GAAC,OAAIA,EAAErxC,KAAO+zD,EAAYt0B,gBAE5B,IAAe,IAAXtiC,EAAJ,CAIA,IAAM/C,EAASH,EAAiBgf,EAAU7H,EAASkI,QAE7CiG,EAAY2kC,EAAY/mD,GACxBiuE,EAAgB,eACjB7rD,GAGL,GAC6B,gBAA3Bw0C,EAAYoX,YACW,YAAvBpX,EAAY3jD,QACW,IAAvB8zC,EAAYnpD,QACZX,EAAOT,KAAO,EAJhB,CAQE,IAAM4D,EAAYjB,EAChB2c,EACAlb,EAAc3D,EAAQ,CACpBT,KAAMS,EAAOT,KAAO,KAGxBuX,EAAQqI,KAAR,UAAgBnI,EAASC,SAAzB,YAAqC9T,SAIvC,GAC6B,gBAA3Bw2D,EAAYoX,YACW,YAAvBpX,EAAY3jD,OAFd,CAQA,IACG,CAAC,UAAW,UAAW,UAAW,oBAAoB1U,SACrDq4D,EAAY3jD,QAId,OArFYpQ,EAoFF+zD,EAAYt0B,kBAnFrBsrC,EAAmBrvE,SAASsE,IAC/BgrE,GAAsB,SAAA1U,GAAG,OAAIA,EAAIx4D,OAAOkC,OAF1B,IAAAA,EAyFe,gBAA3B+zD,EAAYoX,YACW,qBAAvBpX,EAAY3jD,SAEZg7D,EAAiBC,kBAAmB,GAGP,gBAA3BtX,EAAYoX,aACdC,EAAiBE,qBAAsB,GAGzCR,EAAe,GAAD,mBACT5mB,EAAY3sD,MAAM,EAAG4F,IADZ,CAEZiuE,GAFY,YAGTlnB,EAAY3sD,MAAM4F,EAAQ,WA3B7BgnD,QA+BJ,CAAC4P,IAGI7P,E,qCC9HHqnB,GAAOxf,YAAH,4DASJyf,GAAch+D,YAAOi+D,MAAV,8EAAGj+D,CAAH,yCACF+9D,IAGT5R,GAAS,CACbvrD,QAAS,QACTqqD,WAAY,QACZxzC,OAAQ,MACR/W,MAAO,MACPw9D,QAAS,OACTC,QAAS,OACTC,QAAS,OACT5iC,SAAU,OACV6iC,SAAU,UAENC,GAAQ,CACZ19D,QAAS29D,KACTtT,WAAYsT,KACZ9mD,OAAQo/B,KACRn2C,MAAOm2C,KACPqnB,QAASF,GACTG,QAASK,KACTJ,QAASI,KACThjC,SAAUijC,KACVJ,SAAUh0D,MAGG,SAASq0D,GAAT,GAAkC,IAAX97D,EAAU,EAAVA,OAC9BlK,EAAQkK,EAAO49B,OAAO,GAAG99B,cAAgBE,EAAO7Y,MAAM,GACtDizE,EAAQ7Q,GAAOvpD,IAAW,OAC1B+7D,EAAOL,GAAM17D,GAEnB,OACE,kBAAC,KAAD,CAAOzC,QAAQ,UAAU68D,MAAOA,EAAO5yD,KAAMu0D,EAAO,kBAACA,EAAD,MAAW,MAC5DjmE,GCiFQoH,6BA3Hf,YAQI,IAAD,QAPDiS,EAOC,EAPDA,UACA6sD,EAMC,EANDA,SACAxmC,EAKC,EALDA,WACA5yB,EAIC,EAJDA,SACA6yB,EAGC,EAHDA,UACA15B,EAEC,EAFDA,KACAg4C,EACC,EADDA,iBAQA,EAAoC/0C,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KAEM+pB,EAAgB72D,sBAAW,sBAAC,sBAAA7hB,EAAA,sEAC1B4V,GAAek5C,KAAKljC,EAAUvf,GAAI,CACtCoG,KAAK,GAAD,OAAKmZ,EAAUnZ,KAAf,cAAyBiuB,QAFC,uBAI1B8vB,IAJ0B,2CAK/B,CAAC5kC,EAAUvf,GAAIuf,EAAUnZ,KAAM+9C,IAE5BzB,EAAkBltC,uBAAY,WAClC8sC,GAAc,KACb,IAEGK,EAAmBntC,uBAAY,WACnC8sC,GAAc,KACb,IAEGrhB,EAAO,uBAAmB1hB,EAAUvf,IAEtCssE,EAAa,WAQjB,OAPI/sD,EAAU+rD,oBACZgB,EAAa,UACJ/sD,EAAUQ,wBACnBusD,EACE/sD,EAAUU,gCAAkC,EAAI,QAAU,WAI5D,kBAACkT,GAAA,EAAD,CAAInzB,GAAIuf,EAAUvf,GAAI4O,kBAAiBqyB,GACrC,kBAACG,GAAA,EAAD,CACE26B,OAAQ,CACNqQ,WACAxmC,aACA5yB,YAEFquB,UAAWl1B,EAAKU,EAAE,6BAEpB,kBAACu0B,GAAA,EAAD,CAAIphC,GAAIihC,EAASI,UAAWl1B,EAAKU,EAAE,sBAChC0S,EAAU8rD,iBACT,2BAAI9rD,EAAUnZ,MAEd,kBAAC,IAAD,CAAMsL,GAAE,UAAKm0B,IACX,2BAAItmB,EAAUnZ,QAIpB,kBAACg7B,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,sBACA,UAAnB0S,EAAUhe,MAAoB,kBAAC2qE,GAAD,CAAa97D,OAAQk8D,KAEtD,kBAAClrC,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,sBACA,UAAnB0S,EAAUhe,KACP4K,EAAKU,EAAE,wBACPV,EAAKU,EAAE,sBAEb,kBAACu0B,GAAA,EAAD,CAAIxmC,IAAI,eAAeymC,UAAWl1B,EAAKU,EAAE,sBACvC,kBAAC,IAAD,CACE6E,GAAE,gCAAoB6N,QAApB,IAAoBA,GAApB,UAAoBA,EAAWR,sBAA/B,iBAAoB,EAA2B1Y,oBAA/C,aAAoB,EAAyCrG,GAA7D,aADJ,OAGGuf,QAHH,IAGGA,GAHH,UAGGA,EAAWR,sBAHd,iBAGG,EAA2B1Y,oBAH9B,aAGG,EAAyCD,OAG9C,kBAACg7B,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,gBAAa0S,EAAUY,cAC7C,kBAACihB,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,eAAY0S,EAAUa,aAC5C,kBAACghB,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,iBACnB0S,EAAUc,yBAEZd,EAAU8rD,iBACT,kBAACjqC,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,gBACpB,kBAAC,KAAD,CAAO29D,MAAM,OAAOr+D,EAAKU,EAAE,yBAG7B,kBAAC0lB,GAAD,CAAW8O,UAAWl1B,EAAKU,EAAE,iBAC3B,kBAACymB,GAAD,CACEE,QAASjU,EAAUR,eAAeb,kBAAkB6nB,KACpDxS,QAASpnB,EAAKU,EAAE,kCAEhB,kBAACqK,EAAA,EAAD,CACE3D,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,uBACmB,UAAnB6N,EAAUhe,KAAmB,kBAAoB,YADjD,YAEEge,EAAUvf,GAFZ,UAIF,kBAAC,KAAD,QAGJ,kBAACszB,GAAD,CACEE,QAASjU,EAAUR,eAAeb,kBAAkBukC,KACpDlvB,QAASpnB,EAAKU,EAAE,kCAEhB,kBAAC,GAAD,CACEo1C,SAAUoqB,EACV94D,WAAYA,EACZ2uC,YAAaQ,EACbP,aAAcQ,EACdhoC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,iCAChBkxB,aAAc5xB,EAAKU,EAAE,2CC7G/Bm1B,GAAYxoC,EAAY,YAAa,CACzCG,KAAM,EACNC,UAAW,GACXC,SAAU,SA2OGyT,6BAxOf,YAAkC,IAATnB,EAAQ,EAARA,KACjBiF,EAAW6C,cACX4vB,EAAQmC,cACd,EAAgC52B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEA,EAWIntB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpD3M,GAAe1I,KAAKzG,GACpBmP,GAAe04B,gBAJP,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL9gC,QAASjC,EAASW,KAAKsB,QACvByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,IACJ,CACEhQ,QAAS,GACTyrB,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACEhX,EAFJ,EAEIA,QACAyrB,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACS4rC,EAVX,EAUEzrC,QA6BFhD,qBAAU,WACRyuC,MACC,CAACA,IAEJ,IAAM0mB,EAAuBr1D,sBAAW,uCACtC,WAAM8gD,GAAN,mBAAA3iE,EAAA,6DACQyG,EADR,eACsBH,EAAiB+nC,GAAW5wB,EAASkI,UAClDm9C,OAASH,EAAIl6D,KAAK,KAF3B,SAGyBmN,GAAe1I,KAAKzG,GAH7C,uBAGU0F,EAHV,EAGUA,KAHV,kBAISA,EAAKsB,SAJd,2CADsC,sDAOtC,CAACgQ,EAASkI,SAGN4qC,EAAcymB,GAClBvpE,EACA+iD,EACA0mB,EACA7oC,IAGI9U,EACJiY,EAASpqC,SAAWmpD,EAAYnpD,QAAUoqC,EAASpqC,OAAS,EAC9D,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,SAAAgyE,GAAI,OAAIhjE,GAAe48B,QAAQomC,EAAKvsE,UACnE,CAACmlC,IACJ,CACEjsB,iBAAkBgU,IATTkqB,EADb,EACE7+B,UACai0D,EAFf,EAEEnzD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAUIgzD,EAAqB,uCAAG,sBAAA94E,EAAA,sEACtB64E,IADsB,OAE5BpnC,EAAY,IAFgB,2CAAH,qDAKrBpU,EAAoBomB,GAAmB7+B,EACvCguB,EAAStvB,GAAWA,EAAQuvB,KAE5Byc,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOse,GAAe,KAYxCwoB,EAAevgE,EAAKU,EAAE,sBACtB8/D,EAAoBxgE,EAAKU,EAAE,4BAC3B0xD,EACJ,kBAAC,GAAD,CACE3jE,IAAI,MACJuY,cAAe,CACb,kBAACC,GAAA,EAAD,CACE1B,GAAE,UAAKmyB,EAAM1zB,IAAX,mBACFhD,UAAW43B,IACXnqC,IAAK8xE,EACL/9D,aAAY+9D,GAEXA,GAEH,kBAACt5D,GAAA,EAAD,CACE1B,GAAE,UAAKmyB,EAAM1zB,IAAX,yBACFhD,UAAW43B,IACXnqC,IAAK+xE,EACLh+D,aAAYg+D,GAEXA,MAMT,OACE,kBAAC30D,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBA,EACnBl6B,MAAOotD,EACPr3B,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,oBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BqL,UACE,kBAAC+B,GAAD,CAAW/Z,SAAU+oB,IACnB,kBAAC3O,GAAD,CAAY7H,QAAQ,QAAQrf,EAAKU,EAAE,sBACnC,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,sBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,sBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,sBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,gBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,eACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,iBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,kBAGxBwiB,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EAAS,CAACg4B,GAAa,IADX,CAEhB,kBAAC,GAAD,CACE3jE,IAAI,SACJspC,SAAUuoC,EACVxoC,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,oBAC3Bs3B,eAAgBh4B,EAAKU,EACnB,4MACA,CAAE+/D,iBAAkBznC,EAASpqC,iBAMvCm2B,UAAW,SAAC3R,EAAWpiB,GAAZ,OACT,kBAAC,GAAD,CACEvC,IAAK2kB,EAAUvf,GACfhF,MAAOukB,EAAUnZ,KACjBmZ,UAAWA,EACX6sD,SAAUjvE,EACVgnD,iBAAkBA,EAClBte,UACqB,UAAnBtmB,EAAUhe,KAAV,UACOsiC,EAAM1zB,IADb,4BACoCoP,EAAUvf,GAD9C,sBAEO6jC,EAAM1zB,IAFb,sBAE8BoP,EAAUvf,GAFxC,YAIFgT,SAAU,WAtHD,IAAAsyB,KAsHoB/lB,GArH9B8rD,mBACHlmC,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,MAkHtBM,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOuf,EAAUvf,SAG1DovB,mBAAoBmX,GAAUg4B,KAGlC,kBAAC,GAAD,CACEtyD,OAAQuN,EACR7L,QAAQ,QACRgB,aAAYxC,EAAKU,EAAE,uBACnBa,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,kDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCrGblM,6BAjIf,YAA+C,IAApBiS,EAAmB,EAAnBA,UAAWpT,EAAQ,EAARA,KAC9B+E,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa4V,GAAesjE,mBAAmBttD,EAAUvf,IADzD,uBACFF,EADE,EACFA,KADE,kBAEHA,EAAKsB,SAFF,2CAGT,CAACme,EAAUvf,KACd,IATQ8gE,EADV,EACE1oD,OACAG,EAFF,EAEEA,UACOu0D,EAHT,EAGE5+D,MACS6yD,EAJX,EAIEroD,QASFhD,qBAAU,WACRqrD,MACC,CAACA,IAEJ,MAAyD9oD,GACvDzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ4V,GAAe48B,QAAQ5mB,EAAUvf,IAD7B,OAEVkR,EAAQqI,KAAR,gBAFU,2CAGT,CAACgG,EAAUvf,GAAIkR,KAJH67D,EAAjB,EAAQr0D,QAOR,EAAgCE,GAPhC,EAAkC1K,OAO1BA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,EAGIwG,EAAUR,eAFZ1Y,EADF,EACEA,aACmB2mE,EAFrB,EAEE9uD,kBAGF,OAAI3F,EACK,kBAAC,GAAD,MAGLu0D,EACK,kBAAC,GAAD,CAAc5+D,MAAO4+D,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE5mE,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOukB,EAAUnZ,KACjBgxB,OAAO,0BAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOukB,EAAUtB,cAC/C,kBAAC,GAAD,CAAQ/X,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOmR,EAAKU,EAAE,uBAC5C,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,yBAAoBrL,EAAarG,GAAjC,aACLqG,EAAaD,QAInB06D,GAAkBA,EAAe/lE,OAAS,GACzC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,wBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYg5B,EAAe/lE,QAChD+lE,EAAevmE,KAAI,SAAA6zD,GAAE,OACpB,kBAAC3lB,GAAA,EAAD,CAAM7tC,IAAKwzD,EAAGpuD,GAAIqoC,YAAU,GACzB+lB,EAAGhoD,YAOhB,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOukB,EAAUyD,UACjByV,KAAM,IAER,kBAAC,GAAD,CACEvyB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM/U,EAAUZ,QAChBmZ,KAAMvY,EAAUR,eAAegC,aAEjC,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAM/U,EAAUF,SAChByY,KAAMvY,EAAUR,eAAeiC,eAGnC,kBAAC,GAAD,KACGgsD,EAAiBjnC,MAChB,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXrzB,GAAE,iCAA4B6N,EAAUvf,GAAtC,UAEDmM,EAAKU,EAAE,cAGXmgE,EAAiB/sE,QAChB,kBAAC,GAAD,CACEmG,KAAMmZ,EAAUnZ,KAChBo+B,WAAYr4B,EAAKU,EAAE,yBACnB4gC,UAAWs/B,GAEV5gE,EAAKU,EAAE,uBAKbqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,oCACR,kBAAC,GAAD,CAAaqB,MAAOA,S,sEC1H9B,SAAS++D,GAAT,GAAqE,IAAtC9gE,EAAqC,EAArCA,KAAMw1D,EAA+B,EAA/BA,iBAAkBpiD,EAAa,EAAbA,UAC7CjD,EAAkB2hB,eAAlB3hB,cACR,EAAmEkd,aAAS,CAC1EpzB,KAAM,eACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOq/B,EAAP,KAA0BC,EAA1B,KAA4CC,EAA5C,KAIA,EAAuDlS,aACrD,kBADF,mBAAO0zC,EAAP,KAA8BC,EAA9B,KAGA,EAAkC3zC,aAAS,uBAApC4zC,EAAP,oBACMnhC,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAEGytD,EAAqBv0D,uBACzB,SAAAxa,GACEshB,EAAc,sBAAuBthB,KAEvC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,wBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB0R,EAAiBv9B,MACpCyrB,SAAU8R,EAAiB7R,UAAY6R,EAAiBv9B,MACxDg8B,OAAQ,kBAAMwB,EAAoBQ,cAClClkB,SAAUikB,EACVjxC,MAAOwwC,EAAkBxwC,MACzB4+B,QAAS6R,EAAiB7R,QAC1B1rB,MAAOu9B,EAAiBv9B,MACxBqW,UAAQ,EACRqmB,eAAc,OAACrrB,QAAD,IAACA,OAAD,EAACA,EAAWvf,MAE5B,kBAAC,GAAD,CACEkG,MAAOiG,EAAKU,EAAE,4BACd80D,iBAAkBA,EAClB35C,SAAU+hD,EACV/uE,MAAOoyE,EAAwBpyE,QAEjC,kBAAC,GAAD,CACEA,MAAOkyE,EAAoBlyE,MAC3BgtB,SAAU,SAAAhtB,GACRmyE,EAAsBx0D,SAAS3d,MAGnC,kBAACsiC,GAAD,KACE,kBAAC,GAAD,CACE/J,QAASpnB,EAAKU,EACZ,gLAEF7M,GAAG,sBACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,yBAOxB,SAASwgE,GAAT,GAOI,IAAD,IAND9tD,iBAMC,MANW,GAMX,EALD1D,EAKC,EALDA,SACA0rB,EAIC,EAJDA,SACA6E,EAGC,EAHDA,YACA00B,EAEC,EAFDA,eACGvqC,EACF,kBACK3a,EAAgB,CACpBxV,KAAMmZ,EAAUnZ,MAAQ,GACxB6X,YAAasB,EAAUtB,aAAe,GACtC+E,UAAWzD,EAAUyD,WAAa,MAClC3c,aACGkZ,EAAUR,gBAAkBQ,EAAUR,eAAe1Y,cACtD,KACFy6D,eAAgBA,GAAkB,GAClCwM,oBACG/tD,EAAUR,gBACTQ,EAAUR,eAAeuuD,qBAC3B,MAGJ,OACE,kBAAC,KAAD,CACE1xD,cAAeA,EACfC,SAAU,SAAAzX,GACRyX,EAASzX,MAGV,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC4vC,GAAD,iBAAyB12C,EAAzB,CAA+BhX,UAAWA,KAC1C,kBAAC,GAAD,CAAiBrR,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,oBAS/BmyD,GAAchuB,SAAW,CACvBnkC,aAAcjd,QAAK+f,WACnBqiC,aAAcpiD,QAAK+f,WACnB8iD,eAAgBpjD,mBAChB6B,UAAW7B,mBACXikD,iBAAkB5jD,UAAOC,WACzBouB,YAAa1uB,oBAGf2vD,GAAchgE,aAAe,CAC3BkS,UAAW,GACXuhD,eAAgB,GAChB10B,YAAa,MAGA9+B,4BAAW+/D,IC1JnB,SAASE,GAAmBC,EAAU53D,GAE3CA,EAAUA,GAAW,GACrB,IAAM63D,EAAQ,GACRC,EAAU,GAWhB,OAdAF,EAAWA,GAAY,IAIdhzE,SAAQ,SAAAmzE,GACV/3D,EAAQ0T,MAAK,SAAAinC,GAAG,OAAIA,EAAIvwD,KAAO2tE,EAAK3tE,OACvC0tE,EAAQn0D,KAAKo0D,MAGjB/3D,EAAQpb,SAAQ,SAAA+1D,GACTid,EAASlkD,MAAK,SAAAqkD,GAAI,OAAIA,EAAK3tE,KAAOuwD,EAAIvwD,OACzCytE,EAAMl0D,KAAKg3C,MAGR,CAAEkd,QAAOC,W,+DCNlB,SAASE,GAAT,GAAuC,IAAdruD,EAAa,EAAbA,UACvB,EAA0BnQ,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACA,EAAsDlJ,mBAAS,MAA/D,mBAAOy+D,EAAP,KAAiCC,EAAjC,KACA,EAA4C1+D,oBAAS,GAArD,mBAAO2+D,EAAP,KAAuBC,EAAvB,KACA,EAAgD5+D,mBAAS,MAAzD,mBAAOuyD,EAAP,KAAyBsM,EAAzB,KACM/8D,EAAU8C,cACVyE,EAAY/D,iBAAO,MAEzBgB,qBAAU,WA+BR,OA9BA+C,EAAU7C,SAAU,EACN,uCAAG,kCAAAjiB,EAAA,+EASHoO,QAAQmU,IAAI,CACpB3M,GAAesjE,mBAAmBttD,EAAUvf,IAC5CgJ,GAAmBnI,KAAK,CACtBU,KAAM,eAZG,sCAIQ2sE,EAJR,KAITpuE,KAAQsB,QAGS+sE,EAPR,KAOTruE,KAAQsB,QAQPqX,EAAU7C,QAfF,iDAkBbk4D,EAAkBI,GAClBD,EAAoBE,EAAuB,GAAGnuE,IAnBjC,kDAqBbsY,EAAS,EAAD,IArBK,yBAuBTG,EAAU7C,SACZo4D,GAAkB,GAxBP,6EAAH,oDA4BdxsB,GACO,WACL/oC,EAAU7C,SAAU,KAErB,CAAC2J,EAAUvf,GAAI+tE,EAAgBxuD,EAAWoiD,IAE7C,IASMzmD,EAAY,uCAAG,WAAM9W,GAAN,iCAAAzQ,EAAA,6DAEjBmtE,EAIE18D,EAJF08D,eACAwM,EAGElpE,EAHFkpE,oBACAjnE,EAEEjC,EAFFiC,aACGu6C,EALc,YAMfx8C,EANe,sBAQXmF,GAAeikC,OAAOjuB,EAAUvf,GAAhC,aACJstE,oBAAqBA,EACjBA,EAAoBttE,GACpB,KACJqG,aAAcA,EAAarG,IACxB4gD,IAbY,WAebkgB,EAfa,0BAgBYyM,GACzBM,EACA/M,GAFM2M,EAhBO,EAgBPA,MAAOC,EAhBA,EAgBAA,QAKTU,EAAoBX,EAAMlzE,IAAN,+BAAA5G,EAAA,MAAU,WAAMy6D,GAAN,SAAAz6D,EAAA,+EAClC4V,GAAe8kE,uBAAuB9uD,EAAUvf,GAAIouD,EAAGpuD,KADrB,2CAAV,uDAGpBsuE,EAAuBZ,EAAQnzE,IAAR,uCAAY,WAAM6zD,GAAN,SAAAz6D,EAAA,+EACvC4V,GAAeglE,0BAA0BhvD,EAAUvf,GAAIouD,EAAGpuD,KADnB,2CAAZ,uDAxBd,UA2BT+B,QAAQmU,IAAR,sBAAgBk4D,GAAhB,YAAsCE,KA3B7B,QA6BXn+D,EACJe,EAAQE,SAASC,SAASiI,OAAO,UAAY,EAA7C,uCACoCiG,EAAUvf,GAD9C,6CAE8Buf,EAAUvf,GAFxC,YAGFkR,EAAQqI,KAAR,UAAgBpJ,IAjCC,kDAmCjBmI,EAAS,EAAD,IAnCS,0DAAH,sDAuClB,OAAIy1D,EACK,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CACExmC,SAvDe,WACnB,IAAMp3B,EACe,UAAnBoP,EAAUhe,KAAV,uCACoCge,EAAUvf,GAD9C,6CAE8Buf,EAAUvf,GAFxC,YAIFkR,EAAQqI,KAAR,UAAgBpJ,KAkDZ0L,SAAUX,EACVqE,UAAWA,EACXuhD,eAAgB+M,EAChBlM,iBAAkBA,EAClBv1B,YAAal+B,KAMrB0/D,GAAcvuB,SAAW,CACvB9/B,UAAW+gC,UAAOtiC,YAIL4vD,UCtDAtgE,6BAvDf,YAMI,IALFnB,EAKC,EALDA,KACA+B,EAIC,EAJDA,MAIC,IAHDhL,aAGC,MAHO,GAGP,EAFDgY,EAEC,EAFDA,aACAmlC,EACC,EADDA,aAEMzkC,EAAgB,CACpBxV,KAAMlD,EAAMkD,MAAQ,GACpB6X,YAAa/a,EAAM+a,aAAe,GAClC+E,UAAW9f,EAAM8f,WAAa,OAGhC,OACE,kBAAClU,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,KAAD,CAAQ8M,cAAeA,EAAeC,SAAUX,IAC7C,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,sBACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,6BACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEhB,kBAACywB,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,iBACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,wBAGlB,kBAAC,GAAD,CACE06B,SAAU8Y,EACVxkC,SAAUC,EAAOZ,eAElBhN,GAAS,kBAAC,GAAD,CAAiBA,MAAOA,cCxBnCZ,6BA7Bf,WACE,MAA0B8B,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACQtY,EAAOutC,cAAPvtC,GACFkR,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,6DACnByQ,EAAOmb,UAAYvf,EADA,kBAGMmJ,GAAUrK,OAAOsF,GAHvB,gBAGTtE,EAHS,EAGTA,KACRoR,EAAQqI,KAAR,iCAAuCvZ,EAAvC,mBAAoDF,EAAKE,KAJxC,gDAMjBsY,EAAS,EAAD,IANS,yDAAH,sDAclB,OACE,kBAACxJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEZ,MAAOA,EACPmyC,aARe,WACnBnvC,EAAQqI,KAAR,iCAAuCvZ,EAAvC,aAQIkb,aAAcA,QCEP5N,6BA3Bf,YAAiD,IAAnBkhE,EAAkB,EAAlBA,eAC5B,EAA0Bp/D,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACA,EAAwBi1B,cAAhBvtC,EAAR,EAAQA,GAAIiD,EAAZ,EAAYA,QACNiO,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEXwV,GAAUqkC,OAAOvqC,EAASmB,GAFf,OAGjB8M,EAAQqI,KAAR,iCAAuCvZ,EAAvC,mBAAoDiD,IAHnC,+CAKjBqV,EAAS,EAAD,IALS,wDAAH,sDAalB,OACE,kBAAC,GAAD,CACEpK,MAAOA,EACPhL,MAAOsrE,EACPnuB,aARiB,WACnBnvC,EAAQqI,KAAR,iCAAuCvZ,EAAvC,mBAAoDiD,KAQlDiY,aAAcA,OChBdw9B,GAAWlrC,IAAOihE,GAAV,2FAAGjhE,CAAH,6EAMRkhE,GAA6B,SAAC,GAK7B,IAJLC,EAII,EAJJA,cACAp7D,EAGI,EAHJA,WACAqP,EAEI,EAFJA,OACAzW,EACI,EADJA,KAEA,EAAsCiD,mBAAS,MAA/C,mBAAOw/D,EAAP,KAAoBC,EAApB,KACA,EAAsCz/D,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACA,EAA8Cl1B,oBAAS,GAAvD,mBAAOgoC,EAAP,KAAwB03B,EAAxB,KACA,EAA0C1/D,mBAAS,MAAnD,mBAAOoK,EAAP,KAAsBorD,EAAtB,KACY1gE,EAAgBqpC,cAApBvtC,GACR,EAA6CyL,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBAEtB9Y,qBAAU,WACJ6Y,GACFC,EAAmB6V,KAEpB,CAAC9V,EAAc8V,EAAa7V,IAC/B,IAAMggB,EAAY,uCAAG,WAAMrD,GAAN,iBAAAx3C,EAAA,sDACnBm7E,GAAmB,GADA,SAORtiE,EAAI,EAPI,YAODA,EAAIoW,EAAO7nB,QAPV,oBAQTmI,EAAQ0f,EAAOpW,GACN,WAAX2+B,EATW,iCAUPhiC,GAAUg9B,SAASjjC,EAAMlD,IAVlB,kCAWO,YAAXmrC,EAXI,kCAYP5hC,GAAetF,aAAaC,GAAchB,EAAMlD,IAZzC,QAOkBwM,IAPlB,yEAiBjBo4D,EAAiB,EAAD,IAjBC,yBAmBjBtgC,GAAe,GACfwqC,GAAmB,GACnBH,IArBiB,6EAAH,sDAwBlB,OACE,oCACGpgD,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,SACJ2Y,WAAYA,GAAc6jC,EAC1BjqC,UAAU,SACVwB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAM8wB,GAAe,KAE7Bn4B,EAAKU,EAAE,sBAGV,kBAACqK,EAAA,EAAD,CACEvJ,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAM8wB,GAAe,IAC9B/wB,WAAYA,GAAc6jC,GAEzBjrC,EAAKU,EAAE,sBAGXw3B,GACC,kBAAC,GAAD,CACEp4B,OAAQo4B,EACR12B,QAAQ,SACRD,MACEkV,EAAO7nB,OAAS,EACZoR,EAAKU,EAAE,uBACPV,EAAKU,EAAE,sBAEbX,QAAS,kBAAMo4B,GAAe,IAC9BrtB,QAAS,CACP,kBAACC,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,uBACnB2G,QAAS,kBAAMg7B,EAAaogC,IAC5BjhE,QAAQ,SACR/S,IAAI,SACJ2Y,WAA4B,OAAhBq7D,GAEXziE,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,cACnB2G,QAAS,kBAAM8wB,GAAe,IAC9B32B,QAAQ,YACR/S,IAAI,UAEHuR,EAAKU,EAAE,wBAIXV,EAAKU,EACJ,+DACE+V,EAAO7nB,OAAS,EAAIoR,EAAKU,EAAE,eAAaV,EAAKU,EAAE,iBAGnD,0BACG+V,EAAOroB,KAAI,SAAA2I,GACV,OAAO,kBAAC,GAAD,CAAUtI,IAAKsI,EAAMlD,IAAKkD,EAAMkD,UAG3C,6BACE,kBAAC2iC,GAAA,EAAD,CACE/oC,GAAG,eACHpF,IAAI,eACJsL,MAAOiG,EAAKU,EAAE,oCACdzG,KAAK,SACL4hB,SAAU,kBAAM6mD,EAAe,aAEjC,sBAEE7uE,GAAG,gBACHpF,IAAI,gBACJsL,MAAOiG,EAAKU,EAAE,uCACdzG,KAAK,SACL4hB,SAAU,kBAAM6mD,EAAe,gBAKtCr1D,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRgB,aAAYxC,EAAKU,EAAE,uBACnBa,MAAOvB,EAAKU,EAAE,eACdX,QAAS,kBAAM04D,EAAiB,QAE/Bz4D,EAAKU,EAAE,6CACR,kBAAC,GAAD,CAAaqB,MAAOsL,OAa9Bk1D,GAA2BrhE,aAAe,CACxCuV,OAAQ,IAGKtV,4BAAWohE,I,mRC5EXphE,6BA5Ef,YAAyD,IAAzBnB,EAAwB,EAAxBA,KAAMqiE,EAAkB,EAAlBA,eACpC,EAOIA,EANFzvD,eAAkBgC,EADpB,EACoBA,WAAYC,EADhC,EACgCA,YAAa9C,EAD7C,EAC6CA,kBAC3CS,EAKE6vD,EALF7vD,QACAU,EAIEmvD,EAJFnvD,SACAjZ,EAGEooE,EAHFpoE,KACA6X,EAEEuwD,EAFFvwD,YACA+E,EACEwrD,EADFxrD,UAEF,EAA0B5T,oBAAS,GAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACMpH,EAAU8C,cACV5Z,EAASmzC,cAEf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYpO,OAAO,MACjB,kBAAC,GAAD,CACEj5B,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,EACPgxB,OAAO,gCAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOgoB,EACPyV,KAAM,IAER,kBAAC,GAAD,CACEvyB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/W,IAER,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM9W,KAGV,kBAAC,GAAD,MACoB,OAAjB9C,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB6nB,OAClB,kBAAC7uB,EAAA,EAAD,CACEvJ,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,aACnB2G,QAAS,kBACPtC,EAAQqI,KAAR,iCAC4Bnf,EAAO4F,GADnC,mBACgD5F,EAAO6I,QADvD,YAKDkJ,EAAKU,EAAE,eAGM,OAAjBqR,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBje,SAClB,kBAAC,GAAD,CACE2iB,OAAQ,CAAC4rD,GACTj7D,YAAY,EACZo7D,cAAe,kBACbz9D,EAAQqI,KAAR,iCAAuCnf,EAAO4F,GAA9C,gBAKPkO,GACC,kBAAC,GAAD,CACEP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAQiC,EACRhC,QAAS,kBAAMoM,GAAS,KAEvBnM,EAAKU,EAAE,4CAA2B2hE,EAAepoE,QAClD,kBAAC,GAAD,CAAa8H,MAAOA,SC1Cf6gE,OAtCf,YAAoD,IAAnBP,EAAkB,EAAlBA,eAC/B,EAAkCp/D,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMzkE,EAAO,iCAA6B2uE,EAAejvD,WACnDrO,EAAU8C,cAEVkH,EAAY,uCAAG,WAAMqpD,GAAN,mBAAA5wE,EAAA,sEAEXyQ,EAFW,2BAGZmgE,GAHY,IAIfhlD,UAAWivD,EAAejvD,YAJX,SAOgBpW,GAAU/G,WACzCosE,EAAexuE,GACfoE,GATe,gBAOHjF,EAPG,EAOTW,KAIRoR,EAAQqI,KAAR,UAAgB1Z,EAAhB,kBAAiCV,EAASa,GAA1C,aAXiB,gDAajBskE,EAAa,EAAD,IAbK,yDAAH,sDAqBlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEppD,aAAcA,EACdmlC,aARe,WACnBnvC,EAAQqI,KAAR,UAAgB1Z,EAAhB,mBAAkC2uE,EAAexuE,GAAjD,mBAQIokE,oBAAoB,EACpBh4B,YAAajO,MCtBf6D,GAAYxoC,EAAY,cAAe,CAC3CG,KAAM,EACNC,UAAW,EACXC,SAAU,SA2GGyT,I,GAAAA,yBAxGf,YAA0E,IAA3CnB,EAA0C,EAA1CA,KAAMw1D,EAAoC,EAApCA,iBAAkBqN,EAAkB,EAAlBA,eAC/C99D,EAAU8C,cAChB,EAKIiE,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW9wB,EAAQE,SAASkI,QADlD,SAKArQ,GAAepI,KACvBvD,EAAYlD,EAAQ,CAAEu9C,gBAAiBgqB,KAN/B,2BAIR7hE,KAAQsB,EAJA,EAIAA,QAAS8gB,EAJT,EAISA,MAJT,kBASH,CACLF,YAAa5gB,EACb2hD,gBAAiB7gC,IAXT,2CAaT,CAACy/C,EAAkBzwD,EAAQE,SAASkI,SACvC,CAAE0I,YAAa,GAAI+gC,gBAAiB,IAnBpC70C,EADF,EACEA,MACAqK,EAFF,EAEEA,UACSyhC,EAHX,EAGEthC,QAHF,IAIEN,OAAU4J,EAJZ,EAIYA,YAAa+gC,EAJzB,EAIyBA,gBAmBzBrtC,qBAAU,WACRskC,MACC,CAACA,IAEJ,MAA6DxgB,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAIA,OAAI37D,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAE1BqK,EACK,kBAAC,GAAD,MAGP,kBAACi0B,GAAA,EAAD,KACE,kBAAC3S,GAAA,EAAD,CACEC,QAAQ,aACR5zB,MAAOiG,EAAKU,EAAE,2BACd8B,aAAYxC,EAAKU,EAAE,2BACnBmR,YAAU,EACVgc,UACG4vC,EAAehwC,SAAYgwC,EAAe17D,MAAoB,QAAZ,UAErD6rB,kBAAmB6vC,EAAe17D,MAClC+rB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,gOAKN,kBAAC,GAAD,CACE7R,MAAO2uE,EAAgB3uE,OAAS,GAChCmF,QAAS6hB,EACTmnB,YAAa4Z,EACbr0C,OAAQvC,EAAKU,EAAE,2BACf8rB,UAAQ,EACR1f,SAAU+oB,GACVjV,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,wBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,0BAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTwL,KAAK,aACLijC,WAAY,SAAAruC,GACV6uE,EAAkBlxD,SAAS,CAAC3d,IAC5Bg0E,KAEF1lC,aAAc,WACZugC,EAAkBlxD,SAAS,YC9FjCs2D,GAAiBzhE,IAAOC,IAAV,mDA6SLH,I,MAAAA,yBApSf,YAAsE,IAA1CnB,EAAyC,EAAzCA,KAAM+iE,EAAmC,EAAnCA,iBAAkBC,EAAiB,EAAjBA,cAClD,EAA6D31C,aAAS,CACpEpzB,KAAM,cACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOijE,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKA,EAAyB91C,aAAS,cAA3B+1C,EAAP,oBACA,EAA2C/1C,aAAS,aAApD,mBAAOg2C,EAAP,KAAwBC,EAAxB,KACA,EAAqDj2C,aACnD,kBADF,mBAAOk2C,EAAP,KAA6BC,EAA7B,KAGA,EAA0Dn2C,aAAS,CACjEpzB,KAAM,YACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOyjE,EAAP,KAAuBC,EAAvB,KAAsCC,EAAtC,KAKMC,EACsB,YAA1BX,EAAgBp0E,OAAiD,UAA1Bo0E,EAAgBp0E,MACzD,EAA4Cw+B,aAAS,CACnDpzB,KAAM,cACNmzB,SAAUw2C,GAAqBxrD,GAAS,KAAMpY,KAFhD,mBAAS6jE,EAAT,KAAwBC,EAAxB,KAKMt2C,GAAWq2C,EAAc9hE,QAAU8hE,EAAcp2C,QAEvD,OACE,kBAAC4S,GAAA,EAAD,KACE,kBAACnP,GAAD,KACE,kBAACC,GAAD,KACE,kBAACzD,GAAA,EAAD,CACEC,QAAQ,cACRnrB,aAAYxC,EAAKU,EAAE,sBACnB3G,MAAOiG,EAAKU,EAAE,eACdmR,YAAU,EACV+b,kBAAmBs1C,EAAenhE,MAClC8rB,UACGq1C,EAAez1C,SAAYy1C,EAAenhE,MAEvC,QADA,UAGN+rB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,wFAA+BsN,UxOzExB,YwO8Eb,kBAAC,GAAD,iBACMi1D,EADN,CAEEc,YAAa/jE,EAAKU,EAAE,wBACpB8sB,SAAU01C,EAAez1C,UAAYy1C,EAAenhE,MACpDlO,GAAG,cACHF,KAAI,CACF,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,wBACd0G,YAAY,IALZ,mBAOC47D,EAAc50E,KAAI,SAAAS,GAAK,MAAK,CAC7BA,MAAOA,EAAM,GACbkL,MAAOlL,EAAM,GACbJ,IAAKI,EAAM,SAGfgtB,SAAU,SAACb,EAAOnsB,GACF,YAAVA,GAAiC,UAAVA,GACzBi1E,EAAiB/jC,YAAW,GAE9BojC,EAAkB32D,SAAS3d,QAIjC,kBAAC,GAAD,CACEgF,GAAG,cACHoG,KAAK,cACLuI,aAAYxC,EAAKU,EAAE,kBACnBvL,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,kBACdmtB,UAAWL,EAAU,UAAY,QACjCuQ,OAAQ,kBAAM+lC,EAAiB/jC,YAAW,IAC1CluB,WAC4B,YAA1BoxD,EAAgBp0E,OACU,UAA1Bo0E,EAAgBp0E,MAElBu4B,QACE67C,EAAgBp0E,MACd,oCACGmR,EAAKU,EACJ,mHAAuFuiE,EAAgBp0E,SAEzG,uBACEsY,KAAI,0DAAqD87D,EAAgBp0E,MAArE,gBACJqY,OAAO,SACP88D,IAAI,uBAEH,IACAhkE,EAAKU,EAAE,gBAIZV,EAAKU,EAAE,8DAIb,kBAACgtB,GAAA,EAAD,CACEC,QAAQ,YACRnrB,aAAYxC,EAAKU,EAAE,yBACnB3G,MAAOiG,EAAKU,EAAE,iCACdmR,YAAU,EACVgc,UACG61C,EAAcj2C,SAAYi2C,EAAc3hE,MAErC,QADA,UAGN6rB,kBAAmB81C,EAAc3hE,MACjC+rB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,kGAKN,kBAAC,GAAD,iBACM+iE,EADN,CAEEj2C,SAAUk2C,EAAcj2C,UAAYi2C,EAAc3hE,MAClDlO,GAAG,YACHF,KAAMovE,GAAoB,GAC1BlnD,SAAU,SAACb,EAAOnsB,GAChB80E,EAAiBn3D,SAASxd,SAASH,EAAO,UAIhD,kBAAC,GAAD,CACEgF,GAAG,QACHoG,KAAK,QACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd8B,aAAYxC,EAAKU,EAAE,qBACnB0mB,QACE,8BACGpnB,EAAKU,EACJ,uMACC,IACH,uBACEyG,KAAK,yEACLD,OAAO,SACP88D,IAAI,uBAEHhkE,EAAKU,EAAE,iBAKhB,kBAAC,GAAD,CACE7M,GAAG,iBACHoG,KAAK,QACL9E,KAAK,SACLyU,IAAI,IACJ7P,MAAOiG,EAAKU,EAAE,cACd8B,aAAYxC,EAAKU,EAAE,cACnB0mB,QACE,8BACGpnB,EAAKU,EACJ,gNACC,IACH,uBACEyG,KAAK,qHACLD,OAAO,SACP88D,IAAI,uBAEHhkE,EAAKU,EAAE,kBAKhB,kBAACwwB,GAAD,KACE,kBAACxD,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,qBACd8B,aAAYxC,EAAKU,EAAE,qBACnBotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,kIAKN,kBAACw7C,GAAA,EAAD,CACEv4B,IAAI,wBACJ9vB,GAAG,YACHkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAWshD,EAAcx0E,MACzBgtB,SAAU,WACRynD,EAAgB92D,UAAU62D,EAAcx0E,QAE1C2T,aAAYxC,EAAKU,EAAE,0BAGvB,kBAACgtB,GAAA,EAAD,CAAWzzB,KAAK,iBAAiB0zB,QAAQ,kBACvC,kBAACyD,GAAD,KACE,kBAACtP,GAAA,EAAD,CACEtf,aAAYxC,EAAKU,EAAE,oCACnB3G,MACE,8BACGiG,EAAKU,EAAE,oCADV,OAGE,kBAAC,GAAD,CACE6F,QACE,2BACGvG,EAAKU,EAAE,uKAC2CsN,UxOpPtD,SwOkPC,OAME,2CACChO,EAAKU,EAAE,sBAPV,QAQE,0CACCV,EAAKU,EAAE,oBAMlB7M,GAAG,iBACHkuB,UAAWwhD,EAAmB10E,MAC9BgtB,SAAU,SAAAiD,GACR0kD,EAAqBh3D,SAASsS,SAOxC,kBAAC,GAAD,CACE6E,IAAI,iBACJ9vB,GAAG,aACHoG,KAAK,aACLpL,MAAOjC,KAAKC,UAAUu2E,EAAev0E,OACrCy9B,KAAM,EACNwB,WAAS,EACT1G,QACE,kBAAC07C,GAAD,KACE,2BACG9iE,EAAKU,EACJ,wFAEF,6BACA,oCALF,KAKmB,+CACjB,6BACCV,EAAKU,EAAE,4DARZ,QAYE,6BACA,8BACE,6BACG,IACA,OAFH,0BAGG,OAHH,sBAIG,KACA,MAnBP,QAuBE,6BACA,8BACE,mCAEG,KAFH,qBAGG,KAHH,qBAQN3G,MAAOiG,EAAKU,EAAE,wBACd8B,aAAYxC,EAAKU,EAAE,gCCxSzBu3C,GAAY52C,IAAOC,IAAV,iIAKT42C,GAAwB72C,YAAO82C,KAAP92C,CAAH,mGAkG3B,IAAM4iE,GAAYC,aAAW,CAC3BC,iBAD2B,YACyB,IAAjCC,EAAgC,EAAhCA,WAAYrB,EAAoB,EAApBA,iBAE7B,MAAO,CACL9sD,MAFuBmuD,EAAWh2E,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QAAMhK,KAAK,OAEnC,MAC3BwkB,WAAY,GACZ4vD,YAAa,GACbluD,UAAW4sD,EAAiB,GAAGl0E,MAC/BwyD,MAAO,EACP1pC,WAAW,EACXypC,eAAgB,GAChBkjB,YAAa,GACbjrE,WAAY,MACZga,SAAU,SAbE6wD,EA7FlB,YAOI,IANF1e,EAMC,EANDA,SACAxlD,EAKC,EALDA,KACAgjE,EAIC,EAJDA,cACAD,EAGC,EAHDA,iBACAwB,EAEC,EAFDA,cACA/O,EACC,EADDA,iBAEA,EAA0CvyD,mBAAS,GAAnD,mBAAOokC,EAAP,KAAsBC,EAAtB,KACA,EAAwCrkC,oBAAS,GAAjD,mBAAOuhE,EAAP,KAAqBC,EAArB,KAEA,EAAoC3yC,eAA5B75B,EAAR,EAAQA,OAAQ+3C,EAAhB,EAAgBA,OAAQviB,EAAxB,EAAwBA,QAmBlBgb,EAAQ,CACZ,CACE50C,GAAI,EACJpF,IAAK,EACLwL,KANwB+1C,EAAOq0B,aAAe52C,EAAQ42C,YAOpD,kBAAC,GAAD,KACGrkE,EAAKU,EAAE,gBACR,kBAAC,KAAD,CACE4F,SAAS,QACTC,QAASvG,EAAKU,EAAE,kCAChB03C,QAAQ,0BAER,kBAAC,GAAD,QAIJp4C,EAAKU,EAAE,gBAETM,UACE,kBAAC,GAAD,CACEgiE,cAAeA,EACfD,iBAAkBA,IAGtBn6B,aAxCG3wC,EAAOqsE,cAIe,UAAvBrsE,EAAOqsE,aAAkD,YAAvBrsE,EAAOqsE,cACvCrsE,EAAOosE,iBADb,GAqCEt7B,eAAgB/oC,EAAKU,EAAE,cAEzB,CACE7M,GAAI,EACJpF,IAAK,EACLwL,KAAM+F,EAAKU,EAAE,2BACbM,UACE,kBAAC,GAAD,CACEw0D,iBAAkBA,EAClBqN,eAAgB,kBAAM4B,GAAgB,MAG1C77B,WAAY47B,GAAiD,IAAjC/0E,OAAOwI,OAAO+3C,GAAQphD,OAClDm6C,eAAgB/oC,EAAKU,EAAE,qBACvBmoC,UAAWxB,GAAiB,IAI1B2B,EAAcP,EAAMtrB,MAAK,SAAA8rB,GAAI,OAAIA,EAAKp1C,KAAOwzC,KAEnD,OACE,kBAAC,GAAD,CACE//B,MAAO,CAAE4hC,SAAU,UACnBppC,QAAM,EACNqpC,OAAQ,SAAAF,GAAI,OAAI3B,EAAiB2B,EAAKp1C,KACtCkM,QAAS,kBAAMwkE,KACfv9B,OAAQ,WACNwe,EAASvtD,IAEXwwC,MAAOA,EACPlnC,MAAOvB,EAAKU,EAAE,oBACdqoC,eAAgBC,EAAYD,qBAAkB/X,EAC9CsY,eAAgBtpC,EAAKU,EAAE,qBACvB6oC,iBAAkBvpC,EAAKU,EAAE,0BAuB/BujE,GAAUS,UAAY,CACpBlf,SAAUmf,KAAU7yE,KAAK+f,WACzBmxD,cAAe2B,KAAUlzD,QAAQkzD,KAAUC,OAAO/yD,WAClDkxD,iBAAkB4B,KAAUlzD,QAAQkzD,KAAUxwB,QAAQtiC,WACtD0yD,cAAeI,KAAU7yE,KAAK+f,WAC9B2jD,iBAAkBmP,KAAU/yD,OAAOC,YAEtB1Q,4BAAW8iE,I,kBCkBX9iE,6BA9If,YAA4D,IAAnCijE,EAAkC,EAAlCA,WAAYpkE,EAAsB,EAAtBA,KAAM6kE,EAAgB,EAAhBA,aACnC9/D,EAAU8C,cACRhU,EAAOutC,cAAPvtC,GAER,EAAwCoP,oBAAS,GAAjD,mBAAO6hE,EAAP,KAAqBC,EAArB,KACA,EAA6CzlE,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBAEhB0gD,EAAmB,CACvB,CAAEl0E,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,oBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,qBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,0BACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,mBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,+BAExC6I,qBAAU,WACJ6Y,GACFC,EAAmByiD,KAEpB,CAAC1iD,EAAc0iD,EAAcziD,IAEhC,MAIIvW,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACoBoO,QAAQmU,IAAI,CACxC3M,GAAe4nE,iBAAiBnxE,GAChCgJ,GAAmBnI,KAAK,CAAEpH,UAAW,UAH7B,0CACH0G,EADG,KACMyrD,EADN,uBAKH,CACLujB,cAAehvE,EAAQL,KAAKmX,QAAQmrB,IAAIquC,YAAY/rD,QACpDi9C,iBAAkB/V,EAAK9rD,KAAKsB,QAAQ,GAAGpB,GACvCoxE,iBAAkBjxE,EAAQL,KAAKmX,QAAQuvB,OAR/B,2CAUT,CAACxmC,IACJ,CAAEmvE,cAAe,GAAIiC,iBAAiB,IAhBxC,IACEh5D,OAAU+2D,EADZ,EACYA,cAAexN,EAD3B,EAC2BA,iBAAkByP,EAD7C,EAC6CA,gBAClCxvB,EAFX,EAEElpC,QACO4xD,EAHT,EAGEp8D,MAeFwH,qBAAU,WACRksC,MACC,CAACA,IACJ,MAII3pC,GACFzC,sBAAW,uCACT,WAAMpR,GAAN,iBAAAzQ,EAAA,sEACyB4V,GAAe8nE,oBAAoBrxE,EAAIoE,GADhE,gBACUtE,EADV,EACUA,KACRoR,EAAQqI,KAAR,wBAA8BzZ,EAAKE,GAAnC,YAFF,2CADS,sDAMT,CAACA,EAAIkR,KAVIogE,EADb,EACE/4D,UACOu5C,EAFT,EAEE5jD,MACSmjE,EAHX,EAGE34D,QAYF,EAAgCE,GAC9Bk5C,GAAewY,GADTp8D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITmC,EAAY,uCAAG,WAAM9W,GAAN,qBAAAzQ,EAAA,6DACXitB,EAAmCxc,EAAnCwc,WAAeggC,EADJ,YACwBx8C,EADxB,IAEbmtE,EAAgB3wD,EAAW,GAAG5gB,GAE9BwxE,EAJa,aAKjB5wD,WAAY2wD,GACT3wB,GANc,SAQbywB,EAAoBG,GARP,2CAAH,sDAWlB,OAAIF,EACK,kBAAC,GAAD,MAGLpjE,GAAS+iE,EAET,kBAAC,GAAD,CACEhlE,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,WACP6M,IACAm4D,GAAgB,KAGjBpf,EACC,oCACG3lD,EAAKU,EAAE,8BACR,kBAAC,GAAD,CAAaqB,MAAOA,KAGtB,kBAAC,GAAD,CAAcA,MAAOA,KAQ3B,oCACGqgB,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,aACJ2Y,WAAY69D,IAAoBJ,EAChC7jE,UAAU,SACVwB,aAAYxC,EAAKU,EAAE,oBACnB2G,QAAS,kBAAM09D,GAAgB,KAE9B/kE,EAAKU,EAAE,qBAGV,kBAACqK,EAAA,EAAD,CACEvJ,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,oBACnB2G,QAAS,kBAAM09D,GAAgB,IAC/B39D,WAAY69D,IAAoBJ,GAE/B7kE,EAAKU,EAAE,qBAIXokE,GACC,kBAAC,GAAD,CACEV,WAAYA,EACZpB,cAAeA,EACfD,iBAAkBA,EAClBvN,iBAAkBA,EAClB+O,cAAe,kBAAMQ,GAAgB,IACrCvf,SAAUz2C,EACVu2D,eAAgB,kBAAM14D,WC3H1BysB,GAAiBh4B,YAAOi4B,MAAV,gGAAGj4B,CAAH,2FA4ELF,6BArEf,YAOI,IAAD,EANDnB,EAMC,EANDA,KACA05B,EAKC,EALDA,UACA+/B,EAIC,EAJDA,QACApjE,EAGC,EAHDA,KACAojC,EAEC,EAFDA,WACA5yB,EACC,EADDA,SAEM6xD,EAAqBriE,EAAKuc,eAAe8D,YAAYtoB,KAAI,SAAArB,GAAG,kCAC7DA,GAD6D,IAEhEoI,KAAM,WAGF2/B,EAAO,uBAAmBz+B,EAAKxC,IAErC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAK4H,EAAKxC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKwC,EAAKxC,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiBwC,EAAKxC,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIrjC,EAAK4D,QAGb,kBAAC,GAAD,CAAcxL,IAAI,cAChB,kBAAC,GAAD,CAAWuyD,KAAM0X,QAIvB,kBAAC,GAAD,CACEl2D,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEJ,sBAAiCz+B,KAAMA,KACtC,UAAAA,EAAKuc,eAAeb,yBAApB,eAAuC6nB,OACtC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,sBACE9D,aAAYxC,EAAKU,EAAE,iCAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,UAAKk0D,IAEP,kBAAC,KAAD,c,iRC3DV5jC,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,SA+PGyT,6BA5Pf,YAA2C,IAATnB,EAAQ,EAARA,KAChC,EAAsCiD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACA,EAAqCiJ,cAAzBrpC,EAAZ,EAAQlE,GAAiBiD,EAAzB,EAAyBA,QACnBmO,EAAW6C,cAEjB,EAWIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpD/M,GAAU9G,aAAaY,EAAS7I,GAChCmP,GAAemoE,iBAAiBxtE,KAJxB,0CAEH/E,EAFG,KAEO+iC,EAFP,uBAOH,CACL89B,MAAO7gE,EAASW,KAAKsB,QACrBuwE,UAAWxyE,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAhB/C,2CAkBT,CAACp/B,EAASiB,EAAakN,EAASkI,SACnC,CACE0mD,MAAO,GACP2R,UAAW,EACX16D,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCpB,IACEvN,OACE4nD,EAFJ,EAEIA,MACA2R,EAHJ,EAGIA,UACA16D,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSkoD,EAVX,EAUE/nD,QA8BF,EAA+DusB,GAC7D+6B,GADM76B,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C1vB,qBAAU,WACR+qD,MACC,CAACA,IAEJ,MAIIznD,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAAiI,GAAI,OAAI2G,GAAU7G,iBAAiBW,EAAST,SAE1D,CAACS,EAASkiC,IACb,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYsnD,IAZHsF,EADb,EACExtD,UACaytD,EAFf,EAEE3sD,YACeu4D,EAHjB,EAGEp4D,cAcI0sD,EAAkB,uCAAG,sBAAAvyE,EAAA,sEACnBqyE,IADmB,OAEzB5gC,EAAY,IAFa,2CAAH,qDAKlBysC,EAAwBr8D,uBAC5B,SAAApb,GACE,OAAOmP,GAAezF,UACpBI,EACA5G,EAAYlD,EAAQ,CAAE03E,YAAa7uE,OAGvC,CAACA,EAASiB,IAGN6tE,EAAoBv8D,uBACxB,kBAAMjM,GAAemoE,iBAAiBxtE,KACtC,CAACA,IAGH,EAA0D+T,GACxDzC,sBAAW,uCACT,WAAMw8D,GAAN,SAAAr+E,EAAA,sEACQoO,QAAQmU,IACZ87D,EAAiBz3E,KAAI,SAAAiI,GAAI,OACvB2G,GAAUhH,cAAcc,EAAST,EAAKxC,QAH5C,OAMEygE,IANF,2CADS,sDAST,CAACx9D,EAASw9D,KAVG8F,EAAjB,EAAQ7tD,QAcR,EAGIE,GAjBJ,EAAkC1K,OAezBs4D,EADT,EACEt4D,MACc+jE,EAFhB,EAEEl5D,aAEF,EAGIH,GAAoBg5D,GAFf3L,EADT,EACE/3D,MACcgkE,EAFhB,EAEEn5D,aAGIwtB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QACrDk7D,EAAU,iCAA6BjuE,EAA7B,mBAAmDjB,EAAnD,qBACVmvE,EAAkBjmE,EAAKU,EAAE,0BACzBwlE,EAAalmE,EAAKU,EAAE,qBAEpB0xD,GACJ,kBAAC,GAAD,CACE3jE,IAAI,MACJuY,cAAe,CACb,kBAACC,GAAA,EAAD,CACEI,QAAS,kBAAM8wB,GAAe,IAC9B1pC,IAAKw3E,EACLzjE,aAAYyjE,GAEXA,GAEH,kBAACh/D,GAAA,EAAD,CACEjG,UAAW43B,IACXrzB,GAAE,UAAKygE,GACPv3E,IAAKy3E,EACL1jE,aAAY0jE,GAEXA,MAKT,OACE,oCACE,kBAAC,GAAD,CACEthD,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCjvE,MAAOkpE,EACPnzC,UAAW8kD,EACXrgD,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOo6B,GAAS,KAExC/mD,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EAAS,CAACg4B,IAAa,IADX,CAEhB,kBAAC,GAAD,CACEgS,WAAYprC,EACZ6rC,aAAcW,EAAY,IAE5B,kBAAC,GAAD,CACE/2E,IAAI,eACJ2qE,eAAgBW,EAChBb,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EAAE,sCACnBy4D,UAAWn5D,EAAKU,EAAE,gLAS1B62B,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE5qD,IAAK4qD,EAAExlD,GACPwC,KAAMgjD,EACN3f,UAAS,iCAA4B3hC,EAA5B,kBAAiDshD,EAAExlD,GAAnD,YACT4lE,QAAO,iCAA4B1hE,EAA5B,kBAAiDshD,EAAExlD,GAAnD,SACP4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBAAMqyB,EAAamgB,OAGjCp2B,mBAAoBmX,GAAUg4B,KAE/Bl6B,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,cACfm4D,aAAc6M,EACd5M,eAAgB8M,EAChB1tC,YAAaA,EACb0gC,YAAawB,EACbr6D,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,uBAGjB25D,GACC,kBAAC,GAAD,CACEv6D,OAAQu6D,EACRt6D,QAAS+lE,EACTvkE,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEPxB,EAAKU,EAAE,6BACR,kBAAC,GAAD,CAAaqB,MAAOs4D,KAGvBP,GACC,kBAAC,GAAD,CACEh6D,OAAQg6D,EACR/5D,QAASgmE,EACTxkE,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEPxB,EAAKU,EAAE,kDACR,kBAAC,GAAD,CAAaqB,MAAO+3D,SChQfqM,OAbf,YAAkD,IAAnB9D,EAAkB,EAAlBA,eAC7B,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOz9D,KAAK,+DACV,kBAAC,GAAD,CAAuBy9D,eAAgBA,KAEzC,kBAAC,IAAD,CAAOz9D,KAAK,2DACV,kBAAC,GAAD,SCUFy0B,GAAiBh4B,YAAOi4B,MAAV,mGAAGj4B,CAAH,2FAmELF,6BA5Df,YAOI,IAAD,EANDnB,EAMC,EANDA,KACA05B,EAKC,EALDA,UACA+/B,EAIC,EAJDA,QACA1iE,EAGC,EAHDA,MACA0iC,EAEC,EAFDA,WACA5yB,EACC,EADDA,SAEMiuB,EAAO,uBAAmB/9B,EAAMlD,IAEtC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKsI,EAAMlD,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKkD,EAAMlD,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,uBAAkBkD,EAAMlD,IAC1BirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAI3iC,EAAMkD,WAKlB,kBAAC,GAAD,CACEuI,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,IAEH,UAAA/9B,EAAM6b,eAAeb,yBAArB,eAAwC6nB,OACvC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,mBAAgB4F,SAAS,OAChD,sBACE9D,aAAYxC,EAAKU,EAAE,mBAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,UAAKk0D,IAEP,kBAAC,KAAD,c,0IClDV5jC,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAgOGyT,6BA9Nf,YAA8C,IAATnB,EAAQ,EAARA,KACnC,EAAsCiD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACA,EAA4Cl1B,mBAAS,MAArD,mBAAOo3D,EAAP,KAAuB+L,EAAvB,KACA,EAAkDnjE,mBAAS,MAA3D,mBAAO62D,EAAP,KAA0BuM,EAA1B,KACA,EAAqCjlC,cAAzBrpC,EAAZ,EAAQlE,GAAiBiD,EAAzB,EAAyBA,QACnBmO,EAAW6C,cAEjB,EAWIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEwBvX,QAAQmU,IAAI,CAC5C/M,GAAUspE,aAAaxvE,EAAS7I,GAChCmP,GAAezG,kBAAkBoB,KAJzB,0CAEH/E,EAFG,KAEO8X,EAFP,uBAOH,CACL2L,OAAQzjB,EAASW,KAAKsB,QACtByrB,UAAW1tB,EAASW,KAAKoiB,MACzB0D,wBACS,OAAP3O,QAAO,IAAPA,GAAA,UAAAA,EAASnX,YAAT,eAAeqiC,wBAAyB,IACxC5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MAAK,UAAAob,EAAQnX,KAAKmX,eAAb,eAAsBmrB,MAAO,IAAIrmC,QAC3D,SAAAnB,GAAG,uBAAIqc,EAAQnX,KAAKmX,eAAjB,aAAI,EAAsBmrB,IAAIxnC,GAAKynC,cAExCkE,OACEtvB,EAAQnX,KAAKmX,SACbrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAQnX,KAAKmX,QAAS,UAlBrD,2CAoBT,CAAChU,EAASmO,EAASkI,OAAQpV,IAC9B,CAAE0e,OAAQ,GAAIiK,UAAW,EAAG0Z,QAAQ,IAhC3BmsC,EADX,EACEh6D,QADF,IAEEN,OACEwK,EAHJ,EAGIA,OACAiK,EAJJ,EAIIA,UACAjH,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eACA4gB,EAPJ,EAOIA,OAEFhuB,EATF,EASEA,UACOwY,EAVT,EAUE7iB,MAyBFwH,qBAAU,WACRg9D,MACC,CAACA,IAEJ,IAAMvM,EAAyB3wD,uBAC7B,SAAApb,GACE,OAAO+O,GAAUwpE,oBACf1vE,EACA3F,EAAYlD,EAAQ,CAAEw4E,QAAS3vE,EAAS4vE,aAAc5vE,OAG1D,CAACA,IAGGF,EAAiByS,sBAAW,uCAChC,WAAMs9D,GAAN,SAAAn/E,EAAA,+EAEUoO,QAAQmU,IACZ48D,EAAev4E,KAAI,SAAA4qC,GAAQ,OACzBh8B,GAAU4pE,oBAAoB9vE,EAASkiC,EAASnlC,QAJxD,sDAQIuyE,EAAkB,EAAD,IARrB,OAUEG,IAVF,wDADgC,sDAahC,CAACzvE,EAASyvE,IAGZ,EAA+DztC,GAC7DriB,GADMuiB,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAIzC4tC,EAAqBx9D,sBAAW,sBAAC,sBAAA7hB,EAAA,+EAE7BoO,QAAQmU,IACZivB,EAAS5qC,KAAI,gBAAOmI,EAAP,EAAG1C,GAAH,OACXmJ,GAAU8pE,uBAAuB93E,SAAS8H,EAAS,IAAKP,OAJzB,sDAQnC8vE,EAAqB,EAAD,IARe,OAUrCE,IACAttC,EAAY,IAXyB,yDAYpC,CAACniC,EAASkiC,EAAUC,EAAastC,IAE9BrM,EAAqB7wD,uBACzB,kBAAMjM,GAAezG,kBAAkBoB,KACvC,CAACA,IAGH,EAAgC0U,GAC9B4tD,GAAkBP,GADZ/3D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITo5D,EAAU,iCAA6BjuE,EAA7B,mBAAmDjB,EAAnD,sBAEViwE,EAAmB/mE,EAAKU,EAAE,2BAC1BsmE,EAAchnE,EAAKU,EAAE,sBACrB0xD,EACJ,kBAAC,GAAD,CACE3jE,IAAI,MACJuY,cAAe,CACb,kBAACC,GAAA,EAAD,CACExY,IAAKs4E,EACL1/D,QAAS,kBAAM8wB,GAAe,IAC9B31B,aAAYukE,GAEXA,GAEH,kBAAC9/D,GAAA,EAAD,CACEjG,UAAW43B,IACXrzB,GAAE,UAAKygE,GACPv3E,IAAKu4E,EACLxkE,aAAYwkE,GAEXA,MAMT,OACE,oCACE,kBAAC,GAAD,CACEpiD,aAAcA,EACdC,kBAAmBzY,EACnBzhB,MAAO8rB,EACPiK,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,uBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOhjB,GAAU,KAEzC3J,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EAAS,CAACg4B,GAAa,IADX,CAEhB,kBAAC,GAAD,CACEgS,WAAYprC,EACZ6rC,aAAcnkD,EAAY,IAE5B,kBAAC,GAAD,CACEjyB,IAAI,eACJ2qE,eAAgByN,EAChB3N,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EAAE,+CAK3B62B,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE5qD,IAAK4qD,EAAExlD,GACPkD,MAAOsiD,EACP3f,UAAS,iCAA4B3hC,EAA5B,mBAAkDshD,EAAExlD,GAApD,YACT4lE,QAAO,iCAA4B1hE,EAA5B,mBAAkDshD,EAAExlD,GAApD,SACP4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBAAMqyB,EAAamgB,OAGjCp2B,mBAAoBmX,GAAUg4B,IAE/Bl6B,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,eACfm4D,aAAcmB,EACdlB,eAAgBoB,EAChBhiC,YAAaA,EACb0gC,YAAahiE,EACbmJ,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,wBAGjBqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEP64D,EACGr6D,EAAKU,EAAE,6BACPV,EAAKU,EAAE,mDACX,kBAAC,GAAD,CAAaqB,MAAOA,SC9MfklE,OA/Bf,WACE,MAA0BhkE,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACMpH,EAAU8C,cAChB,EAAwBu5B,cAAhBvtC,EAAR,EAAQA,GAAIiD,EAAZ,EAAYA,QACNowE,EAAuB,uCAAG,WAAMjvE,GAAN,iBAAAzQ,EAAA,6DAC9ByQ,EAAOmb,UAAYvf,EADW,kBAGLmJ,GAAUrK,OAAOsF,GAHZ,uBAGpBtE,EAHoB,EAGpBA,KAHoB,SAItBqJ,GAAU4pE,oBAAoB9vE,EAASnD,EAAKE,IAJtB,OAK5BkR,EAAQqI,KAAR,iCAAuCvZ,EAAvC,mBAAoDF,EAAKE,GAAzD,YAAuE,CACrEszE,YAAarwE,IANa,kDAS5BqV,EAAS,EAAD,IAToB,0DAAH,sDAkB7B,OACE,kBAAC,GAAD,CACE4C,aAAcm4D,EACdhzB,aARiB,WACnBnvC,EAAQqI,KAAR,iCAC4BvZ,EAD5B,mBACyCiD,EADzC,oBAQEiL,MAAOA,KCNEqlE,OApBf,WACE,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE34E,IAAI,mBACJmW,KAAK,gEAEL,kBAAC,GAAD,OAEF,kBAAC,IAAD,CACEnW,IAAI,gBACJmW,KAAK,4DAEL,kBAAC,GAAD,UCuIKzD,6BAnIf,YAA6D,IAAD,IAAlCnB,EAAkC,EAAlCA,KAAMgjC,EAA4B,EAA5BA,cAAe5vB,EAAa,EAAbA,UAC7C,EAA4CnQ,mBAAS,MAArD,mBAAOo/D,EAAP,KAAuBgF,EAAvB,KACA,EAA4CpkE,oBAAS,GAArD,mBAAO2+D,EAAP,KAAuBC,EAAvB,KACA,EAAwC5+D,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAqCnU,cAAzBrpC,EAAZ,EAAQlE,GAAiBiD,EAAzB,EAAyBA,QACnBmO,EAAW6C,cAEjByB,qBAAU,YACM,uCAAG,8BAAA/hB,EAAA,+EAEUwV,GAAUimC,WAAWnsC,GAF/B,gBAELnD,EAFK,EAELA,KACR0zE,EAAkB1zE,GAClBqvC,EAAc5vB,EAAWzf,GAJZ,gDAMb4hD,EAAgB,EAAD,IANF,yBAQbssB,GAAkB,GARL,4EAAH,qDAYdxsB,KACC,CAACpwC,EAASC,SAAUpO,EAASsc,EAAW4vB,IAE3C,IAAMT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,CAAeuI,aAAYxC,EAAKU,EAAE,yBACjCV,EAAKU,EAAE,wBAGZ6zB,KAAK,0BAAD,OAA4BnhB,EAAUvf,GAAtC,WACJA,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,0BAAD,OAA4BnhB,EAAUvf,GAAtC,0BAAmDwuE,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAgBxuE,GAAnE,YACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,0BAAD,OAA4BnhB,EAAUvf,GAAtC,0BAAmDwuE,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAgBxuE,GAAnE,kBACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,0BAAD,OAA4BnhB,EAAUvf,GAAtC,0BAAmDwuE,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAgBxuE,GAAnE,iBACJA,GAAI,IAIR,GAAI+tE,EACF,OAAO,kBAAC,GAAD,MAGT,GAAIh9C,EACF,OAAO,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAQ9B,IACgB,OAAdy9C,QAAc,IAAdA,GAAA,UAAAA,EAAgBzvD,sBAAhB,mBAAgCQ,iBAAhC,eAA2Cvf,MAAO7E,SAAS+I,EAAa,IAExE,OACE,kBAAC,GAAD,CAAcqT,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,iCAA4B6N,EAAUvf,GAAtC,YACLmM,EAAKU,EAAE,gCAMhB,IAAIg1C,GAAiB,EAKrB,MAJI,CAAC,MAAO,QAAQ5mD,MAAK,SAAAmL,GAAI,OAAIgL,EAASC,SAAS3V,SAAS0K,QAC1Dy7C,GAAiB,GAIjB,oCACGA,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,6CACL79B,GAAG,qDACH0R,OAAK,IAENorD,GAAkB,CACjB,kBAAC,IAAD,CACE5zE,IAAI,OACJmW,KAAK,mDAEL,kBAAC,GAAD,CAAoBy9D,eAAgBA,KAEtC,kBAAC,IAAD,CACE5zE,IAAI,UACJmW,KAAK,sDAEL,kBAAC,GAAD,CAAsBy9D,eAAgBA,KAExC,kBAAC,IAAD,CACE5zE,IAAI,QACJmW,KAAK,2DAEL,kBAAC,GAAD,CAAqBy9D,eAAgBA,KAEvC,kBAAC,IAAD,CACE5zE,IAAI,gBACJmW,KAAK,4DAEL,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CAAOnW,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,KACGwO,GACC,kBAAC,IAAD,CAAM7N,GAAE,iCAA4B6N,EAAUvf,GAAtC,aACLmM,EAAKU,EAAE,uCChETS,6BA3Df,YAMI,IALFnB,EAKC,EALDA,KACAjJ,EAIC,EAJDA,MACAgB,EAGC,EAHDA,YACA0hC,EAEC,EAFDA,WACA5yB,EACC,EADDA,SAEMiuB,EAAO,uBAAmB/9B,EAAMlD,IAChC6lC,EAAS,iCAA6B3hC,EAA7B,mBAAmDhB,EAAMlD,GAAzD,YACT4lE,EAAO,iCAA6B1hE,EAA7B,mBAAmDhB,EAAMlD,GAAzD,SAEb,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKsI,EAAMlD,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKkD,EAAMlD,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEl3B,kBAAiBqyB,EACjBjhC,GAAE,uBAAkBkD,EAAMlD,IAC1BirB,QAAS2a,EACT5d,SAAUhV,IAEZ,kBAACswB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAI/9B,EAAMkD,WAKlB,kBAACo/B,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEH/9B,EAAM6b,eAAeb,kBAAkB6nB,MACtC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,mBAAgB4F,SAAS,OAChD,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,mBACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAIk0D,GAEJ,kBAAC,KAAD,cC3CV5jC,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAGZ,SAASuqC,GAAahE,GACpB,OAAQA,EAAKrhB,eAAeb,kBAAkBje,OAkLjCqN,6BA/Kf,YAAwC,IAATnB,EAAQ,EAARA,KACvBiF,EAAW6C,cACL/P,EAAgBqpC,cAApBvtC,GAER,EAWIiY,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAE6BvX,QAAQmU,IAAI,CACjD3M,GAAevF,WAAWE,EAAa9J,GACvCmP,GAAezG,kBAAkBoB,KAJzB,0CAEH/E,EAFG,KAEOs0E,EAFP,uBAOH,CACL7wD,OAAQzjB,EAASW,KAAKsB,QACtBsyE,WAAYv0E,EAASW,KAAKoiB,MAC1BjL,QAASw8D,EAAa3zE,KAAKmX,QAC3B2O,wBACc,OAAZ6tD,QAAY,IAAZA,GAAA,UAAAA,EAAc3zE,YAAd,eAAoBqiC,wBAAyB,IAC7C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAA43E,EAAa3zE,KAAKmX,eAAlB,eAA2BmrB,MAAO,IAClCrmC,QAAO,SAAAnB,GAAG,uBAAI64E,EAAa3zE,KAAKmX,eAAtB,aAAI,EAA2BmrB,IAAIxnC,GAAKynC,gBAhB5C,2CAkBT,CAACn+B,EAAakN,IACjB,CACEwR,OAAQ,GACR8wD,WAAY,EACZz8D,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCpB,IACEvN,OACEwK,EAFJ,EAEIA,OACA8wD,EAHJ,EAGIA,WACAz8D,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSqpC,EAVX,EAUElpC,QA8BFhD,qBAAU,WACRksC,MACC,CAACA,IAEJ,MAA+D3c,GAC7DriB,GADMuiB,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAIzCV,EAAgB,WACpB,IAAMD,EAAsBU,EACzBppC,OAAOqoC,IACP7pC,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QACjBhK,KAAK,MAER,OAAI+oC,EAASlqC,KAAKmpC,IAEd,6BACGj4B,EAAKU,EACJ,+FAA+D43B,0BAKnEU,EAASpqC,OACJoR,EAAKU,EAAE,qBAETV,EAAKU,EAAE,gCAGV05B,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAE3D,OACE,oCACE,kBAAC,GAAD,CACE8Z,aAAcA,EACdC,kBAAmBzY,EACnBzhB,MAAO8rB,EACPiK,UAAW6mD,EACXz6D,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,kBACL0oB,WAAW,EACXC,cAAe,CACbC,KAAMrX,EAAKU,EAAE,8BACb4W,MAAOtX,EAAKU,EAAE,0BAGlB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVkD,MAAOk9B,EACPl8B,YAAaA,EACb0hC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOogC,EAAKpgC,MACjDgT,SAAU,kBAAMqyB,EAAajF,OAGjC/Q,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOhjB,GAAU,KAEzC3J,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,iCAA4B1gC,EAA5B,kBAGV,IARY,CAShB,kBAAC,GAAD,CACEqsE,WAAYprC,EACZ6rC,aAAc0C,EAAa,IAE7B,kBAAC,KAAD,CAAShhE,QAASgyB,IAAiBjyB,SAAS,MAAM7X,IAAI,UACpD,kBAAC,GAAD,CACEgoB,OAAQuiB,EACR5xB,WACsB,IAApB4xB,EAASpqC,QAAgBoqC,EAASlqC,KAAKmpC,IAEzCuqC,cAAe,WACb/sB,IACAxc,EAAY,cAOxBhW,mBACEmX,GACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,iCAA4B1gC,EAA5B,uBCtKLoJ,6BApBf,YAAwD,IAA7B6hC,EAA4B,EAA5BA,cAAe5vB,EAAa,EAAbA,UACxC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3kB,IAAI,MAAMmW,KAAK,yCACpB,kBAAC4iE,GAAD,CACExkC,cAAeA,EACf5vB,UAAWA,KAGf,kBAAC,IAAD,CAAO3kB,IAAI,UAAUmW,KAAK,+CACxB,kBAAC,GAAD,CAAgBwO,UAAWA,EAAW4vB,cAAeA,KAEvD,kBAAC,IAAD,CAAOv0C,IAAI,OAAOmW,KAAK,qCACrB,kBAAC,GAAD,WCgHOzD,6BAlHf,YAA8C,IAAfnB,EAAc,EAAdA,KAAM3J,EAAQ,EAARA,KAEjCmc,EAaEnc,EAbFmc,QACAV,EAYEzb,EAZFyb,YACAje,EAWEwC,EAXFxC,GACAqf,EAUE7c,EAVF6c,SACAjZ,EASE5D,EATF4D,KACA4c,EAQExgB,EARFwgB,UANF,EAcIxgB,EAPFuc,eACEQ,EARJ,EAQIA,UACAsD,EATJ,EASIA,YACA9B,EAVJ,EAUIA,WACAC,EAXJ,EAWIA,YACA9C,EAZJ,EAYIA,kBAIJ,EAAkC9O,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBosD,EAAlB,KACA,EAA0Cv1D,oBAAS,GAAnD,mBAAOoK,EAAP,KAAsBorD,EAAtB,KACM1zD,EAAU8C,cAEV2sD,EAAgB,uCAAG,sBAAAhtE,EAAA,6DACvBgxE,GAAa,GADU,kBAGfv7D,GAAS+8B,QAAQnmC,GAHF,OAIrBkR,EAAQqI,KAAR,iCAAuCgG,EAAUvf,GAAjD,WAJqB,gDAMrB4kE,EAAiB,EAAD,IANK,yBAQrBD,GAAa,GARQ,4EAAH,qDAYtB,IAAKpsD,GAAaiB,EAChB,OACE,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,kBAAM04D,GAAiB,KAE/Bz4D,EAAKU,EAAE,uCAAqBzG,UAC7B,kBAAC,GAAD,CAAa8H,MAAOsL,KAK1B,IAAMqrD,EAAqBhiD,EAAYtoB,KAAI,SAAArB,GAAG,kCAAUA,GAAV,IAAeoI,KAAM,WAEnE,OACE,kBAAC,GAAD,KACE,sBAAYkB,KAAMA,IAClB,kBAAC,GAAD,CAAY28B,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,KAClB,OAAlBy+D,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9pE,QAAS,GAC5B,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,iBACd7R,MAAO,kBAAC,GAAD,CAAWmyD,KAAM0X,MAG5B,kBAAC,GAAD,CAAQ3+D,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACEqW,KAAM3V,EACNzY,MAAOiG,EAAKU,EAAE,2BACdirB,KAAM/W,IAER,kBAAC,GAAD,CACEuT,KAAMjV,EACNnZ,MAAOiG,EAAKU,EAAE,6CACdirB,KAAM9W,IAER,kBAAC,GAAD,CACE9a,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAOgoB,KAGX,kBAAC,GAAD,MACoB,OAAjB9E,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB6nB,OAClB,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,iCAA4B6N,EAAUvf,GAAtC,kBAAkDA,EAAlD,UAEDmM,EAAKU,EAAE,eAGM,OAAjBqR,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBje,SAClB,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,oBACnB4gC,UAAW,kBAAMkzB,QAItBnnD,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,kBAAM04D,EAAiB,QAE/Bz4D,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,0ICjFfo6D,OAnCf,YAAiD,IAApBpxE,EAAmB,EAAnBA,KAAM+c,EAAa,EAAbA,UACjC,EAAkCnQ,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMzgB,EAAU,iCAA6BtkC,EAAUvf,GAAvC,kBAAmDwC,EAAKxC,GAAxD,YACVkR,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEXyV,GAASokC,OAAOhrC,EAAKxC,GAAIoE,GAFd,OAGjB8M,EAAQqI,KAAKsqC,GAHI,+CAKjBygB,EAAa,EAAD,IALK,wDAAH,sDAalB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE9hE,KAAMA,EACN0Y,aAAcA,EACdmlC,aATe,WACnBnvC,EAAQqI,KAAKsqC,IASTugB,oBAAoB,EACpBh4B,YAAajO,MCcN7wB,6BAnCf,YAA6C,IAAfnB,EAAc,EAAdA,KAAM3J,EAAQ,EAARA,KAClC,EAA8CyV,GAC5CzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACayV,GAASxG,UAAUJ,EAAKxC,IADrC,uBACFF,EADE,EACFA,KADE,kBAGH/G,KAAKC,UAAU8G,EAAM,KAAM,IAHxB,2CAIT,CAAC0C,IACJ,MANMkW,EAAR,EAAQA,QAASH,EAAjB,EAAiBA,UAAWrK,EAA5B,EAA4BA,MAAOkK,EAAnC,EAAmCA,OAanC,OAJA1C,qBAAU,WACRgD,MACC,CAACA,IAEAxK,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAG1BqK,GAAwB,OAAXH,EACR,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY+mB,OAAO,MACjB,kBAAC,GAAD,CAAiBj5B,MAAOiG,EAAKU,EAAE,cAAW2rB,YAAU,EAACx9B,MAAOod,SCqCrD9K,6BAtDf,YAMI,IALFnB,EAKC,EALDA,KACAjJ,EAIC,EAJDA,MACAgB,EAGC,EAHDA,YACA0hC,EAEC,EAFDA,WACA5yB,EACC,EADDA,SAEMiuB,EAAO,uBAAmB/9B,EAAMlD,IAChC6lC,EAAS,iCAA6B3hC,EAA7B,mBAAmDhB,EAAMlD,GAAzD,YACT4lE,EAAO,iCAA6B1hE,EAA7B,mBAAmDhB,EAAMlD,GAAzD,SAEb,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKsI,EAAMlD,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKkD,EAAMlD,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEl3B,kBAAiBqyB,EACjBjhC,GAAE,uBAAkBkD,EAAMlD,IAC1BirB,QAAS2a,EACT5d,SAAUhV,IAEZ,kBAACswB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAI/9B,EAAMkD,WAKlB,kBAACo/B,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEH/9B,EAAM6b,eAAeb,kBAAkB6nB,MACtC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,mBAAgB4F,SAAS,OAChD,kBAACyE,EAAA,EAAD,CAAQvJ,QAAQ,QAAQR,UAAW43B,IAAMrzB,GAAIk0D,GAC3C,kBAAC,KAAD,cCnCV5jC,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAuOGyT,6BApOf,YAA4C,IAATnB,EAAQ,EAARA,KACjC,EAAsCiD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACA,EAA8BiJ,cAAtBhrC,EAAR,EAAQA,OAAYsjE,EAApB,EAAgB7lE,GACRsZ,EAAWrF,cAAXqF,OAER,EAWIrB,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAQAvX,QAAQmU,IAAI,CACpB9M,GAASvG,cAAcN,EAAQnI,GAC/BgP,GAAStG,kBAAkBP,KAVnB,iDAKNzC,KAAQoiB,EALF,EAKEA,MAAO9gB,EALT,EAKSA,QAEjByyE,EAPQ,uBAaH,CACLjxD,OAAQxhB,EACRyrB,UAAW3K,EACXjL,QAAS48D,EAAiB/zE,KAAKmX,QAC/B2O,wBACkB,OAAhBiuD,QAAgB,IAAhBA,GAAA,UAAAA,EAAkB/zE,YAAlB,eAAwBqiC,wBAAyB,IACjD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAg4E,EAAiB/zE,KAAKmX,eAAtB,eAA+BmrB,MAAO,IACtCrmC,QAAO,SAAAnB,GAAG,uBAAIi5E,EAAiB/zE,KAAKmX,eAA1B,aAAI,EAA+BmrB,IAAIxnC,GAAKynC,gBAtBhD,4CAwBT,CAAC9/B,EAAQ+W,IACZ,CACEsJ,OAAQ,GACRiK,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KA1CpB,IACEvN,OACEwK,EAFJ,EAEIA,OACAiK,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSutD,EAVX,EAUEptD,QAoCFhD,qBAAU,WACRowD,MACC,CAACA,IAEJ,MAA+D7gC,GAC7DriB,GADMuiB,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAIIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAA2I,GAAK,OAAIkG,GAASpG,kBAAkBT,EAAQW,SAE1D,CAACX,EAAQ4iC,IACZ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY2sD,IAZHC,EADb,EACExtD,UACaytD,EAFf,EAEE3sD,YACe4sD,EAHjB,EAGEzsD,cAcI0sD,EAAkB,uCAAG,sBAAAvyE,EAAA,sEACnBqyE,IADmB,OAEzB5gC,EAAY,IAFa,2CAAH,qDAKlB+gC,EAAyB3wD,uBAC7B,SAAApb,GACE,OAAOmP,GAAevF,WACpB6hE,EACAvoE,EAAYlD,EAAQ,CAAEgsE,WAAY7jE,OAGtC,CAACsjE,EAAOtjE,IAGJ8jE,EAAqB7wD,uBACzB,kBAAMjM,GAAezG,kBAAkB+iE,KACvC,CAACA,IAGH,EAA4D5tD,GAC1DzC,sBAAW,uCACT,WAAM8wD,GAAN,SAAA3yE,EAAA,sEACQoO,QAAQmU,IACZowD,EAAkB/rE,KAAI,SAAA2I,GAAK,OACzBkG,GAASrG,eAAeR,EAAQW,EAAMlD,QAH5C,OAME8lE,IANF,2CADS,sDAST,CAACvjE,EAAQujE,KAVIS,EAAjB,EAAQ7tD,QAAiC8tD,EAAzC,EAAkCt4D,MAclC,EAAgC0K,GAC9B4tD,GAAkBP,GADZ/3D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITwtB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAE3D,OACE,oCACE,kBAAC,GAAD,CACE8Z,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCjvE,MAAO8rB,EACPiK,UAAWA,EACX5T,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVkD,MAAOk9B,EACPl8B,YAAak8B,EAAKrhB,eAAeQ,UAAUvf,GAC3C4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOogC,EAAKpgC,MACjDgT,SAAU,kBAAMqyB,EAAajF,OAGjC/Q,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOhjB,GAAU,KAEzC3J,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJ4Y,QAAS,kBAAM8wB,GAAe,OAGlC,IARY,CAShB,kBAAC,GAAD,CACEisC,WAAYprC,EACZ6rC,aAAcnkD,EAAY,IAE5B,kBAAC,GAAD,CACEjyB,IAAI,eACJ2qE,eAAgBW,EAChBb,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EAAE,sCACnBy4D,UAAWn5D,EAAKU,EAAE,oOAU1BuiB,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAM4Y,QAAS,kBAAM8wB,GAAe,MACxD,OAGPD,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,eACfm4D,aAAcmB,EACdlB,eAAgBoB,EAChBhiC,YAAaA,EACb0gC,YAAawB,EACbr6D,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,wBAGjBqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEP64D,EACGr6D,EAAKU,EAAE,6BACPV,EAAKU,EAAE,mDACX,kBAAC,GAAD,CAAaqB,MAAOA,SCxOfZ,6BAXf,WACE,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO1S,IAAI,OAAOmW,KAAK,mDACrB,kBAAC,GAAD,WCgKOzD,6BAlJf,YAA4D,IAAnCnB,EAAkC,EAAlCA,KAAMgjC,EAA4B,EAA5BA,cAAe5vB,EAAa,EAAbA,UACtCnO,EAAW6C,cACX4vB,EAAQmC,YAAc,4CACtB8tC,EAAW,iCAA6Bv0D,EAAUvf,GAAvC,UAEjB,EAKIiY,GACFzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACa4V,GAAexF,eACpCwb,EAAUvf,GACV6jC,EAAMzpC,OAAOmI,QAHL,cACJpD,EADI,yBAKH,CACLqD,KAAMrD,IANE,2CAQT,CAACogB,EAAUvf,GAAI6jC,EAAMzpC,OAAOmI,SAC/B,CACEC,KAAM,OAfEA,EADZ,EACE4V,OAAU5V,KACHuuB,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSkuD,EAJX,EAIE/tD,QAgBFhD,qBAAU,WACR+wD,MACC,CAACA,EAAWr1D,EAASC,WAExBqE,qBAAU,WACJ6J,GAAa/c,GACf2sC,EAAc5vB,EAAW/c,KAE1B,CAAC+c,EAAW/c,EAAM2sC,IAErB,IAAMT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,uBAGZ6zB,KAAK,GAAD,OAAKozC,GACT9zE,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,eACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,mBACJnQ,GAAI,IAIR,GAAI+wB,EACF,OACE,kBAACjiB,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GAClBA,EAAa5xB,UAA6C,MAAjC4xB,EAAa5xB,SAASiR,QAC9C,8BACGjE,EAAKU,EAAE,wBAAqB,IAC7B,kBAAC,IAAD,CAAM6E,GAAIoiE,GACP3nE,EAAKU,EAAE,sCAStB,IAAIg1C,GAAiB,EAKrB,MAJI,CAAC,QAAQ5mD,MAAK,SAAAmL,GAAI,OAAIgL,EAASC,SAAS3V,SAAS0K,QACnDy7C,GAAiB,GAIjB,oCACGA,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAEzCn2B,GAAa,kBAAC,GAAD,OAEZA,GAAa/V,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE+sC,KAAK,2CACL79B,GAAG,mDACH0R,OAAK,IAEP,kBAAC,IAAD,CACExoB,IAAI,UACJmW,KAAK,oDAEL,kBAAC,GAAD,CAAqBvO,KAAMA,KAE7B,kBAAC,IAAD,CACE5H,IAAI,OACJmW,KAAK,iDAEL,kBAAC,GAAD,CAAmBvO,KAAMA,EAAM+c,UAAWA,KAE5C,kBAAC,IAAD,CACE3kB,IAAI,QACJmW,KAAK,kDAEL,kBAAC,GAAD,CAAoBvO,KAAMA,KAE5B,kBAAC,IAAD,CACE5H,IAAI,SACJmW,KAAK,mDAEL,kBAAC,GAAD,OAEF,kBAAC,IAAD,CACEnW,IAAI,iBACJmW,KAAK,2DAEL,kBAAC,GAAD,CAASrX,cAAe,CAAEgtE,WAAYlkE,EAAKxC,OAE7C,kBAAC,IAAD,CAAOpF,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAKmyB,EAAM1zB,IAAX,aACLhE,EAAKU,EAAE,4CCxHTknE,I,GAAAA,GAlCf,YAA0C,IAAdx0D,EAAa,EAAbA,UAC1B,EAAkCnQ,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACM0P,EAAQ,iCAA6Bz0D,EAAUvf,GAAvC,UACRkR,EAAU8C,cAEVkH,EAAY,uCAAG,WAAMqpD,GAAN,mBAAA5wE,EAAA,sEAEXyQ,EAFW,2BAGZmgE,GAHY,IAIfhlD,UAAWA,EAAUvf,KAJN,SAMgBoJ,GAAStK,OAAOsF,GANhC,gBAMHjF,EANG,EAMTW,KACRoR,EAAQqI,KAAR,UAAgBy6D,EAAhB,YAA4B70E,EAASa,GAArC,aAPiB,gDASjBskE,EAAa,EAAD,IATK,yDAAH,sDAiBlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEppD,aAAcA,EACdmlC,aARe,WACnBnvC,EAAQqI,KAAKy6D,IAQT5P,oBAAoB,EACpBh4B,YAAajO,MCbfqH,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,uIAgELF,6BAzDf,SAA2BO,GAAQ,IAAD,EACxBg4B,EAAyDh4B,EAAzDg4B,UAAW+/B,EAA8C/3D,EAA9C+3D,QAASpjE,EAAqCqL,EAArCrL,KAAM2J,EAA+B0B,EAA/B1B,KAAMy5B,EAAyB/3B,EAAzB+3B,WAAY5yB,EAAanF,EAAbmF,SAE9C6xD,EAAqBriE,EAAKuc,eAAe8D,YAAYtoB,KAAI,SAAArB,GAAG,kCAC7DA,GAD6D,IAEhEoI,KAAM,WAGF2/B,EAAO,uBAAmBz+B,EAAKxC,IAErC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAK4H,EAAKxC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKwC,EAAKxC,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiBwC,EAAKxC,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,WAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIrjC,EAAK4D,QAGb,kBAAC,GAAD,CAAcxL,IAAI,cAChB,kBAAC,GAAD,CAAWuyD,KAAM0X,QAIvB,kBAAC,GAAD,CACEl2D,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEJ,kBAAC,GAAD,CAAYz+B,KAAMA,KACjB,UAAAA,EAAKuc,eAAeb,yBAApB,eAAuC6nB,OACtC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CAAQvJ,QAAQ,QAAQR,UAAW43B,IAAMrzB,GAAE,UAAKk0D,IAC9C,kBAAC,KAAD,cCpDV5jC,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAkLGyT,6BA/Kf,YAAsC,IAATnB,EAAQ,EAARA,KAC3B,EAAgCiD,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACQplC,EAAOutC,cAAPvtC,GACAsZ,EAAWrF,cAAXqF,OAER,EAWIrB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAE4BvX,QAAQmU,IAAI,CAChD3M,GAAezF,UAAU9D,EAAI5F,GAC7BmP,GAAemoE,iBAAiB1xE,KAJxB,0CAEHb,EAFG,KAEO80E,EAFP,uBAOH,CACLjU,MAAO7gE,EAASW,KAAKsB,QACrBuwE,UAAWxyE,EAASW,KAAKoiB,MACzBjL,QAASg9D,EAAYn0E,KAAKmX,QAC1B2O,wBACa,OAAXquD,QAAW,IAAXA,GAAA,UAAAA,EAAan0E,YAAb,eAAmBqiC,wBAAyB,IAC5C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MAAK,UAAAo4E,EAAYn0E,KAAKmX,eAAjB,eAA0BmrB,MAAO,IAAIrmC,QAC/D,SAAAnB,GAAG,uBAAIq5E,EAAYn0E,KAAKmX,eAArB,aAAI,EAA0BmrB,IAAIxnC,GAAKynC,gBAfpC,2CAkBT,CAACriC,EAAIsZ,IACR,CACE0mD,MAAO,GACP2R,UAAW,EACX16D,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCpB,IACEvN,OACE4nD,EAFJ,EAEIA,MACA2R,EAHJ,EAGIA,UACA16D,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSqpC,EAVX,EAUElpC,QA8BFhD,qBAAU,WACRksC,MACC,CAACA,IAEJ,IAAMqB,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOo6B,GAAS,KAUxC,EAKIhnD,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,SAAAiI,GAAI,OAAI4G,GAAS+8B,QAAQ3jC,EAAKxC,UAC7D,CAACmlC,IACJ,CAAElsB,SAAU+oB,GAAW7oB,WAAYyoC,IARxBxK,EADb,EACE7+B,UACamoD,EAFf,EAEErnD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAQIy6D,EAAiB,uCAAG,sBAAAvgF,EAAA,sEAClB+sE,IADkB,OAExBt7B,EAAY,IAFY,2CAAH,qDAKjBmB,EACJtvB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QACrDiW,EAAgBiY,EAASpqC,OAAS,GAAKoqC,EAASpqC,SAAWilE,EAAMjlE,OAEvE,OACE,oCACE,kBAAC,GAAD,CACEg2B,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOkpE,EACPnzC,UAAW8kD,EACXrgD,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACVmyC,eAAgB,CACd,CACE/tE,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLw5E,YAAY,EACZC,cAAc,GAEhB,CACEjuE,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,WACLw5E,YAAY,EACZ1oD,WAAW,GAEb,CACEtlB,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,UACLw5E,YAAY,EACZ1oD,WAAW,IAGf0F,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,iCAA4B5kC,EAA5B,iBAGV,IARY,CAShB,kBAAC,GAAD,CACEuwE,WAAYprC,EACZ6rC,aAAcW,EAAY,IAE5B,kBAAC,GAAD,CACE/2E,IAAI,SACJspC,SAAUgwC,EACVjwC,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,sBAKnC62B,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE5qD,IAAK4qD,EAAExlD,GACPwC,KAAMgjD,EACN3f,UAAS,iCAA4B7lC,EAA5B,kBAAwCwlD,EAAExlD,GAA1C,YACT4lE,QAAO,iCAA4B5lE,EAA5B,kBAAwCwlD,EAAExlD,GAA1C,SACP4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBA/FCsyB,EA+FkBkgB,OA9FjCrgB,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAJX,IAAAA,MAkGflW,mBACEmX,GACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,iCAA4B5kC,EAA5B,YAKbwZ,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,4CACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCxKf86D,OAhBf,YAAuD,IAA7BnlC,EAA4B,EAA5BA,cAAe5vB,EAAa,EAAbA,UACvC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3kB,IAAI,WAAWmW,KAAK,wCACzB,kBAAC,GAAD,CAAkBwO,UAAWA,KAE/B,kBAAC,IAAD,CAAO3kB,IAAI,OAAOmW,KAAK,4CACrB,kBAAC,GAAD,CAAeo+B,cAAeA,EAAe5vB,UAAWA,KAE1D,kBAAC,IAAD,CAAO3kB,IAAI,YAAYmW,KAAK,oCAC1B,kBAAC,GAAD,SCNFwjE,GAAmB/mE,IAAOC,IAAV,4FAAGD,CAAH,iSAatB,SAASgnE,GAAT,GAA0E,IAAD,IAA1CpjB,eAA0C,MAAhC,CAAEqjB,MAAO,GAAIC,IAAK,IAAc,EAARvoE,EAAQ,EAARA,KAC/D,EAAwBiD,mBAAS,SAAjC,mBAAO0pB,EAAP,KAAa6C,EAAb,KAEA,OAAIy1B,EAAQqjB,MAAM15E,OAAS,EAClB,KAIP,oCACE,sBACEoS,UAAWsqB,KAAqBC,GAChCX,WAAS,GAGT,kBAAC8E,GAAA,EAAD,CAAOC,WAAS,GACd,kBAACC,GAAA,EAAD,KACE,kBAACw4C,GAAD,KACE,8BAAOpoE,EAAKU,EAAE,qBACd,8BAAOV,EAAKU,EAAE,iCAGlB,kBAACkvB,GAAA,EAAD,KACE,kBAAC,GAAD,CACEzB,QAAS,CACP,CAAC,QAAS,SACV,CAAC,MAAO,QAEVt/B,MAAO89B,EACP9Q,SAAU,SAAAgU,GAAO,OAAIL,EAAQK,SAKrC,sBACE7uB,UAAWsqB,KAAqBE,GAChCZ,WAAS,GAGRq6B,EAAQt4B,GAAMv+B,KAAI,SAAAw9B,GAAO,OACxB,yBAAKn9B,IAAKm9B,GACE,UAATe,EACGnF,GAAiBoE,GACjB/D,GAAoB+D,SAYpCy8C,GAAoBnnE,aAAe,CACjC+jD,QAAS,CAAEqjB,MAAO,GAAIC,IAAK,KAGdpnE,4BAAWknE,I,oSCJXlnE,6BApEf,YAAkE,IAAxCqnE,EAAuC,EAAvCA,SAAUnlE,EAA6B,EAA7BA,SAAUwM,EAAmB,EAAnBA,UAAW7P,EAAQ,EAARA,KACvD,EAAkCiD,mBAASulE,EAAS7xD,SAApD,mBAAOq9C,EAAP,KAAkBC,EAAlB,KACA,EAAkChxD,oBAAS,GAA3C,mBAAOyJ,EAAP,KAAkBC,EAAlB,KAEA,EAA8Db,GAC5DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ0W,GAAamjC,OAAOmnC,EAAS30E,GAAI,CACrC8iB,SAAUq9C,IAFF,iCAIFA,GAJE,2CAKT,CAACwU,EAAUxU,IACdwU,EAAS7xD,SAPH1K,EAAR,EAAQA,OAAQG,EAAhB,EAAgBA,UAAWrK,EAA3B,EAA2BA,MAAgB0mE,EAA3C,EAAkCl8D,QAyBlC,OAfAhD,qBAAU,WACJ0C,IAAW+nD,IACbC,EAAahoD,GACT5I,GACFA,EAAS4I,MAGZ,CAACA,EAAQ+nD,EAAW3wD,IAEvBkG,qBAAU,WACJxH,GACF4K,GAAa,KAEd,CAAC5K,IAGF,kBAAC,WAAD,KACE,kBAAC,KAAD,CACEwE,QACEiiE,EAAS7xD,QACL3W,EAAKU,EAAE,2BACPV,EAAKU,EAAE,6BAEb4F,SAAS,OAET,sBACEuJ,UAAWA,EAEXhc,GAAE,mBAAc20E,EAAS30E,GAAvB,WACFkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAWiyC,EACX5sD,WACEgF,IAAco8D,EAAS51D,eAAeb,kBAAkB6nB,KAE1D/d,SAAU4sD,EACVjmE,aAAYxC,EAAKU,EAAE,2BAGtBgM,GAAa3K,IAAUqK,GACtB,kBAAC,GAAD,CACE5K,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAQiC,IAAUqK,EAClBrM,QAAS,kBAAM4M,GAAa,KAE3B3M,EAAKU,EAAE,mCACR,kBAAC,GAAD,CAAaqB,MAAOA,S,mIC1CxB2mE,GAAcrnE,YAAOe,MAAV,gFAAGf,CAAH,4DAgTFF,6BA3Sf,YAA6C,IAAD,UAAlBqnE,EAAkB,EAAlBA,SAAUxoE,EAAQ,EAARA,KAEhCnM,EAkBE20E,EAlBF30E,GACA2e,EAiBEg2D,EAjBFh2D,QACAV,EAgBE02D,EAhBF12D,YACA6F,EAeE6wD,EAfF7wD,UACAG,EAcE0wD,EAdF1wD,MACAD,EAaE2wD,EAbF3wD,QACAL,EAYEgxD,EAZFhxD,WACAC,EAWE+wD,EAXF/wD,SACApE,EAUEm1D,EAVFn1D,SACA4C,EASEuyD,EATFvyD,MACA/C,EAQEs1D,EARFt1D,SACAjZ,EAOEuuE,EAPFvuE,KACA8d,EAMEywD,EANFzwD,SACAR,EAKEixD,EALFjxD,MACAtC,EAIEuzD,EAJFvzD,WACAyC,EAGE8wD,EAHF9wD,UACA9E,EAEE41D,EAFF51D,eACAoF,EACEwwD,EADFxwD,SAGIjT,EAAU8C,cACR3C,EAAa4C,cAAb5C,SACFyjE,EAAWzjE,EAASvW,OAAO,EAAGuW,EAASjU,QAAQ,cAErD,EAII6a,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ0W,GAAa87B,QAAQnmC,GADjB,OAEVkR,EAAQqI,KAAR,UAAgBu7D,EAAhB,cAFU,2CAGT,CAAC90E,EAAIkR,EAAS4jE,KAPRC,EADX,EACEr8D,QACW0+B,EAFb,EAEE7+B,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,EAKId,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJqhF,EAAW,CACf3qE,GAAarE,gBAAgBhG,GAC7BqK,GAAa4qE,cAAc,CACzBvxD,WAMF,SADQ,OAARixD,QAAQ,IAARA,GAAA,UAAAA,EAAU51D,sBAAV,mBAA0BgF,4BAA1B,eAAgDwrC,kBAGhDylB,EAASz7D,KACP7P,GAAgB7D,WACd8uE,EAAS51D,eAAegF,qBAAqB/jB,KAKjD,kBADQ,OAAR20E,QAAQ,IAARA,GAAA,UAAAA,EAAU51D,sBAAV,mBAA0BgF,4BAA1B,eAAgDwrC,kBAGhDylB,EAASz7D,KACPvO,GAAwBnF,WACtB8uE,EAAS51D,eAAegF,qBAAqB/jB,KAIjDg1E,EAASz7D,KAAKxX,QAAQC,WA3Bd,SA8BkDD,QAAQmU,IAClE8+D,GA/BQ,0CA8BDl1E,EA9BC,KA8BDA,KAAgBo1E,EA9Bf,KA8BSp1E,KAAyB8F,EA9BlC,uBAkCH,CAAC9F,EAAKsB,QAAS8zE,EAAf,OAAgCtvE,QAAhC,IAAgCA,OAAhC,EAAgCA,EAAQ9F,OAlCrC,4CAmCT,CAACE,EAAI20E,EAAUjxD,IAClB,IA1CF,gBACEtL,OADF,GACW4J,EADX,KACwBovC,EADxB,KACiC/B,EADjC,KAEE92C,EAFF,EAEEA,UACO48D,EAHT,EAGEjnE,MACSknE,EAJX,EAIE18D,QAyCFhD,qBAAU,WACR0/D,MACC,CAACA,IAEJ,IAAMC,EAAOC,aAAS5xD,GAChB6xD,EACJF,EAAKl1E,QAAQq1E,OAASjgD,KAAMkgD,UAAYzxD,IAAYC,EAChD9X,EAAKU,EAAE,wBACPwoE,EAAKK,SAASp7E,QAAQ,OAAO,SAAAi3D,GAAC,OAAIA,EAAErhD,iBAE1C,EAYIm/C,GAAc,GAXhBzJ,GADF,EACEA,yBACAgD,GAFF,EAEEA,wBACA9D,GAHF,EAGEA,wBACA0D,GAJF,EAIEA,uBACAC,GALF,EAKEA,oBACAC,GANF,EAMEA,yBACAI,GAPF,EAOEA,wBACAD,GARF,EAQEA,mBACAE,GATF,EASEA,wBACAJ,GAVF,EAUEA,wBACAwB,GAXF,EAWEA,eAGIwrB,GACJ/vB,IACAgD,IACA9D,IACA0D,IACAC,IACAC,IACAI,IACAD,IACAE,IACAJ,IACAwB,GAEF,OAAI5xC,EACK,kBAAC,GAAD,MAGL48D,EACK,kBAAC,GAAD,CAAcjnE,MAAOinE,IAI5B,kBAAC,GAAD,KACE,sBAAgBR,SAAUA,IAC1B,kBAAC,GAAD,CAAYx1C,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,IACrC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,kBACd7R,MAAO24B,GAAiB3P,KAE1B,kBAAC,GAAD,CACE9d,MAAOiG,EAAKU,EAAE,uCACd7R,MAAO24B,GAAiBzP,KAE1B,kBAAC,GAAD,CAAQhe,MAAOiG,EAAKU,EAAE,iBAAc7R,MAAO24B,GAAiB1P,KAC5D,kBAAC,GAAD,CAAQ/d,MAAOiG,EAAKU,EAAE,wBAAqB7R,MAAOmpB,IAClD,kBAAC,GAAD,CAAQje,MAAOiG,EAAKU,EAAE,yBAAsB7R,MAAOu6E,IACnD,kBAAC,GAAD,CAAqBnkB,QAASA,IAC9B,kBAAC,GAAD,CACElrD,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAegC,aAEvB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM/Y,EAAeiC,cAEtB20D,IACC,oCACE,kBAACd,GAAD,CAAarmE,aAAa,MACvBrC,EAAKU,EAAE,yBAET27C,IACC,kBAAC,GAAD,CAAQtiD,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOwkB,IAExCslC,IACC,kBAAC,GAAD,CACE5+C,MAAOiG,EAAKU,EAAE,qBACd7R,OACgB,OAAd+jB,QAAc,IAAdA,OAAA,EAAAA,EAAgBQ,WACd,kBAAC,IAAD,CACE7N,GAAE,uBACoC,WAAtB,OAAdqN,QAAc,IAAdA,GAAA,UAAAA,EAAgBQ,iBAAhB,eAA2Bhe,MACvB,kBACA,YAHJ,mBAIEwd,QAJF,IAIEA,GAJF,UAIEA,EAAgBQ,iBAJlB,aAIE,EAA2Bvf,GAJ7B,aADJ,OAOG+e,QAPH,IAOGA,GAPH,UAOGA,EAAgBQ,iBAPnB,aAOG,EAA2BnZ,MAG9B,MAKPsiD,IACC,kBAAC,GAAD,CACExiD,MAAOiG,EAAKU,EAAE,8BACd7R,MAAOomB,IAGVqnC,IACC,kBAAC,GAAD,CAAQviD,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOonB,IAEtCwmC,IAAgD,mBAAd9kC,GACjC,kBAAC,GAAD,CACE5d,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8oB,EAAY3X,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAG7C+4C,IACC,kBAAC,GAAD,CACE7uB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,oBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY9lB,EAAYjnB,QAC7CinB,EAAYznB,KAAI,SAAAg3D,GAAC,OAChB,kBAAC,GAAD,CAAgB32D,IAAK22D,EAAEvxD,GAAI4gB,WAAY2wC,EAAGlpB,YAAU,UAM7DwgB,IAAsBjlC,GAAYA,EAAS7oB,OAAS,GACnD,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,iBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAYlkB,EAAS1sB,MAAM,KAAK6D,QAE/B6oB,EAAS1sB,MAAM,KAAKqD,KAAI,SAAA8zD,GAAM,OAC7B,kBAAC5lB,GAAA,EAAD,CAAM7tC,IAAKyzD,EAAQhmB,YAAU,GAC1BgmB,SAOZvF,IAA2BjlC,GAAaA,EAAU9oB,OAAS,GAC1D,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAYjkB,EAAU3sB,MAAM,KAAK6D,QAEhC8oB,EAAU3sB,MAAM,KAAKqD,KAAI,SAAA+zD,GAAO,OAC/B,kBAAC7lB,GAAA,EAAD,CAAM7tC,IAAK0zD,EAASjmB,YAAU,GAC3BimB,UAOXvF,IAA2BoB,KAC3B,kBAAC,GAAD,CACEnvD,MAAO2oB,EACP8U,KAAM,EACNvyB,MAAOiG,EAAKU,EAAE,yBAMxB,kBAAC,GAAD,MACiB,OAAdkS,QAAc,IAAdA,GAAA,UAAAA,EAAgBb,yBAAhB,eAAmC6nB,OAClC,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAIL,EAAS/W,QAAQ,UAAW,SAE/B6R,EAAKU,EAAE,eAGG,OAAdkS,QAAc,IAAdA,GAAA,UAAAA,EAAgBb,yBAAhB,eAAmCje,SAClC,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,wBACnB4gC,UAAWsnC,EACXxhE,WAAY6jC,GAEXjrC,EAAKU,EAAE,uBAIbqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,mCACR,kBAAC,GAAD,CAAaqB,MAAOA,S,uIC9Tf,SAAS0nE,GAAaxxE,EAAQ+H,GAC3C,MAA+B/H,EAAOyxE,cAAc3+E,MAAM,KAA1D,mBAAO4+E,EAAP,KAAkBC,EAAlB,KAEA,EAA0CD,EAAU5+E,MAAM,KAA1D,mBAAO8+E,EAAP,KAAkBC,EAAlB,KAA8BC,EAA9B,KAGA,EAA0DH,EAAU7+E,MAClE,KADF,0BAAOi/E,OAAP,MAAmB,EAAnB,SAAsBC,OAAtB,MAAoC,EAApC,SAAuCC,OAAvC,MAAqD,EAArD,EAIMC,EAAU,CACdp4E,SAAUkG,EAAOlG,SACjB8lB,QAAS,IAAIzkB,KACXA,KAAKg3E,IACHP,EACA76E,SAAS86E,EAAY,IAAM,EAC3BC,EACAC,EACAC,EACAC,IAGJG,KAAMpyE,EAAO+f,UAGf,OAAQ/f,EAAOqyE,WACb,IAAK,OACHH,EAAQp0D,MAAQ,EAChBo0D,EAAQd,KAAOjgD,KAAMkgD,SACrB,MACF,IAAK,SACHa,EAAQd,KAAOjgD,KAAMkgD,SACrB,MACF,IAAK,OACHa,EAAQd,KAAOjgD,KAAMmhD,OACrB,MACF,IAAK,MACHJ,EAAQd,KAAOjgD,KAAMohD,MACrB,MACF,IAAK,OACHL,EAAQd,KAAOjgD,KAAMqhD,OACrBN,EAAQO,UAAYzyE,EAAO0yE,WAC3B,MACF,IAAK,QACHR,EAAQd,KAAOjgD,KAAMwhD,QACA,QAAjB3yE,EAAO4yE,MACTV,EAAQW,WAAa7yE,EAAO8yE,eACF,QAAjB9yE,EAAO4yE,QAChBV,EAAQa,SAAWh8E,SAASiJ,EAAOgzE,mBAAoB,IACvDd,EAAQO,UAAYxhD,GAAqBjxB,EAAOizE,YAAalrE,IAE/D,MACF,IAAK,OACHmqE,EAAQd,KAAOjgD,KAAM+hD,OACA,QAAjBlzE,EAAO4yE,OACTV,EAAQiB,QAAUp8E,SAASiJ,EAAOozE,cAAe,IACjDlB,EAAQW,WAAa7yE,EAAO8yE,gBACF,QAAjB9yE,EAAO4yE,QAChBV,EAAQa,SAAWh8E,SAASiJ,EAAOgzE,mBAAoB,IACvDd,EAAQO,UAAYxhD,GAAqBjxB,EAAOizE,YAAalrE,GAC7DmqE,EAAQiB,QAAUp8E,SAASiJ,EAAOqzE,cAAe,KAEnD,MACF,QACE,MAAM,IAAIz9E,MAAMmS,EAAKU,EAAE,mDAG3B,GAAyB,SAArBzI,EAAOqyE,UACT,OAAQryE,EAAOszE,KACb,IAAK,QACH,MACF,IAAK,QACHpB,EAAQp0D,MAAQ9d,EAAOuzE,YACvB,MACF,IAAK,SACH,MAA2BvzE,EAAOwzE,YAAY1gF,MAAM,KAApD,mBAAO2gF,EAAP,KAAgBC,EAAhB,KACA,EAAoCD,EAAQ3gF,MAAM,KAAlD,mBAAO6gF,EAAP,KAAgBC,EAAhB,KAA0BC,EAA1B,KACA,EAAoDH,EAAQ5gF,MAAM,KAAlE,0BAAOghF,OAAP,MAAiB,EAAjB,SAAoBC,OAApB,MAAgC,EAAhC,SAAmCC,OAAnC,MAA+C,EAA/C,EACA9B,EAAQlyD,MAAQ,IAAI7kB,KAClBA,KAAKg3E,IACHwB,EACA58E,SAAS68E,EAAU,IAAM,EACzBC,EACAC,EACAC,EACAC,IAGJ,MAEF,QACE,MAAM,IAAIp+E,MAAMmS,EAAKU,EAAE,6CAI7B,OAAOypE,EClFT,IAAM+B,GAAa7qE,YAAOu7B,MAAV,yFAAGv7B,CAAH,2HAeV8qE,GAAgB9qE,IAAO6jC,EAAV,4FAAG7jC,CAAH,sCAKbygB,GAAWzgB,YAAO+qE,MAAV,uFAAG/qE,CAAH,6CAMP,SAASgrE,GAAwBrsE,GACtC,OAAO,SAAAnR,GACL,GAAqB,kBAAVA,EAAoB,CAC7B,IAAK3D,OAAO4vC,UAAUjsC,GACpB,OAAOmR,EAAKU,EAAE,sCAEhB,GAAI7R,EAAQ,EACV,OAAOmR,EAAKU,EAAE,0CAGlB,IAAK7R,EACH,OAAOmR,EAAKU,EAAE,uCAMpB,IAqgBeS,yBArgBgB,SAAC,GAAc,IAAZnB,EAAW,EAAXA,KAChC,EAAwBqtB,aAAS,CAC/BpzB,KAAM,kBADDoxE,EAAP,oBAGA,EAAyBh+C,aAAS,CAChCpzB,KAAM,mBADD8wE,EAAP,oBAGA,EAA6B19C,aAAS,CACpCpzB,KAAM,uBADDgxE,EAAP,oBAGA,EAAsB59C,aAAS,CAC7BpzB,KAAM,gBADDixE,EAAP,oBAGA,EAAwB79C,aAAS,CAC/BpzB,KAAM,kBADDqxE,EAAP,oBAGA,EAAwBj+C,aAAS,CAC/BpzB,KAAM,kBADDyvE,EAAP,oBAGA,EAAwDr8C,aAAS,CAC/DpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAO2qE,EAAP,KAAmB2B,EAAnB,KAAmCC,EAAnC,KAIA,EAAuBl/C,aAAS,CAC9BpzB,KAAM,MACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOurE,EAAP,KAAYiB,EAAZ,KAIA,EAAiCn/C,aAAS,CACxCpzB,KAAM,WACNmzB,SAAUi/C,GAAwBrsE,KAFpC,mBAAOjO,EAAP,KAAiB06E,EAAjB,KAIA,EAA2Bp/C,aAAS,CAClCpzB,KAAM,QACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAO6qE,EAAP,KAAc6B,EAAd,KAIA,EAAuCr/C,aAAS,CAC9CpzB,KAAM,cACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOyrE,EAAP,KAAoBkB,EAApB,KAIA,EAAoBt/C,aAAS,CAC3BpzB,KAAM,cADDqwE,EAAP,oBAGAj9C,aAAS,CACPpzB,KAAM,cACNmzB,SAAUi/C,GAAwBrsE,KAGpC,IAAM4sE,EAAe,CACnB,CACEn+E,IAAK,UACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,iBAEhB,CACEjS,IAAK,WACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,kBAEhB,CACEjS,IAAK,QACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,eAEhB,CACEjS,IAAK,QACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,eAEhB,CACEjS,IAAK,MACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,aAEhB,CACEjS,IAAK,OACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,cAEhB,CACEjS,IAAK,OACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,cAEhB,CACEjS,IAAK,SACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,gBAEhB,CACEjS,IAAK,YACLI,MAAO,EACPkL,MAAOiG,EAAKU,EAAE,mBAEhB,CACEjS,IAAK,UACLI,MAAO,GACPkL,MAAOiG,EAAKU,EAAE,iBAEhB,CACEjS,IAAK,WACLI,MAAO,GACPkL,MAAOiG,EAAKU,EAAE,kBAEhB,CACEjS,IAAK,WACLI,MAAO,GACPkL,MAAOiG,EAAKU,EAAE,mBAIZmsE,EAAmB,SAAC7jD,EAAKlK,GAC7B,IAAMguD,EAAa,YAAOnC,EAAW97E,OACjCiwB,GACFguD,EAAc1/D,KAAK4b,GACnBujD,EAAkB//D,SAASsgE,IAE3BP,EAAkB//D,SAChBsgE,EAAcl9E,QAAO,SAAAm9E,GAAW,OAAIA,IAAgB/jD,OAuC1D,OACE,oCACE,kBAAC0E,GAAA,EAAD,CACEzzB,KAAK,WACL0zB,QAAQ,qBACRC,kBAAmB6+C,EAAa1qE,MAChC8P,YAAU,EACVgc,UACG4+C,EAAah/C,SAAYg/C,EAAa1qE,MAAoB,QAAZ,UAEjDhI,MAAOiG,EAAKU,EAAE,mBAEd,0BACE,oCAEE7M,GAAG,qBACHsB,KAAK,SACLyU,IAAI,IACJq/B,KAAK,KACDl3C,EANN,CAOE8pB,SAAU,SAAChtB,EAAOmsB,GAChBjpB,EAAS8pB,SAASb,OAGtB,kBAACmxD,GAAD,KA1DiB,WACvB,IAAMa,EAAgBj7E,EAASlD,MAE/B,OAAQy7E,EAAUz7E,OAChB,IAAK,SACH,OAAOmR,EAAKU,EAAE,wDAAyD,CACrEssE,kBAEJ,IAAK,OACH,OAAOhtE,EAAKU,EAAE,oDAAqD,CACjEssE,kBAEJ,IAAK,MACH,OAAOhtE,EAAKU,EAAE,kDAAmD,CAC/DssE,kBAEJ,IAAK,OACH,OAAOhtE,EAAKU,EAAE,oDAAqD,CACjEssE,kBAEJ,IAAK,QACH,OAAOhtE,EAAKU,EAAE,sDAAuD,CACnEssE,kBAEJ,IAAK,OACH,OAAOhtE,EAAKU,EAAE,oDAAqD,CACjEssE,kBAEJ,QACE,MAAM,IAAIn/E,MAAMmS,EAAKU,EAAE,oDA6BLusE,MAGE,UAAZ,OAAT3C,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,QACV,kBAAC6+B,GAAA,EAAD,CACEzzB,KAAK,aACL0zB,QAAQ,wBACRC,kBAAmB0+C,EAAevqE,MAClC8P,YAAU,EACVgc,UACGy+C,EAAe7+C,SAAY6+C,EAAevqE,MAEvC,QADA,UAGNhI,MAAOiG,EAAKU,EAAE,iBAEd,0BACE,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMC,IAC3CxN,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMC,GAAIvK,IAE7Btc,aAAYxC,EAAKU,EAAE,eACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAME,IAC3CzN,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAME,GAAIxK,IAE7Btc,aAAYxC,EAAKU,EAAE,eACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMG,IAC3C1N,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMG,GAAIzK,IAE7Btc,aAAYxC,EAAKU,EAAE,gBACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMI,IAC3C3N,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMI,GAAI1K,IAE7Btc,aAAYxC,EAAKU,EAAE,kBACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMK,IAC3C5N,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMK,GAAI3K,IAE7Btc,aAAYxC,EAAKU,EAAE,iBACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMM,IAC3C7N,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMM,GAAI5K,IAE7Btc,aAAYxC,EAAKU,EAAE,eACnB7M,GAAG,4BACHoG,KAAK,eAEP,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,YACdqhB,UAAW4oD,EAAW97E,MAAMU,SAAS65B,KAAMO,IAC3C9N,SAAU,SAAAiD,GACR+tD,EAAiBzjD,KAAMO,GAAI7K,IAE7Btc,aAAYxC,EAAKU,EAAE,iBACnB7M,GAAG,4BACHoG,KAAK,kBAKU,WAAZ,OAATqwE,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,QAA0C,UAAZ,OAATy7E,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,UAC1CyrC,MAAM,IAAIlnC,KAAKs2E,EAAc76E,SAC5B,kBAAC6+B,GAAA,EAAD,CACEzzB,KAAK,QACL0zB,QAAQ,kBACRC,kBAAmB8+C,EAAU3qE,MAC7B8P,YAAU,EACVgc,UACG6+C,EAAUj/C,SAAYi/C,EAAU3qE,MAAoB,QAAZ,UAE3ChI,MAAOiG,EAAKU,EAAE,gBAEd,kBAACwrE,GAAD,CACEr4E,GAAG,sBACHoG,KAAK,QACLF,MACE,0BACwB,WAAZ,OAATuwE,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,QACV,sBACEgF,GAAG,6BAGH,kBAAC,QAAD,aAGkB,UAAZ,OAATy2E,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,QACV,oCACEgF,GAAG,4BAEHuT,WAA4B,QAAhByjE,EAAMh8E,MAClB8E,KAAMi5E,GACFvB,IAGR,kBAACzvD,GAAA,EAAD,eACE/nB,GAAG,6BACHsB,KAAK,SACLyU,IAAI,IACJoB,IAAI,KACJi+B,KAAK,IACL7hC,WAA4B,QAAhByjE,EAAMh8E,OACdk8E,EAPN,CAQElvD,SAAU,SAAChtB,EAAOmsB,GAChB+vD,EAAelvD,SAASb,QAKhCnsB,MAAM,MACNkzB,UAA2B,QAAhB8oD,EAAMh8E,MACjBgtB,SAAU,SAAChtB,EAAOmsB,GAChBA,EAAM9T,OAAOrY,MAAQ,MACrBg8E,EAAMhvD,SAASb,MAGnB,kBAACkxD,GAAD,CACEr4E,GAAG,sBACHoG,KAAK,QACLF,MACE,0BACE,sBACElG,GAAG,6BAGH,kBAAC,QAAD,aAEF,kBAAC,GAAD,eACEA,GAAG,iCACHuT,WAA4B,QAAhByjE,EAAMh8E,MAClB8E,KAAM,CACJ,CAAE9E,MAAO,EAAGJ,IAAK,QAASsL,MAAOiG,EAAKU,EAAE,eACxC,CACE7R,MAAO,EACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CAAE7R,MAAO,EAAGJ,IAAK,QAASsL,MAAOiG,EAAKU,EAAE,eACxC,CACE7R,MAAO,EACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CAAE7R,MAAO,EAAGJ,IAAK,QAASsL,MAAOiG,EAAKU,EAAE,eACxC,CAAE7R,OAAQ,EAAGJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,gBAEtCuqE,IAEN,kBAAC,GAAD,eACEp3E,GAAG,0BACHuT,WAA4B,QAAhByjE,EAAMh8E,MAClB8E,KAAM,CACJ,CACE9E,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CACE7R,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CACE7R,MAAO,UACPJ,IAAK,UACLsL,MAAOiG,EAAKU,EAAE,iBAEhB,CACE7R,MAAO,YACPJ,IAAK,YACLsL,MAAOiG,EAAKU,EAAE,mBAEhB,CACE7R,MAAO,WACPJ,IAAK,WACLsL,MAAOiG,EAAKU,EAAE,kBAEhB,CACE7R,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CACE7R,MAAO,WACPJ,IAAK,WACLsL,MAAOiG,EAAKU,EAAE,kBAEhB,CAAE7R,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,aAC1C,CACE7R,MAAO,UACPJ,IAAK,UACLsL,MAAOiG,EAAKU,EAAE,iBAEhB,CACE7R,MAAO,aACPJ,IAAK,aACLsL,MAAOiG,EAAKU,EAAE,uBAGdwqE,IAEgB,UAAZ,OAATZ,QAAS,IAATA,OAAA,EAAAA,EAAWz7E,QACV,oCACE,sBACEgF,GAAG,gCAGH,kBAAC,QAAD,YAEF,kBAAC,GAAD,eACEA,GAAG,4BACHuT,WAA4B,QAAhByjE,EAAMh8E,MAClB8E,KAAMi5E,GACFtB,MAMdz8E,MAAM,MACNkzB,UAA2B,QAAhB8oD,EAAMh8E,MACjBgtB,SAAU,SAAChtB,EAAOmsB,GAChBA,EAAM9T,OAAOrY,MAAQ,MACrBg8E,EAAMhvD,SAASb,OAKzB,kBAAC0S,GAAA,EAAD,CACEzzB,KAAK,MACL0zB,QAAQ,eACRC,kBAAmB4+C,EAAQzqE,MAC3B8P,YAAU,EACVgc,UAAY2+C,EAAQ/+C,SAAY++C,EAAQzqE,MAAoB,QAAZ,UAChDhI,MAAOiG,EAAKU,EAAE,aAEd,kBAACk8B,GAAA,EAAD,CACE/oC,GAAG,YACHoG,KAAK,MACLF,MAAOiG,EAAKU,EAAE,cACd7R,MAAM,QACNkzB,UAAyB,UAAdwpD,EAAI18E,MACfgtB,SAAU,SAAChtB,EAAOmsB,GAChBA,EAAM9T,OAAOrY,MAAQ,QACrB08E,EAAI1vD,SAASb,MAGjB,kBAAC4hB,GAAA,EAAD,CACE/oC,GAAG,YACHoG,KAAK,MACLF,MAAOiG,EAAKU,EAAE,oCACd7R,MAAM,QACNkzB,UAAyB,UAAdwpD,EAAI18E,MACfgtB,SAAU,SAAChtB,EAAOmsB,GAChBA,EAAM9T,OAAOrY,MAAQ,QACrB08E,EAAI1vD,SAASb,MAGjB,kBAAC4hB,GAAA,EAAD,CACE/oC,GAAG,cACHoG,KAAK,MACLF,MAAOiG,EAAKU,EAAE,gBACd7R,MAAM,SACNkzB,UAAyB,WAAdwpD,EAAI18E,MACfgtB,SAAU,SAAChtB,EAAOmsB,GAChBA,EAAM9T,OAAOrY,MAAQ,SACrB08E,EAAI1vD,SAASb,OAIH,WAAZ,OAAHuwD,QAAG,IAAHA,OAAA,EAAAA,EAAK18E,QACJ,kBAAC,GAAD,CACEgF,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,oBACdzG,KAAK,cACL9E,KAAK,SACLyU,IAAI,IACJq/B,KAAK,IACL7b,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAGE,YAAZ,OAAH05D,QAAG,IAAHA,OAAA,EAAAA,EAAK18E,QACJ,kBAAC6+B,GAAA,EAAD,CACEC,QAAQ,wBACRC,kBAAmB++C,EAAgB5qE,MACnC8P,YAAU,EACVgc,UACG8+C,EAAgBl/C,SAAYk/C,EAAgB5qE,MAEzC,QADA,UAGNhI,MAAOiG,EAAKU,EAAE,uBAEd,yCACEmP,UAAU,oBACV1a,KAAK,iBACLtB,GAAG,wBACHo1C,KAAK,KACDwiC,S,kzCCpiBVyB,GAAsB,WAAgB,IAAfC,EAAc,uDAAP,GAClC,MACE,CACE/jD,KAAME,GACNF,KAAMG,GACNH,KAAMI,GACNJ,KAAMK,GACNL,KAAMM,GACNN,KAAMO,GACNP,KAAMC,IACN+jD,OAAM,SAAA/b,GAAO,OAAI8b,EAAKl8E,QAAQogE,IAAY,KAErC,MAGP,CAACjoC,KAAME,GAAIF,KAAMG,GAAIH,KAAMI,GAAIJ,KAAMK,GAAIL,KAAMM,IAAI0jD,OACjD,SAAA/b,GAAO,OAAI8b,EAAKl8E,QAAQogE,IAAY,KAG/B,UAEL,CAACjoC,KAAMO,GAAIP,KAAMC,IAAI+jD,OAAM,SAAA/b,GAAO,OAAI8b,EAAKl8E,QAAQogE,IAAY,KAC1D,aAEL8b,EAAKl8E,QAAQm4B,KAAME,KAAO,EACrB,SAEL6jD,EAAKl8E,QAAQm4B,KAAMG,KAAO,EACrB,UAEL4jD,EAAKl8E,QAAQm4B,KAAMI,KAAO,EACrB,YAEL2jD,EAAKl8E,QAAQm4B,KAAMK,KAAO,EACrB,WAEL0jD,EAAKl8E,QAAQm4B,KAAMM,KAAO,EACrB,SAELyjD,EAAKl8E,QAAQm4B,KAAMO,KAAO,EACrB,WAELwjD,EAAKl8E,QAAQm4B,KAAMC,KAAO,EACrB,SAGF,MAGT,SAASgkD,GAAT,GAAoD,IAAtBrtE,EAAqB,EAArBA,KAAMstE,EAAe,EAAfA,YAClC,EAA2CjgD,aAAS,CAClDpzB,KAAM,gBACNmzB,SAAUhV,GACRpY,EAAKU,EAAE,oDACPV,KAJJ,mBAAO0pE,EAAP,KAAsB6D,EAAtB,KAOA,EAAiClgD,aAAS,CACxCpzB,KAAM,WACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOgY,EAAP,KAAiBw1D,EAAjB,KAIA,EAAmCngD,aAAS,CAC1CpzB,KAAM,YACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOsqE,EAAP,KAAkBmD,EAAlB,KAKA,OACE,oCACE,kBAAC,GAAD,CACE55E,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAACu4B,GAAA,EAAD,CACEC,QAAQ,0BACRC,kBAAmB2/C,EAAkBxrE,MACrC8P,YAAU,EACVgc,UACG0/C,EAAkB9/C,SAAY8/C,EAAkBxrE,MAE7C,QADA,UAGNhI,MAAOiG,EAAKU,EAAE,yBAEd,yCACEmP,UAAU,oBACV1a,KAAK,iBACLtB,GAAG,0BACHo1C,KAAK,KACDygC,KAGR,kBAACh8C,GAAA,EAAD,CACEzzB,KAAK,WACL0zB,QAAQ,oBACRC,kBAAmB4/C,EAAazrE,MAChC8P,YAAU,EACVgc,UACG2/C,EAAa//C,SAAY+/C,EAAazrE,MAAoB,QAAZ,UAEjDhI,MAAOiG,EAAKU,EAAE,yBAEd,kBAAC,GAAD,eACE7M,GAAG,oBACHF,KAAM25E,GACFt1D,KAGR,kBAAC0V,GAAA,EAAD,CACEzzB,KAAK,YACL0zB,QAAQ,oBACRC,kBAAmB6/C,EAAc1rE,MACjC8P,YAAU,EACVgc,UACG4/C,EAAchgD,SAAYggD,EAAc1rE,MAAoB,QAAZ,UAEnDhI,MAAOiG,EAAKU,EAAE,uBAEd,kBAAC,GAAD,eACE7M,GAAG,qBACHF,KAAM,CACJ,CAAE9E,MAAO,OAAQJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,yBAC5C,CAAE7R,MAAO,SAAUJ,IAAK,SAAUsL,MAAOiG,EAAKU,EAAE,gBAChD,CAAE7R,MAAO,OAAQJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,cAC5C,CAAE7R,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,aAC1C,CAAE7R,MAAO,OAAQJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,cAC5C,CAAE7R,MAAO,QAASJ,IAAK,QAASsL,MAAOiG,EAAKU,EAAE,eAC9C,CAAE7R,MAAO,OAAQJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,gBAE1C4pE,KAGa,SAApBA,EAAUz7E,OACT,kBAACwiC,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,2BAEV,kBAACwwB,GAAD,KACE,kBAAC,GAAD,SAQZ,SAASw8C,GAAT,GAOI,IACEC,EAPJz5B,EAMC,EANDA,aACAnlC,EAKC,EALDA,aACA/O,EAIC,EAJDA,KACAwoE,EAGC,EAHDA,SACAvoC,EAEC,EAFDA,YACG7V,EACF,kBAEKy+B,EAAM,IAAIz1D,KACVw6E,EAAqB,IAAIx6E,KACO,IAApCuW,KAAKkkE,KAAKhlB,EAAIx1D,UAAY,MAEtBy6E,EAAW,IAAI16E,KAAKw6E,GAC1BE,EAASC,QAAQD,EAAS7kD,UAAY,GAEtC,IAAMxZ,EAAgB,CACpBk7D,WAAY,GACZ74D,YAAa02D,EAAS12D,aAAe,GACrCy5D,IAAK,QACLE,YAAa/iD,GAAoBolD,GACjCxD,UAAW,OACXv4E,SAAU,EACVkI,KAAMuuE,EAASvuE,MAAQ,GACvBuxE,YAAa,EACbX,MAAO,MACPQ,cAAe,EACfN,eAAgB,EAChBG,YAAa,SACbI,cAAe,EACfL,mBAAoB,EACpBvB,cAAehhD,GAAoBklD,GACnC51D,SAAUwwD,EAASxwD,UAAY,oBAG3Bg2D,EAAmB,GAEzB,GAAIv+E,OAAOC,KAAK84E,GAAU55E,OAAS,EACjC,GAAI45E,EAASjxD,MACX,IACE,MAWI6R,KAAM6kD,WAAWzF,EAASjxD,MAAMppB,QAAQ,IAAK,OAV/C+/E,YACE9C,EAFJ,EAEIA,QACAN,EAHJ,EAGIA,WACAE,EAJJ,EAIIA,SACAN,EALJ,EAKIA,UACA30D,EANJ,EAMIA,MACA8B,EAPJ,EAOIA,QACAwxD,EARJ,EAQIA,KACAt3E,EATJ,EASIA,SAsBJ,GAlBI8lB,IACFm2D,EAAiBtE,cAAgBhhD,GAC/B,IAAIt1B,KAAKy0B,GAAoBhQ,MAI7B2wD,EAASvwD,OACX+1D,EAAiBzC,IAAM,SACvByC,EAAiBvC,YAAcjD,EAASvwD,OAC/BlC,IACTi4D,EAAiBzC,IAAM,QACvByC,EAAiBxC,YAAcz1D,GAG7BhkB,IACFi8E,EAAiBj8E,SAAWA,GAGV,kBAATs3E,EACT,OAAQA,GACN,KAAKjgD,KAAMkgD,SACLd,EAAS3wD,UAAY2wD,EAAS1wD,QAChCk2D,EAAiB1D,UAAY,UAE/B,MACF,KAAKlhD,KAAMmhD,OACTyD,EAAiB1D,UAAY,OAC7B,MACF,KAAKlhD,KAAMohD,MACTwD,EAAiB1D,UAAY,MAC7B,MACF,KAAKlhD,KAAMqhD,OACTuD,EAAiB1D,UAAY,OACzBI,IACFsD,EAAiBrD,WAAaD,GAEhC,MACF,KAAKthD,KAAMwhD,QACToD,EAAiB1D,UAAY,QACzBQ,EACFkD,EAAiBjD,eAAiBD,EACzBE,IACTgD,EAAiBnD,MAAQ,MACzBmD,EAAiB/C,mBAAqBD,EACtCgD,EAAiB9C,YAAcgC,GAAoBxC,IAErD,MACF,KAAKthD,KAAM+hD,OACT6C,EAAiB1D,UAAY,OACzBQ,GACFkD,EAAiBjD,eAAiBD,EAClCkD,EAAiB3C,cAAgBD,GACxBJ,IACTgD,EAAiBnD,MAAQ,MACzBmD,EAAiB/C,mBAAqBD,EACtCgD,EAAiB9C,YAAcgC,GAAoBxC,GACnDsD,EAAiB1C,cAAgBF,IAOzC,MAAOrpE,GACP4rE,EAAa5rE,OAGf4rE,EAAa,IAAI9/E,MAAMmS,EAAKU,EAAE,mCAIlC,MAKIoL,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa0W,GAAaiwE,eAD1B,uBACFx6E,EADE,EACFA,KADE,kBAEHA,EAAKvF,KAAI,SAAAggF,GACd,MAAO,CACLv/E,MAAOu/E,EAAKn0E,KACZxL,IAAK2/E,EAAKn0E,KACVF,MAAOq0E,EAAKn0E,UANN,2CAST,KAdMo0E,EADX,EACE9hE,QACOqY,EAFT,EAEE7iB,MACA6/D,EAHF,EAGEA,eACQ0L,EAJV,EAIErhE,OAkBF,OAJA1C,qBAAU,WACR8kE,MACC,CAACA,IAEAzpD,GAAgB+oD,EACX,kBAAC,GAAD,CAAc5rE,MAAO6iB,GAAgB+oD,IAG1C/L,EACK,kBAAC,GAAD,MAIP,kBAAC,GAAD,MACG,WACC,OACE,kBAAC,KAAD,CACEnyD,cAAehgB,OAAOk3C,OAAOl3B,EAAeu+D,GAC5Ct+D,SAAUX,EACVqe,SAAU,SAAAn1B,GACR,IAAM+3C,EAAS,GAEbu7B,EAMEtzE,EANFszE,IACAE,EAKExzE,EALFwzE,YACAnB,EAIEryE,EAJFqyE,UACAO,EAGE5yE,EAHF4yE,MACAE,EAEE9yE,EAFF8yE,eACArB,EACEzxE,EADFyxE,cAsBF,MAlBU,WAAR6B,GACA,IAAIn4E,KAAKs2E,GAAiB,IAAIt2E,KAAKq4E,KAEnCz7B,EAAOy7B,YAAczrE,EAAKU,EACxB,8EAKa,UAAd4pE,GAAuC,SAAdA,GAChB,QAAVO,KACCE,EAAiB,GAAKA,EAAiB,MAExC/6B,EAAO66B,MAAQ7qE,EAAKU,EAClB,sDAIGsvC,KAGR,SAAArgC,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACm8C,GAAD,eACErtE,KAAMA,EACNstE,YAAaA,GACTljD,IAEN,kBAAC,GAAD,CAAiBroB,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,uBAmBrC2+D,GAAaxsE,aAAe,CAC1BsnE,SAAU,GACVvoC,YAAa,MAGA9+B,4BAAWusE,ICzY1B,SAASY,GAAT,GAA2C,IAAnBtuE,EAAkB,EAAlBA,KAAMwoE,EAAY,EAAZA,SAC5B,EAA8CvlE,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAER3C,EADS4C,cACT5C,SACFyjE,EAAWzjE,EAASvW,OAAO,EAAGuW,EAASjU,QAAQ,cAE/C8d,EAAY,uCAAG,WAAM9W,GAAN,mBAAAzQ,EAAA,sEAEX0hF,EAAO,IAAI9/C,KAAMqgD,GAAaxxE,EAAQ+H,IAF3B,SAKP9B,GAAamjC,OAAOmnC,EAAS30E,GAAI,CACzCoG,KAAMhC,EAAOgC,KACb6X,YAAa7Z,EAAO6Z,YACpByF,MAAO2xD,EAAK9rD,WAAWjvB,QAAQ,MAAO,OARvB,gBAIHsgF,EAJG,EAIf96E,KAAQE,GAOVkR,EAAQqI,KAAR,UAAgBu7D,EAAhB,qBAAqC8F,EAArC,aAXiB,gDAajBD,EAAmB,EAAD,IAbD,yDAAH,sDAiBlB,OACE,kBAAC7rE,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6lE,SAAUA,EACVt0B,aAAc,kBACZnvC,EAAQqI,KAAR,UAAgBu7D,EAAhB,qBAAqCH,EAAS30E,GAA9C,cAEFkb,aAAcA,EACdkxB,YAAasuC,MAWvBD,GAAaptE,aAAe,GAEbC,4BAAWmtE,ICyEXntE,6BA9Gf,YAAgE,IAA5CnB,EAA2C,EAA3CA,KAAMgjC,EAAqC,EAArCA,cAAe0rC,EAAsB,EAAtBA,mBACvC,EAAgCzrE,mBAAS,MAAzC,mBAAOulE,EAAP,KAAiBmG,EAAjB,KACA,EAA4C1rE,oBAAS,GAArD,mBAAO2+D,EAAP,KAAuBC,EAAvB,KACA,EAAwC5+D,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACQk5B,EAAertC,cAAfqtC,WACFxpE,EAAW6C,cACT5C,EAAaD,EAAbC,SACFyjE,EAAWzjE,EAASvW,OAAO,EAAGuW,EAASjU,QAAQ,cAErDsY,qBAAU,YACM,uCAAG,8BAAA/hB,EAAA,+EAEU0W,GAAa+kC,WAAWwrC,GAFlC,gBAEL96E,EAFK,EAELA,KACRg7E,EAAYh7E,GAHC,gDAKb4hD,EAAgB,EAAD,IALF,yBAObssB,GAAkB,GAPL,4EAAH,qDAWdxsB,KACC,CAACpwC,EAASC,SAAUupE,IAEvBllE,qBAAU,WACJi/D,GACFxlC,EAAc0rC,EAAoBlG,KAGnC,CAACA,EAAUkG,IACd,IAAMnsC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,2BAGZ6zB,KAAK,GAAD,OAAKo0C,EAAL,aACJ90E,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKo0C,EAAL,qBAA0BH,GAAYA,EAAS30E,GAA/C,YACJA,GAAI,IAIR,GAAI+tE,EACF,OAAO,kBAAC,GAAD,MAGT,GACE4G,EAAS51D,eAAegF,qBAAqB/jB,KAC7C7E,SAAS0/E,EAAmB76E,GAAI,IAEhC,OACE,kBAAC,GAAD,KACG20E,GACC,kBAAC,IAAD,CAAMjjE,GAAE,UAAKojE,EAAL,cAA2B3oE,EAAKU,EAAE,yBAMlD,GAAIkkB,EACF,OAAO,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAG9B,IAAI8wB,GAAiB,EAQrB,OALGzwC,EAASC,SAAS3V,SAAS,gBAC5B0V,EAASC,SAAS86B,SAAS,UAE3B0V,GAAiB,GAGjB,oCACGA,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAI,UAAKulC,EAAL,yBACJpjE,GAAE,UAAKojE,EAAL,iCACF1xD,OAAK,IAENuxD,GAAY,CACX,kBAAC,IAAD,CAAO/5E,IAAI,OAAOmW,KAAI,UAAK+jE,EAAL,uBACpB,kBAAC,GAAD,CAAcH,SAAUA,KAE1B,kBAAC,IAAD,CACE/5E,IAAI,UACJmW,KAAI,UAAK+jE,EAAL,kCAEJ,kBAAC,GAAD,CAAgBH,SAAUA,MAG9B,kBAAC,IAAD,CAAO/5E,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,KACG8pE,GACC,kBAAC,IAAD,CAAMnpE,GAAE,UAAKojE,EAAL,YAAyB3oE,EAAKU,EAAE,6BC9GtD,SAASkuE,GAAT,GAAgD,IAAzB5uE,EAAwB,EAAxBA,KAAM6uE,EAAkB,EAAlBA,eAC3B,EAA8C5rE,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAER3C,EADS4C,cACT5C,SACFyjE,EAAWzjE,EAASvW,OAAO,EAAGuW,EAASjU,QAAQ,cAE/C8d,EAAY,uCAAG,WAAM9W,GAAN,mBAAAzQ,EAAA,sEAEX0hF,EAAO,IAAI9/C,KAAMqgD,GAAaxxE,EAAQ+H,IAF3B,SAKP6uE,EAAe,CACvB50E,KAAMhC,EAAOgC,KACb6X,YAAa7Z,EAAO6Z,YACpByF,MAAO2xD,EAAK9rD,WAAWjvB,QAAQ,MAAO,OARvB,gBAIHsgF,EAJG,EAIf96E,KAAQE,GAOVkR,EAAQqI,KAAR,UAAgBu7D,EAAhB,qBAAqC8F,IAXpB,gDAajBD,EAAmB,EAAD,IAbD,yDAAH,sDAiBlB,OACE,kBAAC7rE,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEuxC,aAAc,kBAAMnvC,EAAQqI,KAAR,UAAgBu7D,EAAhB,eACpB55D,aAAcA,EACdkxB,YAAasuC,MAWvBK,GAAY1tE,aAAe,GAEZC,4BAAWytE,IC9BpBv1C,GAAiBh4B,YAAOi4B,MAAV,uFAAGj4B,CAAH,oFAiHLF,6BA1Gf,YAAqE,IAW/D2tE,EAXsB9uE,EAAwC,EAAxCA,KAAMy5B,EAAkC,EAAlCA,WAAY5yB,EAAsB,EAAtBA,SAAU2hE,EAAY,EAAZA,SAChD1zC,EAAO,uBAAmB0zC,EAAS30E,IAEnCk7E,EAAgB,CACpB7hF,iBAAkB8S,EAAKU,EAAE,uBACzB3T,IAAKiT,EAAKU,EAAE,qBACZ1T,eAAgBgT,EAAKU,EAAE,8BACvBzT,WAAY+S,EAAKU,EAAE,uBACnBtT,aAAc4S,EAAKU,EAAE,sBAKvB,OAAQ8nE,EAAS51D,eAAegF,qBAAqBwrC,kBACnD,IAAK,mBACH0rB,EAAe,iCAA6BtG,EAAS51D,eAAeQ,UAAUvf,GAA/D,oBAA6E20E,EAAS51D,eAAegF,qBAAqB/jB,GAA1H,sBAA0I20E,EAAS30E,IAClK,MACF,IAAK,MACHi7E,EAAe,kCAA8BtG,EAAS51D,eAAegF,qBAAqB/jB,GAA3E,sBAA2F20E,EAAS30E,IACnH,MACF,IAAK,iBACHi7E,EAAe,oBAAgBtG,EAAS51D,eAAegF,qBAAqB/jB,GAA7D,sBAA6E20E,EAAS30E,IACrG,MACF,IAAK,aACHi7E,EAAe,2BAAuBtG,EAAS51D,eAAegF,qBAAqB/jB,GAApE,sBAAoF20E,EAAS30E,IAC5G,MACF,IAAK,eACHi7E,EAAe,2CAAuCtG,EAAS51D,eAAegF,qBAAqB/jB,GAApF,sBAAoG20E,EAAS30E,IAMhI,OACE,kBAACojC,GAAA,EAAD,CACExoC,IAAK+5E,EAAS30E,GACd4O,kBAAiBqyB,EACjBjhC,GAAE,UAAK20E,EAAS30E,KAEhB,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,0BAAqB20E,EAAS30E,IAChCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKupE,EAAL,aACN,2BAAItG,EAASvuE,QAGjB,kBAAC,GAAD,CAAcxL,IAAI,QAEdsgF,EACEvG,EAAS51D,eAAegF,qBAAqBwrC,mBAInD,kBAAC,GAAD,CAAc30D,IAAI,YACf+5E,EAASzwD,UACR,kBAAC,GAAD,CAAY6R,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,uCACd7R,MAAO24B,GAAiBghD,EAASzwD,iBAO7C,kBAAC,GAAD,CACEvV,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,EACJrmC,IAAI,WAEJ,kBAAC,GAAD,CAAgB+5E,SAAUA,IACzBA,EAAS51D,eAAeb,kBAAkB6nB,KACzC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,sBAAmB4F,SAAS,OACnD,sBACE9D,aAAYxC,EAAKU,EAAE,sBAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,UAAKupE,EAAL,UAEF,kBAAC,KAAD,QAIJ,S,8HCzGNj5C,GAAYxoC,EAAY,WAAY,CACxCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAGZ,SAASshF,GAAT,GAKI,IAJFhvE,EAIC,EAJDA,KACAivE,EAGC,EAHDA,cACAC,EAEC,EAFDA,oBACAC,EACC,EADDA,cAEA,EAAgClsE,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEMh0B,EAAW6C,cAEjB,EAWIgE,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAOAvX,QAAQmU,IAAI,CAACklE,EAAchhF,GAASihF,MAPpC,iDAINv7E,KAAQoiB,EAJF,EAIEA,MAAO9gB,EAJT,EAISA,QAEjBm6E,EANQ,uBAQH,CACLvlB,UAAW50D,EACXyrB,UAAW3K,EACXjL,QAASskE,EAAgBz7E,KAAKmX,QAC9B2O,wBACiB,OAAf21D,QAAe,IAAfA,GAAA,UAAAA,EAAiBz7E,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAA0/E,EAAgBz7E,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAI2gF,EAAgBz7E,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAjB/C,4CAmBT,CAACjxB,EAASkI,OAAQ8hE,EAAeC,IACpC,CACErlB,UAAW,GACXnpC,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KArCpB,IACEvN,OACE49C,EAFJ,EAEIA,UACAnpC,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSijE,EAVX,EAUE9iE,QA+BFhD,qBAAU,WACR8lE,MACC,CAACA,IAEJ,IAAMtuD,EACJiY,EAASpqC,SAAWi7D,EAAUj7D,QAAUoqC,EAASpqC,OAAS,EAE5D,EAKIie,GACFxD,sBAAW,sBAAC,sBAAA7hB,EAAA,+EACHoO,QAAQmU,IAAIivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYqK,GAAa87B,QAAQnmC,QADvD,2CAET,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYqiE,IAXHpkC,EADb,EACE7+B,UACay+C,EAFf,EAEE39C,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYIwpC,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOowB,GAAa,KAGtC3wB,EAAe,SAAAC,GACfH,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAI1BkJ,EAAY,uCAAG,sBAAA76C,EAAA,sEACbqjE,IADa,OAEnB5xB,EAAY,IAFO,2CAAH,qDAKZmB,EACJtvB,GACArb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,UAC7CqkE,EAEH,OACE,oCACE,kBAAC,GAAD,CACEvqD,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOk/D,EACPnpC,UAAWA,EACX5T,SAAU+oB,GACVyB,WAAY4B,EACZ3B,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOogC,EAAKpgC,MACjDpF,IAAKwlC,EAAKpgC,GACVgT,SAAU,kBAAMqyB,EAAajF,IAC7Bu0C,SAAUv0C,KAGdjP,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,uCACbjS,IAAK,aAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKxzB,EAASC,SAAd,WAGV,IARY,CAShB,kBAAC,GAAD,CACEzW,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,+BAMpC2M,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAOsL,MAY9B2hE,GAAa9tE,aAAe,CAC1BiuE,eAAe,GAGFhuE,4BAAW6tE,ICnLX7tE,6BA/Bf,YAMI,IALF0tE,EAKC,EALDA,eACAK,EAIC,EAJDA,oBACAD,EAGC,EAHDA,cACAjsC,EAEC,EAFDA,cACA0rC,EACC,EADDA,mBAEMh3C,EAAQmC,cAEd,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOj1B,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAAC,GAAD,CAAaiqE,eAAgBA,KAE/B,kBAAC,IAAD,CAAOpgF,IAAI,UAAUmW,KAAI,UAAK8yB,EAAM9yB,KAAX,iBACvB,kBAAC,GAAD,CACE8pE,mBAAoBA,EACpB1rC,cAAeA,KAGnB,kBAAC,IAAD,CAAOv0C,IAAI,OAAOmW,KAAI,UAAK8yB,EAAM9yB,OAC/B,kBAAC,GAAD,CACEqqE,cAAeA,EACfC,oBAAqBA,S,WCnB/B,SAASI,GAAT,GAA4D,IAAvB3wB,EAAsB,EAAtBA,OAAQlzC,EAAc,EAAdA,KAAMzL,EAAQ,EAARA,KACjD,EAII8L,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEAGA6V,GAAoBpE,gBAAgB0lD,EAAO9qD,IAH3C,uBAEAoQ,EAFA,EAERtQ,KAAQsQ,OAFA,kBAKHA,GALG,2CAMT,CAAC06C,EAAO9qD,KACX,IAXW07E,EADb,EACEnjE,UACOojE,EAFT,EAEEztE,MACS0tE,EAHX,EAGEljE,QAYF,EAIIT,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEAOA6V,GAAoB4lC,WAAW0b,EAAO9qD,IAPtC,uBAIcA,EAJd,EAERF,KACEif,eACE88D,eAAkB77E,GAJd,SASJyJ,GAAoB/D,iBAAiB1F,GATjC,2CAUT,CAAC8qD,EAAO9qD,MAdA87E,EADb,EACEvjE,UACOwjE,EAFT,EAEE7tE,MACS8tE,EAHX,EAGEtjE,QAeF,EAGIE,GAAoB+iE,GAFfM,EADT,EACE/tE,MACcguE,EAFhB,EAEEnjE,aAEF,EAGIH,GAAoBmjE,GAFfjlB,EADT,EACE5oD,MACc6oD,EAFhB,EAEEh+C,aAGF,OACE,oCACG,CAAC,UAAW,UAAW,YAAYrd,SAASovD,EAAO16C,QAClD,kBAAC,KAAD,CAASsC,QAASvG,EAAKU,EAAE,4BAAyB4F,SAAS,OACzD,kBAACyE,EAAA,EAAD,CACE3D,WAAYuoE,GAAqBJ,EACjC/sE,aAAYxC,EAAKU,EAAE,2BACnBc,QAASiK,EAAO,QAAU,YAC1BpE,QAASwoE,GAERpkE,EAAO,kBAAC,KAAD,MAAsBzL,EAAKU,EAAE,sBAIzC,kBAAC,KAAD,CAAS6F,QAASvG,EAAKU,EAAE,2BAAwB4F,SAAS,OACxD,kBAACyE,EAAA,EAAD,CACE3D,WAAYuoE,GAAqBJ,EACjC/sE,aAAYxC,EAAKU,EAAE,uCACnBc,QAASiK,EAAO,QAAU,YAC1BpE,QAASooE,GAERhkE,EAAO,kBAAC,KAAD,MAAezL,EAAKU,EAAE,uBAInCovE,GACC,kBAAC,GAAD,CACEhwE,OAAQgwE,EACRtuE,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASgwE,GAER/vE,EAAKU,EAAE,yCACR,kBAAC,GAAD,CAAaqB,MAAO+tE,KAGvBnlB,GACC,kBAAC,GAAD,CACE7qD,OAAQ6qD,EACRnpD,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6qD,GAER5qD,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAO4oD,MAO9B2kB,GAA0BpuE,aAAe,CACvCy9C,OAAQ,GACRlzC,MAAM,GAQOtK,4BAAWmuE,ICwLXnuE,6BAnRf,YAA2D,IAA1B6uE,EAAyB,EAAzBA,gBAAiBhwE,EAAQ,EAARA,KAE9CwS,EA2BEw9D,EA3BFx9D,QACAO,EA0BEi9D,EA1BFj9D,kBACAjB,EAyBEk+D,EAzBFl+D,YACAje,EAwBEm8E,EAxBFn8E,GACAqf,EAuBE88D,EAvBF98D,SACAjZ,EAsBE+1E,EAtBF/1E,KACAwkD,EAqBEuxB,EArBFvxB,UACAC,EAoBEsxB,EApBFtxB,eACAC,EAmBEqxB,EAnBFrxB,OACAG,EAkBEkxB,EAlBFlxB,YACAD,EAiBEmxB,EAjBFnxB,YACAE,EAgBEixB,EAhBFjxB,qBACAC,EAeEgxB,EAfFhxB,iBACAC,EAcE+wB,EAdF/wB,yBACA9oC,EAaE65D,EAbF75D,UACA85D,EAYED,EAZFC,YACAC,EAWEF,EAXFE,cACAC,EAUEH,EAVFG,YAlBF,EA4BIH,EATFp9D,eACEgC,EApBJ,EAoBIA,WACAiB,EArBJ,EAqBIA,YACAzC,EAtBJ,EAsBIA,UACAyB,EAvBJ,EAuBIA,YACA3a,EAxBJ,EAwBIA,aACAslD,EAzBJ,EAyBIA,eACAztC,EA1BJ,EA0BIA,kBAGJ,EAA0C9O,oBAAS,GAAnD,mBAAOoK,EAAP,KAAsBorD,EAAtB,KACM1zD,EAAU8C,cACVyE,EAAY/D,iBAAO,MAEzB,EAKIuD,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa6V,GAAoBy4B,cADjC,uBACFniC,EADE,EACFA,KADE,kBAEHlE,OAAOk3C,OAAP,MAAAl3C,OAAM,YACRkE,EAAKmX,QAAQmrB,IAAI0oB,OAAOpmC,QAAQnqB,KAAI,mCAAEK,EAAF,KAAOsB,EAAP,4BAAoBtB,EAAMsB,SAHzD,2CAKT,IACH,IAXQqgF,EADV,EACEnkE,OACAlK,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACSikE,EAJX,EAIE9jE,QAWFhD,qBAAU,WAGR,OAFA+C,EAAU7C,SAAU,EACpB4mE,IACO,WACL/jE,EAAU7C,SAAU,KAErB,CAAC4mE,IAEJ,IAAMhuC,EAAY,uCAAG,sBAAA76C,EAAA,+EAEXoO,QAAQmU,IAAI,CAChB1M,GAAoBlE,aAAatF,GACjCwJ,GAAoBnE,cAAcrF,GAClCwJ,GAAoB28B,QAAQnmC,KALb,OAOjBkR,EAAQqI,KAAR,iCAAuCgG,EAAUvf,GAAjD,aAPiB,+CASbyY,EAAU7C,SACZgvD,EAAiB,EAAD,IAVD,wDAAH,qDAeZvZ,EAAY,CAChBC,EAAGn/C,EAAKU,EAAE,oBACV0+C,EAAGp/C,EAAKU,EAAE,iBACV2+C,EAAGr/C,EAAKU,EAAE,mBAGR29C,EAAc,GA4ElB,OA1EEI,GACAC,GACAM,GACAC,KAEAZ,EACE,kBAAC/R,GAAA,EAAD,KACGmS,GACC,kBAAClS,GAAA,EAAD,KACGvsC,EAAKU,EAAE,kBACR,kBAAC,GAAD,CACE6F,QACE,oCACGvG,EAAKU,EAAE,6YAOR,6BACA,6BACCV,EAAKU,EAAE,mJAQjBg+C,GACC,kBAACnS,GAAA,EAAD,KACGvsC,EAAKU,EAAE,4BACR,kBAAC,GAAD,CACE6F,QACE,oCACGvG,EAAKU,EAAE,iIAGR,6BACA,6BACCV,EAAKU,EAAE,4HAQjBs+C,GACC,kBAACzS,GAAA,EAAD,KACGvsC,EAAKU,EAAE,yBACR,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EAAE,iIAMrBu+C,GACC,kBAAC1S,GAAA,EAAD,KACGvsC,EAAKU,EAAE,iCACR,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EAAE,qOAWxB0L,EACK,kBAAC,GAAD,MAGLrK,EACK,kBAAC,GAAD,CAAcA,MAAOA,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAQhI,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,IACrC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CAAQ/X,MAAOiG,EAAKU,EAAE,eAAY7R,MAAOuhF,EAAczxB,KACtDzkD,GACC,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,yBAAoBrL,EAAarG,GAAjC,aACLqG,EAAaD,QAKtB,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOkkB,IAERysC,GACC,kBAAC,GAAD,CACEzlD,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,oBAAei6C,EAAe3rD,GAA9B,aACL2rD,EAAevlD,QAKZ,QAAX0kD,EACC,kBAAC,GAAD,CACE5kD,MAAOiG,EAAKU,EAAE,uBACd7R,MACkB,KAAhBiwD,EAAqB9+C,EAAKU,EAAE,yBAAuBo+C,IAGrD,KACJ,kBAAC,GAAD,CAAQ/kD,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOqwD,EAAU/oC,KACjD,kBAAC,GAAD,CACEpc,MAAOiG,EAAKU,EAAE,sBACd7R,MAAK,UAAKkwD,EAAL,YAA6B/+C,EAAKU,EAAE,mBAE3C,kBAAC,GAAD,CAAQ3G,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAOshF,IAC9C,kBAAC,GAAD,CAAQp2E,MAAOiG,EAAKU,EAAE,yBAAsB7R,MAAOohF,IACnD,kBAAC,GAAD,CAAQl2E,MAAOiG,EAAKU,EAAE,sBAAmB7R,MAAOqhF,KACpC,OAAXr6D,QAAW,IAAXA,OAAA,EAAAA,EAAajnB,QAAS,GACrB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,mBACd7R,MAAOgnB,EAAYznB,KAAI,SAAAqxD,GAAI,OACzB,kBAAC,GAAD,CAAgBhxD,IAAG,OAAEgxD,QAAF,IAAEA,OAAF,EAAEA,EAAM5rD,GAAI4gB,WAAYgrC,EAAMvjB,YAAU,SAIhEmiB,GACC,kBAAC,GAAD,CAAQzzB,WAAS,EAAC7wB,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,IAErDQ,GACC,kBAAC,GAAD,CACE9kD,MAAOiG,EAAKU,EAAE,yBACd4rB,KAAM,EACNz9B,MAAOgwD,IAGX,kBAAC,GAAD,CACE12B,KAAM3V,EACNzY,MAAOiG,EAAKU,EAAE,2BACdirB,KAAM/W,IAER,kBAAC,GAAD,CACEuT,KAAMjV,EACNnZ,MAAOiG,EAAKU,EAAE,sBACdirB,KAAM9W,KAGV,kBAAC,GAAD,MACoB,OAAjB9C,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB6nB,OAClB,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXp2B,aAAYxC,EAAKU,EAAE,aACnB6E,GAAE,iCAA4B6N,EAAUvf,GAAtC,oBAAoDA,EAApD,UAEDmM,EAAKU,EAAE,eAGM,OAAjBqR,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBg1C,QAClB,kBAAC,GAAD,CAA2BpI,OAAQqxB,EAAiBvkE,MAAM,KAE1C,OAAjBsG,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBje,SAClB,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,gCACnB4gC,UAAWe,GAEVriC,EAAKU,EAAE,uBAIb2M,GACC,kBAAC,GAAD,CACE7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAQuN,EACRtN,QAAS,kBAAM04D,GAAiB,KAE/Bz4D,EAAKU,EAAE,wDAAsCzG,UAC9C,kBAAC,GAAD,CAAa8H,MAAOsL,SCtRjBijE,GAAkBnvE,sBAAW,YAA+B,IAA5BnB,EAA2B,EAA3BA,KAAMuwE,EAAqB,EAArBA,eAYjD,OACE,kBAACp/C,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,cACHoG,KAAK,cACLF,MAAOiG,EAAKU,EAAE,yBACd0mB,QACE,6BACGmpD,EACD,kBAAC,QAAD,0GAIA,6BACA,6BACA,kBAAC,QAAD,cACA,6BA3BO,yEA4BP,6BACA,kBAAC,QAAD,cACA,6BAxBO,0DAyBP,6BACA,kBAAC,QAAD,4DAEE,uBACEppE,KAAK,sBACLD,OAAO,SACP88D,IAAI,2BAKR,6BACA,kBAAC,QAAD,gEAEE,uBACE78D,KAAK,0CACLD,OAAO,SACP88D,IAAI,kCAYPhoB,GAAiB76C,sBAAW,YAAe,IAAZnB,EAAW,EAAXA,KAC1C,EAA+BqtB,aAAS,aAAxC,mBAAOnO,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACMC,IAAYF,EAAKG,SAAWH,EAAKvrB,OACjC/N,EAAU,CACd,CAAEnF,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,qBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,kBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,oBAExC,OACE,kBAACgtB,GAAA,EAAD,CACEC,QAAQ,YACRE,UAAWL,EAAU,UAAY,QACjCzzB,MAAOiG,EAAKU,EAAE,iCACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,8FAKpB,kBAAC,GAAD,eACE7M,GAAG,YACHF,KAAMK,GACFkrB,EAHN,CAIErD,SAAU,SAACb,EAAOnsB,GAAR,OAAkB0+B,EAAQ/gB,SAAS3d,WAMxC2hF,GAAervE,sBAC1B,YAA0C,IAAvCnB,EAAsC,EAAtCA,KAAsC,IAAhCywE,yBAAgC,SACvC,EAA8BpjD,aAAS,oBAAhCqjD,EAAP,oBACA,EAAuCrjD,aAAS,wBAArCsjD,EAAX,oBAQA,OANApnE,qBAAU,WACHmnE,EAAoB7hF,OACvB8hF,EAAyBnkE,SAAS,KAEnC,CAACkkE,EAAoB7hF,QAGtB,oCACE,kBAACsiC,GAAD,KACE,kBAACzD,GAAA,EAAD,CACEC,QAAQ,oBACR5zB,MAAOiG,EAAKU,EAAE,wBAEd,kBAAC0wB,GAAD,KACE,kBAAC,GAAD,CACEv9B,GAAG,YACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,kBACd0mB,QACE,oCACGpnB,EAAKU,EAAE,6YAOR,6BACA,6BACCV,EAAKU,EAAE,kJAMd,kBAAC,GAAD,CACE7M,GAAG,iBACHoG,KAAK,iBACLF,MAAOiG,EAAKU,EAAE,4BACd0mB,QACE,oCACGpnB,EAAKU,EAAE,iIAGR,6BACA,6BACCV,EAAKU,EAAE,2HAMd,kBAAC,GAAD,CACE7M,GAAG,mBACHoG,KAAK,mBACLF,MAAOiG,EAAKU,EAAE,yBACd0mB,QAASpnB,EAAKU,EAAE,gIAIjB+vE,GACC,kBAAC,GAAD,CACE58E,GAAG,2BACHoG,KAAK,2BACLF,MAAOiG,EAAKU,EAAE,iCACd0mB,QAASpnB,EAAKU,EAAE,qOASzBgwE,EAAoB7hF,OACnB,kBAAC,GAAD,CACEgF,GAAG,gBACHoG,KAAK,uBACL9E,KAAK,SACLyU,IAAI,IACJoB,IAAI,aACJoiB,SAAUqN,GAAY,EAAG,WAAYz6B,GACrCjG,MAAOiG,EAAKU,EAAE,gCACd0mB,QAASpnB,EAAKU,EAAE,sRAYfkwE,GAAkBzvE,sBAAW,YAAe,IAAZnB,EAAW,EAAXA,KAC3C,OACE,kBAAC,GAAD,CACEnM,GAAG,wBACHkG,MAAOiG,EAAKU,EAAE,yBACd0mB,QAASpnB,EAAKU,EAAE,mJAEhBzG,KAAK,cACL9E,KAAK,YAKE07E,GAAoB1vE,sBAAW,YAAe,IAAZnB,EAAW,EAAXA,KAC7C,OACE,kBAAC,GAAD,CACEnM,GAAG,0BACHkG,MAAOiG,EAAKU,EAAE,sBACd0mB,QAASpnB,EAAKU,EACZ,iJAEFzG,KAAK,gBACL9E,KAAK,YAKE27E,GAAkB3vE,sBAAW,YAAe,IAAZnB,EAAW,EAAXA,KAC3C,OACE,kBAAC,GAAD,CACEnM,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,oBACd0mB,QAASpnB,EAAKU,EACZ,4KAEFzG,KAAK,cACL9E,KAAK,OACLi4B,SAAU6N,GAAOj7B,QCvKRmB,yBA7DM,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KACtCmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,WACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,uOAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,iGA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCDG7iE,yBArDI,SAAC,GAAc,IAAZnB,EAAW,EAAXA,KACZmQ,EAAkB2hB,eAAlB3hB,cACR,EAA0Bkd,aAAS,cAA5BmwC,EAAP,oBAEMwT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,MACxB37D,MAAOiG,EAAKU,EAAE,mBACd7R,MAAO2uE,EAAgB3uE,MACvBgtB,SAAUm1D,IAEZ,kBAAC,GAAD,MACA,kBAACF,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,sOAGE,uBAAGppE,KAvBb,iGAuB+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KAzBb,wFAyB+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCiBG7iE,yBA7DI,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KACpCmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,MACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,0OAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,8FA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCQG7iE,yBA7DU,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KAC1CmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,YACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,wOAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,+FA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCuEG7iE,yBArHI,SAAC,GAAmC,IAAjC8vE,EAAgC,EAAhCA,oBAAqBjxE,EAAW,EAAXA,KACzC,EAA2C8xB,eAAnC3hB,EAAR,EAAQA,cAAe2jC,EAAvB,EAAuBA,gBACvB,EAA0BzmB,aAAS,cAA5BmwC,EAAP,oBACA,EAAoDnwC,aAAS,CAC3DpzB,KAAM,iBACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOkxE,EAAP,KAAqBC,EAArB,KAAkCC,EAAlC,KAIA,EAA6D/jD,aAAS,CACpEpzB,KAAM,cACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOqxE,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKA,EAIIzlE,GACFzC,sBAAW,uCAAC,WAAMmoE,GAAN,iBAAAhqF,EAAA,sEACauW,GAAYpD,gBAAgB62E,GADzC,uBACF79E,EADE,EACFA,KADE,wCAECA,GAFD,CAEO,sBAFP,2CAAD,sDAGR,IACH,IARO89E,EADT,EACE1vE,MACS2vE,EAFX,EAEEnlE,QACQolE,EAHV,EAGE1lE,OASF1C,qBAAU,WACJ4nE,EAAYnlE,eACd0lE,EAAgBP,EAAYnlE,aAAanY,IACX,KAA1Bw9E,EAAgBxiF,OAClB0iF,EAAkB/kE,SAAS,uBAG9B,CAACklE,EAAiBP,EAAYnlE,eAEjC,IAAM4lE,EAAsBvoE,uBAC1B,SAAAxa,GACEshB,EAAc,iBAAkBthB,GAChCshB,EAAc,cAAe,IAC7B2jC,EAAgB,eAAe,GAC/B49B,EAAgB7iF,EAAMgF,MAExB,CAAC69E,EAAiBvhE,EAAe2jC,IAG7Bk9B,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEslD,mBAAmB,QACnB17D,MAAOiG,EAAKU,EAAE,mBACd7R,MAAO2uE,EAAgB3uE,MACvBgtB,SAAUm1D,IAEZ,kBAAC,GAAD,CACEniF,MAAOqiF,EAAariF,MACpB2+B,SAAU2jD,EAAY1jD,UAAY0jD,EAAYpvE,MAC9C6rB,kBAAmBujD,EAAYpvE,MAC/Bg8B,OAAQ,kBAAMqzC,EAAerxC,cAC7BlkB,SAAU+1D,EACVx5D,UAAQ,EACRqmB,aAAcwyC,IAEhB,kBAACvjD,GAAA,EAAD,CACEC,QAAQ,cACRC,mBAAkC,OAAf6jD,QAAe,IAAfA,OAAA,EAAAA,EAAiBhuE,UAAW6tE,EAAevvE,MAC9D8rB,UACIyjD,EAAevvE,OAAUuvE,EAAe7jD,UAC1C,OAACgkD,QAAD,IAACA,OAAD,EAACA,EAAiBhuE,SAEd,QADA,UAGNoO,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,uBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,qIAMpB,kBAAC,GAAD,iBACM2wE,EADN,CAEEx9E,GAAG,cACH25B,UACI8jD,EAAevvE,QAAUuvE,EAAe7jD,YAC1C,OAACgkD,QAAD,IAACA,OAAD,EAACA,EAAiBhuE,SAEpB9P,KAAI,CACF,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,iCACd0G,YAAY,IALZ,mBAOCuqE,EAAWvjF,KAAI,SAAAS,GAAK,MAAK,CAAEA,QAAOkL,MAAOlL,EAAOJ,IAAKI,QAE1DgtB,SAAU,SAACb,EAAOnsB,GAChB0iF,EAAkB/kE,SAAS3d,QAIjC,kBAAC,GAAD,MACA,kBAACiiF,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,CAAcC,mBAAiB,IAC/B,kBAACH,GAAD,UC1DSnvE,yBA7DU,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KAC1CmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,aACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,sOAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,gGA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCQG7iE,yBA7DM,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KACtCmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,QACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,oOAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,mFA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCQG7iE,yBA7DO,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KACvCmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,SACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,kPAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,0GA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCCQG7iE,yBA7De,SAAC,GAAsC,IAApC4vE,EAAmC,EAAnCA,uBAAwB/wE,EAAW,EAAXA,KAC/CmQ,EAAkB2hB,eAAlB3hB,cACR,EAA6Dkd,aAAS,CACpEpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOw9D,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAKMsT,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,aAActhB,KAE9B,CAACshB,IAQH,OACE,oCACE,kBAAC,GAAD,CACEulD,wBAAwB,MACxB37D,MAAOiG,EAAKU,EAAE,mBACdktB,kBAAmB6vC,EAAe17D,MAClCyrB,SAAUiwC,EAAehwC,UAAYgwC,EAAe17D,MACpDg8B,OAAQ,kBAAM2/B,EAAkB39B,cAChClkB,SAAUm1D,EACVniF,MAAO2uE,EAAgB3uE,MACvBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAAC,GAAD,MACA,kBAACD,GAAD,MACA,kBAACF,GAAD,MACA,kBAACC,GAAD,MACA,kBAACL,GAAD,MACA,kBAACF,GAAD,CACEC,eACE,oCACE,kBAAC,QAAD,oOAGE,uBAAGppE,KA5Bb,iGA4B+BD,OAAO,SAAS88D,IAAI,wBAIzC,uBAAG78D,KA9Bb,uFA8B+BD,OAAO,SAAS88D,IAAI,2BAK3C,6BACA,oCC3BN6N,GAA4B,SAAC,GAAqC,IAPvC79E,EAOI2qD,EAAkC,EAAlCA,OAAQmzB,EAA0B,EAA1BA,cAAe9xE,EAAW,EAAXA,KAC1D,EAMI8xB,eALF75B,EADF,EACEA,OACAwX,EAFF,EAEEA,cACAw0C,EAHF,EAGEA,UACAnQ,EAJF,EAIEA,gBACA3jC,EALF,EAKEA,cAEF,EAAkCkd,aAAS,CACzCpzB,KAAM,SACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,mCAAgCV,KAF5D,mBAAO+xE,EAAP,KAAoBC,EAApB,KAIQC,EAAuB3yE,qBAAWP,IAAlCkzE,mBACR,EAAoB5kD,aAAS,qBAAtB6kD,EAAP,oBACMC,EAAc,CAClBp4E,MAAOiG,EAAKU,EAAE,wCACd7R,MAAO,6BACPJ,IAAK,WAuCP,OACE,oCACE,kBAAC,GAAD,CACEoF,GAAG,OACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAACu4B,GAAA,EAAD,CACEC,QAAQ,SACRC,kBAAmBokD,EAAWjwE,MAC9B8P,YAAU,EACVgc,UACGmkD,EAAWvkD,SAAYukD,EAAWjwE,MAAoB,QAAZ,UAE7ChI,MAAOiG,EAAKU,EAAE,gBAEd,kBAAC,GAAD,iBACMqxE,EADN,CAEEl+E,GAAG,SACHF,KAAI,CACF,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,wBACd0G,YAAY,IALZ,oBA3FmBpT,EAkGO89E,EAjGhB99E,EAAQ8W,QAAQmrB,IAAI0oB,OAAOpmC,QAAQnqB,KACvD,mCAAE4yC,EAAF,WAAsB,CAAEjnC,MAAxB,KAA+BtL,IAAKuyC,EAAQnyC,MAAOmyC,MAEhCpxC,QAAO,kBAAqB,SAArB,EAAGnB,UAgGvBotB,SAAU,SAACb,EAAOnsB,IAzEC,SAAAujF,GACzB,GAAIA,IAAe3iE,EAAckvC,OAC/BsF,EAAU,CACRhsD,OAAO,2BACFwX,GADC,IAEJxV,KAAMhC,EAAOgC,KACb6X,YAAa7Z,EAAO6Z,YACpBiB,kBAAmB9a,EAAO8a,kBAC1B4rC,OAAQyzB,UAGP,CACL,IAAMh4B,EAAW,CACf3lC,WAAY,KACZgqC,WAAW,EACXC,gBAAgB,EAChBC,OAAQyzB,EACRtzB,YAAa,GACbU,eAAgB,KAChB6yB,cAAe,KACfxzB,YAAa,QACbE,qBAAsB,EACtBC,kBAAkB,EAClBC,0BAA0B,EAC1B9oC,UAAW,EACX85D,YAAa,GACbC,cAAe,GACfC,YAAa,IAEf1gF,OAAOC,KAAK0qD,GAAU/rD,SAAQ,SAAA0L,GAC5BoW,EAAcpW,EAAOqgD,EAASrgD,IAC9B+5C,EAAgB/5C,GAAO,OA2CnBu4E,CAAmBzjF,QAIxBojF,GAAsBA,EAAmBrjF,OAAS,GACjD,kBAAC8+B,GAAA,EAAD,CACEC,QAAQ,oBACR5zB,MAAOiG,EAAKU,EAAE,4BACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,kGAMpB,kBAAC,GAAD,eACE7M,GAAG,oBACHF,KAAI,CACFw+E,GADE,mBAECF,EACAriF,QAAO,SAAAf,GAAK,OAAIA,IAAUsjF,EAAYtjF,SACtCT,KAAI,SAAAS,GAAK,MAAK,CAAEA,QAAOkL,MAAOlL,EAAOJ,IAAKI,SAE3CqjF,KAIa,KAAtBH,EAAYljF,OACX,kBAACwiC,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,wBAEV,kBAACwwB,GAAD,KAEI,CACEqhD,SACE,kBAAC,GAAD,CACExB,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,cAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,QAEzBmzB,cAAeA,IAGnBU,IAAK,kBAAC,GAAD,CAAYV,cAAeA,IAChCW,IACE,kBAAC,GAAD,CACE1B,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,SAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,QAEzBmzB,cAAeA,IAGnBY,UACE,kBAAC,GAAD,CACE3B,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,eAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,UAI7Bg0B,IACE,kBAAC,GAAD,CACE5B,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,SAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,UAI7Bi0B,WACE,kBAAC,GAAD,CACE7B,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,gBAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,UAI7Bk0B,IACE,kBAAC,GAAD,CACE5B,sBACE,OAACtyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,SAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,UAI7Bm0B,MACE,kBAAC,GAAD,CACE/B,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,WAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,UAI7Bo0B,OACE,kBAAC,GAAD,CACEhC,yBACE,OAACpyB,QAAD,IAACA,OAAD,EAACA,EAAQ9qD,KAAyB,YAAb,OAAN8qD,QAAM,IAANA,OAAA,EAAAA,EAAQA,QAEzBmzB,cAAeA,KAGnBC,EAAYljF,WAStBmkF,GAAsB,SAAC,GAMtB,IAAD,MALJhzE,EAKI,EALJA,KACAo7B,EAII,EAJJA,SACA1rB,EAGI,EAHJA,SACAivC,EAEI,EAFJA,OAEI,IADJ1e,mBACI,MADU,KACV,EACExwB,EAAgB,CACpBgF,YAAkB,OAANkqC,QAAM,IAANA,GAAA,UAAAA,EAAQ/rC,sBAAR,eAAwB6B,aAAc,KAClD1B,mBAAyB,OAAN4rC,QAAM,IAANA,OAAA,EAAAA,EAAQ5rC,oBAAqB,GAChDjB,aAAmB,OAAN6sC,QAAM,IAANA,OAAA,EAAAA,EAAQ7sC,cAAe,GACpC7X,MAAY,OAAN0kD,QAAM,IAANA,OAAA,EAAAA,EAAQ1kD,OAAQ,GACtBwkD,WAAiB,OAANE,QAAM,IAANA,OAAA,EAAAA,EAAQF,aAAa,EAChCC,gBAAsB,OAANC,QAAM,IAANA,OAAA,EAAAA,EAAQD,kBAAkB,EAC1CC,QAAc,OAANA,QAAM,IAANA,OAAA,EAAAA,EAAQA,SAAU,GAC1BG,aAAmB,OAANH,QAAM,IAANA,OAAA,EAAAA,EAAQG,cAAe,GACpCU,gBAAsB,OAANb,QAAM,IAANA,GAAA,UAAAA,EAAQ/rC,sBAAR,eAAwB4sC,iBAAkB,KAC1D6yB,eAAqB,OAAN1zB,QAAM,IAANA,GAAA,UAAAA,EAAQ/rC,sBAAR,eAAwBy/D,gBAAiB,KACxDxzB,aAAmB,OAANF,QAAM,IAANA,OAAA,EAAAA,EAAQE,cAAe,QACpCE,sBAA4B,OAANJ,QAAM,IAANA,OAAA,EAAAA,EAAQI,uBAAwB,EACtDC,kBAAwB,OAANL,QAAM,IAANA,OAAA,EAAAA,EAAQK,oBAAoB,EAC9CC,0BAAgC,OAANN,QAAM,IAANA,OAAA,EAAAA,EAAQM,4BAA4B,EAC9D9oC,WAAiB,OAANwoC,QAAM,IAANA,OAAA,EAAAA,EAAQxoC,YAAa,EAChC85D,aAAmB,OAANtxB,QAAM,IAANA,OAAA,EAAAA,EAAQsxB,cAAe,GACpCC,eAAqB,OAANvxB,QAAM,IAANA,OAAA,EAAAA,EAAQuxB,gBAAiB,GACxCC,aAAmB,OAANxxB,QAAM,IAANA,OAAA,EAAAA,EAAQwxB,cAAe,IAGtC,EAKIrkE,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa6V,GAAoBy4B,cADjC,uBACFniC,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MATWs/E,EADb,EACE7mE,UACO8mE,EAFT,EAEEnxE,MACSoxE,EAHX,EAGE5mE,QACQulE,EAJV,EAIE7lE,OAaF,OAJA1C,qBAAU,WACR4pE,MACC,CAACA,IAEAD,EACK,kBAAC,GAAD,CAAcnxE,MAAOmxE,KAGzBpB,GAAiBmB,EACb,kBAAC,GAAD,MAIP,kBAAC,KAAD,CACExjE,cAAeA,EACfC,SAAU,SAAAzX,GACRyX,EAASzX,MAGV,SAAA0X,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEvhB,OAAQA,EACR3P,KAAMA,EACN2+C,OAAQA,EACRmzB,cAAeA,IAEhB7xC,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,qBAe/BikE,GAAoB9xE,aAAe,CACjC++B,YAAa,MAGA9+B,4BAAW6xE,I,iEChQXI,I,MAAAA,GAnEf,YAA0C,IAAXz0B,EAAU,EAAVA,OACvB55C,EAAU8C,cACRhU,EAAOutC,cAAPvtC,GACF6jD,EAAU,iCAA6B7jD,EAA7B,oBAA2C8qD,EAAO9qD,GAAlD,YAEhB,EAAmCiY,GACjCzC,sBAAW,uCACT,WAAMpR,GAAN,iBAAAzQ,EAAA,sEACyB6V,GAAoBlP,QAAQwwD,EAAO9qD,GAAIoE,GADhE,uBACUtE,EADV,EACUA,KADV,kBAESA,GAFT,2CADS,sDAKT,CAACgrD,EAAO9qD,KAEV,MARMkO,EAAR,EAAQA,MAAOwK,EAAf,EAAeA,QAASN,EAAxB,EAAwBA,OAWxB1C,qBAAU,WACJ0C,GACFlH,EAAQqI,KAAKsqC,KAEd,CAACzrC,EAAQyrC,EAAY3yC,IAExB,IAAMgK,EAAY,uCAAG,WAAM++B,GAAN,2BAAAtmD,EAAA,6DAEjBitB,EAKEq5B,EALFr5B,WACAqqC,EAIEhR,EAJFgR,YACAU,EAGE1R,EAHF0R,eACA6yB,EAEEvkC,EAFFukC,cACGgB,EANc,YAOfvlC,EAPe,IASb6jC,EAAa,GACb2B,EAAgB,GACF,QAAhBxlC,EAAK6Q,SACPgzB,EAAW7yB,YACO,qBAAhBA,EAAqC,GAAKA,EAC5Cw0B,EAAc9zB,eAAiBA,EAAe3rD,IAd7B,SAiBb0Y,EAAQ,qCACZkI,YAAsB,OAAVA,QAAU,IAAVA,OAAA,EAAAA,EAAY5gB,KAAM,KAC9Buf,UAAWvf,EACXw+E,eAA4B,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAex+E,KAAM,MACjC89E,GACA2B,GACAD,IAvBc,2CAAH,sDA+BlB,OACE,kBAAC1wE,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEg8C,OAAQA,EACRvjB,SATa,WACnBr2B,EAAQqI,KAAKsqC,IASPhoC,SAAUX,EACVkxB,YAAal+B,OCrDjBs3B,GAAiBh4B,YAAOi4B,KAAPj4B,CAAH,0HAIO,SAAAK,GAAK,uBAAcA,EAAMwa,QAApB,qBAE1B7H,GAAQhT,IAAOk4B,EAAV,qDAIX,SAASg6C,GAAT,GAYI,IAXFC,EAWC,EAXDA,uBACAC,EAUC,EAVDA,aACA/5C,EASC,EATDA,UACAg6C,EAQC,EARDA,kBACAC,EAOC,EAPDA,gBACAC,EAMC,EANDA,gBACAC,EAKC,EALDA,cACAC,EAIC,EAJDA,mBACA9zE,EAGC,EAHDA,KACA+zE,EAEC,EAFDA,WACAC,EACC,EADDA,oBAEA,OACE,kBAAC/8C,GAAA,EAAD,CACEx0B,kBAAA,0BAAoCgxE,EAAa5/E,IACjDpF,IAAKglF,EAAa5/E,GAClBA,GAAE,UAAK4/E,EAAa5/E,KAEpB,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CACE8W,GAAI,CACFL,SAAUw0B,IAGZ,uBAAG7lC,GAAE,0BAAqB4/E,EAAa5/E,KACpC4/E,EAAax5E,QAIpB,kBAAC,GAAD,CAAcxL,IAAI,QAChB,kBAAC,GAAD,KAAQuR,EAAKU,EAAE,cACdqzE,EAAWN,EAAa56D,uBAI/B,kBAAC,GAAD,CACErW,aAAW,UACXC,kBAAA,0BAAoCgxE,EAAa5/E,IACjDA,GAAE,0BAAqB4/E,EAAa5/E,IACpCqoB,QAAS83D,EAAsB,EAAI,GAElCA,GACC,kBAAC93B,GAAA,EAAD,CACEroD,GAAE,uBAAkB4/E,EAAa5/E,GAA/B,qBACFkG,MAAOiG,EAAKU,EAAE,iBACdy7C,SAAUn8C,EAAKU,EAAE,iBACjBqhB,UAAW2xD,EACXtsE,YAAaosE,EACb33D,SAAU,kBACRi4D,EACEL,EAAa5/E,GACb6/E,EACA,cAGJlxE,aAAYxC,EAAKU,EAAE,wCAGvB,kBAACw7C,GAAA,EAAD,CACEroD,GAAE,uBAAkB4/E,EAAa5/E,GAA/B,mBACFkG,MAAOiG,EAAKU,EAAE,cACdy7C,SAAUn8C,EAAKU,EAAE,cACjBqhB,UAAW4xD,EACXvsE,YAAaosE,EACb33D,SAAU,kBACRi4D,EAAmBL,EAAa5/E,GAAI8/E,EAAiB,YAEvDnxE,aAAYxC,EAAKU,EAAE,oCAErB,kBAACw7C,GAAA,EAAD,CACEroD,GAAE,uBAAkB4/E,EAAa5/E,GAA/B,mBACFkG,MAAOiG,EAAKU,EAAE,gBACdy7C,SAAUn8C,EAAKU,EAAE,gBACjBqhB,UAAW6xD,EACXxsE,YAAaosE,EACb33D,SAAU,kBACRi4D,EAAmBL,EAAa5/E,GAAI+/E,EAAiB,YAEvDpxE,aAAYxC,EAAKU,EAAE,sCAErB,kBAACw7C,GAAA,EAAD,CACEroD,GAAE,uBAAkB4/E,EAAa5/E,GAA/B,iBACFkG,MAAOiG,EAAKU,EAAE,gBACdy7C,SAAUn8C,EAAKU,EAAE,gBACjBqhB,UAAW8xD,EACXzsE,YAAaosE,EACb33D,SAAU,kBACRi4D,EAAmBL,EAAa5/E,GAAIggF,EAAe,UAErDrxE,aAAYxC,EAAKU,EAAE,yCAyB/B6yE,GAAqBryE,aAAe,CAClCwyE,mBAAmB,EACnBG,eAAe,EACfF,iBAAiB,EACjBC,iBAAiB,EACjBI,qBAAqB,GAGR7yE,4BAAWoyE,IC1IpB19C,GAAYxoC,EAAY,eAAgB,CAC5CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAASumF,GAAT,GAMI,IALF5pC,EAKC,EALDA,SACAmpC,EAIC,EAJDA,uBACA3/E,EAGC,EAHDA,GACAmM,EAEC,EAFDA,KACAg0E,EACC,EADDA,oBAEM/uE,EAAW6C,cACjB,EAAgD7E,mBAAS,IAAzD,mBAAOixE,EAAP,KAAyBC,EAAzB,KACA,EAAsClxE,mBAAS,MAA/C,mBAAOmxE,EAAP,KAAoBC,EAApB,KAEA,EAiBIvoE,GACFzC,sBAAW,sBAAC,gEAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAOAvX,QAAQmU,IAAI,CACpBpM,GAAyBjJ,KAAKzG,GAC9B0P,GAAyBm4B,gBATjB,iDAINniC,KAAiB2gF,EAJX,EAIEr/E,QAAsCs/E,EAJxC,EAIiCx+D,MAEzCggB,EANQ,KAYJjgB,EAASigB,EAAgBpiC,KAAKmX,QAAQmrB,IAAIpd,kBAAkBN,QAAQxnB,QACxE,SAAC3C,EAAKomF,GAAN,mBAAC,eAAyBpmF,GAA1B,mBAAgComF,EAAU,GAAKA,EAAU,OACzD,IAGIC,EACJH,EAAqB1lF,OAAS,EAC1B,CAAE07D,OAAQgqB,EAAqBlmF,KAAI,SAAArH,GAAC,OAAIA,EAAE8M,MAAI5D,KAAK,MACnD,GApBI,UA0BA2F,QAAQmU,IAAI,CACpBsgC,EAASqqC,iCAAiC7gF,EAAI4gF,GAC9CpqC,EAASsqC,iCAAiC9gF,EAAI4gF,GAC9CpqC,EAASuqC,+BAA+B/gF,EAAI4gF,KA7BpC,uCAuBAI,EAvBA,KAuBNlhF,KACMmhF,EAxBA,KAwBNnhF,KACMohF,EAzBA,KAyBNphF,KAOEqhF,EAAS,CACbC,cAAeX,EACf5zD,UAAW6zD,EACXW,mBAAoBL,EAAiB5/E,QAAQ7G,KAAI,SAAA+mF,GAAE,OAAIA,EAAGthF,MAC1DuhF,mBAAoBN,EAAiB7/E,QAAQ7G,KAAI,SAAAinF,GAAE,OAAIA,EAAGxhF,MAC1DyhF,iBAAkBP,EAAe9/E,QAAQ7G,KAAI,SAAAzC,GAAC,OAAIA,EAAEkI,MACpDkgF,WAAYj+D,EACZ2D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAGrD89C,EA/CM,kCAkDE3pC,EAASkrC,mCACjB1hF,EACA4gF,GApDM,iBAiDAe,EAjDA,EAiDN7hF,KAKFqhF,EAAOS,qBAAuBD,EAAmBvgF,QAAQ7G,KACvD,SAAA+mF,GAAE,OAAIA,EAAGthF,MAvDH,wBA0DRmhF,EAAOS,qBAAuB,GA1DtB,iCA6DHT,GA7DG,4CA8DT,CAAC3qC,EAAUx2C,EAAIoR,EAAU+uE,IAC5B,CACEiB,cAAe,GACfv0D,UAAW,EACX+0D,qBAAsB,GACtBP,mBAAoB,GACpBE,mBAAoB,GACpBE,iBAAkB,GAClBvB,WAAY,GACZt6D,sBAAuB,GACvBD,eAAgB,KAzFVk8D,EADV,EACEzpE,OADF,IAEEA,OACEgpE,EAHJ,EAGIA,cACAv0D,EAJJ,EAIIA,UACA+0D,EALJ,EAKIA,qBACAP,EANJ,EAMIA,mBACAE,EAPJ,EAOIA,mBACAE,EARJ,EAQIA,iBACAvB,EATJ,EASIA,WACAt6D,EAVJ,EAUIA,sBACAD,EAXJ,EAWIA,eAEKoL,EAbT,EAaE7iB,MACAqK,EAdF,EAcEA,UACSupE,EAfX,EAeEppE,QACAC,EAhBF,EAgBEA,SA8EFjD,qBAAU,WACRosE,MACC,CAACA,IAEJ,IAAMC,EAAwB,uCAAG,WAC/Bx9E,EACAy9E,EACA5xE,GAH+B,SAAAzc,EAAA,yDAK/B2sF,EAAoBD,EAAiBviF,OAAO,CAACyG,KALd,UAOzBy9E,EAPyB,gCAQrBxrC,EAASyrC,iCACbjiF,EACAuE,EACA6L,GAXyB,OAa3BuI,EAAS,2BACJkpE,GADG,6BAEFzxE,EAFE,eAEoByxE,EAA0B,GAAD,OAC9CzxE,EAD8C,gBAEjDrU,QAAO,SAAAyQ,GAAC,OAAIA,IAAMjI,QAjBK,wCAoBrBiyC,EAAS0rC,8BACbliF,EACAuE,EACA6L,GAvByB,QAyB3BuI,EAAS,2BACJkpE,GADG,6BAEFzxE,EAFE,eAEoByxE,EAA0B,GAAD,OAC9CzxE,EAD8C,gBAEjDtS,OAAOyG,MA7BgB,0DAiC7Bi8E,EAAe,EAAD,IAjCe,yBAmC7BF,EACED,EAAiBtkF,QAAO,SAAAqkC,GAAI,OAAIA,IAAS77B,MApCd,6EAAH,0DAyC9B,OACE,oCACE,kBAAC,GAAD,CACEwsB,aAAcA,EACdC,kBAAmBzY,EACnBzhB,MAAOsqF,EACPv0D,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,sBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,0BACbjS,IAAK,wBACLuF,QAAS,CACP,CAAC,QAASgM,EAAKU,EAAE,eACjB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,aAAcV,EAAKU,EAAE,oBACtB,CAAC,YAAaV,EAAKU,EAAE,mBACrB,CAAC,aAAcV,EAAKU,EAAE,qBACtB,CAAC,QAASV,EAAKU,EAAE,eACjB,CAAC,SAAUV,EAAKU,EAAE,gBAClB,CAAC,UAAWV,EAAKU,EAAE,mBAGvB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,sBAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAk8C,GAAY,OACtB,kBAAC,GAAD,CACEhlF,IAAKglF,EAAa5/E,GAClB4/E,aAAcA,EACd/5C,UAAS,kCAA6B+5C,EAAa5/E,GAA1C,YACT2/E,uBACEA,IACCU,EAAiB3kF,SAASkkF,EAAa5/E,IAE1CigF,mBAAoB8B,EACpBlC,kBAAmB+B,EAAqBlmF,SAASkkF,EAAa5/E,IAC9DggF,cAAeyB,EAAiB/lF,SAASkkF,EAAa5/E,IACtD8/E,gBAAiBuB,EAAmB3lF,SAASkkF,EAAa5/E,IAC1D+/E,gBAAiBwB,EAAmB7lF,SAASkkF,EAAa5/E,IAC1DkgF,WAAYA,EACZC,oBAAqBA,OAI1BI,GACC,kBAAC,GAAD,CACE5yE,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdZ,OAAoC,IAA5Bo0E,EAAiBtlF,OACzBmR,QAAS,kBAAMs0E,EAAe,QAE7Br0E,EAAKU,EAAE,uCACR,kBAAC,GAAD,CAAaqB,MAAOqyE,MAc9BH,GAAiB/yE,aAAe,CAC9B8yE,qBAAqB,GAGR7yE,4BAAW8yE,ICtFX9yE,6BA7Jf,YAAkE,IAAvCnB,EAAsC,EAAtCA,KAAMoT,EAAgC,EAAhCA,UAAW4vB,EAAqB,EAArBA,cAAeh5B,EAAM,EAANA,GACnD/E,EAAW6C,cACX4vB,EAAQmC,YAAc,gDACtBm8C,EAAa,iCAA6B5iE,EAAUvf,GAAvC,YAEnB,EAKIiY,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACqCoO,QAAQmU,IAAI,CACzD3M,GAAe64E,iBAAiB7iE,EAAUvf,GAAI6jC,EAAMzpC,OAAO+J,UAC3D6F,GAAiBnJ,KAAK,CACpBjH,UAAW,EACXonE,WAAY,8BALN,0CACHmb,EADG,KACckG,EADd,uBAQH,CACLv3B,OAAQqxB,EACRmG,aAAcD,EAAcviF,KAAKsB,QAAQrG,OAAS,IAV1C,2CAYT,CAACwkB,EAAUvf,GAAI6jC,EAAMzpC,OAAO+J,WAC/B,CAAE2mD,OAAQ,KAAMw3B,cAAc,IAnBhC,IACElqE,OAAU0yC,EADZ,EACYA,OAAQw3B,EADpB,EACoBA,aAClBp0E,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACSgqE,EAJX,EAIE7pE,QAkBFhD,qBAAU,WACR6sE,MACC,CAACA,EAAanxE,EAASC,WAE1BqE,qBAAU,WACJ6J,GAAaurC,GACf3b,EAAc5vB,EAAWurC,KAE1B,CAACvrC,EAAWurC,EAAQ3b,IAEvB,IAAMisC,EAAgB5lE,uBACpB,SAAApb,GACE,OAAOoP,GAAoBg5E,cAApB,OAAkC13B,QAAlC,IAAkCA,OAAlC,EAAkCA,EAAQ9qD,GAAI5F,KAEvD,CAAC0wD,IAMGuwB,EAAsB7lE,uBAAY,WACtC,OAAOhM,GAAoBi5E,oBAApB,OAAwC33B,QAAxC,IAAwCA,OAAxC,EAAwCA,EAAQ9qD,MACtD,CAAC8qD,IAEEpc,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,yBAGZ6zB,KAAK,GAAD,OAAKyhD,GACTniF,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YACJnQ,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,cACJnQ,GAAI,IAIF2/E,EAAyB2C,EAW/B,IAV+BnsE,EAAGuI,mBAAqB4jE,IAGrD5zC,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,kBACJnQ,GAAI,IAIJkO,EACF,OAAO,kBAAC,GAAD,CAAcA,MAAOA,IAG9B,IAAI2zC,GAAiB,EAMrB,MAJI,CAAC,OAAQ,cAAc5mD,MAAK,SAAAmL,GAAI,OAAIgL,EAASC,SAAS3V,SAAS0K,QACjEy7C,GAAiB,GAIjB,oCACGA,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAEzCn2B,GAAa,kBAAC,GAAD,OAEZA,GAAauyC,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEvb,KAAK,+CACL79B,GAAG,uDACH0R,OAAK,IAEP,kBAAC,IAAD,CACExoB,IAAI,UACJmW,KAAK,wDAEL,kBAAC,GAAD,CAAuBorE,gBAAiBrxB,KAE1C,kBAAC,IAAD,CACElwD,IAAI,OACJmW,KAAK,qDAEL,kBAAC,GAAD,CAAqB+5C,OAAQA,EAAQvrC,UAAWA,KAElD,kBAAC,IAAD,CACE3kB,IAAI,gBACJmW,KAAK,8DAEL,kBAAC,GAAD,CACE/Q,GAAI3I,OAAOwsC,EAAMzpC,OAAO+J,UACxBw7E,uBAAwBA,EACxBnpC,SAAUhtC,MAGd,kBAAC,IAAD,CACE5O,IAAI,YACJmW,KAAK,0DAEL,kBAAC,GAAD,CACEiqE,eA3FW,SAAAl7E,GAAI,OACzB0J,GAAoBwxE,eAApB,OAAmClwB,QAAnC,IAAmCA,OAAnC,EAAmCA,EAAQ9qD,GAAIF,IA2FrCqvC,cAAe,SAAC0rC,EAAoBlG,GAArB,OACbxlC,EAAc5vB,EAAWurC,EAAQ6pB,IAEnCkG,mBAAoB/vB,EACpBswB,cAAeA,EACfC,oBAAqBA,KAGzB,kBAAC,IAAD,CAAOzgF,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAKmyB,EAAM1zB,IAAX,aACLhE,EAAKU,EAAE,8C,iECvGT61E,OA/Df,WACE,IAAMxxE,EAAU8C,cACRhU,EAAOutC,cAAPvtC,GAER,EAAmCiY,GACjCzC,sBAAW,uCAAC,WAAMpR,GAAN,iBAAAzQ,EAAA,sEACa6V,GAAoB1K,OAAOsF,GADxC,uBACFtE,EADE,EACFA,KADE,kBAEHA,GAFG,2CAAD,sDAGR,KAJGoO,EAAR,EAAQA,MAAOwK,EAAf,EAAeA,QAASN,EAAxB,EAAwBA,OAOxB1C,qBAAU,WACJ0C,GACFlH,EAAQqI,KAAR,iCAC4BnB,EAAOmH,UADnC,oBACwDnH,EAAOpY,GAD/D,eAID,CAACoY,EAAQlH,IAEZ,IAAMgK,EAAY,uCAAG,WAAM++B,GAAN,2BAAAtmD,EAAA,6DAEjBitB,EAKEq5B,EALFr5B,WACAqqC,EAIEhR,EAJFgR,YACAU,EAGE1R,EAHF0R,eACA6yB,EAEEvkC,EAFFukC,cACGgB,EANc,YAOfvlC,EAPe,IASb6jC,EAAa,GACb2B,EAAgB,GACF,QAAhBxlC,EAAK6Q,SACPgzB,EAAW7yB,YACO,qBAAhBA,EAAqC,GAAKA,EAC5Cw0B,EAAc9zB,eAAiBA,EAAe3rD,IAd7B,SAiBb0Y,EAAQ,qCACZkI,YAAsB,OAAVA,QAAU,IAAVA,OAAA,EAAAA,EAAY5gB,KAAM,KAC9Buf,UAAWvf,EACXw+E,eAA4B,OAAbA,QAAa,IAAbA,OAAA,EAAAA,EAAex+E,KAAM,MACjC89E,GACA2B,GACAD,IAvBc,2CAAH,sDA+BlB,OACE,kBAAC1wE,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEy4B,SARa,WACnBr2B,EAAQqI,KAAR,iCAAuCvZ,EAAvC,cAQM6b,SAAUX,EACVkxB,YAAal+B,OC+CRZ,6BA7Ff,YAOI,IAC6BpU,EAP/B4xD,EAMC,EANDA,OACAllB,EAKC,EALDA,WACA5yB,EAIC,EAJDA,SACA7G,EAGC,EAHDA,KACA05B,EAEC,EAFDA,UACA3/B,EACC,EADDA,MAoBA,OACE,oCACE,kBAACk9B,GAAA,EAAD,CAAcx0B,kBAAA,uBAAiCk8C,EAAO9qD,KACpD,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,wBAAmB8qD,EAAO9qD,IAC5BirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAA,uBAAiCk8C,EAAO9qD,MAE1C,kBAACsjC,GAAA,EAAD,CACEC,cAAe,CACb,kBAACN,GAAA,EAAD,CAAcroC,IAAI,SAASq4D,UAAU,GAClCnI,EAAO/rC,eAAe8B,UACrB,kBAAC,KAAD,CACEpO,SAAS,MACTC,SAlCaxZ,EAmCX4xD,EAAO/rC,eAAe8B,SAjCtC,oCACE,6BAAM1U,EAAKU,EAAE,0BACb,6BACGV,EAAKU,EAAE,gBADV,IACwB3T,EAAI8G,IAE5B,6BACGmM,EAAKU,EAAE,gBADV,IACwB3T,EAAIkX,OAAOF,eAElChX,EAAI2oB,UACH,6BACG1V,EAAKU,EAAE,kBADV,IAC0B3T,EAAI2oB,YAyBpBjnB,IAAKkwD,EAAO/rC,eAAe8B,SAAS7gB,IAEpC,kBAAC,IAAD,CACE0R,GAAE,0BAAqBo5C,EAAO/rC,eAAe8B,SAAS7gB,KAEtD,kBAAC,GAAD,CACEoQ,OAAQ06C,EAAO/rC,eAAe8B,SAASzQ,YAMjD,kBAAC6yB,GAAA,EAAD,CAAct0B,aAAYxC,EAAKU,EAAE,aAAUjS,IAAI,QAC7C,8BACE,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,EAAL,aACN,2BAAIilB,EAAO1kD,SAIjB,kBAAC68B,GAAA,EAAD,CAAct0B,aAAYxC,EAAKU,EAAE,aAAUjS,IAAI,QAC5CsL,MAIP,kBAACs/B,GAAA,EAAD,CACExlC,GAAG,UACH4O,kBAAgB,UAChBD,aAAW,WAEVm8C,EAAO/rC,eAAeb,kBAAkBg1C,OACvC,kBAAC,GAAD,CAA2BpI,OAAQA,IAEpCA,EAAO/rC,eAAeb,kBAAkB6nB,MACvC,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,oBACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,UAAKm0B,EAAL,UAEF,kBAAC,KAAD,cCnGD,SAAS88C,GAAsBC,GAC5C,MAA8BxzE,mBAASwzE,GAAvC,mBAAOC,EAAP,KAAgBC,EAAhB,KACM/uB,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBAsBZ,OAnBAzS,qBAAU,WACRotE,EAAWF,KACV,CAACA,IAEJltE,qBACE,WACE,IAAI,OAACq+C,QAAD,IAACA,OAAD,EAACA,EAAaoC,kBAAkB,OAACpC,QAAD,IAACA,OAAD,EAACA,EAAagvB,qBAAlD,CAIA,IAAM5+E,EAAW4vD,EAAYgvB,oBACvB5lF,EAAQ0lF,EAAQj5C,WAAU,SAAA5yC,GAAC,OAAIA,EAAEgJ,KAAOmE,KAC1ChH,GAAS,GACX2lF,EASR,SAAsBD,EAAS1lF,EAAOyS,GACpC,IAAMk7C,EAAM,2BACP+3B,EAAQ1lF,IADD,IAEViT,OAAQR,EAAQQ,OAChB4yE,aAAcpzE,EAAQiS,SACtB9C,eAAe,2BACV8jE,EAAQ1lF,GAAO4hB,gBADN,IAEZ8B,SAAU,CACR7gB,GAAI4P,EAAQumD,eACZ/lD,OAAQR,EAAQQ,OAChByR,SAAUjS,EAAQiS,cAIxB,MAAM,GAAN,mBAAWghE,EAAQtrF,MAAM,EAAG4F,IAA5B,CAAoC2tD,GAApC,YAA+C+3B,EAAQtrF,MAAM4F,EAAQ,KAvBpD8lF,CAAaJ,EAAS1lF,EAAO42D,OAG5C,CAACA,IAGI8uB,ECNT,IAAM7gD,GAAYxoC,EAAY,YAAa,CACzC0pF,YAAa,GACbvpF,KAAM,EACNC,UAAW,GACXC,SAAU,SA0NGyT,6BAvNf,YAAwC,IAATnB,EAAQ,EAARA,KAC7B,EAA8BohC,cAAtB41C,EAAR,EAAQA,cAAenjF,EAAvB,EAAuBA,GACfsZ,EAAWrF,cAAXqF,OAER,EAKIrB,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAEYvX,QAAQmU,IAAI,CAChC3M,GAAe65E,YAAYpjF,EAAI5F,GAC/BoP,GAAoBy4B,gBAJZ,cAEJ7gC,EAFI,yBAMH,CACLgX,OAAQhX,EAAQ,GAAGtB,KAAKsB,QACxBiiF,YAAajiF,EAAQ,GAAGtB,KAAKoiB,MAC7Bq6D,cAAen7E,EAAQ,GAAGtB,KAAKmX,QAAQmrB,IAAI0oB,OAAOpmC,QAClD4+D,qBAAsBliF,EAAQ,GAAGtB,KAAKmX,UAV9B,2CAYT,CAACjX,EAAIsZ,IACR,CACElB,OAAQ,GACRirE,YAAa,EACb9G,cAAe,KArBjBhkE,EADF,EACEA,UACO+xD,EAFT,EAEEp8D,MAFF,IAGEkK,OAAUA,EAHZ,EAGYA,OAAQirE,EAHpB,EAGoBA,YAAa9G,EAHjC,EAGiCA,cAAe+G,EAHhD,EAGgDA,qBACrCC,EAJX,EAIE7qE,QAsBImqE,EAAUF,GAAsBvqE,GAEhCorE,EACJX,EAAQ9nF,OAAS,GACjB8nF,EAAQtJ,OAAM,SAAAzuB,GAAM,OAAIA,EAAO/rC,eAAeb,kBAAkBg1C,SAClE,EAIIj7C,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,0DACN6vF,EADM,gCAEFj6E,GAAek6E,eAAezjF,GAF5B,2CAIT,CAACA,EAAIwjF,KARGE,EADb,EACEnrE,UACOorE,EAFT,EAEEz1E,MACS01E,EAHX,EAGElrE,QASFhD,qBAAU,WACR6tE,MACC,CAACA,IAEJ,MAA+Dt+C,GAC7D49C,GADM19C,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAO4J,EAAP,EAAGnE,GAAH,OACXwJ,GAAoB28B,QAAQhiC,MAE9B,MAED,CAACghC,IACJ,CACEhsB,WAAYoqE,EACZrqE,iBAAkBgU,EAClBjU,SAAU+oB,KAhBDoV,EADb,EACE7+B,UACasrE,EAFf,EAEExqE,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAgBF,EAA2Cb,GAAoB+qE,GAAhDG,EAAf,EAAQ51E,MAAkB6K,EAA1B,EAA0BA,aAEpBgrE,EAAkC,SAAAlgF,GACtC,MAAO,CACL2F,GAAoBlE,aAAazB,GACjC2F,GAAoBnE,cAAcxB,KAItC,EAIImV,GACFxD,sBAAW,sBAAC,sBAAA7hB,EAAA,gFAERoO,QAAQmU,IACNivB,EACG5qC,KAAI,gBAAOsJ,EAAP,EAAG7D,GAAH,OACH+jF,EAAgClgF,MAEjCmgF,QAGL,KAVQ,2CAYT,CAAC7+C,KAhBO8+C,EADb,EACE1rE,UACe2rE,EAFjB,EAEE1qE,cACa2qE,EAHf,EAGE9qE,YAiBIm1B,EAAY,uCAAG,sBAAA76C,EAAA,sEACbwwF,IADa,UAEdD,EAFc,gCAGXL,IAHW,OAKnBz+C,EAAY,IALO,2CAAH,qDAOZmB,EACJ+8C,GACA1nF,OAAO6T,UAAUC,eAAeC,KAAK2zE,EAAsB,QACvDc,EAAO,uBAAmBjB,EAAnB,YAAoCnjF,EAApC,aACb,OACE,oCACE,kBAAC,GAAD,CACE+wB,aAAcu5C,EACdt5C,kBACEzY,GACA6+B,GACAssC,GACAO,EAEFntF,MAAO+rF,EACPh2D,UAAWw2D,EACX/xD,mBAAoBnlB,EAAKU,EAAE,0BAC3BoM,SAAU+oB,GACV3S,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOi9C,GAAW,KAE1C5pE,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CAAC,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKw/C,EAAL,UACnC,IAHY,CAIhB,kBAAC,GAAD,CACExpF,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,6BARb,YAUZ22E,EACA,CACE,kBAAC,KAAD,CACE5oF,IAAI,SACJ8X,QAASvG,EAAKU,EAAE,yBAChB4F,SAAS,OAET,kBAACyE,EAAA,EAAD,CACE1D,QAASowE,EACTj1E,aAAYxC,EAAKU,EAAE,iBACnBc,QAAQ,aAEPxB,EAAKU,EAAE,oBAId,SAIV62B,WAAY,SAAAy4C,GACV,IAAIj2E,EAMJ,OALAq2E,EAAc/hF,SAAQ,YAAyB,IAAD,mBAAtB6pF,EAAsB,KAAbC,EAAa,KACxCnI,EAAgBrxB,SAAWu5B,IAC7Bn+E,EAAQo+E,MAIV,kBAAC,GAAD,CACE1pF,IAAKuhF,EAAgBn8E,GACrB8qD,OAAQqxB,EACRnpE,SAAU,kBAAMqyB,EAAa82C,IAC7Bj2E,MAAOA,EACP2/B,UAAS,UAAKu+C,GAAL,OAAejI,EAAgBn8E,IACxC4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOm8E,EAAgBn8E,WAKnE8jF,GACC,kBAAC,GAAD,CACEn1E,aAAYxC,EAAKU,EAAE,mBACnBZ,OAAQ63E,EACRn2E,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,sDACR,kBAAC,GAAD,CAAaqB,MAAO41E,MAItBtqE,GAAiB0qE,IACjB,kBAAC,GAAD,CACEv1E,aAAYxC,EAAKU,EAAE,qBACnBZ,OAAQuN,GAAiB0qE,EACzBv2E,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,wDACR,kBAAC,GAAD,CAAaqB,MAAOsL,GAAiB0qE,SChNhC/+E,OAxBf,YAAyD,IAA7Boa,EAA4B,EAA5BA,UAAW4vB,EAAiB,EAAjBA,cACrC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOv0C,IAAI,MAAMmW,KAAK,0CACpB,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,gDACV,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CACEoJ,UAAWA,EACX4vB,cAAeA,EACfh5B,GAAIA,GAAM,SAKlB,kBAAC,IAAD,CAAOpF,KAAK,2CACV,kBAAC,GAAD,SC0KOzD,6BA1Kf,YAA6C,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACzB,EAAwC//B,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkDtyC,oBAAS,GAA3D,mBAAO4hB,EAAP,KAA0B2wB,EAA1B,KACA,EAAkCvyC,mBAAS,MAA3C,mBAAOmQ,EAAP,KAAkBykD,EAAlB,KACM5yD,EAAW6C,cACX4vB,EAAQmC,YAAc,CAC1Bj1B,KAAM,+BAGR2E,qBAAU,WAAM,4CACd,8BAAA/hB,EAAA,+EAE2B4V,GAAe6lC,WAAWvL,EAAMzpC,OAAO4F,IAFlE,gBAEYF,EAFZ,EAEYA,KACRqvC,EAAcrvC,GACdkkE,EAAalkE,GAJjB,gDAMI4hD,EAAgB,EAAD,IANnB,yBAQIC,GAAqB,GARzB,6EADc,uBAAC,WAAD,wBAadC,KACC,CAAC/d,EAAMzpC,OAAO4F,GAAIoR,EAASC,SAAU89B,IAExC,IAiCkB,EAjCZT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,6BAGZ6zB,KAAK,eACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WAAyBnQ,GAAI,GAC5D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WAAyBnQ,GAAI,GAC5D,CAAEoG,KAAM+F,EAAKU,EAAE,cAAW6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UAAwBnQ,GAAI,GAC1D,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,mBACJnQ,GAAI,IAIR,GAAIgxB,EACF,OACE,kBAAChZ,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAMR,GAAIiiB,EACF,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACgB,OAAlC,UAAAA,EAAa5xB,gBAAb,eAAuBiR,SACtB,8BACGjE,EAAKU,EAAE,6BAA0B,IAClC,kBAAC,IAAD,CAAM6E,GAAG,gBACNvF,EAAKU,EAAE,mCAUxB,IAAIg1C,GAAiB,EAUrB,MAPE,CAAC,OAAQ,MAAO,UAAW,SAAU,YAAY5mD,MAAK,SAAAmL,GAAI,OACxDgL,EAASC,SAAS3V,SAAS0K,QAG7By7C,GAAiB,GAGK,WAAX,OAATtiC,QAAS,IAATA,OAAA,EAAAA,EAAWhe,MAEX,kBAAC,IAAD,CAAUmQ,GAAE,uCAAkC6N,EAAUvf,GAA5C,cAKd,kBAACgY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,6BACL79B,GAAG,qCACH0R,OAAK,IAEN7D,GAAa,CACZ,kBAAC,IAAD,CAAOxO,KAAK,qCAAqCnW,IAAI,WACnD,kBAAC,GAAD,CACE2kB,UAAWA,EACXglE,oBAAqBvzD,KAGzB,kBAAC,IAAD,CAAOjgB,KAAK,kCAAkCnW,IAAI,QAChD,kBAAC,GAAD,CAAe2kB,UAAWA,KAE5B,kBAAC,IAAD,CAAOxO,KAAK,mCAAmCnW,IAAI,SACjD,kBAAC,GAAD,CACE2kB,UAAWA,EACX4vB,cAAeA,KAGnB,kBAAC,IAAD,CAAOp+B,KAAK,oCAAoCnW,IAAI,UAClD,kBAAC,GAAD,CACE0kC,SAAU/f,EACVi3B,SAAUjtC,MAGd,kBAAC,IAAD,CAAOwH,KAAK,oCAAoCnW,IAAI,UAClD,kBAAC,GAAD,CACE2kB,UAAWA,EACX4vB,cAAeA,KAGnB,kBAAC,IAAD,CAAOp+B,KAAK,qCAAqCnW,IAAI,WACnD,kBAAC,GAAD,CACE2kB,UAAWA,EACX4vB,cAAeA,KAGnB,kBAAC,IAAD,CACEp+B,KAAK,4CACLnW,IAAI,kBAEJ,kBAAC,GAAD,CACElB,cAAe,CACb8qF,mBAAoBjlE,EAAUvf,GAC9BykF,4BAA6BllE,EAAUvf,GACvC0kF,iDACEnlE,EAAUvf,GACZ2kF,2BAA4BplE,EAAUvf,OAI5C,kBAAC,IAAD,CAAO+Q,KAAK,IAAInW,IAAI,aAClB,kBAAC,GAAD,CAAc2c,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CACE0R,GAAE,iCAA4BmyB,EAAMzpC,OAAO4F,GAAzC,aAEDmM,EAAKU,EAAE,yCCUbS,6BAtKf,YAAoD,IAApBiS,EAAmB,EAAnBA,UAAWpT,EAAQ,EAARA,KACnC+E,EAAU8C,cAEd2K,EAaEY,EAbFZ,QACAV,EAYEsB,EAZFtB,YACAq+D,EAWE/8D,EAXF+8D,YACAt8E,EAUEuf,EAVFvf,GACAqf,EASEE,EATFF,SACAjZ,EAQEmZ,EARFnZ,KACA4c,EAOEzD,EAPFyD,UAPF,EAcIzD,EANFR,eACEgC,EATJ,EASIA,WACAC,EAVJ,EAUIA,YACA3a,EAXJ,EAWIA,aACA6X,EAZJ,EAYIA,kBAIJ,EAKIjG,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAAS,CACboqF,mBAAoBxkF,EACpB2kF,2BAA4B3kF,EAC5BnG,SAAU,YACVD,UAAW,IALH,SAO0CmI,QAAQmU,IAAI,CAC9DvL,GAAe9J,KAAKzG,GACpBmP,GAAesjE,mBAAmB7sE,KAT1B,0CAOK4/D,EAPL,KAOD9/D,KAAyB8kF,EAPxB,KAOkB9kF,KAPlB,kBAWH,CACLiuD,WAAY6R,EAAQx+D,QACpB0/D,eAAgB8jB,EAAOxjF,UAbf,2CAeT,CAACpB,IACJ,CACE+tD,WAAY,GACZ+S,eAAgB,KAvBX/vC,EADT,EACE7iB,MACW8iB,EAFb,EAEEzY,UACSqpC,EAHX,EAGElpC,QAHF,IAIEN,OAAU21C,EAJZ,EAIYA,WAAY+S,EAJxB,EAIwBA,eAwBxBprD,qBAAU,WACRksC,MACC,CAACA,IAEJ,MAAiE3pC,GAC/DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ4V,GAAe48B,QAAQnmC,GADnB,OAEVkR,EAAQqI,KAAR,gBAFU,2CAGT,CAACvZ,EAAIkR,KAJK2zE,EAAf,EAAQ32E,MAAoBqK,EAA5B,EAA4BA,UAAoBi2B,EAAhD,EAAuC91B,QAOvC,EAAgCE,GAAoBisE,GAA5C32E,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OAAIiY,EACK,kBAAC,GAAD,MAGLD,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,oCACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAQ7qB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,IACpC2nD,EAAWhzD,OAAS,GACnB,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,iBACd7R,MAAO,kBAAC,GAAD,CAAWmyD,KAAMY,MAG5B,kBAAC,GAAD,CAAQ7nD,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CAAQ/X,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOmR,EAAKU,EAAE,0BAC5C,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,yBAAoBrL,EAAarG,GAAjC,aACLqG,EAAaD,QAIpB,kBAAC,GAAD,CACE2wB,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,0BACd7R,MAAO,kBAAC,KAAD,CAAO2S,QAAQ,WAAW2uE,KAElCxb,EAAe/lE,OAAS,GACvB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,wBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYg5B,EAAe/lE,QAChD+lE,EAAevmE,KAAI,SAAA6zD,GAAE,OACpB,kBAAC3lB,GAAA,EAAD,CAAM7tC,IAAKwzD,EAAGpuD,GAAIqoC,YAAU,GACzB+lB,EAAGhoD,YAOhB,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOgoB,EACPyV,KAAM,IAER,kBAAC,GAAD,CACEvyB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/W,IAER,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,sBACdynB,KAAMjV,EACNyY,KAAM9W,KAGV,kBAAC,GAAD,MACoB,OAAjB9C,QAAiB,IAAjBA,OAAA,EAAAA,EAAmB6nB,OAClB,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXp2B,aAAW,OACX+C,GAAE,uCAAkC1R,EAAlC,UAEDmM,EAAKU,EAAE,eAGM,OAAjBqR,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBje,SAClB,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,+BACnB4gC,UAAWe,EACXj7B,WAAYgF,GAEXpM,EAAKU,EAAE,wBAKfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,0CACR,kBAAC,GAAD,CAAaqB,MAAOA,SCxJxB42E,GAA2Bx3E,sBAAW,YAA0B,IAAD,EAAtBnB,EAAsB,EAAtBA,KAAMoT,EAAgB,EAAhBA,UAC3CjD,EAAkB2hB,eAAlB3hB,cACR,EAAmEkd,aAAS,CAC1EpzB,KAAM,eACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOq/B,EAAP,KAA0BC,EAA1B,KAA4CC,EAA5C,KAIA,EAAuDlS,aAAS,CAC9DpzB,KAAM,oBADR,mBAAO8mE,EAAP,KAA8BC,EAA9B,KAGA,EAA6D3zC,aAAS,CACpEpzB,KAAM,cACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAO44E,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAIMh5C,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,OACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB0R,EAAiBv9B,MACpCyrB,SAAU8R,EAAiB7R,UAAY6R,EAAiBv9B,MACxDg8B,OAAQ,kBAAMwB,EAAoBQ,cAClClkB,SAAUikB,EACVjxC,MAAOwwC,EAAkBxwC,MACzBupB,UAAQ,EACRqmB,eAAc,OAACrrB,QAAD,IAACA,OAAD,EAACA,EAAWvf,MAE5B,kBAAC,GAAD,CACEhF,MAAO+pF,EAAgB/pF,MACvBwnE,eAAc,UAAEh3B,EAAkBxwC,aAApB,aAAE,EAAyBgF,GACzC+5B,kBAAmBirD,EAAe92E,MAClC8Z,SAAU,SAAAhtB,GACRiqF,EAAkBtsE,SAAS3d,IAE7BkvC,OAAQ,kBAAM+6C,EAAkB/4C,cAChCvS,SAAUqrD,EAAeprD,UAAYorD,EAAe92E,MACpDqF,YAAai4B,EAAkBxwC,QAEjC,kBAAC,GAAD,CACEA,MAAOkyE,EAAoBlyE,MAC3BgtB,SAAU,SAAAhtB,GACRmyE,EAAsBx0D,SAAS3d,IAEjCu4B,QAASpnB,EAAKU,EACZ,mEAGJ,kBAACywB,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,YACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,qBACd0mB,QAASpnB,EAAKU,EACZ,wLAUZ,SAASq4E,GAAT,GAMI,IAAD,EALD3lE,EAKC,EALDA,UACAuhD,EAIC,EAJDA,eACAjlD,EAGC,EAHDA,SACA0rB,EAEC,EAFDA,SACA6E,EACC,EADDA,YAEQ9yB,EAAWrF,cAAXqF,OAEF6rE,EADc,IAAIxjD,gBAAgBroB,GACCpZ,IAAI,eAEvC0b,EAAgB,CACpBqC,YAAasB,EAAUtB,aAAe,GACtCq+D,YACE/8D,EAAU+8D,cACT6I,EACG9iB,GAAaF,GAAegjB,IAC5B,IACNz3B,gBAAiBoT,GAAkB,GACnCv/D,KAAM,QACN6E,KAAMmZ,EAAUnZ,MAAQ,GACxBC,cAAc,UAAAkZ,EAAUR,sBAAV,eAA0B1Y,eAAgB,KACxD2c,UAAWzD,EAAUyD,WAAa,OAGpC,EAKI/K,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa4V,GAAe04B,cAD5B,uBACFniC,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MATAyY,EADF,EACEA,UACO6sE,EAFT,EAEEl3E,MACSm/B,EAHX,EAGE30B,QACQvY,EAJV,EAIEiY,OAaF,OAJA1C,qBAAU,WACR23B,MACC,CAACA,IAEA90B,EACK,kBAAC,GAAD,MAGL6sE,EACK,kBAAC,GAAD,CAAcl3E,MAAOk3E,IAI5B,kBAAC,KAAD,CACExpE,cAAeA,EACfC,SAAU,SAAAzX,GACRyX,EAASzX,MAGV,SAAA0X,GAAM,aACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACynD,GAAD,CAA0BvlE,UAAWA,IACpC6sB,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,aACjBssB,iBAAgB,OAACrnC,QAAD,IAACA,GAAD,UAACA,EAAS8W,eAAV,aAAC,EAAkBuvB,aAiBjD0+C,GAAmB73E,aAAe,CAChCyzD,eAAgB,GAChBvhD,UAAW,GACX6sB,YAAa,MAGA9+B,4BAAW43E,I,sCC9EXG,OA5Gf,YAA4C,IAAd9lE,EAAa,EAAbA,UACtBrO,EAAU8C,cACV6vC,EAAU,uCAAmCtkC,EAAUvf,GAA7C,YAEhB,EAKIiY,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEAGA4V,GAAesjE,mBAAmBttD,EAAUvf,IAH5C,uBAEAoB,EAFA,EAERtB,KAAQsB,QAFA,kBAIHA,GAJG,2CAKT,CAACme,EAAUvf,KACd,IAXO+wB,EADT,EACE7iB,MACW8iB,EAFb,EAEEzY,UACSwoD,EAHX,EAGEroD,QACQooD,EAJV,EAIE1oD,OAWF1C,qBAAU,WACRqrD,MACC,CAACA,IAEJ,MAII9oD,GACFzC,sBAAW,uCACT,WAAOpR,EAAQkiE,EAAmBgf,GAAlC,iBAAA3xF,EAAA,sEACyB4V,GAAeikC,OAAOjuB,EAAUvf,GAAIoE,GAD7D,uBACUtE,EADV,EACUA,KADV,SAEQiC,QAAQmU,IACZowD,EAAkB/rE,KAAI,SAAAyF,GAAE,OACtBuJ,GAAe8kE,uBAAuB9uD,EAAUvf,GAAIA,OAJ1D,uBAOQ+B,QAAQmU,IACZovE,EAAqB/qF,KAAI,SAAAyF,GAAE,OACzBuJ,GAAeglE,0BAA0BhvD,EAAUvf,GAAIA,OAT7D,gCAYSF,GAZT,2CADS,0DAeT,CAACyf,EAAUvf,MAnBNosC,EADT,EACEl+B,MACSozC,EAFX,EAEE5oC,QACQ6sE,EAHV,EAGEntE,OAqBF1C,qBAAU,WACJ6vE,GACFr0E,EAAQqI,KAAK,CACXlI,SAAUwyC,EACVvqC,OAAQ,OAGX,CAACisE,EAAc1hC,EAAY3yC,IAE9B,IAAMgK,EAAY,uCAAG,WAAM++B,GAAN,6BAAAtmD,EAAA,6DACX+5D,EAAoDzT,EAApDyT,gBAAiBrnD,EAAmC4zC,EAAnC5zC,aAAiBm5E,EADvB,YACyCvlC,EADzC,MAGQszB,GACzBzM,EACApT,GAFM+f,EAHW,EAGXA,MAAOC,EAHI,EAGJA,QAIT8X,EAAW/X,EAAMlzE,KAAI,qBAAGyF,MACxBylF,EAAa/X,EAAQnzE,KAAI,qBAAGyF,MARf,SAUbshD,EAAc,aAEhBj7C,aAAY,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAcrG,IACzBw/E,GAELgG,EACAC,GAhBiB,2CAAH,sDA2BlB,OAAIz0D,EACK,kBAAC,GAAD,MAGLD,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,CACExR,UAAWA,EACXuhD,eAAgBA,EAChBv5B,SApBe,WACnBr2B,EAAQqI,KAAK,CACXlI,SAAUwyC,EACVvqC,OAAQ,MAkBNuC,SAAUX,EACVkxB,YAAaA,MCnCN9+B,6BAzDf,YAMI,IALFnB,EAKC,EALDA,KACA05B,EAIC,EAJDA,UACArjC,EAGC,EAHDA,KACAojC,EAEC,EAFDA,WACA5yB,EACC,EADDA,SAEM6xD,EAAqBriE,EAAKuc,eAAe8D,YAAYtoB,KAAI,SAAArB,GAAG,kCAC7DA,GAD6D,IAEhEoI,KAAM,WAGF2/B,EAAO,uBAAmBz+B,EAAKxC,IAErC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAK4H,EAAKxC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKwC,EAAKxC,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiBwC,EAAKxC,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIrjC,EAAK4D,QAGb,kBAAC,GAAD,CAAcxL,IAAI,cAChB,kBAAC,GAAD,CAAWuyD,KAAM0X,KAEnB,kBAAC,GAAD,CAAcjqE,IAAI,aAChB,oCACE,0BAA6BuR,EAAKU,EAAE,sBACpC,kBAAC,IAAD,CACE6E,GAAE,iCAA4BlP,EAAKuc,eAAeQ,UAAUvf,GAA1D,aAEDwC,EAAKuc,eAAeQ,UAAUnZ,gB,uIC1C3C47B,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,SA2GGyT,6BAxGf,YAAsD,IAApBnB,EAAmB,EAAnBA,KAAMoT,EAAa,EAAbA,UAChCnO,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAIA/P,GAAezF,UAAUyb,EAAUvf,GAAI5F,GAJvC,2BAGR0F,KAAQsB,EAHA,EAGAA,QAAgBuwE,EAHhB,EAGSzvD,MAHT,kBAMH,CACL89C,MAAO5+D,EACP8gB,MAAOyvD,IARC,2CAUT,CAACvgE,EAASkI,OAAQiG,EAAUvf,KAC/B,CACEggE,MAAO,GACP99C,MAAO,IAnBX,IACE9J,OAAU4nD,EADZ,EACYA,MAAO99C,EADnB,EACmBA,MACV6O,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSkoD,EAJX,EAIE/nD,QAmBF,EAA+DusB,GAC7D+6B,GADM76B,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAQ/C,OAJA1vB,qBAAU,WACR+qD,MACC,CAACA,IAGF,oCACE,kBAAC,GAAD,CACE1vC,aAAcA,EACdC,kBAAmBzY,EACnBzhB,MAAOkpE,EACPnzC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,cAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,8BACbjS,IAAK,wBAEP,CACEwL,KAAM+F,EAAKU,EAAE,+BACbjS,IAAK,0BAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTy0B,cAAe,SAAAxhB,GAAK,eAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOo6B,GAAS,KAExC/mD,SAAU+oB,GACV5U,oBACW,OAAT7N,QAAS,IAATA,GAAA,UAAAA,EAAWR,sBAAX,mBAA2Bb,yBAA3B,eAA8CwnE,OAC1C,CACE,kBAAC,GAAD,CACEnV,WAAYprC,EACZ6rC,aAAc9uD,EAAQ,KAG1B,OAIVwhB,WAAY,SAAAlhC,GAAI,OACd,kBAAC,GAAD,CACE5H,IAAK4H,EAAKxC,GACVwC,KAAMA,EACNqjC,UAAS,uCAAkCtmB,EAAUvf,GAA5C,kBAAwDwC,EAAKxC,GAA7D,YACT4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwC,EAAKxC,MACjDgT,SAAU,kBAAMqyB,EAAa7iC,aCtC1B8K,6BA5Df,YAAmD,IAAf9K,EAAc,EAAdA,KAAM2J,EAAQ,EAARA,KAEtCwS,EAOEnc,EAPFmc,QACAV,EAMEzb,EANFyb,YACA6E,EAKEtgB,EALFsgB,QACAzD,EAIE7c,EAJF6c,SACAjZ,EAGE5D,EAHF4D,KACA4c,EAEExgB,EAFFwgB,UANF,EAQIxgB,EADFuc,eAAkBQ,EAPpB,EAOoBA,UAAWsD,EAP/B,EAO+BA,YAAa9B,EAP5C,EAO4CA,WAAYC,EAPxD,EAOwDA,YAGlD6jD,EAAkB,OAAGhiD,QAAH,IAAGA,OAAH,EAAGA,EAAatoB,KAAI,SAAArB,GAAG,kCAAUA,GAAV,IAAeoI,KAAM,WAEpE,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY69B,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,KAClB,OAAlBy+D,QAAkB,IAAlBA,OAAA,EAAAA,EAAoB9pE,QAAS,GAC5B,kBAAC,GAAD,CACEmL,MAAOiG,EAAKU,EAAE,iBACd7R,MAAO,kBAAC,GAAD,CAAWmyD,KAAM0X,MAG5B,kBAAC,GAAD,CAAQ3+D,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,wCAA4B6N,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAWvf,GAAvC,aAAR,OACGuf,QADH,IACGA,OADH,EACGA,EAAWnZ,QAIlB,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,gBACd7R,MAAO8nB,EAAU3W,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAE1C,kBAAC,GAAD,CACEynB,KAAM3V,EACNzY,MAAOiG,EAAKU,EAAE,2BACdirB,KAAM/W,IAER,kBAAC,GAAD,CACEuT,KAAMjV,EACNnZ,MAAOiG,EAAKU,EAAE,sBACdirB,KAAM9W,IAER,kBAAC,GAAD,CACE9a,MAAOiG,EAAKU,EAAE,qBACd4rB,KAAM,EACNz9B,MAAOgoB,SC0BF1V,6BA7Ef,YAAiE,IAAnCnB,EAAkC,EAAlCA,KAAMoT,EAA4B,EAA5BA,UAAW4vB,EAAiB,EAAjBA,cAC7C,EAA8BnJ,YAC5B,kDADM5rC,EAAR,EAAQA,OAAQ2W,EAAhB,EAAgBA,KAAMZ,EAAtB,EAAsBA,IAItB,EAA+D8H,GAC7DzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACa4V,GAAexF,eACpCwb,EAAUvf,GACV5F,EAAOmI,QAHC,cACJpD,EADI,yBAKHA,GALG,2CAMT,CAACogB,EAAUvf,GAAI5F,EAAOmI,SACzB,MARcC,EAAhB,EAAQ4V,OAAclK,EAAtB,EAAsBA,MAAOqK,EAA7B,EAA6BA,UAAoBkuD,EAAjD,EAAwC/tD,QAqBxC,GAVAhD,qBAAU,WACR+wD,MACC,CAACA,IAEJ/wD,qBAAU,WACJ6J,GAAa/c,GACf2sC,EAAc5vB,EAAW/c,KAE1B,CAAC+c,EAAW/c,EAAM2sC,IAEjBjhC,EACF,OAAO,kBAAC,GAAD,CAAcA,MAAOA,IAG9B,IAAMwgC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,uBAGZ6zB,KAAK,gCAAD,OAAkCnhB,EAAUvf,GAA5C,UACJA,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKvwB,EAAL,YACJnQ,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IAEtBn2B,GAAa,kBAAC,GAAD,OAEZA,GAAa/V,GACb,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE+sC,KAAK,iDACL79B,GAAE,UAAKX,EAAL,YACFqS,OAAK,IAEP,kBAAC,IAAD,CAAOxoB,IAAI,UAAUmW,KAAI,UAAKA,EAAL,aACvB,kBAAC,GAAD,CAA0BvO,KAAMA,KAElC,kBAAC,IAAD,CAAO5H,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAKvB,EAAL,aACLhE,EAAKU,EAAE,kDCrDT84E,OApBf,YAA4D,IAA7BpmE,EAA4B,EAA5BA,UAAW4vB,EAAiB,EAAjBA,cACxC,OACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOv0C,IAAI,OAAOmW,KAAK,kDACrB,kBAAC,GAAD,CACEo+B,cAAeA,EACf5vB,UAAWA,KAGf,kBAAC,IAAD,CAAO3kB,IAAI,YAAYmW,KAAK,0CAC1B,kBAAC,GAAD,CAAwBwO,UAAWA,OC2K5BjS,6BAjKf,YAAkD,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACxB/9B,EAAW6C,cACX4vB,EAAQmC,YAAc,oCAE5B,EAKI/tB,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa4V,GAAe6lC,WAAWvL,EAAMzpC,OAAO4F,IADpD,uBACFF,EADE,EACFA,KADE,kBAEH,CACLyf,UAAWzf,IAHH,2CAKT,CAAC+jC,EAAMzpC,OAAO4F,KACjB,CACEuf,UAAW,OAZHA,EADZ,EACEnH,OAAUmH,UACHwR,EAFT,EAEE7iB,MACW8iB,EAHb,EAGEzY,UACSqtE,EAJX,EAIEltE,QAaFhD,qBAAU,WACRkwE,MACC,CAACA,IAEJlwE,qBAAU,WACJ6J,GACF4vB,EAAc5vB,KAEf,CAACA,EAAW4vB,IAEf,IA+BkB,EA/BZT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,6BAGZ6zB,KAAK,eACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WAAyBnQ,GAAI,GAC5D,CAAEoG,KAAM+F,EAAKU,EAAE,cAAW6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UAAwBnQ,GAAI,GAC1D,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,mBACJnQ,GAAI,IAIR,GAAIgxB,EACF,OACE,kBAAChZ,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAMR,GAAIiiB,EACF,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACiB,OAAvB,OAAZA,QAAY,IAAZA,GAAA,UAAAA,EAAc5xB,gBAAd,eAAwBiR,SACvB,8BACGjE,EAAKU,EAAE,mCAAgC,IACxC,kBAAC,IAAD,CAAM6E,GAAG,gBACNvF,EAAKU,EAAE,mCAUxB,GAAwB,MAAX,OAAT0S,QAAS,IAATA,OAAA,EAAAA,EAAWhe,MACb,OAAO,kBAAC,IAAD,CAAUmQ,GAAE,iCAA4B6N,EAAUvf,GAAtC,cAGrB,IAAI6hD,GAAiB,EAMrB,MAJI,CAAC,OAAQ,UAAU5mD,MAAK,SAAAmL,GAAI,OAAIgL,EAASC,SAAS3V,SAAS0K,QAC7Dy7C,GAAiB,GAIjB,kBAAC7pC,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,mCACL79B,GAAG,2CACH0R,OAAK,IAEN7D,GAAa,CACZ,kBAAC,IAAD,CACE3kB,IAAI,UACJmW,KAAK,4CAEL,kBAAC,GAAD,CACEwH,UAAWyY,EACXzR,UAAWA,KAGf,kBAAC,IAAD,CAAO3kB,IAAI,OAAOmW,KAAK,yCACrB,kBAAC,GAAD,CAAoBwO,UAAWA,KAEjC,kBAAC,IAAD,CAAO3kB,IAAI,SAASmW,KAAK,2CACvB,kBAAC,GAAD,CACEuuB,SAAU/f,EACVi3B,SAAUjtC,MAGd,kBAAC,IAAD,CAAO3O,IAAI,QAAQmW,KAAK,0CACtB,kBAAC,GAAD,CACEwO,UAAWA,EACX4vB,cAAeA,KAGnB,kBAAC,IAAD,CACEv0C,IAAI,iBACJmW,KAAK,mDAEL,kBAAC,GAAD,CACErX,cAAe,CACb8qF,mBAAoBjlE,EAAUvf,GAC9BykF,4BAA6BllE,EAAUvf,GACvC0kF,iDACEnlE,EAAUvf,GACZ2kF,2BAA4BplE,EAAUvf,OAI5C,kBAAC,IAAD,CAAOpF,IAAI,YAAYmW,KAAK,MACxBigB,GACA,kBAAC,GAAD,CAAczZ,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CACE0R,GAAE,uCAAkCmyB,EAAMzpC,OAAO4F,GAA/C,aAEDmM,EAAKU,EAAE,yC,2DCnFfg5E,OAjFf,WACE,MAA0Bz2E,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KACA,EAAkClJ,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,EAAgDpJ,mBAAS,MAAzD,mBAAOuyD,EAAP,KAAyBsM,EAAzB,KACM/8D,EAAU8C,cAEhB0B,qBAAU,YACM,uCAAG,8BAAA/hB,EAAA,+EAIHqV,GAAmBnI,KAAK,CAAEU,KAAM,aAJ7B,gBAGM4sE,EAHN,EAGXruE,KAAQsB,QAEV6sE,EAAoBE,EAAuB,GAAGnuE,IALjC,gDAObsY,EAAS,EAAD,IAPK,yBASbE,GAAa,GATA,4EAAH,qDAYdgpC,KACC,CAACjpC,EAAWopD,IAEf,IAIMzmD,EAAY,uCAAG,WAAM9W,GAAN,6BAAAzQ,EAAA,6DAEjBmtE,EAIE18D,EAJF08D,eACAz6D,EAGEjC,EAHFiC,aACAinE,EAEElpE,EAFFkpE,oBACG1sB,EALc,YAMfx8C,EANe,sBAUPmF,GAAezK,OAAf,aACRuH,aAAcA,EAAarG,GAC3BstE,oBAAqBA,EACjBA,EAAoBttE,GACpB,MACD4gD,IAfY,mBASH18C,EATG,EASfpE,KAAQE,IAQN8gE,EAjBa,wBAkBTsN,EAAoBtN,EAAevmE,IAAf,uCAAmB,WAAM6zD,GAAN,SAAAz6D,EAAA,+EAC3C4V,GAAe8kE,uBAAuBnqE,EAAakqD,EAAGpuD,KADX,2CAAnB,uDAlBX,UAqBT+B,QAAQmU,IAAIk4D,GArBH,QAuBXj+D,EAAMe,EAAQE,SAASC,SAAS5V,WACpC,gCADU,uCAGwByI,EAHxB,6CAIkBA,EAJlB,YAMZgN,EAAQqI,KAAR,UAAgBpJ,IA7BC,kDA+BjBmI,EAAS,EAAD,IA/BS,0DAAH,sDAmClB,OAAIC,EACK,kBAAC,GAAD,MAGP,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEy4B,SA/CW,WACnBr2B,EAAQqI,KAAK,iBA+CLsC,SAAUX,EACVymD,iBAAkBA,EAClBv1B,YAAal+B,Q,sCCRV43E,OAjEf,WACE,IAAM50E,EAAU8C,cAEhB,EAIIiE,GACFzC,sBAAW,uCAAC,WAAOpR,EAAQkiE,GAAf,iBAAA3yE,EAAA,sEAGA4V,GAAezK,OAAOsF,GAHtB,uBAEIyhE,EAFJ,EAER/lE,KAAQE,GAFA,SAKJ+B,QAAQmU,IACZowD,EAAkB/rE,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OACpBuJ,GAAe8kE,uBAAuBxI,EAAO7lE,OAPvC,gCAUH6lE,GAVG,2CAAD,wDAWR,KAfIz5B,EADT,EACEl+B,MACSozC,EAFX,EAEE5oC,QACQxU,EAHV,EAGEkU,OAgBI8C,EAAY,uCAAG,WAAM++B,GAAN,mBAAAtmD,EAAA,6DACX+5D,EAAoDzT,EAApDyT,gBAAiBrnD,EAAmC4zC,EAAnC5zC,aAAiBm5E,EADvB,YACyCvlC,EADzC,aAGbqH,EAAc,aAEhBj7C,aAAY,OAAEA,QAAF,IAAEA,OAAF,EAAEA,EAAcrG,IACzBw/E,GAEL9xB,GARiB,2CAAH,sDA4BlB,OATAh4C,qBAAU,WACJxR,GACFgN,EAAQqI,KAAK,CACXlI,SAAS,gCAAD,OAAkCnN,EAAlC,YACRoV,OAAQ,OAGX,CAACpV,EAAagN,IAGf,kBAAC8G,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEy4B,SArBW,WACnBr2B,EAAQqI,KAAK,CACXlI,SAAU,eACViI,OAAQ,MAmBFuC,SAAUX,EACVkxB,YAAaA,QC6FV9+B,6BAjJf,YAAgC,IAATnB,EAAQ,EAARA,KACf45E,EAAmBrxE,iBAAO,CAC9B,eAAgBvI,EAAKU,EAAE,oBACvB,6BAA8BV,EAAKU,EAAE,6BACrC,mCAAoCV,EAAKU,EAAE,qCAG7C,EAA4CuC,mBAC1C22E,EAAiBnwE,SADnB,mBAAO85B,EAAP,KAAyBs2C,EAAzB,KAIA,EAAkC52E,qBAAlC,mBAAOmQ,EAAP,KAAkBykD,EAAlB,KACA,EAAuC50D,qBAAvC,mBAAO62E,EAAP,KAAqBC,EAArB,KACA,EAAgC92E,qBAAhC,mBAAOulE,EAAP,KAAiBmG,EAAjB,KAEMnqC,EAAsBn7B,uBAC1B,SAAC2wE,EAAiBC,EAAoBC,GAAoB,IAAD,EAavD,GAZIF,GAAmBA,EAAgB//E,QAAhB,OAAyBmZ,QAAzB,IAAyBA,OAAzB,EAAyBA,EAAWnZ,OACzD49D,EAAamiB,GAGbC,GACAA,EAAmBhgF,QAAnB,OAA4B6/E,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAc7/E,OAE1C8/E,EAAeE,GAEbC,GAAkBA,EAAejgF,QAAf,OAAwBuuE,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAUvuE,OACtD00E,EAAYuL,GAET9mE,EAAL,CAIA,IAAMuuC,EACe,UAAnBvuC,EAAUhe,KAAmB,kBAAoB,YAE7C+kF,EAAa,uBAAmBx4B,EAAnB,YAAoCvuC,EAAUvf,IAC3DumF,EAAkB,UAAMD,EAAN,UAClBE,EAAmB,UAAMF,EAAN,WACnBG,EAAoB,UAAMH,EAAN,YAE1BN,EAAgB,2BACXD,EAAiBnwE,SADP,wBAEZ0wE,EAFY,UAEO/mE,EAAUnZ,OAFjB,yBAGTkgF,EAHS,WAGgBn6E,EAAKU,EAAE,gBAHvB,yBAITy5E,EAJS,mBAIwBn6E,EAAKU,EAAE,wBAJ/B,yBAKTy5E,EALS,YAKiBn6E,EAAKU,EAAE,iBALxB,yBAMTy5E,EANS,SAMcn6E,EAAKU,EAAE,sBANrB,eAQZ05E,EAAqBp6E,EAAKU,EAAE,eARhB,yBAST05E,EATS,QASkBp6E,EAAKU,EAAE,yBATzB,yBAUT05E,EAVS,mBAUaN,QAVb,IAUaA,OAVb,EAUaA,EAAcjmF,IAV3B,iBAUqCimF,QAVrC,IAUqCA,OAVrC,EAUqCA,EAAc7/E,OAVnD,yBAWTmgF,EAXS,mBAWaN,QAXb,IAWaA,OAXb,EAWaA,EAAcjmF,GAX3B,SAWuCmM,EAAKU,EACvD,sBAZW,yBAcT05E,EAdS,mBAcaN,QAdb,IAcaA,OAdb,EAcaA,EAAcjmF,GAd3B,YAc0CmM,EAAKU,EAC1D,sBAfW,yBAiBT05E,EAjBS,mBAiBaN,QAjBb,IAiBaA,OAjBb,EAiBaA,EAAcjmF,GAjB3B,mBAiBiDmM,EAAKU,EACjE,wBAlBW,yBAoBT05E,EApBS,mBAoBaN,QApBb,IAoBaA,OApBb,EAoBaA,EAAcjmF,GApB3B,UAoBwCmM,EAAKU,EAAE,eApB/C,yBAqBT05E,EArBS,mBAqBaN,QArBb,IAqBaA,OArBb,EAqBaA,EAAcjmF,GArB3B,WAqByCmM,EAAKU,EAAE,gBArBhD,eAuBZ25E,EAAsBr6E,EAAKU,EAAE,gBAvBjB,yBAwBT25E,EAxBS,QAwBmBr6E,EAAKU,EAAE,0BAxB1B,yBAyBT25E,EAzBS,mBAyBcP,QAzBd,IAyBcA,OAzBd,EAyBcA,EAAcjmF,IAzB5B,iBAyBsCimF,QAzBtC,IAyBsCA,OAzBtC,EAyBsCA,EAAc7/E,OAzBpD,yBA0BTogF,EA1BS,mBA0BcP,QA1Bd,IA0BcA,OA1Bd,EA0BcA,EAAcjmF,GA1B5B,SA0BwCmM,EAAKU,EACxD,sBA3BW,yBA6BT25E,EA7BS,mBA6BcP,QA7Bd,IA6BcA,OA7Bd,EA6BcA,EAAcjmF,GA7B5B,YA6B2CmM,EAAKU,EAC3D,uBA9BW,yBAgCT25E,EAhCS,mBAgCcP,QAhCd,IAgCcA,OAhCd,EAgCcA,EAAcjmF,GAhC5B,iBAgCgDmM,EAAKU,EAChE,eAjCW,yBAmCT25E,EAnCS,mBAmCcP,QAnCd,IAmCcA,OAnCd,EAmCcA,EAAcjmF,GAnC5B,qBAmCoDmM,EAAKU,EACpE,yBApCW,yBAsCT25E,EAtCS,mBAsCcP,QAtCd,IAsCcA,OAtCd,EAsCcA,EAAcjmF,GAtC5B,kBAsCiDmM,EAAKU,EACjE,wBAvCW,yBAyCT25E,EAzCS,mBAyCcP,QAzCd,IAyCcA,OAzCd,EAyCcA,EAAcjmF,GAzC5B,sBAyCqDmM,EAAKU,EACrE,0BA1CW,yBA6CT45E,GAAyBt6E,EAAKU,EAAE,iBA7CvB,yBA8CT45E,EA9CS,QA8CoBt6E,EAAKU,EAAE,2BA9C3B,yBA+CT45E,EA/CS,mBA+CeR,QA/Cf,IA+CeA,OA/Cf,EA+CeA,EAAcjmF,IA/C7B,iBA+CuCimF,QA/CvC,IA+CuCA,OA/CvC,EA+CuCA,EAAc7/E,OA/CrD,yBAgDTqgF,EAhDS,mBAgDeR,QAhDf,IAgDeA,OAhDf,EAgDeA,EAAcjmF,GAhD7B,YAgD4CmM,EAAKU,EAC5D,iBAjDW,yBAmDT45E,EAnDS,mBAmDeR,QAnDf,IAmDeA,OAnDf,EAmDeA,EAAcjmF,GAnD7B,SAmDyCmM,EAAKU,EACzD,sBApDW,yBAsDT45E,EAtDS,mBAsDeR,QAtDf,IAsDeA,OAtDf,EAsDeA,EAAcjmF,GAtD7B,cAsD8CmM,EAAKU,EAC9D,mBAvDW,yBAyDT45E,EAzDS,mBAyDeR,QAzDf,IAyDeA,OAzDf,EAyDeA,EAAcjmF,GAzD7B,6BAyD6C20E,QAzD7C,IAyD6CA,OAzD7C,EAyD6CA,EAAU30E,IAzDvD,iBAyDiE20E,QAzDjE,IAyDiEA,OAzDjE,EAyDiEA,EAAUvuE,OAzD3E,yBA0DTqgF,EA1DS,mBA0DeR,QA1Df,IA0DeA,OA1Df,EA0DeA,EAAcjmF,GA1D7B,kBA0DkDmM,EAAKU,EAClE,6BA3DW,yBA6DT45E,EA7DS,mBA6DeR,QA7Df,IA6DeA,OA7Df,EA6DeA,EAAcjmF,GA7D7B,6BA6D6C20E,QA7D7C,IA6D6CA,OA7D7C,EA6D6CA,EAAU30E,GA7DvD,YA6DsEmM,EAAKU,EACtF,0BA9DW,yBAgET45E,EAhES,mBAgEeR,QAhEf,IAgEeA,OAhEf,EAgEeA,EAAcjmF,GAhE7B,kBAgEkDmM,EAAKU,EAClE,sBAjEW,QAqEjB,CAACV,EAAMoT,EAAW0mE,EAActR,IAGlC,OACE,oCACE,kBAAC,GAAD,CACE1kC,WAAW,YACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,8BACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,oCACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,8BACV,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CAAWg5B,cAAewB,EAAqBx6B,GAAIA,GAAM,SAI/D,kBAAC,IAAD,CAAOpF,KAAK,oCACV,kBAAC,GAAD,CAAgBo+B,cAAewB,KAEjC,kBAAC,IAAD,CAAO5/B,KAAK,gBACV,kBAAC,GAAD,YCpHJorB,GAAiB3uB,YAAOk5E,IAAV,gFAAGl5E,CAAH,2F,6PAMdm5E,GAAoBn5E,IAAOC,IAAV,mFAAGD,CAAH,2FAOjB69C,GAAY,CAChBC,EAAG,aACHC,EAAG,cACHC,EAAG,mBACHC,EAAG,YACHC,EAAG,wBAqTUp+C,I,SAAAA,yBArRf,YAAmC,IAsDD8yB,EAtDblnC,EAAa,EAAbA,IAAKiT,EAAQ,EAARA,KACxB,EAUIjT,EAAI6lB,eATNgC,EADF,EACEA,WACAH,EAFF,EAEEA,WACAoB,EAHF,EAGEA,YACgB8kD,EAJlB,EAIE/kD,eACAxC,EALF,EAKEA,UACcqnE,EANhB,EAME9kE,aACuB+kE,EAPzB,EAOEjnD,sBACA3d,EARF,EAQEA,OACAtC,EATF,EASEA,QAEF,EAAgCvQ,qBAAhC,mBAAO03E,EAAP,KAAiBC,EAAjB,KACM71E,EAAU8C,cAEV++C,EAAW,CACf55D,eAAgBgT,EAAKU,EAAE,8BACvBxT,iBAAkB8S,EAAKU,EAAE,uBACzB3T,IAAKiT,EAAKU,EAAE,qBACZvT,eAAgB6S,EAAKU,EAAE,gBACvBmmD,eAAgB7mD,EAAKU,EAAE,uBACvBtT,aAAc4S,EAAKU,EAAE,sBAGvB,EArD2B,SAAC,GAA2C,IAYnE6zB,EACA1lC,EAbkE,IAAxC+jB,sBAAwC,MAAvB,GAAuB,MAAnBD,eAAmB,MAAT,GAAS,EAExDkoE,EAGVjoE,EAHFgC,WACc6lE,EAEZ7nE,EAFF+C,aACA6yD,EACE51D,EADF41D,SAEgBsS,EAAoBnoE,EAA9B61D,SAER,OAAKqS,GAAcrS,GAOfqS,GACFtmD,EAAI,iBAAasmD,EAAUhnF,IAC3BhF,EAAQgsF,EAAUx/E,UACTy/E,GAAmBL,GAC5BlmD,EAAI,kCAA8BkmD,EAAY5mF,GAA1C,sBAA0D20E,EAAS30E,IACvEhF,EAAQ25E,EAASvuE,OAEjBs6B,EAAO,KACP1lC,EAAQ25E,EAASvuE,MAGZ,CAAEs6B,OAAM1lC,UAjBN,KA6CPksF,CAAqBhuF,IAAQ,GADhBiuF,EAAf,EAAQnsF,MAA8BosF,EAAtC,EAAgC1mD,KAG1B2mD,EAAS,uCAAG,sBAAA1zF,EAAA,oEAENuF,EAAIoI,KAFE,OAGP,mBAHO,OAMP,eANO,OASP,iBATO,QAYP,mBAZO,QAeP,qBAfO,wCAIJ2I,GAAkBk8B,QAAQjtC,EAAI8G,IAJ1B,0DAOJuK,GAAc47B,QAAQjtC,EAAI8G,IAPtB,4DAUJiL,GAAgBk7B,QAAQjtC,EAAI8G,IAVxB,6DAaJ2I,GAAiBw9B,QAAQjtC,EAAI8G,IAbzB,6DAgBJuJ,GAAe48B,QAAQjtC,EAAI8G,IAhBvB,6DAmBJ2J,GAAQw8B,QAAQjtC,EAAI8G,IAnBhB,QAqBdkR,EAAQqI,KAAK,SArBC,kDAuBdwtE,EAAY,EAAD,IAvBG,0DAAH,qDA2Cf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KAEE,kBAAC,GAAD,CACE7gF,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC2rF,GAAD,KACGztF,EAAIkX,QAAU,kBAAC,GAAD,CAAYA,OAAQlX,EAAIkX,SACtCy9B,GAAY30C,EAAIkX,WAIvB,kBAAC,GAAD,CACElK,MAAOiG,EAAKU,EAAE,iCACd7R,MAAO24B,GAAiBz6B,EAAI0oB,WAE9B,kBAAC,GAAD,CACE1b,MAAOiG,EAAKU,EAAE,iCACd7R,MAAO24B,GAAiBz6B,EAAI2oB,YAE7B+kE,GACC,kBAAC,GAAD,CACE1gF,MAAOiG,EAAKU,EAAE,iCACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,kCAA6Bk1E,EAAY5mF,KAC9C4mF,EAAYxgF,QAKpBygF,GACC,kBAAC,GAAD,CACE3gF,MAAOiG,EAAKU,EAAE,8BACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,2CAAsCm1E,EAAoB7mF,KAE3D6mF,EAAoBzgF,QAK7B,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAO+3D,EAAS75D,EAAIoI,QACpD,kBAAC,GAAD,CACE4E,MAAOiG,EAAKU,EAAE,2BACd7R,MACEosF,EACE,kBAAC,IAAD,CAAM11E,GAAE,UAAK01E,IAAmBD,GAEhCA,IAIL5nE,GACC,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GACqB,UAAnB6N,EAAUhe,KAAV,uCACoCge,EAAUvf,IAD9C,iCAE8Buf,EAAUvf,KAGzCuf,EAAUnZ,QAKlBuZ,GACC,kBAAC,GAAD,CACEzZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC2rF,GAAD,KACGhnE,EAAQvP,QAAU,kBAAC,GAAD,CAAYA,OAAQuP,EAAQvP,SAC/C,kBAAC,IAAD,CAAMsB,GAAE,oBAAeiO,EAAQ3f,KAAO2f,EAAQvZ,SAKtD,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,iBAAc7R,MAAO9B,EAAIipB,eAC/C,kBAAC,GAAD,CAAQjc,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO9B,EAAIwmB,WACzC,kBAAC,GAAD,CAAQxZ,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO9B,EAAIkpB,QACzC,kBAAC,GAAD,CAAQlc,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOqwD,GAAUnyD,EAAIopB,aACrD,kBAAC,GAAD,CAAQpc,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAO9B,EAAIgmB,oBAC3C,kBAAC,GAAD,CAAQhZ,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAO9B,EAAIouF,iBAC1CxgB,GACC,kBAAC,GAAD,CACE5gE,MAAOiG,EAAKU,EAAE,2BACd7R,OA1GsBolC,EA0GS0mC,EAzGnC1mC,EAAKsnC,YAEL,oCACE,kBAAC,IAAD,CAAMh2D,GAAE,2BAAsB0uB,EAAKpgC,KAAOogC,EAAKh6B,MAC/C,0BACE,kBAAC,KAAD,CAAOuI,aAAYxC,EAAKU,EAAE,2BACvBV,EAAKU,EAAE,oBAMX,kBAAC,IAAD,CAAM6E,GAAE,2BAAsB0uB,EAAKpgC,KAAOogC,EAAKh6B,SAgGjB,kBAAzBlN,EAAIspB,kBACqB,kBAAxBtpB,EAAIupB,iBACT,kBAAC,GAAD,CACEvc,MAAOiG,EAAKU,EAAE,iCACd7R,MAAK,UAAK9B,EAAIspB,iBAAT,YAA6BtpB,EAAIupB,mBAG3C7B,GACC,kBAAC,GAAD,CACE1a,MAAOiG,EAAKU,EAAE,2BACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY,GAClC,kBAAC,GAAD,CACEltC,IAAKgmB,EAAW5gB,GAChB4gB,WAAYA,EACZynB,YAAU,OAMnBrmB,GAAeA,EAAYjnB,OAAS,GACnC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,oBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY9lB,EAAYjnB,QAC7CinB,EAAYznB,KAAI,SAAAg3D,GAAC,OAChB,kBAAC,GAAD,CAAgB32D,IAAK22D,EAAEvxD,GAAI4gB,WAAY2wC,EAAGlpB,YAAU,UAM7DpmB,GAAUA,EAAOC,MAAQ,GACxB,kBAAC,GAAD,CACE6U,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,eACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAY7lB,EAAO7gB,QAAQrG,QAChDknB,EAAO7gB,QAAQ7G,KAAI,SAAAigE,GAAC,OACnB,kBAAC/xB,GAAA,EAAD,CAAM7tC,IAAK4/D,EAAEx6D,GAAIqoC,YAAU,GACxBmyB,EAAEp0D,YAOf,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,2BACdynB,KAAMp7B,EAAIylB,QACVmZ,KAAM/W,IAER,kBAAC,GAAD,CAAgB7a,MAAOiG,EAAKU,EAAE,6CAAYynB,KAAMp7B,EAAImmB,YAErDnmB,EAAIsM,YACH,sBAEExF,GAAG,gBACH24B,UAAQ,EACR39B,MAAO9B,EAAIsM,WACXizB,KAAM,EACNvyB,MAAOiG,EAAKU,EAAE,uBAGjB3T,EAAIwpB,WACH,sBAEE1iB,GAAG,gBACH24B,UAAQ,EACR39B,MAAOjC,KAAKC,UAAUE,EAAIwpB,WAC1B+V,KAAM,EACNvyB,MAAOiG,EAAKU,EAAE,uBAGlB,kBAAC,GAAD,KACgB,eAAb3T,EAAIoI,MACHpI,EAAI6lB,eAAeb,kBAAkBg1C,OACnC,kBAAC,GAAD,CAAc5zB,SAAUpmC,EAAKyV,aAAYxC,EAAKU,EAAE,6BAC7C,gBAAGolD,EAAH,EAAGA,eAAH,OACC,kBAAC/6C,EAAA,EAAD,CAAQ5V,KAAK,SAASkS,QAASy+C,GAC5B9lD,EAAKU,EAAE,+BAKjB3T,EAAI6lB,eAAeb,kBAAkBje,QACpC,kBAAC,GAAD,CACEmG,KAAMlN,EAAIkN,KACVo+B,WAAYr4B,EAAKU,EAAE,mBACnB4gC,UAAW45C,GAEVl7E,EAAKU,EAAE,uBAIbi6E,GACC,kBAAC,GAAD,CACE76E,OAAQ66E,EACRn5E,QAAQ,QACRzB,QAAS,kBAAM66E,KACfr5E,MAAOvB,EAAKU,EAAE,0BAEd,kBAAC,GAAD,CAAaqB,MAAO44E,S,yLCzVxBS,GAAa/5E,IAAOC,IAAV,iIAQV+5E,GAAah6E,IAAOC,IAAV,2EACM,SAAAI,GAAK,OAAIA,EAAM28D,OAAS,aAC/B,SAAA38D,GAAK,OAAIA,EAAMqU,OAAS,KAEvCslE,GAAW30D,YAAc,aAEzB,I,SAAM40D,GAAiBj6E,IAAOC,IAAV,4HAoELH,yBA3DO,SAAC,GAA2B,IAAzBnB,EAAwB,EAAxBA,KAAwB,IAAlBu7E,cAAkB,MAAT,GAAS,EACzCC,EAAwC,IAA/B/rF,OAAOC,KAAK6rF,GAAQ3sF,OAC7B6sF,EAAa,CACjBC,GAAI,CACFrd,MAAO,UACPtkE,MAAOiG,EAAKU,EAAE,YAEhBi7E,QAAS,CACPtd,MAAO,UACPtkE,MAAOiG,EAAKU,EAAE,iBAEhBk7E,QAAS,CACPvd,MAAO,UACPtkE,MAAOiG,EAAKU,EAAE,iBAEhBm7E,SAAU,CACRxd,MAAO,UACPtkE,MAAOiG,EAAKU,EAAE,gBAEhBo7E,KAAM,CACJzd,MAAO,UACPtkE,MAAOiG,EAAKU,EAAE,sBAIZq7E,EAActsF,OAAOC,KAAK+rF,GAAYrtF,KAAI,SAAAK,GAC9C,IAAMsnB,EAAQwlE,EAAO9sF,IAAQ,EAC7B,OACE,kBAAC,KAAD,CACEA,IAAKA,EACL8X,QACE,kBAAC+0E,GAAD,KACGG,EAAWhtF,GAAKsL,MACjB,kBAAC+xB,GAAA,EAAD,CAAOC,QAAM,GAAEhW,KAInB,kBAACslE,GAAD,CAAY5sF,IAAKA,EAAK4vE,MAAOod,EAAWhtF,GAAK4vE,MAAOtoD,MAAOA,QAKjE,OAAIylE,EAEA,kBAACJ,GAAD,KACE,kBAAC,KAAD,CACE70E,QAASvG,EAAKU,EACZ,8DAGF,kBAAC26E,GAAD,CAAYtlE,MAAO,MAMpB,kBAACqlE,GAAD,KAAaW,MCnFP16E,OAAOC,IAAtB,2NAKc,SAAAI,GAAK,OAAKA,EAAMs6E,YAAc,UAAY,aAUpD,qBAAGvgD,QAAyB,qBAAuB,MCfxCp6B,OAAOC,IAAtB,0PCAM26E,GAAqB56E,IAAOC,IAAV,iOAWxB26E,GAAmBv1D,YAAc,qBAElBu1D,I,GAAAA,MCbTC,GAAmB76E,IAAOC,IAAV,6hBA4BtB46E,GAAiBx1D,YAAc,mBAEhBw1D,I,SAAAA,M,sBClBTC,GAAa96E,IAAOC,IAAV,8FAMVwqB,GAAQzqB,YAAO25D,KAAP35D,CAAH,iIAKP,SAAAK,GAAK,OACLA,EAAM28D,MAAN,gCAEkB38D,EAAM28D,MAFxB,yBAKI,QAGFxe,GAAUx+C,IAAOC,IAAV,oHAoBP86E,GAA4B,CAChC,iBACA,aACA,oBAmHaj7E,yBAhHO,SAAC,GAA6B,IAAD,YAA1BnB,EAA0B,EAA1BA,KAAMjT,EAAoB,EAApBA,IAAKgrC,EAAe,EAAfA,SAC5BskD,EAAaD,GAA0B7sF,SAASxC,EAAIoI,MAEpDmnF,EAAS,OAAGvvF,QAAH,IAAGA,GAAH,UAAGA,EAAKwvF,uBAAR,aAAG,EAAsBC,WAClCC,EAAS,OAAG1vF,QAAH,IAAGA,GAAH,UAAGA,EAAKwvF,uBAAR,aAAG,EAAsBG,WAClCC,EAAS,OAAG5vF,QAAH,IAAGA,GAAH,UAAGA,EAAK6vF,0BAAR,aAAG,EAAyBd,KACrCe,EAAY,OAAG9vF,QAAH,IAAGA,GAAH,UAAGA,EAAK6vF,0BAAR,aAAG,EAAyBf,SACxCiB,EAAiBrtF,OAAOC,MAAQ,OAAH3C,QAAG,IAAHA,OAAA,EAAAA,EAAK6vF,qBAAsB,IAAI7rF,QAChE,SAACgsF,EAAKtuF,GAAN,OAAcsuF,GAAG,OAAGhwF,QAAH,IAAGA,OAAH,EAAGA,EAAK6vF,mBAAmBnuF,MAC5C,GAGF,OACE,kBAAC,GAAD,MACI4tF,GACA,oCACGC,EAAY,GACX,kBAACH,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,oBAC7B,6BAAMV,EAAKU,EAAE,eACb,kBAAC,GAAD,CAAOqrB,QAAM,GAAEuwD,IAGlBG,EAAY,GACX,kBAACN,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,oBAC7B,6BAAMV,EAAKU,EAAE,eACb,kBAAC,GAAD,CAAOqrB,QAAM,GAAE0wD,IAGlBK,EAAiB,GAChB,kBAACX,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,oBAC7B,6BAAMV,EAAKU,EAAE,eACb,kBAAC,GAAD,CAAOqrB,QAAM,GAAE+wD,IAGlBH,EAAY,GACX,kBAACR,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,gCAC7B,6BAAMV,EAAKU,EAAE,qBACb,kBAAC,KAAD,CAAS6F,QAASvG,EAAKU,EAAE,2BACvB,kBAAC,GAAD,CAAO29D,MAAM,UAAUtyC,QAAM,GAC1B4wD,KAKRE,EAAe,GACd,kBAACV,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,2BAC7B,6BAAMV,EAAKU,EAAE,gBACb,kBAAC,KAAD,CAAS6F,QAASvG,EAAKU,EAAE,sBACvB,kBAAC,GAAD,CAAO29D,MAAM,UAAUtyC,QAAM,GAC1B8wD,MAQb,kBAACV,GAAD,CAAY35E,aAAYxC,EAAKU,EAAE,sBAC7B,6BAAMV,EAAKU,EAAE,iBACb,kBAAC,KAAD,CAAS6F,QAASvG,EAAKU,EAAE,uCACvB,kBAAC,GAAD,CAAOqrB,QAAM,GA/EN,SAAA/S,GACf,IAAMgkE,EAAUhuF,SAASgqB,EAAS,IAC5BikE,EAAQtzE,KAAKsB,MAAM+xE,EAAU,MAC7Bz6B,EAAU54C,KAAKsB,MAAM+xE,EAAU,IAAM,GACrCh1D,EAAUg1D,EAAU,GAEpBE,EAAaD,EAAQ,GAAR,WAAiBA,GAAUA,EACxCE,EAAe56B,EAAU,GAAV,WAAmBA,GAAYA,EAC9C66B,EAAep1D,EAAU,GAAV,WAAmBA,GAAYA,EAEpD,MAAM,GAAN,OAAUk1D,EAAV,YAAwBC,EAAxB,YAAwCC,GAqEjBC,CAAStwF,EAAIisB,YAIlB,eAAbjsB,EAAIoI,OAAJ,UACCpI,EAAI6lB,eAAeb,yBADpB,aACC,EAAsCg1C,QACpC,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,sBACvB,kBAAC,GAAD,CAAcyyB,SAAUpmC,EAAKyV,aAAYxC,EAAKU,EAAE,6BAC7C,gBAAGolD,EAAH,EAAGA,eAAH,OACC,kBAAC/6C,EAAA,EAAD,CACEvJ,QAAQ,QACR6F,QAASy+C,EACTtjD,aAAYxC,EAAKU,EAAE,4BAEnB,kBAAC,KAAD,YAOX,UAAA3T,EAAI4lB,eAAJ,eAAa2qE,SACZ,kBAAC,KAAD,CAAS/2E,QAASvG,EAAKU,EAAE,yBACvB,uBAAGyG,KAAI,UAAKpa,EAAI4lB,QAAQ2qE,OAAjB,yBACL,kBAACvyE,EAAA,EAAD,CAAQvJ,QAAQ,QAAQgB,aAAYxC,EAAKU,EAAE,yBACzC,kBAAC,KAAD,SAMP3T,EAAI6lB,eAAeb,kBAAkBje,QACpC,kBAAC,KAAD,CAASyS,QAASvG,EAAKU,EAAE,oBACvB,kBAAC,GAAD,CACEzG,KAAMlN,EAAIkN,KACVo+B,WAAYr4B,EAAKU,EAAE,mBACnB4gC,UAAWvJ,EACXv2B,QAAQ,SAER,kBAAC,KAAD,YCpHG+7E,OAnCf,YAQI,IAPFC,EAOC,EAPDA,QACAF,EAMC,EANDA,OACAh2E,EAKC,EALDA,MACAnS,EAIC,EAJDA,KACAsoF,EAGC,EAHDA,aACAzB,EAEC,EAFDA,YACA0B,EACC,EADDA,gBAEA,OAAQJ,EACN,yBAAKh2E,MAAOA,EAAOnS,KAAMA,GACtBsoF,EAAarvF,KACZ,gBAAG/B,EAAH,EAAGA,WAAYsxF,EAAf,EAAeA,KAAf,OACEtxF,GAAc,GACZ,kBAACuxF,GAAD,CACEv2E,QAAS20E,EAAc0B,OAAkB1sD,EACzCviC,IAAG,UAAK+uF,EAAL,YAAgBnxF,GACnBovC,QAAwB,IAAfpvC,EACT2vF,YAAaA,GAEb,kBAAC6B,GAAD,MACA,kBAAC,GAAD,KAAqBxxF,GACrB,kBAAC,GAAD,CACE8I,KAAK,sBACL2oF,wBAAyB,CACvBC,OAAQJ,UAhBP,MCTnB,SAASK,GAAT,GAAqD,IAAlBC,EAAiB,EAAjBA,cACjC,OACE,kBAAC,GAAD,KACE,0BAAMpuE,UAAU,WAAW,IAAIqW,OAAO+3D,KAmB7BC,I,GAAAA,GAdf,YAA8D,IAAlCV,EAAiC,EAAjCA,QAASS,EAAwB,EAAxBA,cAAe32E,EAAS,EAATA,MAClD,OACEk2E,EAAU,GACR,yBAAKl2E,MAAOA,GACV,kBAACs2E,GAAD,CAAcnvF,IAAK+uF,GACjB,kBAACK,GAAD,MACA,kBAAC,GAAD,MACA,kBAACG,GAAD,CAAyBC,cAAeA,O,uDCT5Cp+B,GAAUx+C,IAAOC,IAAV,2EAAGD,CAAH,oEAOP0J,GAAS1J,YAAO0P,KAAV,0EAAG1P,CAAH,kC,4HAmDGF,yBA9CM,SAAC,GAAD,IACnBnB,EADmB,EACnBA,KACAm+E,EAFmB,EAEnBA,cACAC,EAHmB,EAGnBA,aACAC,EAJmB,EAInBA,aACAC,EALmB,EAKnBA,iBALmB,OAOnB,kBAAC,GAAD,KACE,sBACE97E,aAAYxC,EAAKU,EAAE,2CACnBc,QAAQ,SAGR,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEgB,aAAYxC,EAAKU,EAAE,wBACnB2G,QAASi3E,EACT98E,QAAQ,SAER,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEgB,aAAYxC,EAAKU,EAAE,oBACnB2G,QAASg3E,EACT78E,QAAQ,SAER,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS82E,EACT38E,QAAQ,SAER,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEgB,aAAYxC,EAAKU,EAAE,oBACnB2G,QAAS+2E,EACT58E,QAAQ,SAER,kBAAC,KAAD,WCvDA+8E,GAAW,IAAIC,mBAEfC,GAAsBp9E,IAAOC,IAAV,uIAiCnBo9E,GAAyB,SAAA7vF,GAW7B,YATcmiC,IAAVniC,IAEiB,KAAVA,EACS,IACQ,kBAAVA,EACE0vF,GAASI,OAAO9vF,GAEhBA,IAwBtB,SAAS+vF,GAAT,GAA4E,IAAD,UAAjD7+E,EAAiD,EAAjDA,QAAiD,IAAxC8+E,iBAAwC,MAA5B,GAA4B,MAAxB/+E,cAAwB,SAARE,EAAQ,EAARA,KACjE,EAAoCiD,mBAAS,MAA7C,mBAAOw4E,EAAP,KAAmBqD,EAAnB,KACA,EAAwC77E,mBAAS,GAAjD,mBAAO87E,EAAP,KAAqBC,EAArB,KAEAz1E,qBAAU,WACRu1E,EAhEuB,SAAA9jE,GACzB,IAAI/W,EAAS,KAsBb,MArBoB,0BAAhB+W,EAAMA,QACR/W,EAAS,eAGP+W,EAAMlC,SACR7U,EAAS,UAGO,iBAAhB+W,EAAMA,OACU,uBAAhBA,EAAMA,OACU,sBAAhBA,EAAMA,QAEN/W,EAAS,MAGP+W,EAAM4gE,UACR33E,EAAS,WAES,sBAAhB+W,EAAMA,QACR/W,EAAS,WAEJA,EAyCSg7E,CAAmBJ,MAChC,CAACC,EAAeD,IAEnB,IAIMK,EAAUR,GAAsB,OAACG,QAAD,IAACA,GAAD,UAACA,EAAWM,kBAAZ,aAAC,EAAuBC,KACxDC,EAASX,GAAsB,OAACG,QAAD,IAACA,GAAD,UAACA,EAAWM,kBAAZ,iBAAC,EAAuBC,WAAxB,aAAC,EAA4BE,QAC5DC,EAASb,GAjCU,SAAAG,GAAc,IAAD,IAIlCU,EAHEC,EAAU,OAAGX,QAAH,IAAGA,GAAH,UAAGA,EAAWM,kBAAd,aAAG,EAAuBK,WACpCJ,EAAG,OAAGP,QAAH,IAAGA,GAAH,UAAGA,EAAWM,kBAAd,aAAG,EAAuBC,IAGnC,GAAmB,UAAfI,GAA0BJ,EAAInzE,QAAUmzE,EAAInzE,OAAOqxE,OACrDiC,EAASH,EAAInzE,OAAOqxE,YACf,GACU,QAAfkC,GACAJ,EAAInqF,SACJpF,MAAMC,QAAQsvF,EAAInqF,SAClB,CACCsqF,EADD,YACWH,EAAInqF,QADf,WAESmqF,IACTG,EAASH,EAAI9B,QAEf,OAAOiC,EAiB+BE,CAAmBZ,IAEzD,OACE,kBAACv8E,GAAA,EAAD,CACExC,OAAQA,EACRC,QAASA,EACTwB,MAAOvB,EAAKU,EAAE,qBACd8B,aAAYxC,EAAKU,EAAE,2BACnB2lB,MAAM,OAEN,kBAACmc,GAAA,EAAD,CACEhgC,aAAYxC,EAAKU,EAAE,aACnB+hC,UAAWs8C,EACXl4E,SAnBiB,SAACmU,EAAOqqB,GAC7B25C,EAAgB35C,KAoBZ,kBAACvC,GAAA,EAAD,CACEtgC,aAAYxC,EAAKU,EAAE,oBACnBmiC,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,kBAE7B,kBAAC,GAAD,CACE4G,MAAO,CAAE48B,WAAY,SAAUuC,UAAW,QAC1CzT,OAAO,MAEP,kBAAC,GAAD,CACEj5B,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC4vF,GAAD,KACGhD,EAAa,kBAAC,GAAD,CAAYx3E,OAAQw3E,IAAiB,KAClDoD,EAAUa,aAIjB,kBAAC,GAAD,CAAQ3lF,MAAOiG,EAAKU,EAAE,aAAU7R,MAAOgwF,EAAUc,OACjD,kBAAC,GAAD,CAAQ5lF,MAAOiG,EAAKU,EAAE,aAAU7R,MAAOgwF,EAAUe,OACjD,kBAAC,GAAD,CACE7lF,MAAOiG,EAAKU,EAAE,eACd7R,MACEgwF,EAAUM,WAAWU,aAAe7/E,EAAKU,EAAE,0BAG/C,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,gBACd7R,MAAK,OAAEgwF,QAAF,IAAEA,GAAF,UAAEA,EAAWM,kBAAb,iBAAE,EAAuBC,WAAzB,aAAE,EAA4BU,QAIzC,kBAACh9C,GAAA,EAAD,CACED,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,cAC7B8B,aAAYxC,EAAKU,EAAE,kBAED,IAAjBq+E,GAAsBG,EACrB,kBAAC,GAAD,CACEvyD,KAAK,aACLH,UAAQ,EACR39B,MAAOjC,KAAKC,UAAUqyF,EAAS,KAAM,GACrCrjE,SAAU,aACVyQ,KAAM,GACNC,WAAW,IAGb,kBAAC,GAAD,CAAchrB,MAAOvB,EAAKU,EAAE,6BAGhC,kBAACoiC,GAAA,EAAD,CACED,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,sBAC7B8B,aAAYxC,EAAKU,EAAE,0BAED,IAAjBq+E,GAAsBQ,EACrB,kBAAC,GAAD,CACE5yD,KAAK,aACLH,UAAQ,EACR39B,MAAO0wF,EACP1jE,SAAU,aACVyQ,KAAM,GACNC,WAAW,IAGb,kBAAC,GAAD,CAAchrB,MAAOvB,EAAKU,EAAE,qCAGhC,kBAACoiC,GAAA,EAAD,CACED,SAAU,EACVthC,MAAO,kBAACwhC,GAAA,EAAD,KAAe/iC,EAAKU,EAAE,wBAC7B8B,aAAYxC,EAAKU,EAAE,4BAED,IAAjBq+E,GAAsBM,EACrB,kBAAC,GAAD,CACE1yD,KAAK,aACLH,UAAQ,EACR3Q,SAAU,aACVhtB,MAAOwwF,EACP9yD,WAAW,EACXD,KAAM,KAGR,kBAAC,GAAD,CAAc/qB,MAAOvB,EAAKU,EAAE,yCAQzBS,I,YAAAA,wBAAWy9E,IAQ1BA,GAAe19E,aAAe,CAC5B29E,UAAW,KACX/+E,QAAQ,GC7KV,IAGMigF,GAAc,CAHK,yBACA,yBACA,qBAGnBC,GAAO,IAAIC,KAAK,CACpBC,QAAQ,EACR1yB,OAAQ,CACNrO,EAAG,OACHC,EAAG,UACHC,EAAG,UACHC,EAAG,UACHC,EAAG,OACH4gC,EAAG,OACHC,EAAG,UACHC,EAAG,OACHC,EAAG,OACHC,EAAG,OACHC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,OACJC,GAAI,UAGFtC,GAAW,IAAIC,mBAgBrB,IAAMsC,GAAmB,IAAI5lD,OAAO,gBAAiB,KAErD,SAAS6lD,GAAoBC,GAE3B,IADA,IAAIC,EAAO,EACF5gF,EAAI,EAAGA,EAAI2gF,EAAUpyF,OAAQyR,IACpC4gF,GAAQA,GAAQ,GAAKA,EACrBA,GAAQD,EAAUE,WAAW7gF,GAC7B4gF,GAAQA,EAEV,MAAM,GAAN,OAAUA,GAiBZ,SAASE,GAAT,GAAkE,IAAvC3uE,EAAsC,EAAtCA,QAASwI,EAA6B,EAA7BA,MAAOomE,EAAsB,EAAtBA,WAAY9D,EAAU,EAAVA,OAC/C+D,EAAY9C,GAASI,OAAOrB,GAC9BgE,EAAa,GACX7D,EAAe,GAuBrB,OArBA4D,EAAUt2F,MAAM,QAAQsD,SAAQ,SAACkzF,EAAUvwF,GACzC,IAAI2sF,EACJ,GAAI6D,KAAQD,GAAW,CACrB,MAtBN,SAA2B5D,GAIzB,IAHA,IAAM8D,EAAa,YAAO,IAAIhwF,IAAIksF,EAAKjmD,MAAMopD,MACvCY,EAAS,GACXz1E,EAAS0xE,EACJt9E,EAAI,EAAGA,EAAIohF,EAAc7yF,OAAQyR,IAAK,CAC7C,IAAM2gF,EAAYS,EAAcphF,GAC1BshF,EAAY,iBAAaZ,GAAoBC,IAEnDU,EAAOC,GAAgBX,EAAU7yF,QAAQ,UAAW,IAAI/C,MAAM,GAAI,GAClE6gB,EAASA,EAAOlhB,MAAMi2F,GAAW/wF,KAAxB,iBAAuC0xF,EAAvC,MAEX,MAAO,CAAED,SAAQz1E,UAWc21E,CAAkB5B,GAAK6B,OAAON,IAAjDG,EAAR,EAAQA,OACR/D,EADA,EAAgB1xE,OAEhBq1E,EAAU,2BAAQA,GAAeI,QAEjC/D,EAAO4D,EAGT,GAAc,IAAVvwF,GAAe+uF,GAAYxwF,SAASyrB,GAAQ,CAC9C,IAAM8mE,EAxDZ,YAAoC,IAAZtvE,EAAW,EAAXA,QAChB2V,EAAO,IAAI/0B,KAAKof,GAEhBuvE,EAAY55D,EAAKE,WACjB25D,EAAc75D,EAAKI,aACnB05D,EAAc95D,EAAKM,aAEnBy0D,EAAa6E,EAAY,GAAZ,WAAqBA,GAAcA,EAChD5E,EAAe6E,EAAc,GAAd,WAAuBA,GAAgBA,EACtD5E,EAAe6E,EAAc,GAAd,WAAuBA,GAAgBA,EAE5D,MAAM,GAAN,OAAU/E,EAAV,YAAwBC,EAAxB,YAAwCC,GA6CvB8E,CAAa,CAAE1vE,YAC5BmrE,GAAI,6BAA0BmE,EAA1B,WAGNrE,EAAarwE,KAAK,CAChB/gB,WAAY+0F,EAAapwF,EACzB2sF,YAIG,CACL2D,aACA7D,gBAIJ,IAiCI31B,GAjCEq6B,GAAc9gF,IAAOC,IAAV,0KASX8gF,GAAe/gF,IAAOC,IAAV,mFAKZ+gF,GAAgBhhF,IAAOC,IAAV,8NAQf,gBAAGogF,EAAH,EAAGA,OAAH,OACAjyF,OAAOC,KAAKgyF,GAAQtzF,KAAI,SAAAyhB,GAAS,iBAAQA,EAAR,YAAqB6xE,EAAO7xE,GAA5B,WAG/ByyE,GAAejhF,IAAOC,IAAV,4HAiDlB,SAASktD,GAAM+zB,EAAKC,GAElB,IADA,IAAMC,EAAU,GACP17F,EAAIw7F,EAAKx7F,GAAKy7F,EAAMz7F,IAC3B07F,EAAQr1E,KAAKrmB,GAEf,OAAO07F,E,IAGHC,G,kDACJ,WAAYhhF,GAAQ,IAAD,8BACjB,cAAMA,IACDihF,QAAU3jF,IAAM4jF,YACrB,EAAKtlD,MAAQ,CACX1Y,aAAc,KACdvX,cAAe,KACfwX,mBAAmB,EACnB5vB,QAAS,GACT4tF,iBAAkB,GAClBC,eAAgB,EAChBC,iBAAiB,EACjBlE,UAAW,GACX6C,OAAQ,IAGV,EAAKsB,MAAQ,IAAIC,KAAkB,CACjCC,YAAY,EACZC,cAAe,KAGjB,EAAKC,YAAa,EAClB,EAAKC,cAAgB,EAAKA,cAAc1uF,KAAnB,gBACrB,EAAK2uF,gBAAkB,EAAKA,gBAAgB3uF,KAArB,gBACvB,EAAK4uF,YAAc,EAAKA,YAAY5uF,KAAjB,gBACnB,EAAK6uF,qBAAuB,EAAKA,qBAAqB7uF,KAA1B,gBAC5B,EAAK8uF,qBAAuB,EAAKA,qBAAqB9uF,KAA1B,gBAC5B,EAAK+uF,kBAAoB,EAAKA,kBAAkB/uF,KAAvB,gBACzB,EAAKgvF,iBAAmB,EAAKA,iBAAiBhvF,KAAtB,gBACxB,EAAKivF,iBAAmB,EAAKA,iBAAiBjvF,KAAtB,gBACxB,EAAKkvF,qBAAuB,EAAKA,qBAAqBlvF,KAA1B,gBAC5B,EAAK27D,aAAe,EAAKA,aAAa37D,KAAlB,gBACpB,EAAKmvF,YAAc,EAAKA,YAAYnvF,KAAjB,gBACnB,EAAKovF,aAAe,EAAKA,aAAapvF,KAAlB,gBACpB,EAAKqvF,YAAc,EAAKA,YAAYrvF,KAAjB,gBACnB,EAAKsvF,wBAA0B,EAAKA,wBAAwBtvF,KAA7B,gBAlCd,E,qDAqCnB,WAAqB,IAAD,OACV5H,EAAQ0G,KAAKiO,MAAb3U,IACR0G,KAAK2vF,YAAa,EAClB3vF,KAAK4vF,gBA1FT,SAASa,EAAT,EAAwCC,GAAY,IAAxBhvF,EAAuB,EAAvBA,KAAMtB,EAAiB,EAAjBA,IAChCi0D,GAAK,IAAIC,UAAJ,UAC6B,UAA7Bx8D,OAAO0Z,SAAS+iD,SAAuB,MAAQ,OAD/C,aAEDz8D,OAAO0Z,SAAS5O,KAFf,iBAMF8xD,OAAS,WACV,IAAMD,EAAW,YAAKz8D,SAAS+T,QAC5BzU,MAAM,gBACN2U,MACA3U,MAAM,KACN4U,QACGykF,EAAU,UAAMjvF,EAAN,WAChB2yD,GAAGn7D,KACDC,KAAKC,UAAU,CACbq7D,WACAzxC,OAAO,cAAGuqC,KAAM,CAAC,UAAW,mBAAoBojC,EAAa,CAACvwF,QAKpEi0D,GAAGM,UAAY,SAAAz8D,GACbw4F,EAAUv3F,KAAKkiC,MAAMnjC,EAAEgI,QAGzBm0D,GAAGO,QAAU,SAAA18D,GAEXsmC,QAAQq2B,MAAM,iCAAkC38D,GAChDwG,YAAW,WACT+xF,EAAiB,CAAE/uF,OAAMtB,MAAMswF,KAC9B,MAGLr8B,GAAGS,QAAU,SAAAz4B,GAEXmC,QAAQq2B,MAAM,iBAAkBx4B,EAAK,oBACrCg4B,GAAGU,SAuDH07B,CAAiBn3F,GAAK,SAAA4G,GAChBA,EAAK6pF,SAAW7pF,EAAK6pF,QAAU,EAAK6G,iBACtC,EAAKA,iBAAmB1wF,EAAK6pF,QACpB7pF,EAAK2wF,eAAiB3wF,EAAKq2D,iBAAmBj9D,EAAI8G,KAC3D,EAAKwwF,iBAAmB1wF,EAAK2wF,kBAGjC7wF,KAAK1B,SAAW+X,aAAY,kBAAM,EAAKm6E,4BAA2B,O,gCAGpE,SAAmBM,EAAWnrD,GAAY,IAAD,OAGvC,EAAqC3lC,KAAK6pC,MAAlCulD,EAAR,EAAQA,iBAAkBnB,EAA1B,EAA0BA,OACtB8C,GAA4B,EAChCprD,EAAUypD,iBACPjzF,QAAO,SAAA7I,GAAC,OAAK87F,EAAiBtzF,SAASxI,MACvCsH,SAAQ,SAAAtH,GACPy9F,GAA4B,EAC5B,EAAKxB,MAAMyB,MAAM19F,MAEjB0I,OAAOC,KAAKgyF,GAAQ9yF,SAAWa,OAAOC,KAAK0pC,EAAUsoD,QAAQ9yF,SAC/D41F,GAA4B,GAE1BA,GACE/wF,KAAKkvF,QAAQ+B,qBACfjxF,KAAKkvF,QAAQ+B,wB,kCAKnB,WACM58B,IACFA,GAAGU,QAEL9+C,cAAcjW,KAAK1B,UACnB0B,KAAK2vF,YAAa,I,qCAGpB,WACE,IAAQN,EAAmBrvF,KAAK6pC,MAAxBwlD,eACJrvF,KAAK4wF,kBAAoBvB,GAC3BrvF,KAAK2vF,YACH3vF,KAAKwyD,SAAS,CAAE68B,eAAgBrvF,KAAK4wF,iBAAmB,M,kEAI9D,4CAAA78F,EAAA,+DACwBiM,KAAKiO,MAAnB3U,EADV,EACUA,IAAKoI,EADf,EACeA,KAEPwvF,EAAYn2B,GAAM,EAAG,IAC3B/6D,KAAK2vF,YACH3vF,KAAKwyD,UAAS,kBAA2B,CACvCphC,mBAAmB,EACnBg+D,iBAFY,EAAGA,iBAEoBlxF,OAAOgzF,OAPhD,kBAYcnnF,GAAQonF,WAAW73F,EAAI8G,GAAIsB,EAAM,CACzC1H,UAAW,GACXC,SAAU,eAdhB,oBAWMiG,KAXN,IAWcsB,QAAS4vF,OAXvB,MAWoC,GAXpC,EAWwC9uE,EAXxC,EAWwCA,MAKpCtiB,KAAK2vF,YACH3vF,KAAKwyD,UAAS,YAAkB,IAAfhxD,EAAc,EAAdA,QAIf,OAHA4vF,EAAWx2F,SAAQ,SAAAy2F,GACjB7vF,EAAQ6vF,EAAStH,SAAWsH,KAEvB,CAAE7vF,UAAS6tF,eAAgB/sE,EAAQ,MArBlD,kDAwBItiB,KAAKwyD,SAAS,CAAErhC,aAAa,EAAD,KAxBhC,yBA0BInxB,KAAK2vF,YACH3vF,KAAKwyD,UAAS,kBAA2B,CACvCphC,mBAAmB,EACnBg+D,iBAFY,EAAGA,iBAEoBjzF,QACjC,SAAA7I,GAAC,OAAK49F,EAAUp1F,SAASxI,UA9BnC,6E,0HAoCA,gCAAAS,EAAA,wDAC2BiM,KAAKiO,MAAtB3U,EADV,EACUA,IAAKgY,EADf,EACeA,QADf,cAGYhY,EAAIoI,KAHhB,OAIW,mBAJX,OAOW,eAPX,OAUW,iBAVX,QAaW,mBAbX,QAgBW,qBAhBX,wCAKc2I,GAAkBk8B,QAAQjtC,EAAI8G,IAL5C,2DAQcuK,GAAc47B,QAAQjtC,EAAI8G,IARxC,6DAWciL,GAAgBk7B,QAAQjtC,EAAI8G,IAX1C,6DAcc2I,GAAiBw9B,QAAQjtC,EAAI8G,IAd3C,6DAiBcuJ,GAAe48B,QAAQjtC,EAAI8G,IAjBzC,6DAoBc2J,GAAQw8B,QAAQjtC,EAAI8G,IApBlC,QAsBIkR,EAAQqI,KAAK,SAtBjB,kDAwBI3Z,KAAKwyD,SAAS,CAAE54C,cAAc,EAAD,KAxBjC,0D,+EA4BA,YAAwB,IAAVrc,EAAS,EAATA,MACZ,EAAsCyC,KAAK6pC,MAAnCroC,EAAR,EAAQA,QAAS4tF,EAAjB,EAAiBA,iBACjB,QAAI5tF,EAAQjE,IAGL6xF,EAAiBtzF,SAASyB,K,kCAGnC,SAAqB6tF,GACnBprF,KAAKwyD,SAAS,CACZ88B,iBAAiB,EACjBlE,gB,kCAIJ,WACEprF,KAAKwyD,SAAS,CACZ88B,iBAAiB,M,yBAIrB,YAA4C,IAAD,OAA7B/xF,EAA6B,EAA7BA,MAAOqD,EAAsB,EAAtBA,OAAQ5F,EAAc,EAAdA,IAAK6Y,EAAS,EAATA,MACxBrS,EAAYxB,KAAK6pC,MAAjBroC,QAmBJ8vF,EAAqB,GACzB,GAAI9vF,EAAQjE,GAAQ,CAClB,MAAqCmwF,GAAgBlsF,EAAQjE,IAArDysF,EAAR,EAAQA,aAAc6D,EAAtB,EAAsBA,WACtB7tF,KAAKwyD,UAAS,gBAAGy7B,EAAH,EAAGA,OAAH,MAAiB,CAAEA,OAAO,2BAAMA,GAAWJ,OACzDyD,EAAqBtH,EAGvB,OACE,kBAAC,KAAD,CACEhvF,IAAKA,EACLu0F,MAAOvvF,KAAKuvF,MACZ3uF,OAAQA,EACR4rE,SAAUjvE,EACVi2B,YAAa,GAEZhyB,EAAQjE,GACP,kBAAC,GAAD,eACEgrF,YAlCY,SAAA8I,GAClB,IAAQ9pE,EAAkC8pE,EAAlC9pE,MAAOmkE,EAA2B2F,EAA3B3F,WAAY9oF,EAAeyuF,EAAfzuF,KAAMlB,EAAS2vF,EAAT3vF,KAajC,SAXoB,kBAATkB,GAAsB8oF,GAAcA,EAAWC,QAG/C,yBAATjqF,GACU,sBAAV6lB,IACAmkE,EAAW9oF,MA0BM2uF,CAAY/vF,EAAQjE,IACjC0sF,gBAAiB,kBAAM,EAAK8F,qBAAqBvuF,EAAQjE,KACzD6e,UAAU,MACVvI,MAAOA,EACPm2E,aAAcsH,GACV9vF,EAAQjE,KAGd,kBAAC,GAAD,CACE6e,UAAU,MACVvI,MAAOA,EACPk2E,QAASxsF,EACTitF,cAAe,Q,0BAOzB,YAAyC,IAAD,OAAzBgH,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,UACzB,GAAmB,IAAfD,GAAkC,IAAdC,EACtB,OAAOtvF,QAAQC,QAAQ,MAEzB,MAAsBpC,KAAKiO,MAAnB3U,EAAR,EAAQA,IAAKoI,EAAb,EAAaA,KAEPwvF,EAAYn2B,GAAMy2B,EAAYC,GACpCzxF,KAAK2vF,YACH3vF,KAAKwyD,UAAS,kBAA2B,CACvC48B,iBADY,EAAGA,iBACoBlxF,OAAOgzF,OAE9C,IAAM12F,EAAS,CACbk3F,aAAcF,EACdG,aAAcF,EACdx3F,SAAU,cAGZ,OAAO8P,GAAQonF,WAAW73F,EAAI8G,GAAIsB,EAAMlH,GAAQo3F,MAAK,SAAAryF,GACnD,EAAKowF,YACH,EAAKn9B,UAAS,YAAoC,IAAjChxD,EAAgC,EAAhCA,QAAS4tF,EAAuB,EAAvBA,iBAIxB,OAHA7vF,EAASW,KAAKsB,QAAQ5G,SAAQ,SAAAy2F,GAC5B7vF,EAAQ6vF,EAAStH,SAAWsH,KAEvB,CACL7vF,UACA4tF,iBAAkBA,EAAiBjzF,QACjC,SAAA7I,GAAC,OAAK49F,EAAUp1F,SAASxI,e,yBAOrC,SAAYk5E,GACVxsE,KAAKkvF,QAAQqB,YAAY/jB,K,kCAG3B,WACE,IAAMglB,EAAaxxF,KAAKkvF,QAAQ2C,KAAKC,uBAE/BC,EADY/xF,KAAKkvF,QAAQ2C,KAAKG,sBACJR,EAAa,EAC7CxxF,KAAKuwF,YAAYr6E,KAAKqB,IAAI,EAAGi6E,EAAaO,M,8BAG5C,WACE,IAAMN,EAAYzxF,KAAKkvF,QAAQ2C,KAAKG,sBACpChyF,KAAKuwF,YAAYkB,EAAY,K,+BAG/B,WACEzxF,KAAKuwF,YAAY,K,8BAGnB,WACE,IAAQlB,EAAmBrvF,KAAK6pC,MAAxBwlD,eACRrvF,KAAKuwF,YAAYlB,EAAiB,K,0BAGpC,YAAyB,IACY,EADtBz8D,EAAS,EAATA,MACTA,IAAU5yB,KAAKiyF,iBACjBjyF,KAAKuvF,MAAM2C,YACX,UAAIlyF,KAAKkvF,eAAT,aAAI,EAAc+B,sBAChBjxF,KAAKkvF,QAAQ+B,uBAGjBjxF,KAAKiyF,eAAiBr/D,I,oBAGxB,WAAU,IAAD,OACCt5B,EAAQ0G,KAAKiO,MAAb3U,IAER,EAQI0G,KAAK6pC,MAPP1Y,EADF,EACEA,aACAvX,EAFF,EAEEA,cACAwX,EAHF,EAGEA,kBACAg6D,EAJF,EAIEA,UACAkE,EALF,EAKEA,gBACAD,EANF,EAMEA,eACApB,EAPF,EAOEA,OAGF,OAAI78D,EACK,kBAAC,GAAD,MAGLD,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,kBAAC,WAAD,KACE,kBAAC,GAAD,KACGm+D,GACC,kBAAC,GAAD,CACEhjF,QAAStM,KAAKgwF,qBACd3jF,OAAQijF,EACRlE,UAAWA,IAGf,kBAACuD,GAAD,KACE,kBAACD,GAAD,KACE,kBAAC,GAAD,CAAYl+E,OAAQlX,EAAIkX,SACxB,4BAAKlX,EAAIkN,OAEX,kBAAC,GAAD,CAAelN,IAAKA,EAAKgrC,SAAUtkC,KAAK6vF,mBAE1C,kBAAC,GAAD,CAAe/H,OAAQxuF,EAAI6vF,qBAC3B,kBAAC,GAAD,CACEuB,cAAe1qF,KAAKiwF,kBACpBtF,aAAc3qF,KAAKkwF,iBACnBtF,aAAc5qF,KAAKmwF,iBACnBtF,iBAAkB7qF,KAAKowF,uBAEzB,kBAACxB,GAAD,CAAeX,OAAQA,GACrB,kBAAC,KAAD,CACEoC,YAAarwF,KAAKqwF,YAClBC,aAActwF,KAAKswF,aACnB6B,SAAU9C,IAET,gBAAG+C,EAAH,EAAGA,eAAgBC,EAAnB,EAAmBA,cAAnB,OACC,kBAAC,KAAD,CAAWC,MAAOx6F,OAAOC,SAAUw6F,SAAU,EAAK11B,eAC/C,YAAwB,IAArBjqC,EAAoB,EAApBA,MAAOunC,EAAa,EAAbA,OACT,OACE,kBAAC,KAAD,CACE2D,IAAK,SAAAA,GACH,EAAKoxB,QAAUpxB,EACfu0B,EAAcv0B,IAEhB00B,yBAA0B,EAAKjD,MAC/Bp1B,OAAQA,GAAU,EAClBi4B,eAAgBA,EAChBD,SAAU9C,EACVoD,UAAW,EAAKlD,MAAMkD,UACtB3C,YAAa,EAAKA,YAClB4C,kBAAkB,QAClB9/D,MAAOA,GAAS,EAChB+/D,iBAAkB,WAO9B,kBAAC9D,GAAD,QAGHj1E,GACC,oCACE,kBAAC,OAAD,MACG,gBAAGrN,EAAH,EAAGA,KAAH,OACC,kBAAC,GAAD,CACEF,OAAQuN,EACR7L,QAAQ,SACRzB,QAAS,kBAAM,EAAKkmD,SAAS,CAAE54C,cAAe,QAC9C9L,MAAOvB,EAAKU,EAAE,yBACd3G,MAAOiG,EAAKU,EAAE,0BAEd,kBAAC,GAAD,CAAaqB,MAAOsL,c,GApYd5H,aAgZTC,eAAWg9E,ICzmBb2D,GAA0BrnF,IAAMC,cAAc,MAC9CqnF,GAAuBtnF,IAAMC,cAAc,M,UCAlDsnF,GAAa,SAACC,EAAe/6B,GAAhB,OAAsBA,EAAI+6B,EAAc,GAAG/6B,GAEjDg7B,GACJ,IADIA,GAEJ,GAFIA,GAGJ,GAHIA,GAIJ,GAGF,SAASC,GACdC,EACAC,EACAC,EACAC,GAEAH,EAAoB/4B,QAAUk5B,EAC9BH,EAAoBtgE,OAASygE,EAG7BH,EAAoBtgE,OAASogE,GAE7B,IAMIM,EACAC,EAPEC,EACJL,EAAsBh5B,OAAS+4B,EAAoB/4B,OAC/Cs5B,EACJN,EAAsBvgE,MAAQsgE,EAAoBtgE,MAC9C8gE,EAAax9E,KAAKC,IAAIq9E,EAAyBC,GAgBrD,OAZIC,EAAa,IAAOA,EAAa,GACnCJ,EAAaI,EAAa,GAAM,GAAM,EACtCH,EACEJ,EAAsBh5B,OAAS,EAAK64B,GAAkBM,EAAc,IAEtEA,EAAap9E,KAAKsB,MAAmB,IAAbk8E,GAAqB,IAC7CH,GACGJ,EAAsBh5B,OAAS+4B,EAAoB/4B,OAASm5B,GAC3D,EACDF,EAAgBp7B,EAAIq7B,EAAgBC,GAGlC,CAACA,EAAYC,GAGf,SAASI,GAAaC,GAU3B,OATah8B,OAEVx2B,GAAE,SAAAq2B,GACD,OAAOA,EAAEr2B,KAEV42B,GAAE,SAAAP,GACD,OAAOA,EAAEO,IAGN67B,CAAKD,GAGP,SAASE,GAAchzD,EAAMiyD,GAClC,IAAMgB,EACJhB,EAAcjyD,EAAKoqB,OAAO9qD,IAAIghC,EAAI2xD,EAAcjyD,EAAKoqB,OAAO9qD,IAAIwyB,MAAQ,EACtEohE,EACFlB,GAAWC,EAAeA,EAAcjyD,EAAKoqB,OAAO9qD,IAAI43D,GACxD+6B,EAAcjyD,EAAKoqB,OAAO9qD,IAAI+5D,OAAS,EACnC85B,EAAUlB,EAAcjyD,EAAKrtB,OAAOrT,IAAIghC,EAAI,EAC5C8yD,EACJpB,GAAWC,EAAeA,EAAcjyD,EAAKrtB,OAAOrT,IAAI43D,GACxD+6B,EAAcjyD,EAAKrtB,OAAOrT,IAAI+5D,OAAS,EAOzC,OAJuB,IAAnBr5B,EAAKoqB,OAAO9qD,KACd4zF,GAAW,IAGN,CACL,CACE5yD,EAAG2yD,EACH/7B,EAAGg8B,GAEL,CACE5yD,EAAG6yD,EACHj8B,EAAGk8B,IAKF,SAASC,GAAqBrzD,EAAMiyD,GACzC,IAAMgB,EACJhB,EAAcjyD,EAAKoqB,OAAO9qD,IAAIghC,EAAI2xD,EAAcjyD,EAAKoqB,OAAO9qD,IAAIwyB,MAAQ,EACtEohE,EACFlB,GAAWC,EAAeA,EAAcjyD,EAAKoqB,OAAO9qD,IAAI43D,GACxD+6B,EAAcjyD,EAAKoqB,OAAO9qD,IAAI+5D,OAAS,EACnC85B,EAAUlB,EAAcjyD,EAAKrtB,OAAOrT,IAAIghC,EAAI,EAC5C8yD,EACJpB,GAAWC,EAAeA,EAAcjyD,EAAKrtB,OAAOrT,IAAI43D,GACxD+6B,EAAcjyD,EAAKrtB,OAAOrT,IAAI+5D,OAAS,EAGlB,IAAnBr5B,EAAKoqB,OAAO9qD,KACd4zF,GAAW,IAEb,IAAMI,GAASF,EAAUF,IAAYC,EAAUF,GACzCM,EAAaH,EAAUE,EAAQH,EA4BrC,MAAO,CAzBK,CACVA,EACAG,EAAQH,EACNI,EALuB,EAMFn+E,KAAKo+E,KAAK,EAAIF,EAAQA,IAC7C53F,KAAK,KACK,CACVu3F,EACAK,EAAQL,EACNM,EAXuB,EAYFn+E,KAAKo+E,KAAK,EAAIF,EAAQA,IAC7C53F,KAAK,KACK,CACVu3F,EACAK,EAAQL,EACNM,EAjBuB,EAkBFn+E,KAAKo+E,KAAK,EAAIF,EAAQA,IAC7C53F,KAAK,KACK,CACVy3F,EACAG,EAAQH,EACNI,EAvBuB,EAwBFn+E,KAAKo+E,KAAK,EAAIF,EAAQA,IAC7C53F,KAAK,MAEqBA,KAAK,KAG5B,SAAS+3F,GAAYC,EAAOC,GACjC,IAAMC,EAAI,IAAIC,YAAeC,MA8B7B,OA7BAF,EAAEG,SAAS,CAAEC,QAAS,KAAMC,QAAS,GAAIC,QAAS,MAGlDN,EAAEO,qBAAoB,WACpB,MAAO,MAGTT,EAAM55F,SAAQ,SAAAyvB,GACI,IAAZA,EAAKjqB,GACPs0F,EAAEQ,QAAQ7qE,EAAKjqB,GAAI,CACjBkG,MAAO,GACPssB,MAAOogE,GACP74B,OAAQ64B,KAGV0B,EAAEQ,QAAQ7qE,EAAKjqB,GAAI,CACjBkG,MAAO,GACPssB,MAAOogE,GACP74B,OAAQ64B,QAKdyB,EAAM75F,SAAQ,SAAAkmC,GACZ4zD,EAAES,QAAQr0D,EAAKoqB,OAAO9qD,GAAI0gC,EAAKrtB,OAAOrT,OAGxCu0F,UAAaD,GAENA,EAGF,SAASU,GACdjC,EACAkC,EACAC,GAEA,IAAMC,EAAYF,EAAsB7yB,EAClCgzB,GACHH,EAAsBj0D,GACpB+xD,EAAsBvgE,MAAQ2iE,EAAYpC,EAAsBvgE,OAC/D,GACJ2iE,EACIE,GACHJ,EAAsBr9B,GACpBm7B,EAAsBh5B,OAASo7B,EAC9BpC,EAAsBh5B,QACtB,GACJo7B,EAQF,MAAO,CANLC,EAAkBF,GACjBA,EAAWnC,EAAsBvgE,MAAQugE,EAAsBvgE,OAAS,EAEzE6iE,EAAkBH,GACjBA,EAAWnC,EAAsBh5B,OAASg5B,EAAsBh5B,QAC/D,GC/LC,SAASjwB,KACd,MAAO,CACLwrD,kBAAmB,KACnBC,kBAAmB,KACnBC,cAAe,KACfC,cAAe,KACfC,YAAY,EACZ3kE,aAAc,KACdxY,WAAW,EACXo9E,aAAc,KACdC,WAAY,KACZvB,MAAO,GACPwB,WAAY,EACZlD,cAAe,KACfyB,MAAO,GACP0B,aAAc,KACdC,WAAY,KACZC,WAAY,KACZC,yBAAyB,EACzBC,YAAY,EACZC,WAAW,EACXC,yBAAyB,EACzBC,gBAAgB,GAIL,SAASC,GAAkB7sD,EAAOC,GAC/C,OAAQA,EAAOpoC,MACb,IAAK,cACH,OA2GN,SAAoBmoC,EAAO8sD,GACzB,IAAQjB,EAAuD7rD,EAAvD6rD,kBAAmBC,EAAoC9rD,EAApC8rD,kBAAmBlB,EAAiB5qD,EAAjB4qD,MAAOD,EAAU3qD,EAAV2qD,MAC/CoC,EAAQ,YAAOnC,GACfoC,EAAQ,YAAOrC,GAsBrB,OApBAqC,EAASj8F,SAAQ,SAAAyvB,GACfA,EAAKysE,qBAAsB,KAG7BF,EAASj9E,KAAK,CACZuxC,OAAQ,CACN9qD,GAAIs1F,EAAkBt1F,IAExBqT,OAAQ,CACNrT,GAAIu1F,EAAkBv1F,IAExBu2F,aAGFC,EAASh8F,SAAQ,SAACkmC,EAAMvjC,GACC,IAAnBujC,EAAKoqB,OAAO9qD,IAAY0gC,EAAKrtB,OAAOrT,KAAOu1F,EAAkBv1F,IAC/Dw2F,EAASn5F,OAAOF,EAAO,MAIpB,2BACFssC,GADL,IAEE6rD,kBAAmB,KACnBC,kBAAmB,KACnBG,YAAY,EACZE,WAAY,KACZvB,MAAOmC,EACPpC,MAAOqC,EACPJ,gBAAgB,IA5IPM,CAAWltD,EAAOC,EAAO6sD,UAClC,IAAK,cACH,OA8IN,SAAoB9sD,EAAOxf,GACzB,IAAQurE,EAA2D/rD,EAA3D+rD,cAAeC,EAA4ChsD,EAA5CgsD,cAAepB,EAA6B5qD,EAA7B4qD,MAAOD,EAAsB3qD,EAAtB2qD,MAAOyB,EAAepsD,EAAfosD,WAC9CY,EAAQ,YAAOrC,GACfoC,EAAQ,YAAOnC,GAErBoC,EAASl9E,KAAK,CACZvZ,GAAI61F,EACJe,uBAAwB3sE,EAAK4sE,aAC7BH,qBAAqB,EACrBI,aAAc7sE,EAAK6sE,eAKC,IAAlBtB,IACFvrE,EAAKssE,SAAW,UAGlBC,EAASj9E,KAAK,CACZuxC,OAAQ,CACN9qD,GAAIw1F,GAENniF,OAAQ,CACNrT,GAAI61F,GAENU,SAAUtsE,EAAKssE,WAGbd,GACFe,EAASh8F,SAAQ,SAAAu8F,GAEbA,EAAcjsC,OAAO9qD,KAAOw1F,GAC5BuB,EAAc1jF,OAAOrT,KAAOy1F,IAE5BsB,EAAcjsC,OAAS,CACrB9qD,GAAI61F,OAMZ,OAAO,2BACFpsD,GADL,IAEE+rD,cAAe,KACfC,cAAe,KACfpB,MAAOmC,EACPX,WAAYA,EAAa,EACzBzB,MAAOqC,EACPJ,gBAAgB,IA9LPW,CAAWvtD,EAAOC,EAAOzf,MAClC,IAAK,cACL,IAAK,oBACH,OA+LN,SAAoBwf,GAClB,IAAQ2qD,EAAU3qD,EAAV2qD,MACFqC,EAAQ,YAAOrC,GAMrB,OAJAqC,EAASj8F,SAAQ,SAAAyvB,GACfA,EAAKysE,qBAAsB,KAGtB,2BACFjtD,GADL,IAEE6rD,kBAAmB,KACnBC,kBAAmB,KACnBG,YAAY,EACZE,WAAY,KACZxB,MAAOqC,IA7MEQ,CAAWxtD,GACpB,IAAK,oBACH,OAAO,2BACFA,GADL,IAEE+rD,cAAe,KACfC,cAAe,KACfM,WAAY,OAEhB,IAAK,mBACH,OAwMN,SAAwBtsD,GACtB,IAAQ2qD,EAAU3qD,EAAV2qD,MACR,OAAO,2BACF3qD,GADL,IAEE6rD,kBAAmB,KACnBC,kBAAmB,KACnBG,YAAY,EACZrB,MAAO,GACPD,MAAOA,EAAM75F,KAAI,SAAA0vB,GAKf,OAJgB,IAAZA,EAAKjqB,KACPiqB,EAAKitE,WAAY,GAGZjtE,KAETgsE,yBAAyB,EACzBI,gBAAgB,IAxNPc,CAAe1tD,GACxB,IAAK,cACH,OA0NN,SAAoBA,GAIlB,IAHA,IAAQ4qD,EAAwB5qD,EAAxB4qD,MAAOsB,EAAiBlsD,EAAjBksD,aACTa,EAAQ,YAAOnC,GAEZ7nF,EAAIgqF,EAASz7F,OAAQyR,KAAO,CACnC,IAAMk0B,EAAO81D,EAAShqF,GAGpBk0B,EAAKoqB,OAAO9qD,KAAO21F,EAAa7qC,OAAO9qD,IACvC0gC,EAAKrtB,OAAOrT,KAAO21F,EAAatiF,OAAOrT,IAEvCw2F,EAASn5F,OAAOmP,EAAG,GAIlBmpF,EAAayB,mBAEhBZ,EAASj9E,KAAK,CACZuxC,OAAQ,CACN9qD,GAAI,GAENqT,OAAQ,CACNrT,GAAI21F,EAAatiF,OAAOrT,IAE1Bu2F,SAAU,WAId,OAAO,2BACF9sD,GADL,IAEE4qD,MAAOmC,EACPb,aAAc,KACdU,gBAAgB,IA1PPgB,CAAW5tD,GACpB,IAAK,cACH,OA+TN,SAAoBA,GAClB,IAAQ4qD,EAA+B5qD,EAA/B4qD,MAAOD,EAAwB3qD,EAAxB2qD,MAAO0B,EAAiBrsD,EAAjBqsD,aAEhBwB,EAASxB,EAAa91F,GACtBy2F,EAAQ,YAAOrC,GACfoC,EAAQ,YAAOnC,GAErBoC,EAASntE,MAAK,SAAAW,GAAI,OAAIA,EAAKjqB,KAAO81F,EAAa91F,MAAIk3F,WAAY,EAG/D,IAAMK,EAAU,GACV3pF,EAAW,GACX4pF,EAAoB,GAY1B,OAtDF,SACEF,EACAd,EACAgB,EACA5pF,EACA2pF,GAEA,IAAK,IAAI/qF,EAAIgqF,EAASz7F,OAAQyR,KAAO,CACnC,IAAMk0B,EAAO81D,EAAShqF,GAEjBgrF,EAAkB92D,EAAKrtB,OAAOrT,MACjCw3F,EAAkB92D,EAAKrtB,OAAOrT,IAAM,IAGtCw3F,EAAkB92D,EAAKrtB,OAAOrT,IAAIuZ,KAAKmnB,EAAKoqB,OAAO9qD,IAE/C0gC,EAAKoqB,OAAO9qD,KAAOs3F,GAAU52D,EAAKrtB,OAAOrT,KAAOs3F,IAC9C52D,EAAKoqB,OAAO9qD,KAAOs3F,EACrB1pF,EAAS2L,KAAK,CACZvZ,GAAI0gC,EAAKrtB,OAAOrT,GAChBu2F,SAAU71D,EAAK61D,WAER71D,EAAKrtB,OAAOrT,KAAOs3F,GAC5BC,EAAQh+E,KAAKmnB,EAAKoqB,OAAO9qD,IAE3Bw2F,EAASn5F,OAAOmP,EAAG,KAmBvBirF,CACEH,EACAd,EACAgB,EACA5pF,EACA2pF,GAtFJ,SACEA,EACA3pF,EACA4oF,EACAgB,GAEAD,EAAQ/8F,SAAQ,SAAAk9F,GACd9pF,EAASpT,SAAQ,SAAAk4B,GACE,IAAbglE,EAGyC,IAAvCF,EAAkB9kE,EAAM1yB,IAAIjF,QAC9By7F,EAASj9E,KAAK,CACZuxC,OAAQ,CACN9qD,GAAI03F,GAENrkF,OAAQ,CACNrT,GAAI0yB,EAAM1yB,IAEZu2F,SAAU,WAGJiB,EAAkB9kE,EAAM1yB,IAAItE,SAASg8F,IAC/ClB,EAASj9E,KAAK,CACZuxC,OAAQ,CACN9qD,GAAI03F,GAENrkF,OAAQ,CACNrT,GAAI0yB,EAAM1yB,IAEZu2F,SAAU7jE,EAAM6jE,iBA2DxBoB,CAA8BJ,EAAS3pF,EAAU4oF,EAAUgB,GAEpD,2BACF/tD,GADL,IAEE4qD,MAAOmC,EACPV,aAAc,KACd1B,MAAOqC,EACPJ,gBAAgB,IA5VPuB,CAAWnuD,GACpB,IAAK,2BACH,OA6bN,SAA+BA,EAAOouD,EAAe1rF,GACnD,MAhGF,SAAuB0rF,EAAe1rF,GACpC,IAAM2rF,EAAa,GACbC,EAA4B,GAC5BC,EAA6B,GAC/BC,EAAgB,EACdC,EAAuB,CAC3B,CACEl4F,GAAI,EACJ42F,uBAAwB,CACtBxwF,KAAM+F,EAAKU,EAAE,iBA6BnB,OAzBAgrF,EAAcr9F,SAAQ,SAAAyvB,GAAS,IAAD,IAC5BA,EAAKkuE,oBAAsBF,EAE3B,IAAMG,EAAU,CACdp4F,GAAIi4F,EACJI,mBAAoBpuE,GAKpB,uBADA,UAAAA,EAAKlL,sBAAL,mBAAqBgF,4BAArB,eAA2CwrC,oBAG3C6oC,EAAQxB,uBAAR,2BACK3sE,EAAKlL,eAAegF,sBADzB,IAEEziB,KAAM,gCAIV42F,EAAqB3+E,KAAK6+E,GAC1BN,EAAWv+E,KAAK0Q,EAAKjqB,IACrBg4F,EAA2B/tE,EAAKjqB,IAAMiqB,EAAKkuE,oBAC3CJ,EAA0BE,GAAiBA,EAAgB,EAC3DA,OAGK,CACLC,EACAJ,EACAE,EACAD,EACAE,GA2DEK,CAAcT,EAAe1rF,GANjC,mBACE+rF,EADF,KAEEJ,EAFF,KAGEE,EAHF,KAIED,EAJF,KAKEE,EALF,KAOA,EAxDF,SACEJ,EACAE,EACAC,EACAE,GAEA,IAAMK,EAAuB,GACvBC,EAAiB,GAmCvB,OAlCAX,EAAcr9F,SAAQ,SAAAyvB,GACpB,IAAMwuE,EAAcV,EAA0B9tE,EAAKkuE,qBACnDluE,EAAKyuE,cAAcl+F,SAAQ,SAAA88F,GACzB,IAAMqB,EACJZ,EAA0BC,EAA2BV,IACvDiB,EAAqBh/E,KAAK,CACxBuxC,OAAQotC,EAAqBO,GAC7BplF,OAAQ6kF,EAAqBS,GAC7BpC,SAAU,YAEZiC,EAAej/E,KAAK+9E,MAEtBrtE,EAAK2uE,cAAcp+F,SAAQ,SAAA88F,GACzB,IAAMqB,EACJZ,EAA0BC,EAA2BV,IACvDiB,EAAqBh/E,KAAK,CACxBuxC,OAAQotC,EAAqBO,GAC7BplF,OAAQ6kF,EAAqBS,GAC7BpC,SAAU,YAEZiC,EAAej/E,KAAK+9E,MAEtBrtE,EAAK4uE,aAAar+F,SAAQ,SAAA88F,GACxB,IAAMqB,EACJZ,EAA0BC,EAA2BV,IACvDiB,EAAqBh/E,KAAK,CACxBuxC,OAAQotC,EAAqBO,GAC7BplF,OAAQ6kF,EAAqBS,GAC7BpC,SAAU,WAEZiC,EAAej/E,KAAK+9E,SAIjB,CAACiB,EAAsBC,GAciBM,CAC7CjB,EACAE,EACAC,EACAE,GAJF,mBAAOK,EAAP,KAA6BC,EAA7B,KAOMO,EAAuB/8F,MAAMuzC,KAAK,IAAI3xC,IAAI46F,IAgBhD,OAdkBV,EAAW/7F,QAC3B,SAAAu7F,GAAM,OAAKyB,EAAqBr9F,SAAS47F,MAGjC98F,SAAQ,SAAAw+F,GAChB,IAAML,EACJZ,EAA0BC,EAA2BgB,IACvDT,EAAqBh/E,KAAK,CACxBuxC,OAAQotC,EAAqB,GAC7B7kF,OAAQ6kF,EAAqBS,GAC7BpC,SAAU,cAIP,2BACF9sD,GADL,IAEE4qD,MAAOkE,EACPnE,MAAO8D,EACPrC,WAAYoC,IAheHgB,CAAsBxvD,EAAOC,EAAO0qD,MAAO1qD,EAAOv9B,MAC3D,IAAK,QACH,MAlDG,CACLmpF,kBAAmB,KACnBC,kBAAmB,KACnBC,cAAe,KACfC,cAAe,KACfC,YAAY,EACZ3kE,aAAc,KACdxY,WAAW,EACXo9E,aAAc,KACdC,WAAY,KACZvB,MAAO,GACPwB,WAAY,EACZlD,cAAe,KACfyB,MAAO,GACP0B,aAAc,KACdC,WAAY,KACZC,WAAY,KACZC,yBAAyB,EACzBC,YAAY,EACZC,WAAW,EACXC,yBAAyB,EACzBC,gBAAgB,GA8BhB,IAAK,4BACH,OAgeN,SAAgC5sD,EAAOyvD,GACrC,IAAQ7E,EAAiB5qD,EAAjB4qD,MAAOD,EAAU3qD,EAAV2qD,MACTqC,EAAQ,YAAOrC,GACf+E,EAAY,GACZC,EAAuB,GAE7B/E,EAAM75F,SAAQ,SAAAkmC,GAEW,IAAnBA,EAAKoqB,OAAO9qD,KAGZ0gC,EAAKoqB,OAAO9qD,KAAOk5F,EAAWl5F,IAEhCo5F,EAAqB7/E,KAAKmnB,EAAKrtB,OAAOrT,IAEnCm5F,EAAUz4D,EAAKrtB,OAAOrT,MACzBm5F,EAAUz4D,EAAKrtB,OAAOrT,IAAM,IAE9Bm5F,EAAUz4D,EAAKrtB,OAAOrT,IAAIuZ,KAAKmnB,EAAKoqB,OAAO9qD,QAyB7C,OAtBqB,SAAfq5F,EAAer5F,GACfm5F,EAAUn5F,IACZm5F,EAAUn5F,GAAIxF,SAAQ,SAAAk9F,GACpB0B,EAAqB7/E,KAAKm+E,GAC1B2B,EAAa3B,MAKnB2B,CAAaH,EAAWl5F,IAGxBo5F,EACGr9F,QAAO,SAACyhE,EAASrgE,EAAO4zE,GAAjB,OAA2B5zE,IAAU4zE,EAAM3zE,QAAQogE,MAC1DhjE,SAAQ,SAAA8+F,GACP7C,EAASj8F,SAAQ,SAAAyvB,GACXA,EAAKjqB,KAAOs5F,IACdrvE,EAAKysE,qBAAsB,SAK5B,2BACFjtD,GADL,IAEE6rD,kBAAmB4D,EACnBxD,YAAY,EACZtB,MAAOqC,IA/gBE8C,CAAuB9vD,EAAOC,EAAOzf,MAC9C,IAAK,2BACH,OAAO,2BACFwf,GADL,IAEE8rD,kBAAmB7rD,EAAO1uC,QAE9B,IAAK,oBACH,OAAO,2BACFyuC,GADL,IAEE1Y,aAAc2Y,EAAO1uC,QAEzB,IAAK,iBACH,OAAO,2BACFyuC,GADL,IAEElxB,UAAWmxB,EAAO1uC,QAEtB,IAAK,qBACH,OAAO,2BACFyuC,GADL,IAEEksD,aAAcjsD,EAAO1uC,QAEzB,IAAK,mBACH,OAAO,2BACFyuC,GADL,IAEEmsD,WAAYlsD,EAAO1uC,QAEvB,IAAK,YACH,OAAO,2BACFyuC,GADL,IAEE2qD,MAAO1qD,EAAO1uC,QAElB,IAAK,qBACH,OAAO,2BACFyuC,GADL,IAEEkpD,cAAejpD,EAAO1uC,QAE1B,IAAK,qBACH,OAAO,2BACFyuC,GADL,IAEEqsD,aAAcpsD,EAAO1uC,QAEzB,IAAK,mBACH,OAAO,2BACFyuC,GADL,IAEEssD,WAAYrsD,EAAO1uC,QAEvB,IAAK,mBACH,OAAO,2BACFyuC,GADL,IAEEusD,WAAYtsD,EAAO1uC,QAEvB,IAAK,kCACH,OAAO,2BACFyuC,GADL,IAEEwsD,wBAAyBvsD,EAAO1uC,QAEpC,IAAK,iBACH,OAAO,2BACFyuC,GADL,IAEE+rD,cAAe9rD,EAAO8vD,aACtB/D,cAAe/rD,EAAO+vD,cAAgB,OAE1C,IAAK,oBACH,OAodN,SAAyBhwD,EAAO/I,GAC9B,IAAQ2zD,EAAU5qD,EAAV4qD,MACF8E,EAAY,GAUlB,OATA9E,EAAM75F,SAAQ,SAAAk/F,GACPP,EAAUO,EAAarmF,OAAOrT,MACjCm5F,EAAUO,EAAarmF,OAAOrT,IAAM,IAEtCm5F,EAAUO,EAAarmF,OAAOrT,IAAIuZ,KAAKmgF,EAAa5uC,OAAO9qD,OAG7D0gC,EAAK02D,kBAAoB+B,EAAUz4D,EAAKrtB,OAAOrT,IAAIjF,OAAS,EAErD,2BACF0uC,GADL,IAEEksD,aAAcj1D,IAleLi5D,CAAgBlwD,EAAOC,EAAOhJ,MACvC,IAAK,gCACH,OAoeN,SAAmC+I,GACjC,IAAQwsD,EAA4BxsD,EAA5BwsD,wBACR,OAAO,2BACFxsD,GADL,IAEEwsD,yBAA0BA,IAxejB2D,CAA0BnwD,GACnC,IAAK,gBACH,OA0eN,SAAsBA,GACpB,IAAQysD,EAAezsD,EAAfysD,WACR,OAAO,2BACFzsD,GADL,IAEEysD,YAAaA,IA9eJ2D,CAAapwD,GACtB,IAAK,eACH,OAgfN,SAAqBA,GACnB,IAAQ0sD,EAAc1sD,EAAd0sD,UACR,OAAO,2BACF1sD,GADL,IAEE0sD,WAAYA,IApfH2D,CAAYrwD,GACrB,IAAK,+BACH,OAsfN,SAAmCA,GACjC,IAAQ2sD,EAA4B3sD,EAA5B2sD,wBACR,OAAO,2BACF3sD,GADL,IAEE2sD,yBAA0BA,IA1fjB2D,CAA0BtwD,GACnC,IAAK,cACH,OA4fN,SAAoBA,EAAO8sD,GACzB,IAAQX,EAAsBnsD,EAAtBmsD,WAAYvB,EAAU5qD,EAAV4qD,MACdmC,EAAQ,YAAOnC,GAWrB,OATAmC,EAASh8F,SAAQ,SAAAkmC,GAEbA,EAAKoqB,OAAO9qD,KAAO41F,EAAW9qC,OAAO9qD,IACrC0gC,EAAKrtB,OAAOrT,KAAO41F,EAAWviF,OAAOrT,KAErC0gC,EAAK61D,SAAWA,MAIb,2BACF9sD,GADL,IAEEmsD,WAAY,KACZvB,MAAOmC,EACPH,gBAAgB,IA7gBP2D,CAAWvwD,EAAOC,EAAO6sD,UAClC,IAAK,cACH,OA+gBN,SAAoB9sD,EAAOwwD,GACzB,IAAQlE,EAAsBtsD,EAAtBssD,WAAY3B,EAAU3qD,EAAV2qD,MACZyC,EAA6CoD,EAA7CpD,aAAcpyC,EAA+Bw1C,EAA/Bx1C,aAAcqyC,EAAiBmD,EAAjBnD,aAC9BL,EAAQ,YAAOrC,GAEf8F,EAAezD,EAASntE,MAAK,SAAAW,GAAI,OAAIA,EAAKjqB,KAAO+1F,EAAW/1F,MAClEk6F,EAAatD,uBAAyBC,EACtCqD,EAAaC,UAAW,EACxBD,EAAaz1C,aAAeA,EAExBqyC,EACFoD,EAAapD,aAAeA,SAErBoD,EAAapD,aAGtB,OAAO,2BACFrtD,GADL,IAEEssD,WAAY,KACZ3B,MAAOqC,EACPJ,gBAAgB,IAniBP+D,CAAW3wD,EAAOC,EAAOzf,MAClC,IAAK,eACH,OAqiBN,SAAqBwf,EAAO4wD,GAC1B,IAAQrE,EAAsBvsD,EAAtBusD,WAAY5B,EAAU3qD,EAAV2qD,MACdqC,EAAQ,YAAOrC,GAEf8F,EAAezD,EAASntE,MAAK,SAAAW,GAAI,OAAIA,EAAKjqB,KAAOg2F,EAAWh2F,MAE9Dq6F,EAAczD,yBAChBsD,EAAatD,uBAAyByD,EAAczD,wBAGlDyD,EAAcC,0BAChBJ,EAAaI,wBACXD,EAAcC,yBAGlB,OAAO,2BACF7wD,GADL,IAEE2qD,MAAOqC,EACPT,WAAYkE,IAvjBHK,CAAY9wD,EAAOC,EAAOzf,MACnC,QACE,MAAM,IAAIjwB,MAAJ,oCAAuC0vC,EAAOpoC,QC3D3Ck5F,I,eAAAA,GAlEf,YAA+D,IAAjC95D,EAAgC,EAAhCA,KAAM+5D,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,WACxCh9B,EAAMhpD,iBAAO,MACnB,EAAgCtF,oBAAS,GAAzC,mBAAOurF,EAAP,KAAiBC,EAAjB,KACA,EAA0BxrF,qBAA1B,mBAAOyrF,EAAP,KAAcC,EAAd,KACA,EAAoC1rF,mBAAS,WAA7C,mBAAO2rF,EAAP,KAAmBC,EAAnB,KACQrI,EAAkBlnF,qBAAWgnF,IAA7BE,cA+BR,OAjBAj9E,qBAAU,WACc,YAAlBgrB,EAAK61D,UACPyE,EAAc,WAEM,YAAlBt6D,EAAK61D,UACPyE,EAAc,WAEM,WAAlBt6D,EAAK61D,UACPyE,EAAc,aAEf,CAACt6D,EAAK61D,WAET7gF,qBAAU,WACR,IAAMulF,EAAavH,GAAchzD,EAAMiyD,GACvCmI,EAASvH,GAAa0H,MACrB,CAACv6D,EAAMiyD,IAGR,uBACEj1B,IAAKA,EACL19D,GAAE,eAAU0gC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,IAC1Ck7F,aAjCyB,WAC3Bx9B,EAAI9nD,QAAQulF,WAAWC,YAAY19B,EAAI9nD,SACvCglF,GAAY,GACZH,KA+BEY,aA5ByB,WAC3B39B,EAAI9nD,QAAQulF,WAAWG,QAAQ59B,EAAI9nD,SACnCglF,EAAY,MACZF,MA2BE,6BACEa,KAAK,UACLv7F,GAAE,eAAU0gC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,GAAxC,YACFw7F,QAASb,EAAW,IAAM,IAC1BnH,OAAQO,GAAqBrzD,EAAMiyD,KAErC,0BAAMt7B,EAAGwjC,EAAOY,OAAQV,EAAYW,YAAY,QAChD,6BACER,aAAc,kBAAMT,KACpBY,aAAc,kBAAMX,KACpBc,QAAQ,IACRhI,OAAQO,GAAqBrzD,EAAMiyD,OC3DrCgJ,GAAkBnuF,IAAOC,IAAV,gDAIfmuF,GAAepuF,IAAOC,IAAV,8CAIZouF,GAAoBruF,IAAOC,IAAV,iPAWjBquF,GAAoBtuF,IAAOC,IAAV,6PAYjBsuF,GAAiBvuF,IAAOC,IAAV,gIAiCLuuF,I,GAAAA,GA1Bf,YAA6D,IAA5B/kF,EAA2B,EAA3BA,QAASglF,EAAkB,EAAlBA,OAAQC,EAAU,EAAVA,OAC1CC,EAAY,GAAKllF,EAAQlc,OAAS,EAAIkc,EAAQlc,OAAS,EAAI,GACjE,OACE,mCACEimC,EAAGi7D,EACHrkC,EAAGvgE,OAAO6kG,GAAUC,EAAY,EAChC3pE,MAAM,KACNunC,OAAQoiC,GAER,kBAACR,GAAD,KACE,kBAACC,GAAD,KACE,kBAACC,GAAD,MACA,kBAACC,GAAD,OAEF,kBAACC,GAAD,KAAiB9kF,MCpDnBmlF,GAAc5uF,IAAOC,IAAV,qUAoBjB,SAAS4uF,GAAT,GAMI,IALFzuF,EAKC,EALDA,SACA5N,EAIC,EAJDA,GACAwT,EAGC,EAHDA,QACA0nF,EAEC,EAFDA,aACAG,EACC,EADDA,aAEA,OACE,kBAACe,GAAD,CACEp8F,GAAIA,EACJwT,QAASA,EACT0nF,aAAcA,EACdG,aAAcA,GAEbztF,GAYPyuF,GAA0BhvF,aAAe,CACvCmG,QAAS,aACT0nF,aAAc,aACdG,aAAc,cAGDgB,I,MAAAA,MCrDTC,GAAQ9uF,IAAOC,IAAV,4FAML8uF,GAAQ/uF,IAAOC,IAAV,mMAmBI+uF,I,8BAAAA,GARf,YAAqC,IAAb5uF,EAAY,EAAZA,SACtB,OACE,kBAAC0uF,GAAD,KACE,kBAACC,GAAD,KAAQ3uF,K,sBCZRo+C,GAAUx+C,IAAOC,IAAV,0JAQPF,GAASC,IAAOC,IAAV,4GAMNgvF,GAASjvF,IAAOkvF,GAAV,wIAUNC,GAAiBnvF,IAAOC,IAAV,6NAYdmvF,GAAgCpvF,YAAOqK,KAAPrK,CAAH,yGAO7Bu3B,GAAOv3B,IAAOC,IAAV,qFAMJovF,GAAcrvF,YAAOu3B,GAAPv3B,CAAH,4DAIXsvF,GAActvF,YAAOu3B,GAAPv3B,CAAH,4DAIXuvF,GAAavvF,YAAOu3B,GAAPv3B,CAAH,4DAIV1Z,GAAQ0Z,YAAOwvF,KAAPxvF,CAAH,uGA4DIF,I,GAAAA,yBArDf,YAAmC,IAATnB,EAAQ,EAARA,KAClBk+B,EAAW5+B,qBAAW+mF,IAE5B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,2BAAIrmF,EAAKU,EAAE,gBACX,kBAAC/Y,GAAD,CAAO0f,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,sBAEzC,kBAACm7F,GAAD,KACE,4BACE,kBAACE,GAAD,WACA,8BAAOxwF,EAAKU,EAAE,mCAEhB,4BACE,kBAAC8vF,GAAD,UACA,8BAAOxwF,EAAKU,EAAE,mBAEhB,4BACE,kBAAC8vF,GAAD,UACA,8BAAOxwF,EAAKU,EAAE,yBAEhB,4BACE,kBAAC8vF,GAAD,UACA,8BAAOxwF,EAAKU,EAAE,uBAEhB,4BACE,kBAAC8vF,GAAD,KACE,kBAAC,KAAD,OAEF,8BAAOxwF,EAAKU,EAAE,mBAEhB,4BACE,kBAAC+vF,GAAD,MACA,8BAAOzwF,EAAKU,EAAE,kBAEhB,4BACE,kBAACgwF,GAAD,MACA,8BAAO1wF,EAAKU,EAAE,qBAEhB,4BACE,kBAACiwF,GAAD,MACA,8BAAO3wF,EAAKU,EAAE,qBAEhB,4BACE,kBAACkwF,GAAD,MACA,8BAAO5wF,EAAKU,EAAE,sBCvHlBowF,GAASzvF,IAAOyoB,GAAV,6MA2CG3oB,6BA9Bf,YAA2C,IACrCipF,EADsB71D,EAAc,EAAdA,KAAMv0B,EAAQ,EAARA,KAEhC,OAAQu0B,EAAK61D,UACX,IAAK,SACHA,EAAWpqF,EAAKU,EAAE,eAClB,MACF,IAAK,UACH0pF,EAAWpqF,EAAKU,EAAE,mBAClB,MACF,IAAK,UACH0pF,EAAWpqF,EAAKU,EAAE,mBAClB,MACF,QACE0pF,EAAW,GAGf,OACE,kBAAC0G,GAAD,KACE,4BACE,2BAAI9wF,EAAKU,EAAE,cAEb,wBAAI7M,GAAG,2BAA2Bu2F,OC/BlC0G,GAASzvF,IAAOyoB,GAAV,+EAAGzoB,CAAH,iIAaN0vF,GAAkB1vF,IAAO6jC,EAAV,wFAAG7jC,CAAH,wBACF,SAAAK,GAAK,OAAKA,EAAM3U,IAAM,OAAS,SAG5C0jG,GAAgCpvF,YAAOqK,MAAV,sGAAGrK,CAAH,6DAuJpBF,I,MAAAA,yBAhJf,YAA2C,IAAD,QACpC8hD,EAmCA+tC,EApCsBlzE,EAAc,EAAdA,KAAM9d,EAAQ,EAARA,KAE1BjT,EAAG,OAAG+wB,QAAH,IAAGA,GAAH,UAAGA,EAAMouE,0BAAT,iBAAG,EAA0Bt5E,sBAA7B,aAAG,EAA0C7lB,IAChD2hF,GACA,OAAJ5wD,QAAI,IAAJA,OAAA,EAAAA,EAAM2sE,0BAAN,OACA3sE,QADA,IACAA,GADA,UACAA,EAAMouE,0BADN,iBACA,EAA0Bt5E,sBAD1B,aACA,EAA0CgF,sBAC5C,GAAI82D,GAAsB3hF,EAIxB,OAHa2hF,EACTA,EAAmBtrB,kBAAoBsrB,EAAmBv5E,KAC1DpI,EAAIoI,MAEN,IAAK,eACL,IAAK,MACH8tD,EAAWjjD,EAAKU,EAAE,iCAClB,MACF,IAAK,wBACL,IAAK,eACHuiD,EAAWjjD,EAAKU,EAAE,8BAClB,MACF,IAAK,UACL,IAAK,iBACHuiD,EAAWjjD,EAAKU,EAAE,uBAClB,MACF,IAAK,mBACL,IAAK,mBACHuiD,EAAWjjD,EAAKU,EAAE,yBAClB,MACF,IAAK,6BACL,IAAK,oBACHuiD,EAAWjjD,EAAKU,EAAE,0BAClB,MACF,QACEuiD,EAAW,GAKjB,GAAIl2D,EACF,OAAQA,EAAIkX,QACV,IAAK,MACH+sF,EAAYhxF,EAAKU,EAAE,YACnB,MACF,IAAK,UACHswF,EAAYhxF,EAAKU,EAAE,gBACnB,MACF,IAAK,UACHswF,EAAYhxF,EAAKU,EAAE,gBACnB,MACF,IAAK,UACHswF,EAAYhxF,EAAKU,EAAE,gBACnB,MACF,IAAK,aACHswF,EAAYhxF,EAAKU,EAAE,mBACnB,MACF,IAAK,SACHswF,EAAYhxF,EAAKU,EAAE,eACnB,MACF,IAAK,QACHswF,EAAYhxF,EAAKU,EAAE,cACnB,MACF,IAAK,WACHswF,EAAYhxF,EAAKU,EAAE,iBACnB,MACF,IAAK,gBACHswF,EAAYhxF,EAAKU,EAAE,sBACnB,MACF,IAAK,KACHswF,EAAYhxF,EAAKU,EAAE,WACnB,MACF,IAAK,UACHswF,EAAYhxF,EAAKU,EAAE,gBACnB,MACF,IAAK,OACHswF,EAAYhxF,EAAKU,EAAE,aACnB,MACF,IAAK,WACHswF,EAAYhxF,EAAKU,EAAE,iBACnB,MACF,QACEswF,EAAY,GAIlB,OACE,qCACItiB,KAAwB3hF,GAAoB,sBAAbA,EAAIoI,OACnC,oCACE,kBAAC47F,GAAD,CAAiBhkG,IAAKA,GACpB,kBAAC,GAAD,MACA,kBAAC,QAAD,mEAMLA,GACC,kBAAC,GAAD,KACE,4BACE,2BAAIiT,EAAKU,EAAE,uBAEb,wBAAI7M,GAAG,2BAA2B9G,EAAIkN,MACtC,4BACE,2BAAI+F,EAAKU,EAAE,uBAEb,wBAAI7M,GAAG,2BAA2BovD,GAClC,4BACE,2BAAIjjD,EAAKU,EAAE,qBAEb,wBAAI7M,GAAG,6BAA6Bm9F,GACZ,kBAAhBjkG,EAAIisB,SACV,oCACE,4BACE,2BAAIhZ,EAAKU,EAAE,kBAEb,wBAAI7M,GAAG,8BACJk0B,GAAgBh7B,EAAIisB,YAM9B01D,IAAuB3hF,GACtB,kBAAC,GAAD,KACE,4BACE,2BAAIiT,EAAKU,EAAE,uBAEb,wBAAI7M,GAAG,2BAA2B66E,EAAmBz0E,MACrD,4BACE,2BAAI+F,EAAKU,EAAE,uBAEb,wBAAI7M,GAAG,2BAA2BovD,IAGrCl2D,GAAoB,sBAAbA,EAAIoI,MACV,0BAA2B6K,EAAKU,EAAE,uC,2HClKpC8vF,GAAiBnvF,IAAOC,IAAV,sMAWd2vF,GAAoB5vF,YAAO6vF,KAAP7vF,CAAH,oEAiER8vF,I,GAAAA,GA7Df,YAA2C,IAAD,UAARrzE,EAAQ,EAARA,KAChC,KACE,OAACA,QAAD,IAACA,OAAD,EAACA,EAAM2sE,2BACP,OAAC3sE,QAAD,IAACA,GAAD,UAACA,EAAMouE,0BAAP,iBAAC,EAA0Bt5E,sBAA3B,aAAC,EAA0CgF,sBAE3C,OAAO,KAGT,IAIIw5E,EAJE1iB,GACA,OAAJ5wD,QAAI,IAAJA,OAAA,EAAAA,EAAM2sE,0BAAN,OACA3sE,QADA,IACAA,GADA,UACAA,EAAMouE,0BADN,iBACA,EAA0Bt5E,sBAD1B,aACA,EAA0CgF,sBAG5C,GACE82D,EAAmBv5E,MACnBu5E,EAAmBtrB,mBADnB,OAEAtlC,QAFA,IAEAA,GAFA,UAEAA,EAAM/wB,WAFN,aAEA,EAAWoI,MAMX,OAHEu5E,EAAmBv5E,MACnBu5E,EAAmBtrB,kBACnBtlC,EAAK/wB,IAAIoI,MAET,IAAK,eACL,IAAK,MACHi8F,EAAiB,KACjB,MACF,IAAK,UACL,IAAK,iBACHA,EAAiB,IACjB,MACF,IAAK,mBACL,IAAK,mBACHA,EAAiB,IACjB,MACF,IAAK,wBACL,IAAK,eACHA,EAAiB,IACjB,MACF,IAAK,6BACL,IAAK,oBACHA,EAAiB,kBAACH,GAAD,MACjB,MACF,QACEG,EAAiB,GAIvB,OACE,mCAAe3lC,EAAE,KAAK52B,EAAE,MAAM+4B,OAAO,KAAKvnC,MAAM,MAC9C,kBAAC,GAAD,CAAgBxyB,GAAE,eAAUiqB,EAAKjqB,GAAf,iBACfu9F,KCzDHC,GAAShwF,IAAO8mF,EAAV,sDACQ,SAAAzmF,GAAK,OAAKA,EAAM4vF,oBAAsB,OAAS,UAGnE,SAASC,GAAT,GAA2E,IAA9CvxF,EAA6C,EAA7CA,KAAMwxF,EAAuC,EAAvCA,iBAAkBC,EAAqB,EAArBA,kBAC7ClgC,EAAMhpD,iBAAO,MACnB,EAAgCtF,oBAAS,GAAzC,mBAAOurF,EAAP,KAAiBC,EAAjB,KACMvwD,EAAW5+B,qBAAW+mF,IAC5B,EAAsC/mF,qBAAWgnF,IAAzCiD,EAAR,EAAQA,WAAY/C,EAApB,EAAoBA,cAOpB,OACE,kBAAC6K,GAAD,CACEx9F,GAAG,SACHy9F,oBAAqB/H,EACrBwF,aATyB,WAC3Bx9B,EAAI9nD,QAAQulF,WAAWC,YAAY19B,EAAI9nD,SACvCglF,GAAY,IAQVS,aAAc,kBAAMT,GAAY,IAChCl9B,IAAKA,EACLmgC,UAAS,oBAAelL,EAAc,GAAG3xD,EAAhC,QAET,0BACEu6D,KAAK,UACLxhC,OAAQ+jC,GACRC,GAAG,IACHC,GAAG,IACHxrE,MAAOsrE,GACPlmC,EAAE,OAGJ,0BAAM52B,EAAE,KAAK42B,EAAE,KAAKqmC,GAAG,QAAQ1C,KAAK,SAApC,SAGCqC,GAAqBjD,GACpB,kBAAC,GAAD,CACE1jF,QAAS,CACP,kBAAC,GAAD,CACEjX,GAAG,WACHpF,IAAI,MACJsgG,aAAc,kBAAMyC,EAAiBxxF,EAAKU,EAAE,yBAC5CwuF,aAAc,kBAAMsC,EAAiB,OACrCnqF,QAAS,WACPmqF,EAAiB,MACjB/C,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,iBAAkBk4F,aAAc,MAGnD,kBAAC,KAAD,QAGJyC,OAAQ6B,GACR5B,OAAQ4B,GAAoB,EAAI,MAY1CJ,GAAkBrwF,aAAe,CAC/BswF,iBAAkB,cAGLrwF,4BAAWowF,I,kEChEpB1xC,GAAUx+C,IAAOC,IAAV,4EAAGD,CAAH,qFAOPD,GAASC,IAAOC,IAAV,2EAAGD,CAAH,mDAKN0wF,GAAM1wF,IAAOC,IAAV,wEAAGD,CAAH,sCAKH2wF,GAAY3wF,IAAOC,IAAV,8EAAGD,CAAH,yCAKT4wF,GAAQ5wF,IAAOC,IAAV,0EAAGD,CAAH,mDAML1Z,GAAQ0Z,YAAOwvF,MAAV,0EAAGxvF,CAAH,2DA6IIF,I,eAAAA,yBAtIf,YAOI,IANFnB,EAMC,EANDA,KACAkyF,EAKC,EALDA,WACAC,EAIC,EAJDA,MACAC,EAGC,EAHDA,cACAC,EAEC,EAFDA,aACAC,EACC,EADDA,eAEMp0D,EAAW5+B,qBAAW+mF,IAiB5B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,2BAAIrmF,EAAKU,EAAE,eACX,kBAAC,GAAD,CAAO2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,qBAEzC,kBAAC88F,GAAD,KACE,kBAAC,KAAD,CACE1rF,QAASvG,EAAKU,EAAE,mDAChB4F,SAAS,UAET,sBACE9E,QAAQ,WAER6F,QAAS,kBAAM6qF,MAEf,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAS3rF,QAASvG,EAAKU,EAAE,iBAAc4F,SAAS,UAC9C,sBACE9E,QAAQ,WAER6F,QAAS,kBA/BH,WACd,IAAM0hF,EACqC,GAAzCp/E,KAAKsB,OAAOqnF,EAAiB,IAAM,IAAW,GACD,GAAzC3oF,KAAKsB,OAAOqnF,EAAiB,IAAM,IACnC,GACND,EAAatJ,EAAW,KA0BDwJ,KAEf,kBAAC,KAAD,QAGJ,2BACE1+F,GAAG,cACHmX,IAAI,MACJpB,IAAI,KACJiS,SAAU,SAAAb,GAAK,OACbq3E,EAAarjG,SAASgsB,EAAM9T,OAAOrY,MAAO,IAAM,MAElDo6C,KAAK,KACL9zC,KAAK,QACLtG,MAAOyjG,IAET,kBAAC,KAAD,CAAS/rF,QAASvG,EAAKU,EAAE,gBAAa4F,SAAS,UAC7C,sBACE9E,QAAQ,WAER6F,QAAS,kBA3DJ,WACb,IAAM0hF,EACoC,GAAxCp/E,KAAKkkE,MAAMykB,EAAiB,IAAM,IAAW,IACD,GAAxC3oF,KAAKkkE,MAAMykB,EAAiB,IAAM,IAClC,IACND,EAAatJ,EAAW,KAsDDyJ,KAEf,kBAAC,KAAD,QAGJ,kBAACT,GAAD,KACE,kBAAC,KAAD,CAASxrF,QAASvG,EAAKU,EAAE,iBAAc4F,SAAS,QAC9C,sBACE9E,QAAQ,WAER6F,QAAS,kBAAM8qF,EAAM,UAErB,kBAAC,KAAD,QAGJ,kBAACH,GAAD,KACE,kBAAC,KAAD,CAASzrF,QAASvG,EAAKU,EAAE,eAAY4F,SAAS,OAC5C,sBACE9E,QAAQ,WAER6F,QAAS,kBAAM8qF,EAAM,QAErB,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CACE5rF,QAASvG,EAAKU,EAAE,0CAChB4F,SAAS,OAET,kBAACyE,EAAA,EAAD,CAAQvJ,QAAQ,WAAW6F,QAAS,kBAAM+qF,MACxC,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAS7rF,QAASvG,EAAKU,EAAE,iBAAc4F,SAAS,UAC9C,sBACE9E,QAAQ,WAER6F,QAAS,kBAAM8qF,EAAM,UAErB,kBAAC,KAAD,SAIN,kBAAC,KAAD,CAAS5rF,QAASvG,EAAKU,EAAE,kBAAe4F,SAAS,SAC/C,sBACE9E,QAAQ,WAER6F,QAAS,kBAAM8qF,EAAM,WAErB,kBAAC,KAAD,c,u4BChKRM,GAAQpxF,IAAO8mF,EAAV,8CACC,SAAAzmF,GAAK,OACbA,EAAM3U,KAA0B,sBAAnB2U,EAAM3U,IAAIoI,KACnB,UACA,aAGFu9F,GAAarxF,IAAOC,IAAV,0RAgBVqxF,GAAUtxF,IAAOC,IAAV,0NAaPsxF,GAAevxF,IAAOC,IAAV,wEAKZuxF,GAAmBxxF,IAAO6jC,EAAV,mJAQtBytD,GAAQjsE,YAAc,UAgFPvlB,6BA9Ef,YAAqE,IAAD,YAAtCnB,EAAsC,EAAtCA,KAAMsuF,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,WAAYzwE,EAAQ,EAARA,KACpD/Y,EAAU8C,cACR2+E,EAAkBlnF,qBAAWgnF,IAA7BE,cACFz5F,EAAG,OAAG+wB,QAAH,IAAGA,GAAH,UAAGA,EAAMouE,0BAAT,iBAAG,EAA0Bt5E,sBAA7B,aAAG,EAA0C7lB,IAChD+lG,GACA,OAAJh1E,QAAI,IAAJA,GAAA,UAAAA,EAAMouE,0BAAN,mBAA0Bt5E,sBAA1B,mBAA0CgF,4BAA1C,eAAgE3d,QAAhE,OACA6jB,QADA,IACAA,GADA,UACAA,EAAM4wD,0BADN,aACA,EAA0Bz0E,MAExB84F,EAAc,UAqBlB,OAnBIhmG,IAEe,WAAfA,EAAIkX,QACW,UAAflX,EAAIkX,QACW,aAAflX,EAAIkX,SAEJ8uF,EAAc,WAEG,eAAfhmG,EAAIkX,QAA0C,OAAflX,EAAIkX,SACrC8uF,EAAc,YAWhB,kBAACN,GAAD,CACE5+F,GAAE,eAAUiqB,EAAKjqB,IACjB69F,UAAS,oBAAelL,EAAc1oE,EAAKjqB,IAAIghC,EAAtC,YAA2C2xD,EAAc1oE,EAAKjqB,IACpE43D,EAAI+6B,EAAc,GAAG/6B,EADf,KAET1+D,IAAKA,EACLsa,QAZoB,WAClBta,GAAoB,qBAAbA,EAAIoI,MACb4P,EAAQqI,KAAR,gBAAsBrgB,EAAI8G,GAA1B,cAWAk7F,aAAcT,EACdY,aAAcX,GAEd,0BACEa,KAAK,UACLxhC,OAAQ+jC,GACRC,GAAG,IACHC,GAAG,IACHvC,OAAQyD,EACRxD,YAAY,MACZlpE,MAAOsrE,KAET,mCAAe/jC,OAAO,KAAKvnC,MAAM,MAAMwO,EAAE,IAAI42B,EAAE,KAC7C,kBAACmnC,GAAD,KACG7lG,EACC,oCACE,kBAAC2lG,GAAD,KACkB,YAAf3lG,EAAIkX,QAAwB,kBAAC,GAAD,CAAYA,OAAQlX,EAAIkX,SACrD,2BAAI6uF,OAEJ,OAAC/lG,QAAD,IAACA,OAAD,EAACA,EAAKisB,UACN,kBAAC25E,GAAD,KAAU5qE,GAAgBh7B,EAAIisB,WAIlC,kBAAC65E,GAAD,KAAmBC,GAAW9yF,EAAKU,EAAE,oBAIzCod,EAAK4wD,oBAAsB3hF,IAC3B,kBAAC,GAAD,CAAwB+wB,KAAMA,QCiFvBk1E,I,kBAAAA,GA/Lf,WACE,MAAgC/vF,qBAAhC,mBAAOgwF,EAAP,KAAiBC,EAAjB,KACA,EAAgCjwF,qBAAhC,mBAAOkwF,EAAP,KAAiBC,EAAjB,KACA,EAA4CnwF,mBAAS,KAArD,mBAAOqvF,EAAP,KAAuBe,EAAvB,KACMC,EAAS/qF,iBAAO,MAChBgrF,EAAOhrF,iBAAO,MAEpB,EAA+DjJ,qBAC7DgnF,IADM4B,EAAR,EAAQA,MAAO1B,EAAf,EAAeA,cAAeyB,EAA9B,EAA8BA,MAAO8B,EAArC,EAAqCA,WAAYC,EAAjD,EAAiDA,UA4E3CwJ,EAAiB,WACrB,IAAW1M,EAAiBz7B,KAC1BA,KAAUioC,EAAO7pF,SAASqU,QADpBm4C,EAGF0wB,EAAsBt7B,KAClBkoC,EAAK9pF,SACZqU,OACA0tC,wBAEGq7B,EAAkBx7B,KACdkoC,EAAK9pF,SACZqU,OACA21E,UAIH,EAAiC/M,GAC/BC,EAH4B2M,EAAO7pF,QAAQ+hD,wBAK3Cq7B,EACAC,GAJF,mBAAOC,EAAP,KAAmBC,EAAnB,KAOA37B,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAU,EAAG3M,GAAY4M,MAAM7M,IAGjDsM,EAA+B,IAAbtM,IAGd2M,EAAUroC,OAEbwoC,YAAY,CAAC,GAAK,IAClBxjC,GAAG,QAzGO,WACX,IAAMyjC,EAAc,CAACzoC,KAASqmC,UAAU78D,EAAGw2B,KAASqmC,UAAUjmC,GAC9DJ,KAAUkoC,EAAK9pF,SAASqjD,KACtB,YADF,oBAEegnC,EAFf,mBAEqCzoC,KAASqmC,UAAUz7B,EAFxD,MAKAo9B,EAAyC,IAAvBhoC,KAASqmC,UAAUz7B,MAoHvC,OAfA1sD,qBAAU,WACR8hD,KAAUioC,EAAO7pF,SAASjG,KAAKkwF,KAC9B,CAACA,IAGJnqF,qBAAU,WACRiqF,MAOC,IAGD,qCACIL,GAAYF,IACZ,kBAAC,GAAD,KACGE,GAAY,kBAAC,GAAD,CAAkBr1E,KAAMq1E,IACpCF,GAAY,kBAAC,GAAD,CAAkB1+D,KAAM0+D,KAGzC,sBACEp/F,GAAG,eACH09D,IAAK+hC,GAGL,uBAAGz/F,GAAG,aAAa09D,IAAKgiC,GACrB/M,GAAiB,CAChB,kBAAC,GAAD,CAAmB/3F,IAAI,QAAQgjG,mBAAmB,IAClDvJ,EAAM95F,KAAI,SAAAmmC,GAAI,OACZ,kBAAC,GAAD,CACE9lC,IAAG,eAAU8lC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,IAC3C0gC,KAAMA,EACN+5D,WAAY,kBAAM4E,EAAY3+D,IAC9Bg6D,WAAY,kBAAM2E,EAAY,YAGlCjL,EAAM75F,KAAI,SAAA0vB,GACR,OAAIA,EAAKjqB,GAAK,EAEV,kBAAC,GAAD,CACEpF,IAAG,eAAUqvB,EAAKjqB,IAClBy6F,WAAY,kBAAM8E,EAAYt1E,IAC9BywE,WAAY,kBAAM6E,EAAY,OAC9Bt1E,KAAMA,IAIL,WAKf,0BACGksE,GACC,kBAAC,GAAD,CACEkI,WAAYsB,EACZrB,MA7JQ,SAAA9xE,GAChB,IAAMqxE,EAAYrmC,KAAiBA,KAAUioC,EAAO7pF,SAASqU,QAEpDi2E,EAAkBrC,EAArB78D,EAAYm/D,EAAStC,EAAZjmC,EACJq7B,EAAiB4K,EAApBz7B,EAER,OAAQ51C,GACN,IAAK,KACH2zE,GAAQ,GACR,MACF,IAAK,OACHA,GAAQ,GACR,MACF,IAAK,OACHD,GAAQ,GACR,MACF,IAAK,QACHA,GAAQ,GAOZ1oC,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAUI,EAAMC,GAAMJ,MAAM9M,KAoItCsL,cAhIgB,WACxB,IAAMxL,EAAwB0M,EAAO7pF,QAAQ+hD,wBAC7CH,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KACGsoC,UAAU,EAAG/M,EAAsBh5B,OAAS,EAAI,IAChDgmC,MAAM,IAGXP,EAAkB,MAwHVhB,aArHe,SAAAtJ,GACvB,IAKA,EAAiCF,GALHyK,EAAO7pF,QAAQ+hD,wBACfH,KAC5BA,KAAUioC,EAAO7pF,SAASqU,QAM1BirE,GAHF,mBAAOkL,EAAP,KAAmBC,EAAnB,KAMA7oC,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAUM,EAAYC,GAAYN,MAAM7K,IAE1DsK,EAA6B,IAAXtK,IAsGVuJ,eAAgBA,IAGnBvI,GAAc,kBAAC,GAAD,S,iWC/LjBroE,GAAUrgB,IAAOC,IAAV,2HAOP6yF,GAAa9yF,IAAOC,IAAV,wEAKV8yF,GAAiB/yF,IAAOC,IAAV,kHAOdwqB,GAAQzqB,YAAO25D,KAAP35D,CAAH,0HAOLgzF,GAAehzF,YAAO0J,IAAP1J,CAAH,2OAeZizF,GAAuBjzF,YAAOw/C,GAAPx/C,CAAH,qDAiDXF,I,MAAAA,yBA7Cf,YAA+C,IAAdnB,EAAa,EAAbA,KAAMjT,EAAO,EAAPA,IAC/BmxC,EAAW5+B,qBAAW+mF,IAE5B,EAAyC/mF,qBAAWgnF,IAA5C2B,EAAR,EAAQA,MAAO8B,EAAf,EAAeA,WAAYC,EAA3B,EAA2BA,UAErBuK,EAAatM,EAAMl3F,QAAO,SAAChK,EAAG+2B,GAAJ,OAAa/2B,GAAK+2B,EAAKitE,YAAW,GAAK,EAEvE,OACE,kBAAC,GAAD,CAASl3F,GAAG,2BACV,kBAACsgG,GAAD,KACE,kBAACG,GAAD,CAAsBrwF,OAAQlX,EAAIkX,SAClC,2BAAIlX,EAAIkN,OAEV,kBAACm6F,GAAD,KACE,6BAAMp0F,EAAKU,EAAE,qBACb,kBAAC,GAAD,CAAOqrB,QAAM,GAAEwoE,GACf,kBAAC,KAAD,CAAShuF,QAASvG,EAAKU,EAAE,sBAAmB4F,SAAS,UACnD,kBAAC+tF,GAAD,CACExgG,GAAG,gCACHyR,SAAUykF,EACV1iF,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,mBAChCqM,QAAQ,SAER,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAS+E,QAASvG,EAAKU,EAAE,qBAAkB4F,SAAS,UAClD,kBAAC+tF,GAAD,CACExgG,GAAG,+BACHyR,SAAU0kF,EACV3iF,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,kBAChCqM,QAAQ,SAER,kBAAC,KAAD,aCvFNgzF,GAAkB,uCAAG,WAAOvqC,GAAP,iCAAAziE,EAAA,6DAAckO,EAAd,+BAAuB,EAAGuyF,EAA1B,+BAAkC,GAAlC,SACFnpF,GAAgB21F,UAAUxqC,EAAO,CACtDx8D,UAAW,IACXD,KAAMkI,IAHiB,qBACjB/B,EADiB,EACjBA,MAKCqB,KANgB,yCAOhBw/F,GAAmBvqC,EAAOv0D,EAAS,EAAGuyF,EAAMt2F,OAAOgC,EAAKsB,WAPxC,gCASlBgzF,EAAMt2F,OAAOgC,EAAKsB,UATA,2CAAH,sDAYT,SAASy/F,GAAoBC,EAAeC,GACzD,MAA0B3xF,mBAAS2xF,GAAnC,mBAAO3M,EAAP,KAAc4M,EAAd,KACMjtC,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBA6DZ,OA1DAzS,qBAAU,WACRsrF,EAASD,KACR,CAACA,IAEJrrF,qBACE,WAA0B,4CACxB,gCAAA/hB,EAAA,6DACQstG,EAAiB,GADzB,SAEmCN,GAAmBG,GAFtD,OAEQI,EAFR,OAGQC,EAAwBD,EAAmBhkG,QAAO,SAAC3C,EAAK0vB,GAE5D,OADA1vB,EAAI0vB,EAAKjqB,IAAMiqB,EACR1vB,IACN,IACH65F,EAAM55F,SAAQ,SAAAyvB,GACI,IAAZA,EAAKjqB,GAEPihG,EAAe1nF,KAAf,eACK0Q,IAGLg3E,EAAe1nF,KAAf,2BACK0Q,GADL,IAEEouE,mBACE8I,EAAsBl3E,EAAKouE,mBAAmBr4F,UAItDghG,EAASC,GArBX,4CADwB,sBAyBxB,IACa,OAAXltC,QAAW,IAAXA,OAAA,EAAAA,EAAaoC,kBAAmB2qC,GAChC,CAAC,aAAc,SAAU,QAAS,aAAaplG,SAC7Cq4D,EAAY3jD,SA5BS,WAAD,wBA+BtBgxF,OACK,CACL,IACGhN,GACgB,IAAjBA,EAAMr5F,SACK,OAAXg5D,QAAW,IAAXA,OAAA,EAAAA,EAAastC,mBAAoBP,EAEjC,OAGF,IAAM3jG,EAAQi3F,EAAMxqD,WAClB,SAAA3f,GAAI,aAAQ,OAAJA,QAAI,IAAJA,GAAA,UAAAA,EAAMouE,0BAAN,eAA0Br4F,MAAO+zD,EAAYutC,oBAGnDnkG,GAAS,GACX6jG,EAUV,SAAoB5M,EAAOj3F,EAAOyS,GAAU,IAAD,sBACnCqa,EAAI,2BACLmqE,EAAMj3F,IADD,IAERk7F,mBAAmB,2BAAD,QAAC,EACdjE,EAAMj3F,UADO,aACb,EAAck7F,oBADD,IAEhBn/F,IAAK0W,EAAQumD,eACbp3C,eAAe,2BAAD,QAAC,EACVq1E,EAAMj3F,UADG,iBACT,EAAck7F,0BADL,aACT,EAAkCt5E,gBADzB,IAEZ7lB,IAAI,2BAAD,QAAC,EACCk7F,EAAMj3F,UADR,iBACE,EAAck7F,0BADhB,iBACE,EAAkCt5E,sBADpC,aACE,EAAkD7lB,KADpD,IAED8G,GAAI4P,EAAQumD,eACZ/lD,OAAQR,EAAQQ,OAChB9O,KAAMsO,EAAQtO,WAIpBpI,IAAI,2BAAD,QAAC,EACCk7F,EAAMj3F,UADR,aACE,EAAcjE,KADhB,IAED8G,GAAI4P,EAAQumD,eACZ/vD,MAAM,UAAAguF,EAAMj3F,UAAN,mBAAcjE,WAAd,eAAmBkN,QAAnB,UAA2BguF,EAAMj3F,UAAjC,iBAA2B,EAAc09E,0BAAzC,aAA2B,EAAkCz0E,MACnEgK,OAAQR,EAAQQ,OAChB9O,KAAMsO,EAAQtO,SAIlB,MAAM,GAAN,mBAAW8yF,EAAM78F,MAAM,EAAG4F,IAA1B,CAAkC8sB,GAAlC,YAA2CmqE,EAAM78F,MAAM4F,EAAQ,KAnC9Ci9F,CAAWhG,EAAOj3F,EAAO42D,OAIxC,CAACA,IAGIqgC,EC7DT,IAAMplF,GAAWxB,YAAOyB,KAAPzB,CAAH,2GAMRw+C,GAAUx+C,IAAOC,IAAV,8GAOPkzF,GAAkB,uCAAG,WAAOvqC,GAAP,iCAAAziE,EAAA,6DAAckO,EAAd,+BAAuB,EAAGuyF,EAA1B,+BAAkC,GAAlC,SACFnpF,GAAgB21F,UAAUxqC,EAAO,CACtDx8D,UAAW,IACXD,KAAMkI,IAHiB,qBACjB/B,EADiB,EACjBA,MAKCqB,KANgB,yCAOhBw/F,GAAmBvqC,EAAOv0D,EAAS,EAAGuyF,EAAMt2F,OAAOgC,EAAKsB,WAPxC,gCASlBgzF,EAAMt2F,OAAOgC,EAAKsB,UATA,2CAAH,sDAyFTkM,6BA7Ef,YAAwC,IAAdpU,EAAa,EAAbA,IAAKiT,EAAQ,EAARA,KAC7B,EAA0Bi+B,qBAAWm3D,GAAiB,GAAIz3D,IAA1D,mBAAOL,EAAP,KAAcY,EAAd,KACQtZ,EAAyD0Y,EAAzD1Y,aAAcxY,EAA2CkxB,EAA3ClxB,UAAW87E,EAAgC5qD,EAAhC4qD,MAAO1B,EAAyBlpD,EAAzBkpD,cAAeyB,EAAU3qD,EAAV2qD,MAEvD1+E,qBAAU,WAAM,4CACd,4BAAA/hB,EAAA,+EAEgCgtG,GAAmBznG,EAAI8G,IAFvD,OAEU63F,EAFV,OAGIxtD,EAAS,CACP/oC,KAAM,2BACN8yF,MAAOyD,EACP1rF,SANN,gDASIk+B,EAAS,CAAE/oC,KAAM,oBAAqBtG,MAAM,EAAD,KAT/C,yBAWIqvC,EAAS,CAAE/oC,KAAM,iBAAkBtG,OAAO,IAX9C,6EADc,sBAedqvC,EAAS,CAAE/oC,KAAM,UAfF,WAAD,wBAgBdsgD,KACC,CAAC1oD,EAAI8G,GAAImM,IAGZuJ,qBAAU,WACR,GAAI0+E,EAAO,CACT,IAAMoN,EAAmB,GACnBlN,EAAIH,GAAYC,EAAOC,GAE7BC,EAAEF,QAAQ55F,SAAQ,SAAAyvB,GAChBu3E,EAAiBv3E,GAAQqqE,EAAErqE,KAAKA,MAGlCogB,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAOwmG,OAE/C,CAACtoG,EAAI8G,GAAIq0F,EAAOD,IAEnB,IAAMqN,EAAeZ,GAAoB3nG,EAAI8G,GAAIo0F,GAMjD,OAJA1+E,qBAAU,WACR20B,EAAS,CAAE/oC,KAAM,YAAatG,MAAOymG,MACpC,CAACA,IAEAlpF,EAEA,kBAAC,GAAD,KACE,kBAAC,GAAD,OAKFwY,EAEA,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAc7iB,MAAO6iB,KAMzB,kBAAC0hE,GAAqBnnF,SAAtB,CAA+BtQ,MAAOyuC,GACpC,kBAAC+oD,GAAwBlnF,SAAzB,CAAkCtQ,MAAOqvC,GACvC,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAuBnxC,IAAKA,IAC3By5F,GAAiB,kBAAC,GAAD,aCzGf,SAAS+O,GAASC,GAC/B,IAAQrgG,EAASisC,cAATjsC,KACR,EAAsB8N,mBAASuyF,GAA/B,mBAAOzoG,EAAP,KAAY0oG,EAAZ,KACM7tC,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBA+BZ,OA5BAzS,qBAAU,WACRksF,EAAOD,KACN,CAACA,IAEJjsF,qBACE,WAA0B,4CACxB,8BAAA/hB,EAAA,sEACyBgW,GAAQylC,WAAWl2C,EAAI8G,GAAIsB,GADpD,gBACUxB,EADV,EACUA,KACR8hG,EAAO9hG,GAFT,4CADwB,sBAMnB5G,IAAkB,OAAX66D,QAAW,IAAXA,OAAA,EAAAA,EAAaoC,kBAAmBj9D,EAAI8G,KAK9C,CAAC,aAAc,SAAU,QAAS,aAAatE,SAC7Cq4D,EAAY3jD,QAZS,WAAD,wBAetByxF,GAEAD,EASR,SAAmB1oG,EAAK0W,GACtB,OAAO,2BACF1W,GADL,IAEE2oB,SAAUjS,EAAQiS,SAClBzR,OAAQR,EAAQQ,SAbLimD,CAAUn9D,EAAK66D,OAG1B,CAACA,IAGI76D,ECyFMoU,4BAAWuE,aA1G1B,YAAuC,IAAxB1F,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACnB,EAAqB5B,cAAbvtC,EAAR,EAAQA,GAAIsB,EAAZ,EAAYA,KACNuiC,EAAQmC,cAEd,EAAwD/tB,GACtDzC,sBAAW,sBAAC,sCAAA7hB,EAAA,sEACagW,GAAQylC,WAAWpvC,EAAIsB,GADpC,6BACFxB,EADE,EACFA,YADE,IAGRA,GAHQ,UAGRA,EAAMif,sBAHE,iBAGR,EAAsBiD,mBAHd,aAGR,EAAmCsH,MAAK,SAAAsiC,GAAI,MAAkB,UAAdA,EAAKrqD,SAH7C,iCAOEoI,GAAQ3D,gBAAgBlG,EAAKE,GAAIsB,GAPnC,gBAMEF,EANF,EAMNtB,KAAQsB,QAGVtB,EAAKif,eAAeiD,YAAc5gB,EAT1B,eAWV+tC,EAAcrvC,GAXJ,kBAYHA,GAZG,4CAaT,CAACE,EAAIsB,EAAM6tC,KAdR52B,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB2zF,EAAnC,EAA0BnpF,QAAmBN,EAA7C,EAA6CA,OAiB7C1C,qBAAU,WACRmsF,MACC,CAACA,IAEJ,IAAM3oG,EAAMwoG,GAAStpF,GAEfs2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,sBAGZ6zB,KAAK,QACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WAAyBnQ,GAAI,IAG9D,OAAIuY,EAEA,kBAACP,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAMJZ,EAEA,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACQ,MAA1BA,EAAM/O,SAASiR,QACd,8BACGjE,EAAKU,EAAE,mDAAgD,IACxD,kBAAC,IAAD,CAAM6E,GAAG,SAASvF,EAAKU,EAAE,4BAUrC,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAY4/B,UAAWA,IACvB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUa,KAAK,kBAAkB79B,GAAG,yBAAyB0R,OAAK,IACjElqB,GACc,iBAAbA,EAAIoI,MAA2B,CAC7B,kBAAC,IAAD,CAAO1G,IAAI,mBAAmBmW,KAAK,8BACjC,kBAAC,GAAD,CAAWzP,KAAMuiC,EAAMzpC,OAAOkH,KAAMpI,IAAKA,KAE3C,kBAAC,IAAD,CAAO0B,IAAI,kBAAkBmW,KAAK,6BAChC,kBAAC,GAAD,CAAgB7X,IAAKA,MAG1BA,GACc,iBAAbA,EAAIoI,MAA2B,CAC7B,kBAAC,IAAD,CAAO1G,IAAI,UAAUmW,KAAK,2BACxB,kBAAC,GAAD,CAAWzP,KAAMA,EAAMpI,IAAKA,KAE9B,kBAAC,IAAD,CAAO0B,IAAI,SAASmW,KAAK,0BACvB,kBAAC,GAAD,CAAWzP,KAAMA,EAAMpI,IAAKA,KAE9B,kBAAC,IAAD,CAAO0B,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,gBAAWpQ,EAAX,YAAmBtB,EAAnB,aACLmM,EAAKU,EAAE,oCC1G5B,SAASi1F,GAAT,GAAoD,IAAzB9hG,EAAwB,EAAxBA,GAAI+Q,EAAoB,EAApBA,KAAMgxF,EAAc,EAAdA,KAAM51F,EAAQ,EAARA,KACzC,EAKI8L,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEAGAgX,GAAe9J,KAAK,CAAEb,OAHtB,uBAEAoB,EAFA,EAERtB,KAAQsB,QAFA,cAIKA,EAJL,GAIHg/B,EAJG,uBAKH,CAAElnC,IAAKknC,IALJ,2CAMT,CAACpgC,IACJ,CAAE9G,IAAK,KAZPqf,EADF,EACEA,UACArK,EAFF,EAEEA,MACUhV,EAHZ,EAGEkf,OAAUlf,IACD8oG,EAJX,EAIEtpF,QAeF,GAJAhD,qBAAU,WACRssF,MACC,CAACA,IAEA9zF,EACF,OACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KAzBU,cA0BPZ,EACC,kBAAC,GAAD,CAAcqJ,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAG,SAASvF,EAAKU,EAAE,wBAG3B,kBAAC,GAAD,CAAcqB,MAAOA,MAM/B,GAAIqK,KAAa,OAACrf,QAAD,IAACA,OAAD,EAACA,EAAK8G,IACrB,OACE,kBAACgY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,QAKR,IAAMxN,EAAOrI,EAAsBC,EAAIoI,MACvC,OAAO,kBAAC,IAAD,CAAUiuC,KAAMx+B,EAAMW,GAAE,gBAAWpQ,EAAX,YAAmBpI,EAAI8G,GAAvB,YAA6B+hG,KAG9DD,GAAgBz0F,aAAe,CAC7B00F,KAAM,UAEOz0F,4BAAWw0F,ICGXx0F,6BAxDf,YAAyB,IAATnB,EAAQ,EAARA,KACR03B,EAAQmC,cACd,EAAgD52B,mBAAS,CACvD,QAASjD,EAAKU,EAAE,uBADlB,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAIMC,EAAwBp7B,uBAC5B,SAAAtc,GAAQ,IAAD,EACL,GAAKA,EAAL,CAIA,IAAMoI,EAAOrI,EAAsBC,EAAIoI,MACvCqvC,GAAmB,GACjB,QAASxkC,EAAKU,EAAE,sBADC,+BAEPvL,EAFO,YAECpI,EAAI8G,IAFL,UAEe9G,EAAIkN,OAFnB,+BAGP9E,EAHO,YAGCpI,EAAI8G,GAHL,WAGmBmM,EAAKU,EAAE,gBAH1B,+BAIPvL,EAJO,YAICpI,EAAI8G,GAJL,YAIoBmM,EAAKU,EAAE,iBAJ3B,OAOrB,CAACV,IAGH,SAAS81F,EAAT,GAAiC,IAATF,EAAQ,EAARA,KACd/hG,EAAOutC,cAAPvtC,GACA+Q,EAASi1B,cAATj1B,KACR,OAAO,kBAAC,GAAD,CAAiB/Q,GAAIA,EAAI+Q,KAAMA,EAAMgxF,KAAMA,IAGpD,OACE,oCACE,kBAAC,GAAD,CAAc9xD,WAAW,MAAMP,iBAAkBA,IACjD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOtsB,OAAK,EAACrS,KAAM8yB,EAAM9yB,MACvB,kBAACiH,GAAA,EAAD,KACE,kBAAC,GAAD,CAAS86C,gBAAc,MAG3B,kBAAC,IAAD,CAAO/hD,KAAI,UAAK8yB,EAAM9yB,KAAX,iBACT,kBAACkxF,EAAD,CAAcF,KAAK,aAErB,kBAAC,IAAD,CAAOhxF,KAAI,UAAK8yB,EAAM9yB,KAAX,gBACT,kBAACkxF,EAAD,CAAcF,KAAK,YAErB,kBAAC,IAAD,CAAOhxF,KAAI,UAAK8yB,EAAM9yB,KAAX,eACT,kBAAC,GAAD,CAAKo+B,cAAeyB,KAEtB,kBAAC,IAAD,CAAO7/B,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAACkxF,EAAD,YC1CK30F,6BAXf,YAAmC,IAATnB,EAAQ,EAARA,KACxB,OACE,kBAAC,WAAD,KACE,kBAAC,GAAD,CACE8jC,WAAW,OACXP,iBAAkB,CAAE,mBAAoBvjC,EAAKU,EAAE,+B,WCV1Cq1F,GAAqB,CAChC5jF,MAAO,QACP6jF,QAAS,UACTC,IAAK,MACLC,WAAY,aACZC,UAAW,YACXC,WAAY,cACZC,MAAO,QACPC,OAAQ,SACRC,QAAS,WCcLl9D,GAAiBh4B,YAAOi4B,MAAV,mGAAGj4B,CAAH,yFAuJLF,6BA7If,YAOI,IAAD,IAND+vD,EAMC,EANDA,SACAx3B,EAKC,EALDA,UACA83B,EAIC,EAJDA,eACA/3B,EAGC,EAHDA,WACA5yB,EAEC,EAFDA,SACA7G,EACC,EADDA,KAEMw2F,EAAmB,UAAGtlC,EAASt+C,sBAAZ,aAAG,EAAyB6jF,qBAC/CC,EAAeF,EAAmB,UACpCA,EAAoB,UADgB,aACpC,EAAwBvyF,OACxB,KACJ,EAA4BhB,mBAASyzF,GAArC,mBAAOzyF,EAAP,KAAe0yF,EAAf,KACA,EAA4C1zF,oBAAS,GAArD,mBAAO2zF,EAAP,KAAuBC,EAAvB,KAEMplC,EAAepoD,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACzBmW,GAAyB24C,KAAK4a,EAASr9D,GAAI,CAC/CoG,KAAK,GAAD,OAAKi3D,EAASj3D,KAAd,cAAwBiuB,QAFC,uBAIzBspC,IAJyB,2CAK9B,CAACN,EAASr9D,GAAIq9D,EAASj3D,KAAMu3D,IAE1Bjb,EAAkBltC,uBAAY,WAClCwtF,GAAkB,KACjB,IAEGrgD,EAAmBntC,uBAAY,WACnCwtF,GAAkB,KACjB,IAEHttF,qBAAU,WACRotF,EAAUD,KACT,CAACA,IAEJ,MAA4D5qF,GAC1DzC,sBAAW,sBAAC,yBAQKytF,EARL,WAAAtvG,EAAA,iGAAAA,EAAA,MAQV,8BAAAA,EAAA,sEACuCoW,GAAiBqlC,WACpD7qC,GAFJ,mBAI8B,aAHdq7E,EADhB,EACU9/E,MAGSsQ,OAJnB,uBAKI0yF,EAAUljB,EAAaxvE,QAL3B,4BAQE8yF,EACc,GACZ5kG,WAAW2kG,EAvDC,KA6ChB,4CARU,uBAQKA,EARL,2CACJvqF,EAAU5O,GAAyBu2B,KAAKg9B,EAASr9D,IACvD8iG,EAAU,WACNI,EAzCU,GAsCJ,SAMAxqF,EANA,gBAKcnU,EALd,EAKRzE,KAAQ8/E,aAiBVthF,WAAW2kG,EA3DK,KAqCN,4CAuBT,CAAC5lC,EAASr9D,MAxBEmjG,EAAjB,EAAQzqF,QAA+BH,EAAvC,EAAuCA,UAAWrK,EAAlD,EAAkDA,MA2BlDwH,qBAAU,WACJxH,GACF40F,EAAU,WAEX,CAAC50F,IAEJ,IAAM+yB,EAAO,wBAAoBo8B,EAASr9D,IAE1C,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKyiE,EAASr9D,GAAI4O,kBAAiBqyB,EAASjhC,GAAIq9D,EAASr9D,IACrE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,0BAAqBq9D,EAASr9D,IAChCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAOoF,GAAIihC,GAC3B,kBAAC,IAAD,CAAMvvB,GAAIm0B,GACR,2BAAIw3B,EAASj3D,QAGjB,kBAAC,GAAD,CAAcxL,IAAI,UACfwV,GAAU,kBAAC87D,GAAD,CAAa97D,OAAQA,KAElC,kBAAC,GAAD,CAAcxV,IAAI,QAChB,gCAASuR,EAAKU,EAAE,eAAoB,IACnCq1F,GAAmB7kC,EAASr4C,oBAC3Bq4C,EAASr4C,sBAIjB,kBAAC,GAAD,CAAgBrW,aAAW,UAAUC,kBAAiBqyB,GACpD,kBAAC,KAAD,CAASvuB,QAASvG,EAAKU,EAAE,0BAAuB4F,SAAS,OACvD,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,0BACnBc,QAAQ,QACR6F,QAAS2vF,EACT5vF,WAAYgF,GAAwB,YAAXnI,GAEzB,kBAAC,KAAD,QAGHitD,EAASt+C,eAAeb,kBAAkB6nB,KACzC,kBAAC,KAAD,CACErzB,QAASvG,EAAKU,EAAE,mCAChB4F,SAAS,OAET,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,mCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,kCAA6B2rD,EAASr9D,GAAtC,UAEF,kBAAC,KAAD,QAIJ,8BAEDq9D,EAASt+C,eAAeb,kBAAkBukC,MACzC,kBAAC,GAAD,CACER,SAAU2b,EACVmlC,eAAgBA,EAChB7gD,YAAaQ,EACbP,aAAcQ,EACdhoC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,mCAChBkxB,aAAc5xB,EAAKU,EAAE,0CCnJ/Bm1B,GAAYxoC,EAAY,yBAA0B,CACtDG,KAAM,EACNC,UAAW,GACXC,SAAU,SA6LGyT,IChNA81F,GDgNA91F,sBA1Lf,YAA8C,IAATnB,EAAQ,EAARA,KAC7BiF,EAAW6C,cACX4vB,EAAQmC,cAERq9D,EAAM,UAAMx/D,EAAM1zB,IAAZ,QAEZ,EAWI8H,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDpM,GAAyBjJ,KAAKzG,GAC9B0P,GAAyBm4B,gBAJjB,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL+6B,UAAW99D,EAASW,KAAKsB,QACzB8gB,MAAO/iB,EAASW,KAAKoiB,MACrBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACE,UAAAsc,EAAgBpiC,YAAhB,eAAsBqiC,wBAAyB,IAC/C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,IACJ,CACE6rD,UAAW,GACX/6C,MAAO,EACPjL,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACE6kD,EAFJ,EAEIA,UACA/6C,EAHJ,EAGIA,MACAjL,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACWo1F,EATb,EASE/qF,UACSolD,EAVX,EAUEjlD,QA6BFhD,qBAAU,WACRioD,MACC,CAACA,IAEJ,MAA+D14B,GAC7Dg4B,GADM93B,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAY8J,GAAyBq8B,QAAQnmC,SAE3D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYwkD,IAbHvmB,EADb,EACE7+B,UACa0lD,EAFf,EAEE5kD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAcI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACbsqE,IADa,OAEnB74B,EAAY,IAFO,2CAAH,qDAKZmB,EAAStvB,GAAWA,EAAQuvB,KAElC,OACE,oCACE,kBAACxuB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBsyE,GAAsBlsD,EACzCtgD,MAAOmmE,EACPpwC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,+BAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,OACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,0BACbjS,IAAK,wBACLuF,QAAS,CACP,CAAC,QAASgM,EAAKU,EAAE,eACjB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,UAAWV,EAAKU,EAAE,iBACnB,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,aAAcV,EAAKU,EAAE,oBACtB,CAAC,YAAaV,EAAKU,EAAE,mBACrB,CAAC,aAAcV,EAAKU,EAAE,qBACtB,CAAC,QAASV,EAAKU,EAAE,eACjB,CAAC,SAAUV,EAAKU,EAAE,gBAClB,CAAC,UAAWV,EAAKU,EAAE,mBAGvB,CACEzG,KAAM+F,EAAKU,EAAE,8BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,+BACbjS,IAAK,qCAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9Bmd,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,sBAGTy0B,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAuV,GAAG,OAAI0C,EAAY1C,EAAG,YAAOu6B,GAAa,KACvDhkD,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CAAC,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAQy+D,KACrC,IAHY,CAIhB,kBAAC,GAAD,CACEzoG,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,uCAKnC62B,WAAY,SAAA25B,GAAQ,OAClB,kBAAC,GAAD,CACEziE,IAAKyiE,EAASr9D,GACd29D,eAAgBA,EAChBN,SAAUA,EACVx3B,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBktD,EAASr9D,IACpC4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOq9D,EAASr9D,MACrDgT,SAAU,kBAAMqyB,EAAag4B,OAGjCjuC,mBACEmX,EAAS,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAQy+D,IAAa,SAKlE,kBAAC,GAAD,CACEp3F,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,4DACR,kBAAC,GAAD,CAAaqB,MAAOsL,SElLtB+pF,GAAa,CACjBjlF,MA8BF,YAAgC,IAATnS,EAAQ,EAARA,KACrB,EAAoCqtB,aAAS,CAC3CpzB,KAAM,eACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOq3F,EAAP,KAAqBC,EAArB,KAIA,OACE,oCACE,kBAAC,GAAD,CACEzjG,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,sCACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,wCAEP,kBAAC,GAAD,CACEpG,GAAG,aACHkG,MAAOiG,EAAKU,EAAE,aACdzG,KAAK,kCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,uBACdzG,KAAK,wCACL9E,KAAK,WACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVya,KAAM,EACNlF,QAASpnB,EAAKU,EAAE,qGAGlB,kBAAC,GAAD,CACE7M,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,sBACdzG,KAAK,oCACL9E,KAAK,OACLi4B,SAAUsN,GAAc16B,GACxB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,aACHkG,MAAOiG,EAAKU,EAAE,aACdzG,KAAK,kCACL9E,KAAK,SACLi4B,SAAU2N,GAAQ,CAAC3iB,GAAS,KAAMpY,GAAOy6B,GAAY,EAAG,MAAOz6B,KAC/D6R,YAAU,EACVjI,IAAI,IACJoB,IAAI,UAEN,kBAAC,GAAD,CACEnX,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,gBACdzG,KAAK,qCACL9E,KAAK,SACLi4B,SAAU2N,GAAQ,CAAC3iB,GAAS,KAAMpY,GAAOy6B,GAAY,EAAG,IAAKz6B,KAC7D6R,YAAU,EACVjI,IAAI,IACJoB,IAAI,MACJoc,QAASpnB,EAAKU,EAAE,oJAIlB,kBAACgtB,GAAA,EAAD,CACEC,QAAQ,gBACRC,kBAAmB0pE,EAAYv1F,MAC/B8P,YAAU,EACVgc,UACGypE,EAAY7pE,SAAY6pE,EAAYv1F,MAAoB,QAAZ,UAE/ChI,MAAOiG,EAAKU,EAAE,wBAEd,kBAAC,GAAD,iBACM22F,EADN,CAEExjG,GAAG,gBACHF,KAAM,CACJ,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,+BACd0G,YAAY,GAEd,CAAEvY,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,iBAC1C,CAAE7R,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,wBArHpDs1F,QA6HF,YAAkC,IAATh2F,EAAQ,EAARA,KACvB,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,oBACdzG,KAAK,yCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVuV,QAASpnB,EAAKU,EAAE,kIAIlB,kBAAC,GAAD,CACE7M,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,wBACdzG,KAAK,yCACLmzB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,uCACdzG,KAAK,yCACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,mCACdzG,KAAK,qCACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,2CACdzG,KAAK,6CACL9E,KAAK,WACLm3B,KAAM,EACNlF,QAASpnB,EAAKU,EAAE,6DAElB,kBAAC,GAAD,CACE7M,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,iCACdzG,KAAK,uDAxKXg8F,IA8KF,YAA8B,IAATj2F,EAAQ,EAARA,KACnB,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,4BACdzG,KAAK,wCAEP,kBAAC,GAAD,CACEpG,GAAG,WACHkG,MAAOiG,EAAKU,EAAE,wBACdzG,KAAK,kCACL9E,KAAK,SACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVjI,IAAI,MAEN,kBAAC,GAAD,CACE/V,GAAG,aACHkG,MAAOiG,EAAKU,EAAE,2BACdzG,KAAK,oCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,sCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,sCACdzG,KAAK,qCACL9E,KAAK,WACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVuV,QAASpnB,EAAKU,EAAE,4IAIlB,kBAAC,GAAD,CACE7M,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,iCACdzG,KAAK,yCA5NXi8F,WAkOF,YAAqC,IAATl2F,EAAQ,EAARA,KAC1B,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,mBACdzG,KAAK,4CACL9E,KAAK,OACLi4B,SAAU2N,GAAQ,CAAC3iB,GAAS,KAAMpY,GAAOgE,GAAIhE,KAC7C6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,iDACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,qBACHkG,MAAOiG,EAAKU,EAAE,gBACdzG,KAAK,gDACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,kBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,iDACL9E,KAAK,OACLi4B,SAAUppB,GAAIhE,KAEhB,kBAAC,GAAD,CACEnM,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,iCACdzG,KAAK,0DAlQXk8F,UAwQF,YAAoC,IAATn2F,EAAQ,EAARA,KACzB,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,kBACHkG,MAAOiG,EAAKU,EAAE,kBACdzG,KAAK,mCACLmzB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,4BACdzG,KAAK,uCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,wBACHkG,MAAOiG,EAAKU,EAAE,oCACdzG,KAAK,yCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,0BACdzG,KAAK,yCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,MAvShBukF,WA6SF,YAAqC,IAATp2F,EAAQ,EAARA,KAC1B,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,mBACdzG,KAAK,4CACL9E,KAAK,OACLi4B,SAAU2N,GAAQ,CAAC3iB,GAAS,KAAMpY,GAAOgE,GAAIhE,KAC7C6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,iDACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,iDACL9E,KAAK,OACLi4B,SAAUppB,GAAIhE,KAEhB,kBAAC,GAAD,CACEnM,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,iCACdzG,KAAK,0DAvUXo8F,MA6UF,YAAgC,IAATr2F,EAAQ,EAARA,KACrB,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,6BACdzG,KAAK,sCACL9E,KAAK,WACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVuV,QAASpnB,EAAKU,EAAE,2FAGlB,kBAAC,GAAD,CACE7M,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,cACdzG,KAAK,mCACLmzB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,2BACdzG,KAAK,uCACL9E,KAAK,OACLiyB,QAASpnB,EAAKU,EAAE,2GArWtB41F,OA4WF,YAAiC,IAATt2F,EAAQ,EAARA,KACtB,OACE,oCACE,kBAAC,GAAD,CACEnM,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,sBACdzG,KAAK,2CACLmzB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,oBACHkG,MAAOiG,EAAKU,EAAE,4BACdzG,KAAK,yCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVuV,QAASpnB,EAAKU,EAAE,yGAGlB,kBAAC,GAAD,CACE7M,GAAG,6BACHkG,MAAOiG,EAAKU,EAAE,kCACdzG,KAAK,wCACL9E,KAAK,WACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,EACVuV,QAASpnB,EAAKU,EAAE,kFAGlB,kBAAC,GAAD,CACE7M,GAAG,qBACHkG,MAAOiG,EAAKU,EAAE,oBACdzG,KAAK,yCACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,MA/YhB0kF,QAqZF,YAAkC,IAATv2F,EAAQ,EAARA,KACvB,EAAkCqtB,aAAS,CACzCpzB,KAAM,yCACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOu3F,EAAP,KAAoBC,EAApB,KAIA,OACE,oCACE,kBAAC,GAAD,CACE3jG,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,sCACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,4BACdzG,KAAK,wCAEP,kBAAC,GAAD,CACEpG,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,mBACdzG,KAAK,iCACL9E,KAAK,OACLi4B,SAAU2N,GAAQ,CAAC3iB,GAAS,KAAMpY,GAAOgE,GAAIhE,KAC7C6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,cACHkG,MAAOiG,EAAKU,EAAE,iCACdzG,KAAK,wDAEP,kBAACk3B,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,kBACHoG,KAAK,qCACLF,MAAOiG,EAAKU,EAAE,qBACdisB,KAAK,aACLvF,QAASpnB,EAAKU,EAAE,0GAEhB4rB,KAAM,KAGV,kBAACoB,GAAA,EAAD,CACEC,QAAQ,sBACRC,kBAAmB4pE,EAAWz1F,MAC9B8P,YAAU,EACVgc,UACG2pE,EAAW/pE,SAAY+pE,EAAWz1F,MAAoB,QAAZ,UAE7ChI,MAAOiG,EAAKU,EAAE,qBAEd,kBAAC,GAAD,iBACM62F,EADN,CAEE1jG,GAAG,sBACHF,KAAM,CACJ,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,8BACd0G,YAAY,GAEd,CAAEvY,MAAO,OAAQJ,IAAK,OAAQsL,MAAOiG,EAAKU,EAAE,cAC5C,CAAE7R,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,qBA/bvCS,6BAjBf,YAA4C,IAAfhM,EAAc,EAAdA,KAAM6K,EAAQ,EAARA,KAC3By3F,EAASL,GAAWjiG,GAC1B,OACE,kBAACk8B,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,sBAEV,kBAACwwB,GAAD,KACE,kBAACumE,EAAD,CAAQz3F,KAAMA,SCyLPmB,6BA3Nf,YAAiE,IAAhCu2F,EAA+B,EAA/BA,gBAAiBviG,EAAc,EAAdA,KAAM6K,EAAQ,EAARA,KACtD,EAA6CqtB,aAAS,qBAAtD,mBAAOsqE,EAAP,KAAyBC,EAAzB,KACMC,EAAwB,YAAT1iG,EACf2iG,EAAa,CAAC,QAAS,YAAa,WAAWvoG,SAAS4F,GAEtDgb,EAAkB2hB,eAAlB3hB,cACF4nF,EAAaxvF,iBAAO,MAsC1B,OArCAgB,qBACE,WACE,GAAKwuF,EAAWtuF,QAAhB,CAIA,IAAMuuF,EAAON,EAAgBviG,GAEvB8iG,EAAc,SAACh+F,EAAMmgD,GACzBjqC,EAAc,GAAD,OAAIlW,EAAJ,YAAoBmgD,EAAS32C,SAAW,IACrD0M,EAAc,GAAD,OAAIlW,EAAJ,SAAiBmgD,EAAS89C,MAAQ,KAGjDD,EAAY,mBAAoBD,EAAKviF,SACrCwiF,EAAY,mBAAoBD,EAAK/1F,SACrCg2F,EAAY,iBAAkBD,EAAKj2F,OACnCk2F,EACE,sCACAD,EAAKlkE,kBAAkBqkE,UAEzBF,EACE,oCACAD,EAAKlkE,kBAAkBskE,QAEzBH,EACE,qCACAD,EAAKlkE,kBAAkByrC,SAEzB04B,EACE,uCACAD,EAAKlkE,kBAAkB1a,gBA3BvB2+E,EAAWtuF,SAAU,IA+BzB,CAACtU,EAAMgb,IAIP,oCACE,kBAAC+rC,GAAA,EAAD,CACEroD,GAAG,yBACHkG,MAAOiG,EAAKU,EAAE,iCACdqhB,YAAa41E,EAAe9oG,MAC5BgtB,SAAU,kBAAM+7E,EAAiBprF,UAAUmrF,EAAe9oG,UAE3D8oG,EAAe9oG,OACd,kBAACwiC,GAAD,KACE,sBACExhB,UAAU,gBAGV,8LAG6B,IAC3B,8BACG,KADH,sBAC4B,MAL9B,IAOI,IACF,8BACG,KADH,QACc,MAThB,qCAWqC,IACnC,8BACG,KADH,eACqB,MAbvB,8EAgBe,IACb,uBACE1I,KAAK,8GACLD,OAAO,SACP88D,IAAI,uBAHN,+BAMK,IAvBP,sBA2BF,kBAAC7yC,GAAD,KACG0mE,GACC,kBAAC,GAAD,CACEhkG,GAAG,gBACHoG,KAAK,2BACLF,MAAOiG,EAAKU,EAAE,sBACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,aACHoG,KAAK,wBACLF,MAAOiG,EAAKU,EAAE,2BACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,kBACHoG,KAAK,2BACLF,MAAOiG,EAAKU,EAAE,wBACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,eACHoG,KAAK,wBACLF,MAAOiG,EAAKU,EAAE,6BACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,gBACHoG,KAAK,yBACLF,MAAOiG,EAAKU,EAAE,sBACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,aACHoG,KAAK,sBACLF,MAAOiG,EAAKU,EAAE,2BACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,sBACHoG,KAAK,8CACLF,MAAOiG,EAAKU,EAAE,kCACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,mBACHoG,KAAK,2CACLF,MAAOiG,EAAKU,EAAE,uCACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,oBACHoG,KAAK,4CACLF,MAAOiG,EAAKU,EAAE,gCACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,iBACHoG,KAAK,yCACLF,MAAOiG,EAAKU,EAAE,qCACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,qBACHoG,KAAK,6CACLF,MAAOiG,EAAKU,EAAE,iCACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,kBACHoG,KAAK,0CACLF,MAAOiG,EAAKU,EAAE,sCACdisB,KAAK,SACLL,KAAM,IAGTurE,GACC,kBAAC,GAAD,CACEhkG,GAAG,uBACHoG,KAAK,+CACLF,MAAOiG,EAAKU,EAAE,mCACdisB,KAAK,SACLL,KAAM,IAGTwrE,GACC,kBAAC,GAAD,CACEjkG,GAAG,oBACHoG,KAAK,4CACLF,MAAOiG,EAAKU,EAAE,wCACdisB,KAAK,SACLL,KAAM,U,mKC7NP,SAAS+rE,GAAkBpxG,EAAUmzD,GAAW,IAAD,QAC5D,QAAKnzD,IAKHqxG,GAAarxG,EAASwuB,QAAS2kC,EAAS3kC,UACxC6iF,GAAarxG,EAASgb,QAASm4C,EAASn4C,UACxCq2F,GAAarxG,EAAS8a,MAAOq4C,EAASr4C,QACtCu2F,GAAY,UACVrxG,EAAS6sC,yBADC,aACV,EAA4BqkE,SAC5B/9C,EAAStmB,kBAAkBqkE,WAE7BG,GAAY,UACVrxG,EAAS6sC,yBADC,aACV,EAA4BskE,OAC5Bh+C,EAAStmB,kBAAkBskE,SAE7BE,GAAY,UACVrxG,EAAS6sC,yBADC,aACV,EAA4ByrC,QAC5BnlB,EAAStmB,kBAAkByrC,UAE7B+4B,GAAY,UACVrxG,EAAS6sC,yBADC,aACV,EAA4B1a,UAC5BghC,EAAStmB,kBAAkB1a,YAKjC,SAASk/E,GAAa70F,EAAS80F,GAC7B,QAAK90F,OAGDA,EAAQA,SAAWA,EAAQA,UAAY80F,EAAe90F,aAGtDA,EAAQy0F,MAAQz0F,EAAQy0F,OAASK,EAAeL,OCnCtD,IAAMM,GAAiB,CACrBrmF,MAAO,CACL,WACA,WACA,OACA,aACA,SACA,OACA,WAEF6jF,QAAS,CACP,cACA,cACA,cACA,UACA,kBACA,yBAEFC,IAAK,CAAC,WAAY,OAAQ,SAAU,WAAY,UAAW,WAC3DC,WAAY,CACV,iBACA,sBACA,qBACA,sBACA,4BAEFC,UAAW,CAAC,QAAS,YAAa,cAAe,eACjDC,WAAY,CACV,iBACA,sBACA,sBACA,4BAEFC,MAAO,CAAC,WAAY,QAAS,aAC7BC,OAAQ,CAAC,gBAAiB,cAAe,aAAc,eACvDC,QAAS,CACP,WACA,WACA,MACA,2BACA,UACA,gBAIWiC,MAETC,GAAsB,GAC5BhpG,OAAOC,KAAK8oG,IAAgBnqG,SAAQ,SAAAI,GAClC+pG,GAAe/pG,GAAKJ,SAAQ,SAAAymD,GAC1B,IAAM39B,EAAY29B,EAAUvlD,SAAS,QACrCkpG,GAAoB3jD,IAAa39B,GAAoB,S,iDCjCzD,SAASuhF,GAAT,GAA8E,IAApC14F,EAAmC,EAAnCA,KAAM03F,EAA6B,EAA7BA,gBAAiBxmC,EAAY,EAAZA,SACvD/gD,EAAkB2hB,eAAlB3hB,cACR,EAAwCkd,aAAS,gBAAjD,mBAAOomB,EAAP,KAAiBC,EAAjB,KAA0BC,EAA1B,KACA,EAA8BtmB,aAAS,CACrCpzB,KAAM,oBACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAO24F,EAAP,KAAkBC,EAAlB,KAKM94D,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,oBACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,2BACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEktB,kBAAmB8lB,EAAQ3xC,MAC3ByrB,SAAUkmB,EAAQjmB,UAAYimB,EAAQ3xC,MACtCg8B,OAAQ,kBAAM4V,EAAW5T,cACzBlkB,SAAUikB,EACVjxC,MAAO4kD,EAAS5kD,MAChB4+B,QAASimB,EAAQjmB,QACjB1rB,MAAO2xC,EAAQ3xC,MACfqW,UAAQ,EACRqmB,eAAc,OAACyyB,QAAD,IAACA,OAAD,EAACA,EAAUr9D,MAE3B,kBAAC65B,GAAA,EAAD,CACEC,QAAQ,oBACRC,kBAAmBgrE,EAAS72F,MAC5B8P,YAAU,EACVgc,UAAY+qE,EAASnrE,SAAYmrE,EAAS72F,MAAoB,QAAZ,UAClDhI,MAAOiG,EAAKU,EAAE,sBAEd,kBAAC,GAAD,iBACMi4F,EADN,CAEE9kG,GAAG,oBACH25B,SAAUorE,EAASnrE,UAAYmrE,EAAS72F,MACxCpO,KAAM,CACJ,CACE9E,MAAO,GACPJ,IAAK,OACLsL,MAAOiG,EAAKU,EAAE,mCACd0G,YAAY,GAEd,CAAEvY,MAAO,QAASJ,IAAK,QAASsL,MAAOiG,EAAKU,EAAE,gBAC9C,CAAE7R,MAAO,UAAWJ,IAAK,UAAWsL,MAAO,WAC3C,CAAElL,MAAO,MAAOJ,IAAK,MAAOsL,MAAO,OACnC,CAAElL,MAAO,aAAcJ,IAAK,aAAcsL,MAAO,cACjD,CAAElL,MAAO,YAAaJ,IAAK,YAAasL,MAAO,aAC/C,CAAElL,MAAO,aAAcJ,IAAK,aAAcsL,MAAO,eACjD,CAAElL,MAAO,QAASJ,IAAK,QAASsL,MAAO,SACvC,CAAElL,MAAO,SAAUJ,IAAK,SAAUsL,MAAO,UACzC,CAAElL,MAAO,UAAWJ,IAAK,UAAWsL,MAAO,gBAIhD4+F,EAAU9pG,OAAS,kBAAC,GAAD,CAAmBsG,KAAMwjG,EAAU9pG,QACvD,kBAAC,GAAD,CACE6oG,gBAAiBA,EACjBviG,KAAMwjG,EAAU9pG,SAMxB,SAASgqG,GAAT,GAOI,IAAD,UAc2C,EApB5C3nC,EAMC,EANDA,SACAwmC,EAKC,EALDA,gBACAhoF,EAIC,EAJDA,SACA0rB,EAGC,EAHDA,SACA6E,EAEC,EAFDA,YACAjgC,EACC,EADDA,KAcI84F,EAAe,GACgB,UAA/B5nC,EAASr4C,oBACXigF,GAAe,UAAA5nC,EAAS6nC,kCAAT,eAAqCC,SAAU,MAAQ,OAExE,IAAM/xG,EAAWiqE,EAASjqE,UAAY,CAAE6sC,kBAAmB,IACrDkkE,EAAON,EAAgBxmC,EAASr4C,mBAAqB,SACrDogF,EAAuB,WAAsB,IAArBC,EAAoB,uDAAZ,GAAIC,EAAQ,uCAChD,MAAO,CACL11F,SAAc,OAALy1F,QAAK,IAALA,OAAA,EAAAA,EAAOz1F,UAAW01F,EAAI11F,SAAW,GAC1Cy0F,MAAW,OAALgB,QAAK,IAALA,OAAA,EAAAA,EAAOhB,OAAQiB,EAAIjB,MAAQ,KAI7BhlG,IAAoB,OAARg+D,QAAQ,IAARA,OAAA,EAAAA,EAAU6nC,6BAA8B,IAApD7lG,QAER,OACE,kBAAC,KAAD,CACEuc,cAAe,CACbxV,KAAMi3D,EAASj3D,KACf6X,YAAao/C,EAASp/C,YACtB+G,kBAAmBq4C,EAASr4C,kBAC5BkgF,2BAA2B,uCACtBN,IACAvnC,EAAS6nC,4BAFY,IAGxB7lG,QAASA,EAAUtG,KAAKC,UAAUqG,EAAS,KAAM,GAAK,OAExD4lG,eACA5+F,aAAY,UAAEg3D,EAASt+C,sBAAX,aAAE,EAAyB1Y,aACvCjT,SAAU,CACRwuB,QAAQ,eAAMwjF,EAAqBhyG,EAASwuB,QAASuiF,EAAKviF,UAC1DxT,QAAQ,eAAMg3F,EAAqBhyG,EAASgb,QAAS+1F,EAAK/1F,UAC1DF,MAAM,eAAMk3F,EAAqBhyG,EAAS8a,MAAOi2F,EAAKj2F,QACtD+xB,kBAAmB,CACjBqkE,SAAS,eACJc,EAAoB,UACrBhyG,EAAS6sC,yBADY,aACrB,EAA4BqkE,SAC5BH,EAAKlkE,kBAAkBqkE,WAG3BC,OAAO,eACFa,EAAoB,UACrBhyG,EAAS6sC,yBADY,aACrB,EAA4BskE,OAC5BJ,EAAKlkE,kBAAkBskE,SAG3B74B,QAAQ,eACH05B,EAAoB,UACrBhyG,EAAS6sC,yBADY,aACrB,EAA4ByrC,QAC5By4B,EAAKlkE,kBAAkByrC,UAG3BnmD,UAAU,eACL6/E,EAAoB,UACrBhyG,EAAS6sC,yBADY,aACrB,EAA4B1a,UAC5B4+E,EAAKlkE,kBAAkB1a,cAK/BggF,kBAAmBf,GAAkBpxG,EAAU+wG,IAEjDtoF,SAzEiB,SAAAzX,GAAW,IAAD,EAC7ByX,EAiHJ,SAAyBzX,EAAQy/F,GAC/B,OAMF,SAA6Bz/F,GAC3B,IAAMohG,EAAW,GACFb,GAAevgG,EAAO4gB,mBAE9BxqB,SAAQ,SAAAymD,GAC+C,qBAAjD78C,EAAO8gG,2BAA2BjkD,KAC3CukD,EAASvkD,GAAa78C,EAAO8gG,2BAA2BjkD,OAG3B,UAA7B78C,EAAO4gB,oBACTwgF,EAASL,QAAkC,QAAxB/gG,EAAO6gG,aAC1BO,EAASC,SAAWD,EAASL,SAEE,YAA7B/gG,EAAO4gB,oBACTwgF,EAASnmG,QAAUmmG,EAASnmG,QAAUtG,KAAKkiC,MAAMuqE,EAASnmG,SAAW,IAErC+E,EAA1B6gG,aAAR,IAAyB1uE,EAAzB,YAAkCnyB,EAAlC,IAEA,OAAO,2BACFmyB,GADL,IAEE2uE,2BAA4BM,IA1BvBE,CA8BT,SAAgCthG,EAAQmiD,GACtC,IAAQg/C,EAA+BnhG,EAA/BmhG,kBAAsBhvE,EAA9B,YAAuCnyB,EAAvC,IACA,IAAKmhG,EACH,OAAO,2BACFhvE,GADL,IAEEnjC,SAAU,OAGd,IAAQA,EAAagR,EAAbhR,SACF+wG,EAAO59C,EAASniD,EAAO4gB,mBAEvB2gF,EAAgB,SAACt1F,EAAGgnD,GACxB,MAAO,CACLznD,QAASS,EAAET,UAAYynD,EAAEznD,QAAU,KAAOS,EAAET,QAC5Cy0F,KAAMh0F,EAAEg0F,OAAShtC,EAAEgtC,KAAO,KAAOh0F,EAAEg0F,OAIjCuB,EAAqB,CACzBhkF,QAAS+jF,EAAcvyG,EAASwuB,QAASuiF,EAAKviF,SAC9CxT,QAASu3F,EAAcvyG,EAASgb,QAAS+1F,EAAK/1F,SAC9CF,MAAOy3F,EAAcvyG,EAAS8a,MAAOi2F,EAAKj2F,OAC1C+xB,kBAAmB,CACjBqkE,SAAUqB,EACRvyG,EAAS6sC,kBAAkBqkE,SAC3BH,EAAKlkE,kBAAkBqkE,UAEzBC,OAAQoB,EACNvyG,EAAS6sC,kBAAkBskE,OAC3BJ,EAAKlkE,kBAAkBskE,QAEzB74B,QAASi6B,EACPvyG,EAAS6sC,kBAAkByrC,QAC3By4B,EAAKlkE,kBAAkByrC,SAEzBnmD,UAAWogF,EACTvyG,EAAS6sC,kBAAkB1a,UAC3B4+E,EAAKlkE,kBAAkB1a,aAK7B,OAAO,2BACFgR,GADL,IAEEnjC,SAAUwyG,IA1EeC,CAAuBzhG,EAAQy/F,IAjHtDiC,CAAgB,2BAET1hG,GAFQ,IAGXiC,aAAY,UAAEjC,EAAOiC,oBAAT,aAAE,EAAqBrG,KAErC6jG,OAoED,SAAA/nF,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACwnE,GAAD,CACE14F,KAAMA,EACN03F,gBAAiBA,EACjBxmC,SAAUA,IAEZ,kBAAC,GAAD,CAAiBnvD,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAUA,EACV1rB,SAAUC,EAAOZ,oBAiB/B8pF,GAAyB33F,aAAe,CACtCgwD,SAAU,CACRj3D,KAAM,GACN6X,YAAa,GACb+G,kBAAmB,IAErBonB,YAAa,MAGA9+B,4BAAW03F,IC/M1B,SAASe,GAAT,GAA4C,IAAT55F,EAAQ,EAARA,KAC3B+E,EAAU8C,cAChB,EAAkC5E,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACA,EAIIrsD,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACamW,GAAyBm4B,cADtC,uBACFniC,EADE,EACFA,KADE,kBAEHA,EAAKmX,QAAQuvB,KAAKpzC,UAFf,2CAGT,KAPKywG,EADV,EACEzrF,OACAlK,EAFF,EAEEA,MACS83F,EAHX,EAGEttF,QAQFhD,qBAAU,WACRswF,MACC,CAACA,IAEJ,IAAM9qF,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,+EAEMmW,GAAyBhL,OAAOsF,GAFtC,gBAETtE,EAFS,EAETA,KACRoR,EAAQqI,KAAR,kCAAwCzZ,EAAKE,KAH5B,gDAKjBskE,EAAa,EAAD,IALK,yDAAH,sDAalB,OAAIp2D,EAEA,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACQ,MAA1BA,EAAM/O,SAASiR,QACd,8BACGjE,EAAKU,EAAE,yCAAsC,IAC9C,kBAAC,IAAD,CAAM6E,GAAG,2BACNvF,EAAKU,EAAE,8CAWtB,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACG+0F,GACC,kBAAC,GAAD,CACEA,gBAAiBA,EACjBhoF,SAAUX,EACVqsB,SA/BS,WACnBr2B,EAAQqI,KAAK,4BA+BH6yB,YAAajO,OAS3B4nE,GAAwBE,aAAe,CACrC7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAInCvQ,4BAAWy4F,ICrE1B,SAASG,GAAT,GAQI,IAPFlrG,EAOC,EAPDA,MACAkL,EAMC,EANDA,MACA4yB,EAKC,EALDA,KACAL,EAIC,EAJDA,KACAD,EAGC,EAHDA,WACAlB,EAEC,EAFDA,SACAF,EACC,EADDA,OAEMG,EAAUH,EAAM,UAAMA,EAAN,UAAuB,KACvCI,EAAUJ,EAAM,UAAMA,EAAN,UAAuB,KAE7C,OACE,oCACE,sBACEjqB,UAAWsqB,KAAqBC,GAChCX,WAAS,EAETJ,UAASY,GAET,yBAAKvb,UAAU,oBACb,sBACEA,UAAU,yBAGT9V,GAEFoxB,GACC,kBAAC,GAAD,CAAS5oB,OAAQxI,EAAOwM,QAAS4kB,EAAUt3B,GAAIo3B,MAIrD,sBACEjqB,UAAWsqB,KAAqBE,GAChCZ,WAAS,EAETJ,UAASa,GAET,sBACEsB,KAAMA,EACN99B,MAAOA,EACP29B,UAAQ,EACRF,KAAMA,EACND,WAAYA,MAetB0tE,GAAW74F,aAAe,CACxBorB,KAAM,KACNnB,SAAU,GACVF,OAAQ,IAGK8uE,U,0iBCkTf,SAASC,GAAT,GAAmE,IAAD,gCAAlC/yG,EAAkC,EAAlCA,SAAUmzD,EAAwB,EAAxBA,SAAUjlD,EAAc,EAAdA,KAAM6K,EAAQ,EAARA,KAClD63F,EAAwB,YAAT1iG,EACf2iG,EAAa,CAAC,QAAS,YAAa,WAAWvoG,SAAS4F,GAE9D,OACE,oCACG0iG,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,sBACd7R,MAAO5H,EAASwuB,QAAQhS,SAAW22C,EAAS3kC,QAAQhS,QACpDkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,2BACd7R,MAAO5H,EAASwuB,QAAQyiF,MAAQ99C,EAAS3kC,QAAQyiF,KACjDvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,wBACd7R,MAAO5H,EAASgb,QAAQwB,SAAW22C,EAASn4C,QAAQwB,QACpDkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,6BACd7R,MAAO5H,EAASgb,QAAQi2F,MAAQ99C,EAASn4C,QAAQi2F,KACjDvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,sBACd7R,MAAO5H,EAAS8a,MAAM0B,SAAW22C,EAASr4C,MAAM0B,QAChDkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,2BACd7R,MAAO5H,EAAS8a,MAAMm2F,MAAQ99C,EAASr4C,MAAMm2F,KAC7CvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,kCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4BqkE,gBAA5B,eAAsC10F,UACtC22C,EAAStmB,kBAAkBqkE,SAAS10F,QAEtCkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,uCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4BqkE,gBAA5B,eAAsCD,OACtC99C,EAAStmB,kBAAkBqkE,SAASD,KAEtCvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,gCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4BskE,cAA5B,eAAoC30F,UACpC22C,EAAStmB,kBAAkBskE,OAAO30F,QAEpCkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,qCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4BskE,cAA5B,eAAoCF,OACpC99C,EAAStmB,kBAAkBskE,OAAOF,KAEpCvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,iCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4ByrC,eAA5B,eAAqC97D,UACrC22C,EAAStmB,kBAAkByrC,QAAQ97D,QAErCkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,sCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4ByrC,eAA5B,eAAqC24B,OACrC99C,EAAStmB,kBAAkByrC,QAAQ24B,KAErCvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZitE,GACC,kBAAC,GAAD,CACE99F,MAAOiG,EAAKU,EAAE,mCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4B1a,iBAA5B,eAAuC3V,UACvC22C,EAAStmB,kBAAkB1a,UAAU3V,QAEvCkpB,KAAK,SACLL,KAAK,IACL1B,WAAS,IAGZktE,GACC,kBAAC,GAAD,CACE/9F,MAAOiG,EAAKU,EAAE,wCACd7R,OACE,UAAA5H,EAAS6sC,yBAAT,mBAA4B1a,iBAA5B,eAAuC8+E,OACvC99C,EAAStmB,kBAAkB1a,UAAU8+E,KAEvCvrE,KAAK,SACLL,KAAK,IACL1B,WAAS,KAOJzpB,IChiBA84F,GDgiBA94F,sBA5gBf,YAA0E,IAApCnB,EAAmC,EAAnCA,KAAMkxD,EAA6B,EAA7BA,SAAUwmC,EAAmB,EAAnBA,gBAC9C3yF,EAAU8C,cAGd2K,EAKE0+C,EALF1+C,QACAU,EAIEg+C,EAJFh+C,SAC4BgnF,EAG1BhpC,EAHF6nC,2BACAnmF,EAEEs+C,EAFFt+C,eACA3rB,EACEiqE,EADFjqE,SAGF,EAAmE6kB,GACjEzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJmW,GAAyBq8B,QAAQk3B,EAASr9D,IADtC,OAEVkR,EAAQqI,KAAR,2BAFU,2CAGT,CAAC8jD,EAASr9D,GAAIkR,KAJFo1F,EAAjB,EAAQ5tF,QAAyBH,EAAjC,EAAiCA,UAOjC,EAAgCK,GAPhC,EAA4C1K,OAOpCA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aACTwtF,EAAsB1C,EAAgBxmC,EAASr4C,mBAErD,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYma,OAAO,MACjB,kBAAC,GAAD,CACEj5B,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOqiE,EAASj3D,KAChBgxB,OAAO,mBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOqiE,EAASp/C,YAChBmZ,OAAO,0BAERrY,EAAe1Y,aACd,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aAED+e,EAAe1Y,aAAaD,QAKnC,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,uBAE/B,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,0BACd7R,MACEknG,GAAmB7kC,EAASr4C,oBAC5Bq4C,EAASr4C,kBAEXoS,OAAO,mBAEuB,UAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAc7+F,SACrB4vB,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,aACd7R,MAAOqrG,EAAc7jG,KACrB40B,OAAO,mBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,uBACd7R,MAAOqrG,EAAcG,WACrBpvE,OAAO,yBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOqrG,EAAcI,OACrBrvE,OAAO,qBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,aACd7R,MAAOqrG,EAAcK,KACrBtvE,OAAO,mBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gBACd7R,MAAOqrG,EAAcloG,QACrBi5B,OAAO,sBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,sBACd7R,MACEqrG,EAAclB,QAAUh5F,EAAKU,EAAE,gBAAcV,EAAKU,EAAE,gBAEtDuqB,OAAO,6BAImB,YAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,oBACd7R,MAAOqrG,EAAcM,YACrBvvE,OAAO,0BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOqrG,EAAcO,YACrBxvE,OAAO,2BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,wBACd7R,MAAOqrG,EAAcQ,QACrBzvE,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gCACd7R,MAAOqrG,EAAcS,gBACrB1vE,OAAO,eAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MACEqrG,EAAcU,sBACV56F,EAAKU,EAAE,aACPV,EAAKU,EAAE,cAEbuqB,OAAO,2BAImB,QAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,wBACd7R,MAAOqrG,EAAcK,KACrBtvE,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACd7R,MAAOqrG,EAAcW,OACrB5vE,OAAO,yBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAcY,SACrB7vE,OAAO,2BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,sCACd7R,MAAOqrG,EAAca,QACrB9vE,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,uBACd7R,MAAOqrG,EAAclB,QAAUh5F,EAAKU,EAAE,aAAWV,EAAKU,EAAE,cACxDuqB,OAAO,uBAImB,eAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,mBACd7R,MAAOqrG,EAAcc,eACrB/vE,OAAO,6BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAce,oBACrBhwE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gBACd7R,MAAOqrG,EAAcgB,mBACrBjwE,OAAO,iCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAciB,oBACrBlwE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MACEqrG,EAAckB,yBACVp7F,EAAKU,EAAE,aACPV,EAAKU,EAAE,cAEbuqB,OAAO,2BAImB,cAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOqrG,EAAcmB,UACrBpwE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,oCACd7R,MAAOqrG,EAAcoB,YACrBrwE,OAAO,oCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,0BACd7R,MAAOqrG,EAAcqB,YACrBtwE,OAAO,qCAImB,eAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,mBACd7R,MAAOqrG,EAAcsB,eACrBvwE,OAAO,6BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAcuB,oBACrBxwE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAcwB,oBACrBzwE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MACEqrG,EAAcyB,yBACV37F,EAAKU,EAAE,aACPV,EAAKU,EAAE,cAEbuqB,OAAO,2BAImB,UAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,6BACd7R,MAAOqrG,EAAc0B,SACrB3wE,OAAO,6BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACd7R,MAAOqrG,EAAc2B,UACrB5wE,OAAO,2BAImB,WAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOqrG,EAAc4B,YACrB7wE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,kCACd7R,MAAOqrG,EAAc6B,WACrB9wE,OAAO,yCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,oBACd7R,MAAOqrG,EAAc8B,YACrB/wE,OAAO,kCAImB,YAA/BimC,EAASr4C,mBACR,oCACE,kBAAC,GAAD,CACE9e,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOqrG,EAAc7+F,SACrB4vB,OAAO,+BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,mBACd7R,MAAOqrG,EAAcl2F,IACrBinB,OAAO,0BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MACEqrG,EAAc+B,yBACVj8F,EAAKU,EAAE,aACPV,EAAKU,EAAE,cAEbuqB,OAAO,0BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,oBACd7R,MAAOqrG,EAAcgC,YACrBjxE,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOjC,KAAKC,UAAUqtG,EAAchnG,SACpCy5B,KAAK,OACLL,KAAK,IACLrB,OAAO,+BAIb,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAI,OAAE/Y,QAAF,IAAEA,OAAF,EAAEA,EAAgBgC,aAExB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAI,OAAE/Y,QAAF,IAAEA,OAAF,EAAEA,EAAgBiC,cAEvBwjF,GAAkBpxG,EAAUmzG,IAC3B,kBAACJ,GAAD,CACE/yG,SAAUA,EACVmzD,SAAUggD,EACVjlG,KAAM+7D,EAASr4C,kBACf7Y,KAAMA,KAIZ,kBAAC,GAAD,KACG4S,EAAeb,mBACda,EAAeb,kBAAkB6nB,MAC/B,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXrzB,GAAE,kCAA6B2rD,EAASr9D,GAAtC,SACF2O,aAAYxC,EAAKU,EAAE,cAElBV,EAAKU,EAAE,cAGbkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMi3D,EAASj3D,KACfo+B,WAAYr4B,EAAKU,EAAE,4BACnB4gC,UAAW64D,EACX/yF,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,uCACR,kBAAC,GAAD,CAAaqB,MAAOA,SEpX9B,SAASo6F,GAAT,GAAkE,IAA9BjrC,EAA6B,EAA7BA,SAAUwmC,EAAmB,EAAnBA,gBACtChgD,EAAU,kCAA8BwZ,EAASr9D,GAAvC,YACVkR,EAAU8C,cAChB,EAAkC5E,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KAEMppD,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEXmW,GAAyB0jC,OAAO6vB,EAASr9D,GAAIoE,GAFlC,OAGjB8M,EAAQqI,KAAKsqC,GAHI,+CAKjBygB,EAAa,EAAD,IALK,wDAAH,sDAalB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEjH,SAAUA,EACVwmC,gBAAiBA,EACjBhoF,SAAUX,EACVqsB,SAVe,WACnBr2B,EAAQqI,KAAKsqC,IAUTzX,YAAajO,KAUrBmqE,GAAyBrC,aAAe,CACtC7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAInCyqF,IC7CAA,GD6CAA,GEyEAh7F,6BAlGf,YAAwD,IAAxB6hC,EAAuB,EAAvBA,cAAehjC,EAAQ,EAARA,KACjCo8F,EAAeh7D,cAAnBvtC,GACF6jC,EAAQmC,cACR50B,EAAW6C,cACjB,EAKIgE,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACsBoO,QAAQmU,IAAI,CAC1CpM,GAAyBslC,WAAWm5D,GACpCz+F,GAAyBm4B,gBAHjB,0CACHpyB,EADG,KACK1P,EADL,KAKVgvC,EAAct/B,EAAO/P,MALX,kBAMH,CACLu9D,SAAUxtD,EAAO/P,KACjB+jG,gBAAiB1jG,EAAQL,KAAKmX,QAAQuvB,KAAKpzC,WARnC,2CAUT,CAACm1G,EAAYp5D,IAChB,CAAEkuB,SAAU,KAAMwmC,gBAAiB,OAjBrC,IACEzrF,OAAUilD,EADZ,EACYA,SAAUwmC,EADtB,EACsBA,gBACpBtrF,EAFF,EAEEA,UACArK,EAHF,EAGEA,MACSs6F,EAJX,EAIE9vF,QAoBF,GAJAhD,qBAAU,WACR8yF,MACC,CAACA,EAAep3F,EAASC,YAEvBkH,GAAarK,EAChB,OACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACQ,MAA1BA,EAAM/O,SAASiR,QACd,8BACGjE,EAAKU,EAAE,yCAAsC,IAC9C,kBAAC,IAAD,CAAM6E,GAAG,2BACNvF,EAAKU,EAAE,8CAUxB,IAAMg1C,GAAkBzwC,EAASC,SAAS86B,SAAS,QAC7Cs8D,EAAO,CACX,CACEriG,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,+BAGZ6zB,KAAK,0BACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YACJnQ,GAAI,IAGR,OACE,kBAACgY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAW+5D,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEl5D,KAAK,8BACL79B,GAAG,sCACH0R,OAAK,IAEN7K,GAAa,kBAAC,GAAD,MACb8kD,GACC,oCACE,kBAAC,IAAD,CAAOtsD,KAAK,oCACV,kBAAC,GAAD,CACEssD,SAAUA,EACVwmC,gBAAiBA,KAGrB,kBAAC,IAAD,CAAO9yF,KAAK,uCACV,kBAAC,GAAD,CACEssD,SAAUA,EACVwmC,gBAAiBA,YCxDpBv2F,6BA5Cf,YAA0C,IAATnB,EAAQ,EAARA,KACzB03B,EAAQmC,cACd,EAAgD52B,mBAAS,CACvD,0BAA2BjD,EAAKU,EAAE,+BAClC,8BAA+BV,EAAKU,EAAE,2CAFxC,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKM+3D,EAAyBlzF,uBAC7B,SAAAoqE,GAAiB,IAAD,EACN5/E,EAAO4/E,EAAP5/E,GACR2wC,GAAmB,GACjB,0BAA2BxkC,EAAKU,EAAE,+BAClC,8BAA+BV,EAAKU,EAClC,0CAHe,iDAKW7M,GAAO4/E,EAAax5E,MAL/B,iDAMWpG,EANX,SAMuBmM,EAAKU,EAAE,sBAN9B,iDAOW7M,EAPX,YAO0BmM,EAAKU,EAAE,iBAPjC,MAUrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,wBACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAI,UAAK8yB,EAAM1zB,IAAX,SACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOY,KAAI,UAAK8yB,EAAM1zB,IAAX,SACT,kBAAC,GAAD,CAAsBg/B,cAAeu5D,KAEvC,kBAAC,IAAD,CAAO33F,KAAI,UAAK8yB,EAAM1zB,MACpB,kBAAC,GAAD,YCuBK7C,6BAzDf,YAOI,IANFjH,EAMC,EANDA,aACAu/B,EAKC,EALDA,WACA5yB,EAIC,EAJDA,SACAo5D,EAGC,EAHDA,SACAvmC,EAEC,EAFDA,UACA15B,EACC,EADDA,KAEM80B,EAAO,uBAAmB56B,EAAarG,IAC7C,OACE,kBAACmzB,GAAA,EAAD,CAAInzB,GAAE,kBAAaqG,EAAarG,KAC9B,kBAACohC,GAAA,EAAD,CACE26B,OAAQ,CACNqQ,WACAxmC,aACA5yB,WACA21F,SAAS,GAEXtnE,UAAWl1B,EAAKU,EAAE,6BAEpB,kBAACu0B,GAAA,EAAD,CAAIphC,GAAIihC,EAASI,UAAWl1B,EAAKU,EAAE,sBACjC,kBAAC,IAAD,CAAM6E,GAAE,UAAKm0B,IACX,2BAAIx/B,EAAaD,QAGrB,kBAACg7B,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,iBACnBxG,EAAa0Y,eAAe6pF,qBAAqBC,OAEpD,kBAACznE,GAAA,EAAD,CAAIC,UAAWl1B,EAAKU,EAAE,sBACnBxG,EAAa0Y,eAAe6pF,qBAAqBE,OAEpD,kBAACv2E,GAAD,CAAW8O,UAAWl1B,EAAKU,EAAE,iBAC3B,kBAACymB,GAAD,CACEE,QAASntB,EAAa0Y,eAAeb,kBAAkB6nB,KACvDxS,QAASpnB,EAAKU,EAAE,kCAEhB,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,yBAAoBrL,EAAarG,GAAjC,UAEF,kBAAC,KAAD,aChCNgiC,GAAYxoC,EAAY,eAAgB,CAC5CG,KAAM,EACNC,UAAW,GACXC,SAAU,SAwLGyT,6BArLf,YAAsC,IAATnB,EAAQ,EAARA,KACrBiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAAgC52B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEMi+D,EAAM,UAAMx/D,EAAM1zB,IAAZ,QAEZ,EAWI8H,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEuBvX,QAAQmU,IAAI,CAC3ClM,GAAiBnJ,KAAKzG,GACtB4P,GAAiBi4B,gBAJT,0CAEH8mE,EAFG,KAEGC,EAFH,uBAMH,CACLl+D,cAAei+D,EAAKjpG,KAAKsB,QACzB6nG,kBAAmBF,EAAKjpG,KAAKoiB,MAC7BjL,QAAS+xF,EAAWlpG,KAAKmX,QACzB2O,wBACY,OAAVojF,QAAU,IAAVA,GAAA,UAAAA,EAAYlpG,YAAZ,eAAkBqiC,wBAAyB,IAC3C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MAAK,UAAAmtG,EAAWlpG,KAAKmX,eAAhB,eAAyBmrB,MAAO,IAAIrmC,QAC9D,SAAAnB,GAAG,uBAAIouG,EAAWlpG,KAAKmX,eAApB,aAAI,EAAyBmrB,IAAIxnC,GAAKynC,gBAdnC,2CAiBT,CAACjxB,IACJ,CACE05B,cAAe,GACfm+D,kBAAmB,EACnBhyF,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACE0yB,EAFJ,EAEIA,cACAm+D,EAHJ,EAGIA,kBACAhyF,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACWg7F,EATb,EASE3wF,UACSwyB,EAVX,EAUEryB,QA6BFhD,qBAAU,WACRq1B,MACC,CAACA,IAEJ,IAAM7d,EACJiY,EAASpqC,SAAW+vC,EAAc/vC,QAAUoqC,EAASpqC,OAAS,EAChE,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYgK,GAAiBm8B,QAAQnmC,SAEnD,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY4xB,IAbHqM,EADb,EACE7+B,UACa4wF,EAFf,EAEE9vF,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAcI2vF,EAAe,uCAAG,sBAAAz1G,EAAA,sEAChBw1G,IADgB,OAEtB/jE,EAAY,IAFU,2CAAH,qDAKfpU,EAAoBomB,GAAmB8xD,EACvC3iE,EAAStvB,GAAWA,EAAQuvB,KAE5Byc,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOkF,GAAiB,KAWhD,OACE,oCACE,kBAAC9yB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBA,EACnBl6B,MAAOg0C,EACPje,UAAWo8E,EACX33E,mBAAoBnlB,EAAKU,EAAE,sBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9BqL,UACE,kBAAC+B,GAAD,CAAW/Z,SAAU+oB,IACnB,kBAAC3O,GAAD,CAAY7H,QAAQ,QAAQrf,EAAKU,EAAE,sBACnC,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,iBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,sBACpB,kBAACwmB,GAAD,KAAalnB,EAAKU,EAAE,kBAGxBwiB,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CAAC,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAQy+D,KACrC,IAHY,CAIhB,kBAAC,GAAD,CACEzoG,IAAI,SACJspC,SAAUklE,EACVnlE,cAAekB,EACf7T,mBAAmB,wBAK3BJ,UAAW,SAACs0B,EAAGroD,GAAJ,OACT,kBAAC,GAAD,CACEvC,IAAK4qD,EAAExlD,GACPqG,aAAcm/C,EACd4mB,SAAUjvE,EACV0oC,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBq1C,EAAExlD,IAC7B4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBA3EHsyB,EA2EsBkgB,OA1ErCrgB,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAJX,IAAAA,MA8EXlW,mBACEmX,EAAS,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAQy+D,IAAa,SAKlE,kBAAC,GAAD,CACEp3F,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,oDACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,wDCtL5B,SAAS6vF,GAAT,GAA8E,IAA5Cl9F,EAA2C,EAA3CA,KAAM20D,EAAqC,EAArCA,eAAgBgN,EAAqB,EAArBA,kBAC9CxxD,EAAkB2hB,eAAlB3hB,cACR,EAAoBkd,aAAS,qBAAtB6kD,EAAP,oBACA,EAAuC7yE,KAAvC,IAAQ89F,oBAAR,MAAuB,GAAvB,MAA2BnzF,UAA3B,MAAgC,GAAhC,EAEA,EAIIqjB,aAAS,sBAJb,mBACE+vE,EADF,KAEEC,EAFF,KAGEC,EAHF,KAMMnrB,EAAc,CAClBp4E,MAAOiG,EAAKU,EAAE,wCACd7R,MAAO,6BACPJ,IAAK,WAECwjF,EAAuB3yE,qBAAWP,IAAlCkzE,mBAEFjB,EAAyB3nE,uBAC7B,SAAAxa,GACEshB,EAAc,qBAAsBthB,KAEtC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,WACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,kBACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEgB,UAAnB,OAAZy8F,QAAY,IAAZA,OAAA,EAAAA,EAAcI,eACb,kBAAC,GAAD,CACE1pG,GAAG,gBACHoG,KAAK,YACL9E,KAAK,SACL4E,MAAOiG,EAAKU,EAAE,kBACd0mB,QAASpnB,EAAKU,EACZ,+KAIF0sB,SAAUqN,GAAY,EAAGvvC,OAAOsyG,iBAAkBx9F,GAClDgK,GAAIA,EACJ5C,YAAa4C,EAAGsI,eAInB2/D,GAAsBA,EAAmBrjF,OAAS,GACjD,kBAAC8+B,GAAA,EAAD,CACEC,QAAQ,wBACR5zB,MAAOiG,EAAKU,EAAE,6BAEd,kBAAC,GAAD,eACE7M,GAAG,wBACHF,KAAI,CACFw+E,GADE,mBAECF,EACAriF,QAAO,SAAAf,GAAK,OAAIA,IAAUsjF,EAAYtjF,SACtCT,KAAI,SAAAS,GAAK,MAAK,CAAEA,QAAOkL,MAAOlL,EAAOJ,IAAKI,SAE3CqjF,KAIV,kBAAC,GAAD,CACErjF,MAAO8lE,EACP94C,SAAU8lD,EACVv6C,QAASpnB,EAAKU,EACZ,sEAGJ,kBAAC,GAAD,CACEg1D,wBAAwB,mBACxB37D,MAAOiG,EAAKU,EAAE,2BACdktB,kBAAmByvE,EAAsBt7F,MACzCyrB,SAAU6vE,EAAsB5vE,UAAY4vE,EAAsBt7F,MAClEg8B,OAAQ,kBAAMu/D,EAAyBv9D,cACvClkB,SAAUm1D,EACVniF,MAAOuuG,EAAuBvuG,MAC9BouC,UAAQ,KAMhB,SAASwgE,GAAT,GAMI,IALFvjG,EAKC,EALDA,aACAkhC,EAIC,EAJDA,SACA1rB,EAGC,EAHDA,SACAuwB,EAEC,EAFDA,YACG7V,EACF,kBACD,EAAwCnnB,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkDtyC,oBAAS,GAA3D,mBAAO4hB,EAAP,KAA0B2wB,EAA1B,KACA,EAA0DvyC,mBAAS,IAAnE,mBAAOy6F,EAAP,KAA8BC,EAA9B,KACA,EAA4C16F,mBAAS,IAArD,mBAAO0xD,EAAP,KAAuBgN,EAAvB,KAEMztB,EAAe,WACnB9Y,KA0CF,OAvBA7xB,qBAAU,WACR,sBAAC,kCAAA/hB,EAAA,yDACSqM,EAAOqG,EAAPrG,GADT,uBAGG2hD,GAAqB,GAHxB,iCAMCD,EAAgB,MAChBC,GAAqB,GAPtB,kBAWa33C,GAAiB6iE,mBAAmB7sE,GAXjD,oBAUKF,KAAQsB,QAEV0oG,EAFU1oG,OAVb,MAUuB,GAVvB,GAaG0sE,EAAkB1sE,GAbrB,kDAeGsgD,EAAgB,EAAD,IAflB,yBAiBGC,GAAqB,GAjBxB,4EAAD,KAoBC,CAACt7C,IAEA0qB,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAG1BC,EACK,kBAAC,GAAD,MAIP,kBAAC,KAAD,CACEpV,cAAe,CACbxV,KAAMC,EAAaD,KACnB6X,YAAa5X,EAAa4X,YAC1BiB,kBAAmB7Y,EAAa6Y,mBAAqB,GACrDC,UAAW9Y,EAAa8Y,WAAa,IACrC4qF,mBAAoB1jG,EAAa0jG,oBAAsB,IAEzDluF,SAxDiB,SAAAzX,GACnB,MAA2BmpE,GACzBs8B,EACA/oC,GAFM2M,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAIT8X,EAAW/X,EAAMlzE,KAAI,qBAAGyF,MACxBylF,EAAa/X,EAAQnzE,KAAI,qBAAGyF,MAEJ,kBAArBoE,EAAO+a,WACO,cAArB/a,EAAO+a,YAEP/a,EAAO+a,UAAY,GAErBtD,EAASzX,EAAQohF,EAAUC,MA6CxB,SAAA3pE,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACgsE,GAAD,eACEvoC,eAAgBA,EAChBgN,kBAAmBA,GACfv3C,IAEN,kBAAC,GAAD,CAAiBroB,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,oBAgB/B0uF,GAAiBv8F,aAAe,CAC9BhH,aAAc,CACZD,KAAM,GACN6X,YAAa,GACbkB,UAAW,IACXD,kBAAmB,IAErBktB,YAAa,MAGfw9D,GAAiB3D,aAAe,CAC9B7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAInCvQ,4BAAWs8F,IC/N1B,SAASI,KACP,IAAM94F,EAAU8C,cAChB,EAAkC5E,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KAEMppD,EAAY,uCAAG,WAAO9W,EAAQkiE,GAAf,iBAAA3yE,EAAA,+EAEgBqW,GAAiBlL,OAAOsF,GAFxC,uBAEHjF,EAFG,EAETW,KAFS,SAGXiC,QAAQmU,IACZowD,EACG/rE,KAAI,SAAAyF,GAAE,OAAIgK,GAAiBqkE,uBAAuBlvE,EAASa,GAAIA,MAC/DlC,OACCsG,EAAO2lG,mBAAmBxvG,KAAI,gBAAOssD,EAAP,EAAG7mD,GAAH,OAC5BgK,GAAiBigG,0BAA0B9qG,EAASa,GAAI6mD,QAR/C,OAYjB31C,EAAQqI,KAAR,yBAA+Bpa,EAASa,KAZvB,kDAcjBskE,EAAa,EAAD,IAdK,0DAAH,wDAsBlB,OACE,kBAACtsD,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE+M,SAAUX,EACVqsB,SAVW,WACnBr2B,EAAQqI,KAAK,mBAUL6yB,YAAajO,OAQzB6rE,GAAgB/D,aAAe,CAC7B7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAInCmsF,UC0HA18F,6BA3Jf,YAAqD,IAAvBnB,EAAsB,EAAtBA,KAAM9F,EAAgB,EAAhBA,aAEtBrG,EACRgmC,cADF5rC,OAAU4F,GAGVoG,EAQEC,EARFD,KACA6X,EAOE5X,EAPF4X,YACAiB,EAME7Y,EANF6Y,kBACAC,EAKE9Y,EALF8Y,UACAR,EAIEtY,EAJFsY,QACAU,EAGEhZ,EAHFgZ,SACAN,EAEE1Y,EAFF0Y,eACAgrF,EACE1jG,EADF0jG,mBAEF,EAAwC36F,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkDtyC,oBAAS,GAA3D,mBAAO4hB,EAAP,KAA0B2wB,EAA1B,KACA,EAA4CvyC,mBAAS,IAArD,mBAAO0xD,EAAP,KAAuBgN,EAAvB,KACM58D,EAAU8C,cAChB,EAA8BxI,KAAtB89F,oBAAR,MAAuB,GAAvB,EAEA5zF,qBAAU,WACR,sBAAC,8BAAA/hB,EAAA,6DACC+tD,EAAgB,MAChBC,GAAqB,GAFtB,kBAMa33C,GAAiB6iE,mBAAmB7sE,GANjD,oBAKKF,KAAQsB,QAEV0sE,OAPH,MAKuB,GALvB,qDASGpsB,EAAgB,EAAD,IATlB,yBAWGC,GAAqB,GAXxB,4EAAD,KAcC,CAAC3hD,IAEJ,MAIIiY,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJqW,GAAiBm8B,QAAQnmC,GADrB,OAEVkR,EAAQqI,KAAR,kBAFU,2CAGT,CAACvZ,EAAIkR,KAPCg5F,EADX,EACExxF,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OAAIiY,EACK,kBAAC,GAAD,MAGLD,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7qB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,EACPgxB,OAAO,6BAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACL,UAAnB,OAAZqrF,QAAY,IAAZA,OAAA,EAAAA,EAAcI,eACb,kBAAC,GAAD,CAAQxjG,MAAOiG,EAAKU,EAAE,kBAAe7R,MAAK,UAAKmkB,KAEjD,kBAAC,GAAD,CACEjZ,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOkkB,IAET,kBAAC,GAAD,CACEhZ,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAegC,aAEvB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM/Y,EAAeiC,cAEtB8/C,GAAkBA,EAAe/lE,OAAS,GACzC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,wBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYg5B,EAAe/lE,QAChD+lE,EAAevmE,KAAI,SAAA6zD,GAAE,OACpB,kBAAC3lB,GAAA,EAAD,CAAM7tC,IAAKwzD,EAAGpuD,GAAIqoC,YAAU,GACzB+lB,EAAGhoD,YAOf2jG,GAAsBA,EAAmBhvG,OAAS,GACjD,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,2BACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYiiE,EAAmBhvG,QACpDgvG,EAAmBxvG,KAAI,SAAAqmB,GAAU,OAChC,kBAAC,GAAD,CACEA,WAAYA,EACZhmB,IAAKgmB,EAAW5gB,GAChBqoC,YAAU,WAQxB,kBAAC,GAAD,KACGtpB,EAAeb,kBAAkB6nB,MAChC,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,yBAAoB1R,EAApB,UAEDmM,EAAKU,EAAE,cAGXkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,4BACnB4gC,UAAWy8D,EACX32F,WAAYgF,GAEXpM,EAAKU,EAAE,uBAKfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,uCACR,kBAAC,GAAD,CAAaqB,MAAOA,SClK9B,SAASi8F,GAAT,GAA6C,IAAjB9jG,EAAgB,EAAhBA,aACpBw9C,EAAU,yBAAqBx9C,EAAarG,GAAlC,YACVkR,EAAU8C,cAChB,EAAkC5E,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KAEMppD,EAAY,uCAAG,WACnB9W,EACAkiE,EACAgf,GAHmB,uBAAA3xF,EAAA,wEASb45E,GACFlnE,EAAa0jG,mBACb3lG,EAAO2lG,oBAJAK,EAPQ,EAOf38B,MACS48B,EARM,EAQf38B,QAMI48B,EAAqBF,EAAiB7vG,KAAI,qBAAGyF,MAC7CuqG,EAAuBF,EAAmB9vG,KAAI,qBAAGyF,MAftC,SAiBXgK,GAAiBwjC,OAAOnnC,EAAarG,GAAIoE,GAjB9B,uBAkBXrC,QAAQmU,IACZowD,EACG/rE,KAAI,SAAAyF,GAAE,OACLgK,GAAiBqkE,uBAAuBhoE,EAAarG,GAAIA,MAE1DlC,OACCwsG,EAAmB/vG,KAAI,SAAAyF,GAAE,OACvBgK,GAAiBigG,0BAA0B5jG,EAAarG,GAAIA,QAzBnD,wBA6BX+B,QAAQmU,IACZovE,EACG/qF,KAAI,SAAAyF,GAAE,OACLgK,GAAiBukE,0BAA0BloE,EAAarG,GAAIA,MAE7DlC,OACCysG,EAAqBhwG,KAAI,SAAAyF,GAAE,OACzBgK,GAAiBwgG,6BAA6BnkG,EAAarG,GAAIA,QApCtD,QAwCjBkR,EAAQqI,KAAKsqC,GAxCI,kDA0CjBygB,EAAa,EAAD,IA1CK,0DAAH,0DAkDlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEj+D,aAAcA,EACdwV,SAAUX,EACVqsB,SATe,WACnBr2B,EAAQqI,KAAKsqC,IASTzX,YAAajO,KAUrBgsE,GAAiBlE,aAAe,CAC9B7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAInCssF,UCrBA78F,6BA/Cf,YAA8D,IAA1BnB,EAAyB,EAAzBA,KAAMogE,EAAmB,EAAnBA,KAAM1mC,EAAa,EAAbA,UACxC5E,EAAO,uBAAmBsrC,EAAKvsE,IAErC,OACE,kBAACojC,GAAA,EAAD,CAAcx0B,kBAAiBqyB,EAASjhC,GAAE,UAAKusE,EAAKvsE,KAClD,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,WAChB,8BACE,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,EAAL,aACN,uBAAGl3B,aAAYxC,EAAKU,EAAE,mBAAgB0/D,EAAKnmE,YAMrD,kBAACo/B,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHsrC,EAAKxtD,eAAeb,kBAAkB6nB,MACrC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,kBAAe4F,SAAS,OAC/C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,kBACnBijB,IAAI,iBACJniB,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,UAAKm0B,EAAL,UAEF,kBAAC,KAAD,cCpCV7D,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,EACXC,SAAU,SAyFGyT,6BAtFf,YAA6C,IAAbtN,EAAY,EAAZA,GAAImM,EAAQ,EAARA,KAC5BiF,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDlM,GAAiBgpC,UAAUhzC,EAAI5F,GAC/B4P,GAAiBipC,iBAAiBjzC,KAJ1B,0CAEHb,EAFG,KAEO+iC,EAFP,uBAMH,CACL4mE,MAAO3pG,EAASW,KAAKsB,QACrB8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACriC,EAAIoR,IACR,CACE03F,MAAO,GACP5mF,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAU0wF,EADZ,EACYA,MAAO5mF,EADnB,EACmBA,MAAO0D,EAD1B,EAC0BA,sBAAuBD,EADjD,EACiDA,eAC/CzX,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACSkyF,EAJX,EAIE/xF,QA+BF,OAJAhD,qBAAU,WACR+0F,MACC,CAACA,IAGF,kBAAC,GAAD,CACE15E,aAAc7iB,EACd8iB,kBAAmBzY,EACnBzhB,MAAOgyG,EACPj8E,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,8BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,+BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACExlC,IAAKwlC,EAAKpgC,GACVhF,MAAOolC,EAAKh6B,KACZmmE,KAAMnsC,EACNyF,UAAS,iBAAYzF,EAAKpgC,YCyIrBsN,4BAAWuE,aA3M1B,YAAoD,IAA5B1F,EAA2B,EAA3BA,KAAMgjC,EAAqB,EAArBA,cAAeh5B,EAAM,EAANA,GACrC/E,EAAW6C,cACLuuD,EAAmBj1B,cAAvBvtC,GACF6jC,EAAQmC,cACR0kE,EAAgBh2F,kBAAO,GAE7B,EAKIuD,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEAC+BoO,QAAQmU,IAAI,CACnDlM,GAAiBolC,WAAWozB,GAC5Bx4D,GAAiB2gG,sBAAsBnoC,KAH/B,0CACD1iE,EADC,KACDA,KAAQ8qG,EADP,KAKV9qG,EAAKiqG,mBAAqBa,EAAe9qG,KAAKsB,QAC9C+tC,EAAcrvC,GANJ,kBAQH,CACLuG,aAAcvG,IATN,2CAWT,CAACqvC,EAAeqzB,IACnB,CACEn8D,aAAc,OAlBNA,EADZ,EACE+R,OAAU/R,aACCwkG,EAFb,EAEEtyF,UACOuyF,EAHT,EAGE58F,MACS68F,EAJX,EAIEryF,QAmBF,EAKIT,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,sEAC0CoO,QAAQmU,IAAI,CAC9DlM,GAAiBnJ,KAAK,CACpBjH,UAAW,EACXonE,WAAY,4BAEdh3D,GAAiBnJ,KAAK,CACpBb,GAAIwiE,EACJxB,WAAY,iBAEdh3D,GAAiBnJ,KAAK,CACpBb,GAAIwiE,EACJxB,WAAY,iBAZN,0CACHqhB,EADG,KACY2oB,EADZ,KACwBC,EADxB,uBAgBH,CACL3oB,aAAcD,EAAcviF,KAAKsB,QAAQrG,OAAS,EAClDmwG,mBAAoBF,EAAWlrG,KAAKsB,QAAQrG,OAAS,EACrDowG,iBAAkBF,EAASnrG,KAAKsB,QAAQrG,OAAS,IAnBzC,2CAqBT,CAACynE,IACJ,CACE8f,cAAc,EACd4oB,oBAAoB,EACpBC,kBAAkB,IA/BtB,IACE/yF,OAAUkqE,EADZ,EACYA,aAAc4oB,EAD1B,EAC0BA,mBAAoBC,EAD9C,EAC8CA,iBACjCC,EAFb,EAEE7yF,UACO8yF,EAHT,EAGEn9F,MACSo9F,EAJX,EAIE5yF,QA8BFhD,qBAAU,WACRq1F,IACAO,MACC,CAACP,EAAkBO,IAEtB51F,qBAAU,WACJg1F,EAAc90F,QAChB80F,EAAc90F,SAAU,EAItBxE,EAASC,WAAT,yBAAwCmxD,EAAxC,aACFuoC,MAED,CAACA,EAAkBvoC,EAAgBpxD,EAASC,WAE/C,IAAMk6F,EACJp1F,EAAGuI,mBAAqB4jE,GAAgB4oB,EACpCvrB,EACJ2C,IACCnsE,EAAGuI,mBAAqBwsF,GAAsBC,GAE3Cz8D,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,+BAGZ6zB,KAAK,iBACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WAAyBnQ,GAAI,GAC5D,CAAEoG,KAAM+F,EAAKU,EAAE,qBAAQ6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UAAwBnQ,GAAI,IAGrDurG,GACF78D,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,kBACJnQ,GAAI,IAIR,IAAI6hD,GAAiB,EAMrB,OAJIzwC,EAASC,SAAS86B,SAAS,UAC7B0V,GAAiB,IAGdgpD,GAAuBC,EAExB,kBAAC9yF,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO48F,GACoB,MAAtCA,EAAkB3rG,SAASiR,QAC1B,8BACGjE,EAAKU,EAAE,gCAA6B,IACrC,kBAAC,IAAD,CAAM6E,GAAG,kBACNvF,EAAKU,EAAE,sCAUnBu+F,GAAgBC,EAEjB,kBAACrzF,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOm9F,MAO3B,kBAACrzF,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,qBACL79B,GAAG,6BACH0R,OAAK,IAEN/c,GACC,kBAAC,IAAD,CAAO0K,KAAK,2BACV,kBAAC,GAAD,CAAkB1K,aAAcA,KAGnCA,GACC,kBAAC,IAAD,CAAO0K,KAAK,8BACV,kBAAC,GAAD,CAAoB1K,aAAcA,KAGrCA,GACC,kBAAC,IAAD,CAAO0K,KAAK,6BACV,kBAAC,GAAD,CACEuuB,SAAUj5B,EACVmwC,SAAUxsC,MAIhB,kBAAC,IAAD,CAAO+G,KAAK,4BACV,kBAAC,GAAD,CAAmB/Q,GAAI3I,OAAOwsC,EAAMzpC,OAAO4F,OAE5CurG,GACC,kBAAC,IAAD,CAAOx6F,KAAK,oCACV,kBAAC,GAAD,CACE/Q,GAAI3I,OAAOwsC,EAAMzpC,OAAO4F,IACxB2/E,uBAAwBA,EACxBnpC,SAAUxsC,GACVm2E,qBAAmB,KAIzB,kBAAC,IAAD,CAAOvlF,IAAI,YAAYmW,KAAK,MACxB85F,IAAwBO,GACxB,kBAAC,GAAD,CAAc7zF,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CAAM0R,GAAE,yBAAoBmyB,EAAMzpC,OAAO4F,GAAjC,aACLmM,EAAKU,EAAE,qCA1CpB,WCzGOS,4BAAWuE,aAxD1B,YAAkC,IAAT1F,EAAQ,EAARA,KACjB03B,EAAQmC,cACd,EAAgD52B,mBAAS,CACvD,iBAAkBjD,EAAKU,EAAE,sBACzB,qBAAsBV,EAAKU,EAAE,kCAF/B,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMxB,EAAgB35B,uBACpB,SAAAnP,GAAiB,IAAD,EACd,GAAKA,EAAL,CAIA,IAAMmlG,GAAU,GACd,iBAAkBr/F,EAAKU,EAAE,sBACzB,qBAAsBV,EAAKU,EAAE,iCAFf,wCAGKxG,EAAarG,IAHlB,UAG4BqG,EAAaD,OAHzC,wCAIKC,EAAarG,GAJlB,SAI8BmM,EAAKU,EAAE,sBAJrC,wCAKKxG,EAAarG,GALlB,YAKiCmM,EAAKU,EAAE,iBALxC,wCAMKxG,EAAarG,GANlB,WAMgCmM,EAAKU,EAAE,gBANvC,wCAOKxG,EAAarG,GAPlB,UAO+BmM,EAAKU,EAAE,sBAPtC,wCAQKxG,EAAarG,GARlB,kBAQuCmM,EAAKU,EACxD,uBATY,GAYhB8jC,EAAoB66D,MAEtB,CAACr/F,IAGH,OACE,kBAAC,WAAD,KACE,kBAAC,GAAD,CACE8jC,WAAW,eACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CAAcg5B,cAAeA,EAAeh5B,GAAIA,GAAM,SAI5D,kBAAC,IAAD,CAAOpF,KAAI,UAAK8yB,EAAM9yB,OACpB,kBAAC,GAAD,aCvDH,IAUD06F,G,kDACJ,WAAY59F,GAAQ,IAAD,8BACjB,cAAMA,IASR69F,gBAAkB,SAAAvkF,GAChB,MAAsC,EAAKtZ,MAAnC89F,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,YAClB,EAAKC,QACPn0G,OAAO2G,aAAa,EAAKwtG,OACzB,EAAKz5C,SAAS,CAAE05C,QAAQ,KAzBG,SAAC3kF,EAAO9a,GACvC,IAAM0/F,EAAY5kF,EAAM6kF,cAAcC,cAChCC,EAAKt0G,SAASu0G,cAAc,SAClCD,EAAGlxG,MAAQqR,EACX0/F,EAAU3Q,YAAY8Q,GACtBA,EAAGnwC,SACHnkE,SAASw0G,YAAY,QACrBL,EAAUM,YAAYH,GAoBpBI,CAAkBnlF,EAAOwkF,GACzB,EAAKv5C,SAAS,CAAE05C,QAAQ,IAAQ,WAC9B,EAAKD,MAAQn0G,OAAO4G,YAAW,WAC7B,EAAK8zD,SAAS,CAAE05C,QAAQ,IACxB,EAAKD,MAAQ,OACZD,OAlBL,EAAKniE,MAAQ,CACXqiE,QAAQ,GAGV,EAAKJ,gBAAkB,EAAKA,gBAAgB5qG,KAArB,gBAPN,E,0CAyBnB,WACE,MAMIlB,KAAKiO,MALP0+F,EADF,EACEA,QACAC,EAFF,EAEEA,WACAC,EAHF,EAGEA,UACAC,EAJF,EAIEA,iBACAn5F,EALF,EAKEA,WAEMu4F,EAAWlsG,KAAK6pC,MAAhBqiE,OAER,OACE,kBAAC,KAAD,CACEU,WAAYA,EACZC,UAAWA,EACXloD,QAAQ,yBACR7xC,QAASo5F,EAASY,EAAmBH,GAErC,kBAACr1F,EAAA,EAAD,CACE3D,WAAYA,EACZ5F,QAAQ,QACR6F,QAAS5T,KAAK8rG,gBACd/8F,aAAY49F,GAEZ,kBAAC,KAAD,Y,GAjDwBphG,IAAMyG,WAkExC65F,GAAoBp+F,aAAe,CACjCm/F,WAAY,IACZC,UAAW,KACXb,YAAa,KAGAH,UCjCAn+F,6BAxCf,YAAiD,IAApBnB,EAAmB,EAAnBA,KAAMwxE,EAAa,EAAbA,UAC3B95C,EAAQmC,cAEd,EAAkD/tB,GAChDzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJuW,GAAYjD,KAAK02E,GADb,2CAET,CAACA,IACJ,MAJegvB,EAAjB,EAAQj0F,QAOR,EAAgCE,GAPhC,EAA6B1K,OAOrBA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aACT6zF,EAAgB/oE,EAAM1zB,IAAIg8B,SAAS,YACzC,OACE,oCACE,kBAACj1B,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,iCACnBc,QAASi/F,EAAgB,YAAc,QACvCp5F,QAASm5F,GAER9oE,EAAM1zB,IAAIg8B,SAAS,YAAchgC,EAAKU,EAAE,qBAAS,kBAAC,KAAD,OAEnDqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,gCACR,kBAAC,GAAD,CAAaqB,MAAOA,SCfxBs3B,GAAiBh4B,YAAOi4B,MAAV,qFAAGj4B,CAAH,yFAOdgT,GAAQhT,IAAO65D,KAAV,4EAAG75D,CAAH,kDA6JIF,6BAzJf,YAOI,IAgB6BpU,EAtB/BymB,EAMC,EANDA,QACAimB,EAKC,EALDA,WACA5yB,EAIC,EAJDA,SACA6yB,EAGC,EAHDA,UACA15B,EAEC,EAFDA,KACAk1D,EACC,EADDA,cAEA,EAAoCjyD,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KAQMuqD,EAAcr3F,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACxBuW,GAAYu4C,KAAK9iC,EAAQ3f,GAAI,CACjCoG,KAAK,GAAD,OAAKuZ,EAAQvZ,KAAb,cAAuBiuB,QAFC,uBAIxBgtC,IAJwB,2CAK7B,CAAC1hD,EAAQ3f,GAAI2f,EAAQvZ,KAAMi7D,IAqBxB3e,EAAkBltC,uBAAY,WAClC8sC,GAAc,KACb,IAEGK,EAAmBntC,uBAAY,WACnC8sC,GAAc,KACb,IAEGrhB,EAAO,uBAAmBthB,EAAQ3f,IACxC,OACE,kBAACojC,GAAA,EAAD,CACExoC,IAAK+kB,EAAQ3f,GACb4O,kBAAiBqyB,EACjBjhC,GAAE,UAAK2f,EAAQ3f,KAEf,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,yBAAoB2f,EAAQ3f,IAC9BirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,SAASq4D,UAAU,GAClCtzC,EAAQZ,eAAe8B,UACtB,kBAAC,KAAD,CACEpO,SAAS,MACTC,SA/CexZ,EAgDbymB,EAAQZ,eAAe8B,SA9CrC,kBAAC,WAAD,KACE,6BAAM1U,EAAKU,EAAE,0BACb,6BACGV,EAAKU,EAAE,gBADV,IACwB3T,EAAI8G,IAE5B,6BACGmM,EAAKU,EAAE,gBADV,IACwB3T,EAAIkX,OAAOF,eAElChX,EAAI2oB,UACH,6BACG1V,EAAKU,EAAE,kBADV,IAC0B8mB,GAAiBz6B,EAAI2oB,aAsCvCjnB,IAAK+kB,EAAQZ,eAAe8B,SAAS7gB,IAErC,kBAAC,IAAD,CACE0R,GAAE,wBAAmBiO,EAAQZ,eAAe8B,SAAS7gB,KAErD,kBAAC,GAAD,CACEoQ,OAAQuP,EAAQZ,eAAe8B,SAASzQ,YAMlD,kBAAC,GAAD,CAAcxV,IAAI,QAChB,kBAAC,IAAD,CAAMoF,GAAIihC,EAASvvB,GAAE,UAAKm0B,IACxB,2BAAIlmB,EAAQvZ,QAGhB,kBAAC,GAAD,CAAcxL,IAAI,QACM,KAArB+kB,EAAQuB,SACL/U,EAAKU,EAAE,eACPghC,GAAYluB,EAAQuB,WAE1B,kBAAC,GAAD,CAActmB,IAAI,YACf+kB,EAAQwC,aAAa2qF,UAAU,EAAG,IACjCntF,EAAQwC,cACR,kBAAC,GAAD,CAAOxT,aAAYxC,EAAKU,EAAE,oCACvBV,EAAKU,EAAE,2BAGZ,kBAAC,GAAD,CACE0G,YAAaoM,EAAQwC,aACrBwpF,aAAchsF,EAAQwC,aACtBoqF,QAASpgG,EAAKU,EAAE,yCAChB6/F,iBAAkBvgG,EAAKU,EAAE,gDAKjC,kBAAC,GAAD,CACE8B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHthB,EAAQZ,eAAeb,kBAAkBg1C,OACxC,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAAC,GAAD,CAAmBkrE,UAAWh+D,EAAQ3f,MAGzC2f,EAAQZ,eAAeb,kBAAkB6nB,KACxC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CACE3D,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,oBAAeiO,EAAQ3f,GAAvB,UAEF,kBAAC,KAAD,QAIJ,GAED2f,EAAQZ,eAAeb,kBAAkBukC,MACxC,kBAAC,GAAD,CACER,SAAU4qD,EACVt5F,WAAYA,EACZ2uC,YAAaQ,EACbP,aAAcQ,EACdhoC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,iCAChBkxB,aAAc5xB,EAAKU,EAAE,yCCnK/Bm1B,GAAYxoC,EAAY,UAAW,CACvCG,KAAM,EACNC,UAAW,GACXC,SAAU,SA0MGyT,6BAvMf,YAAgC,IAATnB,EAAQ,EAARA,KACfiF,EAAW6C,cACX4vB,EAAQmC,cACd,EAAgC52B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEA,EAWIntB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDhM,GAAYrJ,KAAKzG,GACjB8P,GAAY+3B,gBAJJ,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL9gC,QAASjC,EAASW,KAAKsB,QACvByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,IACJ,CACEhQ,QAAS,GACTyrB,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACEhX,EAFJ,EAEIA,QACAyrB,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACS8oD,EAVX,EAUE3oD,QA6BFhD,qBAAU,WACR2rD,MACC,CAACA,IAEJ,IAAMnB,ECvEO,SAAuB6sC,GACpC,MAAgC39F,mBAAS29F,GAAzC,mBAAO7sC,EAAP,KAAiB8sC,EAAjB,KACMj5C,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBAmCZ,OAhCAzS,qBAAU,WACRs3F,EAAYD,KACX,CAACA,IAEJr3F,qBAAU,WACR,IAAI,OAACq+C,QAAD,IAACA,OAAD,EAACA,EAAaoC,iBAAuC,mBAArBpC,EAAYzyD,KAAhD,CAGA,IAAMnE,EAAQ+iE,EAASt2B,WAAU,SAAAyH,GAAC,OAAIA,EAAErxC,KAAO+zD,EAAYvV,cAC3D,IAAe,IAAXrhD,EAAJ,CAIA,IAAMwiB,EAAUugD,EAAS/iE,GACnB8vG,EAAc,2BACfttF,GADe,IAElBZ,eAAe,2BACVY,EAAQZ,gBADC,IAEZ8B,SAAU,CACR7gB,GAAI+zD,EAAYoC,eAChB/lD,OAAQ2jD,EAAY3jD,OACpByR,SAAUkyC,EAAYlyC,cAI5BmrF,EAAY,GAAD,mBACN9sC,EAAS3oE,MAAM,EAAG4F,IADZ,CAET8vG,GAFS,YAGN/sC,EAAS3oE,MAAM4F,EAAQ,UAE3B,CAAC42D,IAEGmM,EDgCUgtC,CAAc9rG,GAEzB8rB,EACJiY,EAASpqC,SAAWmlE,EAASnlE,QAAUoqC,EAASpqC,OAAS,EAC3D,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAYkK,GAAYi8B,QAAQnmC,SAC/D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYkoD,IAXHjqB,EADb,EACE7+B,UACa40F,EAFf,EAEE9zF,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYI2zF,EAAmB,uCAAG,sBAAAz5G,EAAA,sEACpBw5G,IADoB,OAE1B/nE,EAAY,IAFc,2CAAH,qDAKnBpU,EAAoBomB,GAAmB7+B,EACvCguB,EAAStvB,GAAWA,EAAQuvB,KAE5Byc,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOs6B,GAAY,KAGrC76B,EAAe,SAAAC,GACfH,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAIhC,OACE,kBAAC,WAAD,KACE,kBAACttB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBA,EACnBl6B,MAAOopE,EACPrzC,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,iBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eACLuF,QAAS,CACP,CAAC,GAAIgM,EAAKU,EAAE,gBACZ,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,UAAWV,EAAKU,EAAE,wBACnB,CAAC,WAAYV,EAAKU,EAAE,4BAGxB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9Bmd,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTy0B,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,IARY,CAShB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUkpE,EACVnpE,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,yBAKnC62B,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE6b,cAAeA,EACfzmE,IAAK4qD,EAAExlD,GACP2f,QAAS6lC,EACT3f,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBq1C,EAAExlD,IAC7B4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBAAMqyB,EAAamgB,OAGjCp2B,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,UAChC,SAKZ,kBAAC,GAAD,CACElE,OAAQuN,EACR7L,QAAQ,QACRgB,aAAYxC,EAAKU,EAAE,uBACnBa,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,+CACR,kBAAC,GAAD,CAAaqB,MAAOsL,SE9Mf6zF,GAAe//F,sBAAW,gBAAGnB,EAAH,EAAGA,KAAMonB,EAAT,EAASA,QAAT,OACrC,kBAAC,GAAD,CACEvzB,GAAG,kBACHge,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,2BACdzG,KAAK,UACLmtB,QAASA,EACTmJ,gBAAgB,QAChBp7B,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,QAIhBmhG,GAAkBhgG,sBAAW,gBAAGnB,EAAH,EAAGA,KAAMjG,EAAT,EAASA,MAAT,OACxC,kBAAC,GAAD,CACElG,GAAG,qBACHoG,KAAK,aACL9E,KAAK,OACL4E,MAAOA,EACPqtB,QAASpnB,EAAKU,EAAE,4MAOP0gG,GAAyBjgG,sBACpC,YAAkD,IAA/CnB,EAA8C,EAA9CA,KAAMyU,EAAwC,EAAxCA,WAAY4sF,EAA4B,EAA5BA,sBACXlxF,EAAkB2hB,eAAlB3hB,cAEFytD,EAAqBv0D,uBACzB,SAAAxa,GACEwyG,EAAsB,MAAOxyG,GAC7BshB,EAAc,aAActhB,EAAQA,EAAMgF,GAAK,MAEjD,CAACwtG,EAAuBlxF,IAG1B,OACE,kBAAC,GAAD,CACEqlD,iBAAkB/gD,EAAW6sF,OAC7BvnG,MAAOiG,EAAKU,EAAE,kCACd7R,MAAO4lB,EAAW5lB,MAClBgtB,SAAU+hD,OAML2jC,GAAiBpgG,sBAC5B,gBAAGnB,EAAH,EAAGA,KAAMwhG,EAAT,EAASA,kBAAmBC,EAA5B,EAA4BA,kBAA5B,OACE,kBAACtwE,GAAD,KACE,kBAACzD,GAAA,EAAD,CAAWC,QAAQ,4BAA4B5zB,MAAOiG,EAAKU,EAAE,iBAC3D,kBAAC0wB,GAAD,KACE,kBAAC,GAAD,CACEv9B,GAAG,mBACHoG,KAAK,YACLF,MAAOiG,EAAKU,EAAE,cACd0mB,QAASpnB,EAAKU,EACZ,wEAGJ,kBAAC,GAAD,CACE7M,GAAG,8BACHoG,KAAK,uBACLF,MAAOiG,EAAKU,EAAE,qBACd0mB,QAASpnB,EAAKU,EACZ,gNAMJ,kBAAC,GAAD,CACE7M,GAAG,8BACHoG,KAAK,uBACLF,MAAOiG,EAAKU,EAAE,kCACd0mB,QAASpnB,EAAKU,EACZ,kHAIF+gG,GACA,kBAAC,GAAD,CACE5tG,GAAG,wBACHoG,KAAK,iBACLF,MAAOiG,EAAKU,EAAE,8BACd0mB,QAASpnB,EAAKU,EACZ,2GAQT8gG,GACC,oCACE,kBAACp/F,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,wBAEV,kBAAC,GAAD,CACE7M,GAAG,wBACHoG,KAAK,2BACL9E,KAAK,SACLyU,IAAI,IACJ7P,MAAOiG,EAAKU,EAAE,sBACd0mB,QAASpnB,EAAKU,EAAE,yRCjCbS,yBA3EI,SAAC,GAAD,IACjBnB,EADiB,EACjBA,KACAyU,EAFiB,EAEjBA,WACA4sF,EAHiB,EAGjBA,sBACAG,EAJiB,EAIjBA,kBAJiB,OAMjB,oCACE,kBAACN,GAAD,CACElhG,KAAMA,EACNonB,QACE,8BACGpnB,EAAKU,EAAE,qDACR,0BACE,sEACA,kEACA,yEAEDV,EAAKU,EAAE,4SASd,kBAACygG,GAAD,CACEnhG,KAAMA,EACNjG,MAAOiG,EAAKU,EAAE,2CAEhB,kBAAC,GAAD,CACE7M,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,+BACdzG,KAAK,cACL9E,KAAK,OACLo7B,gBAAgB,QAChBnJ,QACE,8BACGpnB,EAAKU,EAAE,wJAGR,6BACA,6BACCV,EAAKU,EAAE,8DACR,6BACA,6BACCV,EAAKU,EAAE,0BACR,0BACE,4DACA,mFAEDV,EAAKU,EAAE,uJAGR,6BACA,6BACCV,EAAKU,EAAE,2CAAwC,IAChD,uBACEwG,OAAO,SACP88D,IAAI,sBACJ78D,KAAK,oHAEJnH,EAAKU,EAAE,yCAKhB,kBAAC0gG,GAAD,CACE3sF,WAAYA,EACZ4sF,sBAAuBA,IAEzB,kBAACE,GAAD,CAAgBC,kBAAmBA,Q,kOAxBpB,CAAEzzC,OAAQ,qBCZd5sD,yBAvCS,SAAC,GAMlB,IALLnB,EAKI,EALJA,KACAyU,EAII,EAJJA,WACA4sF,EAGI,EAHJA,sBACAG,EAEI,EAFJA,kBACAzwB,EACI,EADJA,uBAEQ5gE,EAAkB2hB,eAAlB3hB,cACR,EAAkCkd,aAAS,CACzCpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAS0hG,EAAT,KAAmBC,EAAnB,KAKM/jC,EAAqBv0D,uBACzB,SAAAxa,GACEwyG,EAAsB,WAAYxyG,GAClCshB,EAAc,aAActhB,EAAMgF,MAEpC,CAACwtG,EAAuBlxF,IAG1B,OACE,oCACE,kBAAC,GAAD,CACEqlD,iBAAkB/gD,EAAW6sF,OAC7BvnG,MAAOiG,EAAKU,EAAE,4BACdktB,kBAAmB8zE,EAAS3/F,MAC5ByrB,SAAUk0E,EAASj0E,UAAYi0E,EAAS3/F,MACxCg8B,OAAQ,kBAAM4jE,EAAY5hE,cAC1BlkB,SAAU+hD,EACV/uE,MAAO4lB,EAAW5lB,MAClBupB,UAAQ,EACRqmB,aAAcsyC,IAEhB,kBAACwwB,GAAD,CAAgBE,mBAAiB,EAACD,kBAAmBA,QCiE5CrgG,yBA1FO,SAAC,GAKhB,IAJLnB,EAII,EAJJA,KACA4hG,EAGI,EAHJA,UACAtjD,EAEI,EAFJA,iBACAujD,EACI,EADJA,oBAEMC,EAAU,YAAO,IAAIrwG,IAAJ,sBAAYowG,GAAZ,CAAiCD,MAClD5tG,EAAO,CACX,CACEnF,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,sCAJL,mBAMRohG,EACAlyG,QAAO,SAAAgV,GAAI,OAAIA,KACfxW,KAAI,SAAAwW,GAAI,MAAK,CACZ/V,MAAO+V,EACPnW,IAAKmW,EACL7K,MAAO6K,QAGb,EAA2CyoB,aAAS,CAClDpzB,KAAM,aACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAO+hG,EAAP,KAAkBC,EAAlB,KAA4BC,EAA5B,KAKA,OACE,oCACsB,IAAnBjuG,EAAQpF,QACP,sBACE2S,MAAOvB,EAAKU,EAAE,iBAEdc,QAAQ,UACR4wB,UAAQ,GAEPpyB,EAAKU,EAAE,yYAC2C49C,mBAIvCtwC,UtXzDG,UsX6DnB,kBAAC,GAAD,CACEna,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,0BACdzG,KAAK,WACL9E,KAAK,OACL+mC,YAAU,EACV9U,QACE,8BACGpnB,EAAKU,EAAE,6OAIR,6BACA,6BACCV,EAAKU,EAAE,uFACJsN,UtX5ES,YsXgFnB,kBAAC0f,GAAA,EAAD,CACEC,QAAQ,qBACRC,kBAAmBo0E,EAASjgG,MAC5B8P,YAAU,EACVgc,UAAYm0E,EAASv0E,SAAYu0E,EAASjgG,MAAoB,QAAZ,UAClDhI,MAAOiG,EAAKU,EAAE,2BACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,iLAMpB,kBAAC,GAAD,iBACMqhG,EADN,CAEEluG,GAAG,aACHF,KAAMK,EACN6nB,SAAU,SAACb,EAAOnsB,GAChBozG,EAAYz1F,SAAS3d,Y,8HC3DlBsS,yBA7BI,SAAC,GAAD,IACjBnB,EADiB,EACjBA,KACAyU,EAFiB,EAEjBA,WACA4sF,EAHiB,EAGjBA,sBACAG,EAJiB,EAIjBA,kBAJiB,OAMjB,oCACE,kBAACN,GAAD,CACElhG,KAAMA,EACNonB,QACE,8BACGpnB,EAAKU,EAAE,4DACR,0BACE,kEACA,iEACA,yEAKR,kBAACygG,GAAD,CAAiBnhG,KAAMA,EAAMjG,MAAOiG,EAAKU,EAAE,qBAC3C,kBAAC0gG,GAAD,CACE3sF,WAAYA,EACZ4sF,sBAAuBA,IAEzB,kBAACE,GAAD,CAAgBC,kBAAmBA,Q,kGAbpB,CAAEzzC,OAAQ,qBCcd5sD,yBA3BQ,SAAC,GAAD,IACrBnB,EADqB,EACrBA,KACAyU,EAFqB,EAErBA,WACA4sF,EAHqB,EAGrBA,sBACAG,EAJqB,EAIrBA,kBAJqB,OAMrB,oCACE,kBAACN,GAAD,CACElhG,KAAMA,EACNonB,QACE,8BACGpnB,EAAKU,EAAE,gEACR,0BACE,yFACA,0FAKR,kBAAC0gG,GAAD,CACE3sF,WAAYA,EACZ4sF,sBAAuBA,IAEzB,kBAACE,GAAD,CAAgBC,kBAAmBA,Q,qGAXpB,CAAEzzC,OAAQ,qB,oCCOvBlgB,GAAgB,uCAAG,WAAMp5B,GAAN,2BAAAjtB,EAAA,sEAYboO,QAAQmU,IAAI,CACpBlN,GAAmBnI,KAAK,CAAEU,KAAM,QAChCyH,GAAmBnI,KAAK,CAAEuF,KAAM,eAdX,yDAGnBtG,KACEsB,QAJiB,GAIPitG,EAJO,wBAQnBvuG,KACEsB,QATiB,GASPktG,EATO,KAiBlB1tF,EAjBkB,0CAkBd,CACLo+D,IAAK,CAAEyuB,OAAQY,EAAkBruG,IACjCuuG,SAAU,CAAEd,OAAQa,EAAuBtuG,MApBxB,eAwBfm6C,EAAuBv5B,EAAvBu5B,mBAxBe,kBAyBhB,CACL6kC,IAAK,CACHyuB,OAAQY,EAAkBruG,GAC1BhF,MAAOm/C,IAAuBk0D,EAAkBruG,GAAK4gB,EAAa,MAEpE2tF,SAAU,CACRd,OAAQa,EAAuBtuG,GAC/BhF,MACEm/C,IAAuBm0D,EAAuBtuG,GAAK4gB,EAAa,QAjC/C,4CAAH,sDAsCtB,SAAS4tF,GAAT,GAWI,IAVF7uF,EAUC,EAVDA,QACA8qC,EASC,EATDA,iBACAujD,EAQC,EARDA,oBACAlyF,EAOC,EAPDA,OACA3P,EAMC,EANDA,KACAsiG,EAKC,EALDA,eACAzsF,EAIC,EAJDA,YACA0sF,EAGC,EAHDA,eACAC,EAEC,EAFDA,mBACAC,EACC,EADDA,gBAEMC,EAAgB,CACpB1tF,QAAS,GACTC,WAAY,GACZC,YAAa,GACbT,WAAY,GACZU,WAAW,EACXC,sBAAsB,EACtBC,sBAAsB,EACtBE,gBAAgB,EAChBD,yBAA0B,GAGpBnF,EAAkB2hB,eAAlB3hB,cAER,EAAoDkd,aAAS,CAC3DpzB,KAAM,WACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,mCAAgCV,KAF5D,mBAAO2iG,EAAP,KAAqBC,EAArB,KAAkCC,EAAlC,KAIA,EAAoBx1E,aAAS,qBAAtB6kD,EAAP,oBACA,EAAmE7kD,aAAS,CAC1EpzB,KAAM,eACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAOq/B,EAAP,KAA0BC,EAA1B,KAA4CC,EAA5C,KAsBMujE,EAAqB,SAACj0G,EAAOi/C,GAC7BA,EAAK71C,OAAO8c,WAAa+4B,EAAKr+B,cAAcsF,UAjBzB,SAAA+4B,GACvB,IAAMi1D,EAAoB,eAAQL,GAElCjzG,OAAOC,KAAKqzG,GAAsB10G,SAAQ,SAAA0L,GACxCgpG,EAAqBhpG,GAAS+zC,EAAK71C,OAAO8B,MAG5CyoG,EAAmBO,GAWjBC,CAAiBrzF,GAGnBlgB,OAAOC,KAAKgzG,GAAer0G,SAAQ,SAAA0L,GAC7BlL,IAAUi/C,EAAKr+B,cAAcsF,SAC/B+4B,EAAK39B,cAAcpW,EAAO0oG,EAAgB1oG,IAE1C+zC,EAAK39B,cAAcpW,EAAO2oG,EAAc3oG,IAE1C+zC,EAAKgG,gBAAgB/5C,GAAO,OAI1BkpG,EAA4B55F,uBAChC,SAAClU,EAAMtG,GACLyzG,EAAe,2BACVzsF,GADS,mBAEX1gB,EAFW,YAAC,eAGR0gB,EAAY1gB,IAHL,IAIVtG,eAIN,CAACgnB,EAAaysF,IAGVxiE,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,eACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB0R,EAAiBv9B,MACpCyrB,SAAU8R,EAAiB7R,UAAY6R,EAAiBv9B,MACxDg8B,OAAQ,kBAAMwB,EAAoBQ,cAClClkB,SAAUikB,EACVjxC,MAAOwwC,EAAkBxwC,MACzBupB,UAAQ,EACRqmB,eAAc,OAACjrB,QAAD,IAACA,OAAD,EAACA,EAAS3f,MAE1B,kBAAC65B,GAAA,EAAD,CACEC,QAAQ,mBACRC,kBAAmBg1E,EAAY7gG,MAC/B8P,YAAU,EACVgc,UACG+0E,EAAYn1E,SAAYm1E,EAAY7gG,MAAoB,QAAZ,UAE/ChI,MAAOiG,EAAKU,EAAE,wCAEd,kBAAC,GAAD,iBACMiiG,EADN,CAEE9uG,GAAG,WACHF,KAAI,CACF,CACE9E,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,qCACd0G,YAAY,IALZ,mBAOCm7F,EAAen0G,KAAI,YAAqB,IAAD,mBAAlBS,EAAkB,KAAXkL,EAAW,KAIxC,MAHc,WAAVA,IACFlL,EAAQ,UAEH,CACLkL,QACAlL,QACAJ,IAAKI,QAIXgtB,SAAU,SAACb,EAAOnsB,GAChBg0G,EAAer2F,SAAS3d,GACxBi0G,EAAmBj0G,EAAO8gB,QAIJ,KAA3BA,EAAO1X,OAAO8c,UACb,kBAACsc,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,sBAEV,kBAACwwB,GAAD,KAEI,CACEgyE,OACE,kBAAC,GAAD,CACEtB,UAAWjyF,EAAOF,cAAc2uC,WAChCE,iBAAkBA,EAClBujD,oBAAqBA,IAGzBsB,IACE,kBAAC,GAAD,CACE1uF,WAAYoB,EAAYg9D,IACxBwuB,sBAAuB4B,EACvBzB,kBAAmB7xF,EAAO1X,OAAOod,uBAGrC+tF,IACE,kBAAC,GAAD,CACE3uF,WAAYoB,EAAYg9D,IACxBwuB,sBAAuB4B,EACvBzB,kBAAmB7xF,EAAO1X,OAAOod,uBAGrCguF,QACE,kBAAC,GAAD,CACE5uF,WAAYoB,EAAYg9D,IACxBwuB,sBAAuB4B,EACvBzB,kBAAmB7xF,EAAO1X,OAAOod,uBAGrC+sF,SACE,kBAAC,GAAD,CACE3tF,WAAYoB,EAAYusF,SACxBf,sBAAuB4B,EACvBzB,kBAAmB7xF,EAAO1X,OAAOod,qBACjC07D,yBACE,OAACv9D,QAAD,IAACA,OAAD,EAACA,EAAS3f,KAA4B,cAAf,OAAP2f,QAAO,IAAPA,OAAA,EAAAA,EAASuB,aAI/BpF,EAAO1X,OAAO8c,YAKxB,kBAAC,GAAD,MACG,gBAAGk9D,EAAH,EAAGA,mBAAH,OACCA,GACAA,EAAmBrjF,OAAS,GAC1B,kBAAC8+B,GAAA,EAAD,CACEC,QAAQ,4BACR5zB,MAAOiG,EAAKU,EAAE,4BACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,2DAKpB,kBAAC,GAAD,eACE7M,GAAG,4BACHF,KAAI,CACF,CACEoG,MAAOiG,EAAKU,EAAE,wCACd7R,MAAO,6BACPJ,IAAK,YAJL,mBAMCwjF,EACAriF,QAAO,SAAA0zG,GAAK,MAAc,+BAAVA,KAChBl1G,KAAI,SAAAk1G,GAAK,MAAK,CACbvpG,MAAOupG,EACPz0G,MAAOy0G,EACP70G,IAAK60G,SAGPpxB,SAUpB,SAASqxB,GAAT,GAAgE,IAAzCvjG,EAAwC,EAAxCA,KAAMwT,EAAkC,EAAlCA,QAASysB,EAAyB,EAAzBA,YAAgBv+B,EAAS,kBACrDwyC,EAA+BxyC,EAA/BwyC,aAAcnlC,EAAiBrN,EAAjBqN,aACtB,EAAgCyE,EAAxBZ,sBAAR,MAAyB,GAAzB,EACA,EAAwC3P,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkCtyC,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,EAA8CpJ,mBAAS,CACrD+R,QAAS,GACTC,WAAY,GACZC,YAAa,GACbT,WAAY,GACZU,WAAW,EACXC,sBAAsB,EACtBC,sBAAsB,EACtBE,gBAAgB,EAChBD,yBAA0B,IAT5B,mBAAOmtF,EAAP,KAAwBD,EAAxB,KAWA,EAA4Cv/F,mBAAS,MAArD,mBAAOs/F,EAAP,KAAuBiB,EAAvB,KACA,EAAsCvgG,mBAAS,CAC7C4vE,IAAK,CAAEyuB,OAAQ,KAAMzyG,MAAO,MAC5BuzG,SAAU,CAAEd,OAAQ,KAAMzyG,MAAO,QAFnC,mBAAOgnB,EAAP,KAAoBysF,EAApB,KA+BA,OA1BA/4F,qBAAU,WAAM,4CACd,gCAAA/hB,EAAA,sEAEUi8G,EAAqB51D,GAAiBj7B,EAAe6B,YAF/D,SAWc1W,GAAY+3B,cAX1B,uBAOwBvd,EAPxB,EAIM5kB,KACEmX,QACEmrB,IACElhB,SAAYwD,QAPxB,KAaI+pF,EAbJ,SAayBmB,EAbzB,kCAcID,EAAkBjrF,GAdtB,kDAgBIg9B,EAAgB,EAAD,IAhBnB,yBAkBIlpC,GAAa,GAlBjB,8EADc,uBAAC,WAAD,wBAuBdopC,KACC,CAAC7iC,EAAe6B,aAEfrI,EACK,kBAAC,GAAD,MAGLwY,EACK,kBAAC,GAAD,CAAc7iB,MAAO6iB,IAI5B,kBAAC,GAAD,MACG,kBAAG05B,EAAH,EAAGA,iBAAkBujD,EAArB,EAAqBA,oBAArB,OACC,kBAAC,KAAD,CACEpyF,cAAe,CACb8F,eAAgB/B,EAAQ+B,iBAAkB,EAC1CmuF,SAAUplD,GAAoB,GAC9B7pC,WAAYjB,EAAQiB,YAAc,GAClC1B,kBAAmBS,EAAQT,mBAAqB,GAChDjB,YAAa0B,EAAQ1B,aAAe,GACpCssC,WAAY5qC,EAAQ4qC,YAAc,GAClCnkD,KAAMuZ,EAAQvZ,MAAQ,GACtBC,cAAc,UAAAsZ,EAAQZ,sBAAR,eAAwB1Y,eAAgB,KACtD+a,WAAYzB,EAAQyB,YAAc,GAClCE,UAAW3B,EAAQ2B,YAAa,EAChCC,qBAAsB5B,EAAQ4B,uBAAwB,EACtDF,YAAa1B,EAAQ0B,aAAe,GACpCH,SACuB,KAArBvB,EAAQuB,SACJ,cACqBic,IAArBxd,EAAQuB,SACR,GACAvB,EAAQuB,SACdO,yBAA0B9B,EAAQ8B,0BAA4B,EAC9DD,qBAAsB7B,EAAQ6B,uBAAwB,EACtDL,QAASxB,EAAQwB,SAAW,IAE9BtF,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACmxE,GAAD,CACE7uF,QAASA,EACT8qC,iBAAkBA,EAClBujD,oBAAqBA,EACrBlyF,OAAQA,EACR3P,KAAMA,EACNsiG,eAAgBA,EAChBzsF,YAAaA,EACb0sF,eAAgBA,EAChBC,mBAAoBA,EACpBC,gBAAiBA,IAEnB,kBAAC,GAAD,CAAiB1gG,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,uBAkBnCw0F,GAAYriG,aAAe,CACzBsS,QAAS,GACTysB,YAAa,MAGA9+B,4BAAWoiG,IC1XXI,OAhDf,WACE,MAA8C1gG,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,4DACK,WAApByQ,EAAO8c,WACT9c,EAAO8c,SAAW,IAEf9c,EAAOwc,mBAKHxc,EAAOwc,WAEhB+5D,EAAmB,MAXA,kBAePzwE,GAAYpL,OAAZ,2BACLsF,GADK,IAERiC,aAAcjC,EAAOiC,aAAarG,MAjBnB,gBAcPA,EAdO,EAcfF,KAAQE,GAKVkR,EAAQqI,KAAR,oBAA0BvZ,EAA1B,aAnBiB,kDAqBjB26E,EAAmB,EAAD,IArBD,0DAAH,sDA6BlB,OACE,kBAAC3iE,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEuxC,aATW,WACnBnvC,EAAQqI,KAAR,cASQ2B,aAAcA,EACdkxB,YAAasuC,QCmJVptE,6BA3Kf,YAA2C,IAAD,MAAjBqS,EAAiB,EAAjBA,QAASxT,EAAQ,EAARA,KAE9BuV,EAiBE/B,EAjBF+B,eACA/C,EAgBEgB,EAhBFhB,QACAO,EAeES,EAfFT,kBACAjB,EAcE0B,EAdF1B,YACAje,EAaE2f,EAbF3f,GACAuqD,EAYE5qC,EAZF4qC,WACAlrC,EAWEM,EAXFN,SACAjZ,EAUEuZ,EAVFvZ,KACAgb,EASEzB,EATFyB,WACAE,EAQE3B,EARF2B,UACAC,EAOE5B,EAPF4B,qBACAF,EAME1B,EANF0B,YACAH,EAKEvB,EALFuB,SACAM,EAIE7B,EAJF6B,qBACAC,EAGE9B,EAHF8B,yBACAN,EAEExB,EAFFwB,QACApC,EACEY,EADFZ,eAEI7N,EAAU8C,cAEhB,EAAkEiE,GAChEzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJuW,GAAYi8B,QAAQnmC,GADhB,OAEVkR,EAAQqI,KAAR,aAFU,2CAGT,CAACvZ,EAAIkR,KAJO6+F,EAAjB,EAAQr3F,QAAwBH,EAAhC,EAAgCA,UAOhC,EAAgCK,GAPhC,EAA2C1K,OAOnCA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEXyxC,EAAc,GAuBlB,OArBElpC,GACAC,GACAC,GACAE,KAEA8oC,EACE,kBAAC/R,GAAA,EAAD,KACGn3B,GAAa,kBAACo3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,eAC/B0U,GACC,kBAACm3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,0BAEnB2U,GACC,kBAACk3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,mCAEnB6U,GACC,kBAACg3B,GAAA,EAAD,KAAWvsC,EAAKU,EAAE,iCAOxB,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYsyB,OAAO,MACjB,kBAAC,GAAD,CACEj5B,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,EACPgxB,OAAO,wBAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACpCc,EAAe1Y,cACd,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aAED+e,EAAe1Y,aAAaD,QAKrC,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,4BACd7R,MACe,KAAbkmB,EAAkB/U,EAAKU,EAAE,eAAaghC,GAAYluB,EAAQuB,YAG9D,kBAAC,GAAD,CAAQhb,MAAOiG,EAAKU,EAAE,2BAAwB7R,MAAOmmB,IACrD,kBAAC,GAAD,CAAQjb,MAAOiG,EAAKU,EAAE,8BAA2B7R,MAAOomB,IACxD,kBAAC,GAAD,CAAQlb,MAAOiG,EAAKU,EAAE,+BAA4B7R,MAAOqmB,IACxDtC,EAAe6B,YACd,kBAAC,GAAD,CACE1a,MAAOiG,EAAKU,EAAE,kCACd7R,MACE,kBAAC,GAAD,CACEJ,IAAKmkB,EAAe6B,WAAW5gB,GAC/B4gB,WAAY7B,EAAe6B,WAC3BynB,YAAU,MAKjBmiB,GACC,kBAAC,GAAD,CAAQtkD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOwvD,IAE5C,kBAAC,GAAD,CACEtkD,MAAOiG,EAAKU,EAAE,sBACd7R,MAAK,UAAKymB,EAAL,YAAiCtV,EAAKU,EAAE,mBAE/C,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,4BACd7R,MAAOkkB,IAET,kBAAC,GAAD,MACG,gBAAGurC,EAAH,EAAGA,iBAAH,OACC,kBAAC,GAAD,CACEvkD,MAAOiG,EAAKU,EAAE,0BACd7R,MAAOyvD,OAIb,kBAAC,GAAD,CAAQvkD,MAAOiG,EAAKU,EAAE,2BAAwB7R,MAAOuvD,IACrD,kBAAC,GAAD,CACErkD,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAegC,aAEvB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM/Y,EAAeiC,eAGzB,kBAAC,GAAD,MACG,UAAAjC,EAAeb,yBAAf,eAAkC6nB,OACjC,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,oBAAe1R,EAAf,UAEDmM,EAAKU,EAAE,eAGX,UAAAkS,EAAeb,yBAAf,eAAkCg1C,QACjC,kBAAC,GAAD,CAAmByqB,UAAWh+D,EAAQ3f,MAEvC,UAAA+e,EAAeb,yBAAf,eAAkCje,SACjC,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,uBACnB4gC,UAAWsiE,EACXx8F,WAAYgF,GAEXpM,EAAKU,EAAE,uBAKbqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,kCACR,kBAAC,GAAD,CAAaqB,MAAOA,SClIf8hG,OA9Cf,YAAmC,IAAZrwF,EAAW,EAAXA,QACrB,EAA8CvQ,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,iBAAAzQ,EAAA,4DACK,WAApByQ,EAAO8c,WACT9c,EAAO8c,SAAW,IAEf9c,EAAOwc,mBAKHxc,EAAOwc,WATG,kBAcP1W,GAAYsjC,OAAO7tB,EAAQ3f,GAA3B,2BACLoE,GADK,IAERiC,aAAcjC,EAAOiC,aAAarG,MAhBnB,gBAaPA,EAbO,EAafF,KAAQE,GAKVkR,EAAQqI,KAAR,oBAA0BvZ,EAA1B,aAlBiB,kDAoBjB26E,EAAmB,EAAD,IApBD,0DAAH,sDA4BlB,OACE,kBAAC7rE,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE6Q,QAASA,EACT0gC,aATa,WACnBnvC,EAAQqI,KAAR,oBAA0BoG,EAAQ3f,GAAlC,cASMkb,aAAcA,EACdkxB,YAAasuC,OCpBjBl1C,GAAiBh4B,YAAOi4B,MAAV,iGAAGj4B,CAAH,yFAoGLF,6BA7Ff,YAMI,IALFnB,EAKC,EALDA,KACAkxD,EAIC,EAJDA,SACAz3B,EAGC,EAHDA,WACA5yB,EAEC,EAFDA,SACA6yB,EACC,EADDA,UAEM5E,EAAO,uBAAmBo8B,EAASr9D,IACnCiwG,EAAY5yC,EAASt+C,eAAeb,kBAAkBg1C,MAEtD2K,EACc,iBAAlBR,EAAS/7D,QACP+7D,EAASt+C,eAAeY,UACtB09C,EAASt+C,eAAeQ,YACvB89C,EAASvY,yBAEhB,OACE,kBAAC1hB,GAAA,EAAD,CAAcx0B,kBAAiBqyB,EAASjhC,GAAE,UAAKq9D,EAASr9D,KACtD,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,6BAAwBq9D,EAASr9D,IACnCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,WAChB,8BACE,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIw3B,EAASj3D,QAGhBy3D,GACC,8BACE,kBAAC,KAAD,CACEnrD,QAASvG,EAAKU,EACZ,kDAEF4F,SAAS,SAET,8BAKR,kBAAC,GAAD,CAAc7X,IAAI,QACfizC,GAAYwvB,EAAS/7D,OAExB,kBAAC,GAAD,CAAc1G,IAAI,aAChB,kBAAC,GAAD,CAAWuyD,KAAMkQ,EAASt+C,eAAe8D,kBAI/C,kBAAC,GAAD,CACElU,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHgvE,GAA+B,iBAAlB5yC,EAAS/7D,MACrB,kBAAC,KAAD,CAASoR,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAAC,GAAD,CAAc6sB,SAAU+9B,IACrB,gBAAGtL,EAAH,EAAGA,aAAH,OACC,sBAEEpkD,QAAQ,QACR6F,QAASu+C,GAET,kBAAC,KAAD,WAMTsL,EAASt+C,eAAeb,kBAAkB6nB,MACzC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,sBAEE9E,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,qBAAgB2rD,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,GAA1C,UAEF,kBAAC,KAAD,c,6bCjGVgiC,GAAYxoC,EAAY,WAAY,CACxCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAyLGyT,6BAtLf,YAA4C,IAATnB,EAAQ,EAARA,KACrBwxE,EAAcpwC,cAAlBvtC,GACFoR,EAAW6C,cAEjB,EAWIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,SAC7CqG,QAAUg+D,EAFP,SAGgC57E,QAAQmU,IAAI,CACpDxM,GAAgB7I,KAAKzG,GACrBsP,GAAgBu4B,gBALR,0CAGH9iC,EAHG,KAGO+iC,EAHP,uBAOH,CACLguE,aAAc/wG,EAASW,KAAKsB,QAC5ByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAhB/C,2CAkBT,CAACjxB,EAAUusE,IACd,CACEuyB,aAAc,GACdrjF,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KApCpB,IACEvN,OACE83F,EAFJ,EAEIA,aACArjF,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSolD,EAVX,EAUEjlD,QA8BFhD,qBAAU,WACRioD,MACC,CAACA,IAEJ,MAA+D14B,GAC7DirE,GADM/qE,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,SAAA8iE,GAAQ,OAAI3zD,GAAgBy8B,QAAQk3B,EAASr9D,UAE3D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYwkD,IAbHvmB,EADb,EACE7+B,UACa0lD,EAFf,EAEE5kD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAcIykD,EAAoB,uCAAG,sBAAAvqE,EAAA,sEACrBsqE,IADqB,OAE3B74B,EAAY,IAFe,2CAAH,qDAKpB+4B,EACJlnD,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAErDsnD,EACJ,kBAAC,GAAD,CAAkB3jE,IAAI,MAAMgqC,OAAO,iCAGrC,OACE,oCACE,kBAAC91B,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBomB,GAAmB7+B,EACtCzhB,MAAOo5G,EACPrjF,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,sBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,+BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,gBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,4BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOsqE,GAAgB,KAE/Cj3F,SAAU+oB,GACV5U,mBAAkB,sBACZ+wC,EAAW,CAACI,GAAa,IADb,CAEhB,kBAAC,GAAD,CACE3jE,IAAI,SACJspC,SAAUg6B,EACVj6B,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,8BAKnC62B,WAAY,SAAA25B,GAAQ,OAClB,kBAAC,GAAD,CACEziE,IAAKyiE,EAASr9D,GACdhF,MAAOqiE,EAASj3D,KAChBi3D,SAAUA,EACVx3B,UAAS,qBAAgBw3B,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,GAA1C,YACTgT,SAAU,kBAAMqyB,EAAag4B,IAC7Bz3B,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOq9D,EAASr9D,SAGzDovB,mBAAoB+uC,GAAYI,KAGpC,kBAAC,GAAD,CACEtyD,OAAQuN,EACR7L,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,oDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCablM,4BAAWuE,aA1L1B,YAA2C,IAAxB1F,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACvB,EAAoB3jC,KAAZ2K,UAAR,MAAa,GAAb,EACQnW,EAAOutC,cAAPvtC,GACFoR,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,sEAC8BoO,QAAQmU,IAAI,CAClDhM,GAAYklC,WAAWpvC,GACvBgK,GAAiBnJ,KAAK,CACpBjH,UAAW,EACXonE,WAAY,8BALN,sCACDlhE,EADC,KACDA,KAAQuiF,EADP,MASNviF,EAAKif,eAAeiD,YATd,wBAUF5nB,EAAS,CACbT,KAAM,EACNC,UAAW,IACXC,SAAU,QAbJ,UAiBEqQ,GAAYlE,gBAAgBlG,EAAKE,GAAI5F,GAjBvC,iBAgBEgH,EAhBF,EAgBNtB,KAAQsB,QAGVtB,EAAKif,eAAeiD,YAAc5gB,EAnB1B,iCAqBH,CACLue,QAAS7f,EACTwiF,aAAcD,EAAcviF,KAAKsB,QAAQrG,OAAS,IAvB1C,4CAyBT,CAACiF,IACJ,CACE2f,QAAS,KACT0iE,cAAe,OAjCR8tB,EADX,EACEz3F,QADF,IAEEN,OAAUuH,EAFZ,EAEYA,QAAS2iE,EAFrB,EAEqBA,aACRtxD,EAHb,EAGEzY,UACOwY,EAJT,EAIE7iB,MAkCFwH,qBAAU,WACRy6F,MACC,CAACA,EAAsB/+F,EAASC,WAEnCqE,qBAAU,WACJiK,GACFwvB,EAAcxvB,KAEf,CAACA,EAASwvB,IAMb,IAAMksC,EAAsB7lE,uBAAY,WACtC,OAAOtL,GAAYu4E,oBAAoB9iE,EAAQ3f,MAC9C,CAAC2f,IAEEy7D,EAAgB5lE,uBACpB,SAAApb,GACE,OAAO8P,GAAYs4E,cAAc7iE,EAAQ3f,GAAI5F,KAE/C,CAACulB,IAGG4rF,EAAyBp1F,EAAGuI,mBAAqB4jE,EACjD3C,EAAyB2C,EACzB5zC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,aAAD,OAAe1gC,EAAf,aAChC,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,aAAD,OAAe1gC,EAAf,aA0BjC,GAvBIurG,GACF78D,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,aAAD,OAAe1gC,EAAf,oBAIR0uC,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,aAAD,OAAe1gC,EAAf,qBAGN,OAAI2f,QAAJ,IAAIA,OAAJ,EAAIA,EAASuB,WACXwtB,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,aAAD,OAAe1gC,EAAf,gBAIR0uC,EAAUl0C,SAAQ,SAACq0C,EAAK37C,GACtB27C,EAAI7uC,GAAK9M,KAGP69B,EACF,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACe,MAAjCA,EAAa5xB,SAASiR,QACrB,8BACGjE,EAAKU,EAAE,2BAAwB,IAChC,kBAAC,IAAD,CAAM6E,GAAG,aAAavF,EAAKU,EAAE,gCAS3C,IAAMg1C,IACJzwC,EAASC,SAAS86B,SAAS,SAC3B/6B,EAASC,SAAS3V,SAAS,eAG7B,OACE,kBAACsc,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IACzC1d,GAAqB,kBAAC,GAAD,OACpBA,GAAqBrR,GACrB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU4vB,KAAK,gBAAgB79B,GAAG,wBAAwB0R,OAAK,IAC/D,kBAAC,IAAD,CAAOrS,KAAK,sBACV,kBAAC,GAAD,CAAa4O,QAASA,KAExB,kBAAC,IAAD,CAAO5O,KAAK,yBACV,kBAAC,GAAD,CAAe4O,QAASA,KAE1B,kBAAC,IAAD,CAAO5O,KAAK,wBACV,kBAAC,GAAD,CAAoBuuB,SAAU3f,EAAS62B,SAAUtsC,MAElDqhG,GACC,kBAAC,IAAD,CAAOx6F,KAAK,+BACV,kBAAC,GAAD,CACE/Q,GAAI3I,OAAO2I,GACX2/E,uBAAwBA,EACxBnpC,SAAUtsC,MAIhB,kBAAC,IAAD,CAAO6G,KAAK,+BACV,kBAAC,GAAD,QAEM,OAAP4O,QAAO,IAAPA,OAAA,EAAAA,EAASuB,WAAiC,KAArBvB,EAAQuB,UAC5B,kBAAC,IAAD,CAAOnQ,KAAK,2BACV,kBAAC,GAAD,CACEo+B,cAAeA,EACf0rC,mBAAoBl7D,EACpBq7D,eA/GhB,SAAwBl7E,GACtB,OAAOoK,GAAY8wE,eAAer7D,EAAQ3f,GAAIF,IA+GhCs7E,cAAeA,EACfC,oBAAqBA,KAI3B,kBAAC,IAAD,CAAOzgF,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACrBvX,GACC,kBAAC,IAAD,CAAM0R,GAAE,oBAAe1R,EAAf,aACLmM,EAAKU,EAAE,uCCzIbS,4BAAWuE,aArD1B,YAA6B,IAAT1F,EAAQ,EAARA,KAClB,EAAgDiD,mBAAS,CACvD,YAAajD,EAAKU,EAAE,iBACpB,gBAAiBV,EAAKU,EAAE,6BAF1B,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAACmK,EAASywF,GAAY,IAAD,EACnB,GAAKzwF,EAAL,CAGA,IAAM0wF,EAAoB,oBAAgB1wF,EAAQ3f,GAAxB,cAC1B2wC,GAAmB,GACjB,YAAaxkC,EAAKU,EAAE,iBACpB,gBAAiBV,EAAKU,EAAE,4BAFP,mCAGH8S,EAAQ3f,IAHL,UAGe2f,EAAQvZ,OAHvB,mCAIHuZ,EAAQ3f,GAJL,SAIiBmM,EAAKU,EAAE,sBAJxB,mCAKH8S,EAAQ3f,GALL,YAKoBmM,EAAKU,EAAE,iBAL3B,mCAMH8S,EAAQ3f,GANL,WAMmBmM,EAAKU,EAAE,gBAN1B,mCAOH8S,EAAQ3f,GAPL,kBAO0BmM,EAAKU,EAAE,uBAPjC,mCAQH8S,EAAQ3f,GARL,kBAQ0BmM,EAAKU,EAAE,uBARjC,yBAUbwjG,GAAyBlkG,EAAKU,EAAE,sBAVnB,yBAWbwjG,EAXa,QAWgBlkG,EAAKU,EAAE,6BAXvB,yBAYbwjG,EAZa,mBAYWD,QAZX,IAYWA,OAZX,EAYWA,EAAQpwG,IAZnB,iBAY6BowG,QAZ7B,IAY6BA,OAZ7B,EAY6BA,EAAQhqG,OAZrC,yBAabiqG,EAba,mBAaWD,QAbX,IAaWA,OAbX,EAaWA,EAAQpwG,GAbnB,YAakCmM,EAAKU,EACtD,0BAde,yBAgBbwjG,EAhBa,mBAgBWD,QAhBX,IAgBWA,OAhBX,EAgBWA,EAAQpwG,GAhBnB,SAgB+BmM,EAAKU,EAAE,sBAhBtC,OAmBrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CAAc8jC,WAAW,UAAUP,iBAAkBA,IACrD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,iBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,iBACV,kBAAC,GAAD,CAASo+B,cAAeyB,KAE1B,kBAAC,IAAD,CAAO7/B,KAAK,aACV,kBAAC,GAAD,aCZKzD,6BAlCf,YAAiC,IAATnB,EAAQ,EAARA,KAChBkvE,EAAsB7lE,uBAAY,WACtC,OAAOnL,GAAa43B,gBACnB,IAEGm5C,EAAgB5lE,uBAAY,SAAApb,GAChC,OAAOiQ,GAAaxJ,KAAKzG,KACxB,IAEH,OACE,oCACE,kBAAC,GAAD,CACE61C,WAAW,WACXP,iBAAkB,CAChB,aAAcvjC,EAAKU,EAAE,wBAGzB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOkE,KAAK,cACV,kBAACiH,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEssE,cAAeA,EACfC,oBAAqBA,EACrBC,eAAa,YChChBg1B,GAAkBnlG,IAAMC,cAAc,IACtCmlG,GAAmBD,GAAgBhlG,SAEnCklG,GAAc,kBAAM/kG,qBAAW6kG,KCK5C,SAASG,GAAT,GAA8E,IAAlDtkG,EAAiD,EAAjDA,KAAM+uC,EAA2C,EAA3CA,gBAAiBC,EAA0B,EAA1BA,cAAejvC,EAAW,EAAXA,QAC5D0vC,EAAc,KACdV,IACFU,EAAczvC,EAAKU,EAAE,gDAGvB,IACmB,IAKf,IANA6jG,EAAY,KACZv1D,IACFS,EAAczvC,EAAKU,EAAE,wDAEN,OAAbsuC,QAAa,IAAbA,GAAA,UAAAA,EAAeh8C,gBAAf,eAAyBwxG,cAAzB,OACAx1D,QADA,IACAA,GADA,UACAA,EAAeh8C,gBADf,aACA,EAAyBiR,UAEzBwrC,EAAczvC,EAAKU,EACjB,yBAAIsuC,EAAch8C,SAASwxG,WAA3B,EAA0Cx1D,EAAch8C,SAASiR,UAEnEsgG,EAAYvkG,EAAKU,EAAE,8BAAIsuC,EAAch8C,gBAAlB,iBAAI,EAAwBW,YAA5B,aAAI,EAA8BoO,WAIzD,OACE,kBAACkuC,GAAA,EAAD,CAAYC,SAAO,GAChBT,GACC,kBAACtd,GAAA,EAAD,CACEge,YAAa,kBAACC,GAAA,EAAD,CAAwBrwC,QAASA,IAC9Cse,OAAO,qBACP9c,MAAOwtC,EAAkB/uC,EAAKU,EAAE,gBAAcV,EAAKU,EAAE,cACrDc,QAASutC,EAAkB,UAAY,UAEvC,uBAAGl7C,GAAG,gBAAgB47C,GACtB,uBAAG57C,GAAG,cAAc0wG,KAa9BD,GAAiBpjG,aAAe,CAC9B6tC,gBAAiB,KACjBC,cAAe,KACfjvC,QAAS,cAGIoB,4BAAWmjG,ICrDXnjG,yBACb,YAA4D,IAAzDnB,EAAwD,EAAxDA,KAAMmrB,EAAkD,EAAlDA,SAAUt3B,EAAwC,EAAxCA,GAAIkG,EAAoC,EAApCA,MAAO5E,EAA6B,EAA7BA,KAA6B,IAAvBsvG,YAAuB,MAAhB,GAAgB,EAAZ51G,EAAY,EAAZA,MAEzC6U,EAAS,KAEb,OAH2B,gBAAV7U,EAA0B,YAAcsG,GAIvD,IAAK,gBACHuO,EACE,kBAAC,GAAD,CACEunB,OAAQp3B,EACRs3B,SAAUA,EACVpxB,MAAOA,EACP4yB,KAAK,aACLL,KAAM,EACNz9B,MAAOjC,KAAKC,UAAUgC,GAAS,QAAImiC,EAAW,KAGlD,MACF,IAAK,OACHttB,EACE,kBAAC,GAAD,CACEunB,OAAQp3B,EACRs3B,SAAUA,EACVpxB,MAAOA,EACP4yB,KAAK,aACLL,KAAM,EACNz9B,MAAOjC,KAAKC,UAAUgC,GAAS,QAAImiC,EAAW,KAGlD,MACF,IAAK,QACHttB,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVJ,iBAAkBl8B,EAClBkL,MAAOA,EACPlL,MACGA,EAGC,yBAAK2V,IAAK3V,EAAO4e,IAAK1T,EAAO6zD,OAAO,KAAKvnC,MAAM,OAF/CrmB,EAAKU,EAAE,yBAOf,MACF,IAAK,YACHgD,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVL,aAAW,EACX/wB,MAAOA,EACPlL,MAAOmR,EAAKU,EAAE,oBAGlB,MACF,IAAK,UACHgD,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVpxB,MAAOA,EACPlL,MAAOA,EAAQmR,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAG1C,MACF,IAAK,SACHgD,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVJ,iBAAkBl8B,EAClBkL,MAAOA,EACPlL,MAAQA,GAAQmR,EAAKU,EAAE,yBAG3B,MACF,IAAK,UACHgD,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVpxB,MAAOA,EACPlL,MAAO41G,EAAI,UAAM51G,EAAN,YAAe41G,GAAf,UAA2B51G,KAG1C,MACF,IAAK,SACH6U,EACE,kBAAC,GAAD,CACEwnB,eAAa,EACbD,OAAQp3B,EACRs3B,SAAUA,EACVJ,iBAAkBl8B,EAClBkL,MAAOA,EACPlL,MAAQA,GAAQmR,EAAKU,EAAE,yBAG3B,MACF,QACEgD,EAAS,KAEb,OAAOA,KC1EIvC,I,GAAAA,yBAnCf,YAAyD,IAA/BnB,EAA8B,EAA9BA,KAAMD,EAAwB,EAAxBA,QAAS2kG,EAAe,EAAfA,YACvC,OACE,kBAAC,GAAD,CACE5kG,QAAM,EACNyB,MAAOvB,EAAKU,EAAE,wBACdc,QAAQ,OACRzB,QAASA,EACTse,OAAO,mBACPvT,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,2BACnB2G,QAASq9F,EACTrmF,OAAO,6BAENre,EAAKU,EAAE,oBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,sBACnB2G,QAAStH,EACTse,OAAO,4BAENre,EAAKU,EAAE,wBAIXV,EAAKU,EAAE,gICqBCS,yBAjDe,SAAC,GAMxB,IALLM,EAKI,EALJA,SACA25B,EAII,EAJJA,SACAupE,EAGI,EAHJA,SACAj1F,EAEI,EAFJA,SACA1P,EACI,EADJA,KAEA,OACE,kBAACmxB,GAAD,KACE,kBAACmK,GAAA,EAAD,KACE,kBAACvwB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,UACRrM,KAAK,SACLkS,QAASqI,EACT2O,OAAO,eAENre,EAAKU,EAAE,cAEV,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,8BACnBc,QAAQ,YACRrM,KAAK,SACLkS,QAASs9F,EACTtmF,OAAO,qBAENre,EAAKU,EAAE,+BAETe,EACD,kBAACsJ,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBc,QAAQ,YACRrM,KAAK,SACLkS,QAAS+zB,EACT/c,OAAO,iBAENre,EAAKU,EAAE,2BCnCZkkG,GAAgBvjG,IAAOC,IAAV,uIA0DJH,I,GAAAA,yBAnDf,YAAuE,IAAD,EAA9CnB,EAA8C,EAA9CA,KAAMnM,EAAwC,EAAxCA,GAAIq8B,EAAoC,EAApCA,aAAoC,IAAtB9oB,kBAAsB,SACpE,EAA+BimB,aAASx5B,GAAxC,mBAAOqrB,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACMvhB,EAAY,UAAGshB,EAAKthB,oBAAR,QAAwB,GACpCpI,EAAesb,EAAMrwB,MACvBg2G,GAAe,EACfC,GAAU,EAEVlhG,IAAiBssB,GAAgBtsB,IAAiBoI,IACpD64F,GAAe,GAGbjhG,IAAiBssB,GAAgBtsB,IAAiBoI,IACpD84F,GAAU,GAOZ,IAAMC,EAAuBF,EACzB7kG,EAAKU,EAAE,mCACPV,EAAKU,EAAE,+BACLskG,EACJ59F,GAAc09F,EACV9kG,EAAKU,EAAE,yCACPqkG,EAEN,OACE,kBAAC,KAAD,CAAS1E,WAAY,IAAK95F,QAASy+F,GACjC,kBAACJ,GAAD,KACE,kBAAC75F,EAAA,EAAD,CACEvI,aAAYqiG,EAAe7kG,EAAKU,EAAE,eAAaV,EAAKU,EAAE,aACtD2d,OAAM,UAAKxqB,EAAL,WACNu+B,UAAQ,EACR6yE,SAAO,EACP59F,QApBR,WACEkmB,EAAQ/gB,SAASq4F,EAAe30E,EAAelkB,IAoBzC7W,KAAK,SACLqM,QAAQ,OACR4F,WAAYA,GAAc09F,GAEzBD,EAAe7kG,EAAKU,EAAE,eAAaV,EAAKU,EAAE,mBC7B/CgtB,GAAYrsB,YAAO6jG,KAAP7jG,CAAH,uIAQT8jG,GAAehkG,sBACnB,gBACEnB,EADF,EACEA,KACAyB,EAFF,EAEEA,SACAyuB,EAHF,EAGEA,aACAvC,EAJF,EAIEA,QACAC,EALF,EAKEA,kBACAxmB,EANF,EAMEA,WACAyK,EAPF,EAOEA,WACA9X,EARF,EAQEA,MACAw2E,EATF,EASEA,eACA1iD,EAVF,EAUEA,UAVF,OAYE,kBAAC,GAAD,CACEF,QAASA,EACTC,kBAAmBA,EACnB/5B,GAAE,UAAK85B,EAAL,UACF9b,WAAYA,EACZ9X,MAAOA,EACP8zB,UAAWA,EACXC,UACE,oCACE,kBAAC,GAAD,CACEvnB,QAASgqE,EACTrmD,UAAS,UAAKlqB,EAAKU,EAAE,6BAAZ,YAAwC3G,KAEnD,kBAAC,GAAD,CACElG,GAAI85B,EACJuC,aAAcA,EACd9oB,WAAYA,MAKjB3F,MAKD2jG,GAAejkG,sBACnB,YAA+D,IAAD,EAA3DnB,EAA2D,EAA3DA,KAA2D,IAArDkqB,iBAAqD,MAAzC,GAAyC,EAArCjwB,EAAqC,EAArCA,KAAMlM,EAA+B,EAA/BA,OAA+B,IAAvB8uC,gBAAuB,SAC5D,EAA+BxP,aAASpzB,GAAxC,mBAAOilB,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACA,OAAOx/B,EACL,kBAACo3G,GAAD,CACEj1E,aAAY,UAAEniC,EAAOuqB,eAAT,SACZqV,QAAS1zB,EACT2zB,kBAAmBN,EAAKvrB,MACxBqF,WAAYy1B,EACZ9iC,MAAOhM,EAAOgM,MACdw2E,eAAgBxiF,EAAO8+C,WAEvB,kBAACqP,GAAA,EAAD,CACEroD,GAAIoG,EACJokB,OAAQpkB,EACR8nB,UAAW7C,EAAMrwB,MACjBuY,WAAYy1B,EACZ9iC,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBmb,SAAU,SAAAiD,GAAO,OAAIyO,EAAQ/gB,SAASsS,IACtCtc,aAAY0nB,GAAan8B,EAAOgM,SAGlC,QAUFsrG,GAAclkG,sBAAW,YAAiD,IAAD,EAA7CnB,EAA6C,EAA7CA,KAAM/F,EAAuC,EAAvCA,KAAMlM,EAAiC,EAAjCA,OAAiC,IAAzB8jB,kBAAyB,SACvEub,EAAWvb,EAAauG,GAAS,KAAMpY,GAAQ,KACrD,EAAsBqtB,aAAS,CAAEpzB,OAAMmzB,aAAvC,mBAAOlO,EAAP,KAAcoO,EAAd,KACME,GAAWF,EAAKvrB,QAAUurB,EAAKG,QAErC,OAAO1/B,EACL,kBAACo3G,GAAD,CACEj1E,aAAY,UAAEniC,EAAOuqB,eAAT,QAAoB,GAChCqV,QAAS1zB,EACT2zB,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZ9X,MAAOhM,EAAOgM,MACdw2E,eAAgBxiF,EAAO8+C,UACvBhf,UAAWL,EAAU,UAAY,SAEjC,kBAAC,GAAD,eACE35B,GAAIoG,GACAilB,EAFN,CAGEvrB,KAAI,YACC5F,EAAOwqB,QAAQnqB,KAAI,WAAiB4C,GAAjB,uBAAEnC,EAAF,WAA4B,CAChDkL,MADoB,KAEpBlL,MAAK,OAAEA,QAAF,IAAEA,IAAS,GAChBJ,IAAG,OAAEI,QAAF,IAAEA,IAASmC,WAKpB,QAQAs0G,GAAiBnkG,sBACrB,YAAiD,IAAD,EAA7CnB,EAA6C,EAA7CA,KAAM/F,EAAuC,EAAvCA,KAAMlM,EAAiC,EAAjCA,OAAiC,IAAzB8jB,kBAAyB,SACxCub,EAAWvb,EAAauG,GAAS,KAAMpY,GAAQ,KACrD,EAAiBqtB,aAAS,CAAEpzB,OAAMmzB,aAAzBE,EAAT,oBACME,IAAYF,EAAKG,SAAWH,EAAKvrB,OAEvC,OAAOhU,EACL,kBAACo3G,GAAD,CACEj1E,aAAY,UAAEniC,EAAOuqB,eAAT,QAAoB,GAChCqV,QAAS1zB,EACT2zB,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZ9X,MAAOhM,EAAOgM,MACdw2E,eAAgBxiF,EAAO8+C,UACvBhf,UAAWL,EAAU,UAAY,SAEjC,kBAAC7R,GAAA,EAAD,KACE,kBAAC,GAAD,CACE9nB,GAAIoG,EACJA,KAAMA,EACNF,MAAOhM,EAAOgM,MACdqzB,SAAUA,EACVvb,WAAYA,MAIhB,QASF0zF,GAAapkG,sBACjB,YAAgE,IAAD,IAA5DnB,EAA4D,EAA5DA,KAAM/F,EAAsD,EAAtDA,KAAMlM,EAAgD,EAAhDA,OAAgD,IAAxCoH,YAAwC,MAAjC,OAAiC,MAAzB0c,kBAAyB,SACvD2zF,EAAS,iBAAGz3G,QAAH,IAAGA,OAAH,EAAGA,EAAQy3G,iBAAX,QAAwBt6G,OAAOu6G,iBACxCC,EAAS,iBAAG33G,QAAH,IAAGA,OAAH,EAAGA,EAAQ23G,iBAAX,QAAwBx6G,OAAOsyG,iBACxCxiE,EAAU,sBACVnpB,EAAa,CAACuG,GAAS,KAAMpY,IAAS,IAD5B,YAED,QAAT7K,EAAiB,CAAC6O,GAAIhE,IAAS,IAFrB,YAGD,WAAT7K,EACA,CAACylC,GAAQ56B,GAAOy6B,GAAY+qE,EAAWE,EAAW1lG,IAClD,KAEN,EAAsBqtB,aAAS,CAAEpzB,OAAMmzB,SAAU2N,GAAQC,KAAzD,mBAAO9b,EAAP,KAAcoO,EAAd,KACME,IAAYF,EAAKG,SAAWH,EAAKvrB,OAEvC,OAAOhU,EACL,kBAACo3G,GAAD,CACEj1E,aAAcniC,EAAOuqB,SAAW,GAChCqV,QAAS1zB,EACT2zB,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZ9X,MAAOhM,EAAOgM,MACdw2E,eAAgBxiF,EAAO8+C,UACvBhf,UAAWL,EAAU,UAAY,SAEjC,kBAAC5R,GAAA,EAAD,CACE/nB,GAAIoG,EACJ4X,WAAYA,EACZ4a,YAAa1+B,EAAO0+B,YACpBoB,UAAWL,EAAU,UAAY,QACjC3+B,MAAOqwB,EAAMrwB,MACbkvC,OAAQ7e,EAAM6e,OACdliB,SAAU,SAAChtB,EAAOmsB,GAChBkE,EAAMrD,SAASb,OAInB,QAUF2qF,GAAcxkG,sBAAW,YAAiD,IAA9CnB,EAA6C,EAA7CA,KAAM/F,EAAuC,EAAvCA,KAAMlM,EAAiC,EAAjCA,OAAiC,IAAzB8jB,kBAAyB,SACvEub,EAAWvb,EAAauG,GAAS,KAAMpY,GAAQ,KACrD,EAA+BqtB,aAAS,CAAEpzB,OAAMmzB,aAAhD,mBAAOlO,EAAP,KAAcoO,EAAd,KAAoBC,EAApB,KACMC,IAAYF,EAAKG,SAAWH,EAAKvrB,OAEjC6jG,EAAgC,UAAX,OAAN73G,QAAM,IAANA,OAAA,EAAAA,EAAQoH,MAAkB,KAAO,KAChD0wG,GAA2B,OAAN93G,QAAM,IAANA,OAAA,EAAAA,EAAQuqB,SAC/B1rB,KAAKC,UAAUkB,EAAOuqB,QAAS,KAAM,GACrCstF,EAEJ,OAAO73G,EACL,kBAACojC,GAAD,KACE,kBAACg0E,GAAD,CACEj1E,aAAc21E,EACdl4E,QAAS1zB,EACT2zB,kBAAmBN,EAAKvrB,MACxB8P,WAAYA,EACZ9X,MAAOhM,EAAOgM,MACdw2E,eAAgBxiF,EAAO8+C,UACvBhf,UAAWL,EAAU,UAAY,SAEjC,kBAAC,GAAD,iBACMtO,EADN,CAEEmN,YAAU,EACVx4B,GAAIoG,EACJ0yB,KAAK,aACL9Q,SAAU,SAAAhtB,GACR0+B,EAAQ/gB,SAAS3d,IAEnB49B,YAAa7/B,KAAKC,UAAL,OAAekB,QAAf,IAAeA,OAAf,EAAeA,EAAQ0+B,YAAa,KAAM,QAI3D,QC3JStrB,6BAnFf,YAAyC,IAATnB,EAAQ,EAARA,KACtBgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAA8DnqB,GAC5DzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEAMA2W,GAAY2nG,aAAa,UANzB,2BAERnyG,KACEoyG,EAHM,EAGNA,wBACAC,EAJM,EAINA,2CAJM,kBAOH,CACLD,0BACAC,+CATQ,2CAWT,IACH,MAbM55F,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiB05F,EAA3C,EAAmCh6F,OAgBnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,oCACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa65F,GACb,kBAAC,GAAD,KACGx2G,OAAOC,KAAKu2G,GAAgB73G,KAAI,SAAAK,GAC/B,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAEo3G,QAAF,IAAEA,OAAF,EAAEA,EAAiBx3G,UAM/B,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,kCAEFvF,EAAKU,EAAE,oBC/EP,SAAS81D,KAA0B,IAAjB12D,EAAgB,wDAC/C,EAAsCmD,mBAASnD,GAA/C,mBAAOo4B,EAAP,KAAoBC,EAApB,KAEA,SAASC,IACPD,GAAgBD,GAGlB,SAASwF,IACPvF,GAAe,GAGjB,MAAO,CACLD,cACAE,cACAsF,cCuGWyoE,OA9Gf,WACE,IAAMphG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAQIt6F,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,UADtC,uBACFnyG,EADE,EACFA,KADE,kBAEH,CACLoyG,wBAAwB,2BACnB/xG,EAAQ+xG,yBADU,IAErBl3G,MAAO8E,EAAKoyG,0BAEdC,2CAA2C,2BACtChyG,EAAQgyG,4CAD6B,IAExCn3G,MAAO8E,EAAKqyG,+CATN,2CAYT,CAAChyG,IACJ,IArBAoY,EADF,EACEA,UACArK,EAFF,EAEEA,MACAwK,EAHF,EAGEA,QAHF,IAIEN,OACE85F,EALJ,EAKIA,wBACAC,EANJ,EAMIA,2CAmBJz8F,qBAAU,WACRgD,MACC,CAACA,IAEJ,MAAoDT,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,qCAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAWx4D,GADE,2CAAH,sDAIZoG,EAAe,WACnBnvC,EAAQqI,KAAK,sCAGTm5F,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB,CACpBT,wBAAyBA,EAAwBztF,QACjD0tF,2CACEA,EAA2C1tF,SAJzB,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUrB,OACE,kBAAC,GAAD,KACGtxB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa25F,GACb,kBAAC,KAAD,CACEt2F,cAAe,CACbs2F,wBAAyBA,EAAwBl3G,MACjDm3G,2CACEA,EAA2Cn3G,OAE/C6gB,SAAUX,IAET,SAAAY,GACC,OACE,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACk0E,GAAD,CACEnrG,KAAK,0BACLlM,OAAQg4G,IAEV,kBAACX,GAAD,CACEnrG,KAAK,6CACLlM,OAAQi4G,IAET/lE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UC3ElBplG,6BAhCf,YAAmC,IAATnB,EAAQ,EAARA,KAClBxM,EAAU,4BACRwW,EAAO3K,KAAP2K,GAER,OACE,kBAAC6B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,WACN,OAAFwW,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,cACH,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAU/M,GAAE,UAAK/R,EAAL,eAGhB,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,+CC4DTS,6BA3Ef,YAAkC,IAATnB,EAAQ,EAARA,KACfgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAqDnqB,GACnDzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,kBADtC,uBACFnyG,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MALMyY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBk6F,EAA3C,EAAmCx6F,OAQnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,0BACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAaq6F,GACb,kBAAC,GAAD,KACGh3G,OAAOC,KAAK+2G,GAAOr4G,KAAI,SAAAK,GACtB,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAE43G,QAAF,IAAEA,OAAF,EAAEA,EAAQh4G,UAMtB,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,wBAEFvF,EAAKU,EAAE,oBCjFf,SAASgmG,KAA6B,IAAXn1E,EAAU,uDAAJ,GAChCo1E,EAAc,CAAC,gBAAiB,OAAQ,WACxCC,EAAYn3G,OAAOs/B,QAAQwC,GAAK3hC,QACpC,gBAAIf,EAAJ,2BAAgB83G,EAAYp3G,SAASV,EAAMsG,SAEvC0xG,EAAcp3G,OAAOs/B,QAAQwC,GAAK3hC,QACtC,kBAA8B,YAA9B,oBAAqBuF,QAEjB2xG,EAAar3G,OAAOs/B,QAAQwC,GAAK3hC,QACrC,kBAA8B,SAA9B,oBAAqBuF,QAEjB2kF,EAAerqF,OAAOs/B,QAAQwC,GAAK3hC,QACvC,kBAA8B,kBAA9B,oBAAqBuF,QAEvB,MAAM,GAAN,mBAAWyxG,GAAX,YAAyBC,GAAzB,YAAyCC,GAAzC,YAAwDhtB,IAGnD,SAASitB,GAAMC,GAAwB,IAAD,uBAANt3G,EAAM,iCAANA,EAAM,kBAC3C,OAAOD,OAAOk3C,OAAP,MAAAl3C,OAAM,CAAQ,IAAR,mBAAeC,EAAKtB,KAAI,SAAAK,GAAG,uBAAQA,EAAMu4G,EAAav4G,UAG9D,SAASw4G,GAAWr4E,GACzB,OAAKA,EAGEM,GAAaN,GAAchiC,KAAKkiC,MAAMF,GAAcA,EAFlD,KCqHIs4E,OAzHf,WACE,IAAMniG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,kBADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAbMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgBqlG,EAAnC,EAA0B76F,QAA+Bk6F,EAAzD,EAAiDx6F,OAgBjD1C,qBAAU,WACR69F,MACC,CAACA,IAEJ,IAqCsBx7D,EArCtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,2BAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEdu5D,oCAAqCJ,GACnCn5D,EAAKu5D,qCAEPC,4CAA6CL,GAC3Cn5D,EAAKw5D,gDAPU,2CAAH,sDAYZf,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQ03E,GAAOr4G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC1BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,4BAgBf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAaq6F,GACb,kBAAC,KAAD,CAAQh3F,eAlBQm8B,EAkBqB66D,EAjBzCh3G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KAO8C+L,SAAUX,IACpD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,iCACLlM,OAAQ04G,EAAMc,iCAEhB,kBAACjC,GAAD,CACErrG,KAAK,oCACLlM,OAAQ04G,EAAMe,oCAEhB,kBAAC7B,GAAD,CACE1rG,KAAK,8CACLlM,OAAQ04G,EAAMa,8CAEhB,kBAAC3B,GAAD,CACE1rG,KAAK,sCACLlM,OAAQ04G,EAAMY,sCAEfpnE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UChGhBplG,6BA1Bf,YAA4B,IAATnB,EAAQ,EAARA,KACXxM,EAAU,kBAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,wCCuGTS,6BA/Gf,YAAiC,IAAD,EAARnB,EAAQ,EAARA,KACdgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAEFziC,EAAU,mBAChB,EAGIqmC,YAAc,GAAD,OAAIrmC,EAAJ,uBAFfoR,EADF,EACEA,KACUjJ,EAFZ,EAEE1N,OAAU0N,SAGZ,EAA6DmQ,GAC3DzC,sBAAW,sBAAC,oCAAA7hB,EAAA,sEAKAoO,QAAQmU,IAAI,CACpB5L,GAAY2nG,aAAa,UACzB3nG,GAAY2nG,aAAa,cACzB3nG,GAAY2nG,aAAa,iBARjB,0CAEA2B,EAFA,KAEN9zG,KACM+zG,EAHA,KAGN/zG,KACMg0G,EAJA,KAINh0G,KAJM,kBAUH,CACL2kB,QAASmvF,EACTvtG,aAAcwtG,EACdtnC,KAAMunC,IAbE,2CAeT,IACH,CACErvF,QAAS,KACTpe,aAAc,KACdkmE,KAAM,OApBFh0D,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBq7F,EAA3C,EAAmC37F,OAwBnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAK/gC,EAAL,oBACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,4BACb6zB,KAAK,GAAD,OAAK/gC,EAAL,yBACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,oBACb6zB,KAAK,GAAD,OAAK/gC,EAAL,iBACJK,GAAI,IAIR,OAAKpE,OAAOC,KAAKk4G,GAAer4G,SAASoM,GAKvC,oCACE,kBAAC,GAAD,CAAY4mC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,KAAa,UAAC3c,OAAOwI,OAAO2vG,UAAf,aAAC,EAA8Br4G,SAAS,QACrD,kBAAC,GAAD,KACGE,OAAOC,KAAKk4G,EAAcjsG,IAAWvN,KAAI,SAAAK,GACxC,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAO+4G,EAAcjsG,GAAUlN,UAMtC,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAE,UAAK/R,EAAL,YAAgBmI,EAAhB,UAEDqE,EAAKU,EAAE,iBAnCX,kBAAC,IAAD,CAAU0iC,KAAMx+B,EAAMW,GAAE,UAAK/R,EAAL,oBAAgCyjB,OAAK,OCwDzD4wF,OAvHf,WACE,IAAM9iG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,UADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAbMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB+lG,EAAnC,EAA0Bv7F,QAA8Bw7F,EAAxD,EAAgD97F,OAgBhD1C,qBAAU,WACRu+F,MACC,CAACA,IAEJ,IAmCsBl8D,EAnCtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,4BAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEdk6D,oCAAqCf,GACnCn5D,EAAKk6D,qCAEPC,4BAA6BhB,GAAWn5D,EAAKm6D,gCAN5B,2CAAH,sDAUZ1B,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQg5E,GAAQ35G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC3BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,6BAgBf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa27F,GACb,kBAAC,KAAD,CAAQt4F,eAlBQm8B,EAkBqBm8D,EAjBzCt4G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,yBACLlM,OAAQg6G,EAAOG,yBAEjB,kBAAC5C,GAAD,CACErrG,KAAK,4BACLlM,OAAQg6G,EAAOI,4BAEjB,kBAACxC,GAAD,CACE1rG,KAAK,sCACLlM,OAAQg6G,EAAOC,sCAEjB,kBAACrC,GAAD,CACE1rG,KAAK,8BACLlM,OAAQg6G,EAAOE,8BAEhBhoE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UCiBhB6B,OA7Hf,WACE,IAAMrjG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,cADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAbMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB+lG,EAAnC,EAA0Bv7F,QAA8Bw7F,EAAxD,EAAgD97F,OAgBhD1C,qBAAU,WACRu+F,MACC,CAACA,IAEJ,IAqCsBl8D,EArCtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,yCAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEdu6D,wCAAyCpB,GACvCn5D,EAAKu6D,yCAEPC,gCAAiCrB,GAC/Bn5D,EAAKw6D,oCAPU,2CAAH,sDAYZ/B,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQg5E,GAAQ35G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC3BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,0CAgBf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa27F,GACb,kBAAC,KAAD,CAAQt4F,eAlBQm8B,EAkBqBm8D,EAjBzCt4G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,6BACLlM,OAAQg6G,EAAOQ,6BAEjB,kBAACjD,GAAD,CACErrG,KAAK,gCACLlM,OAAQg6G,EAAOS,gCAEjB,kBAACjD,GAAD,CACEtrG,KAAK,8BACLlM,OAAQg6G,EAAOU,8BAEjB,kBAAC9C,GAAD,CACE1rG,KAAK,0CACLlM,OAAQg6G,EAAOM,0CAEjB,kBAAC1C,GAAD,CACE1rG,KAAK,kCACLlM,OAAQg6G,EAAOO,kCAEhBroE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UCWhBmC,OA7Hf,WACE,IAAM3jG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,eADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAbMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB+lG,EAAnC,EAA0Bv7F,QAA8Bw7F,EAAxD,EAAgD97F,OAgBhD1C,qBAAU,WACRu+F,MACC,CAACA,IAEJ,IAqCsBl8D,EArCtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,iCAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEd66D,yCAA0C1B,GACxCn5D,EAAK66D,0CAEPC,iCAAkC3B,GAChCn5D,EAAK86D,qCAPU,2CAAH,sDAYZrC,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQg5E,GAAQ35G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC3BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,kCAgBf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa27F,GACb,kBAAC,KAAD,CAAQt4F,eAlBQm8B,EAkBqBm8D,EAjBzCt4G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,8BACLlM,OAAQg6G,EAAOc,8BAEjB,kBAACvD,GAAD,CACErrG,KAAK,iCACLlM,OAAQg6G,EAAOe,iCAEjB,kBAACvD,GAAD,CACEtrG,KAAK,6BACLlM,OAAQg6G,EAAOgB,6BAEjB,kBAACpD,GAAD,CACE1rG,KAAK,2CACLlM,OAAQg6G,EAAOY,2CAEjB,kBAAChD,GAAD,CACE1rG,KAAK,mCACLlM,OAAQg6G,EAAOa,mCAEhB3oE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UChFhBplG,6BA5Cf,YAA2B,IAATnB,EAAQ,EAARA,KACVxM,EAAU,mBACVw1G,EAAYnvE,YAAc,CAAEj1B,KAAM,mBAAoBqS,OAAO,IAC7DgyF,EAAgBpvE,YAAc,CAClCj1B,KAAM,6BACNqS,OAAO,IAGT,OACE,kBAACpL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACGqmG,GAAa,kBAAC,IAAD,CAAUzjG,GAAE,UAAK/R,EAAL,oBAAgCyjB,OAAK,IAC9DgyF,GACC,kBAAC,IAAD,CACE1jG,GAAE,UAAK/R,EAAL,YAAgBy1G,EAAch7G,OAAO0N,SAArC,YACFsb,OAAK,IAGT,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,uBACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,kBACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,uBACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,eACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,qBACLwM,EAAKU,EAAE,sCC+CTS,6BA3Ef,YAAuC,IAATnB,EAAQ,EAARA,KACpBgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAA4DnqB,GAC1DzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,iBADtC,uBACFnyG,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MALMyY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiB28F,EAA3C,EAAmCj9F,OAQnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,kCACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa88F,GACb,kBAAC,GAAD,KACGz5G,OAAOC,KAAKw5G,GAAc96G,KAAI,SAAAK,GAC7B,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAEq6G,QAAF,IAAEA,OAAF,EAAEA,EAAez6G,UAM7B,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,gCAEFvF,EAAKU,EAAE,oBCuFPyoG,OArJf,WACE,IAAMpkG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAKIt6F,GACFzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,iBADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAjBAoY,EADF,EACEA,UACArK,EAFF,EAEEA,MACSqnG,EAHX,EAGE78F,QACQ28F,EAJV,EAIEj9F,OAiBF1C,qBAAU,WACR6/F,MACC,CAACA,IAEJ,IA2CsBx9D,EA3CtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,mCAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEdu7D,8CAA+CpC,GAC7Cn5D,EAAKu7D,+CAEPC,+CAAgDrC,GAC9Cn5D,EAAKw7D,gDAEPC,2CAA4CtC,GAC1Cn5D,EAAKy7D,4CAEPC,mCAAoCvC,GAClCn5D,EAAK07D,uCAbU,2CAAH,sDAkBZjD,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQm6E,GAAc96G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BACjCJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,oCAgBf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa88F,GACb,kBAAC,KAAD,CACEz5F,eAnBcm8B,EAmBes9D,EAlBnCz5G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KASG+L,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,gCACLlM,OAAQm7G,EAAaO,gCAEvB,kBAACnE,GAAD,CACErrG,KAAK,mCACLlM,OAAQm7G,EAAaQ,mCAEvB,kBAAC/D,GAAD,CACE1rG,KAAK,gDACLlM,OACEm7G,EAAaG,gDAGjB,kBAAC1D,GAAD,CACE1rG,KAAK,iDACLlM,OACEm7G,EAAaI,iDAGjB,kBAAC3D,GAAD,CACE1rG,KAAK,6CACLlM,OACEm7G,EAAaK,6CAGjB,kBAAC5D,GAAD,CACE1rG,KAAK,qCACLlM,OAAQm7G,EAAaM,qCAEtBvpE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UC5HhBplG,6BA1Bf,YAAiC,IAATnB,EAAQ,EAARA,KAChBxM,EAAU,0BAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,gD,gLCoFTS,6BA3Ff,YAA+B,IAATnB,EAAQ,EAARA,KACZgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAoDnqB,GAClDzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,QADtC,uBACFnyG,EADE,EACFA,KAUJA,EAPFg2G,0BAOEh2G,EANFi2G,4BAMEj2G,EALFk2G,yBAKEl2G,EAJFm2G,wBAIEn2G,EAHFo2G,yBAGEp2G,EAFFq2G,+BACGC,EAVK,YAWNt2G,EAXM,IAaJwzG,EAAa,GACnB13G,OAAOC,KAAKu6G,GAAU57G,SAAQ,SAAAI,GAC5B04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQo7G,EAASx7G,MAhBzB,kBAmBHi4G,GAAkBS,IAnBf,2CAoBT,CAACnzG,IACJ,MAtBMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBy0C,EAA3C,EAAmC/0C,OAyBnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,yBACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa40C,GACb,kBAAC,GAAD,KACGA,EAAK5yD,KAAI,YAAoB,IAAD,mBAAjBK,EAAiB,KAAZiV,EAAY,KAC3B,OACE,kBAACwiG,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEznB,QAAF,IAAEA,OAAF,EAAEA,EAAQmpC,UAClB9yC,MAAK,OAAE2J,QAAF,IAAEA,OAAF,EAAEA,EAAQ3J,MACf5E,KAAI,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAQvO,KACdsvG,KAAI,OAAE/gG,QAAF,IAAEA,OAAF,EAAEA,EAAQ+gG,KACd51G,MAAK,OAAE6U,QAAF,IAAEA,OAAF,EAAEA,EAAQ7U,aAMtB,OAAFmb,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,uBAEFvF,EAAKU,EAAE,oBC5EPS,6BAjBf,YAA6B,IAATnB,EAAQ,EAARA,KAClB,OACE,kBAAC,GAAD,KACGA,EAAKU,EAAE,iCACR,kBAAC,GAAD,KACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBM,UAAW43B,IACXrzB,GAAG,0BAEFvF,EAAKU,EAAE,2BCkBHS,6BA1Bf,YAAyB,IAATnB,EAAQ,EAARA,KACRxM,EAAU,iBAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,oCCPxB,SAASwpG,GAAev2G,EAAMw2G,GAC5B,OAAO16G,OAAOC,KAAKiE,GAChB/D,QAAO,SAAAnB,GAAG,OAAIA,EAAIc,SAAS46G,MAC3Bp5G,QAAO,SAACwgC,EAAK9iC,GAEZ,OADA8iC,EAAI9iC,GAAOkF,EAAKlF,GACT8iC,IACN,IAqJQpwB,6BAlJf,YAA+B,IAAD,EAARnB,EAAQ,EAARA,KACZgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IACR,EAGI4D,YAAc,oCAFhBj1B,EADF,EACEA,KACUjJ,EAFZ,EAEE1N,OAAU0N,SAGZ,EAA2DmQ,GACzDzC,sBAAW,sBAAC,4CAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,QADtC,uBACFnyG,EADE,EACFA,KAEFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACpBA,EAAIc,SAAS,yBAGjB43G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OAGzB27G,EAAQF,GAAe/C,EAAY,gBACnCkD,EAAQH,GAAe/C,EAAY,gBACnCmD,EAAQJ,GAAe/C,EAAY,gBACnCoD,EAAQL,GAAe/C,EAAY,gBACnCqD,EAAQN,GAAe/C,EAAY,gBACnCsD,EAAch7G,OAAOk3C,OAAO,GAAIwgE,GACtC13G,OAAOC,KAAPD,OAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,CAAA,GAAiB26G,GAAUC,GAAUC,GAAUC,GAAUC,IAASn8G,SAChE,SAAA00D,UACS0nD,EAAY1nD,MApBb,kBAwBH,CACLzqC,QAASouF,GAAkB+D,GAC3BrrD,EAAGsnD,GAAkB0D,GACrB/qD,EAAGqnD,GAAkB2D,GACrB/qD,EAAGonD,GAAkB4D,GACrB/qD,EAAGmnD,GAAkB6D,GACrBpqB,EAAGumB,GAAkB8D,KA9Bb,4CAgCT,CAACx2G,IACJ,CACEskB,QAAS,KACT8mC,EAAG,KACHC,EAAG,KACHC,EAAG,KACHC,EAAG,KACH4gC,EAAG,OAxCC/zE,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBm+F,EAA3C,EAAmCz+F,OA4CnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAM/Y,EAAU,iBACV+uC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAK/gC,EAAL,oBACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAK/gC,EAAL,cACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAK/gC,EAAL,cACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAK/gC,EAAL,cACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAK/gC,EAAL,cACJK,GAAI,GAEN,CACEoG,KAAM+F,EAAKU,EAAE,cACb6zB,KAAK,GAAD,OAAK/gC,EAAL,cACJK,GAAI,IAIR,OAAKpE,OAAOC,KAAKg7G,GAAan7G,SAASoM,GAKrC,oCACE,kBAAC,GAAD,CAAY4mC,UAAWA,IACvB,kBAAC,GAAD,KACE,oCACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,KAAa,UAAC3c,OAAOwI,OAAOyyG,UAAf,aAAC,EAA4Bn7G,SAAS,QACnD,kBAAC,GAAD,KACGm7G,EAAY/uG,GAAUvN,KAAI,YAAoB,IAAD,mBAAjBK,EAAiB,KAAZiV,EAAY,KAC5C,OACE,kBAACwiG,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEznB,QAAF,IAAEA,OAAF,EAAEA,EAAQmpC,UAClB9yC,MAAK,OAAE2J,QAAF,IAAEA,OAAF,EAAEA,EAAQ3J,MACf5E,KAAI,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAQvO,KACdsvG,KAAI,OAAE/gG,QAAF,IAAEA,OAAF,EAAEA,EAAQ+gG,KACd51G,MAAK,OAAE6U,QAAF,IAAEA,OAAF,EAAEA,EAAQ7U,cAOxB,OAAFmb,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAE,UAAK/R,EAAL,YAAgBmI,EAAhB,UAEDqE,EAAKU,EAAE,iBApCX,kBAAC,IAAD,CAAU0iC,KAAMx+B,EAAMW,GAAE,UAAK/R,EAAL,oBAAgCyjB,OAAK,OCtGxE,SAASizF,GAAev2G,EAAMw2G,GAC5B,OAAO16G,OAAOC,KAAKiE,GAChB/D,QAAO,SAAAnB,GAAG,OAAIA,EAAIc,SAAS46G,MAC3Bp5G,QAAO,SAACwgC,EAAK9iC,GAEZ,OADA8iC,EAAI9iC,GAAOkF,EAAKlF,GACT8iC,IACN,IAyNQo5E,OAtNf,WACE,IAAM5lG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAEIzqG,EACRk+B,YAAc,iCADhB5rC,OAAU0N,SAENivG,EACS,YAAbjvG,EAAyB,aAAzB,oBAAqDA,EAArD,KAEF,EAA+DmQ,GAC7DzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,QADtC,uBACFnyG,EADE,EACFA,KAEFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OAGzBo8G,EAAgB,CACpBC,aAAcZ,GAAe/C,EAAY,gBACzC4D,aAAcb,GAAe/C,EAAY,gBACzC6D,aAAcd,GAAe/C,EAAY,gBACzC8D,aAAcf,GAAe/C,EAAY,gBACzC+D,aAAchB,GAAe/C,EAAY,gBACzCgE,WAAY17G,OAAOk3C,OAAO,GAAIwgE,IAEhC13G,OAAOC,KAAPD,OAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,QAAA,IAAAA,CAAA,GACKo7G,EAAcC,cACdD,EAAcE,cACdF,EAAcG,cACdH,EAAcI,cACdJ,EAAcK,eAChB78G,SAAQ,SAAA00D,UACF8nD,EAAcM,WAAWpoD,MA3BxB,kBA8BH8nD,EAAcD,IA9BX,2CA+BT,CAAC52G,EAAS42G,IACb,MAjCMx+F,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgBqpG,EAAnC,EAA0B7+F,QAA4B8+F,EAAtD,EAA8Cp/F,OAoC9C1C,qBAAU,WACR6hG,MACC,CAACA,IAEJ,IA2DsBx/D,EA3DtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAR,yBAA+BzR,EAA/B,aAFF,2CADS,sDAKT,CAACoJ,EAASpJ,IAEZ,MARaskC,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,eAAAtmD,EAAA,sEACb8+G,GAAU,8BACVsE,EADU,WACc98D,EAAK,GAAD,OAAI88D,EAAJ,aADlB,yBAEVA,EAFU,iBAEoB98D,EAAK,GAAD,OAAI88D,EAAJ,mBAFxB,yBAGVA,EAHU,cAGiB98D,EAAK,GAAD,OAAI88D,EAAJ,gBAHrB,yBAIVA,EAJU,cAIiB98D,EAAK,GAAD,OAAI88D,EAAJ,gBAJrB,yBAKVA,EALU,iBAKoB98D,EAAK,GAAD,OAAI88D,EAAJ,mBALxB,yBAMVA,EANU,cAMiB98D,EAAK,GAAD,OAAI88D,EAAJ,gBANrB,yBAOVA,EAPU,aAOgB98D,EAAK,GAAD,OAAI88D,EAAJ,eAPpB,yBAQVA,EARU,oBAQuB98D,EAAK,GAAD,OACpC88D,EADoC,sBAR3B,yBAWVA,EAXU,gBAWmB3D,GAC/Bn5D,EAAK,GAAD,OAAI88D,EAAJ,mBAZQ,yBAcVA,EAdU,qBAcwB3D,GACpCn5D,EAAK,GAAD,OAAI88D,EAAJ,wBAfQ,yBAiBVA,EAjBU,oBAiBuB3D,GACnCn5D,EAAK,GAAD,OAAI88D,EAAJ,uBAlBQ,yBAoBVA,EApBU,YAoBe3D,GAAWn5D,EAAK,GAAD,OAAI88D,EAAJ,eApB9B,yBAqBVA,EArBU,iBAqBoB3D,GAChCn5D,EAAK,GAAD,OAAI88D,EAAJ,oBAtBQ,yBAwBVA,EAxBU,uBAwB0B3D,GACtCn5D,EAAK,GAAD,OAAI88D,EAAJ,0BAzBQ,yBA2BVA,EA3BU,eA2BkB3D,GAC9Bn5D,EAAK,GAAD,OAAI88D,EAAJ,kBA5BQ,IADG,2CAAH,sDAkCZrE,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQs8E,GAAMj9G,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BACzBJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAR,yBAA+BzR,EAA/B,cAgBF,OACE,kBAAC,GAAD,KACGyQ,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAai/F,GACb,kBAAC,KAAD,CAAQ57F,eAlBQm8B,EAkBqBy/D,EAjBzC57G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAC/B,GAAyB,SAArBm9C,EAAOn9C,GAAK0G,MAAwC,kBAArBy2C,EAAOn9C,GAAK0G,KAA0B,CACvE,IAAMywG,EAAoC,SAArBh6D,EAAOn9C,GAAK0G,KAAkB,KAAO,KAC1DwO,EAAIlV,GAAOm9C,EAAOn9C,GAAKI,MACnBjC,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GACxC+2G,MACC,CAAC,IAAD,EACLjiG,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAElC,OAAO8U,IACN,KAO6C+L,SAAUX,IACnD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAI,UAAK2wG,EAAL,cACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,iBAEd,kBAACtF,GAAD,CACErrG,KAAI,UAAK2wG,EAAL,iBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,oBAEd,kBAACvF,GAAD,CACEprG,KAAI,UAAK2wG,EAAL,cACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,iBAEd,kBAACxF,GAAD,CACEnrG,KAAI,UAAK2wG,EAAL,aACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,gBAEd,kBAACz5E,GAAD,KACE,kBAACo0E,GAAD,CACEtrG,KAAI,UAAK2wG,EAAL,WACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,cAEd,kBAACrF,GAAD,CACEtrG,KAAI,UAAK2wG,EAAL,oBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,uBAEd,kBAACrF,GAAD,CACEtrG,KAAI,UAAK2wG,EAAL,iBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,oBAEd,kBAACrF,GAAD,CACEtrG,KAAI,UAAK2wG,EAAL,cACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,kBAGhB,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,eACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,kBAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,gBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,mBAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,iBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,oBAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,qBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,wBAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,uBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,0BAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,oBACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,uBAEd,kBAACjF,GAAD,CACE1rG,KAAI,UAAK2wG,EAAL,YACJ78G,OAAQs9G,EAAK,GAAD,OAAIT,EAAJ,eAEb3qE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UC/LhBplG,6BAtCf,YAAyB,IAATnB,EAAQ,EAARA,KACRxM,EAAU,iBACVw1G,EAAYnvE,YAAc,CAAEj1B,KAAM,iBAAkBqS,OAAO,IAC3DgyF,EAAgBpvE,YAAc,CAClCj1B,KAAM,2BACNqS,OAAO,IAGT,OACE,kBAACpL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACGqmG,GAAa,kBAAC,IAAD,CAAUzjG,GAAE,UAAK/R,EAAL,oBAAgCyjB,OAAK,IAC9DgyF,GACC,kBAAC,IAAD,CACE1jG,GAAE,UAAK/R,EAAL,YAAgBy1G,EAAch7G,OAAO0N,SAArC,YACFsb,OAAK,IAGT,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,uBACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,oBACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,qBACLwM,EAAKU,EAAE,oCCZTS,6BAlBf,YAAkC,IAATnB,EAAQ,EAARA,KACvB,OACE,kBAAC,GAAD,KACGA,EAAKU,EAAE,8BACR,kBAAC,GAAD,KACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,0BAEFvF,EAAKU,EAAE,mBCMHS,6BAjBf,YAAgC,IAATnB,EAAQ,EAARA,KACrB,OACE,kBAAC,GAAD,KACGA,EAAKU,EAAE,iCACR,kBAAC,GAAD,KACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBM,UAAW43B,IACXrzB,GAAG,6BAEFvF,EAAKU,EAAE,2BCYHS,6BArBf,YAA4B,IAATnB,EAAQ,EAARA,KACXtM,EAAU,oBAEhB,OACE,kBAACmY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG3C,EAAKU,EAAE,yBACR,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU0iC,KAAM1vC,EAAS6R,GAAE,UAAK7R,EAAL,YAAwBujB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKlR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOkR,KAAI,UAAKlR,EAAL,UACT,kBAAC,GAAD,aC4FGyN,6BA/Ff,YAAkC,IAATnB,EAAQ,EAARA,KACfgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAuDnqB,GACrDzC,sBAAW,sBAAC,kCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,WADtC,uBACFnyG,EADE,EACFA,KAEF23G,EAAcvE,GAClBpzG,EACA,yBACA,sBACA,kCACA,uBACA,yBACA,0BACA,sBACA,0BACA,6BACA,sBACA,0BACA,8BAGIwzG,EAAa,GACnB13G,OAAOC,KAAK47G,GAAaj9G,SAAQ,SAAAI,GAC/B04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQy8G,EAAY78G,MAtB5B,kBAyBHi4G,GAAkBS,IAzBf,2CA0BT,CAACnzG,IACJ,MA5BMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBg/F,EAA3C,EAAmCt/F,OA+BnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,4BACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAam/F,GACb,kBAAC,GAAD,KACGA,EAAQn9G,KAAI,mCAAEK,EAAF,KAAOiV,EAAP,YACX,kBAACwiG,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEznB,QAAF,IAAEA,OAAF,EAAEA,EAAQmpC,UAClB9yC,MAAK,OAAE2J,QAAF,IAAEA,OAAF,EAAEA,EAAQ3J,MACf5E,KAAI,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAQvO,KACdsvG,KAAI,OAAE/gG,QAAF,IAAEA,OAAF,EAAEA,EAAQ+gG,KACd51G,MAAK,OAAE6U,QAAF,IAAEA,OAAF,EAAEA,EAAQ7U,aAKpB,OAAFmb,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,0BAEFvF,EAAKU,EAAE,oBCuLPS,6BApQf,YAAgC,IAATnB,EAAQ,EAARA,KACf+E,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAKIt6F,GACFzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,WADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACnBuF,EAAQvF,KAGb04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,OARrB,kBAUH04G,GAVG,2CAWT,CAACnzG,IACJ,MAjBAoY,EADF,EACEA,UACArK,EAFF,EAEEA,MACSypG,EAHX,EAGEj/F,QACQg/F,EAJV,EAIEt/F,OAiBF1C,qBAAU,WACRiiG,MACC,CAACA,IAEJ,IA6DsB5/D,EA7DtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,6BAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAW,2BACZx4D,GADW,IAEd29D,uBAAwBxE,GAAWn5D,EAAK29D,wBACxCC,oBAAqB59D,EAAK49D,qBAAuB,KACjDC,oBAAqB79D,EAAK69D,qBAAuB,QALhC,2CAAH,sDASZpF,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB,GACtB/2G,OAAOs/B,QAAQw8E,GAASl9G,SAAQ,YAAmB,IAAD,mBAAhBI,EAAgB,KAAXI,EAAW,KAChD23G,EAAc/3G,GAAOI,EAAMypB,WAHP,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUrB,EAKI5xB,GACFzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACW2W,GAAYytG,WAAW,UAAW,IAD7C,cACJ3/F,EADI,yBAEHA,GAFG,2CAGT,IACH,MATO4/F,EADT,EACE9pG,MACS+pG,EAFX,EAEEv/F,QACQw/F,EAHV,EAGE9/F,OACU+/F,EAJZ,EAIEx/F,SASF,EAGIC,GAAoBo/F,GAFfI,EADT,EACElqG,MACcmqG,EAFhB,EAEEt/F,aAGIqmC,EAAU,uCAAG,sBAAAzrD,EAAA,sEACXskH,IADW,2CAAH,qDAIVK,EAAmB,WACvBH,EAAe,MACfE,KAGIh4D,EAAe,WACnBnvC,EAAQqI,KAAK,8BAaf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAam/F,GACb,kBAAC,KAAD,CAAQ97F,eAfQm8B,EAeqB2/D,EAdzC97G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAGvB,IAAD,EAGP,MALyB,SAArBm9C,EAAOn9C,GAAK0G,KACdwO,EAAIlV,GAAO7B,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GAEnD8U,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAE3B8U,IACN,KAOgD+L,SAAUX,IACtD,SAAAY,GACC,OACE,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACk0E,GAAD,CACEnrG,KAAK,yBACLlM,OAAM,2BACDw9G,EAAQa,wBADP,IAEJv/D,UACE,oCACG0+D,EAAQa,uBAAuBv/D,WAC9Bl9B,EAAO1X,OAAOm0G,0BACZz8F,EAAO1X,OAAOyzG,sBACb/7F,EAAO1X,OAAO0zG,sBACf,oCACE,6BACA,6BACC3rG,EAAKU,EACJ,gHAQdwpB,UAAWlqB,EAAKU,EAAE,gCAClBm8B,UACGltB,EAAO1X,OAAOm0G,0BACbz8F,EAAO1X,OAAOyzG,sBACb/7F,EAAO1X,OAAO0zG,uBAGrB,kBAACpG,GAAD,CACEtrG,KAAK,sBACLlM,OAAQw9G,EAAQG,oBAChB75F,WAAYnP,QAAQiN,EAAO1X,OAAOm0G,0BAEpC,kBAAC7G,GAAD,CACEtrG,KAAK,sBACLlM,OAAQw9G,EAAQc,oBAChBl3G,KAAK,WAEP,kBAACkwG,GAAD,CACEprG,KAAK,sBACLlM,OAAQw9G,EAAQI,oBAChB95F,WAAYnP,QAAQiN,EAAO1X,OAAOm0G,0BAEpC,kBAAC7G,GAAD,CACEtrG,KAAK,0BACLlM,OAAQw9G,EAAQe,0BAElB,kBAAChH,GAAD,CACErrG,KAAK,0BACLlM,OAAQw9G,EAAQgB,0BAElB,kBAACnH,GAAD,CACEnrG,KAAK,kCACLiwB,UAAWlqB,EAAKU,EACd,sDAEF3S,OAAQw9G,EAAQiB,kCAElB,kBAACnH,GAAD,CACEprG,KAAK,0BACLlM,OAAQw9G,EAAQkB,0BAElB,kBAACpH,GAAD,CACEprG,KAAK,uBACLlM,OAAQw9G,EAAQmB,uBAEjB,CAAC,MAAO,SAASn9G,SAChBogB,EAAO1X,OAAOw0G,0BAEd,kBAAClH,GAAD,CACEtrG,KAAK,6BACLlM,OAAQw9G,EAAQoB,2BAChBx3G,KAAK,SACL0c,YAAU,IAG6B,UAA1ClC,EAAO1X,OAAOw0G,yBACb,kBAACrH,GAAD,CACEnrG,KAAK,6BACLiwB,UAAWlqB,EAAKU,EACd,8CAEF3S,OAAQw9G,EAAQqB,6BAGpB,kBAACjH,GAAD,CACE1rG,KAAK,yBACLlM,OAAQw9G,EAAQE,yBAEjBxrE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,GAEV,kBAAC,KAAD,CACE7xB,QACEoJ,EAAOk9F,QAAUl9F,EAAO1X,OAAOm0G,uBAC3BpsG,EAAKU,EACH,2EAEFV,EAAKU,EACH,mEAIR,6BACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnB2d,OAAO,sBACP7c,QAAQ,YACRrM,KAAK,SACLkS,QAAS4rC,EACT7rC,WACEuI,EAAOk9F,QACNl9F,EAAO1X,OAAOm0G,wBACfL,GACAE,GAGDjsG,EAAKU,EAAE,kBAMjBw3B,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,KAGfwF,GAAeE,IACf,kBAAC,GAAD,CACEl9D,gBAAiBg9D,EACjB/8D,cAAei9D,EACflsG,QAASosG,YCzOdhrG,6BAhCf,YAA4B,IAATnB,EAAQ,EAARA,KACXxM,EAAU,oBACRwW,EAAO3K,KAAP2K,GAER,OACE,kBAAC6B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,WACN,OAAFwW,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,cACH,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAU/M,GAAE,UAAK/R,EAAL,eAGhB,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,uC,8CC0HTS,6BAxIf,YAAqC,IAATnB,EAAQ,EAARA,KAClBgK,EAAO3K,KAAP2K,GACK8iG,EAAezI,KAApBpuE,IAER,EAAsDnqB,GACpDzC,sBAAW,sBAAC,oDAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,OADtC,uBACFnyG,EADE,EACFA,KADE,EAUNozG,GACFpzG,EACA,kCACA,qBACA,uCACA,2BACA,oBACA,0BACA,0BACA,2BACA,kBACA,+BACA,kBACA,kBACA,sBACA,oBACA,qBACA,kBA3BQ,IAIRo5G,gBACEC,EALM,EAKNA,4BACAC,EANM,EAMNA,6BACAC,EAPM,EAONA,kCAECC,EATK,kBA8BJC,EA9BI,2BA+BLD,GA/BK,IAgCRH,8BACAC,+BACAC,sCAIiBG,EAEfP,EAFFC,gBACG/4G,EAvCK,YAwCN84G,EAxCM,IA0CJQ,EA1CI,2BA2CLt5G,GA3CK,IA4CRg5G,4BAA4B,2BACvBK,GADsB,IAEzBl4G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,kCAEhBusG,6BAA6B,2BACxBI,GADuB,IAE1Bl4G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,mCAEhBwsG,kCAAkC,2BAC7BG,GAD4B,IAE/Bl4G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,0CAIZymG,EAAa,GACnB13G,OAAOC,KAAK09G,GAAY/+G,SAAQ,SAAAI,GAC9B04G,EAAW14G,GAAO6+G,EAAc7+G,GAChC04G,EAAW14G,GAAKI,MAAQu+G,EAAW3+G,MAhE3B,kBAkEHi4G,GAAkBS,IAlEf,4CAmET,CAAC2F,EAAY9sG,IAChB,MArEMoM,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBghG,EAA3C,EAAmCthG,OAwEnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,yCACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAamhG,GACb,kBAAC,GAAD,KACGA,EAAOn/G,KAAI,mCAAEK,EAAF,KAAOiV,EAAP,YACV,kBAACwiG,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEznB,QAAF,IAAEA,OAAF,EAAEA,EAAQmpC,UAClB9yC,MAAK,OAAE2J,QAAF,IAAEA,OAAF,EAAEA,EAAQ3J,MACf5E,KAAI,OAAEuO,QAAF,IAAEA,OAAF,EAAEA,EAAQvO,KACdsvG,KAAI,OAAE/gG,QAAF,IAAEA,OAAF,EAAEA,EAAQ+gG,KACd51G,MAAK,OAAE6U,QAAF,IAAEA,OAAF,EAAEA,EAAQ7U,aAKpB,OAAFmb,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,uCAEFvF,EAAKU,EAAE,oB,0PC0JPS,6BAlRf,YAAmC,IAATnB,EAAQ,EAARA,KAClB+E,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,oDAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,OADtC,uBACFnyG,EADE,EACFA,KADE,EASNozG,GACFpzG,EACA,kCACA,qBACA,uCACA,2BACA,oBACA,0BACA,0BACA,2BACA,kBACA,+BACA,kBACA,kBACA,sBACA,oBACA,qBACA,kBA1BQ,IAGRo5G,gBACEC,EAJM,EAINA,4BACAC,EALM,EAKNA,6BACAC,EANM,EAMNA,kCAECC,EARK,kBA6BJC,EA7BI,2BA8BLD,GA9BK,IA+BRH,8BACAC,+BACAC,sCAIiBG,EAEfr5G,EAFF+4G,gBACGS,EAtCK,YAuCNx5G,EAvCM,IAyCJs5G,EAzCI,2BA0CLE,GA1CK,IA2CRR,4BAA4B,2BACvBK,GADsB,IAEzB/0F,QAAS+0F,EAAwB/0F,QAAQ00F,4BACzC73G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,kCAEhBusG,6BAA6B,2BACxBI,GADuB,IAE1B/0F,QAAS+0F,EAAwB/0F,QAAQ20F,6BACzC93G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,mCAEhBwsG,kCAAkC,2BAC7BG,GAD4B,IAE/B/0F,QACE+0F,EAAwB/0F,QAAQ40F,kCAClC/3G,KAAMk4G,EAAwB9mF,MAAMpxB,KACpC4E,MAAOiG,EAAKU,EAAE,0CAIZymG,EAAa,GACnB13G,OAAOC,KAAK09G,GAAY/+G,SAAQ,SAAAI,GACzB6+G,EAAc7+G,KAGnB04G,EAAW14G,GAAO6+G,EAAc7+G,GAChC04G,EAAW14G,GAAKI,MAAQu+G,EAAW3+G,OAtE3B,kBAwEH04G,GAxEG,4CAyET,CAACnzG,EAASgM,IACb,MA3EMoM,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB0rG,EAAnC,EAA0BlhG,QAA8BghG,EAAxD,EAAgDthG,OA8EhD1C,qBAAU,WACRkkG,MACC,CAACA,IAEJ,IA2DsB7hE,EA3DtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,0CAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,qBAAAtmD,EAAA,6DAEjBwlH,EAIEl/D,EAJFk/D,4BACAC,EAGEn/D,EAHFm/D,6BACAC,EAEEp/D,EAFFo/D,kCACG90C,EALc,YAMftqB,EANe,aAObw4D,EAAW,2BACZluC,GADW,IAEds1C,kBAAmBzG,GAAW7uC,EAASs1C,mBACvCC,oBAAqB1G,GAAW7uC,EAASu1C,qBACzCZ,gBAAiB,CACfC,8BACAC,+BACAC,wCAde,2CAAH,sDAmBZ3G,EAAe,uCAAG,oCAAA/+G,EAAA,6DAEpBwlH,EAIEO,EAJFP,4BACAC,EAGEM,EAHFN,6BACAC,EAEEK,EAFFL,kCACGE,EALiB,YAMlBG,EANkB,IAQhB/G,EAAgB,GACtB/2G,OAAOs/B,QAAQq+E,GAAY/+G,SAAQ,YAAmB,IAAD,mBAAhBI,EAAgB,KAAXI,EAAW,KACnD23G,EAAc/3G,GAAOI,EAAMypB,WAVP,SAahBguF,EAAW,2BACZE,GADW,IAEduG,gBAAiB,CACfC,4BAA6BA,EAA4B10F,QACzD20F,6BAA8BA,EAA6B30F,QAC3D40F,kCACEA,EAAkC50F,YAnBlB,OAsBtBolB,IAtBsB,2CAAH,qDAyBfwW,EAAe,WACnBnvC,EAAQqI,KAAK,2CAaf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAamhG,GACb,kBAAC,KAAD,CAAQ99F,eAfQm8B,EAeqB2hE,EAdzC99G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAGvB,IAAD,EAGP,MALyB,SAArBm9C,EAAOn9C,GAAK0G,KACdwO,EAAIlV,GAAO7B,KAAKC,UAAU++C,EAAOn9C,GAAKI,MAAO,KAAM,GAEnD8U,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GAE3B8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GACC,OACE,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,iBACLlM,OAAQw/G,EAAOK,eACf/7F,YAAU,EACV1c,KAAK,QAEP,kBAACiwG,GAAD,CACEnrG,KAAK,+BACLlM,OAAQw/G,EAAOM,+BAEjB,kBAACzI,GAAD,CACEnrG,KAAK,2BACLlM,OAAQw/G,EAAOO,2BAEjB,kBAACvI,GAAD,CACEtrG,KAAK,qBACLlM,OAAQw/G,EAAOQ,mBACf54G,KAAK,SACL0c,YAAU,IAEZ,kBAAC0zF,GAAD,CACEtrG,KAAK,oBACLlM,OAAQw/G,EAAOS,kBACf74G,KAAK,SACL0c,YAAU,IAEZ,kBAACuzF,GAAD,CACEnrG,KAAK,qBACLlM,OAAQw/G,EAAOU,qBAEjB,kBAAC7I,GAAD,CACEnrG,KAAK,kCACLlM,OAAQw/G,EAAOW,kCAEjB,kBAAC3I,GAAD,CACEtrG,KAAK,0BACLlM,OAAQw/G,EAAOY,wBACfh5G,KAAK,QAEP,kBAACowG,GAAD,CACEtrG,KAAK,8BACLlM,OAAQw/G,EAAOP,4BACf73G,KAAK,WAEP,kBAACowG,GAAD,CACEtrG,KAAK,+BACLlM,OAAQw/G,EAAON,6BACf93G,KAAK,WAEP,kBAACowG,GAAD,CACEtrG,KAAK,oCACLlM,OAAQw/G,EAAOL,kCACf/3G,KAAK,WAEP,kBAACiwG,GAAD,CACEnrG,KAAK,0BACLlM,OAAQw/G,EAAOa,0BAEjB,kBAAC7I,GAAD,CACEtrG,KAAK,kBACLlM,OAAQw/G,EAAOc,kBAEjB,kBAAC/I,GAAD,CACErrG,KAAK,kBACLlM,OAAQw/G,EAAOe,kBAEjB,kBAAC/I,GAAD,CACEtrG,KAAK,2BACLlM,OAAQw/G,EAAOgB,yBACfp5G,KAAK,QAEP,kBAACowG,GAAD,CACEtrG,KAAK,uCACLlM,OAAQw/G,EAAOiB,qCACfr5G,KAAK,SACL0c,YAAU,IAEZ,kBAAC8zF,GAAD,CACE1rG,KAAK,sBACLlM,OAAQw/G,EAAOI,oBACf97F,YAAU,IAEZ,kBAAC8zF,GAAD,CACE1rG,KAAK,oBACLlM,OAAQw/G,EAAOG,oBAEhBztE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,YCrPlBplG,6BAhCf,YAA+B,IAATnB,EAAQ,EAARA,KACdxM,EAAU,iCACRwW,EAAO3K,KAAP2K,GAER,OACE,kBAAC6B,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,WACN,OAAFwW,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,cACH,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAU/M,GAAE,UAAK/R,EAAL,eAGhB,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,oDC4DTS,6BA3Ef,YAAiC,IAATnB,EAAQ,EAARA,KACdgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAsDnqB,GACpDzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,UADtC,uBACFnyG,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MALMyY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBkiG,EAA3C,EAAmCxiG,OAQnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,2BACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAaqiG,GACb,kBAAC,GAAD,KACGh/G,OAAOC,KAAK++G,GAAQrgH,KAAI,SAAAK,GACvB,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAE4/G,QAAF,IAAEA,OAAF,EAAEA,EAAShgH,UAMvB,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,yBAEFvF,EAAKU,EAAE,oBC6BPguG,OAhGf,WACE,IAAM3pG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,UADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACxB04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,MALrB,kBAOH04G,GAPG,2CAQT,CAACnzG,IACJ,MAVMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgB4sG,EAAnC,EAA0BpiG,QAA8BkiG,EAAxD,EAAgDxiG,OAahD1C,qBAAU,WACRolG,MACC,CAACA,IAEJ,IA6BsB/iE,EA7BtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,4BAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAWx4D,GADE,2CAAH,sDAIZy4D,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQ0/E,GAAQrgH,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC3BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,6BASf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAaqiG,GACb,kBAAC,KAAD,CAAQh/F,eAXQm8B,EAWqB6iE,EAVzCh/G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAAS,IAAD,EAEvC,OADAkV,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GACzB8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,gBACLlM,OAAQ0gH,EAAOG,gBAEjB,kBAACrJ,GAAD,CAAYtrG,KAAK,cAAclM,OAAQ0gH,EAAOI,cAC9C,kBAACvJ,GAAD,CACErrG,KAAK,gBACLlM,OAAQ0gH,EAAOK,gBAEhB7uE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UClEhBplG,6BA1Bf,YAA2B,IAATnB,EAAQ,EAARA,KACVxM,EAAU,mBAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,sCCmETS,6BA3Ef,YAA+B,IAATnB,EAAQ,EAARA,KACZgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAoDnqB,GAClDzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,QADtC,uBACFnyG,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MALMyY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBwiG,EAA3C,EAAmC9iG,OAQnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,yBACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa2iG,GACb,kBAAC,GAAD,KACGt/G,OAAOC,KAAKq/G,GAAM3gH,KAAI,SAAAK,GACrB,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAEkgH,QAAF,IAAEA,OAAF,EAAEA,EAAOtgH,UAMrB,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXva,OAAO,cACP9Y,GAAG,uBAEFvF,EAAKU,EAAE,oBC3DPS,6BAjBf,YAA6B,IAATnB,EAAQ,EAARA,KAClB,OACE,kBAAC,GAAD,KACGA,EAAKU,EAAE,iCACR,kBAAC,GAAD,KACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBM,UAAW43B,IACXrzB,GAAG,0BAEFvF,EAAKU,EAAE,2BCkBHS,I,YAAAA,yBA1Bf,YAAyB,IAATnB,EAAQ,EAARA,KACRxM,EAAU,iBAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,oC,WCAlBsuG,GAAc3tG,YAAOwK,KAAPxK,CAAH,iIAOXsB,GAAOtB,YAAO4tG,KAAP5tG,CAAH,gGAKJmxD,GAAanxD,YAAO6tG,KAAP7tG,CAAH,2IAQV8tG,GAAkB9tG,IAAOC,IAAV,4HAmJNH,6BA9If,YAAgC,IAATnB,EAAQ,EAARA,KACfjS,EAASsR,KACT+vG,EAAgB,CACpB,CACE7sG,OAAQvC,EAAKU,EAAE,uBACfoR,YAAa9R,EAAKU,EAChB,wEAAqCsN,U9axDpB,S8a0DnBna,GAAI,iBACJ6Q,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,0BACdkE,KAAM,mBAER,CACErD,MAAOvB,EAAKU,EAAE,wBACdkE,KAAM,oBAER,CACErD,MAAOvB,EAAKU,EAAE,gCACdkE,KAAM,2BAER,CACErD,MAAOvB,EAAKU,EAAE,sBACdkE,KAAM,kBAER,CACErD,MAAOvB,EAAKU,EAAE,wBACdkE,KAAM,oBAER,CACErD,MAAOvB,EAAKU,EAAE,sBACdkE,KAAM,kBAER,CACErD,MAAOvB,EAAKU,EAAE,yBACdkE,KAAM,sBAIZ,CACErC,OAAQvC,EAAKU,EAAE,qBACfoR,YAAa9R,EAAKU,EAChB,oEAA8CsN,U9a7F7B,S8a+FnBna,GAAI,OACJ6Q,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,sBACdkE,KAAM,oBAIZ,CACErC,OAAQvC,EAAKU,EAAE,eACfoR,YAAa9R,EAAKU,EAAE,mDACpB7M,GAAI,SACJ6Q,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,sCACdkE,KAAM,kCAER,CACErD,MAAOvB,EAAKU,EAAE,iCACdkE,KAAM,6BAER,CACErD,MAAOvB,EAAKU,EAAE,yBACdkE,KAAM,uBAIZ,CACErC,OAAQvC,EAAKU,EAAE,uBACfoR,YAAa9R,EAAKU,EAChB,+DAEF7M,GAAI,KACJ6Q,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,gCACdkE,KAAM,kBAIZ,CACErC,OAAQvC,EAAKU,EAAE,gBACfoR,YAAa9R,EAAKU,EAAE,+CACpB7M,GAAI,UACJ6Q,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,yBACdkE,KAAM,wBAMd,OAAmC,IAA/BnV,OAAOC,KAAK3B,GAAQa,OAEpB,kBAACid,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,QAON,kBAACmjG,GAAD,KACGI,EAAchhH,KAAI,YAA0C,IAAD,EAAtC0jB,EAAsC,EAAtCA,YAAavP,EAAyB,EAAzBA,OAAQ1O,EAAiB,EAAjBA,GAAI6Q,EAAa,EAAbA,OAC7C,MAAW,YAAP7Q,GAA2D,UAAjC,OAAN9F,QAAM,IAANA,GAAA,UAAAA,EAAQovG,oBAAR,eAAsBI,cACrC,KAGP,kBAAC,GAAD,CAAMpsF,WAAS,EAAC1iB,IAAK8T,GACnB,kBAAC,GAAD,KACE,kBAAC8sG,GAAA,EAAD,KAAY9sG,GACZ,kBAAC4sG,GAAD,KAAkBr9F,IAEpB,kBAAC0lB,GAAA,EAAD,CAAUh1B,aAAA,UAAe3O,EAAf,aAA8Bsd,WAAS,GAC9CzM,EAAOtW,KAAI,gBAAGmT,EAAH,EAAGA,MAAOqD,EAAV,EAAUA,KAAV,OACV,kBAACqyB,GAAA,EAAD,CAAcxoC,IAAK8S,GACjB,kBAAC21B,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAACN,GAAA,EAAD,CAAcroC,IAAK8S,GACjB,kBAAC,IAAD,CAAMgE,GAAIX,GAAOrD,qBCrF5BJ,6BA3Ef,YAAiC,IAATnB,EAAQ,EAARA,KACdgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAsDnqB,GACpDzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,cADtC,uBACFnyG,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,IACH,MALMyY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiB+iG,EAA3C,EAAmCrjG,OAQnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,2BACL1gC,GAAI,IAIR,OACE,oCACE,kBAAC,GAAD,CAAY0uC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAakjG,GACb,kBAAC,GAAD,KACG7/G,OAAOC,KAAK4/G,GAAQlhH,KAAI,SAAAK,GACvB,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAEygH,QAAF,IAAEA,OAAF,EAAEA,EAAS7gH,UAMvB,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAG,wBACH8Y,OAAO,eAENre,EAAKU,EAAE,oBC8CP6uG,OA7Gf,WACE,IAAMxqG,EAAU8C,cAChB,EAAiD2uD,KAAzCt+B,EAAR,EAAQA,YAAaE,EAArB,EAAqBA,YAAasF,EAAlC,EAAkCA,WACrB1pC,EAAYqwG,KAAjB+B,IAER,EAAmEt6F,GACjEzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,cADtC,uBACFnyG,EADE,EACFA,KACFwzG,EAAa,GACnB13G,OAAOC,KAAKiE,GAAMtF,SAAQ,SAAAI,GACxB04G,EAAW14G,GAAOuF,EAAQvF,GAC1B04G,EAAW14G,GAAKI,MAAQ8E,EAAKlF,MALrB,kBAOH04G,GAPG,2CAQT,CAACnzG,IACJ,MAVMoY,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAgBytG,EAAnC,EAA0BjjG,QAA8B+iG,EAAxD,EAAgDrjG,OAahD1C,qBAAU,WACRimG,MACC,CAACA,IAEJ,IA6BsB5jE,EA7BtB,EAAoD9/B,GAClDzC,sBAAW,uCACT,WAAMpR,GAAN,SAAAzQ,EAAA,sEACQ2W,GAAYkoG,UAAUpuG,GAD9B,OAEE8M,EAAQqI,KAAK,4BAFf,2CADS,sDAKT,CAACrI,IAEH,MARak7B,EAAf,EAAQl+B,MAA6BukG,EAArC,EAA4B/5F,QAWtBwC,EAAY,uCAAG,WAAM++B,GAAN,SAAAtmD,EAAA,sEACb8+G,EAAWx4D,GADE,2CAAH,sDAIZy4D,EAAe,uCAAG,4BAAA/+G,EAAA,6DAChBg/G,EAAgB/2G,OAAOk3C,OAAP,MAAAl3C,OAAM,YACvBA,OAAOs/B,QAAQugF,GAAQlhH,KAAI,mCAAEK,EAAF,KAAOI,EAAP,4BAC3BJ,EAAMI,EAAMypB,cAHK,SAMhBguF,EAAWE,GANK,OAOtB9oE,IAPsB,2CAAH,qDAUfwW,EAAe,WACnBnvC,EAAQqI,KAAK,6BASf,OACE,kBAAC,GAAD,KACGhB,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAakjG,GACb,kBAAC,KAAD,CAAQ7/F,eAXQm8B,EAWqB0jE,EAVzC7/G,OAAOC,KAAKk8C,GAAQ76C,QAAO,SAAC4S,EAAKlV,GAAS,IAAD,EAEvC,OADAkV,EAAIlV,GAAJ,UAAWm9C,EAAOn9C,GAAKI,aAAvB,QAAgC,GACzB8U,IACN,KAO+C+L,SAAUX,IACrD,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACq0E,GAAD,CACEtrG,KAAK,kBACLlM,OAAQuhH,EAAOG,kBAEjB,kBAAClK,GAAD,CACEtrG,KAAK,kBACLlM,OAAQuhH,EAAOI,gBACfv6G,KAAK,WAEP,kBAACmwG,GAAD,CACErrG,KAAK,oBACLlM,OAAQuhH,EAAOK,oBAEjB,kBAACpK,GAAD,CACEtrG,KAAK,6BACLlM,OAAQuhH,EAAOM,2BACfz6G,KAAK,WAEP,kBAACkwG,GAAD,CACEprG,KAAK,2BACLlM,OAAQuhH,EAAOO,2BAEhB5vE,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,KAE1C,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,aACjB41F,SAAUvsE,IAEXF,GACC,kBAAC,GAAD,CACEn4B,QAAS29B,EACTgnE,YAAa6B,UCnFhBplG,6BA1Bf,YAA2B,IAATnB,EAAQ,EAARA,KACVxM,EAAU,mBAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,uCCkFTS,6BAzFf,YAA6B,IAATnB,EAAQ,EAARA,KACVgK,EAAO3K,KAAP2K,GACKhW,EAAYqwG,KAAjBpuE,IAER,EAAkDnqB,GAChDzC,sBAAW,sBAAC,gCAAA7hB,EAAA,sEACa2W,GAAY2nG,aAAa,MADtC,uBACFnyG,EADE,EACFA,KAEFm8G,EAAS/I,GACbpzG,EACA,uBACA,cACA,qBAPQ,kBAUHm8G,GAVG,2CAWT,IACH,MAbM1jG,EAAR,EAAQA,UAAWrK,EAAnB,EAAmBA,MAAOwK,EAA1B,EAA0BA,QAAiBwjG,EAA3C,EAAmC9jG,OAgBnC1C,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg2B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,0BAGZ6zB,KAAK,YACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,uBACL1gC,GAAI,IAUR,OAJA,OAAIG,QAAJ,IAAIA,OAAJ,EAAIA,EAASg8G,eACXh8G,EAAQg8G,YAAY76G,KAAO,SAI3B,oCACE,kBAAC,GAAD,CAAYotC,UAAWA,IACvB,kBAAC,GAAD,KACGn2B,GAAa,kBAAC,GAAD,OACZA,GAAarK,GAAS,kBAAC,GAAD,CAAcA,MAAOA,KAC3CqK,GAAa2jG,GACb,kBAAC,GAAD,KACGtgH,OAAOC,KAAKqgH,GAAI3hH,KAAI,SAAAK,GACnB,IAAM08C,EAAM,OAAGn3C,QAAH,IAAGA,OAAH,EAAGA,EAAUvF,GACzB,OACE,kBAACy3G,GAAD,CACEz3G,IAAKA,EACLoF,GAAIpF,EACJ08B,SAAQ,OAAEggB,QAAF,IAAEA,OAAF,EAAEA,EAAQ0B,UAClB9yC,MAAK,OAAEoxC,QAAF,IAAEA,OAAF,EAAEA,EAAQpxC,MACf5E,KAAI,OAAEg2C,QAAF,IAAEA,OAAF,EAAEA,EAAQh2C,KACdsvG,KAAI,OAAEt5D,QAAF,IAAEA,OAAF,EAAEA,EAAQs5D,KACd51G,MAAK,OAAEkhH,QAAF,IAAEA,OAAF,EAAEA,EAAKthH,UAMnB,OAAFub,QAAE,IAAFA,OAAA,EAAAA,EAAIsI,eACH,kBAAC,GAAD,KACE,kBAACvH,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAG,oBACH8Y,OAAO,eAENre,EAAKU,EAAE,oBC1EPS,6BAjBf,YAA2B,IAATnB,EAAQ,EAARA,KAChB,OACE,kBAAC,GAAD,KACGA,EAAKU,EAAE,iCACR,kBAAC,GAAD,KACE,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,qBACnBM,UAAW43B,IACXrzB,GAAG,wBAEFvF,EAAKU,EAAE,2BCkBHS,6BA1Bf,YAAuB,IAATnB,EAAQ,EAARA,KACNxM,EAAU,eAChB,OACE,kBAACqY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUygC,KAAM5vC,EAAS+R,GAAE,UAAK/R,EAAL,YAAwByjB,OAAK,IACxD,kBAAC,IAAD,CAAOrS,KAAI,UAAKpR,EAAL,aACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOoR,KAAI,UAAKpR,EAAL,UACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAO/E,IAAI,YAAYmW,KAAI,UAAKpR,EAAL,OACzB,kBAAC,GAAD,CAAc4X,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAE,UAAK/R,EAAL,aACLwM,EAAKU,EAAE,8CCwKTS,6BAtKf,YAA6B,IAATnB,EAAQ,EAARA,KAClB,EAAkCX,KAAlC,IAAQ89F,oBAAR,MAAuB,GAAvB,EAA2BnzF,EAA3B,EAA2BA,GAE3B,EAA8C8B,GAC5CzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACa2W,GAAY8xG,iBADzB,cACJj9G,EADI,yBAEHA,EAASW,KAAKmX,SAFX,2CAGT,KAJGyB,EAAR,EAAQA,QAASN,EAAjB,EAAiBA,OAAQG,EAAzB,EAAyBA,UAAWrK,EAApC,EAAoCA,MAOpCwH,qBAAU,WACRgD,MACC,CAACA,IAEJ,IAAMg3B,EAAmB,CACvB,YAAavjC,EAAKU,EAAE,iBACpB,4BAA6BV,EAAKU,EAAE,2BACpC,oCAAqCV,EAAKU,EAAE,gBAC5C,iCAAkCV,EAAKU,EAAE,qBACzC,kBAAmBV,EAAKU,EAAE,iBAC1B,0BAA2BV,EAAKU,EAAE,gBAClC,uBAAwBV,EAAKU,EAAE,qBAC/B,mBAAoB,KACpB,2BAA4BV,EAAKU,EAAE,uBACnC,mCAAoCV,EAAKU,EAAE,gBAC3C,gCAAiCV,EAAKU,EAAE,qBACxC,gCAAiCV,EAAKU,EAAE,4BACxC,wCAAyCV,EAAKU,EAAE,gBAChD,qCAAsCV,EAAKU,EAAE,qBAC7C,wBAAyBV,EAAKU,EAAE,oBAChC,gCAAiCV,EAAKU,EAAE,gBACxC,6BAA8BV,EAAKU,EAAE,qBACrC,0BAA2BV,EAAKU,EAAE,sBAClC,kCAAmCV,EAAKU,EAAE,gBAC1C,+BAAgCV,EAAKU,EAAE,qBACvC,iBAAkBV,EAAKU,EAAE,qBACzB,yBAA0BV,EAAKU,EAAE,gBACjC,sBAAuBV,EAAKU,EAAE,qBAC9B,iBAAkB,KAClB,yBAA0BV,EAAKU,EAAE,qBACjC,mBAAoBV,EAAKU,EAAE,eAC3B,mBAAoBV,EAAKU,EAAE,eAC3B,mBAAoBV,EAAKU,EAAE,eAC3B,mBAAoBV,EAAKU,EAAE,eAC3B,mBAAoBV,EAAKU,EAAE,eAC3B,iCAAkCV,EAAKU,EAAE,gBACzC,2BAA4BV,EAAKU,EAAE,gBACnC,2BAA4BV,EAAKU,EAAE,gBACnC,2BAA4BV,EAAKU,EAAE,gBACnC,2BAA4BV,EAAKU,EAAE,gBACnC,2BAA4BV,EAAKU,EAAE,gBACnC,8BAA+BV,EAAKU,EAAE,qBACtC,wBAAyBV,EAAKU,EAAE,qBAChC,wBAAyBV,EAAKU,EAAE,qBAChC,wBAAyBV,EAAKU,EAAE,qBAChC,wBAAyBV,EAAKU,EAAE,qBAChC,wBAAyBV,EAAKU,EAAE,qBAChC,oBAAqBV,EAAKU,EAAE,gBAC5B,oBAAqBV,EAAKU,EAAE,gBAC5B,4BAA6BV,EAAKU,EAAE,gBACpC,yBAA0BV,EAAKU,EAAE,qBACjC,iCAAkCV,EAAKU,EAAE,6BACzC,yCAA0CV,EAAKU,EAAE,gBACjD,sCAAuCV,EAAKU,EAAE,qBAC9C,mBAAoBV,EAAKU,EAAE,eAC3B,2BAA4BV,EAAKU,EAAE,gBACnC,wBAAyBV,EAAKU,EAAE,qBAChC,iBAAkBV,EAAKU,EAAE,aACzB,yBAA0BV,EAAKU,EAAE,gBACjC,sBAAuBV,EAAKU,EAAE,qBAC9B,mBAAoBV,EAAKU,EAAE,gBAC3B,2BAA4BV,EAAKU,EAAE,gBACnC,wBAAyBV,EAAKU,EAAE,qBAChC,eAAgBV,EAAKU,EAAE,uBACvB,uBAAwBV,EAAKU,EAAE,gBAC/B,oBAAqBV,EAAKU,EAAE,sBAG9B,OAAIqB,EAEA,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,OAMzBqK,GAAcH,GAAWjC,GAUzB,OAACA,QAAD,IAACA,OAAD,EAACA,EAAIsI,gBAAgB,OAACtI,QAAD,IAACA,OAAD,EAACA,EAAIuI,mBAK5B,kBAAC6xF,GAAD,CAAkBv1G,MAAOod,GACvB,kBAAC,GAAD,CAAc63B,WAAW,UAAUP,iBAAkBA,IACrD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,6BACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,mBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,oBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,2BACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,kBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,kBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,qBACsB,UAAnB,OAAZu4F,QAAY,IAAZA,OAAA,EAAAA,EAAcI,cACb,kBAAC,GAAD,MAEA,kBAAC,IAAD,CAAUh4F,GAAG,eAGjB,kBAAC,IAAD,CAAOX,KAAK,qBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,kCACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,oBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,kBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,oBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,gBACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,YAAYqS,OAAK,GAC3B,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOxoB,IAAI,YAAYmW,KAAK,KAC1B,kBAACiH,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcyI,YAAU,GACtB,kBAAC,IAAD,CAAM7F,GAAG,aAAavF,EAAKU,EAAE,iCAzDlC,kBAAC,IAAD,CAAU6E,GAAG,MATlB,kBAACsG,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,WCjGJ02B,GAAiBh4B,YAAOi4B,MAAV,mFAAGj4B,CAAH,+EAuELF,6BAhEf,YAAwE,IAAhDi/D,EAA+C,EAA/CA,KAAM3mC,EAAyC,EAAzCA,WAAY5yB,EAA6B,EAA7BA,SAAU6yB,EAAmB,EAAnBA,UAAW15B,EAAQ,EAARA,KAQvD80B,EAAO,uBAAmBsrC,EAAKvsE,IAErC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAK2xE,EAAKvsE,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKusE,EAAKvsE,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiBusE,EAAKvsE,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAMoF,GAAIihC,EAASvvB,GAAE,UAAKm0B,IACxB,2BAAI0mC,EAAKnmE,QAGb,kBAAC,GAAD,CAAcxL,IAAI,gBACf2xE,EAAKxtD,eAAe1Y,cACnB,kBAAC,WAAD,KACE,2BAAI8F,EAAKU,EAAE,sBAAY,IACvB,kBAAC,IAAD,CACE6E,GAAE,yBAAoB66D,EAAKxtD,eAAe1Y,aAAarG,GAArD,aAEF,2BAAIusE,EAAKxtD,eAAe1Y,aAAaD,YAOjD,kBAAC,GAAD,CACEuI,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHsrC,EAAKxtD,eAAeb,kBAAkB6nB,KACrC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,kBAAe4F,SAAS,OAC/C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,kBACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,iBAAY66D,EAAKvsE,GAAjB,UAEF,kBAAC,KAAD,QAIJ,SCnENgiC,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,SA0LGyT,6BAvLf,YAA6B,IAATnB,EAAQ,EAARA,KACZiF,EAAW6C,cACX4vB,EAAQmC,cACd,EAAgC52B,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEA,EAWIntB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpD1L,GAAS3J,KAAKzG,GACdoQ,GAASy3B,gBAJD,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL4mE,MAAO3pG,EAASW,KAAKsB,QACrByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,IACJ,CACE03F,MAAO,GACPj8E,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACE0wF,EAFJ,EAEIA,MACAj8E,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSkyF,EAVX,EAUE/xF,QA6BFhD,qBAAU,WACR+0F,MACC,CAACA,IAEJ,IAAMv9E,EAAgBiY,EAASpqC,SAAW+tG,EAAM/tG,QAAUoqC,EAASpqC,OAAS,EAC5E,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,SAAAgyE,GAAI,OAAI/hE,GAAS27B,QAAQomC,EAAKvsE,UAC7D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYsxF,IAXHrzD,EADb,EACE7+B,UACa8jG,EAFf,EAEEhjG,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYI6iG,EAAgB,uCAAG,sBAAA3oH,EAAA,sEACjB0oH,IADiB,OAEvBj3E,EAAY,IAFW,2CAAH,qDAKhBpU,EAAoBomB,GAAmB7+B,EACvCguB,EAAStvB,GAAWA,EAAQuvB,KAE5Byc,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOkjE,GAAS,KAGlCzjE,EAAe,SAAAC,GACfH,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,MAClColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOslC,EAAItlC,OAE9ColC,EAAYD,EAASrnC,OAAOwnC,KAIhC,OACE,kBAAC,WAAD,KACE,kBAACttB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBA,EACnBl6B,MAAOgyG,EACPj8E,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,0BACbjS,IAAK,iCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,IARY,CAShB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUo4E,EACVr4E,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,6BAKnC62B,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE5qD,IAAK4qD,EAAExlD,GACPusE,KAAM/mB,EACN3f,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBq1C,EAAExlD,IAC7B4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBAAMqyB,EAAamgB,OAGjCp2B,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,UAChC,SAKZ,kBAAC,GAAD,CACElE,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,4CACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,wDC9L5B,SAAS+iG,GAAT,GAAyC,IAAfhwC,EAAc,EAAdA,KAAMpgE,EAAQ,EAARA,KACtBmQ,EAAkB2hB,eAAlB3hB,cACR,EAAwClN,mBACtCm9D,EAAKxtD,eAAiBwtD,EAAKxtD,eAAe1Y,aAAe,MAD3D,mBAAOA,EAAP,KAAqBm2G,EAArB,KAGA,EAAgChjF,aAAS,CACvCpzB,KAAM,eACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,mBAAS0zC,EAAT,KAAkBC,EAAlB,KAKM7T,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,EAAMgF,IACpCw8G,EAAgBxhH,KAElB,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,YACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,OACL9E,KAAK,OACLi4B,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,mBACHkG,MAAOiG,EAAKU,EAAE,qBACdzG,KAAK,cACL9E,KAAK,SAEP,kBAAC,GAAD,CACEy4B,kBAAmB8lB,EAAQ3xC,MAC3ByrB,SAAUkmB,EAAQjmB,UAAYimB,EAAQ3xC,MACtCg8B,OAAQ,kBAAM4V,EAAW5T,WAAW,iBACpClkB,SAAUikB,EACVjxC,MAAOqL,EACPke,UAAQ,EACRqmB,eAAc,OAAC2hC,QAAD,IAACA,OAAD,EAACA,EAAMvsE,OAM7B,SAASy8G,GAAS5uG,GAChB,IAAQ0+D,EAA2D1+D,EAA3D0+D,KAAMlsB,EAAqDxyC,EAArDwyC,aAAcnlC,EAAuCrN,EAAvCqN,aAAckxB,EAAyBv+B,EAAzBu+B,YAAgB7V,EAA1D,YAAmE1oB,EAAnE,IAEA,OACE,kBAAC,KAAD,CACE+N,cAAe,CACbqC,YAAasuD,EAAKtuD,aAAe,GACjC7X,KAAMmmE,EAAKnmE,MAAQ,GACnBC,aAAckmE,EAAKlmE,cAAgB,IAErCwV,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACk/E,GAAD,eAAgBhwC,KAAMA,GAAUh2C,IAChC,kBAAC,GAAD,CAAiBroB,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,oBAgB/BuhG,GAASpvG,aAAe,CACtBk/D,KAAM,GACNngC,YAAa,MAGA9+B,4BAAWmvG,IC1FpBC,G,kDACJ,WAAY7uG,GAAQ,IAAD,8BACjB,cAAMA,IACDqN,aAAe,EAAKA,aAAapa,KAAlB,gBACpB,EAAKu/C,aAAe,EAAKA,aAAav/C,KAAlB,gBACpB,EAAK2oC,MAAQ,CAAEv7B,MAAO,MAJL,E,uFAOnB,WAAmB9J,GAAnB,mBAAAzQ,EAAA,6DACUud,EAAYtR,KAAKiO,MAAjBqD,QADV,kBAGqC1G,GAAS1L,OAAOsF,GAHrD,gBAGkBjF,EAHlB,EAGYW,KACRoR,EAAQqI,KAAR,iBAAuBpa,EAASa,KAJpC,gDAMIJ,KAAKwyD,SAAS,CAAElkD,MAAK,OANzB,yD,iFAUA,WACsBtO,KAAKiO,MAAjBqD,QACAqI,KAAK,Y,oBAGf,WAAU,IAAD,OACCrL,EAAUtO,KAAK6pC,MAAfv7B,MAER,OACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,MACG,gBAAGqH,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CACE+E,aAAc,EAAKA,aACnBmlC,aAAc,EAAKA,aACnBlqC,GAAIA,GAAM,GACVi2B,YAAal+B,c,GApCT/C,IAAMyG,WAgDbC,eAAW6qG,ICiCXpvG,6BA3Ef,YAAqC,IAAfi/D,EAAc,EAAdA,KAAMpgE,EAAQ,EAARA,KAClB/F,EAAyDmmE,EAAzDnmE,KAAM6X,EAAmDsuD,EAAnDtuD,YAAaU,EAAsC4tD,EAAtC5tD,QAASU,EAA6BktD,EAA7BltD,SAAUN,EAAmBwtD,EAAnBxtD,eACxC7N,EAAU8C,cACRhU,EAAOutC,cAAPvtC,GAER,EAA+DiY,GAC7DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ6W,GAAS27B,QAAQnmC,GADb,OAEVkR,EAAQqI,KAAR,UAFU,2CAGT,CAACvZ,EAAIkR,KAJOyrG,EAAjB,EAAQjkG,QAAqBH,EAA7B,EAA6BA,UAO7B,EAAgCK,GAPhC,EAAwC1K,OAOhCA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOoL,EACPgxB,OAAO,qBAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CACE/X,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,KACrD+e,EAAe1Y,aAAaD,QAInC,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,2BAAS7R,MAAO24B,GAAiBhV,KACvD,kBAAC,GAAD,CACEzY,MAAOiG,EAAKU,EAAE,6CACd7R,MAAO24B,GAAiBtU,MAG5B,kBAAC,GAAD,KACGN,EAAeb,mBACda,EAAeb,kBAAkB6nB,MAC/B,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,iBAAY1R,EAAZ,UAEDmM,EAAKU,EAAE,cAGbkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,oBACnB4gC,UAAWkvE,EACXppG,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOA,SCzE9B,SAAS0uG,GAAT,GAA6B,IAATrwC,EAAQ,EAARA,KACZr7D,EAAU8C,cAChB,EAA0B5E,mBAAS,MAAnC,mBAAOlB,EAAP,KAAcoK,EAAd,KAEM4C,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,+EAEX6W,GAASgjC,OAAO++B,EAAKvsE,GAAIoE,GAFd,OAGjB8M,EAAQqI,KAAR,iBAAuBgzD,EAAKvsE,GAA5B,aAHiB,+CAKjBsY,EAAS,EAAD,IALS,wDAAH,sDASZ+nC,EAAe,WACnBnvC,EAAQqI,KAAR,iBAAuBgzD,EAAKvsE,GAA5B,cAGF,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,MACG,gBAAGmW,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CACEo2D,KAAMA,EACNrxD,aAAcA,EACdmlC,aAAcA,EACdlqC,GAAIA,GAAM,GACVi2B,YAAal+B,QAYzB0uG,GAAS3W,aAAe,CACtB7nB,mBAAoBtN,KAAUlzD,QAAQkzD,KAAUjzD,SAGnC++F,UCUAtvG,I,GAAAA,yBAjDf,YAAgE,IAApCwQ,EAAmC,EAAnCA,KAAM3R,EAA6B,EAA7BA,KAAM05B,EAAuB,EAAvBA,UAAW7yB,EAAY,EAAZA,SAC3CiuB,EAAO,mBAAenjB,EAAK9d,IACjC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKkjB,EAAK9d,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAK8d,EAAK9d,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBAC1C,kBAAC,IAAD,CAAM6E,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAInjB,EAAKiB,eAAe89F,iBAG5B,kBAAC,GAAD,CAAcjiH,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBACzCiR,EAAKiB,gBACJ,kBAAC,GAAD,CAAYgX,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8iB,EAAKiB,eAAe+9F,+BAKnC,kBAAC,GAAD,CAAcliH,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBACzCiR,EAAK1X,MACJ,kBAAC,GAAD,CAAY2vB,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,aACd7R,MACE,kBAACytC,GAAA,EAAD,CACE7tC,IAAKkjB,EAAK1X,KACVuI,aAAYmP,EAAK1X,KACjBoN,QAAS,kBAAMR,EAAS8K,IACxBuqB,YACGvqB,EAAKiB,eAAeb,kBAAkBC,UAGxCL,EAAK1X,kBCvCf,SAAS22G,GAAwB5wG,GAC9C,MAAO,CACL,CACEinC,iBAAkB,cAClBltC,MAAOiG,EAAKU,EAAE,sBACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,uBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAI/f,GAAgB7I,KAAK4oB,IAChD4jB,aAAc,kBAAM3jC,GAAgBu4B,gBAEtC,CACEmR,iBAAkB,sBAClBltC,MAAOiG,EAAKU,EAAE,+BACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,uBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAIze,GAAwBnK,KAAK4oB,IACxD4jB,aAAc,kBAAMriC,GAAwBi3B,gBAE9C,CACEmR,iBAAkB,aAClBltC,MAAOiG,EAAKU,EAAE,oBACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eACLuF,QAAS,CACP,CAAC,GAAIgM,EAAKU,EAAE,gBACZ,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,UAAWV,EAAKU,EAAE,wBACnB,CAAC,WAAYV,EAAKU,EAAE,4BAGxB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAIxgB,GAAepI,KAAK4oB,IAC/C4jB,aAAc,kBAAMpkC,GAAeg5B,gBAErC,CACEmR,iBAAkB,YAClBltC,MAAOiG,EAAKU,EAAE,oBACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAIlgB,GAAe1I,KAAK4oB,IAC/C4jB,aAAc,kBAAM9jC,GAAe04B,gBAErC,CACEmR,iBAAkB,UAClBltC,MAAOiG,EAAKU,EAAE,iBACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eACLuF,QAAS,CACP,CAAC,GAAIgM,EAAKU,EAAE,gBACZ,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,UAAWV,EAAKU,EAAE,wBACnB,CAAC,WAAYV,EAAKU,EAAE,4BAGxB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAIvf,GAAYrJ,KAAK4oB,IAC5C4jB,aAAc,kBAAMnjC,GAAY+3B,gBAElC,CACEmR,iBAAkB,eAClBltC,MAAOiG,EAAKU,EAAE,sBACdkgB,cAAe,CACb,CACE3mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGToyB,YAAa,CACX,CACE5mB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTue,WAAY,SAAAsQ,GAAW,OAAIzf,GAAiBnJ,KAAK4oB,IACjD4jB,aAAc,kBAAMrjC,GAAiBi4B,iBCjM3C,IAAMwvD,GAAOjkF,IAAOC,IAAV,2KAqKKH,6BA9Jf,YAAuE,IAAvCnB,EAAsC,EAAtCA,KAAMuB,EAAgC,EAAhCA,MAAOsvG,EAAyB,EAAzBA,YAAaxmE,EAAY,EAAZA,SACxD,EAAwDpnC,mBAAS,MAAjE,mBAAO6tG,EAAP,KAA6BC,EAA7B,KACA,EAAwC9tG,oBAAS,GAAjD,mBAAO6hE,EAAP,KAAqBC,EAArB,KACA,EAA0C9hE,mBAAS,GAAnD,mBAAO+tG,EAAP,KAAsBC,EAAtB,KACYh2G,EAAWmmC,cAAfvtC,GACR,EAA6CyL,qBAAWghB,IAAhD8B,EAAR,EAAQA,aAAcC,EAAtB,EAAsBA,mBACtB,EAGIyW,GAAY,IAFJo4E,EADZ,EACEl4E,SACc4O,EAFhB,EAEE1O,aAEF3vB,qBAAU,WACJ6Y,GACFC,EAAmByiD,KAEpB,CAAC1iD,EAAc0iD,EAAcziD,IAEhC,MAGIyW,GAAY,IAFJq4E,EADZ,EACEn4E,SACco4E,EAFhB,EAEEl4E,aAGF,EAAwDptB,GACtDzC,sBAAW,sBAAC,8BAAA7hB,EAAA,6DACJugD,EAAe,GACfspE,EAAqBH,EAAkB/6C,SAAQ,SAAAhjC,GAAQ,OAC3D1jC,OAAOwI,OAAOk7B,EAASvgB,eAAeK,iBAGxCk+F,EAAc/iH,KAAI,SAAAujB,GAAI,OACpB0/F,EAAmBhjH,SAAQ,SAAAijH,GACrBA,EAASr3G,OAAS0X,EAAK1X,MACzB8tC,EAAa36B,KAAKi9B,EAASpC,cAAchtC,EAAQq2G,EAASz9G,WATtD,SAcJ+B,QAAQmU,IAAIg+B,GAdR,OAeV8oE,IACA9rC,GAAgB,GAhBN,2CAiBT,CAAC8rC,EAAaM,EAAe9mE,EAAUpvC,EAAQi2G,IAClD,IAnBeppE,EAAjB,EAAQv7B,QAsBR,EAAgCE,GAtBhC,EAAmC1K,OAsB3BA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAET67B,EAAQ,CACZ,CACE50C,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,0BACbM,UACE,kBAACskF,GAAD,KACGsrB,GAAwB5wG,GAAM5R,KAAI,SAAA+kC,GAAQ,OACzC,kBAAC,GAAD,CACE1kC,IAAK0kC,EAAS8T,iBACdxN,WACEtG,EAAS8T,oBAAT,OACA6pE,QADA,IACAA,OADA,EACAA,EAAsB7pE,kBAExBltC,MAAOo5B,EAASp5B,MAChBkxB,OAAM,mBAAckI,EAAS8T,kBAC7B5/B,QAAS,kBAAM0pG,EAAwB59E,UAK/CyV,WAAqC,OAAzBkoE,GAEd,CACEj9G,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,+BACbM,UAAW8vG,GACT,kBAAC,GAAD,CACElwF,cAAekwF,EAAqBlwF,cACpCC,YAAaiwF,EAAqBjwF,YAClCob,WAAW,OACX3E,WAAYsQ,EACZ56B,WAAY8jG,EAAqB9jG,WACjCk0B,aAAc4vE,EAAqB5vE,aACnCuE,cAAezlC,EAAKU,EAAE,2BACtBglC,qBAAsBwrE,EACtBryE,gBAAgB,aAGpB+J,WAAYsoE,EAAkBtiH,OAAS,EACvCi6C,UAAWmoE,GAAiB,GAE9B,CACEn9G,GAAI,EACJoG,KAAM+F,EAAKU,EAAE,8BACbM,WAA4B,OAAjBkwG,QAAiB,IAAjBA,OAAA,EAAAA,EAAmBtiH,QAAS,GACrC,kBAACk6C,GAAD,CACE5C,aAAckrE,EACdjrE,MAAO+qE,EAAkB,GAAGt+F,eAAeK,aAC3CmzB,gBAC2B,UAAzB0qE,EAAmC,WAAa,OAElDzqE,kBAAmBrmC,EAAKU,EAAE,2BAC1BglC,qBAAsBwrE,EACtB5qE,iBAAkB6qE,IAGtBpoE,eAAgB/oC,EAAKU,EAAE,aACvBmoC,UAAWmoE,GAAiB,IAIhC,OAAIjvG,EAEA,kBAAC,GAAD,CACES,aAAYxC,EAAKU,EAAE,6BACnBZ,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,iCACR,kBAAC,GAAD,CAAaqB,MAAOA,KAMxB,oCACGqgB,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,MACJuS,UAAU,SACVwB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAM09D,GAAgB,KAE9B/kE,EAAKU,EAAE,sBAGV,kBAACqK,EAAA,EAAD,CACEvJ,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAM09D,GAAgB,IAC/Bt2E,IAAI,OAEHuR,EAAKU,EAAE,sBAGXokE,GACC,kBAAC,GAAD,CACEhlE,OAAQglE,EACRvjE,MAAOA,EACPknC,MAAOA,EACP1oC,QAAS,kBAAMglE,GAAgB,IAC/B57B,OAAQ,gBAAGt1C,EAAH,EAAGA,GAAH,OACNo9G,EAAiBD,EAAgBn9G,EAAKA,EAAKm9G,IAE7ChqE,OAAQc,QCvJZjS,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,OAmNGyT,6BAhNf,YAA4C,IAAD,IAAlBnB,EAAkB,EAAlBA,KAAMgK,EAAY,EAAZA,GAAIo2D,EAAQ,EAARA,KACzBjzD,EAAWrF,cAAXqF,OACR,EAAoDlK,mBAAS,MAA7D,mBAAOsuG,EAAP,KAA2BC,EAA3B,KAEA,EAWI1lG,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAQAvX,QAAQmU,IAAI,CACpB1L,GAASozG,UAAUrxC,EAAKvsE,GAAI5F,GAC5BwQ,GAASizG,yBAAyB1nG,EAAGnW,GAAI,CACvCA,GAAIusE,EAAKlmE,eAEXmE,GAASszG,gBAAgBvxC,EAAKvsE,MAbtB,iDAINF,KAAQsB,EAJF,EAIEA,QAAS8gB,EAJX,EAIWA,MAEV67F,EAND,KAMN77F,MACFggB,EAPQ,uBAeH,CACL87E,UAAW97F,EACXowB,MAAOlxC,EACP68G,aAAcF,EAAgB,EAC9Bn4F,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAxB/C,4CA0BT,CAAClsB,EAAGnW,GAAIusE,EAAKvsE,GAAIusE,EAAKlmE,aAAciT,IACvC,CACEg5B,MAAO,GACP0rE,UAAW,EACXC,cAAc,EACdr4F,sBAAuB,GACvBD,eAAgB,KA3ClBpN,EADF,EACEA,UACS2lG,EAFX,EAEExlG,QACAqY,EAHF,EAGEA,aAHF,IAIE3Y,OACE4lG,EALJ,EAKIA,UACA1rE,EANJ,EAMIA,MACA2rE,EAPJ,EAOIA,aACAr4F,EARJ,EAQIA,sBACAD,EATJ,EASIA,eAuCJjQ,qBAAU,WACRwoG,MACC,CAACA,IAEJ,MAKIllG,GACFxD,sBAAW,sBAAC,sBAAA7hB,EAAA,6DACVgqH,EAAsB,MADZ,SAEJxzG,GAASg0G,qBACbT,EAAmB19G,GACnB7E,SAASoxE,EAAKvsE,GAAI,KAJV,2CAMT,CAAC09G,EAAoBnxC,EAAKvsE,KAC7B,CAAEiZ,SAAU+oB,GAAW7oB,WAAY+kG,IAZxBn4C,EADb,EACExtD,UACa4+B,EAFf,EAEE99B,YACe+kG,EAHjB,EAGE5kG,cACoB6kG,EAJtB,EAIE5kG,mBAYI8sB,GAAa,OAAJgmC,QAAI,IAAJA,GAAA,UAAAA,EAAMxtD,sBAAN,mBAAsBb,yBAAtB,eAAyC6nB,OAAQk4E,EAC1Dp4E,EAAY,SAAA/nB,GAChB,MAAuCA,EAAKiB,eAApCu/F,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,cAErB,OAAKzgG,GAASygG,GAId,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAe7iH,SAAS,aACpB,cAAN,OAAqB6iH,EAArB,YAAsCD,EAAtC,aAEF,OAAIC,QAAJ,IAAIA,OAAJ,EAAIA,EAAe7iH,SAAS,cACpB,gBAAN,OAAuB6iH,EAAvB,YAAwCD,EAAxC,YAEI,IAAN,OAAWC,EAAX,aAA6BD,EAA7B,YATS,MAaX,OADmBhsE,EAAMr3C,MAAK,SAAA6iB,GAAI,MAAkB,yBAAdA,EAAK1X,QAGvC,kBAACsR,GAAA,EAAD,CAAY/J,QAAQ,QAClB,kBAACgK,GAAA,EAAD,CAAgBC,KAAM2X,OACtB,kBAAChhB,GAAA,EAAD,CAAOC,aAAa,KAAKP,KAAK,MAC3B9B,EAAKU,EAAE,8BAEV,kBAACiL,GAAA,EAAD,KACG3L,EAAKU,EACJ,2EAQR,oCACE,kBAAC,GAAD,CACEkkB,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCjvE,MAAOw7C,EACPzlB,UAAWmxF,EACX1sF,mBAAoBnlB,EAAKU,EAAE,mBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,aACbjS,IAAK,wBACLyoB,WAAW,IAGf0f,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,WACbjS,IAAK,OAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEoL,SAAU+oB,GACV5U,mBAAkB,YACZmZ,EACA,CACE,kBAAC,GAAD,CACEiQ,SAAUhsC,GACVwyG,YAAakB,EACbxwG,MAAOvB,EAAKU,EAAE,gCAGlB,QAIV62B,WAAY,SAAA5lB,GAAI,OACd,kBAAC,GAAD,CACEljB,IAAKkjB,EAAK9d,GACV8d,KAAMA,EACN+nB,UAAWA,EAAU/nB,GACrB9K,SAAU,SAAAotB,GACRu9E,EAAsBv9E,SAM7Bs9E,GACC,kBAAC,GAAD,CACE/uG,aAAYxC,EAAKU,EAAE,0BACnBZ,OAAQyxG,EACR/vG,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,2BACdX,QAAS,kBAAMyxG,EAAsB,OACrC1mG,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,eACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,6BACnB2G,QAAS,kBAAM2jC,MAEdhrC,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAMmqG,EAAsB,QAEpCxxG,EAAKU,EAAE,wBAIZ,6BACGV,EAAKU,EACJ,2EAA0D6wG,EAAmB3+F,eAAe89F,iBAE9F,6BACA,gCAASa,EAAmBt3G,QAIjCg4G,GACC,kBAAC,GAAD,CACEnyG,OAAQmyG,EACRzwG,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASmyG,GAERlyG,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOkwG,SCzGf9wG,6BAzGf,YAAwC,IAAxBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cACpB,EAAwB//B,mBAAS,MAAjC,mBAAOm9D,EAAP,KAAaiyC,EAAb,KACA,EAAwCpvG,mBAAS,MAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkDtyC,oBAAS,GAA3D,mBAAO4hB,EAAP,KAA0B2wB,EAA1B,KACMvwC,EAAW6C,cACTjU,EAAOutC,cAAPvtC,GAER0V,qBAAU,WACR,sBAAC,8BAAA/hB,EAAA,+EAE0B6W,GAAS4kC,WAAWpvC,GAF9C,gBAEWF,EAFX,EAEWA,KACRqvC,EAAcrvC,GACd0+G,EAAQ1+G,GAJX,gDAMG4hD,EAAgB,EAAD,IANlB,yBAQGC,GAAqB,GARxB,2EAAD,KAWC,CAAC3hD,EAAImvC,EAAe/9B,IAEvB,IAAMs9B,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,uBAGZ6zB,KAAK,SACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,UAAD,OAAY1gC,EAAZ,YAA0BA,GAAI,GAC9D,CAAEoG,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,UAAD,OAAY1gC,EAAZ,WAAyBA,GAAI,GAC5D,CAAEoG,KAAM+F,EAAKU,EAAE,cAAW6zB,KAAK,UAAD,OAAY1gC,EAAZ,UAAwBA,GAAI,IAGxD6hD,GAAiB,EAMrB,OAJIzwC,EAASC,SAAS86B,SAAS,UAC7B0V,GAAiB,IAGd7wB,GAAqBD,EAEtB,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACe,MAAjCA,EAAa5xB,SAASiR,QACrB,8BACGjE,EAAKU,EAAE,wBAAqB,IAC7B,kBAAC,IAAD,CAAM6E,GAAG,UAAUvF,EAAKU,EAAE,6BAUtC,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUa,KAAK,aAAa79B,GAAG,qBAAqB0R,OAAK,IACxDmpD,GACC,kBAAC,IAAD,CAAOx7D,KAAK,sBACV,kBAAC,GAAD,CAAYw7D,KAAMA,KAGrBA,GACC,kBAAC,IAAD,CAAOx7D,KAAK,mBACV,kBAAC,GAAD,CAAUw7D,KAAMA,KAGnBA,GACC,kBAAC,IAAD,CAAOx7D,KAAK,qBACV,kBAAC,GAAD,CAAoBuuB,SAAUitC,EAAM/1B,SAAUhsC,MAGjD+hE,GACC,kBAAC,IAAD,CAAOx7D,KAAK,oBACV,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OAAY,oCAAGA,GAAM,kBAAC,GAAD,CAAeA,GAAIA,EAAIo2D,KAAMA,SAIzD,kBAAC,IAAD,CAAO3xE,IAAI,YAAYmW,KAAK,MACxBigB,GACA,kBAAC,GAAD,CAAczZ,YAAU,GACrBvX,GACC,kBAAC,IAAD,CAAM0R,GAAE,iBAAY1R,EAAZ,aACLmM,EAAKU,EAAE,mCCzDbS,6BA/Cf,YAA0B,IAATnB,EAAQ,EAARA,KACf,EAAgDiD,mBAAS,CACvD,SAAUjD,EAAKU,EAAE,qBACjB,aAAcV,EAAKU,EAAE,0BAFvB,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAKMC,EAAwBp7B,uBAC5B,SAAA+2D,GAAS,IAAD,EACDA,GAIL57B,GAAmB,GACjB,SAAUxkC,EAAKU,EAAE,qBACjB,aAAcV,EAAKU,EAAE,yBAFJ,gCAGN0/D,EAAKvsE,IAHC,UAGSusE,EAAKnmE,OAHd,gCAINmmE,EAAKvsE,GAJC,SAIWmM,EAAKU,EAAE,sBAJlB,gCAKN0/D,EAAKvsE,GALC,YAKcmM,EAAKU,EAAE,iBALrB,gCAMN0/D,EAAKvsE,GANC,UAMYmM,EAAKU,EAAE,sBANnB,gCAON0/D,EAAKvsE,GAPC,WAOamM,EAAKU,EAAE,gBAPpB,gCAQN0/D,EAAKvsE,GARC,UAQYmM,EAAKU,EAAE,eARnB,MAWrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CAAc8jC,WAAW,OAAOP,iBAAkBA,IAClD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,cACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,cACV,kBAAC,GAAD,CAAMo+B,cAAeyB,KAEvB,kBAAC,IAAD,CAAO7/B,KAAK,UACV,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OAAY,kBAAC,GAAD,CAAUpF,KAAK,SAASoF,GAAIA,GAAM,cClBrDqvB,GAAiBh4B,YAAOi4B,MAAV,sFAAGj4B,CAAH,yFAoJLF,6BA7If,YAOI,IANFnB,EAMC,EANDA,KACAkxD,EAKC,EALDA,SACAz3B,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA6yB,EAEC,EAFDA,UACA83B,EACC,EADDA,eAEA,EAAoCvuD,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KACMrhB,EAAO,uBAAmBo8B,EAASr9D,IAEnC49D,EAAepoD,sBAAW,sBAAC,sBAAA7hB,EAAA,yDACT,iBAAlB0pE,EAAS/7D,KADkB,gCAEvBoI,GAAgB+4C,KAAK4a,EAASr9D,GAAI,CACtCoG,KAAK,GAAD,OAAKi3D,EAASj3D,KAAd,cAAwBiuB,QAHD,6CAMvBrpB,GAAwBy3C,KAAK4a,EAASr9D,GAAI,CAC9CoG,KAAK,GAAD,OAAKi3D,EAASj3D,KAAd,cAAwBiuB,QAPD,uBAUzBspC,IAVyB,2CAW9B,CAACA,EAAgBN,EAASr9D,GAAIq9D,EAASj3D,KAAMi3D,EAAS/7D,OAEnDohD,EAAkBltC,uBAAY,WAClC8sC,GAAc,KACb,IAEGK,EAAmBntC,uBAAY,WACnC8sC,GAAc,KACb,IAEGub,EACc,iBAAlBR,EAAS/7D,QACP+7D,EAASt+C,eAAeY,UACtB09C,EAASt+C,eAAeQ,YACvB89C,EAASvY,yBAChB,OACE,kBAAC1hB,GAAA,EAAD,CAAcx0B,kBAAiBqyB,EAASjhC,GAAE,UAAKq9D,EAASr9D,KACtD,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEvyB,WAAYA,EACZvT,GAAE,6BAAwBq9D,EAASr9D,IACnCirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAOoF,GAAIihC,GAC3B,8BACE,kBAAC,IAAD,CAAMvvB,GAAE,UAAKm0B,IACX,2BAAIw3B,EAASj3D,QAGhBy3D,GACC,8BACE,kBAAC,KAAD,CACEnrD,QAASvG,EAAKU,EACZ,kDAEF4F,SAAS,SAET,8BAKR,kBAAC,GAAD,CAAc7X,IAAI,QACfizC,GAAYwvB,EAAS/7D,OAExB,kBAAC,GAAD,CAAc1G,IAAI,aAChB,kBAAC,GAAD,CAAWuyD,KAAMkQ,EAASt+C,eAAe8D,kBAI/C,kBAAC,GAAD,CAAgBlU,aAAW,UAAUC,kBAAiBqyB,GACjC,0BAAlBo8B,EAAS/7D,MACR,kBAAC,KAAD,CAASoR,QAASvG,EAAKU,EAAE,2BAAS4F,SAAS,OACzC,sBACEc,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,2BAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,2CAAsC2rD,EAASr9D,GAA/C,gBAEF,kBAAC,KAAD,QAILq9D,EAASt+C,eAAeb,kBAAkBg1C,OACzC,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAAC,GAAD,CAAc6sB,SAAU+9B,IACrB,gBAAGtL,EAAH,EAAGA,aAAH,OACC,sBACEx+C,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,wBAEnBc,QAAQ,QACR6F,QAASu+C,GAET,kBAAC,KAAD,WAMTsL,EAASt+C,eAAeb,kBAAkB6nB,MACzC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,sBACEc,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,iCAEnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,qBAAgB2rD,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,GAA1C,UAEF,kBAAC,KAAD,QAILq9D,EAASt+C,eAAeb,kBAAkBukC,MACzC,kBAAC,GAAD,CACE9nC,WAAY,CACV4Y,QAASpnB,EAAKU,EAAE,iCAChBkxB,aAAc5xB,EAAKU,EAAE,kCAEvB0G,WAAYA,EACZ2uC,YAAaQ,EACbP,aAAcQ,EACdV,SAAU2b,U,0hBCjJlB57B,GAAYxoC,EAAY,WAAY,CACxCG,KAAM,EACNC,UAAW,GACXC,SAAU,OACVyH,KAAM,uCA8POgM,6BA3Pf,YAAiC,IAATnB,EAAQ,EAARA,KAChBiF,EAAW6C,cACjB,EAAgC7E,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KAEA,EAYIntB,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEcvX,QAAQmU,IAAI,CAClCxL,GAAuB7J,KAAKzG,GAC5BsP,GAAgBu4B,cAChBj3B,GAAwBi3B,cACxBv3B,GAAuBu3B,gBANf,cAEJ67B,EAFI,yBAQH,CACL18D,QAAS08D,EAAU,GAAGh+D,KAAKsB,QAC3B8gB,MAAO47C,EAAU,GAAGh+D,KAAKoiB,MACzB67C,UAAWD,EAAU,GAAGh+D,KAAKmX,QAC7B+mD,YAAaF,EAAU,GAAGh+D,KAAKmX,QAC/B2O,wBACE,UAAAk4C,EAAU,UAAV,mBAAch+D,YAAd,eAAoBqiC,wBAAyB,IAC7C5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAiiE,EAAU,GAAGh+D,KAAKmX,eAAlB,eAA2BmrB,MAAO,IAClCrmC,QAAO,SAAAnB,GAAG,uBAAIkjE,EAAU,GAAGh+D,KAAKmX,eAAtB,aAAI,EAA2BmrB,IAAIxnC,GAAKynC,gBAlB5C,2CAoBT,CAACjxB,IACJ,CACEhQ,QAAS,GACT8gB,MAAO,EACP67C,UAAW,GACXC,YAAa,GACbp4C,sBAAuB,GACvBD,eAAgB,KAxCpB,IACEvN,OACEhX,EAFJ,EAEIA,QACA8gB,EAHJ,EAGIA,MACA67C,EAJJ,EAIIA,UACAC,EALJ,EAKIA,YACAp4C,EANJ,EAMIA,sBACAD,EAPJ,EAOIA,eAEKoL,EATT,EASE7iB,MACAqK,EAVF,EAUEA,UACSolD,EAXX,EAWEjlD,QAiCFhD,qBAAU,WACRioD,MACC,CAACA,IAEJ,IAAMV,EAAYF,GAAe37D,GAE3B8rB,EACJiY,EAASpqC,SAAWkiE,EAAUliE,QAAUoqC,EAASpqC,OAAS,EAC5D,EAKIie,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,YAAmB,IAAhB+G,EAAe,EAAfA,KAAMtB,EAAS,EAATA,GACpB,MAAa,iBAATsB,EACKoI,GAAgBy8B,QAAQnmC,GAEpB,0BAATsB,GACK0J,GAAwBm7B,QAAQnmC,SAK5C,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYwkD,IArBHvmB,EADb,EACE7+B,UACa0lD,EAFf,EAEE5kD,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAsBIykD,EAAoB,uCAAG,sBAAAvqE,EAAA,sEACrBsqE,IADqB,OAE3B74B,EAAY,IAFe,2CAAH,qDAKpB6d,EAAkB,SAAArd,GACtBR,EAAYQ,EAAU,YAAOq3B,GAAa,KAGtC53B,EAAe,SAAAg4B,GACfl4B,EAASlqC,MAAK,SAAAjE,GAAC,OAAIA,EAAEgJ,KAAOq9D,EAASr9D,MACvColC,EAAYD,EAASppC,QAAO,SAAA/E,GAAC,OAAIA,EAAEgJ,KAAOq9D,EAASr9D,OAEnDolC,EAAYD,EAASrnC,OAAOu/D,KAI1Bc,EACJJ,GAAaniE,OAAO6T,UAAUC,eAAeC,KAAKouD,EAAW,QACzDK,EACJJ,GAAepiE,OAAO6T,UAAUC,eAAeC,KAAKquD,EAAa,QAE7DK,EAAclyD,EAAKU,EAAE,yBACrByxD,EAAgBnyD,EAAKU,EAAE,8BACvB4xG,EAAoB,GACtBtgD,GACFsgD,EAAkBllG,KAChB,kBAACnG,GAAA,EAAD,CACExY,IAAKyjE,EACLlxD,UAAW43B,IACXrzB,GAAG,+BACH/C,aAAY0vD,GAEXA,IAIHD,GACFqgD,EAAkBllG,KAChB,kBAACnG,GAAA,EAAD,CACEjG,UAAW43B,IACXrzB,GAAG,wCACH9W,IAAK0jE,EACL3vD,aAAY2vD,GAEXA,IAIP,IAAMC,EACJ,kBAAC,GAAD,CAAmB3jE,IAAI,MAAMuY,cAAesrG,IAG9C,OACE,kBAAC,WAAD,KACE,kBAAC3vG,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOmmE,EACPpwC,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,kBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,0BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,WACLuF,QAAS,CACP,CAAC,eAAgBgM,EAAKU,EAAE,kCACxB,CAAC,wBAAyBV,EAAKU,EAAE,6BAGrC,CACEzG,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,qCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,+BAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,gBAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,4BAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa81B,EACbhqC,SAAU+oB,GACV5U,mBAAkB,sBACZ+wC,GAAYC,EAAa,CAACG,GAAa,IAD3B,CAEhB,kBAAC,GAAD,CACE3jE,IAAI,SACJspC,SAAUg6B,EACVj6B,cAAekB,EACf7T,mBAAmB,oBAK3BoS,WAAY,SAAA25B,GAAQ,OAClB,kBAAC,GAAD,CACEziE,IAAKyiE,EAASr9D,GACdhF,MAAOqiE,EAASj3D,KAChBi3D,SAAUA,EACVx3B,UAAS,qBAAgBw3B,EAAS/7D,KAAzB,YAAiC+7D,EAASr9D,IACnDgT,SAAU,kBAAMqyB,EAAag4B,IAC7Bz3B,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOq9D,EAASr9D,MACrD29D,eAAgBA,KAGpBvuC,oBAAqB+uC,GAAYC,IAAeG,KAGpD,kBAAC,GAAD,CACE5vD,aAAYxC,EAAKU,EAAE,uBACnBZ,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SCyIblM,6BA5Xf,YAAgD,IAAnBnB,EAAkB,EAAlBA,KAAMkxD,EAAY,EAAZA,SAE/BvY,EAyBEuY,EAzBFvY,wBACAwI,EAwBE+P,EAxBF/P,mBACAC,EAuBE8P,EAvBF9P,eACA5uC,EAsBE0+C,EAtBF1+C,QACAV,EAqBEo/C,EArBFp/C,YACA6F,EAoBEu5C,EApBFv5C,UACAte,EAmBE63D,EAnBF73D,WACAgoD,EAkBE6P,EAlBF7P,MACAC,EAiBE4P,EAjBF5P,gBACAhrC,EAgBE46C,EAhBF56C,gBACAmB,EAeEy5C,EAfFz5C,SACApE,EAcE69C,EAdF79C,SACApZ,EAaEi3D,EAbFj3D,KACAgc,EAYEi7C,EAZFj7C,MACA/C,EAWEg+C,EAXFh+C,SACAK,EAUE29C,EAVF39C,SACAmE,EASEw5C,EATFx5C,UACA1lB,EAQEk/D,EARFl/D,QACA4gB,EAOEs+C,EAPFt+C,eACA4uC,EAME0P,EANF1P,eACAx9C,EAKEktD,EALFltD,IACAmS,EAIE+6C,EAJF/6C,UACAurC,EAGEwP,EAHFxP,gBACWK,EAETmP,EAFFv+C,QAAWovC,iBACXN,EACEyP,EADFzP,YAEU26C,EAAeh7D,cAAnBvtC,GACFkR,EAAU8C,cAEhB,EAKIiE,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEAGA+V,GAAgBmjE,mBAAmB07B,GAHnC,uBAEAnnG,EAFA,EAERtB,KAAQsB,QAFA,kBAIH,CAAE0/D,eAAgB1/D,IAJf,2CAKT,CAACmnG,IACJ,CAAEznC,eAAgB,KAXP49C,EADb,EACEnmG,UACSwoD,EAFX,EAEEroD,QACOo0D,EAHT,EAGE5+D,MACU4yD,EAJZ,EAIE1oD,OAAU0oD,eAWZprD,qBAAU,WACRqrD,MACC,CAACA,IAEJ,MAII9oD,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ+V,GAAgBy8B,QAAQoiE,GADpB,OAEVr3F,EAAQqI,KAAR,cAFU,2CAGT,CAACgvF,EAAYr3F,KAPPytG,EADX,EACEjmG,QACW0+B,EAFb,EAEE7+B,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAETk3F,EACJlxF,EAAeb,mBAAqBa,EAAeb,kBAAkBg1C,MASjE0rD,EARmB,CACvB,CAAEt8F,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,oBAChC,CAAEyV,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,qBAChC,CAAEyV,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,0BAChC,CAAEyV,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,mBAChC,CAAEyV,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,8BAChC,CAAEyV,UAAW,EAAGysC,QAAS5iD,EAAKU,EAAE,0BAEQ9Q,QACxC,SAAAovC,GAAM,OAAIA,EAAO7oB,YAAcA,KAE3Bu8F,EAAmB,UAAMnnH,OAAO0Z,SAAS68C,OAAS99C,EAA/B,aACnB2uG,EACJvxD,GAAkBE,GAAmBH,GAAsBK,EAEvDjG,EACJ,kBAACx6C,GAAA,EAAD,CAAUC,UAAW6oB,KAAiB0mE,IACnCnvC,GACC,kBAACngD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,qCAGX4gD,GACC,kBAACrgD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,sCAGXygD,GACC,kBAAClgD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,gCAGX8gD,GACC,kBAACvgD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,2BAuBhB,OAAIigE,EACK,kBAAC,GAAD,CAAc5+D,MAAO4+D,IAG1B4xC,GAA2BtnE,EACtB,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAYjY,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,EAAMgxB,OAAO,mBAClD,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,IACrC,kBAAC,GAAD,CAAQ/X,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAOwkB,IACtCT,EAAe1Y,aACd,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aAED+e,EAAe1Y,aAAaD,QAKnC,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,uBAE9BkS,EAAeQ,UACd,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MAhDa,SAACuG,EAAMvB,GAC5B,IAAM++G,EAAyB,UAATx9G,EAAmB,kBAAoB,YAE7D,OAAOujD,EACL,kBAAC,WAAD,KACE,kBAAC,IAAD,CAAMpzC,GAAE,uBAAkBqtG,EAAlB,YAAmC/+G,EAAnC,aACL+e,EAAeQ,UAAUnZ,MAE5B,kCAAQ+F,EAAKU,EAAE,6BAGjB,kBAAC,IAAD,CAAM6E,GAAE,uBAAkBqtG,EAAlB,YAAmC/+G,EAAnC,aACL+e,EAAeQ,UAAUnZ,MAoCf44G,CACLjgG,EAAeQ,UAAUhe,KACzBwd,EAAeQ,UAAUvf,OAI5B8kD,GACC,kBAAC,GAAD,CAAe5+C,MAAOiG,EAAKU,EAAE,uBAGhCkS,EAAeY,QACd,kBAAC,GAAD,CACEzZ,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CAAM0W,GAAE,oBAAeqN,EAAeY,QAAQ3f,GAAtC,aACL+e,EAAeY,QAAQvZ,QAK9B,kBAAC,GAAD,CAAeF,MAAOiG,EAAKU,EAAE,uBAE/B,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,8BACd7R,MAAOqiE,EAASj8C,aAElB,kBAAC,GAAD,CAAQlb,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAO0kB,IACrC,kBAAC,GAAD,CAAQxZ,MAAOiG,EAAKU,EAAE,cAAW7R,MAAOwyD,GAAS,MACjD,kBAAC,GAAD,CAAQtnD,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOonB,IACrC,kBAAC,GAAD,CACElc,MAAOiG,EAAKU,EAAE,iCACd7R,MAAO4jH,EAAiB,GAAG7vD,UAE7B,kBAAC,GAAD,CAAQ7oD,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAOmD,GAAW,MACrD,kBAAC,GAAD,CACE+H,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8oB,EAAY3X,EAAKU,EAAE,WAASV,EAAKU,EAAE,cAE5C,kBAAC,GAAD,CAAQ3G,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAOynB,IAC7CgrC,GACC,kBAAC,IAAMwxD,SAAP,KACE,kBAAC,GAAD,CACE/4G,MAAOiG,EAAKU,EAAE,wBACd7R,MAAOyyD,IAET,kBAAC,GAAD,CACEvnD,MAAOiG,EAAKU,EAAE,kCACd7R,MAAO6jH,KAIZhxD,GACC,kBAAC,GAAD,CACE3nD,MAAOiG,EAAKU,EAAE,wBACd7R,MACsB,WAApB6yD,EACI1hD,EAAKU,EAAE,eACPV,EAAKU,EAAE,iBAIhBqhD,GACC,kBAAC,GAAD,CACEhoD,MAAOiG,EAAKU,EAAE,oBACd7R,MAAK,UAAKpD,SAASwZ,SAAS68C,QAAvB,OAAgCC,KAGzC,kBAAC,GAAD,CAAQhoD,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAO4yD,IAC7C7uC,EAAeovC,oBACd,kBAAC,GAAD,CACEjoD,MAAOiG,EAAKU,EAAE,2BACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,uBAAkBqN,EAAeovC,mBAAmBnuD,GAApD,aAEF,kBAAC,KAAD,KAAQ+e,EAAeovC,mBAAmB/nD,SAKjD04G,GACC,kBAAC,GAAD,CAAQ54G,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAO0sD,IAE5C,kBAAC,GAAD,CACExhD,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAegC,aAEvB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM/Y,EAAeiC,cAEtBjC,EAAeiD,aAAejD,EAAeiD,YAAYjnB,OAAS,GACjE,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,oBACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAeiD,YAAYjnB,QAEtCgkB,EAAeiD,YAAYznB,KAAI,SAAAg3D,GAAC,OAC/B,kBAAC,GAAD,CAAgB32D,IAAK22D,EAAEvxD,GAAI4gB,WAAY2wC,EAAGlpB,YAAU,UAM7DtpB,EAAekD,QAAUlD,EAAekD,OAAO7gB,QAAQrG,OAAS,GAC/D,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,eACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAekD,OAAO7gB,QAAQrG,QAEzCgkB,EAAekD,OAAO7gB,QAAQ7G,KAAI,SAAAigE,GAAC,OAClC,kBAAC/xB,GAAA,EAAD,CAAM7tC,IAAK4/D,EAAEx6D,GAAIqoC,YAAU,GACxBmyB,EAAEp0D,YAOd06D,EAAe/lE,OAAS,GACvB,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,wBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYg5B,EAAe/lE,QAChD+lE,EAAevmE,KAAI,SAAA6zD,GAAE,OACpB,kBAAC3lB,GAAA,EAAD,CAAM7tC,IAAKwzD,EAAGpuD,GAAIqoC,YAAU,GACzB+lB,EAAGhoD,YAOfwd,GAAYA,EAAS7oB,OAAS,GAC7B,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,iBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYlkB,EAAS1sB,MAAM,KAAK6D,QACrD6oB,EAAS1sB,MAAM,KAAKqD,KAAI,SAAA8zD,GAAM,OAC7B,kBAAC5lB,GAAA,EAAD,CAAM7tC,IAAKyzD,EAAQhmB,YAAU,GAC1BgmB,SAOZxqC,GAAaA,EAAU9oB,OAAS,GAC/B,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,kBACd7R,MACE,kBAAC,GAAD,CAAW6sC,SAAU,EAAGC,WAAYjkB,EAAU3sB,MAAM,KAAK6D,QACtD8oB,EAAU3sB,MAAM,KAAKqD,KAAI,SAAA+zD,GAAO,OAC/B,kBAAC7lB,GAAA,EAAD,CAAM7tC,IAAK0zD,EAASjmB,YAAU,GAC3BimB,SAOb,kBAAC,GAAD,CACEtzD,MAAOwK,EACPizB,KAAM,EACNvyB,MAAOiG,EAAKU,EAAE,wBAGlB,kBAAC,GAAD,KACGkS,EAAeb,mBACda,EAAeb,kBAAkB6nB,MAC/B,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXrzB,GAAE,kCAA6B62F,EAA7B,SACF55F,aAAYxC,EAAKU,EAAE,cAElBV,EAAKU,EAAE,cAGbojG,GACC,kBAAC,GAAD,CAAc3wE,SAAU+9B,EAAU1uD,aAAYxC,EAAKU,EAAE,uBAClD,gBAAGklD,EAAH,EAAGA,aAAH,OACC,kBAAC76C,EAAA,EAAD,CAAQvJ,QAAQ,YAAYrM,KAAK,SAASkS,QAASu+C,GAChD5lD,EAAKU,EAAE,yBAKfkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,4BACnB4gC,UAAWkxE,EACXprG,WAAY6jC,GAEXjrC,EAAKU,EAAE,uBAKfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,uCACR,kBAAC,GAAD,CAAaqB,MAAOA,S,SC/YfgxG,G,mFAAf,WAAgCC,EAAW/iF,GAA3C,uBAAAzoC,EAAA,+EAG2BiW,GAAU/I,KAAK,CACpClH,KAAM,EACNC,UAAW,IACXC,SAAU,SANhB,mBAGYiG,EAHZ,EAGYA,KAKRmiB,EAASniB,EAAKsB,QACd+9G,EAAUl9F,IACNniB,EAAKqB,OAAQrB,EAAKqB,KAAKzF,SAAS,UAVxC,kCAagBkO,GAAU/I,KAAK,CACvBlH,KAAM,EACNC,UAAW,IACXC,SAAU,SAhBlB,iBAYgBuH,EAZhB,EAYQtB,KAAQsB,QAMV+9G,EAAUl9F,EAAOnkB,OAAOsD,IAlB9B,0DAqBIg7B,EAAQ,EAAD,IArBX,2D,sBAyBA,SAASgjF,GAAT,GAA6E,IAAtDpkH,EAAqD,EAArDA,MAAO49B,EAA8C,EAA9CA,YAAa5Q,EAAiC,EAAjCA,SAAUoU,EAAuB,EAAvBA,QAASijF,EAAc,EAAdA,WAC5D,EAAkCjwG,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,ErTzBa,SAA8Bxd,EAAOgtB,GAClD,MAA8B5Y,mBAAS,IAAvC,mBAAOjP,EAAP,KAAgB24C,EAAhB,KACA,EAAoC1pC,mBAAS,IAA7C,mBAAOkY,EAAP,KAAmBg4F,EAAnB,KA6BA,OA3BA5pG,qBAAU,WACR,IAAM6pG,EAAa,GACnB,GAAIvkH,IAAUssB,GAAcnnB,EAAQpF,OAAQ,CAC1C,IAAMykH,EAAcxkH,EAAMT,KAAI,SAAA6lC,GAC5B,IAAMyD,EAAQ1jC,EAAQmpB,MAAK,SAAA9c,GACzB,OAAOA,EAAExM,KAAOogC,EAAKpgC,MAKvB,OAHK6jC,GACH07E,EAAWhmG,KAAK6mB,GAEXyD,GAASzD,KAElBk/E,EAAcE,GAEZD,EAAWxkH,OAAS,GACtB+9C,EAAW34C,EAAQrC,OAAOyhH,MAG3B,CAACvkH,EAAOmF,IASJ,CACLmnB,WAAYnnB,EAAQpF,OAASktD,GAAqB3gC,GAAc,GAChEtU,SATe,SAACmU,EAAOiZ,GACnB9Y,EAAW5rB,SAAS0kC,GACtBpY,EAASV,EAAWvrB,QAAO,SAAAyQ,GAAC,OAAIA,IAAM4zB,MAEtCpY,EAASV,EAAWxpB,OAAOsiC,KAM7BjgC,UACA24C,WAAY,SAAA2mE,GAAO,OAAI3mE,EAAWmP,GAAqBw3D,MqTVHC,CACpD1kH,EACAgtB,GAFMV,EAAR,EAAQA,WAAYtU,EAApB,EAAoBA,SAAU7S,EAA9B,EAA8BA,QAAS24C,EAAvC,EAAuCA,WAIvC,EAAoC1pC,oBAAS,GAA7C,mBAAOC,EAAP,KAAmBC,EAAnB,KAMAoG,qBAAU,WACR,sBAAC,sBAAA/hB,EAAA,sEACOurH,GAAiBpmE,EAAY1c,GADpC,OAEC5jB,GAAa,GAFd,0CAAD,KAKC,IAEH,IAAMkvC,EAAgB,SAAAC,GACpB,OAAOA,EAAKptD,KAAI,SAAA4wC,GAAM,OACpB,kBAACzjB,GAAA,EAAD,CAAc9sB,IAAKuwC,EAAOnrC,GAAI2O,aAAYw8B,EAAO/kC,KAAMpL,MAAOmwC,GAC3DA,EAAO/kC,UAKd,OACE,kBAACnQ,GAAA,EAAD,CACE0X,QAASqZ,KAAc4gC,eACvBp4C,SAvBmB,SAAAq4C,GACrBv4C,EAAcu4C,IAuBZ70C,SAAU,SAAClb,EAAGsoC,GACQ,kBAATA,IACTA,EAAO,CAAEpgC,GAAIogC,EAAMh6B,KAAMg6B,IAE3BptB,EAASlb,EAAGsoC,IAEd/Y,QAAS,kBAAMW,EAAS,KACxB+/B,SAAU,SAAA5gC,GACR,IAAM6f,EAAM7f,EAAM9T,OAAOrY,MAAM8yC,cACzBka,EAAU7nD,EAAQpE,QAAO,SAAAypD,GAAC,OAAIA,EAAEp/C,KAAK0nC,cAAcpyC,SAASsrC,MAClE,OAAO0gB,EAAcM,IAEvBrgC,aAAW,EACXC,eAAgB,SAAA1hB,GAKd,OAJAA,EAAQA,EAAM80B,OACT76B,EAAQzE,SAASwK,IACpB4yC,EAAW34C,EAAQrC,OAAO,CAAEsI,KAAMF,EAAOlG,GAAIkG,KAExCA,GAETqN,WAAYgF,EACZ+O,WAAYA,EACZrb,OAAQoD,EACRT,kBAAgB,eAChB2Y,gBAAiBqR,EACjBymF,WAAYA,GAEX33D,EAAcvnD,IAerBi/G,GAAY/xG,aAAe,CACzBurB,YAAa,IAGAwmF,UCrGf,SAASO,GAAT,GAA+E,IAArDhiC,EAAoD,EAApDA,UAAWhkD,EAAyC,EAAzCA,QAAStO,EAAgC,EAAhCA,MAAO6e,EAAyB,EAAzBA,OAAQ9N,EAAiB,EAAjBA,QAASjwB,EAAQ,EAARA,KACpE,EAAoCiD,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KACA,EAKIrqC,GACFzC,sBAAW,sBAAC,gCAAA7hB,EAAA,yDACLgqF,EADK,yCAED,IAFC,uBAIazzE,GAAYnD,cAAc42E,GAJvC,uBAIF79E,EAJE,EAIFA,MAEF6nD,GAAQ7nD,GAAQ,IAAIvF,KAAI,SAAAmlB,GAAQ,MAAK,CACzC1kB,MAAO0kB,EACP9kB,IAAK8kB,EACLxZ,MAAOwZ,EACPnM,YAAY,OAGT+pD,QAAQ,CACXtiE,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,0BACd0G,YAAY,IAjBJ,kBAmBHo0C,GAnBG,2CAoBT,CAACg2B,EAAWxxE,IACf,IA1BQhM,EADV,EACEiY,OACSi1B,EAFX,EAEE30B,QACAH,EAHF,EAGEA,UACArK,EAJF,EAIEA,MA0BFwH,qBAAU,WACR23B,MACC,CAACA,IAEJ33B,qBAAU,WACJxH,IAC4B,MAA1BA,EAAM/O,SAASiR,OACjBkyC,GAAc,GAEdlmB,EAAQluB,MAGX,CAACA,EAAOkuB,IAEX,IAAMwjF,EAAiB,CACrB,CACE5kH,MAAOqwB,EAAMrwB,OAAS,GACtBkL,MAAOmlB,EAAMrwB,OAAS,GACtBJ,IAAK,EACL2Y,YAAY,IAGhB,OACE,kBAAC,GAAD,eACEvT,GAAG,oBACHF,KAAMyT,EAAaqsG,EAAiBz/G,EACpCw5B,QAASA,GACLtO,EAJN,CAKE6e,OAAQA,EACR32B,WAAYgF,GAAahF,KAO/BosG,GAAetyG,aAAe,CAC5BswE,UAAW,MAIErwE,4BAAWqyG,ICoJXryG,6BA5Mf,YAAiD,IAAvBnB,EAAsB,EAAtBA,KAAM0zG,EAAgB,EAAhBA,aACtBvjG,EAAkB2hB,eAAlB3hB,cACAtc,EAAOutC,cAAPvtC,GACAqR,EAAa4C,cAAb5C,SACA48C,EAAWr2D,SAASwZ,SAApB68C,OAER,EAIIz0B,aAAS,mBAJb,mBACEsmF,EADF,KAEEC,EAFF,KAGEC,EAHF,KAKA,EAA+CxmF,aAAS,eAAxD,mBAAOymF,EAAP,KAA0BC,EAA1B,KACA,EAA6D1mF,aAC3D,eADF,mBAAO2mF,EAAP,KAAwBC,EAAxB,KAAwCC,EAAxC,KAGA,EAII7mF,aAAS,sBAJb,mBACE8mF,EADF,KAEEC,EAFF,KAGEC,EAHF,KAMA,EAKIvoG,GACFzC,sBAAW,sBAAC,kCAAA7hB,EAAA,0DAENmsH,EAAoB9kH,MAFd,gCAGQgO,GAAmBnI,KAAK,CACtCpH,UAAU,GAAD,OAAKqmH,EAAoB9kH,MAAzB,YAJH,OAGRoG,EAHQ,iDASHA,SATG,iBASH,EAAStB,YATN,iBASH,EAAesB,QAAQ,UATpB,aASH,EAA2BpB,IATxB,2CAUT,CAAC8/G,EAAoB9kH,SAffylH,EADX,EACE/nG,QACAxK,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACQmoG,EAJV,EAIEtoG,OAeF1C,qBAAU,WACR+qG,MACC,CAACA,IAEJ,MAA6DxoG,GAC3DzC,sBAAW,sBAAC,gCAAA7hB,EAAA,6DACJgtH,EACa,iBAAjBd,EACIn2G,GAAgBi3G,iBAAiB3gH,GACjCgL,GAAwB21G,iBAAiB3gH,GAJrC,SAOA2gH,EAPA,gBAMa/lH,EANb,EAMRkF,KAAQ8tD,YAEVyyD,EAAkB1nG,SAAS/d,GARjB,2CAST,CAACylH,EAAmBrgH,EAAI6/G,KAVZe,EAAjB,EAAQloG,QAAiCmoG,EAAzC,EAAkC3yG,MAa5B4yG,EAAgB,uCAAG,sBAAAntH,EAAA,sEACjBitH,IADiB,2CAAH,qDAIhB72C,EAAqBv0D,uBACzB,SAAAxa,GACEshB,EAAc,qBAAsBthB,GAAS,QAE/C,CAACshB,IAGGykG,EACJ1vG,EAAS86B,SAAS,SAEhB,iDADFi0E,EAAejoG,aAEX6oG,EAAwB,CAC5B,CACEhmH,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,iCACd0G,YAAY,GAEd,CACEvY,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,eACd0G,YAAY,GAEd,CACEvY,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,eACd0G,YAAY,IAIhB,OAAIrF,GAAS2yG,EACJ,kBAAC,GAAD,CAAc3yG,MAAOA,IAE1BqK,EACK,kBAAC,GAAD,MAGP,kBAAC8kB,GAAD,KACE,kBAACxD,GAAA,EAAD,CACEzzB,KAAK,kBACL0zB,QAAQ,kBACRC,kBAAmBgmF,EAAmB7xG,MACtChI,MAAOiG,EAAKU,EAAE,wBACdotB,UAAW,kBAAC,GAAD,CAASvnB,QAASvG,EAAKU,EAAE,qCAEpC,kBAAC,GAAD,iBACMizG,EADN,CAEE9/G,GAAG,kBACHF,KAAMkhH,EACNh5F,SAAU,SAACb,EAAOjrB,GAChB8jH,EAAsBrnG,SAASzc,GAC/BgkH,EAAkBvnG,SAChBtH,EAAS86B,SAAS,QACdhgC,EACGU,EAAE,qDACFqD,cAHP,UAIO+9C,EAJP,mBAIwB4xD,EAJxB,aAIyC7/G,EAJzC,YAI+C9D,EAJ/C,MAMEA,IAAQ6jH,EAAmB5nG,cAAwB,KAARjc,GAC7CmkH,EAAkB1nG,SAASynG,EAAejoG,cAC1CqoG,EAAyB7nG,SACvB4nG,EAAsBpoG,gBAGxBkoG,EAAkB1nG,SAChBxM,EACGU,EAAE,qDACFqD,eAELswG,EAAyB7nG,SAAS,YAK1C,oCACE,kBAACkhB,GAAA,EAAD,CACEv4B,KAAK,OACLw4B,QAAQ,gBACR5zB,MAAOiG,EAAKU,EAAE,oBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,iHAINzG,KAAK,eAEL,kBAAC2hB,GAAA,EAAD,CACE/nB,GAAG,eACH2O,aAAYxC,EAAKU,EAAE,oBACnB7R,MAAOilH,EAAgBjlH,MACvBqtC,YAAU,KAGd,kBAACxO,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,oBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,4DAINitB,QAAQ,wBAER,kBAAChS,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACE/nB,GAAG,uBACHqoC,YAAU,EACV15B,aAAW,mBACX3T,MAAOmlH,EAAgBnlH,QAEzB,kBAACkc,EAAA,EAAD,CACE3D,WAAYwtG,EACZpzG,QAAQ,WACRgB,aAAYxC,EAAKU,EAAE,2BACnB2G,QAASstG,GAET,kBAAC,KAAD,UAMPJ,GACC,kBAAC,GAAD,CACEx6G,MAAOiG,EAAKU,EAAE,2BACd0mB,QAASpnB,EAAKU,EACZ,oGAEF80D,iBAAkB++C,EAClB14F,SAAU+hD,EACVpwC,SAAU4mF,EAAsBryG,MAChC6rB,kBAAmBwmF,EAAsBryG,MACzClT,MAAOslH,EAAuBtlH,YCjLhCizD,GAAWr2D,SAASwZ,SAApB68C,OAER,SAASgzD,GAAT,GAQI,IAAD,MAPD5jD,EAOC,EAPDA,SACAhd,EAMC,EANDA,aACAnlC,EAKC,EALDA,aACAoB,EAIC,EAJDA,cACA8vB,EAGC,EAHDA,YACAjgC,EAEC,EAFDA,KACA+0G,EACC,EADDA,yBAEA,EAAwC9xG,oBAAS,GAAjD,mBAAO2hB,EAAP,KAAqB2wB,EAArB,KACA,EAAkCtyC,mBAAQ,OACxCiuD,QADwC,IACxCA,GADwC,UACxCA,EAAUt+C,sBAD8B,aACxC,EAA0BQ,WAD5B,mBAAOA,EAAP,KAAkBykD,EAAlB,KAGA,EAA4C50D,mBAC1CP,QAAO,OAACwuD,QAAD,IAACA,OAAD,EAACA,EAAU5P,kBADpB,mBAAO0zD,EAAP,KAAuBC,EAAvB,KAGA,EAA4ChyG,mBAC1CP,QAAQwuD,EAASxP,kBADnB,mBAAOwzD,EAAP,KAAuBC,EAAvB,KAIA,EAAoC9nF,aAAS,2BAAtC+nF,EAAP,oBACA,EAAoD/nF,aAAS,CAC3DpzB,KAAM,WACNmzB,SAAUhV,GAAS,KAAMpY,KAF3B,mBAAOq1G,EAAP,KAAqBC,EAArB,KAAkCC,EAAlC,KAIA,EAA4CloF,aAAS,aAArD,mBAASyqC,EAAT,KAAwBC,EAAxB,KACA,EAAoD1qC,aAAS,CAC3DpzB,KAAM,UACNmzB,SAAU,SAAA5Z,GAAO,OAAIgiG,GAAwBhiG,MAF/C,mBAAO09D,EAAP,KAAqBC,EAArB,KAAkCC,EAAlC,KAIA,EAAiC/jD,aAAS,cAA1C,mBAAOooF,EAAP,KAAmBC,EAAnB,KACA,EAAuDroF,aAAS,CAC9DpzB,KAAM,WACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAF/D,oBAAO21G,GAAP,MAAsBC,GAAtB,MAAoCC,GAApC,MAIA,GAA+CxoF,aAAS,eAAxD,qBAAOmwC,GAAP,MAA0BE,GAA1B,MACA,GAAuCrwC,aAAS,UAAhD,qBAAOyoF,GAAP,MAAsBC,GAAtB,MACA,GAA8C1oF,aAAS,SAAvD,qBAAO2oF,GAAP,MAAmBC,GAAnB,MAA8BC,GAA9B,MACA,GAAyB7oF,aAAS,aAA3Bo2C,GAAP,qBACA,GAA2Cp2C,aAAS,aAApD,qBAAOg2C,GAAP,MAAwBC,GAAxB,MACA,GAAuDj2C,aACrD,kBADF,qBAAO0zC,GAAP,MAA8BC,GAA9B,MAGA,GAAyC3zC,aAAS,YAAlD,qBAAO8oF,GAAP,MAAuBC,GAAvB,MACA,GAA2C/oF,aAAS,aAApD,qBAAOgpF,GAAP,MAAwBC,GAAxB,MAEA,GAAsDjpF,aACpD,mBADF,qBAASumF,GAAT,MAA6BC,GAA7B,MAGA,GAA8CxmF,aAAS,eAAvD,qBAASkpF,GAAT,MAAyBxC,GAAzB,MACA,GAA8C1mF,aAAS,eAAvD,qBAAS4mF,GAAT,MAAyBC,GAAzB,MACA,GAA4D7mF,aAC1D,sBADF,qBAAS+mF,GAAT,MAAgCC,GAAhC,MAIA,GAIIvoG,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,gEACL0pE,QADK,IACLA,OADK,EACLA,EAAUr9D,GADL,iEAIa0J,GAAgBmjE,mBAAmBxP,EAASr9D,IAJzD,gBAIFF,EAJE,EAIFA,KACRwc,EAAc,wBAAyBxc,EAAKsB,SAC5Ckb,EAAc,iBAAD,YAAuBxc,EAAKsB,UAN/B,2CAOT,CAACkb,EAAe+gD,KAXVslD,GADX,GACEjqG,QACOkqG,GAFT,GAEE10G,MACgB20G,GAHlB,GAGE90C,eAYFr4D,qBAAU,WACRitG,OACC,CAACA,KAEJjtG,qBAAU,WACJ2rG,GACFrB,GAAsBrnG,SAASonG,GAAmB5nG,cAClD+nG,GAAkBvnG,SAAS+pG,GAAevqG,cAC1CkoG,GAAkB1nG,SAASynG,GAAejoG,cAC1CqoG,GAAyB7nG,SAAS4nG,GAAsBpoG,gBAExD6nG,GAAsBrnG,SAAS,IAC/BunG,GAAkBvnG,SAAS,IAC3B0nG,GAAkB1nG,SAAS,IAC3B6nG,GAAyB7nG,SAAS,SAGnC,CAAC0oG,IAEJ,IAyCIyB,GAzCEnB,GAA0B,SAAAhiG,GAAY,IAAD,EACzC,OAAKA,GAAW29D,EAAY1jD,QACnBztB,EAAKU,EAAE,sCAEe,mBAApB,OAAP8S,QAAO,IAAPA,GAAA,UAAAA,EAAS3kB,aAAT,eAAgBoV,QACXjE,EAAKU,EAAE,8CADhB,GAMIkxE,GAAsBvoE,uBAC1B,SAAAxa,GACEshB,EAAc,WAAY,GAC1BA,EAAc,aAAc,IAC5BA,EAAc,UAAWthB,KAE3B,CAACshB,IAGGymG,GAAiB,CACrB,CACE/nH,MAAO,GACPJ,IAAK,GACLsL,MAAOiG,EAAKU,EAAE,0BACd0G,YAAY,GAEd,CAAEvY,MAAO,MAAOJ,IAAK,MAAOsL,MAAOiG,EAAKU,EAAE,YAAS0G,YAAY,GAC/D,CACEvY,MAAO,QACPJ,IAAK,QACLsL,MAAOiG,EAAKU,EAAE,cACd0G,YAAY,IAGV27D,GAAmB,CACvB,CAAEl0E,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,oBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,qBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,0BACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,mBACtC,CAAE7R,MAAO,IAAKJ,IAAK,IAAKsL,MAAOiG,EAAKU,EAAE,+BAGxC,UAAIwwD,QAAJ,IAAIA,OAAJ,EAAIA,EAAUv+C,QAAS,CACrB,IAAM/N,GAAOssD,EAASv+C,QAAQkvC,UAAjB,UAAgCqP,EAASltD,IAAzC,YACb2yG,GAAW,UAAM70D,IAAN,OAAel9C,IAG5B,OAAI8xG,GACK,kBAAC,GAAD,MAGL9xF,GAAgB6xF,GACX,kBAAC,GAAD,CAAc10G,MAAO6iB,GAAgB6xF,KAI5C,kBAACp2E,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUX,GACjC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,gBACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,uBACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEitB,QAAQ,oBACR9b,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,iCACdgyB,SAAS,kCACT4a,WAAW,yBACXlmB,QAASpnB,EAAKU,EAAE,wLAKhB,kBAAC,GAAD,iBACM20G,EADN,CAEE7nF,SAAU8nF,EAAY7nF,UAAY6nF,EAAYvzG,MAC9ClO,GAAG,oBACHF,KAAMijH,GACN/6F,SAAU,SAACb,EAAOnsB,GAChB0mH,EAAe/oG,SAAS3d,QAI9B,kBAAC6+B,GAAA,EAAD,CACEC,QAAQ,mBACRE,WACIiqC,EAAcrqC,SAAW2nF,EAA0BvmH,QACpDipE,EAAc/1D,MAEX,QADA,UAGN6rB,kBAAmBkqC,EAAc/1D,MACjC8P,YAAaujG,EAA0BvmH,OAEvC,kBAAC,GAAD,CACE8+B,QAAQ,qBACR9+B,MAAOukB,EACPsf,SAAS,mCACT4a,WAAW,0BACXynB,mBAAiB,EACjB3tC,QAASpnB,EAAKU,EAAE,+EAEhBq9B,OAAQ,kBAAMg6B,EAAiBh4B,cAC/BlkB,SAAU,SAAAhtB,GACRkpE,EAAiBvrD,SAAS3d,EAAQA,EAAMgF,GAAK,MAC7CgkE,EAAahpE,IAEfupB,UAAWg9F,EAA0BvmH,MACrC4+B,QAASqqC,EAAcrqC,QACvB1rB,MAAO+1D,EAAc/1D,MACrBizD,mBAAoB+/C,KAGxB,kBAAC,GAAD,CACElmH,MAAOqiF,EAAariF,MACpBkvC,OAAQ,kBAAMqzC,EAAerxC,cAC7B3Y,QAASpnB,EAAKU,EAAE,iFAEhB8sB,SAAU2jD,EAAY1jD,UAAY0jD,EAAYpvE,MAC9C6rB,kBAAmBujD,EAAYpvE,MAC/B8Z,SAAU+1D,GACVx5D,UAAQ,EACRqmB,eAAc,OAACyyB,QAAD,IAACA,OAAD,EAACA,EAAUr9D,IACzBmhE,mBAAoB+/C,KAErB,UAAA7jC,EAAariF,aAAb,eAAoB0mB,iBACnB,kBAAC,GAAD,CACEoY,QAAQ,sBACR5zB,MAAOiG,EAAKU,EAAE,8BACdgyB,SAAS,oCACT4a,WAAW,2BACXlmB,QAASpnB,EAAKU,EACZ,0HAIF,kBAACkb,GAAA,EAAD,eACE/nB,GAAG,uBACC4hH,EAFN,CAGE55F,SAAU,SAAAhtB,GACR6mH,EAAWlpG,SAAS3d,QAK5B,kBAAC6+B,GAAA,EAAD,CACEC,QAAQ,oBACRC,kBAAmBgoF,GAAa7zG,MAChC8rB,UACG+nF,GAAanoF,SAAYmoF,GAAa7zG,MAAoB,QAAZ,UAEjD8P,YAAU,EACV9X,MAAOiG,EAAKU,EAAE,qBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,2DAKN,kBAAC,GAAD,CACE8wE,UAAS,UAAEN,EAAariF,aAAf,aAAE,EAAoBgF,GAC/B25B,SAAUooF,GAAanoF,UAAYmoF,GAAa7zG,MAChDmd,MAAOy2F,GACP53E,OAAQ,kBAAM83E,GAAgB91E,cAC9B9P,QAASslB,KAGb,kBAACpkB,GAAD,KACE,kBAAC,GAAD,CACExD,QAAQ,uBACR5zB,MAAOiG,EAAKU,EAAE,oBACdgyB,SAAS,oCACT4a,WAAW,2BACXlmB,QAASpnB,EAAKU,EAAE,8aAMhB,kBAAC,GAAD,CACE7R,MAAO2uE,GAAgB3uE,MACvBgtB,SAAU,SAAAg7F,GAAc,OACtBn5C,GAAkBlxD,SAASqqG,IAE7B5mF,QAASslB,KAGb,kBAAC7nB,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,eACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,6JAKpBitB,QAAQ,mBAER,kBAAC,GAAD,CACE9+B,MAAOinH,GAAYjnH,MACnBgtB,SAAU,SAAA/F,GAAM,OAAIigG,GAAcvpG,SAASsJ,IAC3Cma,QAASslB,EACT29D,WAAYlzG,EAAKU,EAAE,kBAGvB,kBAAC,GAAD,CACE7M,GAAG,qBACHoG,KAAK,aACLF,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAS,mCACTtL,QAASpnB,EAAKU,EACZ,yPAMJ,kBAACwwB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,iBACHoG,KAAK,QACL9E,KAAK,SACLyU,IAAI,IACJ7P,MAAOiG,EAAKU,EAAE,cACd0mB,QACE,8BACGpnB,EAAKU,EAAE,sPAIc,IACtB,6CANF,IAM4B,IACzBV,EAAKU,EAAE,wFAKd,kBAAC,GAAD,CACEitB,QAAQ,iBACR5zB,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAS,+BACT4a,WAAW,sBACXlmB,QAASpnB,EAAKU,EAAE,sOAKhB,kBAACkb,GAAA,EAAD,eACE/nB,GAAG,kBACCmiH,GAFN,CAGEnoF,UACGooF,GAAUxoF,SAAYwoF,GAAUl0G,MAAoB,QAAZ,UAE3C8Z,SAAU,SAAAhtB,GACRqnH,GAAa1pG,SAAS3d,QAI5B,kBAAC,GAAD,CACE8+B,QAAQ,qBACR5zB,MAAOiG,EAAKU,EAAE,iCACdgyB,SAAS,mCACT4a,WAAW,0BACXlmB,QAASpnB,EAAKU,EAAE,oFAGhB,kBAAC,GAAD,eACE7M,GAAG,qBACHF,KAAMovE,IACFU,MAGR,kBAAC,GAAD,CACE5vE,GAAG,uBACHoG,KAAK,kBACL9E,KAAK,SACLyU,IAAI,IACJ7P,MAAOiG,EAAKU,EAAE,oBACd0mB,QAASpnB,EAAKU,EAAE,6JAIlB,kBAAC,GAAD,CACE7M,GAAG,mBACHoG,KAAK,UACL9E,KAAK,SACLyU,IAAI,IACJ7P,MAAOiG,EAAKU,EAAE,gBACd0mB,QAASpnB,EAAKU,EAAE,+GAIlB,kBAAC,GAAD,CACEitB,QAAQ,qBACR5zB,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAS,mCACT4a,WAAW,0BACXlmB,QAASpnB,EAAKU,EAAE,2HAIhB,kBAACw7C,GAAA,EAAD,CACEroD,GAAG,wBACHkG,MAAOspE,GAAcx0E,MAAQmR,EAAKU,EAAE,WAASV,EAAKU,EAAE,YACpDqhB,UAAWshD,GAAcx0E,MACzBgtB,SAAU,SAAAiD,GAAO,OAAIwkD,GAAgB92D,SAASsS,OAGlD,kBAACqS,GAAD,KACE,kBAAC,GAAD,CACEtiC,MAAOkyE,GAAoBlyE,MAC3BgtB,SAAU,SAAAhtB,GAAK,OAAImyE,GAAsBx0D,SAAS3d,IAClDu4B,QAASpnB,EAAKU,EAAE,sEAGlB,kBAAC,GAAD,CACEitB,QAAQ,gBACR5zB,MAAOiG,EAAKU,EAAE,iBACdgyB,SAAS,8BACT4a,WAAW,qBACXlmB,QAASpnB,EAAKU,EAAE,6NAMhB,kBAAC,GAAD,CACE7R,MAAOsnH,GAAatnH,MACpBgtB,SAAU,SAAAhtB,GAAK,OAAIunH,GAAe5pG,SAAS3d,OAG/C,kBAAC,GAAD,CACE8+B,QAAQ,qBACR5zB,MAAOiG,EAAKU,EAAE,kBACdgyB,SAAS,mCACT4a,WAAW,0BACXlmB,QAASpnB,EAAKU,EAAE,kOAMhB,kBAAC,GAAD,CACE7R,MAAOwnH,GAAcxnH,MACrBgtB,SAAU,SAAAhtB,GAAK,OAAIynH,GAAgB9pG,SAAS3d,OAGhD,kBAAC6+B,GAAA,EAAD,CACEC,QAAQ,6BACR5zB,MAAOiG,EAAKU,EAAE,iBAEd,kBAAC0wB,GAAD,KACE,kBAAC,GAAD,CACEv9B,GAAG,8BACHoG,KAAK,iBACLF,MAAOiG,EAAKU,EAAE,6BACd0mB,QAASpnB,EAAKU,EAAE,6DAGlB,kBAACohB,GAAA,EAAD,CACEtf,aAAYxC,EAAKU,EAAE,+BACnB3G,MACE,8BACGiG,EAAKU,EAAE,+BADV,OAGE,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EAAE,oKAOtB7M,GAAG,mBACHkuB,UAAWizF,EACXn5F,SAAU,SAAAiD,GACRm2F,EAAkBn2F,MAGtB,kBAACgD,GAAA,EAAD,CACEtf,aAAYxC,EAAKU,EAAE,uBACnB3G,MACE,8BACGiG,EAAKU,EAAE,uBADV,OAGE,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EAAE,6CAItB7M,GAAG,wBACHkuB,UAAWmzF,EACXr5F,SAAU,SAAAiD,GACRq2F,EAAkBr2F,MAGtB,kBAAC,GAAD,CACEjrB,GAAG,oBACHoG,KAAK,qBACLF,MAAOiG,EAAKU,EAAE,wBACd0mB,QAASpnB,EAAKU,EAAE,8EAGlB,kBAAC,GAAD,CACE7M,GAAG,oBACHoG,KAAK,iBACLF,MAAOiG,EAAKU,EAAE,4BACd0mB,QAASpnB,EAAKU,EACZ,mKASRs0G,GAAkBE,IAClB,oCACE,kBAAC7jF,GAAD,KACG2jF,GACC,oCACE,kBAAC5yG,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,uCAEV,kBAACwwB,GAAD,KACGylF,IACC,kBAACjpF,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,kCACditB,QAAQ,yBAER,kBAAC/R,GAAA,EAAD,CACE/nB,GAAG,wBACHuT,YAAU,EACVvY,MAAO8nH,MAIb,kBAAC,GAAD,CACE9iH,GAAG,2BACHoG,KAAK,kBACLF,MAAOiG,EAAKU,EAAE,wBACd0sB,SACE4nF,EAAiB58F,GAAS,KAAMpY,GAAQ,KAE1C6R,WAAYmjG,MAMnBA,GAAkBE,GAAkB,6BAEpCA,GACC,oCACE,kBAAC9yG,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,yBAEV,kBAACwwB,GAAD,KACE,kBAAC,GAAD,CAAgBwiF,aAAcxiD,EAAS/7D,aASvD,kBAAC,GAAD,CAAiB4M,MAAOk+B,IACxB,kBAAC,GAAD,CAAiB7E,SAAU8Y,EAAcxkC,SAAUX,MAa3D+lG,GAAgB5zG,aAAe,CAC7BgwD,SAAU,CACRj3D,KAAM,GACN6X,YAAa,GACbuB,SAAU,MACVD,eAAW4d,EACXxd,aAASwd,EACTzd,SAAU,GACVX,eAAgB,CACdQ,UAAW,KACX0C,OAAQ,CAAE7gB,QAAS,IACnBue,QAAS,KACTqC,YAAa,IAEfihG,OAAO,GAET72E,YAAa,KACb80E,0BAA0B,GAG5B,IAAM9wC,GAAYC,aAAW,CAC3BC,iBAD2B,YACgB,IAAD,QAAvBjT,gBAAuB,MAAZ,GAAY,EAARlxD,EAAQ,EAARA,KAChC,EAKIkxD,EAJFt+C,sBADF,MACmB,CACfkD,OAAQ,CAAE7gB,QAAS,IACnBme,UAAW,CAAElZ,aAAc,OAH/B,EAOA,MAAO,CACL68G,gBAAiB7lD,EAAS6lD,kBAAmB,EAC7C51D,mBAAoB+P,EAAS/P,qBAAsB,EACnD1H,yBAA0ByX,EAASzX,2BAA4B,EAC/DgD,wBAAyByU,EAASzU,0BAA2B,EAC7D9D,wBAAyBuY,EAASvY,0BAA2B,EAC7D0D,uBAAwB6U,EAAS7U,yBAA0B,EAC3DC,oBAAqB4U,EAAS5U,sBAAuB,EACrDC,yBAA0B2U,EAAS3U,2BAA4B,EAC/DI,wBAAyBuU,EAASvU,0BAA2B,EAC7DD,mBAAoBwU,EAASxU,qBAAsB,EACnDE,wBAAyBsU,EAAStU,0BAA2B,EAC7DJ,wBAAyB0U,EAAS1U,0BAA2B,EAC7D4E,eAAgB8P,EAAS9P,iBAAkB,EAC3CvrC,YAAajD,EAAeiD,aAAe,GAC3C/D,YAAao/C,EAASp/C,aAAe,GACrC6F,UAAWu5C,EAASv5C,YAAa,EACjCte,WAAY63D,EAAS73D,YAAc,QACnCgoD,MAAO6P,EAAS7P,OAAS,EACzBC,gBAAiB4P,EAAS5P,iBAAmB,GAC7Co8C,sBAAuB,GACvB/oC,eAAgB,GAChBvhD,UAAW89C,EAAS99C,WAAa,KACjCkD,gBAAiB46C,EAAS56C,iBAAmB,EAC7CmB,SAAUy5C,EAASz5C,UAAY,GAC/BpE,SAAU69C,EAAS79C,UAAY,MAC/ByC,OAAQlD,EAAekD,OAAO7gB,SAAW,GACzCghB,MAAOi7C,EAASj7C,OAAS,GACzBhc,KAAMi3D,EAASj3D,MAAQ,GACvBsZ,SAAU29C,EAAS39C,UAAY,GAC/BC,SAAuB,OAAdZ,QAAc,IAAdA,OAAA,EAAAA,EAAgBY,UAAW,KACpCyB,WAAYi8C,EAASj8C,YAAc,GACnCyC,UAAWw5C,EAASx5C,WAAa,GACjC1lB,QAASk/D,EAASl/D,SAAW,EAC7BwvD,eAAgB0P,EAAS1P,iBAAkB,EAC3CrrC,UAAW+6C,EAAS/6C,WAAa,IACjCurC,gBAAiBwP,EAASxP,iBAAmB,GAC7Cs1D,aAAqB,OAAR9lD,QAAQ,IAARA,GAAA,UAAAA,EAAUv+C,eAAV,eAAmBovC,kBAAnB,UACND,IADM,OACGoP,EAASv+C,QAAQovC,kBAC7B/hD,EAAKU,EAAE,qDAAiDqD,cAC5D09C,YACEyP,EAASzP,aACTzhD,EAAKU,EAAE,qDAAiDqD,cAC1Di+C,oBAA4B,OAARkP,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0BovC,qBAAsB,OAGxEjzC,aAAa,WAAD,4BAAE,WAAO9W,EAAP,oBAAAzQ,EAAA,6DAAiBka,EAAjB,EAAiBA,MAAOqwB,EAAxB,EAAwBA,UAAxB,kBAEJrwB,EAAMqN,aAAa9W,GAFf,sDAIV85B,EAAU,EAAD,IAJC,wDAAF,qDAAC,GAOb3E,SAAU,SAACn1B,EAAD,GAAuB,IAAZ+H,EAAW,EAAXA,KACbgwC,EAAS,GAWf,OARI/3C,EAAOmb,WAAkC,KAArBnb,EAAOmb,WAC5Bnb,EAAO0gD,0BAER3I,EAAO58B,UAAYpT,EAAKU,EACtB,0EAIGsvC,IA1EOk0B,CA4Ef4wC,IAGY3zG,wBAAW8iE,I,sHCvkBXgzC,OAvIf,YAAwC,IAAD,IAAZ/lD,EAAY,EAAZA,SACnBnsD,EAAU8C,cAChB,EAA8C5E,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACA,EAAkCvrE,oBAAS,GAA3C,mBAAOmJ,EAAP,KAAkBC,EAAlB,KACA,EAAoCpJ,oBAAS,GAA7C,mBAAOmE,EAAP,KAAmB+uC,EAAnB,KAEMuB,EAAU,qBAAiBwZ,EAAS/7D,KAA1B,YAAkC+7D,EAASr9D,GAA3C,YAEhB,EAIIiY,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJuW,GAAYklC,WAAWiuB,EAAS19C,SAD5B,2CAET,CAAC09C,EAAS19C,WANJ0jG,EADX,EACE3qG,QACO4qG,EAFT,EAEEp1G,MACWq1G,EAHb,EAGEhrG,UAOF7C,qBAAU,WACR2tG,MACC,CAACA,IAEJ3tG,qBAAU,WACJ4tG,GACwC,MAAtCA,EAAkBnkH,SAASiR,QAC7BkyC,GAAc,KAGjB,CAACghE,IAEJ,IAAMpoG,EAAY,uCAAG,WAAM9W,GAAN,yBAAAzQ,EAAA,6DAEjBsuB,EAQE7d,EARF6d,OACA6+C,EAOE18D,EAPF08D,eACA+oC,EAMEzlG,EANFylG,sBACA7nF,EAKE5d,EALF4d,YACAmsC,EAIE/pD,EAJF+pD,mBAIE/pD,EAHFwpD,YAGExpD,EAFF++G,YACGviE,EATc,YAUfx8C,EAVe,IAYnBu2E,EAAmB,MACnBniE,GAAa,GACbooC,EAAgBjhC,QAAUvb,EAAOub,QAAQ3f,GACzC4gD,EAAgBuN,oBAAuC,OAAlBA,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBnuD,KAAM,KAf5C,kBAiBX0J,GAAgB8jC,OAAO6vB,EAASr9D,GAAI4gD,GAjBzB,wBAkBX7+C,QAAQmU,IAAI,CAChBstG,EAAavhG,EAAD,OAASo7C,QAAT,IAASA,OAAT,EAASA,EAAUh3D,cAC/Bo9G,EAAqB3iD,EAAgB+oC,GACrC6Z,EAAkB1hG,KArBH,QAuBjB9Q,EAAQqI,KAAKsqC,GAvBI,kDAyBjB82B,EAAmB,EAAD,IAzBD,yBA2BjBniE,GAAa,GA3BI,6EAAH,sDA+BZgrG,EAAY,uCAAG,sDAAA7vH,EAAA,6DAAOsuB,EAAP,+BAAgB,GAAI9b,EAApB,yBACQonE,GACzBlQ,EAASt+C,eAAekD,OAAO7gB,QAC/B6gB,GAFMwrD,EADW,EACXA,MAAOC,EADI,EACJA,QAKTi2C,EAAyBj2C,EAAQnzE,KAAI,SAAA2L,GAAK,OAC9CwD,GAAgB3D,kBAAkBs3D,EAASr9D,GAAIkG,MAE3C09G,EAAsBn2C,EAAMlzE,KAAI,SAAA2L,GACpC,OAAOwD,GAAgB5D,eAAeu3D,EAASr9D,GAAIkG,EAAOC,MAVzC,SAaGpE,QAAQmU,IAAR,sBACjBytG,GADiB,YAEjBC,KAfc,cAabxiH,EAba,yBAiBZA,GAjBY,2CAAH,qDAoBZqiH,EAAoB,uCAAG,WAAO7gG,EAAQihG,GAAf,uBAAAlwH,EAAA,+DACA45E,GAAmBs2C,EAAejhG,GAArD6qD,EADmB,EACnBA,MAAOC,EADY,EACZA,QADY,SAEQA,EAAQnzE,KAAI,SAAA2I,GAAK,OAClDwG,GAAgB6kE,0BAA0BlR,EAASr9D,GAAIkD,EAAMlD,OAHpC,cAErBsuE,EAFqB,gBAKKb,EAAMlzE,KAAI,SAAA2I,GAAK,OAC7CwG,GAAgB2kE,uBAAuBhR,EAASr9D,GAAIkD,EAAMlD,OANjC,cAKrBouE,EALqB,yBAQpBrsE,QAAQmU,IAAR,sBAAgBo4D,GAAhB,YAAyCF,MARrB,2CAAH,wDAWpBs1C,EAAiB,uCAAG,WAAMV,GAAN,2BAAArvH,EAAA,+DACG45E,GACzBlQ,EAASt+C,eAAeiD,YACxBghG,GAFMv1C,EADgB,EAChBA,MAAOC,EADS,EACTA,QAITo2C,EAA0Bp2C,EAAQnzE,KAAI,SAAAqxD,GAAI,OAC9CliD,GAAgBo6G,wBAAwBzmD,EAASr9D,GAAI4rD,EAAK5rD,OANpC,SAQU+B,QAAQmU,IAAI4tG,GARtB,cAQlBC,EARkB,OASlBC,EAAuBv2C,EAAMlzE,KAAI,SAAAqxD,GAAI,OACzCliD,GAAgBs6G,qBAAqB3mD,EAASr9D,GAAI4rD,EAAK5rD,OAVjC,SAYO+B,QAAQmU,IAAI8tG,GAZnB,cAYlBC,EAZkB,yBAajBliH,QAAQmU,IAAI,CAAC6tG,EAAqBE,KAbjB,4CAAH,sDAoBvB,OAFa,OAAG5mD,QAAH,IAAGA,GAAH,UAAGA,EAAUt+C,sBAAb,iBAAG,EAA0Bb,yBAA7B,aAAG,EAA6C6nB,MAKzDxtB,GAAagrG,EACR,kBAAC,GAAD,MAIP,kBAAC,GAAD,KACE,kBAAC,GAAD,CACElmD,SAAUA,EACVhd,aAfe,kBAAMnvC,EAAQqI,KAAKsqC,IAgBlC3oC,aAAcA,EACdkxB,YAAasuC,EACbwmC,0BAA2B3tG,KAbxB,kBAAC,IAAD,CAAU7B,GAAImyC,K,sBCxGnBre,GAAiBh4B,YAAOi4B,MAAV,oFAAGj4B,CAAH,2EAMd0J,GAAS1J,YAAO02G,KAAV,4EAAG12G,CAAH,oDAKN22G,GAAW32G,IAAO65D,KAAV,8EAAG75D,CAAH,yFAKRgT,GAAQhT,IAAOk4B,EAAV,2EAAGl4B,CAAH,wBA4GIF,I,GAAAA,yBAxGf,YAUI,IATFi1C,EASC,EATDA,QACA6G,EAQC,EARDA,SACAj9C,EAOC,EAPDA,KACAi4G,EAMC,EANDA,OACAx8E,EAKC,EALDA,QACA1Z,EAIC,EAJDA,UACAlb,EAGC,EAHDA,SACAqxG,EAEC,EAFDA,SACAC,EACC,EADDA,WAEA,OACE,kBAAClhF,GAAA,EAAD,CACEx0B,kBAAiBzC,EAAKU,EAAE,yBACxB7M,GAAE,2BAAsBopD,EAAS5kC,WAEjC,0BACE,kBAAC,GAAD,CACExkB,GAAG,gBACH4O,kBAAiBzC,EAAKU,EAAE,4BACxB8B,aAAYxC,EAAKU,EAAE,6BAEnB,kBAAC03G,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,KACE,kBAAC,GAAD,CACE72G,QAAQ,QACRgB,aAAYxC,EAAKU,EAAE,gBACnB0G,WAAYq0B,IAAY2a,EACxB/uC,QAAS,kBAAM6wG,EAASj7D,KAExB,kBAAC,KAAD,QAGJ,kBAACo7D,GAAA,EAAD,KACE,kBAAC,GAAD,CACE72G,QAAQ,QACRgB,aAAYxC,EAAKU,EAAE,kBACnB0G,WAAY6wG,IAAW7hE,EACvB/uC,QAAS,kBAAM8wG,EAAWl7D,KAE1B,kBAAC,KAAD,UAKR,kBAACtjB,GAAA,EAAD,CACEvyB,YAAagvC,EACbt3B,QAASiD,EACTlG,SAAUhV,EACVpE,kBAAgB,iBAElB,kBAAC00B,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,oCACE,kBAAC,IAAD,CAAM8W,GAAE,wCAAmC03C,EAAS5kC,WACjD4kC,EAAS/kC,eAEX+kC,EAAS7kC,UACR,kBAAC4/F,GAAD,CACEx1G,aAAYxC,EAAKU,EAAE,iBACnBmP,UAAU,4BACV09B,cAAY,QAHd,OAWN,kBAAC,GAAD,CAAc9+C,IAAI,QAChB,kBAAC,GAAD,KAAQuR,EAAKU,EAAE,sBACdu8C,EAAS9nD,MAEZ,kBAAC,GAAD,CAAc1G,IAAI,WAChB,kBAAC,GAAD,KAAQuR,EAAKU,EAAE,iBACd,CAACu8C,EAAS9nD,MAAM5F,SAAS,aACxB,8BAAOyQ,EAAKU,EAAE,kBAAcqD,eAE7B,CAACk5C,EAAS9nD,MAAM5F,SAAS,gBACxB0tD,EAAS3kC,QAAQ1pB,OAAS,GACxB,kBAAC,GAAD,CACE8sC,SAAU,EACVC,WAAYshB,EAAS3kC,QAAQvtB,MAAM,MAAM6D,QAExCquD,EAAS3kC,QAAQvtB,MAAM,MAAMqD,KAAI,SAAAqwB,GAAI,OACpC,kBAAC6d,GAAA,EAAD,CAAM7tC,IAAKgwB,EAAMyd,YAAU,GACxBzd,QAKT,CAACw+B,EAAS9nD,MAAM5F,SAAS,cACxB,CAAC0tD,EAAS9nD,MAAM5F,SAAS,gBACxB,8BAAO0tD,EAAS3kC,kB,yICtH5BoJ,GAAUrgB,YAAOi3G,KAAPj3G,CAAH,oDA+DEF,6BA3Df,YASI,IARFi1C,EAQC,EARDA,QACAr1B,EAOC,EAPDA,cACAC,EAMC,EANDA,YACAhhB,EAKC,EALDA,KACAu4G,EAIC,EAJDA,cACAC,EAGC,EAHDA,eACAC,EAEC,EAFDA,iBACAC,EACC,EADDA,oBAEAD,GAAoBriE,GAAWqiE,EAC/B,IAAM/gF,EAAQmC,cACd,OACE,kBAAC,GAAD,CAAShmC,GAAG,kBACV,kBAACguB,GAAA,EAAD,KACE,kBAAC7Q,GAAA,EAAD,KACE,kBAAC8Q,GAAA,EAAD,CACE1a,YAAagvC,EACbr0B,UAAWhB,EACXlF,SAAU,SAAAkG,GACRf,EAAYe,IAEdvf,aAAYxC,EAAKU,EAAE,mBACnB7M,GAAG,gBAGP,kBAACmd,GAAA,EAAD,KACE,kBAACkrC,GAAA,EAAD,CACE15C,aAAYxC,EAAKU,EAAE,sBACnB7M,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,WACdy7C,SAAUn8C,EAAKU,EAAE,YACjBqhB,UAAWw2F,EACXnxG,YAAagvC,EACbv6B,SAAU,kBAAM28F,GAAgBD,OAGpC,kBAACr6F,GAAA,EAAD,KACE,kBAAClN,GAAA,EAAD,KACE,kBAAC,GAAD,CACE5J,YAAagvC,EACb3d,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,kBAACgN,GAAA,EAAD,KACE,kBAACjG,EAAA,EAAD,CACEvJ,QAAQ,YACR4F,WAAYqxG,EACZpxG,QAAS,kBAAMqxG,GAAoB,KAElC14G,EAAKU,EAAE,6BC2DPS,I,GAAAA,yBAjHf,YAKI,IAJFw3G,EAIC,EAJDA,UACAC,EAGC,EAHDA,mBACAC,EAEC,EAFDA,kBACA74G,EACC,EADDA,KAEMyP,EAAgB,GAMtB,OALAkpG,EAAUtqH,SAAQ,SAAAq1D,GAEhB,OADAj0C,EAAci0C,EAAErrC,UAAYqrC,EAAEprC,QACvB7I,KAIP,kBAACnN,GAAA,EAAD,CACEf,MAAOvB,EAAKU,EAAE,uBACd8B,aAAYxC,EAAKU,EAAE,6BACnBZ,OAAQ84G,EACR74G,QAAS,kBAAM84G,GAAkB,IACjCr3G,QAAQ,SAER,kBAAC,KAAD,CAAQiO,cAAeA,IACpB,kBACC,kBAAC4wB,GAAA,EAAD,KACGs4E,EAAUvqH,KAAI,SAAAs1D,GAAC,OACd,yBAAKj1D,IAAKi1D,EAAErrC,UACT,CAAC,OAAQ,UAAW,SAAS9oB,SAASm0D,EAAEvuD,OACvC,kBAACu4B,GAAA,EAAD,CACEC,QAAO,8BAAyB+1B,EAAErrC,UAClCte,MAAO2pD,EAAExrC,cACTrG,WAAY6xC,EAAEtrC,UAEd,kBAACwD,GAAA,EAAD,CACE/nB,GAAE,8BAAyB6vD,EAAErrC,UAC7BxpB,MAAO60D,EAAEprC,QACTlR,YAAU,EACV5E,aAAYxC,EAAKU,EAAE,gBAIxB,CAAC,YAAYnR,SAASm0D,EAAEvuD,OACvB,kBAACu4B,GAAA,EAAD,CACEC,QAAO,kCAA6B+1B,EAAErrC,UACtCte,MAAO2pD,EAAExrC,cACTrG,WAAY6xC,EAAEtrC,UAEd,kBAACoY,GAAA,EAAD,CACE38B,GAAE,kCAA6B6vD,EAAErrC,UACjCljB,KAAI,kCAA6BuuD,EAAErrC,UACnCxpB,MAAO60D,EAAEprC,QACT9V,aAAYxC,EAAKU,EAAE,kBACnB0G,YAAU,KAIf,CAAC,YAAY7X,SAASm0D,EAAEvuD,OACvB,kBAAC,GAAD,CACEtB,GAAE,kCAA6B6vD,EAAErrC,UACjCte,MAAO2pD,EAAExrC,cACTje,KAAMypD,EAAErrC,SACRjR,YAAU,EACVyK,WAAY6xC,EAAEtrC,WAGjB,CAAC,kBAAkB7oB,SAASm0D,EAAEvuD,OAC7B,kBAACu4B,GAAA,EAAD,CACEC,QAAO,wCAAmC+1B,EAAErrC,UAC5Cte,MAAO2pD,EAAExrC,cACTrG,WAAY6xC,EAAEtrC,UAEd,kBAACtuB,GAAA,EAAD,CACE+J,GAAE,wCAAmC6vD,EAAErrC,UACvCjR,YAAU,EACV5E,aAAYxC,EAAKU,EAAE,wBACnB0a,gBAAiBsoC,EAAEprC,QACnBjV,SAAU,gBAIf,CAAC,eAAe9T,SAASm0D,EAAEvuD,OAC1B,kBAACu4B,GAAA,EAAD,CACEC,QAAO,qCAAgC+1B,EAAErrC,UACzCte,MAAO2pD,EAAExrC,cACTrG,WAAY6xC,EAAEtrC,UAEd,kBAACtuB,GAAA,EAAD,CACEsd,YAAU,EACV80B,YAAU,EACV16B,QAASqZ,KAAc4gC,eACvB37C,QAAQ,EACRqb,WACEuoC,EAAEprC,QAAQ1pB,OAAS,EAAI80D,EAAEprC,QAAQvtB,MAAM,MAAQ,GAEjDsY,SAAU,aACVb,aAAYxC,EAAKU,EAAE,qBACnB7M,GAAE,qCAAgC6vD,EAAErrC,WAEnCqrC,EAAEnrC,QAAQ3pB,OAAS,GAClB80D,EAAEnrC,QACCxtB,MAAM,MACNqD,KAAI,SAAA4wC,GAAM,OACT,kBAACzjB,GAAA,EAAD,CAAc9sB,IAAKuwC,EAAQnwC,MAAOmwC,qBC/FxDj0B,GAAS1J,YAAO02G,IAAP12G,CAAH,+CAgLGF,6BA5Kf,YASI,IA+FEoF,EAvGJ6F,EAQC,EARDA,UACAhS,EAOC,EAPDA,OACAm+G,EAMC,EANDA,cACAO,EAKC,EALDA,aACAC,EAIC,EAJDA,aACAC,EAGC,EAHDA,aACA5iE,EAEC,EAFDA,QACAp2C,EACC,EADDA,KAEM03B,EAAQmC,cAER8+E,GAAkB,OAANv+G,QAAM,IAANA,OAAA,EAAAA,EAAQqe,OAAQ,GAClC,EAAgCxV,mBAAS,IAAzC,mBAAO+1B,EAAP,KAAiBC,EAAjB,KACA,EAAkDh2B,oBAAS,GAA3D,mBAAOg2G,EAAP,KAA0BC,EAA1B,KACA,EAAoDj2G,oBAAS,GAA7D,mBAAO21G,EAAP,KAA2BO,EAA3B,KACMp4F,EACJiY,EAASpqC,UAAT,OAAoB+pH,QAApB,IAAoBA,OAApB,EAAoBA,EAAW/pH,SAAUoqC,EAASpqC,OAAS,EAcvDyzC,EAAY,uCAAG,sBAAA76C,EAAA,0DACfu5B,EADe,gCAEXi4F,IAFW,6CAIXD,EAAaJ,EAAU/oH,QAAO,SAAA8zD,GAAC,OAAK1qB,EAASzpC,SAASm0D,OAJ3C,OAMnBw1D,GAAqB,GACrBjgF,EAAY,IAPO,2CAAH,qDAUZmgF,EAAS,SAAAn8D,GACb,IAAMjsD,EAAQ2nH,EAAU1nH,QAAQgsD,GAChC,KAAIjsD,EAAQ,GAAZ,CAGA,IAAMqoH,EAAYV,EAAUvtH,MAAM,EAAG4F,EAAQ,GACvCsoH,EAAWX,EAAU3nH,EAAQ,GAC7Bu6E,EAAMotC,EAAUvtH,MAAM4F,EAAQ,GACpC+nH,EAAa,GAAD,mBAAKM,GAAL,CAAgBp8D,EAAUq8D,GAA1B,YAAuC/tC,OAE/CguC,EAAW,SAAAt8D,GACf,IAAMjsD,EAAQ2nH,EAAU1nH,QAAQgsD,GAChC,MAAe,IAAXjsD,GAAgBA,EAAQ2nH,EAAU/pH,OAAS,GAA/C,CAGA,IAAMyqH,EAAYV,EAAUvtH,MAAM,EAAG4F,GAC/BsoH,EAAWX,EAAU3nH,EAAQ,GAC7Bu6E,EAAMotC,EAAUvtH,MAAM4F,EAAQ,GACpC+nH,EAAa,GAAD,mBAAKM,GAAL,CAAgBC,EAAUr8D,GAA1B,YAAuCsuB,OAE/CiuC,EACJ,kBAAC,GAAD,CACEh4G,QAAQ,SACRD,MACEwf,EAAgB/gB,EAAKU,EAAE,sBAAoBV,EAAKU,EAAE,yBAEpDZ,OAAQm5G,EACRl5G,QAAS,WACPm5G,GAAqB,GACrBjgF,EAAY,KAEdnuB,QAAS,CACP,kBAAC,GAAD,CACErc,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,iCACnB2G,QAASg7B,GAERriC,EAAKU,EAAE,sBAEV,kBAAC,GAAD,CACEjS,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,iCACnB2G,QAAS,WACP6xG,GAAqB,GACrBjgF,EAAY,MAGbj5B,EAAKU,EAAE,wBAIZ,6BAAMV,EAAKU,EAAE,gDACZs4B,EAAS5qC,KAAI,SAAA6uD,GAAQ,OACpB,0BAAMxuD,IAAKwuD,EAAS5kC,UAClB,gCAAS4kC,EAAS/kC,eAClB,kCA4CR,OApCE3R,EADE6F,EACQ,kBAAC,GAAD,MAGR,kBAACorB,GAAA,EAAD,CAAUh1B,aAAYxC,EAAKU,EAAE,qBAA7B,OACGi4G,QADH,IACGA,OADH,EACGA,EAAWvqH,KAAI,SAAC6uD,EAAUjsD,GAAX,OACd,kBAAC,GAAD,CACEvC,IAAKwuD,EAAS5kC,SACd4/F,OAAQjnH,IAAU2nH,EAAU/pH,OAAS,EACrC6sC,QAAmB,IAAVzqC,EACTisD,SAAUA,EACVl7B,UAAWiX,EAASlqC,MAAK,SAAA40D,GAAC,OAAIA,EAAErrC,WAAa4kC,EAAS5kC,YACtDxR,SAAU,kBA9FCotB,EA8FkBgpB,OA7FjCjkB,EAASlqC,MAAK,SAAA40D,GAAC,OAAIA,EAAErrC,WAAa4b,EAAK5b,YACzC4gB,EAAYD,EAASppC,QAAO,SAAA8zD,GAAC,OAAIA,EAAErrC,WAAa4b,EAAK5b,aAErD4gB,EAAYD,EAASrnC,OAAOsiC,KAJX,IAAAA,GA+FXikF,SAAUkB,EACVjB,WAAYoB,EACZnjE,QAASA,OAGZ6iE,GAAqBO,EACrBZ,GACC,kBAAC,GAAD,CACEA,mBAAoBA,EACpBC,kBAAmB,kBAAMM,GAAsB,IAC/CR,UAAWA,IAGf,kBAAC,GAAD,CACEtxG,QAAS,kBAAM8xG,GAAsB,IACrC33G,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,iBAElBV,EAAKU,EAAE,kBAMVi4G,MAAsB,OAATA,QAAS,IAATA,OAAA,EAAAA,EAAW/pH,SAAU,IAAOwd,EAe7C,oCACE,kBAAC,GAAD,CACE2U,cAAeA,EACfC,YA7IkB,SAAAyY,GACtBR,EAAYQ,EAAU,YAAOk/E,GAAa,KA6ItCJ,cAAeA,EACfC,eAAgBM,EAChBL,iBAAuC,KAAb,OAARz/E,QAAQ,IAARA,OAAA,EAAAA,EAAUpqC,QAC5BwnD,QAASA,EACTsiE,oBAAqB,kBAAMQ,GAAqB,MAEjD3yG,GAvBD,kBAACgF,GAAA,EAAD,CAAY/J,QAAQ,QAClB,kBAACgK,GAAA,EAAD,CAAgBC,KAAM2X,OACtB,kBAAChhB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,oCAEV,kBAACiL,GAAA,EAAD,KACG3L,EAAKU,EAAE,sCAEV,kBAAC,GAAD,CAAkB0G,YAAagvC,EAAS3d,OAAM,UAAKf,EAAM1zB,IAAX,cC1JtD,SAASy1G,GAAT,GAAoC,IAATz5G,EAAQ,EAARA,KACzB,EAAgBqtB,aAAS,CACvBpzB,KAAM,OACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,sCAAmCV,KAFxDkf,EAAP,oBAKA,OACE,kBAACwO,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,oBACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EACZ,2KAMNmR,YAAU,EACV8b,QAAQ,wBAER,kBAAC,GAAD,eACE95B,GAAG,iBACCqrB,EAFN,CAGEvrB,KAAM,CACJ,CAAElF,IAAK,OAAQI,MAAO,OAAQkL,MAAOiG,EAAKU,EAAE,cAC5C,CAAEjS,IAAK,WAAYI,MAAO,WAAYkL,MAAOiG,EAAKU,EAAE,kBACpD,CAAEjS,IAAK,WAAYI,MAAO,WAAYkL,MAAOiG,EAAKU,EAAE,kBACpD,CACEjS,IAAK,iBACLI,MAAO,iBACPkL,MAAOiG,EAAKU,EAAE,yCAEhB,CACEjS,IAAK,cACLI,MAAO,cACPkL,MAAOiG,EAAKU,EAAE,2CAEhB,CAAEjS,IAAK,UAAWI,MAAO,UAAWkL,MAAOiG,EAAKU,EAAE,iBAClD,CAAEjS,IAAK,QAASI,MAAO,QAASkL,MAAOiG,EAAKU,EAAE,oBAOxD,SAASg5G,GAAT,GAMI,IALFz8D,EAKC,EALDA,SACAluC,EAIC,EAJDA,aACAmlC,EAGC,EAHDA,aACAjU,EAEC,EAFDA,YACAjgC,EACC,EADDA,KAgBA,OACE,kBAAC,KAAD,CACE25G,oBAAkB,EAClBlqG,cAAe,CACbyI,eAAuB,OAAR+kC,QAAQ,IAARA,OAAA,EAAAA,EAAU/kC,gBAAiB,GAC1CC,sBAA8B,OAAR8kC,QAAQ,IAARA,OAAA,EAAAA,EAAU9kC,uBAAwB,GACxDC,UAAU6kC,IAAQ,OAAGA,QAAH,IAAGA,OAAH,EAAGA,EAAU7kC,UAC/BjjB,MAAc,OAAR8nD,QAAQ,IAARA,OAAA,EAAAA,EAAU9nD,OAAQ,OACxBkjB,UAAkB,OAAR4kC,QAAQ,IAARA,OAAA,EAAAA,EAAU5kC,WAAY,GAChCzO,KAAa,OAARqzC,QAAQ,IAARA,OAAA,EAAAA,EAAUrzC,MAAO,EACtBoB,KAAa,OAARiyC,QAAQ,IAARA,OAAA,EAAAA,EAAUjyC,MAAO,KACtBsN,SAAiB,OAAR2kC,QAAQ,IAARA,OAAA,EAAAA,EAAU3kC,UAAW,GAC9BC,SAAiB,OAAR0kC,QAAQ,IAARA,OAAA,EAAAA,EAAU1kC,UAAW,GAC9BqhG,cAAe38D,GAEjBvtC,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,gBACHoG,KAAK,gBACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,iBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,uBACHoG,KAAK,uBACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACE7M,GAAG,oBACHoG,KAAK,WACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,6BACd0sB,SAAU2N,GAAQ,CAACJ,GAAa36B,GAAOoY,GAAS,KAAMpY,KACtD6R,YAAU,EACVuV,QAASpnB,EAAKU,EACZ,sLAKJ,kBAAC+4G,GAAD,CAAiBz5G,KAAMA,IACvB,kBAAC,GAAD,CACEnM,GAAG,oBACHoG,KAAK,WACLF,MAAOiG,EAAKU,EAAE,oBAGlB,kBAACwwB,GAAD,KACG,CAAC,OAAQ,WAAY,YAAY3hC,SAASogB,EAAO1X,OAAO9C,OACvD,oCACE,kBAAC,GAAD,CACEtB,GAAG,eACHoG,KAAK,MACL9E,KAAK,SACL4E,MAAOiG,EAAKU,EAAE,yBAEhB,kBAAC,GAAD,CACE7M,GAAG,eACHoG,KAAK,MACL9E,KAAK,SACL4E,MAAOiG,EAAKU,EAAE,0BAInB,CAAC,UAAW,SAASnR,SAASogB,EAAO1X,OAAO9C,OAC3C,oCACE,kBAAC,GAAD,CACEtB,GAAG,eACHoG,KAAK,MACL9E,KAAK,SACL4E,MAAOiG,EAAKU,EAAE,kBAEhB,kBAAC,GAAD,CACE7M,GAAG,eACHoG,KAAK,MACL9E,KAAK,SACL4E,MAAOiG,EAAKU,EAAE,mBAInB,CAAC,OAAQ,UAAW,SAASnR,SAASogB,EAAO1X,OAAO9C,OACnD,kBAAC,GAAD,CACEtB,GAAG,mBACHoG,KAAK,UACLmzB,SACE,CACEltB,KAAMq6B,GAAU5qB,EAAO1X,OAAO+S,IAAKhL,GACnC46B,QAASA,GAAQ56B,GACjB69C,MAAOg8D,GAAgB75G,IACvB2P,EAAO1X,OAAO9C,MAElByU,IAAK+F,EAAO1X,OAAO2R,IACnBoB,IAAK2E,EAAO1X,OAAO+S,IACnB7V,KAA6B,SAAvBwa,EAAO1X,OAAO9C,KAAkB,OAAS,SAC/C4E,MAAOiG,EAAKU,EAAE,yBAGM,aAAvBiP,EAAO1X,OAAO9C,MACb,kBAAC,GAAD,CACEtB,GAAG,mBACHoG,KAAK,UACL9E,KAAK,WACL4E,MAAOiG,EAAKU,EAAE,yBAGM,aAAvBiP,EAAO1X,OAAO9C,MACb,kBAAC,GAAD,CACEtB,GAAG,mBACHoG,KAAK,UACLF,MAAOiG,EAAKU,EAAE,yBAGjB,CAAC,iBAAkB,eAAenR,SAASogB,EAAO1X,OAAO9C,OACxD,oCACE,kBAAC,GAAD,CACEtB,GAAG,mBACHoG,KAAK,UACL9E,KAAK,WACL4E,MAAOiG,EAAKU,EAAE,gCACd0sB,SAAUhV,GAAS,KAAMpY,GACzBonB,QAASpnB,EAAKU,EACZ,uDAEFmR,YAAU,EACVya,KAAK,OAEP,kBAAC,GAAD,CACEz4B,GAAG,mBACHoG,KAAK,UACLmzB,UAtJc7U,EAsJkB5I,EAAO1X,OAAOsgB,QArJrD,SAAA2X,GACL,IAAI0B,EAQJ,OAPc,YAAI1B,GAAck9C,OAAM,SAAA0sC,GAAE,OAAIvhG,EAAQtnB,QAAQ6oH,IAAO,OAGjEloF,EAAe5xB,EAAKU,EAClB,kEAGGkxB,IA6IKz8B,KACyB,mBAAvBwa,EAAO1X,OAAO9C,KACV,OACA,WAEN4E,MAAOiG,EAAKU,EAAE,2BAKtB,kBAAC,GAAD,CAAiBqB,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,gBApKG,IAAAwJ,KA0LhCmhG,GAAmBx4G,aAAe,CAChC+7C,SAAU,KACVhd,YAAa,MAGA9+B,4BAAWu4G,ICvQX,SAASK,GAAT,GAAsD,IAAzB3/G,EAAwB,EAAxBA,OAAQ2+G,EAAgB,EAAhBA,aAClD,EAAkC91G,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMpzD,EAAU8C,cACV6vB,EAAQmC,cAER9qB,EAAY,uCAAG,WAAMkuC,GAAN,iBAAAz1D,EAAA,8EAEb4S,EAAOqe,YAFM,aAEb,EAAa3pB,MAAK,SAAA40D,GAAC,OAAIA,EAAErrC,WAAa4kC,EAAS5kC,aAFlC,uBAGf8/C,EACE,IAAItqE,MAAJ,uEAC6DovD,EAAS5kC,SADtE,YAJa,gCAUK,gBAAlB4kC,EAAS9nD,OACX8nD,EAAS3kC,QAAU2kC,EAAS3kC,QACzBvtB,MAAM,MACN6E,QAAO,SAAAb,GAAC,MAAU,KAANA,GAAY,QACxBX,KAAI,SAAAW,GAAC,OAAIA,EAAE8/B,UACX5+B,KAAK,OAEJ+pH,EAAU5/G,EAAOqe,KAAOre,EAAOqe,KAAK9mB,OAAOsrD,GAAY,CAACA,GAjB7C,SAkBX87D,EAAaiB,GAlBF,OAmBjBj1G,EAAQqI,KAAKsqB,EAAM1zB,IAAI7V,QAAQ,OAAQ,KAnBtB,kDAqBjBgqE,EAAa,EAAD,IArBK,0DAAH,sDA6BlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEppD,aAAcA,EACdmlC,aARe,WACnBnvC,EAAQqI,KAAKsqB,EAAM1zB,IAAI7V,QAAQ,OAAQ,MAQnC8xC,YAAajO,KCjCN,SAASioF,GAAT,GAAuD,IAAzB7/G,EAAwB,EAAxBA,OAAQ2+G,EAAgB,EAAhBA,aACnD,EAAkC91G,mBAAS,MAA3C,mBAAO+uB,EAAP,KAAkBmmC,EAAlB,KACMpzD,EAAU8C,cACV6vB,EAAQmC,cACN1sB,EAAWrF,cAAXqF,OAEF+sG,EADc,IAAI1kF,gBAAgBroB,GACHpZ,IAAI,qBAEzC,IAAKqG,EACH,OAAO,kBAAC,GAAD,MAGT,IAAM6iD,EAAW7iD,EAAOqe,KAAK0E,MAAK,SAAAumC,GAAC,OAAIA,EAAErrC,WAAa6hG,KAEtD,IAAKj9D,EACH,OACE,kBAAC,IAAD,CACE13C,GAAE,qBAAgBmyB,EAAMzpC,OAAOylH,aAA7B,YAA6Ch8E,EAAMzpC,OAAO4F,GAA1D,aAKR,IAAMsmH,EAAiB,WACrB,IAAMnpH,EAAQ0mC,EAAM1zB,IAAI/S,QAAQ,SAChC8T,EAAQqI,KAAKsqB,EAAM1zB,IAAIrV,OAAO,EAAGqC,KAG7B+d,EAAY,uCAAG,WAAMqpD,GAAN,eAAA5wE,EAAA,kEAGf4wE,EAAS//C,WAAa4kC,EAAS5kC,WAC/Bje,EAAOqe,KAAK0E,MAAK,SAAAumC,GAAC,OAAIA,EAAErrC,WAAa+/C,EAAS//C,YAJ/B,uBAMf8/C,EACE,IAAItqE,MAAJ,uEAC6DuqE,EAAS//C,SADtE,YAPa,8BAgBM,KAHjB+hG,EAAgBhgH,EAAOqe,KAAKglB,WAChC,SAAAimB,GAAC,OAAIA,EAAErrC,WAAa6hG,MAdL,sBAiBT,IAAIrsH,MAAM,8BAjBD,aAmBK,gBAAlBuqE,EAASjjE,OACXijE,EAAS9/C,QAAU8/C,EAAS9/C,QACzBvtB,MAAM,MACN6E,QAAO,SAAAb,GAAC,MAAU,KAANA,GAAY,QACxBX,KAAI,SAAAW,GAAC,OAAIA,EAAE8/B,UACX5+B,KAAK,OAxBO,UA0BX8oH,EAAa,GAAD,mBACb3+G,EAAOqe,KAAKrtB,MAAM,EAAGgvH,IADR,CAEhBhiD,GAFgB,YAGbh+D,EAAOqe,KAAKrtB,MAAMgvH,EAAgB,MA7BtB,QA+BjBD,IA/BiB,kDAiCjBhiD,EAAa,EAAD,IAjCK,0DAAH,sDAqClB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACElb,SAAUA,EACVluC,aAAcA,EACdmlC,aAAcimE,EACdl6E,YAAajO,KCuDN7wB,6BA7Hf,YAAsD,IAA5B+vD,EAA2B,EAA3BA,SAAU9a,EAAiB,EAAjBA,QAASp2C,EAAQ,EAARA,KAC3C,EAA0CiD,mBAASiuD,EAASlT,gBAA5D,mBAAOu6D,EAAP,KAAsB8B,EAAtB,KAEA,EAAyCj5E,cAAjCsyE,EAAR,EAAQA,aAAkBtX,EAA1B,EAAsBvoG,GAEtB,EAMIiY,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,yDAES,0BAAjBksH,EAFQ,gCAGE70G,GAAwBqnD,WAAWk2C,GAHrC,yDAIE7+F,GAAgB2oD,WAAWk2C,GAJ7B,wCACFzoG,EADE,EACFA,KADE,kBAKHA,GALG,4CAMT,CAACyoG,EAAYsX,KAZRt5G,EADV,EACE6R,OACSquG,EAFX,EAEE/tG,QACAH,EAHF,EAGEA,UACOmuG,EAJT,EAIEx4G,MACUy4G,EALZ,EAKEhuG,SAWFjD,qBAAU,WACR+wG,MACC,CAACA,IAEJ,MAIIxuG,GACFzC,sBAAW,uCACT,WAAMoxG,GAAN,SAAAjzH,EAAA,yDACuB,0BAAjBksH,EADN,gCAEU70G,GAAwBk6G,aAAa3c,EAAYqe,GAF3D,6CAIUl9G,GAAgBw7G,aAAa3c,EAAYqe,GAJnD,OAMED,EAAUC,GANZ,2CADS,sDAST,CAACre,EAAYoe,EAAW9G,KAbjBqF,EADX,EACExsG,QACOmuG,EAFT,EAEE34G,MACW44G,EAHb,EAGEvuG,UAcIwuG,EAAmB,SAAAniG,GACvBsgG,EAAa,CACX9+G,KAAMG,EAAOH,MAAQ,GACrB6X,YAAa1X,EAAO0X,aAAe,GACnC2G,UAIJ,EAAsD3M,GACpDzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ+V,GAAgBs9G,cAAcze,GAD1B,OAEVoe,EAAU,MAFA,2CAGT,CAACpe,EAAYoe,KAJDxB,EAAjB,EAAQzsG,QAA8BmsE,EAAtC,EAA+B32E,MAO/B,EAAsD+J,GACpDzC,sBAAW,sBAAC,sBAAA7hB,EAAA,yDACW,0BAAjBksH,EADM,gCAEF70G,GAAwBwiC,OAAO+6D,EAAY,CAC/Cp+C,gBAAiBu6D,IAHX,6CAMFh7G,GAAgB8jC,OAAO+6D,EAAY,CACvCp+C,gBAAiBu6D,IAPX,OAUV8B,GAAkB9B,GAVR,2CAWT,CAACnc,EAAYsX,EAAc6E,KAZfO,EAAjB,EAAQvsG,QAA8B6nE,EAAtC,EAA+BryE,MAe/B,EAAgC0K,GAC9BiuG,GAAehiC,GAAetE,GADxBryE,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAIf,OAAI2tG,EACK,kBAAC,GAAD,CAAcx4G,MAAOw4G,IAG5B,oCACE,kBAAC,IAAD,KACGnkE,GACC,kBAAC,IAAD,CAAOxxC,KAAK,2CACV,kBAACm1G,GAAD,CACE3/G,OAAQA,EACR2+G,aAAc6B,KAInBxkE,GACC,kBAAC,IAAD,CAAOxxC,KAAK,4CACV,kBAACq1G,GAAD,CACE7/G,OAAQA,EACR2+G,aAAc6B,KAIpB,kBAAC,IAAD,CAAOh2G,KAAK,sCAAsCqS,OAAK,GACrD,kBAAC,GAAD,CACE7K,UAAWA,GAAauuG,EACxBvgH,OAAQA,EACRm+G,cAAeA,EACfO,aAAcA,EACdC,aAAc6B,EACd5B,aAAcA,EACd5iE,QAASA,MAIdr0C,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,iCACR,kBAAC,GAAD,CAAaqB,MAAOA,SC0HfZ,I,GAAAA,yBAhOf,YAA4C,IAAD,MAAvBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cAClBtL,EAAQmC,cACR50B,EAAW6C,cACLs0F,EAAeh7D,cAAnBvtC,GACR,EAAoBwL,KAAZ2K,UAAR,MAAa,GAAb,EAEA,EAKI8B,GACFzC,sBAAW,sBAAC,gDAAA7hB,EAAA,sEACuCoO,QAAQmU,IAAI,CAC3DxM,GAAgB0lC,WAAWm5D,GAC3B7+F,GAAgBu9G,oBAAoB1e,GACpCv+F,GAAiBnJ,KAAK,CACpBjH,UAAW,EACXonE,WAAY,8BANN,sCACDlhE,EADC,KACDA,KAAQmX,EADP,KACgBorE,EADhB,MASNviF,EAAKif,eAAeiD,YATd,wBAUF5nB,EAAS,CACbT,KAAM,EACNC,UAAW,IACXC,SAAU,QAbJ,UAiBE6P,GAAgB1D,gBAAgBlG,EAAKE,GAAI5F,GAjB3C,iBAgBEgH,EAhBF,EAgBNtB,KAAQsB,QAGVtB,EAAKif,eAAeiD,YAAc5gB,EAnB1B,YAsBN6V,EAAQnX,KAAKmX,QAAQs7F,IAtBf,qBAuBJzyG,EAAK+tD,mBAAL,OAAwB/tD,QAAxB,IAAwBA,GAAxB,UAAwBA,EAAMgf,eAA9B,aAAwB,EAAe8uC,aAvBnC,kCA0BIlkD,GAAgBzD,eAAesiG,GA1BnC,iBAyBI36C,EAzBJ,EAyBJ9tD,KAAQ8tD,YAGV9tD,EAAK8tD,YAAcA,EA5Bb,iCA+BH,CACLyP,SAAUv9D,EACVwiF,aAAcD,EAAcviF,KAAKsB,QAAQrG,OAAS,IAjC1C,4CAmCT,CAACwtG,IACJ,CAAEjmB,cAAc,EAAOjlB,SAAU,OA1CnC,IACEjlD,OAAUkqE,EADZ,EACYA,aAAcjlB,EAD1B,EAC0BA,SACxB9kD,EAFF,EAEEA,UACOwY,EAHT,EAGE7iB,MACSg5G,EAJX,EAIExuG,QAyCFhD,qBAAU,WACRwxG,MACC,CAACA,EAAsB91G,EAASC,WAEnCqE,qBAAU,WACJ2nD,GACFluB,EAAckuB,KAEf,CAACA,EAAUluB,IAEd,IAgEkB,EA5DZksC,EAAsB7lE,uBAAY,WACtC,OAAO9L,GAAgB+4E,oBAAoB8lB,KAC1C,CAACA,IAEEntB,EAAgB5lE,uBACpB,SAAApb,GACE,OAAOsP,GAAgB84E,cAAc+lB,EAAYnuG,KAEnD,CAACmuG,IAGGgD,GAA2B,OAAFp1F,QAAE,IAAFA,OAAA,EAAAA,EAAIuI,oBAAqB4jE,EAClD6kC,GACI,OAAR9pD,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0Bb,kBAAkB6nB,QAA5C,OACAs3B,QADA,IACAA,GADA,UACAA,EAAUt+C,sBADV,aACA,EAA0Bb,kBAAkBje,QAExCyuC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,2BAGZ6zB,KAAK,aACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAChC,CAAE/J,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAgCjC,GA7BIo7F,GACF78D,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,oBAIJktD,GACF3uB,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,gBAIRu+B,EAAUn1B,KACR,CACEnT,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,oBAEN,CACE/J,KAAM+gH,EAAsBh7G,EAAKU,EAAE,eAAaV,EAAKU,EAAE,oBACvD6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAIRu+B,EAAUl0C,SAAQ,SAACq0C,EAAK37C,GACtB27C,EAAI7uC,GAAK9M,KAGP69B,EACF,OACE,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACgB,OAAlC,UAAAA,EAAa5xB,gBAAb,eAAuBiR,SACtB,8BACGjE,EAAKU,EAAE,4BAAyB,IACjC,kBAAC,IAAD,CAAM6E,GAAG,cAAcvF,EAAKU,EAAE,iCAS5C,IAAMg1C,IACJzwC,EAASC,SAAS86B,SAAS,SAC3B/6B,EAASC,SAAS3V,SAAS,eAG7B,OACE,kBAACsc,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IACzC2uB,GACC,kBAAC,IAAD,KACE,kBAAC,IAAD,CACE9tB,KAAK,+BACL79B,GAAG,uCACH0R,OAAK,IAEP,kBAAC,IAAD,CAAOxoB,IAAI,UAAUmW,KAAK,wCACxB,kBAAC,GAAD,CACEq2G,mBAAoB7uG,EACpB8kD,SAAUA,KAGd,kBAAC,IAAD,CAAOziE,IAAI,OAAOmW,KAAK,qCACrB,kBAAC,GAAD,CAAiBssD,SAAUA,KAE7B,kBAAC,IAAD,CAAOziE,IAAI,SAASmW,KAAK,uCACvB,kBAAC,GAAD,CACEuuB,SAAU+9B,EACV7mB,SAAU9sC,MAGd,kBAAC,IAAD,CACE9O,IAAI,YACJmW,KAAK,0CAEL,kBAAC,GAAD,CACEiqE,eArHS,SAAAl7E,GACrB,OAAO4J,GAAgBsxE,eAAe3d,EAASr9D,GAAIF,IAqHvCqvC,cAAeA,EACf0rC,mBAAoBxd,EACpB+d,cAAeA,EACfC,oBAAqBA,KAGxBkwB,GACC,kBAAC,IAAD,CAAOx6F,KAAK,8CACV,kBAAC,GAAD,CACE/Q,GAAI3I,OAAOkxG,GACX5oB,uBAAwB2C,EACxB9rC,SAAU9sC,MAIhB,kBAAC,IAAD,CAAOqH,KAAK,+CACV,kBAAC,GAAD,CAASrX,cAAe,CAAE2tH,kBAAmBhqD,EAASr9D,OAExD,kBAAC,IAAD,CAAO+Q,KAAK,uCACV,kBAAC,GAAD,CACEssD,SAAUA,EACV9a,QAAS4kE,MAGX5uG,GACA,kBAAC,IAAD,CAAO3d,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CACE0R,GAAE,4BAAgBmyB,QAAhB,IAAgBA,GAAhB,UAAgBA,EAAOzpC,cAAvB,aAAgB,EAAeylH,aAA/B,YAA+CtX,EAA/C,aAEDp8F,EAAKU,EAAE,uCCtNfy6G,G,kDAnBb,WAAYz5G,GAAQ,IAAD,8BACjB,cAAMA,IACDq+F,GAAKt0G,SAASu0G,cAAc,OAFhB,E,qDAKnB,WACEv0G,SAASysG,KAAKjJ,YAAYx7F,KAAKssG,M,kCAGjC,WACEt0G,SAASysG,KAAKgI,YAAYzsG,KAAKssG,M,oBAGjC,WACE,IAAQt+F,EAAahO,KAAKiO,MAAlBD,SACR,OAAO25G,IAASC,aAAa55G,EAAUhO,KAAKssG,Q,GAhBvBt6F,aCDVpE,OAAOC,IAAtB,yJCmPeH,6BAtNf,YAAwD,IAAD,QAAlB+vD,EAAkB,EAAlBA,SAAUlxD,EAAQ,EAARA,KAE3CnM,EAYEq9D,EAZFr9D,GACA8kD,EAWEuY,EAXFvY,wBACA1+C,EAUEi3D,EAVFj3D,KACA6X,EASEo/C,EATFp/C,YACA3c,EAQE+7D,EARF/7D,KACAkE,EAOE63D,EAPF73D,WACAmZ,EAME0+C,EANF1+C,QACAU,EAKEg+C,EALFh+C,SACAN,EAIEs+C,EAJFt+C,eACAD,EAGEu+C,EAHFv+C,QACAqvC,EAEEkP,EAFFlP,mBACAP,EACEyP,EADFzP,YAGI65D,EAAY/vH,OAAO0Z,SAAS68C,OAC5B/8C,EAAU8C,cAEV8qG,EACJzhD,EAAS/P,oBAAsB+P,EAASxP,gBAEpCnG,EACJ,kBAACx6C,GAAA,EAAD,CAAUC,UAAW6oB,KAAiB0mE,IACnCr/B,EAAS/P,oBACR,kBAAClgD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,kCAGXwwD,EAASxP,iBACR,kBAACzgD,GAAA,EAAD,CAAcD,UAAWsqB,KAAqBg3C,IAC3CtiE,EAAKU,EAAE,4BAMhB,EAIIoL,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJqX,GAAwBm7B,QAAQnmC,GAD5B,OAEVkR,EAAQqI,KAAR,cAFU,2CAGT,CAACvZ,EAAIkR,KAPCw2G,EADX,EACEhvG,QACAH,EAFF,EAEEA,UASF,EAAgCK,GAXhC,EAGE1K,OAQMA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAmBTk3F,EAAS,OAAGlxF,QAAH,IAAGA,GAAH,UAAGA,EAAgBb,yBAAnB,aAAG,EAAmCg1C,MAC/C2R,EAAqB9lD,EAAe8D,YAAYtoB,KAAI,SAAArB,GAAG,kCACxDA,GADwD,IAE3DoI,KAAM,oBAGR,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY69B,OAAO,MACjB,kBAAC,GAAD,CAAQj5B,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOoL,EAAMgxB,OAAO,mBAClD,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,qBAAQ7R,MAAOijB,KACpC,UAAAc,EAAe8D,mBAAf,eAA4B9nB,QAAS,GACpC,kBAAC,GAAD,CACEC,MAAO,kBAAC,GAAD,CAAWmyD,KAAM0X,IACxB3+D,MAAOiG,EAAKU,EAAE,mBAGjBkS,EAAe1Y,cACd,kBAAC,GAAD,CACEH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,yBAAoBqN,EAAe1Y,aAAarG,GAAhD,aAEF,kBAAC,KAAD,KAAQ+e,EAAe1Y,aAAaD,SAK5C,kBAAC,GAAD,CAAQF,MAAOiG,EAAKU,EAAE,iCAAU7R,MAAO6yC,GAAYvsC,KAClDyd,EAAeQ,WACd,kBAAC,GAAD,CACErZ,MAAOiG,EAAKU,EAAE,qBACd7R,MAlDa,SAACuG,EAAM2C,GAC5B,IAAM66G,EAAyB,UAATx9G,EAAmB,kBAAoB,YAE7D,OAAOujD,EACL,oCACE,kBAAC,IAAD,CAAMpzC,GAAE,uBAAkBqtG,EAAlB,YAAmC76G,EAAnC,aACN,kBAAC,KAAD,KAAQ6a,EAAeQ,UAAUnZ,OAEnC,kCAAQ+F,EAAKU,EAAE,6BAGjB,kBAAC,IAAD,CAAM6E,GAAE,uBAAkBqtG,EAAlB,YAAmC76G,EAAnC,aACN,kBAAC,KAAD,KAAQ6a,EAAeQ,UAAUnZ,OAsCtB44G,CACLjgG,EAAeQ,UAAUhe,KACzBwd,EAAeQ,UAAUvf,MAI/B,kBAAC,GAAD,CACEkG,MAAOiG,EAAKU,EAAE,wBACd7R,MAAO6yC,GAAYwvB,EAASxP,mBAE7B/uC,EAAQovC,kBACP,kBAAC,GAAD,CACEhoD,MAAOiG,EAAKU,EAAE,oBACd7R,MAAK,UAAKysH,GAAL,OAAiBpqD,EAASv+C,QAAQovC,oBAG3C,kBAAC,GAAD,CAAQhoD,MAAOiG,EAAKU,EAAE,oBAAiB7R,MAAO4yD,IAC7CO,GACC,kBAAC,GAAD,CACEp3B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,4BACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,uBAAkBqN,EAAeovC,mBAAmBnuD,GAApD,aAEF,kBAAC,KAAD,KAAQ+e,EAAeovC,mBAAmB/nD,SAKjD04G,GACC,kBAAC,GAAD,CAAQ54G,MAAOiG,EAAKU,EAAE,gBAAa7R,MAAO0sD,IAE5C,kBAAC,GAAD,CACExhD,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAegC,aAEvB,kBAAC,GAAD,CACE7a,MAAOiG,EAAKU,EAAE,qBACdynB,KAAMjV,EACNyY,KAAM/Y,EAAeiC,eAEtB,UAAAjC,EAAekD,cAAf,mBAAuB7gB,eAAvB,eAAgCrG,QAAS,GACxC,kBAAC,GAAD,CACEg8B,WAAS,EACT7wB,MAAOiG,EAAKU,EAAE,eACd7R,MACE,kBAAC,GAAD,CACE6sC,SAAU,EACVC,WAAY/oB,EAAekD,OAAO7gB,QAAQrG,QAEzCgkB,EAAekD,OAAO7gB,QAAQ7G,KAAI,SAAAigE,GAAC,OAClC,kBAAC/xB,GAAA,EAAD,CAAM7tC,IAAK4/D,EAAEx6D,GAAIqoC,YAAU,GACxBmyB,EAAEp0D,YAOf,kBAAC,GAAD,CACEF,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOwK,EACPizB,KAAM,KAGV,kBAAC,GAAD,KACG1Z,EAAeb,mBACda,EAAeb,kBAAkB6nB,MAC/B,kBAAC7uB,EAAA,EAAD,CACE/J,UAAW43B,IACXrzB,GAAE,2CAAsC1R,EAAtC,SACF2O,aAAYxC,EAAKU,EAAE,cAElBV,EAAKU,EAAE,cAGbojG,GACC,kBAAC,GAAD,CAAc3wE,SAAU+9B,EAAU1uD,aAAYxC,EAAKU,EAAE,uBAClD,gBAAGklD,EAAH,EAAGA,aAAH,OACC,kBAAC76C,EAAA,EAAD,CAAQvJ,QAAQ,YAAYrM,KAAK,SAASkS,QAASu+C,GAChD5lD,EAAKU,EAAE,yBAKfkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMA,EACNo+B,WAAYr4B,EAAKU,EAAE,qCACnB4gC,UAAWi6E,EACXn0G,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAOA,SC5MxBu5G,GAAY/vH,OAAO0Z,SAAS68C,OAElC,SAAS05D,GAAT,GAMI,IALFtqD,EAKC,EALDA,SACAniD,EAIC,EAJDA,aACAmlC,EAGC,EAHDA,aACAl0C,EAEC,EAFDA,KACAigC,EACC,EADDA,YAEQ9vB,EAAkB2hB,eAAlB3hB,cACR,EAA4ClN,mBAC1CP,QAAQwuD,EAASxP,kBADnB,mBAAOwzD,EAAP,KAAuBC,EAAvB,KAGA,EAA2ClyG,mBAAS,MAApD,mBAAOw4G,EAAP,KAAwBlmE,EAAxB,KACA,EAAoCloB,aAAS,2BAAtC+nF,EAAP,oBACA,EAA0D/nF,aACxD,aADF,mBAAOquF,EAAP,KAAuB5jD,EAAvB,KAAsCC,EAAtC,KAGA,EAAuC1qC,aAAS,UAAhD,mBAAOyoF,EAAP,KAAsBC,EAAtB,KACA,EAA8C1oF,aAAS,SAAvD,mBAAO2oF,EAAP,KAAmBC,EAAnB,KAA8BC,EAA9B,KACA,EAA8C7oF,aAAS,gBAAvD,mBAAOgS,EAAP,KAA0BC,EAA1B,KACA,EAAiCjS,aAAS,cAA1C,mBAAOooF,EAAP,KAAmBC,EAAnB,KACA,EAAsDroF,aACpD,mBADF,mBAASumF,EAAT,KAA6BC,EAA7B,KAGA,EAA8CxmF,aAAS,eAAvD,mBAASkpF,EAAT,KAAyBxC,EAAzB,KACA,EAA8C1mF,aAAS,eAAvD,mBAAS4mF,EAAT,KAAyBC,EAAzB,KACA,GAA4D7mF,aAC1D,sBADF,qBAAS+mF,GAAT,MAAgCC,GAAhC,MAIA9qG,qBAAU,WACJ2rG,GACFrB,EAAsBrnG,SAASonG,EAAmB5nG,cAClD+nG,EAAkBvnG,SAAS+pG,EAAevqG,cAC1CkoG,EAAkB1nG,SAASynG,EAAejoG,cAC1CqoG,GAAyB7nG,SAAS4nG,GAAsBpoG,gBAExD6nG,EAAsBrnG,SAAS,IAC/BunG,EAAkBvnG,SAAS,IAC3B0nG,EAAkB1nG,SAAS,IAC3B6nG,GAAyB7nG,SAAS,SAGnC,CAAC0oG,IAEJ,IAAMp1E,GAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,KAEhC,CAACshB,IAGH,OAAIsrG,EACK,kBAAC,GAAD,CAAc15G,MAAO05G,IAI5B,kBAACp7E,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUX,GACjC,kBAACmiB,GAAD,KACE,kBAAC,GAAD,CACEr9B,GAAG,YACHoG,KAAK,OACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,qBACd0sB,SAAUhV,GAAS,KAAMpY,GACzB6R,YAAU,IAEZ,kBAAC,GAAD,CACEhe,GAAG,mBACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEktB,kBAAmB0R,EAAiBv9B,MACpC8Z,SAAUikB,GACVjxC,MAAOwwC,EAAkBxwC,MACzB2+B,SAAU8R,EAAiBv9B,QAE7B,oCACE,kBAAC,GAAD,CACE2wB,SAAS,+BACT4a,WAAW,0BACXlmB,QAASpnB,EAAKU,EACZ,gIAEFitB,QAAQ,iBACRonC,mBAAiB,EACjBlmE,MAAO6sH,EAAe7sH,MACtBkvC,OAAQ,kBAAMg6B,EAAiBh4B,cAC/BlkB,SAAU,SAAAhtB,GACRkpE,EAAiBvrD,SAAS3d,IAE5B4+B,QAASqqC,EAAcrqC,QACvB1rB,MAAO+1D,EAAc/1D,SAErB+1D,EAAcrqC,SAAW2nF,EAA0BvmH,QACnDipE,EAAc/1D,OACZ,yBACE8N,UAAU,oCACVwgB,YAAU,UAETynC,EAAc/1D,QAIvB,kBAAC,GAAD,CACE4rB,QAAQ,aACR5zB,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAS,+BACT4a,WAAW,sBACXlmB,QAASpnB,EAAKU,EAAE,sOAKhB,kBAACkb,GAAA,EAAD,eACE/nB,GAAG,mBACCmiH,EAFN,CAGEnoF,UACGooF,EAAUxoF,SAAYwoF,EAAUl0G,MAAoB,QAAZ,UAE3C8Z,SAAU,SAAAhtB,GACRqnH,EAAa1pG,SAAS3d,QAK5B,kBAAC,GAAD,CACE8+B,QAAQ,kBACR5zB,MAAOiG,EAAKU,EAAE,8BACdgyB,SAAS,gCACT4a,WAAW,2BACXlmB,QAASpnB,EAAKU,EACZ,sHAGF,kBAACkb,GAAA,EAAD,eACE/nB,GAAG,wBACC4hH,EAFN,CAGE55F,SAAU,SAAAhtB,GACR6mH,EAAWlpG,SAAS3d,SAK5B,kBAACsiC,GAAD,KACE,kBAACzD,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,eACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,6JAKpBitB,QAAQ,mBAER,kBAAC,GAAD,CACE9+B,MAAOinH,EAAYjnH,MACnBgtB,SAAU,SAAA/F,GAAM,OAAIigG,EAAcvpG,SAASsJ,IAC3Cma,QAASslB,EACT29D,WAAYlzG,EAAKU,EAAE,mBAIzB,kBAACywB,GAAD,KACE,kBAAC,GAAD,CACEt9B,GAAG,iBACHoG,KAAK,aACLF,MAAOiG,EAAKU,EAAE,qBACdgyB,SAAS,mCACTtL,QAASpnB,EAAKU,EACZ,0PAIN,kBAACgtB,GAAA,EAAD,CAAWC,QAAQ,UAAU5zB,MAAOiG,EAAKU,EAAE,iBACzC,kBAAC0wB,GAAD,CAAoBgB,UAAQ,GAC1B,kBAACtQ,GAAA,EAAD,CACEtf,aAAYxC,EAAKU,EAAE,uBACnB3G,MACE,8BACGiG,EAAKU,EAAE,uBADV,OAGE,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EACZ,0DAKR7M,GAAG,wBACHkuB,UAAWmzF,EACXr5F,SAAU,SAAAiD,GACRq2F,EAAkBr2F,MAGtB,kBAAC,GAAD,CACE7kB,KAAK,qBACLpG,GAAG,qBACHuzB,QAASpnB,EAAKU,EACZ,qFAEF3G,MAAOiG,EAAKU,EAAE,mCAKnBw0G,GACC,kBAAC7jF,GAAD,KACE,kBAACjvB,GAAA,EAAD,CAAON,KAAK,KAAKO,aAAa,MAC3BrC,EAAKU,EAAE,yBAEV,kBAAC,GAAD,CAAgBgzG,aAAcxiD,EAAS/7D,QAI1C8qC,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CAAiB7E,SAAU8Y,EAAcxkC,SAAUX,KAYzDysG,GAAwBt6G,aAAe,CACrC++B,YAAa,KACbixB,SAAU,CACRj3D,KAAM,GACN6X,YAAa,GACbsB,eAAW4d,EACXxd,aAASwd,IAIb,IAAMizC,GAAYC,aAAW,CAC3BC,iBAD2B,YACU,IAAD,gBAAjBjT,gBAAiB,MAAN,GAAM,EAClC,MAAO,CACLj3D,KAAMi3D,EAASj3D,MAAQ,GACvB6X,YAAao/C,EAASp/C,aAAe,GACrCsB,WAAmB,OAAR89C,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0BQ,YAAa,KAClDlZ,cAAsB,OAARg3D,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0B1Y,eAAgB,KACxD4b,QAAQ,UAAAo7C,EAASt+C,sBAAT,mBAAyBkD,cAAzB,eAAiC7gB,UAAW,GACpDoE,WAAY63D,EAAS73D,YAAc,MACnC4c,MAAOi7C,EAASj7C,OAAS,GACzBhB,WAAYi8C,EAASj8C,YAAc,GACnCksC,mBAAoB+P,EAAS/P,qBAAsB,EACnDa,oBAA4B,OAARkP,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0BovC,qBAAsB,KACpEN,gBAAiBwP,EAASxP,iBAAmB,GAC7CpF,oBAAqB4U,EAAS5U,sBAAuB,EACrD3D,wBAAyBuY,EAASvY,0BAA2B,EAC7DiE,wBAAyBsU,EAAStU,0BAA2B,EAC7DL,yBAA0B2U,EAAS3U,2BAA4B,EAC/Dy6D,aAAqB,OAAR9lD,QAAQ,IAARA,GAAA,UAAAA,EAAUv+C,eAAV,eAAmBovC,kBAAnB,UACNu5D,IADM,OACMpqD,EAASv+C,QAAQovC,kBAChC,GACJN,YAAayP,EAASzP,aAAe,KAGzC1yC,aAAa,WAAD,4BAAE,WAAO9W,EAAP,oBAAAzQ,EAAA,6DAAiBka,EAAjB,EAAiBA,MAAOqwB,EAAxB,EAAwBA,UAAxB,kBAEJrwB,EAAMqN,aAAa9W,GAFf,sDAIV85B,EAAU,EAAD,IAJC,wDAAF,qDAAC,IAxBGmyC,CA+Bfs3C,IAGYr6G,wBAAW8iE,I,4ECtOX03C,OAxEf,YAAgD,IAAbzqD,EAAY,EAAZA,SAC3BnsD,EAAU8C,cAChB,EAA8C5E,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KAEMz/D,EAAY,uCAAG,WAAM9W,GAAN,2BAAAzQ,EAAA,6DAEjBsuB,EAME7d,EANF6d,OACA1C,EAKEnb,EALFmb,UACAlZ,EAIEjC,EAJFiC,aACA8nD,EAGE/pD,EAHF+pD,mBAGE/pD,EAFFwpD,aACGm6D,EAPc,YAQf3jH,EARe,KASHmb,WAAqB,OAATA,QAAS,IAATA,OAAA,EAAAA,EAAWvf,KAAM,KAC7C+nH,EAAgB1hH,aAAhB,OAA+BA,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcrG,GAC7C+nH,EAAgB55D,oBAAuC,OAAlBA,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBnuD,KAAM,KAEzDgoH,GACQ,OAAZ3hH,QAAY,IAAZA,OAAA,EAAAA,EAAcrG,MAAd,OAAoBuf,QAApB,IAAoBA,GAApB,UAAoBA,EAAWR,sBAA/B,aAAoB,EAA2B1Y,aAAarG,KAAM,KAdjD,cAgBX+B,QAhBW,SAiBTyhH,EAAavhG,EAAQ+lG,EAAW3qD,EAASh3D,cAjBhC,yCAgBH6P,IAhBG,yCAmBXlL,GAAwBwiC,OAAO6vB,EAASr9D,GAAI+nH,GAnBjC,QAoBjB72G,EAAQqI,KAAR,2CAAiD8jD,EAASr9D,GAA1D,aApBiB,kDAsBjB26E,EAAmB,EAAD,IAtBD,0DAAH,sDA0BZ6oC,EAAY,uCAAG,8DAAA7vH,EAAA,yDAAOsuB,EAAP,+BAAgB,GAAI+lG,EAApB,uBAA+BC,EAA/B,yBACQ16C,GACzBlQ,EAASt+C,eAAekD,OAAO7gB,QAC/B6gB,GAFMwrD,EADW,EACXA,MAAOC,EADI,EACJA,QAIXvnE,EAAQ6hH,GAAaC,EALN,0CAULj+G,GAAiBnJ,OAVZ,gBASLO,EATK,EASbtB,KAAQsB,QAEV+E,EAAQ/E,EAAQ,GAAGpB,GAXJ,sFAiBkB0tE,EAAQnzE,KAAI,SAAA2L,GAAK,OACpD8E,GAAwBjF,kBAAkBs3D,EAASr9D,GAAIkG,MAlBtC,eAiBby9G,EAjBa,iBAoBel2C,EAAMlzE,KAAI,SAAA2L,GAAK,OAC/C8E,GAAwBlF,eAAeu3D,EAASr9D,GAAIkG,EAAOC,MArB1C,eAoBby9G,EApBa,OAuBbxiH,EAvBa,sBAuBCuiH,GAvBD,YAuB4BC,IAvB5B,kBAwBZxiH,GAxBY,0DAAH,qDA+BlB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE8Z,aAAcA,EACdmlC,aARe,WACnBnvC,EAAQqI,KAAR,2CAAiD8jD,EAASr9D,GAA1D,cAQIq9D,SAAUA,EACVjxB,YAAasuC,MC9BNptE,6BAtCf,YAAwC,IAATnB,EAAQ,EAARA,KACvBk+B,EAAW5+B,qBAAW+mF,IAC5B,OACE,kBAAC,GAAD,CACEv7E,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,2BACHpF,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,qCACnB2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,uBAE/B6K,EAAKU,EAAE,gBAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,0BACHpF,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,4BACnB2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,oCAE/B6K,EAAKU,EAAE,uBAGZZ,QAAM,EACNC,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,mCAChCoM,MAAOvB,EAAKU,EAAE,yBACdc,QAAQ,UAER,2BACGxB,EAAKU,EACJ,6ECcKS,6BA7Cf,YAA+D,IAAhCnB,EAA+B,EAA/BA,KAAM+7G,EAAyB,EAAzBA,cAAeC,EAAU,EAAVA,OAC5C99E,EAAW5+B,qBAAW+mF,IAC5B,OACE,kBAAC/jF,GAAA,EAAD,CACE+jB,MAAO,IACPvmB,QAAM,EACNyB,MAAOvB,EAAKU,EAAE,iCACd8B,aAAYxC,EAAKU,EAAE,8BACnBX,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,kCAChC2V,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,8BACHpF,IAAI,OACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,4BACnB2G,QAAS20G,GAERh8G,EAAKU,EAAE,6BAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,wBACHpF,IAAI,OACJ+S,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,oBACnB2G,QAAS00G,GAER/7G,EAAKU,EAAE,uBAIZ,2BACE,kBAAC,QAAD,6FCiBOS,6BA7Cf,YAAoC,IAATnB,EAAQ,EAARA,KACnBk+B,EAAW5+B,qBAAW+mF,IACpBmD,EAAiBlqF,qBAAWgnF,IAA5BkD,aACR,OACE,kBAAC,GAAD,CACEhoF,QAAQ,SACRD,MAAM,cACNzB,OAAQ0pF,EACRzpF,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAO,QAC7Dic,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,uBACH2O,aAAYxC,EAAKU,EAAE,6BACnBjS,IAAI,SACJ4Y,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,iBAChCqM,QAAQ,UAEPxB,EAAKU,EAAE,gBAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,sBACH2O,aAAYxC,EAAKU,EAAE,4BACnBjS,IAAI,SACJ4Y,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAO,QAC7D2S,QAAQ,aAEPxB,EAAKU,EAAE,wBAIZ,2BAAIV,EAAKU,EAAE,qDACT8oF,EAAayB,mBACb,kBAAC,WAAD,KACE,6BACA,2BACGjrF,EAAKU,EACJ,uHCmCCS,6BAtEf,YAAiD,IAA5BoB,EAA2B,EAA3BA,OAAQvC,EAAmB,EAAnBA,KAAMshC,EAAa,EAAbA,UAC3BpD,EAAW5+B,qBAAW+mF,IACpBoD,EAAenqF,qBAAWgnF,IAA1BmD,WACR,EAAgCxmF,mBAC9BwmF,EAAaA,EAAWW,SAAW,WADrC,mBAAOA,EAAP,KAAiB6xB,EAAjB,KAGA,OACE,kBAAC35G,GAAA,EAAD,CACE+jB,MAAO,IACP9jB,OAAQA,EACRzC,QAAM,EACNyB,MAAOvB,EAAKU,EAAE,sBACd8B,aAAYxC,EAAKU,EAAE,4BACnBX,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,uBAChC2V,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,eACHpF,IAAI,OACJ+S,QAAQ,UACRgB,aAAYxC,EAAKU,EAAE,0BACnB2G,QAAS,kBAAMi6B,EAAU8oD,KAExBpqF,EAAKU,EAAE,cAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,cACHpF,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,4BACnB2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,wBAE/B6K,EAAKU,EAAE,wBAIZ,kBAACgtB,GAAA,EAAD,CAAWC,QAAQ,cAAc5zB,MAAOiG,EAAKU,EAAE,aAC7C,kBAAC,GAAD,CACE7M,GAAG,cACHoG,KAAK,WACLpL,MAAOu7F,EACPz2F,KAAM,CACJ,CACE9E,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,gBAEhB,CACE7R,MAAO,UACPJ,IAAK,UACLsL,MAAOiG,EAAKU,EAAE,oBAEhB,CACE7R,MAAO,UACPJ,IAAK,UACLsL,MAAOiG,EAAKU,EAAE,qBAGlBmb,SAAU,SAACb,EAAOnsB,GAChBotH,EAAYptH,WChDTsS,6BAdf,YAAiC,IAATnB,EAAQ,EAARA,KAChBk+B,EAAW5+B,qBAAW+mF,IAC5B,OACE,kBAAC,GAAD,CACE9jF,OACE,kBAACH,GAAA,EAAD,CAAOC,aAAa,KAAKP,KAAK,MAC3B9B,EAAKU,EAAE,kBAGZ4gC,UAAW,SAAA8oD,GAAQ,OAAIlsD,EAAS,CAAE/oC,KAAM,cAAei1F,mBCK9CjpF,6BAdf,YAAkC,IAATnB,EAAQ,EAARA,KACjBk+B,EAAW5+B,qBAAW+mF,IAC5B,OACE,kBAAC,GAAD,CACE9jF,OACE,kBAACH,GAAA,EAAD,CAAOC,aAAa,KAAKP,KAAK,MAC3B9B,EAAKU,EAAE,mBAGZ4gC,UAAW,SAAA8oD,GAAQ,OAAIlsD,EAAS,CAAE/oC,KAAM,cAAei1F,mBCJvDv0D,GAAYxoC,EAAY,oBAAqB,CACjDG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAASwuH,GAAT,GAA6E,IAA7Cl8G,EAA4C,EAA5CA,KAAM0qF,EAAsC,EAAtCA,aAAcyxB,EAAwB,EAAxBA,qBAC5Cl3G,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpD1M,GAAoB3I,KAAKzG,GACzBoP,GAAoBy4B,gBAJZ,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACLqmF,iBAAkBppH,EAASW,KAAKsB,QAChC8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACjxB,IACJ,CACEm3G,iBAAkB,GAClBrmG,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAUmwG,EADZ,EACYA,iBAAkBrmG,EAD9B,EAC8BA,MAAO0D,EADrC,EACqCA,sBAAuBD,EAD5D,EAC4DA,eAC1DzX,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACSiwG,EAJX,EAIE9vG,QA+BF,OAJAhD,qBAAU,WACR8yG,MACC,CAACA,IAGF,kBAAC,GAAD,CACEz3F,aAAc7iB,EACd8iB,kBAAmBzY,EACnBsU,UAAW3K,EACXprB,MAAOyxH,EACP9kF,WAAY,SAAA6B,GAAG,OAAIgjF,EAAqBhjF,IACxCrsB,SAAU+oB,GACVzQ,qBAAqB,EACrBmS,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,cAAeixD,GAAgBA,EAAa72F,KAAOogC,EAAKpgC,IACxDwR,OAAQ4uB,EAAKpgC,GACbpF,IAAKwlC,EAAKpgC,GACVoG,KAAMg6B,EAAKh6B,KACXF,MAAOk6B,EAAKh6B,KACZ4M,SAAU,kBAAMs1G,EAAqBloF,IACrCyI,WAAY,kBAAMy/E,EAAqB,OACvC1/E,SAAO,KAGXvZ,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DpY,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,eACbjS,IAAK,aACLuF,QAAS,CACP,CAAC,OAAQgM,EAAKU,EAAE,mCAChB,CAAC,MAAOV,EAAKU,EAAE,gCACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,MAAOV,EAAKU,EAAE,+BACf,CAAC,WAAYV,EAAKU,EAAE,0CACpB,CAAC,SAAUV,EAAKU,EAAE,wBAClB,CAAC,aAAcV,EAAKU,EAAE,6BACtB,CAAC,YAAaV,EAAKU,EAAE,mBACrB,CAAC,MAAOV,EAAKU,EAAE,gCACf,CAAC,QAASV,EAAKU,EAAE,0BAIvBk2B,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,IAUpCyiG,GAAqBh7G,aAAe,CAClCwpF,aAAc,MAGDvpF,4BAAW+6G,IC9GpBrmF,GAAYxoC,EAAY,gBAAiB,CAC7CG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAAS4uH,GAAT,GAAyE,IAA7Ct8G,EAA4C,EAA5CA,KAAM0qF,EAAsC,EAAtCA,aAAcyxB,EAAwB,EAAxBA,qBACxCl3G,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDxM,GAAgB7I,KAAKzG,EAAQ,CAC3B4mE,WAAY,iBAEdt3D,GAAgBu4B,gBANR,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAQH,CACLguE,aAAc/wG,EAASW,KAAKsB,QAC5B8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAhB/C,2CAkBT,CAACjxB,IACJ,CACE8+F,aAAc,GACdhuF,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA7BpB,IACEvN,OAAU83F,EADZ,EACYA,aAAchuF,EAD1B,EAC0BA,MAAO0D,EADjC,EACiCA,sBAAuBD,EADxD,EACwDA,eACtDzX,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACSmwG,EAJX,EAIEhwG,QAiCF,OAJAhD,qBAAU,WACRgzG,MACC,CAACA,IAGF,kBAAC,GAAD,CACE33F,aAAc7iB,EACd8iB,kBAAmBzY,EACnBsU,UAAW3K,EACXprB,MAAOo5G,EACPzsE,WAAY,SAAA6B,GAAG,OAAIgjF,EAAqBhjF,IACxCrsB,SAAU+oB,GACV0B,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,cAAeixD,GAAgBA,EAAa72F,KAAOogC,EAAKpgC,IACxDwR,OAAQ4uB,EAAKpgC,GACbpF,IAAKwlC,EAAKpgC,GACVoG,KAAMg6B,EAAKh6B,KACXF,MAAOk6B,EAAKh6B,KACZ4M,SAAU,kBAAMs1G,EAAqBloF,IACrCyI,WAAY,kBAAMy/E,EAAqB,OACvC1/E,SAAO,KAGXvZ,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,EACrBJ,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,uBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,IAUpC6iG,GAAiBp7G,aAAe,CAC9BwpF,aAAc,MAGDvpF,4BAAWm7G,IC5GpBzmF,GAAYxoC,EAAY,WAAY,CACxCG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAAS8uH,GAAT,GAAqE,IAA7Cx8G,EAA4C,EAA5CA,KAAM0qF,EAAsC,EAAtCA,aAAcyxB,EAAwB,EAAxBA,qBACpCl3G,EAAW6C,cAEjB,EAKIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDhM,GAAYrJ,KAAKzG,GACjB8P,GAAY+3B,gBAJJ,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACLg+B,SAAU/gE,EAASW,KAAKsB,QACxB8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACjxB,IACJ,CACE8uD,SAAU,GACVh+C,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAU8nD,EADZ,EACYA,SAAUh+C,EADtB,EACsBA,MAAO0D,EAD7B,EAC6BA,sBAAuBD,EADpD,EACoDA,eAClDzX,EAFF,EAEEA,MACAqK,EAHF,EAGEA,UACS8oD,EAJX,EAIE3oD,QA+BF,OAJAhD,qBAAU,WACR2rD,MACC,CAACA,IAGF,kBAAC,GAAD,CACEtwC,aAAc7iB,EACd8iB,kBAAmBzY,EACnBsU,UAAW3K,EACXprB,MAAOopE,EACPz8B,WAAY,SAAA6B,GAAG,OAAIgjF,EAAqBhjF,IACxCrsB,SAAU+oB,GACV0B,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,cAAeixD,GAAgBA,EAAa72F,KAAOogC,EAAKpgC,IACxDwR,OAAQ4uB,EAAKpgC,GACbpF,IAAKwlC,EAAKpgC,GACVoG,KAAMg6B,EAAKh6B,KACXF,MAAOk6B,EAAKh6B,KACZ4M,SAAU,kBAAMs1G,EAAqBloF,IACrCyI,WAAY,kBAAMy/E,EAAqB,OACvC1/E,SAAO,KAGXvZ,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,EACrBJ,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,eACLuF,QAAS,CACP,CAAC,GAAIgM,EAAKU,EAAE,gBACZ,CAAC,MAAOV,EAAKU,EAAE,aACf,CAAC,MAAOV,EAAKU,EAAE,oBACf,CAAC,UAAWV,EAAKU,EAAE,wBACnB,CAAC,WAAYV,EAAKU,EAAE,4BAGxB,CACEzG,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,sBAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,oCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,IAUpC+iG,GAAat7G,aAAe,CAC1BwpF,aAAc,MAGDvpF,4BAAWq7G,ICrHpB3mF,GAAYxoC,EAAY,yBAA0B,CACtDG,KAAM,EACNC,UAAW,EACXC,SAAU,SAGZ,SAAS+uH,GAAT,GAII,IAHFz8G,EAGC,EAHDA,KACA0qF,EAEC,EAFDA,aACAyxB,EACC,EADDA,qBAEMl3G,EAAW6C,cAEjB,EAUIgE,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDlL,GAAwBnK,KAAKzG,EAAQ,CACnC4mE,WAAY,iBAEdh2D,GAAwBi3B,gBANhB,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAQH,CACL2mF,qBAAsB1pH,EAASW,KAAKsB,QACpC8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAhB/C,2CAkBT,CAACjxB,IACJ,CACEy3G,qBAAsB,GACtB3mG,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KAlCpB,IACEvN,OACEywG,EAFJ,EAEIA,qBACA3mG,EAHJ,EAGIA,MACA0D,EAJJ,EAIIA,sBACAD,EALJ,EAKIA,eAEFzX,EAPF,EAOEA,MACAqK,EARF,EAQEA,UACSuwG,EATX,EASEpwG,QAiCF,OAJAhD,qBAAU,WACRozG,MACC,CAACA,IAGF,kBAAC,GAAD,CACE/3F,aAAc7iB,EACd8iB,kBAAmBzY,EACnBsU,UAAW3K,EACXprB,MAAO+xH,EACPplF,WAAY,SAAA6B,GAAG,OAAIgjF,EAAqBhjF,IACxCrsB,SAAU+oB,GACV0B,WAAY,SAAAtD,GAAI,OACd,kBAAC,GAAD,CACEwF,cAAeixD,GAAgBA,EAAa72F,KAAOogC,EAAKpgC,IACxDwR,OAAQ4uB,EAAKpgC,GACbpF,IAAKwlC,EAAKpgC,GACVoG,KAAMg6B,EAAKh6B,KACXF,MAAOk6B,EAAKh6B,KACZ4M,SAAU,kBAAMs1G,EAAqBloF,IACrCyI,WAAY,kBAAMy/E,EAAqB,OACvC1/E,SAAO,KAGXvZ,cAAe,SAAAxhB,GAAK,OAAI,kBAAC,GAAD,iBAAqBA,EAArB,CAA4B07B,WAAS,MAC7DhY,qBAAqB,EACrBJ,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,4BACbjS,IAAK,iCAEP,CACEwL,KAAM+F,EAAKU,EAAE,yBACbjS,IAAK,8BAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,mCAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,qCAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,SAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,IAUpCgjG,GAAyBv7G,aAAe,CACtCwpF,aAAc,MAGDvpF,4BAAWs7G,ICpHpBG,GAAev7G,YAAOua,MAAV,iFAAGva,CAAH,yDAMlBu7G,GAAal2F,YAAc,eAE3B,IAAMm2F,GAAex7G,IAAO6jC,EAAV,iFAAG7jC,CAAH,uBAuJHF,I,GAAAA,yBAnJf,YAAiC,IAATnB,EAAQ,EAARA,KACtB,EAA2CqtB,aAAS,YAApD,mBAAOyvF,EAAP,KAAwBC,EAAxB,KACA,EAAmD1vF,aAAS,gBAA5D,mBAAO2vF,EAAP,KAA4BC,EAA5B,KACA,EAAkD5vF,aAAS,gBAA3D,mBAAS6vF,EAAT,KAA2BC,EAA3B,KACA,EAAyC9vF,aAAS,uBAAvC+vF,EAAX,oBACA,EAAuD/vF,aACrD,kBADF,mBAAOgwF,EAAP,KAA8BC,EAA9B,KAGA,EAAuDjwF,aACrD,kBADF,mBAAOkwF,EAAP,KAA8BC,EAA9B,KAIMhwF,GAAW0vF,EAAiBzvF,UAAYyvF,EAAiBn7G,MAC/D,OACE,oCACE,0BACE,0BAA6B/B,EAAKU,EAAE,mBACpC,6BACE,kBAAC,GAAD,CACE7M,GAAG,sBACHkG,MAAOiG,EAAKU,EAAE,2BACd/M,KAAM,CACJ,CACElF,IAAK,6BACLI,MAAO,6BACPkL,MAAOiG,EAAKU,EAAE,iBACd0G,YAAY,GAEd,CACE3Y,IAAK,mBACLI,MAAO,mBACPkL,MAAOiG,EAAKU,EAAE,8BACd0G,YAAY,GAEd,CACE3Y,IAAK,eACLI,MAAO,eACPkL,MAAOiG,EAAKU,EAAE,iCACd0G,YAAY,GAEd,CACE3Y,IAAK,UACLI,MAAO,UACPkL,MAAOiG,EAAKU,EAAE,qBACd0G,YAAY,GAEd,CACE3Y,IAAK,wBACLI,MAAO,wBACPkL,MAAOiG,EAAKU,EAAE,8BACd0G,YAAY,IAGhBvY,MAAOiuH,EAAcjuH,MACrBgtB,SAAU,SAAClwB,EAAGoE,GACZgtH,EAAgBvwG,SAASzc,GACzBktH,EAAoBzwG,SAAS,MAC7B2wG,EAAoB3wG,SAAS,IAC7B4wG,EAA2B5wG,SAAS,IACpC8wG,EAAsB9wG,SAAS,GAC/BgxG,EAAsBhxG,SAAS,QAKd,iBAAxBswG,EAAcjuH,OACb,kBAAC,GAAD,CACE67F,aAAcsyB,EAAkBnuH,MAChCstH,qBAAsBc,EAAoBzwG,WAGrB,YAAxBswG,EAAcjuH,OACb,kBAAC,GAAD,CACE67F,aAAcsyB,EAAkBnuH,MAChCstH,qBAAsBc,EAAoBzwG,WAGrB,qBAAxBswG,EAAcjuH,OACb,kBAAC,GAAD,CACE67F,aAAcsyB,EAAkBnuH,MAChCstH,qBAAsBc,EAAoBzwG,WAGrB,0BAAxBswG,EAAcjuH,OACb,kBAAC,GAAD,CACE67F,aAAcsyB,EAAkBnuH,MAChCstH,qBAAsBc,EAAoBzwG,WAGrB,+BAAxBswG,EAAcjuH,OACb,0BACE,kBAACsiC,GAAD,KACE,kBAAC,GAAD,CACEl3B,KAAK,eACLpG,GAAG,gBACHge,YAAU,EACVub,SAAUhV,GAAS,KAAMpY,GACzB6tB,UAAWL,EAAU,UAAY,QACjCzzB,MAAOiG,EAAKU,EAAE,uBAEhB,kBAAC,GAAD,CACEzG,KAAK,sBACLpG,GAAG,uBACHkG,MAAOiG,EAAKU,EAAE,uBAEhB,kBAACgtB,GAAA,EAAD,CACE3zB,MAAOiG,EAAKU,EAAE,gBACditB,QAAQ,mBACR1zB,KAAK,WAEL,0BACE,kBAAC2iH,GAAD,iBACMS,EADN,CAEE76G,aAAYxC,EAAKU,EAAE,wBACnB7M,GAAG,2BACH+V,IAAI,IACJiS,SAAU,SAAChtB,EAAOmsB,GAChBqiG,EAAoBxhG,SAASb,IAE/BiuB,KAAK,IACL9zC,KAAK,YAEP,kBAAC0nH,GAAD,KACE,kBAAC,QAAD,aAEF,kBAACD,GAAD,iBACMW,EADN,CAEE/6G,aAAYxC,EAAKU,EAAE,wBACnB7M,GAAG,2BACH+V,IAAI,IACJiS,SAAU,SAAChtB,EAAOmsB,GAChBuiG,EAAoB1hG,SAASb,IAE/BiuB,KAAK,IACL9zC,KAAK,YAEP,kBAAC0nH,GAAD,KACE,kBAAC,QAAD,qB,iiBC9JH,SAASY,GAAgBz9G,GACtC,MAAiBqtB,aAAS,YAAjBC,EAAT,oBACA,EAA4BD,aAAS,gBAA9BqwF,EAAP,oBACA,EAA2BrwF,aAAS,YAA7ByvF,EAAP,oBACA,EAA4BzvF,aAAS,gBAErC,MAAO,CACL4b,KAAMuP,GAAQx4C,EAAM88G,EAAeY,EAHrC,qBAIEjuG,cAmCK,CACLkuG,aAAc,GACdC,oBAAqB,GACrBC,eAAgB,EAChBC,eAAgB,EAChB76D,SAAU,gBAvCV76C,SAAS,EACTwc,aAAc,KACd8zB,WAAYprB,EAAKvrB,MACjBg+B,WAAY,SAAA+T,GACVA,EAAgB,YAAY,GAAM,IAEpC1mB,SAAU,cAGd,SAASorB,GAAQx4C,EAAM88G,EAAeY,EAAmBV,GAYvD,MAAO,CACLnpH,GAjCY,WAkCZoG,KACE,kBAAC,GAAD,CAAUsyB,WAAW,EAAO14B,GAAG,kBAC5BmM,EAAKU,EAAE,mBAGZM,UAAW,kBAAC,GAAD,CAAchB,KAAMA,IAC/B4oC,aAjB2B,+BAAxBk0E,EAAcjuH,OACe,OAA5BmuH,EAAkBnuH,OACK,+BAAxBiuH,EAAcjuH,YACemiC,IAA5B0sF,EAAkB7uH,QCxB1B,IAAMy2F,GAAOjkF,IAAOC,IAAV,0OAsDKH,6BA5Cf,YAA4B,IAATnB,EAAQ,EAARA,KACjB,EAA2BqtB,aAAS,YAApC,mBAAOnO,EAAP,KAAgBqO,EAAhB,KACA,OACE,oCACE,kBAACnrB,GAAA,EAAD,CAAOC,aAAa,KAAKP,KAAK,MAC3B9B,EAAKU,EAAE,aAEV,2BACGV,EAAKU,EACJ,yEAGJ,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7M,GAAG,oBACH4lC,WAA4B,YAAhBva,EAAMrwB,MAClBkL,MAAOiG,EAAKU,EAAE,mBACdoR,YAAa9R,EAAKU,EAChB,oEAEF2G,QAAS,kBAAMkmB,EAAQ/gB,SAAS,cAElC,kBAAC,GAAD,CACE3Y,GAAG,oBACH4lC,WAA4B,YAAhBva,EAAMrwB,MAClBkL,MAAOiG,EAAKU,EAAE,mBACdoR,YAAa9R,EAAKU,EAChB,iEAEF2G,QAAS,kBAAMkmB,EAAQ/gB,SAAS,cAElC,kBAAC,GAAD,CACE3Y,GAAG,mBACH4lC,WAA4B,WAAhBva,EAAMrwB,MAClBkL,MAAOiG,EAAKU,EAAE,eACdoR,YAAa9R,EAAKU,EAChB,6DAEF2G,QAAS,kBAAMkmB,EAAQ/gB,SAAS,kBChD3B,SAASuxG,GAAe/9G,EAAMg+G,GAC3C,MAAiB3wF,aAAS,YAAjBC,EAAT,oBAEA,MAAO,CACL2b,KAAMuP,GAAQwlE,EAAa1wF,EAAMttB,GACjCyP,cAAeuuG,EAAc,CAAE5zB,SAAU,WAAc,GACvDhiF,SAAS,EACTwc,aAAc,KACd8zB,WAAYprB,EAAKvrB,MACjBg+B,WAAY,SAAA+T,GACVA,EAAgB,YAAY,GAAM,IAEpC1mB,SAAU,cAGd,SAASorB,GAAQwlE,EAAa1wF,EAAMttB,GAClC,OAAKg+G,EAGE,CACLnqH,GAtBY,UAuBZoG,KACE,kBAAC,GAAD,CAAUsyB,WAAW,EAAO14B,GAAG,iBAC5BmM,EAAKU,EAAE,kBAGZM,UAAW,kBAAC,GAAD,MACX4nC,WAA2B,KAAftb,EAAKz+B,OAVV,KCMX,IAAMovH,GAA6B,SAAC3lE,EAAckF,EAAcosC,GAAgB,IAAD,IAuBnC,IAEV,EAUW,EACE,EAnCvCn6E,EAAgB,CACpBi7E,cAAwB,OAAVd,QAAU,IAAVA,OAAA,EAAAA,EAAYa,yBAA0B,KACpDxnC,UAAoB,OAAV2mC,QAAU,IAAVA,GAAA,UAAAA,EAAYa,8BAAZ,eAAoCt1F,OAAQ,gBAGxD,GAC+C,gCAAnC,OAAVy0F,QAAU,IAAVA,GAAA,UAAAA,EAAYa,8BAAZ,eAAoCt1F,MACpC,CACA,IAAMnD,EAAU43F,EAAWa,uBAAuBz4F,SAAW,EAO7D,OANAyd,EAAckuG,aAAe/zB,EAAWa,uBAAuBxwF,MAAQ,GACvEwV,EAAcmuG,oBACZh0B,EAAWa,uBAAuB34E,aAAe,GACnDrC,EAAcouG,eAAiBl0G,KAAKsB,MAAMjZ,EAAU,IACpDyd,EAAcquG,eAAiB9rH,EAAqC,GAA3B2X,KAAKsB,MAAMjZ,EAAU,IAEvDyd,EAGT,IAAK6oC,GAAgBA,IAAiB,GACpC,OAAO7oC,EAGT,GAAI6oC,EAAaK,wBAEf,UAAIixC,QAAJ,IAAIA,OAAJ,EAAIA,EAAYe,aACdl7E,EAAc2D,UAAd,OAA0Bw2E,QAA1B,IAA0BA,GAA1B,UAA0BA,EAAYe,oBAAtC,aAA0B,EAA0Bv3E,eAC/C,UAAIw2E,QAAJ,IAAIA,GAAJ,UAAIA,EAAYsC,0BAAhB,iBAAI,EAAgCt5E,sBAApC,aAAI,EAAgDQ,UAAW,CAAC,IAAD,IACpE3D,EAAc2D,UAAd,OACEw2E,QADF,IACEA,GADF,UACEA,EAAYsC,0BADd,iBACE,EAAgCt5E,sBADlC,aACE,EAAgDQ,eAElD3D,EAAc2D,UAAY,KAI9B,GAAIklC,EAAamB,yBACf,UAAImwC,QAAJ,IAAIA,GAAJ,UAAIA,EAAYe,oBAAhB,aAAI,EAA0B90E,YAC5BpG,EAAcoG,YAAd,OAA4B+zE,QAA5B,IAA4BA,GAA5B,UAA4BA,EAAYe,oBAAxC,aAA4B,EAA0B90E,iBACjD,UAAI+zE,QAAJ,IAAIA,OAAJ,EAAIA,EAAYuE,wBAAyB,CAAC,IAAD,IACxC+vB,EAA+B,IAuBrC,OAAIt0B,QAAJ,IAAIA,GAAJ,UAAIA,EAAYa,8BAAhB,iBAAI,EAAoC73E,sBAAxC,aAAI,EAAoDiD,cACtD+zE,EAAWa,uBAAuB73E,eAAeiD,YAAYxnB,SAC3D,SAAAgsD,IAvBkC,SAAA8jE,GACpC,IAAIC,GAAwB,EAiB5B,OAhBAx0B,EAAWuE,wBAAwB9/F,SAAQ,SAAAgwH,GAEvCF,EAAoB3yE,kBAAoB6yE,EAAa7yE,mBAGjD2yE,EAAoB/yE,WACnBizE,EAAa3lG,OAAO0yB,UACtB+yE,EAAoB/yE,UACnBizE,EAAa3lG,OAAO0yB,UACpB+yE,EAAoB/yE,WAAaizE,EAAa3lG,OAAO0yB,YAEvDgzE,GAAwB,MAKvBA,GAMEE,CAA8BjkE,IACjC6jE,EAA6B9wG,KAAKitC,MAM1C5qC,EAAcoG,YAAc+zE,EAAWuE,wBAAwBx8F,OAC7DusH,QAGFzuG,EAAcoG,YAAc,GAIhC,IAAM0oG,GACM,OAAV30B,QAAU,IAAVA,OAAA,EAAAA,EAAYe,eAAgBf,EAAWsC,mBAwBzC,GAtBI5zC,EAAa+D,yBACf5sC,EAAc4D,UAAyB,OAAdkrG,QAAc,IAAdA,OAAA,EAAAA,EAAgBlrG,WAAY,IAEnDilC,EAAagE,sBACf7sC,EAAcwG,OAAsB,OAAdsoG,QAAc,IAAdA,OAAA,EAAAA,EAAgBtoG,QAAS,IAE7CqiC,EAAakE,0BACf/sC,EAAc0G,WAA0B,OAAdooG,QAAc,IAAdA,OAAA,EAAAA,EAAgBpoG,YAAa,GAErDmiC,EAAaoE,qBACfjtC,EAAcgI,UAAyB,OAAd8mG,QAAc,IAAdA,OAAA,EAAAA,EAAgB9mG,WAAY,IAEnD6gC,EAAaqE,0BACfltC,EAAciI,WAA0B,OAAd6mG,QAAc,IAAdA,OAAA,EAAAA,EAAgB7mG,YAAa,IAErD4gC,EAAaiE,2BACf9sC,EAAcwF,YAA2B,OAAdspG,QAAc,IAAdA,OAAA,EAAAA,EAAgBtpG,aAAc,IAEvDqjC,EAAamE,0BACfhtC,EAAckI,WAA0B,OAAd4mG,QAAc,IAAdA,OAAA,EAAAA,EAAgB5mG,aAAa,GAGrD2gC,EAAasE,wBAAyB,CACxC,IAAM4hE,EAAY,eAAQD,EAAe/mG,YACrC8gC,EAAa0F,gBAAkBR,EAAa/kC,MAC9C+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GAEtBxtD,OAAO6T,UAAUC,eAAeC,KAAKg7G,EAAcvhE,EAAS5kC,kBAErDmmG,EAAavhE,EAAS5kC,aAInC5I,EAAcpW,WAAas1B,GAAW/hC,KAAKC,UAAU2xH,IA0BvD,OAvBA,OAAIhhE,QAAJ,IAAIA,OAAJ,EAAIA,EAAc/kC,OAChB+kC,EAAa/kC,KAAKpqB,SAAQ,SAAA4uD,GACF,gBAAlBA,EAAS9nD,KACXsa,EAAc,UAAD,OAAWwtC,EAAS5kC,WAAc4kC,EAAS3kC,QAAQvtB,MAC9D,MAGF0kB,EAAc,UAAD,OAAWwtC,EAAS5kC,WAAc4kC,EAAS3kC,SAE1D,OAAIimG,QAAJ,IAAIA,OAAJ,EAAIA,EAAgB/mG,aAClB/nB,OAAOs/B,QAAP,OAAewvF,QAAf,IAAeA,OAAf,EAAeA,EAAgB/mG,YAAYnpB,SAAQ,YAAmB,IAAD,mBAAhBI,EAAgB,KAAXI,EAAW,KAC/DJ,IAAQwuD,EAAS5kC,WACf4kC,EAAS9nD,KACXsa,EAAc,UAAD,OAAWwtC,EAAS5kC,WAAcxpB,SAUpD4gB,GAGM,SAASgvG,GACtBnmE,EACAkF,EACAx9C,EACAmzB,EACA6qF,GAEA,IAAQp0B,EAAetqF,qBAAWgnF,IAA1BsD,WACR,EAA4C93D,eAApCmyB,EAAR,EAAQA,UAAmB3S,EAA3B,EAAmBr5C,OACnB,EAA8BgL,mBAAS,IAAvC,mBAAO8gD,EAAP,KAAgBC,EAAhB,KAEMvb,EAAQ,CACZs1E,GAAe/9G,EAAMg+G,GACrBP,GAAgBz9G,GAChBq4C,GAAiBC,EAAcnlB,EAAUnzB,EAAM+jD,GAC/CvK,GAAmBlB,EAAcnlB,EAAUnzB,GAC3C68C,GAAoBvE,EAAcnlB,EAAUnzB,GAC5C+9C,GAAczF,EAAckF,EAAcrqB,EAAUnzB,EAAM+jD,IAGtDx3B,EAAYkc,EAAM35C,MAAK,SAAAm6C,GAAI,OAAIA,EAAKyP,YAE1CjQ,EAAMr7B,KACJu2C,GACErL,EACAt4C,EACAmzB,EACAqqB,EACAjxB,EAhMN,SAAyB02B,EAAU3K,GACjC,SACG,CAAC,wBAAyB,gBAAgB/oD,SAAS0zD,IACf,IAArCxzD,OAAOC,KAAK4oD,GAAc1pD,WAKzB0pD,EAAa6N,8BACd7N,EAAaK,yBACbL,EAAasE,yBACbtE,EAAagE,qBACbhE,EAAaiE,0BACbjE,EAAa0F,gBACZ1F,EAAa8N,2BACZ9N,EAAa8N,0BAA0Bx3D,OAAS,GAkLhD8vH,CAAgBptE,EAAa2R,SAAU3K,KAI3C,IAAM4L,EAAUzb,EAAMr6C,KAAI,SAAAvD,GAAC,OAAIA,EAAEo+C,QAAMr5C,QAAO,SAAA/E,GAAC,OAAS,MAALA,KAC7Cud,GAAWqgC,EAAM35C,MAAK,SAAAjE,GAAC,OAAKA,EAAEud,WAEpCmB,qBAAU,WACR,GAAI+uC,GAAgBkF,GAAgBp1C,EAAS,CAAC,IAAD,QACvCqH,EAAgB,GAOlBA,EAJAm6E,IAAU,OACVA,QADU,IACVA,OADU,EACVA,EAAYa,0BACF,OAAVb,QAAU,IAAVA,GAAA,UAAAA,EAAYa,8BAAZ,eAAoC52F,OAApC,UAA2Cy9C,EAAao5C,oBAAxD,aAA2C,EAA2B72F,IAEtDoqH,GACd3lE,EACAkF,EACAosC,GAGcnhD,EAAM13C,QAAO,SAAC4S,EAAKygD,GACjC,OAAO,2BACFzgD,GACAygD,EAAI30C,iBAER,IAGLw0C,EAAU,CACRhsD,OAAO,2BACFwX,GADC,IAEJi7E,aAAcp5C,EAAao5C,aAC3BznC,SAAU3R,EAAa2R,SACvBmnC,SAAU94C,EAAa84C,SACvBj0E,UAAS,UAAE1G,SAAF,iBAAE,EAAe0G,iBAAjB,aAAE,EAA0BiH,kBAK1C,CAACk7B,EAAckF,EAAcp1C,IAEhC,IAAMq8C,EAAgBhc,EAAMtrB,MAAK,SAAAtyB,GAAC,OAAIA,EAAE+5B,gBAGxC,MAAO,CACL6jB,MAAOyb,EACPQ,aAAc,SAAAC,GACZlc,EAAMtrB,MAAK,SAAAtyB,GAAC,aAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGo+C,YAAH,eAASp1C,MAAO8wD,KAAQv3B,YAE1Cw3B,UAAW,SAACC,EAAY/Q,GACtBkQ,EAAW,2BACND,GADK,mBAEPc,GAAa,KAEhBpc,EAAMtrB,MAAK,SAAAtyB,GAAC,aAAK,OAADA,QAAC,IAADA,GAAA,UAAAA,EAAGo+C,YAAH,eAASp1C,MAAOgxD,KAAY9kB,WAAW+T,IAEzDgR,cAAe,SAAAhR,GACbkQ,EAAW,CACT5wC,WAAW,EACXyC,aAAa,EACbmvC,OAAO,EACP5qD,QAAQ,EACR6qD,SAAS,IAEXxc,EAAMp6C,SAAQ,SAAAxD,GAAC,OAAIA,EAAEk1C,WAAW+T,OAElClvB,aAxBmB6/B,EAAgBA,EAAc7/B,aAAe,MCjNrD+5F,OApCf,YAOI,IANFhwE,EAMC,EANDA,WACAiwE,EAKC,EALDA,WACAv3G,EAIC,EAJDA,QACA8hC,EAGC,EAHDA,OACA01E,EAEC,EAFDA,YACAz3G,EACC,EADDA,WASA,OAPAmC,qBAAU,WACHs1G,GAGL11E,MACC,CAACA,EAAQ01E,IAGV,kBAAC9zG,EAAA,EAAD,CACElX,GAAG,kBACH2N,QAAQ,UACRrM,KAAK,SACLkS,QAAS,kBAAMA,EAAQsnC,IACvBvnC,WAAYA,IAAeunC,EAAW/F,YAErCg2E,I,oBCOP,SAASE,GAAT,GASI,IARFd,EAQC,EARDA,YACAh+G,EAOC,EAPDA,KACAgnC,EAMC,EANDA,OACAzlC,EAKC,EALDA,MACAw9G,EAIC,EAJDA,gBACAzmE,EAGC,EAHDA,aACAkF,EAEC,EAFDA,aACA2nB,EACC,EADDA,gBAEMpgE,EAAU8C,cACVq2B,EAAW5+B,qBAAW+mF,IAC5B,EAAoCv0D,eAA5B75B,EAAR,EAAQA,OAAQ67C,EAAhB,EAAgBA,gBAEhB,EAAsC7wC,mBAAS,GAA/C,mBAAO47G,EAAP,KAAoBG,EAApB,KAEMC,EAAmB,WACvB,IACM3gF,EADQv5B,EAAQE,SAASkI,OAAOhf,QAAQ,MAAO,IAAIpD,MAAM,KACtC6E,QAAO,SAAA2uC,GAAK,MACnC,8EAA8ErK,KAC5EqK,MAGJx5B,EAAQ5W,QAAR,UAAmB4W,EAAQE,SAASC,SAApC,YAAgDo5B,EAAWruC,KAAK,QAGlE,EAMIwuH,GACFnmE,EACAkF,EACAx9C,EACA/H,EAAOyyF,aACPszB,GAVOkB,EADT,EACEz2E,MACAic,EAFF,EAEEA,aACAE,EAHF,EAGEA,UACAE,EAJF,EAIEA,cACAlgC,EALF,EAKEA,aASIu6F,EAAiB,WASrB,GARAF,IACwB,+BAApBhnH,EAAOgrD,kBACFhrD,EAAO0lH,oBACP1lH,EAAO2lH,2BACP3lH,EAAO4lH,sBACP5lH,EAAO6lH,gBAId,CAAC,eAAgB,yBAAyBvuH,SAAS0I,EAAOgrD,YACzD3K,EAAasE,yBAA2BtE,EAAa0F,gBACtD,CACA,IAAI5kD,EACE0+C,EAAeD,GAAgB5/C,GAC/BqrD,EACJhL,EAAasE,0BAA4B3kD,EAAOoB,YAAc,OAE9DD,GADF,OAAIokD,QAAJ,IAAIA,OAAJ,EAAIA,EAAc/kC,MACJgW,KAAKO,SACf2oB,GAAe2L,EAAkBxL,IAGvBrpB,KAAKO,SAAS2oB,GAAe2L,EAAkB,KAE7DrrD,EAAOuf,WAAape,GAAa+1B,GAAmB/1B,UAC7CnB,EAAOoB,WAGhB2tC,EAAO/uC,EAAQqgD,IAGXpE,EAAe,WACnB+qE,IACA/gF,EAAS,CAAE/oC,KAAM,uBAGnB,EAAgCsX,GAC9BmY,GAAgBm6F,GADVh9G,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITm8B,EAAiB,SAAA4F,GAAU,aAC/BA,EAAW96C,MAAX,UAAkBqrH,GAAuB,OAAXA,QAAW,IAAXA,OAAA,EAAAA,EAAatwH,QAAS,UAApD,aAAkB,EAAsCiF,KACpC,YAApB86C,EAAW10C,KACP+F,EAAKU,EAAE,aACPV,EAAKU,EAAE,cAEP8tC,EACJ,kBAACC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,MACG,kBAAGC,EAAH,EAAGA,WAAYxF,EAAf,EAAeA,OAAQyF,EAAvB,EAAuBA,OAAvB,OACC,oCACE,kBAAC,GAAD,CACExnC,WAAY+9D,EACZ05C,YAAaA,EACblwE,WAAYA,EACZnsC,aAAYumC,EAAe4F,GAC3BxF,OAAQA,EACR9hC,QAAS,kBAAM23G,EAAeH,EAAc,IAC5CD,WAAY71E,EAAe4F,KAE5BA,GAAcA,EAAW96C,MAAX,UAAkBqrH,EAAY,UAA9B,aAAkB,EAAgBrrH,KAC/C,kBAACkX,EAAA,EAAD,CACElX,GAAG,kBACH2N,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAASunC,GAER5uC,EAAKU,EAAE,sBAGZ,kBAACqK,EAAA,EAAD,CACElX,GAAG,oBACH2N,QAAQ,OACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS6sC,GAERl0C,EAAKU,EAAE,2BAQpB,OAAIqB,GAeAA,IAAUojE,EAbV,kBAAC,GAAD,CACErlE,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,WACP6M,MAGF,kBAAC,GAAD,CAAc7K,MAAOA,KAoBzB,sBACE8sC,OAAQL,EACR1uC,QAASiC,EACThC,QAASm0C,EACTlN,OAAQ,WACNm4E,KAEFvwE,OAAM,uCAAE,WAAMyW,GAAN,SAAA79D,EAAA,sDACNk9D,EAAaW,EAASxxD,IADhB,2CAAF,sDAGNu1C,WAAU,uCAAE,WAAOic,EAAUC,GAAjB,SAAA99D,EAAA,sDACU,YAAhB69D,EAASxxD,GACXixD,EAAchR,IAEd8Q,EAAUU,EAASC,OAAQzR,GAC3B4Q,EAAaW,EAASxxD,KALd,2CAAF,wDAQV40C,MAAOy2E,EAEP39G,MAAOA,EACP4nC,OAAM,uCAAE,WAAOkc,EAAUC,GAAjB,SAAA99D,EAAA,sDACc,YAAhB69D,EAASxxD,GACXixD,EAAchR,IAEd8Q,EAAUU,EAASC,OAAQzR,GAC3B4Q,EAAaW,EAASxxD,KALlB,2CAAF,0DAYZ,IAAMurH,GAAiB,SAAC,GAA8B,IAA5Bp/G,EAA2B,EAA3BA,KAAMuB,EAAqB,EAArBA,MAAU6oB,EAAW,kBAC3CnyB,EAAW65B,eAAX75B,OAEFuwC,EAAcvwC,EAAOyyF,aAAP,UACbnpF,EADa,cACFtJ,EAAOyyF,aAAazwF,MAClCsH,EAEJ,EAKIuK,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,yDACJkS,EAAa,SAACvE,EAAMtB,GAAP,MACR,0BAATsB,EACI0J,GAAwBnF,WAAW7F,GACnC0J,GAAgB7D,WAAW7F,IAE9BoE,EAAOyyF,cACP,CAAC,eAAgB,yBAAyBn7F,SAA1C,OAAmD0I,QAAnD,IAAmDA,OAAnD,EAAmDA,EAAQgrD,WAC3D,CAAC,eAAgB,yBAAyB1zD,SAA1C,UACC0I,EAAOyyF,oBADR,aACC,EAAqBv1F,MATf,yCAYD,CACLmjD,aAAc,GACdkF,aAAc,KAdR,uBAkBqB9jD,EAC7BzB,EAAOgrD,SADgC,OAEvChrD,QAFuC,IAEvCA,GAFuC,UAEvCA,EAAQyyF,oBAF+B,aAEvC,EAAsB72F,IApBd,mBAkBI4F,EAlBJ,EAkBF9F,KAKJyG,EAAS,IAETX,EAAOukD,eAzBD,6BA0BSvkD,QA1BT,IA0BSA,OA1BT,EA0BSA,EAAQ4lH,4BA1BjB,kCA2BExgH,GAAwBqnD,WAAxB,OACJzsD,QADI,IACJA,GADI,UACJA,EAAQ4lH,kCADJ,aACJ,EAAoCxrH,IA5BlC,6DA8BE0J,GAAgB2oD,WAAhB,OAA2BzsD,QAA3B,IAA2BA,GAA3B,UAA2BA,EAAQ6lH,yBAAnC,aAA2B,EAA2BzrH,IA9BxD,mCA0BAF,EA1BA,EA0BAA,KAMRyG,EAASzG,EAhCD,iCAmCH,CACL2kD,aAAc7+C,EACd+jD,aAAcpjD,IArCN,4CAyCT,CAACnC,EAAOyyF,aAAczyF,EAAOgrD,WAChC,IA/CSs8D,EADX,EACEhzG,QACOizG,EAFT,EAEEz9G,MAFF,IAGEkK,OAAUqsC,EAHZ,EAGYA,aAAckF,EAH1B,EAG0BA,aACxBpxC,EAJF,EAIEA,UA+CF7C,qBAAU,WACRg2G,MACC,CAACA,EAAmBtnH,EAAOyyF,eAE9B,MAAgCj+E,GAAoB+yG,GAA5Cz9G,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OAAI7K,EAEA,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS,WACP6M,MAGF,kBAAC,GAAD,CAAc7K,MAAOA,KAKtBu2C,GAAiBkF,EAiBpB,kBAACshE,GAAD,iBACM10F,EADN,CAEEkuB,aAAcA,EACdkF,aAAcA,EACd2nB,gBAAiB/4D,EACjB7K,MAAOinC,EACPxoC,KAAMA,KArBN,kBAAC,GAAD,CACEF,QAAM,EACN2oC,MAAO,CACL,CACExuC,KAAM+F,EAAKU,EAAE,gBACbM,UAAW,kBAAC,GAAD,QAGfO,MAAOinC,EACPqG,OAAQ,wCAwDD1tC,yBAvCG,SAAC,GAA0C,IAAD,EAAvC6lC,EAAuC,EAAvCA,OAAQhnC,EAA+B,EAA/BA,KAAMg+G,EAAyB,EAAzBA,YAAaz8G,EAAY,EAAZA,MACtCqoF,EAAetqF,qBAAWgnF,IAA1BsD,WACF61B,EAAa,SAACxnH,EAAQlK,GAC1Bi5C,EAAO/uC,EAAQlK,IAGjB,OACE,kBAAC,KAAD,CACE0hB,cAAe,CACbkuG,aAAc,GACdC,oBAAqB,GACrBC,eAAgB,EAChBC,eAAgB,EAChB1zB,SAAU,UACVM,cAAwB,OAAVd,QAAU,IAAVA,OAAA,EAAAA,EAAYa,yBAA0B,KACpDxnC,UAAoB,OAAV2mC,QAAU,IAAVA,GAAA,UAAAA,EAAYa,8BAAZ,eAAoCt1F,OAAQ,gBAExD6xC,OAAQ,kBAAMy4E,KAEb,SAAA9vG,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAAC,GAAD,CACEi4B,OAAQy4E,EACRz/G,KAAMA,EACNuB,MAAOA,EACPy8G,YAAaA,W,wHC3RV78G,6BA5Df,YAAiC,IAATnB,EAAQ,EAARA,KAChBk+B,EAAW5+B,qBAAW+mF,IACpBgD,EAAkB/pF,qBAAWgnF,IAA7B+C,cAiDR,OACE,kBAAC,GAAD,CACE20B,YAA+B,IAAlB30B,EACbriD,OAlDY,SAAC/uC,EAAQlK,GACvB,IACE4vH,EAKE1lH,EALF0lH,aACAC,EAIE3lH,EAJF2lH,oBACAC,EAGE5lH,EAHF4lH,eACAC,EAEE7lH,EAFF6lH,eACA1zB,EACEnyF,EADFmyF,SAGF,GAAInyF,EAAQ,CAAC,IAAD,EACV,EAA2BmpE,GAAkB,OAC3CrzE,QAD2C,IAC3CA,GAD2C,UAC3CA,EAAQqsD,gBADmC,aAC3C,EAAkBvkC,YADyB,OAE3C5d,QAF2C,IAE3CA,OAF2C,EAE3CA,EAAQ4d,aAFFyrD,EAAR,EAAQA,MAAOC,EAAf,EAAeA,QAKftpE,EAAOgmG,iBAAmB38B,EAC1BrpE,EAAOimG,mBAAqB38B,EAG9B,IAAMzjD,EAAO,CACXssE,mBAGKnyF,EAAOmyF,SAEU,+BAApBnyF,EAAOgrD,SACTnlC,EAAK4sE,aAAe,CAClB54E,YAAa8rG,EACb3jH,KAAM0jH,EACN3rH,QAAkC,GAAzB9G,OAAO2yH,GAAuB3yH,OAAO4yH,GAC9C3oH,KAAM,+BAGR2oB,EAAK4sE,aAAezyF,EAAOyyF,aAEJ,kBAAf,OAANzyF,QAAM,IAANA,OAAA,EAAAA,EAAQgrD,WACa,2BAAf,OAANhrD,QAAM,IAANA,OAAA,EAAAA,EAAQgrD,YAERnlC,EAAK6sE,aAAe1yF,IAGxBimC,EAAS,CACP/oC,KAAM,cACN2oB,UAQAvc,MAAOvB,EAAKU,EAAE,sBCTLS,6BA7Cf,YAAoC,IAATnB,EAAQ,EAARA,KACnBk+B,EAAW5+B,qBAAW+mF,IACpBsD,EAAiBrqF,qBAAWgnF,IAA5BqD,aACR,OACE,kBAAC,GAAD,CACEnoF,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,oBACdZ,OAAQ6pF,EACR5pF,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAO,QAC7Dic,QAAS,CACP,kBAACC,EAAA,EAAD,CACElX,GAAG,uBACHpF,IAAI,SACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,6BACnB2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,kBAE/B6K,EAAKU,EAAE,gBAEV,kBAACqK,EAAA,EAAD,CACElX,GAAG,sBACHpF,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,4BACnB2G,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAO,SAE5DmR,EAAKU,EAAE,wBAIXipF,GAAgBA,EAAajb,mBAC5B,kBAAC,WAAD,KACE,2BAAI1uE,EAAKU,EAAE,yDACX,6BACA,0BACGipF,EAAajb,mBAAmBz0E,OAIrC,2BAAI+F,EAAKU,EAAE,wD,6RCUJS,6BAtDf,YAAkC,IAATnB,EAAQ,EAARA,KACjBk+B,EAAW5+B,qBAAW+mF,IA4C5B,OACE,kBAAC,GAAD,CACE23B,aAAa,EACbh3E,OA7Ce,SAAC/uC,EAAQlK,GAC1B,IAWI+vB,EAVF6/F,EASE1lH,EATF0lH,aACAC,EAQE3lH,EARF2lH,oBACA/nG,EAOE5d,EAPF4d,YAEA60E,GAKEzyF,EANFmyF,SAMEnyF,EALFyyF,cACAznC,EAIEhrD,EAJFgrD,SACA46D,EAGE5lH,EAHF4lH,eACAC,EAEE7lH,EAFF6lH,eACG1zF,EATL,YAUInyB,EAVJ,IAYwB,+BAApBA,EAAOgrD,SACTnlC,EAAO,CACL4sE,aAAc,CACZ54E,YAAa8rG,EACb3jH,KAAM0jH,EACN3rH,QAAkC,GAAzB9G,OAAO2yH,GAAuB3yH,OAAO4yH,GAC9C3oH,KAAM,gCAIV2oB,EAAO,CACL4sE,gBAEe,iBAAbznC,GAA4C,0BAAbA,IACjCnlC,EAAK6sE,aAAL,2BACKvgE,GADL,IAEEvU,gBAGFiI,EAAKw6B,aAAevqD,IAIxBmwC,EAAS,CACP/oC,KAAM,cACN2oB,UAQAvc,MAAOvB,EAAKU,EAAE,uBChDL,SAASg/G,GAAY5hG,GAElC,QADoB,OAAJA,QAAI,IAAJA,OAAA,EAAAA,EAAM3oB,QAAN,OAAc2oB,QAAd,IAAcA,OAAd,EAAcA,EAAMslC,mBAElC,IAAK,eACL,IAAK,MACH,MAAO,CAAC,eAAgB7lD,IAC1B,IAAK,UACL,IAAK,iBACH,MAAO,CAAC,eAAgBQ,IAC1B,IAAK,mBACL,IAAK,mBACH,MAAO,CAAC,wBAAyBV,IACnC,IAAK,wBACL,IAAK,eACH,MAAO,CAAC,wBAAyBwB,IACnC,IAAK,6BACL,IAAK,oBACH,MAAO,CAAC,WAAY,MACtB,QACE,MAAO,CAAC,KAAM,OC8LLsC,I,GAAAA,yBAvMf,YAA4C,IAAD,IAoGrCwjB,EApGmB3kB,EAAkB,EAAlBA,KAAMwsB,EAAY,EAAZA,SACvB0R,EAAW5+B,qBAAW+mF,IACpBwD,EAAevqF,qBAAWgnF,IAA1BuD,WAENY,EAIEZ,EAJFY,uBACA0D,EAGEtE,EAHFsE,wBACAjC,EAEErC,EAFFqC,mBACAvB,EACEd,EADFc,aAEF,EAA4B+0B,GAC1Bj1B,IAAsB,OACpByB,QADoB,IACpBA,GADoB,UACpBA,EAAoBt5E,sBADA,aACpB,EAAoCgF,uBAFxC,mBAAOqrC,EAAP,KAAiB08D,EAAjB,KAKM9rH,GACkB,OAAtB42F,QAAsB,IAAtBA,OAAA,EAAAA,EAAwB52F,MAAxB,OACAq4F,QADA,IACAA,GADA,UACAA,EAAoBt5E,sBADpB,aACA,EAAoCgF,qBAAqB/jB,IAE3D,EAKIiY,GACFzC,sBAAW,sBAAC,gCAAA7hB,EAAA,6DACJkS,EACS,0BAAbupD,EACIpkD,GAAwBnF,WAAW7F,GACnC0J,GAAgB7D,WAAW7F,GAJvB,SAKa6F,EALb,uBAKF/F,EALE,EAKFA,KALE,kBAMHA,GANG,2CAOT,CAACsvD,EAAUpvD,IACd,IAbQykD,EADV,EACErsC,OACW2zG,EAFb,EAEExzG,UACOozG,EAHT,EAGEz9G,MACS89G,EAJX,EAIEtzG,QAaF,EAKIT,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,yDACJmrB,EAAU,GAED,iBAAbswC,GACCwnC,EAAuBlpC,gBAJhB,gCAQEhkD,GAAgBmjE,mBAAmB+pB,EAAuB52F,IAR5D,oBAONF,KAAQsB,eAPF,MAOY,GAPZ,EASR0d,EAAQ4uC,gBAAkBtsD,EATlB,YAac,OAAtBw1F,QAAsB,IAAtBA,GAAA,UAAAA,EAAwB93E,eAAxB,eAAiCovC,mBAChC0oC,EAAuBhpC,YAdhB,yCAkBEk+D,QAlBF,IAkBEA,OAlBF,EAkBEA,EAAS7lH,eAAe2wF,EAAuB52F,IAlBjD,iBAiBE4tD,EAjBF,EAiBN9tD,KAAQ8tD,YAEV9uC,EAAQ8uC,YAAcA,EAnBd,iCAsBH9uC,GAtBG,4CAuBT,CAACgtG,EAASl1B,EAAwBxnC,IACrC,MA7BQ68D,EADV,EACE7zG,OACW8zG,EAFb,EAEE3zG,UACO4zG,EAHT,EAGEj+G,MACSk+G,EAJX,EAIE1zG,QA8DF,GAjCAhD,qBAAU,WAAO,IAAD,EACG,0BAAb05C,GAAqD,iBAAbA,GAC1C48D,IAIAp1B,IACe,iBAAbxnC,IACCwnC,EAAuBlpC,kBACD,OAAtBkpC,QAAsB,IAAtBA,GAAA,UAAAA,EAAwB93E,eAAxB,eAAiCovC,oBAC/B0oC,EAAuBhpC,cAE5Bw+D,MAED,IAEH12G,qBAAU,WACJu2G,GACF5hF,EAAS,CACP/oC,KAAM,eACN2oB,KAAM,CACJ2sE,uBAAuB,2BAAMA,GAA2Bq1B,QAI7D,CAACA,IAQAF,GAAyBG,EAC3Bp7F,EAAU,kBAAC,GAAD,WACL,GAAI66F,GAAqBQ,EAC9Br7F,EAAU,kBAAC,GAAD,CAAc5iB,MAAOy9G,GAAqBQ,SAC/C,GAAKv1B,EAUL,CACL,IAAI9nC,EAAY,GAEZgoC,GACFhoC,EAAYgoC,GAERryC,EAAasE,yBAA2BtE,EAAa0F,kBACvD2E,EAAUtpD,WAAas1B,GACrB/hC,KAAKC,UAAU89F,EAAanzE,eAIhCizE,EAAuB52F,MAAvB,OAA8Bq4F,QAA9B,IAA8BA,OAA9B,EAA8BA,EAAoBt0E,wBAE9C0gC,EAAaK,0BACfgK,EAAUvvC,UAAY84E,EAAmBt5E,eAAeQ,WAEtDklC,EAAaiE,2BACfoG,EAAU1tC,WAAai3E,EAAmBj3E,aAExCqjC,EAAasE,yBAA2BtE,EAAa0F,kBACvD2E,EAAUtpD,WAAas1B,GACrB/hC,KAAKC,UAAUq/F,EAAmB10E,cAGlC8gC,EAAaoE,qBACfiG,EAAUlrC,SAAWy0E,EAAmBz0E,UAEtC6gC,EAAamE,0BACfkG,EAAUhrC,UAAYu0E,EAAmBv0E,WAEvC2gC,EAAaqE,0BACfgG,EAAUjrC,UAAYw0E,EAAmBx0E,WAEvC4gC,EAAa+D,yBACfsG,EAAUtvC,SAAW64E,EAAmB74E,UAEtCilC,EAAagE,sBACfqG,EAAU1sC,MAAQi2E,EAAmBj2E,OAEnCqiC,EAAakE,0BACfmG,EAAUxsC,UAAY+1E,EAAmB/1E,UAAUiH,YAEjDk7B,EAAamB,2BACfkJ,EAAU9sC,YAAcs4E,GAA2B,KAIvDxpE,EACE,kBAAC,GAAD,CACE2zB,aAAcA,EACdnlB,SAAUs3D,EACV9nC,UAAWA,SA7Dfh+B,EACE,2BACG3kB,EAAKU,EAAE,iEADV,WAGI8rB,EAEE,GADAxsB,EAAKU,EAAE,8DA6DjB,OACE,kBAAC4B,GAAA,EAAD,CACEd,QAAQ,QACR1B,QAAM,EACNyB,OAA6B,OAAtBkpF,QAAsB,IAAtBA,OAAA,EAAAA,EAAwBxwF,OAAQ+F,EAAKU,EAAE,yBAC9C8B,aAAYxC,EAAKU,EAAE,iCACnBX,QAAS,kBAAMm+B,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAO,QAC3Dic,QACE0hB,EACI,GACA,CACE,kBAACzhB,EAAA,EAAD,CACElX,GAAG,wBACHpF,IAAI,OACJ+T,aAAYxC,EAAKU,EAAE,kBACnB2G,QA5FK,WACjB62B,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAO,OAC5CqvC,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAOg7F,MA4F/B7pF,EAAKU,EAAE,gBAKjBikB,MC/LDu7F,GAAQ7+G,IAAO8mF,EAAV,sDACS,SAAAzmF,GAAK,OAAKA,EAAM4vF,oBAAsB,OAAS,UA+IpDnwF,I,SAAAA,yBA5If,YAMI,IALFnB,EAKC,EALDA,KACAu0B,EAIC,EAJDA,KACA4rF,EAGC,EAHDA,eACA3zF,EAEC,EAFDA,SACA4zF,EACC,EADDA,eAEM7uD,EAAMhpD,iBAAO,MACnB,EAAgCtF,oBAAS,GAAzC,mBAAOurF,EAAP,KAAiBC,EAAjB,KACA,EAA0BxrF,qBAA1B,mBAAOyrF,EAAP,KAAcC,EAAd,KACA,EAAoC1rF,mBAAS,WAA7C,mBAAO2rF,EAAP,KAAmBC,EAAnB,KACA,EAAgC5rF,qBAAhC,mBAAOo9G,EAAP,KAAiBC,EAAjB,KACA,EAAgCr9G,qBAAhC,mBAAOs9G,EAAP,KAAiBC,EAAjB,KACMtiF,EAAW5+B,qBAAW+mF,IAC5B,EAAsC/mF,qBAAWgnF,IAAzCiD,EAAR,EAAQA,WAAY/C,EAApB,EAAoBA,cAEdi6B,EACJ,kBAAC,GAAD,CACE5sH,GAAG,gBACHpF,IAAI,MACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CACP/oC,KAAM,iBACNk4F,aAAc94D,EAAKoqB,OAAO9qD,GAC1By5F,aAAc/4D,EAAKrtB,OAAOrT,MAG9Bk7F,aAAc,kBACZqxB,EAAepgH,EAAKU,EAAE,iDAExBwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAIEM,EACe,IAAnBnsF,EAAKoqB,OAAO9qD,GACR,CAAC4sH,GACD,CACEA,EACA,kBAAC,GAAD,CACE5sH,GAAG,YACHpF,IAAI,OACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAO0lC,KAE9Cw6D,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,yBAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEvsH,GAAG,cACHpF,IAAI,SACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,oBAAqBo/B,UAExCw6D,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,2BAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,QAiCV,OAnBA72G,qBAAU,WACc,YAAlBgrB,EAAK61D,UACPyE,EAAc,WAEM,YAAlBt6D,EAAK61D,UACPyE,EAAc,WAEM,WAAlBt6D,EAAK61D,UACPyE,EAAc,aAEf,CAACt6D,EAAK61D,WAET7gF,qBAAU,WACR,IAAMulF,EAAavH,GAAchzD,EAAMiyD,GACvCmI,EAASvH,GAAa0H,IACtBwxB,GAAaxxB,EAAW,GAAGj6D,EAAIi6D,EAAW,GAAGj6D,GAAK,GAClD2rF,GAAa1xB,EAAW,GAAGrjC,EAAIqjC,EAAW,GAAGrjC,GAAK,KACjD,CAACl3B,EAAMiyD,IAGR,kBAAC05B,GAAD,CACErsH,GAAE,eAAU0gC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,IAC1Cy9F,oBAAqB/H,EACrBwF,aAjCyB,WAC3Bx9B,EAAI9nD,QAAQulF,WAAWC,YAAY19B,EAAI9nD,SACvCglF,GAAY,IAgCVS,aA7ByB,WAC3B39B,EAAI9nD,QAAQulF,WAAWG,QAAQ59B,EAAI9nD,SACnCglF,EAAY,OA4BVl9B,IAAKA,GAEL,6BACE69B,KAAK,UACLv7F,GAAE,eAAU0gC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,GAAxC,eACFw7F,QAASb,EAAW,IAAM,IAC1BnH,OAAQO,GAAqBrzD,EAAMiyD,KAErC,0BAAMt7B,EAAGwjC,EAAOY,OAAQV,EAAYW,YAAY,QAChD,6BACE17F,GAAE,eAAU0gC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,GAAxC,YACFk7F,aAAc,kBAAMoxB,EAAe5rF,IACnC26D,aAAc,kBAAMixB,EAAe,OACnC9wB,QAAQ,IACRhI,OAAQO,GAAqBrzD,EAAMiyD,MAEnCh6D,GAAYgiE,GACZ,kBAAC,GAAD,CACE1jF,QAAS41G,EACT5wB,OAAQuwB,EACRtwB,OAAQwwB,Q,sBC3HZ9tB,GAAQpxF,IAAO8mF,EAAV,sEACS,SAAAzmF,GAAK,OAAKA,EAAMi/G,gBAAkB,OAAS,aACnD,SAAAj/G,GAAK,OAAKA,EAAM3U,IAAM,UAAY,aAGxC6lG,GAAevxF,IAAOC,IAAV,kGAGI,SAAAI,GAAK,OACvBA,EAAM6oF,oBAAsB,UAAY,aAGtCq2B,GAAmBv/G,IAAO6jC,EAAV,mJAStB,SAAS27E,GAAT,GAOI,IAAD,QAND7gH,EAMC,EANDA,KACA8d,EAKC,EALDA,KACAgjG,EAIC,EAJDA,YACAt0F,EAGC,EAHDA,SACA4zF,EAEC,EAFDA,eACAW,EACC,EADDA,eAEMxvD,EAAMhpD,iBAAO,MACnB,EAAgCtF,oBAAS,GAAzC,mBAAOurF,EAAP,KAAiBC,EAAjB,KACA,EAAgDxrF,mBAAS,MAAzD,mBAAO0qC,EAAP,KAAyBqzE,EAAzB,KACA,EAAsC/9G,mBAAS,MAA/C,mBAAOg+G,EAAP,KAAoBC,EAApB,KACMhjF,EAAW5+B,qBAAW+mF,IAC5B,EAAgE/mF,qBAC9DgnF,IADMiD,EAAR,EAAQA,WAAYJ,EAApB,EAAoBA,kBAAmB3C,EAAvC,EAAuCA,cAAeyB,EAAtD,EAAsDA,MAGhDk5B,EACJh4B,GAAqBA,EAAkBt1F,KAAOiqB,EAAKjqB,GAK/Co6F,EAAU,uCAAG,sDAAAzmG,EAAA,yDACX8tG,EADW,YACQrN,GACnBm5B,EAAc9rB,EAAan4E,MAAK,SAAAp2B,GAAC,OAAIA,EAAE8M,KAAOiqB,EAAKjqB,MAEtDiqB,EAAK2sE,0BAAN,OACA3sE,QADA,IACAA,GADA,UACAA,EAAMouE,0BADN,iBACA,EAA0Bt5E,sBAD1B,aACA,EAA0CgF,sBAL3B,0BAOK8nG,GAClB5hG,EAAKouE,mBAAmBt5E,eAAegF,sBAR1B,mBAON+nG,EAPM,uBAWkCA,EAAQ18E,WACrDnlB,EAAKouE,mBAAmBt0E,sBAZb,gBAWC6yE,EAXD,EAWL92F,KAGRytH,EAAY32B,uBAAyBA,EAdxB,yDAgBby2B,EAAe,EAAD,IAhBD,kBAiBN,MAjBM,WAuBU,SADrB,OAAJpjG,QAAI,IAAJA,GAAA,UAAAA,EAAMouE,0BAAN,mBAA0Bt5E,sBAA1B,mBAA0CgF,4BAA1C,eACIwrC,oBACJ,OAACtlC,QAAD,IAACA,OAAD,EAACA,EAAMqwE,yBAxBQ,4CA6BHvvF,GAA4B/E,gBACpCikB,EAAKouE,mBAAmBr4F,IA9Bb,iBA4BHoB,EA5BG,EA4BXtB,KAAQsB,QAIVmsH,EAAYjzB,wBAA0Bl5F,EAhCzB,0DAkCb+rH,EAAoB,EAAD,IAlCN,kBAmCN,MAnCM,eAuCjB9iF,EAAS,CACP/oC,KAAM,YACNtG,MAAOymG,IAzCQ,kBA4CV8rB,GA5CU,kEAAH,qDA+CVC,EAAe,uCAAG,4BAAA75H,EAAA,6DACtB44H,EAAe,MACf3xB,GAAY,GAFU,SAGGR,IAHH,QAGhBrE,EAHgB,SAMpB1rD,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAO+6F,IANxB,2CAAH,qDAUf03B,EAAe,uCAAG,4BAAA95H,EAAA,6DACtB44H,EAAe,MACf3xB,GAAY,GAFU,SAGGR,IAHH,QAGhBpE,EAHgB,SAMpB3rD,EAAS,CAAE/oC,KAAM,mBAAoBtG,MAAOg7F,IANxB,2CAAH,qDAsCf03B,EACJ,kBAAC,GAAD,CACE1tH,GAAG,eACHpF,IAAI,UACJ4Y,QAASi6G,EACTvyB,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,4BAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAIEM,EAAiBl0F,EACnB,CAAC+0F,GACD,CACE,kBAAC,GAAD,CACE1tH,GAAG,WACHpF,IAAI,MACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,iBAAkBk4F,aAAcvvE,EAAKjqB,MAExDk7F,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,yBAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAEFmB,EACA,kBAAC,GAAD,CACE1tH,GAAG,YACHpF,IAAI,OACJ4Y,QAASg6G,EACTtyB,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,yBAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEvsH,GAAG,YACHpF,IAAI,OACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,4BAA6B2oB,UAEhDixE,aAAc,kBACZqxB,EAAepgH,EAAKU,EAAE,oCAExBwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,OAEF,kBAAC,GAAD,CACEvsH,GAAG,cACHpF,IAAI,SACJ4Y,QAAS,WACP+4G,EAAe,MACf3xB,GAAY,GACZvwD,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAOivB,KAEhDixE,aAAc,kBAAMqxB,EAAepgH,EAAKU,EAAE,2BAC1CwuF,aAAc,kBAAMkxB,EAAe,QAEnC,kBAAC,KAAD,QAIR,OACE,oCACE,kBAAC,GAAD,CACEvsH,GAAE,eAAUiqB,EAAKjqB,IACjB9G,IAAK+wB,EAAK/wB,IACV4zH,gBAAiBQ,EACjBpyB,aAtGuB,WAC3Bx9B,EAAI9nD,QAAQulF,WAAWC,YAAY19B,EAAI9nD,SACvCglF,GAAY,GACRlF,IACF62B,EACEtiG,EAAKysE,oBACDvqF,EAAKU,EACH,6GAEFV,EAAKU,EAAE,kDAEbogH,EAAYhjG,KA4FVoxE,aAxFuB,WAC3BT,GAAY,GACRlF,GACF62B,EAAe,OAsFb7uD,IAAKA,EACLmgC,UAAS,oBAAelL,EAAc1oE,EAAKjqB,IAAIghC,EAAtC,YAA2C2xD,EAClD1oE,EAAKjqB,IACL43D,EAAI+6B,EAAc,GAAG/6B,EAFd,MAIT,0BACE2jC,KAAK,UACLxhC,OAAQ+jC,GACRC,GAAG,IACHC,GAAG,IACHvC,OACEd,GAAYjF,IAAezrE,EAAKysE,oBAC5B,UACA,UAENgF,YAAY,MACZlpE,MAAOsrE,KAET,iDACE/jC,OAAO,OACD27B,GAAc,CAClBwF,aAAc,kBAAMgyB,EAAejjG,IACnCoxE,aAAc,kBAAM6xB,EAAe,QAJvC,CAME15G,QAAS,YAzGXkiF,GAAezrE,EAAKysE,qBAAwB42B,GAC9CjjF,EAAS,CAAE/oC,KAAM,2BAA4BtG,MAAOivB,KAyGhDuI,MAAM,MACNwO,EAAE,IACF42B,EAAE,MAEF,kBAAC,GAAD,CAAc8+B,oBAAqBzsE,EAAKysE,qBACtC,kBAACq2B,GAAD,CAAkB/sH,GAAE,eAAUiqB,EAAKjqB,GAAf,WACb,OAAJiqB,QAAI,IAAJA,GAAA,UAAAA,EAAM2sE,8BAAN,eAA8BxwF,QAA9B,OACC6jB,QADD,IACCA,GADD,UACCA,EAAMouE,0BADP,iBACC,EAA0Bt5E,sBAD3B,iBACC,EAA0CgF,4BAD3C,aACC,EACI3d,OACJ+F,EAAKU,EAAE,mBAIf,kBAAC,GAAD,CAAwBod,KAAMA,IAC7B0wE,IAAajF,GACZ,kBAAC,GAAD,CACEuG,OAAQ6B,GACR5B,OAAQ4B,GAAoB,EAC5B7mF,QAAS41G,KAIdO,GACC,kBAAC,GAAD,CACEnhH,OAAQmhH,EACRz/G,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAjOuB,kBAAMmhH,EAAe,QAmO3ClhH,EAAKU,EAAE,sDACR,kBAAC,GAAD,CAAaqB,MAAOk/G,KAGvBtzE,GACC,kBAAC,GAAD,CACE7tC,OAAQ6tC,EACRnsC,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QA7O4B,kBAAMihH,EAAoB,QA+OrDhhH,EAAKU,EAAE,6CACR,kBAAC,GAAD,CAAaqB,MAAO4rC,MArQ9BizE,GAAiBl6F,YAAc,mBAoR/Bm6F,GAAe3/G,aAAe,CAC5B4/G,YAAa,cAGA3/G,4BAAW0/G,IC3SpBW,GAAgBngH,IAAOogH,SAAV,oFAAGpgH,CAAH,0BAIbqgH,GAAcrgH,IAAOkqD,IAAV,kFAAGlqD,CAAH,wDAsTFF,6BAhTf,YAA8C,IAAnBnB,EAAkB,EAAlBA,KAAMwsB,EAAY,EAAZA,SAC/B,EAAgCvpB,mBAAS,MAAzC,mBAAOkoB,EAAP,KAAiBw2F,EAAjB,KACA,EAAgC1+G,qBAAhC,mBAAOgwF,EAAP,KAAiBC,EAAjB,KACA,EAAgCjwF,qBAAhC,mBAAOkwF,EAAP,KAAiBC,EAAjB,KACA,EAA4CnwF,mBAAS,KAArD,mBAAOqvF,EAAP,KAAuBe,EAAvB,KACMC,EAAS/qF,iBAAO,MAChBgrF,EAAOhrF,iBAAO,MAEpB,EAQIjJ,qBAAWgnF,IAPb6C,EADF,EACEA,kBACAI,EAFF,EAEEA,WACArB,EAHF,EAGEA,MACA1B,EAJF,EAIEA,cACAyB,EALF,EAKEA,MACA8B,EANF,EAMEA,WACAC,EAPF,EAOEA,UAGI9rD,EAAW5+B,qBAAW+mF,IAuHtBmN,EAAiB,WACrB,IAAW1M,EAAiBz7B,KAC1BA,KAAUioC,EAAO7pF,SAASqU,QADpBm4C,EAGF0wB,EAAsBt7B,KAClBkoC,EAAK9pF,SACZqU,OACA0tC,wBAEGq7B,EAAkBx7B,KACdkoC,EAAK9pF,SACZqU,OACA21E,UAIH,EAAiC/M,GAC/BC,EAH4B2M,EAAO7pF,QAAQ+hD,wBAK3Cq7B,EACAC,GAJF,mBAAOC,EAAP,KAAmBC,EAAnB,KAOA37B,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAU,EAAG3M,GAAY4M,MAAM7M,IAGjDsM,EAA+B,IAAbtM,IAGd2M,EAAUroC,OAEbwoC,YAAY,CAAC,GAAK,IAClBxjC,GAAG,QAzGO,WACX,IAAMyjC,EAAc,CAACzoC,KAASqmC,UAAU78D,EAAGw2B,KAASqmC,UAAUjmC,GAC9DJ,KAAUkoC,EAAK9pF,SAASqjD,KACtB,YADF,oBAEegnC,EAFf,mBAEqCzoC,KAASqmC,UAAUz7B,EAFxD,MAKAo9B,EAAyC,IAAvBhoC,KAASqmC,UAAUz7B,MAoHvC,OAfA1sD,qBAAU,WACR8hD,KAAUioC,EAAO7pF,SAASjG,KAAKkwF,KAC9B,CAACA,IAGJnqF,qBAAU,WACRiqF,MAOC,IAGD,qCACIroE,GAAYgoE,GAAYF,IACxB,kBAAC,GAAD,KACG9nE,GAAY,2BAAIA,GAChBgoE,GAAY,kBAAC,GAAD,CAAkBr1E,KAAMq1E,IACpCF,GAAY,kBAAC,GAAD,CAAkB1+D,KAAM0+D,KAGzC,kBAACyuB,GAAD,CAAa7tH,GAAG,eAAe09D,IAAK+hC,GAClC,8BACE,4BACEzjF,UAAU,gCACVhc,GAAG,oBACH+tH,aAAa,IACbC,YAAY,cACZC,YAAY,IACZC,OAAO,OACPC,KAAK,KACLC,QAAQ,cAER,0BAAM/2D,EAAE,iBAAiBkkC,KAAK,cAGlC,wCACExhC,OAAO,OACP/5D,GAAG,qBACHw7F,QAAQ,IACRhpE,MAAM,QACDkjE,GAAc,CACjB24B,YAAa,SAAAv2H,GAAC,OAhLU,SAAAA,GAChC,IAAMw2H,EAAmB92D,KAAiBA,KAAUkoC,EAAK9pF,SAASqU,QAC5DskG,EAAOz2H,EAAEub,OAAOskD,wBAChB62D,EAAS12H,EAAE22H,QAAUF,EAAKG,KAC1BC,EAAS72H,EAAE82H,QAAUL,EAAKjiH,IAC1BuiH,EAAcl8B,EAAc2C,EAAkBt1F,IAAIghC,EAClD8tF,EACJn8B,EAAc2C,EAAkBt1F,IAAI43D,EAAI+6B,EAAc,GAAG/6B,EACrDm3D,EAASF,EAAc/wB,GACvBkxB,EAASF,EAAchxB,GAAoB,EAEjDtmC,KAAU,2BACPyB,KACC,SAFJ,UAGO81D,EAHP,YAGiBC,EAHjB,YAG2BR,EAASF,EAAiBlsD,EAC/CksD,EAAiBttF,EAAIstF,EAAiBlsD,EAJ5C,YAIiDusD,EAC3CL,EAAiBlsD,EACjBksD,EAAiB12D,EAAI02D,EAAiBlsD,IAEzC6sD,QA6JuBC,CAA0Bp3H,IAC5Cm1H,YAAa,kBACXa,EACE3hH,EAAKU,EACH,4FAGNsiH,WAAY,kBAAMrB,EAAY,OAC9Bt6G,QAAS,kBA5LjBs6G,EAAY,WACZzjF,EAAS,CAAE/oC,KAAM,oBA8Lb,uBAAGtB,GAAG,aAAa09D,IAAKgiC,GACrB/M,GAAiB,CAChB,kBAAC,GAAD,CACE/3F,IAAI,QACJgjG,mBAAoBjlE,EACpBglE,iBAAkBmwB,EAClBn1F,SAAUA,IAEZ07D,EAAM95F,KAAI,SAAAmmC,GACR,OACEiyD,EAAcjyD,EAAKoqB,OAAO9qD,KAC1B2yF,EAAcjyD,EAAKrtB,OAAOrT,IAGxB,kBAAC,GAAD,CACEpF,IAAG,eAAU8lC,EAAKoqB,OAAO9qD,GAAtB,YAA4B0gC,EAAKrtB,OAAOrT,IAC3C0gC,KAAMA,EACN/H,SAAUA,EACV2zF,eAAgB,SAAA8C,GAAW,OAAI/vB,EAAY+vB,IAC3C7C,eAAgB,SAAA8C,GAAW,OAAIvB,EAAYuB,MAI1C,QAETj7B,EAAM75F,KAAI,SAAA0vB,GACR,OAAIA,EAAKjqB,GAAK,GAAK2yF,EAAc1oE,EAAKjqB,MAAQiqB,EAAKitE,UAE/C,kBAAC,GAAD,eACEt8F,IAAG,eAAUqvB,EAAKjqB,IAClBiqB,KAAMA,EACN0O,SAAUA,EACV4zF,eAAgB,SAAA8C,GAAW,OAAIvB,EAAYuB,IAC3CnC,eAAgB,SAAAoC,GAAW,OAAI/vB,EAAY+vB,KACtC55B,GAAc,CACjBu3B,YAAa,kBArPD,SAAAhjG,GAC9B,GAAIA,EAAKjqB,KAAOs1F,EAAkBt1F,GAAI,CACpC,IAAM6uH,EAAcl8B,EAAc2C,EAAkBt1F,IAAIghC,EAClD8tF,EACJn8B,EAAc2C,EAAkBt1F,IAAI43D,EAAI+6B,EAAc,GAAG/6B,EACrD23D,EAAc58B,EAAc1oE,EAAKjqB,IAAIghC,EACrCwuF,EAAc78B,EAAc1oE,EAAKjqB,IAAI43D,EAAI+6B,EAAc,GAAG/6B,EAC1Dm3D,EAASF,EAAc/wB,GACvBkxB,EAASF,EAAchxB,GAAoB,EAC3C2xB,EAAUF,EACVG,EAAUF,EAAc1xB,GAAoB,EAElDtmC,KAAU,2BACPyB,KAAK,SADR,UACqB81D,EADrB,YAC+BC,EAD/B,YACyCS,EADzC,YACoDC,IACjDT,SAuOgCU,CAAwB1lG,OAK5C,SAGVyrE,GACC,kBAACi4B,GAAD,CACE3tH,GAAG,yBACH4vH,UAAU,0BACVn0B,OAAO,UACPo0B,gBAAgB,MAChBn0B,YAAY,QAKpB,0BACGvF,GACC,kBAAC,GAAD,CACEkI,WAAYsB,EACZrB,MApNQ,SAAA9xE,GAChB,IAAMqxE,EAAYrmC,KAAiBA,KAAUioC,EAAO7pF,SAASqU,QAEpDi2E,EAAkBrC,EAArB78D,EAAYm/D,EAAStC,EAAZjmC,EACJq7B,EAAiB4K,EAApBz7B,EAER,OAAQ51C,GACN,IAAK,KACH2zE,GAAQ,GACR,MACF,IAAK,OACHA,GAAQ,GACR,MACF,IAAK,OACHD,GAAQ,GACR,MACF,IAAK,QACHA,GAAQ,GAOZ1oC,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAUI,EAAMC,GAAMJ,MAAM9M,KA2LtCsL,cAvLgB,WACxB,IAAMxL,EAAwB0M,EAAO7pF,QAAQ+hD,wBAC7CH,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KACGsoC,UAAU,EAAG/M,EAAsBh5B,OAAS,EAAI,IAChDgmC,MAAM,IAGXP,EAAkB,MA+KVhB,aA5Ke,SAAAtJ,GACvB,IAKA,EAAiCF,GALHyK,EAAO7pF,QAAQ+hD,wBACfH,KAC5BA,KAAUioC,EAAO7pF,SAASqU,QAM1BirE,GAHF,mBAAOkL,EAAP,KAAmBC,EAAnB,KAMA7oC,KAAUioC,EAAO7pF,SAASjG,KACxBkwF,EAAQhC,UACRrmC,KAAgBsoC,UAAUM,EAAYC,GAAYN,MAAM7K,IAE1DsK,EAA6B,IAAXtK,IA6JVuJ,eAAgBA,IAGnBvI,GAAc,kBAAC,GAAD,W,iKCnUjBh/E,GAAS1J,YAAO0P,KAAV,oFAAG1P,CAAH,kGASNsiH,GAAatiH,IAAOC,IAAV,wFAAGD,CAAH,0FAOVuiH,GAAoBviH,IAAOC,IAAV,+FAAGD,CAAH,kGAuCRF,6BA/Bf,YAAoD,IAAnBnB,EAAkB,EAAlBA,KAAMwsB,EAAY,EAAZA,SAC/B0R,EAAW5+B,qBAAW+mF,IAC5B,OACE,0BACE,kBAACu9B,GAAD,KACE,kBAACD,GAAD,KACGn3F,EACC,2BACGxsB,EAAKU,EAAE,2DAGV,oCACE,2BAAIV,EAAKU,EAAE,iDACX,kBAAC,GAAD,CACE7M,GAAG,mBACH2O,aAAYxC,EAAKU,EAAE,cACnB2G,QAAS,kBACP62B,EAAS,CAAE/oC,KAAM,iBAAkBk4F,aAAc,KAEnD7rF,QAAQ,WAEPxB,EAAKU,EAAE,sB,sIC3BlBorB,GAAQzqB,YAAO25D,MAAV,+EAAG35D,CAAH,8EAOLgzF,GAAehzF,YAAO0J,KAAV,sFAAG1J,CAAH,oJAclBgzF,GAAa3tE,YAAc,eA+IZvlB,I,MAAAA,yBA1If,YAOI,IAAD,IANDnB,EAMC,EANDA,KACAD,EAKC,EALDA,QACAinC,EAIC,EAJDA,OACAkqB,EAGC,EAHDA,SACA2yD,EAEC,EAFDA,kBACAr3F,EACC,EADDA,SAEM0R,EAAW5+B,qBAAW+mF,IAE5B,EAAyC/mF,qBAAWgnF,IAA5C2B,EAAR,EAAQA,MAAO8B,EAAf,EAAeA,WAAYC,EAA3B,EAA2BA,UAErBuK,EAAatM,EAAMl3F,QAAO,SAAChK,EAAG+2B,GAAJ,OAAa/2B,GAAK+2B,EAAKitE,YAAW,GAAK,EAEvE,OACE,yBAAKl3F,GAAG,sBACN,0BACE,kBAACuO,GAAA,EAAD,CACEC,aAAa,KACbP,KAAK,KACLjO,GAAG,oCAEFq9D,EAASj3D,MAEZ,0BACE,6BAAM+F,EAAKU,EAAE,qBACb,kBAAC,GAAD,CAAO7M,GAAG,+BAA+Bk4B,QAAM,GAC5CwoE,GAEH,kBAAC,KAAD,CAAShuF,QAASvG,EAAKU,EAAE,sBAAmB4F,SAAS,UACnD,kBAAC,GAAD,CACE9D,aAAYxC,EAAKU,EAAE,sBACnB7M,GAAG,2BACHyR,SAAUivF,EAAa,GAAKxK,EAC5B3iF,WAA2B,IAAfmtF,EACZltF,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,mBAChCqM,QAAQ,SAER,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CAAS+E,QAASvG,EAAKU,EAAE,qBAAkB4F,SAAS,UAClD,kBAAC,GAAD,CACE9D,aAAYxC,EAAKU,EAAE,qBACnB7M,GAAG,0BACHyR,SAAUivF,EAAa,GAAKvK,EAC5B5iF,WAA2B,IAAfmtF,EACZltF,QAAS,kBAAM62B,EAAS,CAAE/oC,KAAM,kBAChCqM,QAAQ,SAER,kBAAC,KAAD,QAGJ,kBAAC,KAAD,CACE+E,QAASvG,EAAKU,EAAE,+BAChB4F,SAAS,UAET,kBAAC,GAAD,CACE9D,aAAYxC,EAAKU,EAAE,+BACnB7M,GAAG,2BACH2N,QAAQ,QACRR,UAAU,IACVkG,OAAO,SACPC,KAjEZ,qGAmEY,kBAAC,KAAD,SAGH,UAAA+pD,EAASt+C,sBAAT,mBAAyBb,yBAAzB,eAA4Cg1C,QAC3C,kBAAC,KAAD,CAASxgD,QAASvG,EAAKU,EAAE,wBAAqB4F,SAAS,UACrD,kBAAC,GAAD,CACE6sB,SAAU+9B,EACV1uD,aAAYxC,EAAKU,EAAE,0BAElB,gBAAGklD,EAAH,EAAGA,aAAH,OACC,kBAAC,GAAD,CACE/xD,GAAG,oBACH2N,QAAQ,QACR4F,WAAYy8G,GAAoC,IAAftvB,EACjCltF,QAASu+C,GAET,kBAAC,KAAD,YAMRp5B,GACA,oCACE,kBAAC,KAAD,CAASjmB,QAASvG,EAAKU,EAAE,yBAAsB4F,SAAS,UACtD,kBAAC,GAAD,CACEzS,GAAG,wBACH2O,aAAYxC,EAAKU,EAAE,yBACnB0G,WAA2B,IAAfmtF,EACZltF,QAAS,kBACP62B,EAAS,CACP/oC,KAAM,kCACNtG,OAAO,KAGX2S,QAAQ,SAER,kBAAC,KAAD,QAGJ,sBACE3N,GAAG,kBAEH2O,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,UACR6F,QAAS2/B,GAERhnC,EAAKU,EAAE,eAId,kBAACqK,EAAA,EAAD,CACElX,GAAG,mBACH2O,aAAYxC,EAAKU,EAAE,cACnB2G,QAAStH,EACTyB,QAAQ,SAER,kBAAC,KAAD,a,2fCvINsiH,GAAkBziH,IAAOC,IAAV,2IAQfu+C,GAAUx+C,IAAOC,IAAV,uFAMPyiH,GAA2B,WAG3B,IAFJC,EAEG,uDAFoB,GACvBC,EACG,uDAD0B,GAEzBC,EAAW,GAETC,EAAwB,SAAAhG,GAC5B,IAAIC,GAAwB,EAgB5B,OAfA4F,EAAqB31H,SAAQ,SAAA+1H,GAEzBjG,EAAoB3yE,kBAAoB44E,EAAa54E,mBAGjD2yE,EAAoB/yE,WAAag5E,EAAa1rG,OAAO0yB,UACtD+yE,EAAoB/yE,UACnBg5E,EAAa1rG,OAAO0yB,UACpB+yE,EAAoB/yE,WAAag5E,EAAa1rG,OAAO0yB,YAEvDgzE,GAAwB,MAKvBA,GAaT,OAVI6F,EAA2Br1H,OAAS,GACtCq1H,EAA2B51H,SAAQ,SAAAgsD,GAC5B8pE,EAAsB9pE,IACzB6pE,EAAS92G,KAAKitC,MAKpB6pE,EAAWA,EAASvyH,OAAOqyH,IAKvBxvB,GAAkB,uCAAG,WACzB4H,GADyB,iCAAA50G,EAAA,6DAEzBkO,EAFyB,+BAEhB,EACTg2F,EAHyB,+BAGT,GAHS,SAKF7sF,GAAwB41F,UAAU2H,EAAY,CACnE3uG,UAAW,IACXD,KAAMkI,IAPiB,qBAKjB/B,EALiB,EAKjBA,MAICqB,KATgB,yCAUhBw/F,GACL4H,EACA1mG,EAAS,EACTg2F,EAAc/5F,OAAOgC,EAAKsB,WAbL,gCAgBlBy2F,EAAc/5F,OAAOgC,EAAKsB,UAhBR,2CAAH,sDA6fTkM,6BA1ef,YAAyC,IAAD,IAAlB+vD,EAAkB,EAAlBA,SAAUlxD,EAAQ,EAARA,KACxB+E,EAAU8C,cAChB,EAA0Bo2B,qBAAWm3D,GAAiB,CACpDjM,kBAAmB,KACnBC,kBAAmB,KACnBC,cAAe,KACfC,cAAe,KACfC,YAAY,EACZ3kE,aAAc,KACdxY,WAAW,EACXo9E,aAAc,KACdC,WAAY,KACZvB,MAAO,GACPwB,WAAY,EACZlD,cAAe,KACfmD,aAAc,KACdC,WAAY,KACZC,WAAY,KACZ5B,MAAO,GACP6B,yBAAyB,EACzBC,YAAY,EACZC,WAAW,EACXC,yBAAyB,EACzBC,gBAAgB,IArBlB,mBAAO5sD,EAAP,KAAcY,EAAd,KAyBEirD,EAeE7rD,EAfF6rD,kBACAC,EAcE9rD,EAdF8rD,kBACAC,EAaE/rD,EAbF+rD,cACAzkE,EAYE0Y,EAZF1Y,aACAxY,EAWEkxB,EAXFlxB,UACAo9E,EAUElsD,EAVFksD,aACAC,EASEnsD,EATFmsD,WACAvB,EAQE5qD,EARF4qD,MACAyB,EAOErsD,EAPFqsD,aACAC,EAMEtsD,EANFssD,WACAC,EAKEvsD,EALFusD,WACA5B,EAIE3qD,EAJF2qD,MACA6B,EAGExsD,EAHFwsD,wBACAG,EAEE3sD,EAFF2sD,wBACAC,EACE5sD,EADF4sD,eAWIm6B,EAAiB,SAACh6B,EAAUi6B,GAChC,IAAMC,EAAwB,GA+B9B,OA9BAl6B,EAASh8F,SAAQ,SAAAkmC,GACf,OAAQA,EAAK61D,UACX,IAAK,UACHm6B,EAAsBn3G,KACpBxO,GAA4B4lH,qBAC1BF,EAAgB/vF,EAAKoqB,OAAO9qD,IAAIA,GAChCywH,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,KAGpC,MACF,IAAK,UACH0wH,EAAsBn3G,KACpBxO,GAA4B6lH,qBAC1BH,EAAgB/vF,EAAKoqB,OAAO9qD,IAAIA,GAChCywH,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,KAGpC,MACF,IAAK,SACH0wH,EAAsBn3G,KACpBxO,GAA4B8lH,oBAC1BJ,EAAgB/vF,EAAKoqB,OAAO9qD,IAAIA,GAChCywH,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,SAQnC0wH,GAGHI,EAAoB,SAACL,EAAiBM,EAAgBC,GAC1D,IAAMC,EAA2B,GAkDjC,OAjDAr1H,OAAOC,KAAK40H,GAAiBj2H,SAAQ,SAAAI,GACnC,IAAMqvB,EAAOwmG,EAAgB71H,GAC7BqvB,EAAKyuE,cAAcl+F,SAAQ,SAAA02H,GAEtBH,EAAer1H,SAASw1H,IACvBF,EAAQ/mG,EAAKjqB,KACZgxH,EAAQ/mG,EAAKjqB,IAAIkxH,IACkB,YAApCF,EAAQ/mG,EAAKjqB,IAAIkxH,IAEnBD,EAAyB13G,KACvBxO,GAA4BomH,wBAC1BlnG,EAAKjqB,GACLkxH,OAKRjnG,EAAK2uE,cAAcp+F,SAAQ,SAAA42H,GAEtBL,EAAer1H,SAAS01H,IACvBJ,EAAQ/mG,EAAKjqB,KACZgxH,EAAQ/mG,EAAKjqB,IAAIoxH,IACkB,YAApCJ,EAAQ/mG,EAAKjqB,IAAIoxH,IAEnBH,EAAyB13G,KACvBxO,GAA4BsmH,yBAC1BpnG,EAAKjqB,GACLoxH,OAKRnnG,EAAK4uE,aAAar+F,SAAQ,SAAA82H,GAErBP,EAAer1H,SAAS41H,IACvBN,EAAQ/mG,EAAKjqB,KACZgxH,EAAQ/mG,EAAKjqB,IAAIsxH,IACiB,WAAnCN,EAAQ/mG,EAAKjqB,IAAIsxH,IAEnBL,EAAyB13G,KACvBxO,GAA4BwmH,uBAC1BtnG,EAAKjqB,GACLsxH,UAOHL,GAGTv7G,qBAAU,WAAM,4CACd,4BAAA/hB,EAAA,+EAEgCgtG,GAAmBtjC,EAASr9D,IAF5D,OAEU63F,EAFV,OAGIxtD,EAAS,CACP/oC,KAAM,2BACN8yF,MAAOyD,EACP1rF,SANN,gDASIk+B,EAAS,CAAE/oC,KAAM,oBAAqBtG,MAAM,EAAD,KAT/C,yBAWIqvC,EAAS,CAAE/oC,KAAM,iBAAkBtG,OAAO,IAX9C,6EADc,uBAAC,WAAD,wBAed4mD,KACC,CAACyb,EAASr9D,GAAImM,IAGjBuJ,qBAAU,WACR,GAAI0+E,EAAO,CACT,IAAMoN,EAAmB,GAEnBlN,EAAIH,GADcC,EAAMr4F,QAAO,SAAAkuB,GAAI,OAAKA,EAAKitE,aACZ7C,GAEvCC,EAAEF,QAAQ55F,SAAQ,SAAAyvB,GAChBu3E,EAAiBv3E,GAAQqqE,EAAErqE,KAAKA,MAGlCogB,EAAS,CAAE/oC,KAAM,qBAAsBtG,MAAOwmG,OAE/C,CAACnN,EAAOD,IAEX,MAAgEn8E,GAC9DzC,sBAAW,sBAAC,gDAAA7hB,EAAA,6DACJ69H,EAAe,GACfC,EAA2B,GAC3BhB,EAAkB,GAClBM,EAAiB,GACjBW,EAA8B,GAC9BC,EAAiC,GAEjCC,EAA6B,WACjC,IAAMZ,EAAU,GACVx6B,EAAW,GA2CjB,OAzCAnC,EAAM75F,SAAQ,SAAAkmC,GACZ,GAAuB,IAAnBA,EAAKoqB,OAAO9qD,GAAU,CACxB,IAAM6xH,EAAmBpB,EAAgB/vF,EAAKoqB,OAAO9qD,IAAIA,GACnD8xH,EAAmBrB,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,GAKzD,OAJKgxH,EAAQa,KACXb,EAAQa,GAAoB,IAE9Bb,EAAQa,GAAkBC,GAAoBpxF,EAAK61D,SAC3C71D,EAAK61D,UACX,IAAK,UAEAk6B,EAAgB/vF,EAAKoqB,OAAO9qD,IAAI04F,cAAch9F,SAC7C+0H,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,KAGlCw2F,EAASj9E,KAAKmnB,GAEhB,MACF,IAAK,UAEA+vF,EAAgB/vF,EAAKoqB,OAAO9qD,IAAI44F,cAAcl9F,SAC7C+0H,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,KAGlCw2F,EAASj9E,KAAKmnB,GAEhB,MACF,IAAK,SAEA+vF,EAAgB/vF,EAAKoqB,OAAO9qD,IAAI64F,aAAan9F,SAC5C+0H,EAAgB/vF,EAAKrtB,OAAOrT,IAAIA,KAGlCw2F,EAASj9E,KAAKmnB,QAQjB,CAACswF,EAASx6B,IAGnBpC,EAAM55F,SAAQ,SAAAyvB,GAEZ,GAAgB,IAAZA,EAAKjqB,GAAT,CAGA,GAAIiqB,EAAKouE,qBAAuBpuE,EAAKitE,UAAW,CAC9C,MAKIjtE,EAAKouE,mBAJPr4F,EADF,EACEA,GACA04F,EAFF,EAEEA,cACAE,EAHF,EAGEA,cACAC,EAJF,EAIEA,aAEF43B,EAAgBxmG,EAAKjqB,IAAM,CACzBA,KACA04F,gBACAE,gBACAC,gBAGJ,GAAI5uE,EAAKitE,WAAajtE,EAAKouE,mBACzB04B,EAAex3G,KAAK0Q,EAAKouE,mBAAmBr4F,IAC5CwxH,EAAaj4G,KACXxO,GAA4Bo7B,QAAQlc,EAAKouE,mBAAmBr4F,UAEzD,GAAKiqB,EAAKitE,WAAcjtE,EAAKouE,oBAgE7B,GAAIpuE,EAAKkwE,SAAU,CA+BhB,IAAD,IA9BP,GACuC,+BAArClwE,EAAK2sE,uBAAuBt1F,KAIF,sBADxB2oB,EAAKouE,mBAAmBt5E,eAAegF,qBACpCwrC,iBAEHkiE,EAAyBl4G,KACvBzO,GAA6B0iC,OAC3BvjB,EAAKouE,mBAAmBt5E,eAAegF,qBACpC/jB,GACH,CACEoG,KAAM6jB,EAAK2sE,uBAAuBxwF,KAClC6X,YAAagM,EAAK2sE,uBAAuB34E,YACzC9f,QAAS8rB,EAAK2sE,uBAAuBz4F,WAK3CszH,EAAyBl4G,KACvBxO,GAA4BgnH,uBAC1B9nG,EAAKouE,mBAAmBr4F,GACxB,CACEoG,KAAM6jB,EAAK2sE,uBAAuBxwF,KAClC6X,YAAagM,EAAK2sE,uBAAuB34E,YACzC9f,QAAS8rB,EAAK2sE,uBAAuBz4F,gBAM7CqzH,EAAaj4G,KACXxO,GAA4BzQ,QAAQ2vB,EAAKouE,mBAAmBr4F,GAA5D,2BACKiqB,EAAK6sE,cADV,IAEEv3E,WAAW,UAAA0K,EAAK6sE,oBAAL,mBAAmBv3E,iBAAnB,eAA8Bvf,KAAM,KAC/C+jB,qBAAsBkG,EAAK2sE,uBAAuB52F,MACjDwxF,MAAK,WAAO,IAAD,MACZ,EAGIjkB,GACF2iD,GAAwB,OACtBjmG,QADsB,IACtBA,OADsB,EACtBA,EAAMqwE,wBADgB,UAEtBrwE,EAAKw6B,oBAFiB,iBAEtB,EAAmB8B,gBAFG,aAEtB,EAA6BvkC,aAHX,UAKpBiI,EAAK6sE,oBALe,aAKpB,EAAmB90E,aAPZooF,EADT,EACE38B,MACS48B,EAFX,EAEE38B,QASE08B,EAAiBrvG,OAAS,GAC5BqvG,EAAiB5vG,SAAQ,SAAAoxD,GACvB8lE,EAA4Bn4G,KAC1BxO,GAA4Bi5G,qBAC1B/5F,EAAKouE,mBAAmBr4F,GACxB4rD,EAAK5rD,SAKS,OAAlBqqG,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBtvG,QAAS,GAC/BsvG,EAAmB7vG,SAAQ,SAAAoxD,GAAI,OAC7B+lE,EAA+Bp4G,KAC7BxO,GAA4B+4G,wBAC1B75F,EAAKouE,mBAAmBr4F,GACxB4rD,EAAK5rD,iBAhImC,CA2B9C,IAAD,IA1BP,GACuC,+BAArCiqB,EAAK2sE,uBAAuBt1F,KAE5BkwH,EAAaj4G,KACXvO,GAAwBgsF,WAAW35B,EAASr9D,GAAI,IAAIwxF,MAClD,YAAe,IAAZ1xF,EAAW,EAAXA,KACDmqB,EAAKouE,mBAAqBv4F,EAC1B2wH,EAAgBxmG,EAAKjqB,IAAM,CACzBA,GAAIF,EAAKE,GACT04F,cAAe,GACfE,cAAe,GACfC,aAAc,IAEhB44B,EAAyBl4G,KACvBxO,GAA4BgnH,uBAC1BjyH,EAAKE,GACL,CACEoG,KAAM6jB,EAAK2sE,uBAAuBxwF,KAClC6X,YAAagM,EAAK2sE,uBAAuB34E,YACzC9f,QAAS8rB,EAAK2sE,uBAAuBz4F,oBAQjDqzH,EAAaj4G,KACXvO,GAAwBgsF,WAAW35B,EAASr9D,GAA5C,2BACKiqB,EAAK6sE,cADV,IAEEv3E,WAAW,UAAA0K,EAAK6sE,oBAAL,mBAAmBv3E,iBAAnB,eAA8Bvf,KAAM,KAC/C+jB,qBAAsBkG,EAAK2sE,uBAAuB52F,MACjDwxF,MAAK,YAAe,IAAD,QAAX1xF,EAAW,EAAXA,KACTmqB,EAAKouE,mBAAqBv4F,EAC1B2wH,EAAgBxmG,EAAKjqB,IAAM,CACzBA,GAAIF,EAAKE,GACT04F,cAAe,GACfE,cAAe,GACfC,aAAc,KAEZ,UAAA5uE,EAAK6sE,oBAAL,mBAAmBuT,0BAAnB,eAAuCtvG,QAAS,GAClDkvB,EAAK6sE,aAAauT,mBAAmB7vG,SAAQ,SAAAoxD,GAC3C+lE,EAA+Bp4G,KAC7BxO,GAA4B+4G,wBAC1BhkH,EAAKE,GACL4rD,EAAK5rD,SAKT,UAAAiqB,EAAK6sE,oBAAL,mBAAmBsT,wBAAnB,eAAqCrvG,QAAS,GAChDkvB,EAAK6sE,aAAasT,iBAAiB5vG,SAAQ,SAAAoxD,GACzC8lE,EAA4Bn4G,KAC1BxO,GAA4Bi5G,qBAC1BlkH,EAAKE,GACL4rD,EAAK5rD,iBAxIb,UA2NJ+B,QAAQmU,IAAIs7G,GA3NR,yBA8NJzvH,QAAQmU,IAAIu7G,GA9NR,iBA+NkBG,EAA2BnB,GA/N7C,mBA+NHO,EA/NG,KA+NMx6B,EA/NN,eAgOJz0F,QAAQmU,IACZ46G,EAAkBL,EAAiBM,EAAgBC,IAjO3C,yBAmOJjvH,QAAQmU,IAAIs6G,EAAeh6B,EAAUi6B,IAnOjC,yBAqOJ1uH,QAAQmU,IAAIy7G,GArOR,yBAsOJ5vH,QAAQmU,IAAIw7G,GAtOR,QAwOVxgH,EAAQqI,KAAR,2CAAiD8jD,EAASr9D,GAA1D,aAxOU,4CAyOT,CAACq0F,EAAOD,EAAOljF,EAASmsD,EAASr9D,KACpC,IA3OagyH,EAAf,EAAQ9jH,MAAqC+jH,EAA7C,EAAoCv5G,QA8OpC,EAGIE,GAAoBo5G,GAFfE,EADT,EACEhkH,MACcikH,EAFhB,EAEEp5G,aAGF,GAAIR,EACF,OACE,kBAAC03G,GAAD,KACE,kBAAC,GAAD,OAKN,GAAIl/F,EACF,OACE,kBAACk/F,GAAD,KACE,kBAAC,GAAD,CAAc/hH,MAAO6iB,KAK3B,IAAM4H,IAAW,OAAC0kC,QAAD,IAACA,GAAD,UAACA,EAAUt+C,sBAAX,iBAAC,EAA0Bb,yBAA3B,aAAC,EAA6C6nB,MAE/D,OACE,kBAAC0sD,GAAqBnnF,SAAtB,CAA+BtQ,MAAOyuC,GACpC,kBAAC+oD,GAAwBlnF,SAAzB,CAAkCtQ,MAAOqvC,GACvC,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEn+B,QA5YoB,WACxBmqF,EACFhsD,EAAS,CAAE/oC,KAAM,iCAEjB4P,EAAQqI,KAAR,2CAAiD8jD,EAASr9D,GAA1D,cAyYMmzC,OAAQ,kBAAM8+E,EAAe79B,IAC7B47B,kBAAmB35B,EACnBh5B,SAAUA,EACV1kC,SAAUA,IAEX07D,EAAMt5F,OAAS,EACd,kBAAC,GAAD,CAAiB49B,SAAUA,IAE3B,kBAAC,GAAD,CAAuBA,SAAUA,KAGpCm9D,GAAgB,kBAAC,GAAD,MAChBH,GAAgB,kBAAC,GAAD,MAChBC,GAAc,kBAAC,GAAD,MACdN,GAAqBC,GAAqB,kBAAC,GAAD,MAC1CC,GAAiB,kBAAC,GAAD,MACjBO,GAAc,kBAAC,GAAD,MACdK,GACC,kBAAC,GAAD,CACE+xB,OAAQ,kBACNj3G,EAAQqI,KAAR,2CACsC8jD,EAASr9D,GAD/C,cAIFkoH,cAAe,kBAAM+J,EAAe79B,MAGvC6B,GAA2B,kBAAC,GAAD,MAC3BD,GAAc,kBAAC,GAAD,CAAer9D,SAAUA,IACvCu5F,GACC,kBAAC,GAAD,CACEjmH,QAAM,EACN0B,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASimH,GAERhmH,EAAKU,EAAE,gDACR,kBAAC,GAAD,CAAaqB,MAAOgkH,UC1TjB5kH,6BApPf,YAAuD,IAAD,IAAvBnB,EAAuB,EAAvBA,KAAMgjC,EAAiB,EAAjBA,cAC7B/9B,EAAW6C,cACX4vB,EAAQmC,cACFuiE,EAAeh7D,cAAnBvtC,GACR,EAAoBwL,KAAZ2K,UAAR,MAAa,GAAb,EAEA,EAKI8B,GACFzC,sBAAW,sBAAC,0CAAA7hB,EAAA,sEACuCoO,QAAQmU,IAAI,CAC3DlL,GAAwBokC,WAAWm5D,GACnCv9F,GAAwBonH,+BAA+B7pB,GACvDv+F,GAAiBnJ,KAAK,CACpBjH,UAAW,EACXonE,WAAY,8BANN,sCACDlhE,EADC,KACDA,KAAQmX,EADP,KACgBorE,EADhB,MAUNprE,EAAQnX,KAAKmX,QAAQs7F,IAVf,qBAWJzyG,EAAK+tD,mBAAL,OAAwB/tD,QAAxB,IAAwBA,GAAxB,UAAwBA,EAAMgf,eAA9B,aAAwB,EAAe8uC,aAXnC,kCAcI5iD,GAAwB/E,eAAesiG,GAd3C,iBAaI36C,EAbJ,EAaJ9tD,KAAQ8tD,YAGV9tD,EAAK8tD,YAAcA,EAhBb,eAmBVze,EAAcrvC,GAnBJ,kBAqBH,CACLu9D,SAAUv9D,EACVwiF,aAAcD,EAAcviF,KAAKsB,QAAQrG,OAAS,IAvB1C,4CAyBT,CAACo0C,EAAeo5D,IACnB,CAAEjmB,cAAc,EAAOjlB,SAAU,OAhCnC,IACEjlD,OAAUkqE,EADZ,EACYA,aAAcjlB,EAD1B,EAC0BA,SACbg1D,EAFb,EAEE95G,UACO+5G,EAHT,EAGEpkH,MACSg5G,EAJX,EAIExuG,QA8BFhD,qBAAU,WACRwxG,MACC,CAACA,EAAsB91G,EAASC,WAEnC,IAIMgqE,EAAsB7lE,uBAAY,WACtC,OAAOxK,GAAwBy3E,oBAAoB8lB,KAClD,CAACA,IAEEntB,EAAgB5lE,uBACpB,SAAApb,GACE,OAAO4Q,GAAwBw3E,cAAc+lB,EAAYnuG,KAE3D,CAACmuG,IAGGgD,EAAyBp1F,EAAGuI,mBAAqB4jE,EACjD6kC,GACI,OAAR9pD,QAAQ,IAARA,GAAA,UAAAA,EAAUt+C,sBAAV,eAA0Bb,kBAAkB6nB,QAA5C,OACAs3B,QADA,IACAA,GADA,UACAA,EAAUt+C,sBADV,aACA,EAA0Bb,kBAAkBje,QAExCyuC,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,2BAGZ6zB,KAAK,aACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAChC,CAAE/J,KAAM+F,EAAKU,EAAE,eAAY6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAG7Bo7F,GACF78D,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,oBAIJktD,GACF3uB,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,qBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,gBAIRu+B,EAAUn1B,KACR,CACEnT,KAAM+F,EAAKU,EAAE,2BACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,gBAEN,CACE/J,KAAM+F,EAAKU,EAAE,uBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,oBAEN,CACE/J,KAAM+gH,EAAsBh7G,EAAKU,EAAE,eAAaV,EAAKU,EAAE,oBACvD6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,aAIRu+B,EAAUl0C,SAAQ,SAACq0C,EAAK37C,GACtB27C,EAAI7uC,GAAK9M,KAGX,IAAI2uD,GAAiB,GAGnBzwC,EAASC,SAAS86B,SAAS,SAC3B/6B,EAASC,SAAS3V,SAAS,iBAE3BmmD,GAAiB,GAGnB,IAAM9wB,EAAeuhG,EAErB,OAAID,EACK,kBAAC,GAAD,OAEJA,GAA8BthG,EAE/B,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GACe,MAAjCA,EAAa5xB,SAASiR,QACrB,8BACGjE,EAAKU,EAAE,4BAAyB,IACjC,kBAAC,IAAD,CAAM6E,GAAG,cAAcvF,EAAKU,EAAE,iCAU1C,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,+BACL79B,GAAG,uCACH0R,OAAK,IAENi6C,GACC,kBAAC,IAAD,CAAOziE,IAAI,UAAUmW,KAAK,wCACxB,kBAAC,GAAD,CAA2BssD,SAAUA,KAGxCA,GACC,kBAAC,IAAD,CAAOziE,IAAI,OAAOmW,KAAK,qCACrB,kBAAC,GAAD,CAAyBssD,SAAUA,KAGtCA,GACC,kBAAC,IAAD,CAAOziE,IAAI,SAASmW,KAAK,uCACvB,kBAAC,GAAD,CACEuuB,SAAU+9B,EACV7mB,SAAUxrC,MAIfqyD,GACC,kBAAC,IAAD,CACEziE,IAAI,YACJmW,KAAK,0CAEL,kBAAC,GAAD,CACEiqE,eArIS,SAAAl7E,GACrB,OAAOkL,GAAwBgwE,eAAeutB,EAAYzoG,IAqI9CqvC,cAAeA,EACf0rC,mBAAoBxd,EACpB+d,cAAeA,EACfC,oBAAqBA,KAI1BkwB,GACC,kBAAC,IAAD,CAAOx6F,KAAK,8CACV,kBAAC,GAAD,CACE/Q,GAAI3I,OAAOkxG,GACX5oB,uBAAwB2C,EACxB9rC,SAAUxrC,GACVm1E,qBAAmB,KAIxB9iB,GACC,kBAAC,IAAD,CACEziE,IAAI,kBACJmW,KAAK,mDAEL,kBAAC,GAAD,KACE,kBAACwhH,GAAD,KACE,kBAAC,GAAD,CAAYl1D,SAAUA,QAKrB,OAARA,QAAQ,IAARA,OAAA,EAAAA,EAAUr9D,KACT,kBAAC,IAAD,CAAO+Q,KAAK,+CACV,kBAAC,GAAD,CACErX,cAAe,CACb84H,oCAAqCn1D,EAASr9D,OAKrDq9D,GACC,kBAAC,IAAD,CAAOtsD,KAAK,uCACV,kBAAC,GAAD,CACEssD,SAAUA,EACV9a,QAAS4kE,MAIbkL,GACA,kBAAC,IAAD,CAAOz3H,IAAI,YAAYmW,KAAK,KAC1B,kBAAC,GAAD,CAAcwG,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CACE0R,GAAE,qBAAgBmyB,EAAMzpC,OAAOylH,aAA7B,YAA6Ch8E,EAAMzpC,OAAO4F,GAA1D,aAEDmM,EAAKU,EAAE,uC,sHCzKb4lH,OAtFf,WACE,MAA8CrjH,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAFQ,4CAIxB,WAA4B5P,GAA5B,+BAAAzQ,EAAA,6DAEIsuB,EAQE7d,EARF6d,OACA6+C,EAOE18D,EAPF08D,eAOE18D,EANFylG,sBACA7nF,EAKE5d,EALF4d,YACAmsC,EAIE/pD,EAJF+pD,mBAIE/pD,EAHFwpD,YAGExpD,EAFF++G,YACGviE,EATP,YAUMx8C,EAVN,IAYEu2E,EAAmB,MACnB/5B,EAAgBjhC,QAAUihC,EAAgBjhC,QAAQ3f,GAClD4gD,EAAgBuN,mBAAhB,OAAqCA,QAArC,IAAqCA,OAArC,EAAqCA,EAAoBnuD,GAd3D,kBAkBc0J,GAAgB5K,OAAO8hD,GAlBrC,2BAiBM9gD,KAAQE,EAjBd,EAiBcA,GAAIsB,EAjBlB,EAiBkBA,KAjBlB,UAmBUS,QAAQmU,IAAI,CAChBstG,EAAaxjH,EAAIiiB,EAAQ7d,EAAOub,QAAQZ,eAAe1Y,aAAarG,IACpEyjH,EAAqBzjH,EAAI8gE,GACzB4iD,EAAkB1jH,EAAIgiB,KAtB5B,QAwBI9Q,EAAQqI,KAAR,qBAA2BjY,EAA3B,YAAmCtB,EAAnC,aAxBJ,kDA0BI26E,EAAmB,EAAD,IA1BtB,2DAJwB,+BAkCT6oC,EAlCS,8EAkCxB,WAA4Bjb,GAA5B,mCAAA50G,EAAA,yDAAwCsuB,EAAxC,+BAAiD,GAAI9b,EAArD,iEAKgB6D,GAAiBnJ,OALjC,gBAIgBO,EAJhB,EAIQtB,KAAQsB,QAEV+E,EAAQ/E,EAAQ,GAAGpB,GANzB,4EAWQ4jH,EAAsB3hG,EAAO1nB,KAAI,SAAA2L,GAAK,OAC1CwD,GAAgB5D,eAAeyiG,EAAYriG,EAAOC,MAZtD,kBAeSpE,QAAQmU,IAAR,YAAgB0tG,KAfzB,2DAlCwB,sBAoDxB,SAASH,EAAqBlb,GAA+B,IAAnBmqB,EAAkB,uDAAJ,GAChDtkD,EAAoBskD,EAAYn4H,KAAI,SAAA2I,GAAK,OAC7CwG,GAAgB2kE,uBAAuBk6B,EAAYrlG,EAAMlD,OAE3D,OAAO+B,QAAQmU,IAAIk4D,GAGrB,SAASs1C,EAAkBnb,GAA+B,IAAnBvmF,EAAkB,uDAAJ,GAC7CgiG,EAAuBhiG,EAAYznB,KAAI,SAAAqxD,GAAI,OAC/CliD,GAAgBs6G,qBAAqBzb,EAAY38C,EAAK5rD,OAExD,OAAO+B,QAAQmU,IAAI8tG,GAOrB,OACE,kBAAChsG,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEuxC,aATV,WACEnvC,EAAQqI,KAAR,eASQ2B,aA5Ec,4CA6EdkxB,YAAasuC,EACbwmC,0BAAwB,Q,4ECXrByR,OAjEf,WACE,IAAMzhH,EAAU8C,cAChB,EAA8C5E,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KAEMz/D,EAAY,uCAAG,WAAM9W,GAAN,+BAAAzQ,EAAA,6DAEjBsuB,EAME7d,EANF6d,OACA1C,EAKEnb,EALFmb,UACAlZ,EAIEjC,EAJFiC,aACA8nD,EAGE/pD,EAHF+pD,mBAGE/pD,EAFFwpD,aACGm6D,EAPc,YAQf3jH,EARe,KASHmb,UAAhB,OAA4BA,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAWvf,GACvC+nH,EAAgB1hH,aAAhB,OAA+BA,QAA/B,IAA+BA,OAA/B,EAA+BA,EAAcrG,GAC7C+nH,EAAgB55D,mBAAhB,OAAqCA,QAArC,IAAqCA,OAArC,EAAqCA,EAAoBnuD,GACnDwiE,GACQ,OAAZn8D,QAAY,IAAZA,OAAA,EAAAA,EAAcrG,MAAd,OAAoBuf,QAApB,IAAoBA,GAApB,UAAoBA,EAAWR,sBAA/B,aAAoB,EAA2B1Y,aAAarG,IAb3C,kBAiBPgL,GAAwBlM,OAAOipH,GAjBxB,uBAgBP/nH,EAhBO,EAgBfF,KAAQE,GAhBO,KAkBX+B,QAlBW,UAkBOyhH,EAAaxjH,EAAIiiB,EAAQugD,GAlBhC,0CAkBHtsD,IAlBG,wBAmBjBhF,EAAQqI,KAAR,2CAAiDvZ,EAAjD,gBAnBiB,kDAqBjB26E,EAAmB,EAAD,IArBD,0DAAH,sDAyBZ6oC,EAAY,uCAAG,WAAOjb,GAAP,mCAAA50G,EAAA,yDAAmBsuB,EAAnB,+BAA4B,GAAIugD,EAAhC,iEAKLx4D,GAAiBnJ,OALZ,gBAILO,EAJK,EAIbtB,KAAQsB,QAEVohE,EAAiBphE,EAAQ,GAAGpB,GANb,4EAWbouE,EAAoBnsD,EAAO1nB,KAAI,SAAA2L,GAAK,OACxC8E,GAAwBlF,eAAeyiG,EAAYriG,EAAOs8D,MAZzC,8BAcR4L,IAdQ,0DAAH,sDAqBlB,OACE,kBAACp2D,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEuxC,aATW,WACnBnvC,EAAQqI,KAAR,eASQ2B,aAAcA,EACdkxB,YAAasuC,QC2BVptE,4BAAWuE,aAhF1B,YAA8B,IAAT1F,EAAQ,EAARA,KACb45E,EAAmBrxE,iBAAO,CAC9B,aAAcvI,EAAKU,EAAE,kBACrB,8BAA+BV,EAAKU,EAAE,gCACtC,uCAAwCV,EAAKU,EAC3C,uCAGJ,EAA4CuC,mBAC1C22E,EAAiBnwE,SADnB,mBAAO85B,EAAP,KAAyBs2C,EAAzB,KAIA,EAAgC52E,qBAAhC,mBAAOulE,EAAP,KAAiBmG,EAAjB,KACA,EAAgC1rE,qBAAhC,mBAAOiuD,EAAP,KAAiBu1D,EAAjB,KAEMjiF,EAAsBn7B,uBAC1B,SAACq9G,EAAgBxsC,GAAoB,IAAD,EAOlC,GANIwsC,GAAkBA,EAAezsH,QAAf,OAAwBi3D,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAUj3D,OACtDwsH,EAAYC,GAEVxsC,GAAkBA,EAAejgF,QAAf,OAAwBuuE,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAUvuE,OACtD00E,EAAYuL,GAEThpB,EAAL,CACA,IAAMy1D,EAAY,qBAAiBz1D,EAAS/7D,KAA1B,YAAkC+7D,EAASr9D,IACvD+yH,EAAa,UAAMD,EAAN,cACbE,EAAU,UAAMF,EAAN,WAChB9sC,EAAgB,2BACXD,EAAiBnwE,SADP,wBAEZk9G,EAFY,UAEMz1D,EAASj3D,OAFf,yBAGT0sH,EAHS,YAGgB3mH,EAAKU,EAAE,iBAHvB,yBAITimH,EAJS,SAIa3mH,EAAKU,EAAE,sBAJpB,yBAKTimH,EALS,WAKe3mH,EAAKU,EAAE,gBALtB,yBAMTimH,EANS,kBAMsB3mH,EAAKU,EAAE,uBAN7B,yBAOTimH,EAPS,mBAOuB3mH,EAAKU,EAAE,wBAP9B,eAQZmmH,EAAa7mH,EAAKU,EAAE,gBARR,yBASTmmH,EATS,QASU7mH,EAAKU,EAAE,sBATjB,yBAUTmmH,EAVS,SAUW7mH,EAAKU,EAAE,uBAVlB,eAWZkmH,EAAgB5mH,EAAKU,EAAE,sBAXX,yBAYTkmH,EAZS,QAYa5mH,EAAKU,EAAE,6BAZpB,yBAaTkmH,EAbS,mBAaQp+C,QAbR,IAaQA,OAbR,EAaQA,EAAU30E,IAblB,iBAa4B20E,QAb5B,IAa4BA,OAb5B,EAa4BA,EAAUvuE,OAbtC,yBAcT2sH,EAdS,mBAcQp+C,QAdR,IAcQA,OAdR,EAcQA,EAAU30E,GAdlB,YAciCmM,EAAKU,EACjD,0BAfW,yBAiBTkmH,EAjBS,mBAiBQp+C,QAjBR,IAiBQA,OAjBR,EAiBQA,EAAU30E,GAjBlB,SAiB8BmM,EAAKU,EAAE,uBAjBrC,QAoBjB,CAACV,EAAMkxD,EAAUsX,IAGnB,OACE,oCACE,kBAAC,GAAD,CACE1kC,WAAW,gEACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAK,+BACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,wCACV,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAK,+BACV,kBAAC,GAAD,CAAUo+B,cAAewB,KAE3B,kBAAC,IAAD,CAAO5/B,KAAK,wCACV,kBAAC,GAAD,CAAqBo+B,cAAewB,KAEtC,kBAAC,IAAD,CAAO5/B,KAAK,cACV,kBAACiH,GAAA,EAAD,KACE,kBAAC,GAAD,cC9DZ,SAASi7G,GAAT,GAAwE,IAGlEC,EAHkBp7F,EAA+C,EAA/CA,KAAM8N,EAAyC,EAAzCA,WAAY5yB,EAA6B,EAA7BA,SAAU6yB,EAAmB,EAAnBA,UAAW15B,EAAQ,EAARA,KACvD80B,EAAO,uBAAmBnJ,EAAK93B,IAInCkzH,EADEp7F,EAAKrZ,aACKtS,EAAKU,EAAE,6BACVirB,EAAKpZ,kBACFvS,EAAKU,EAAE,uBAEPV,EAAKU,EAAE,oBAGrB,IAAMsmH,EAAWr7F,EAAKjZ,QAChBu0G,EAAiBt7F,EAAKu7F,KAAKt4H,OAAS,EAE1C,OACE,kBAACqoC,GAAA,EAAD,CAAcxoC,IAAKk9B,EAAK93B,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAK83B,EAAK93B,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,sBAAiB83B,EAAK93B,IACxBirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,WAAW+T,aAAYxC,EAAKU,EAAE,kBAC9C,0BAAM7M,GAAIihC,GACR,kBAAC,IAAD,CAAMvvB,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAInJ,EAAKtwB,YAGZ2rH,GACC,0BACE,kBAAC,KAAD,CAAOxkH,aAAYxC,EAAKU,EAAE,mBACvBV,EAAKU,EAAE,eAIbumH,GACC,0BACE,kBAAC,KAAD,CAAOzkH,aAAYxC,EAAKU,EAAE,sBACvBV,EAAKU,EAAE,kBAKhB,kBAAC,GAAD,CACEjS,IAAI,aACJ+T,aAAYxC,EAAKU,EAAE,yBAElBirB,EAAKvZ,YACJ,kBAAC,WAAD,KACE,0BAA6BpS,EAAKU,EAAE,oBACnCirB,EAAKvZ,aAIZ,kBAAC,GAAD,CACE3jB,IAAI,YACJ+T,aAAYxC,EAAKU,EAAE,wBAElBirB,EAAKtZ,WACJ,kBAAC,WAAD,KACE,0BAA6BrS,EAAKU,EAAE,mBACnCirB,EAAKtZ,YAIZ,kBAAC,GAAD,CAAc5jB,IAAI,YAAY+T,aAAYxC,EAAKU,EAAE,mBAC9CqmH,MAIP,kBAAC1tF,GAAA,EAAD,CACE72B,aAAW,UACXC,kBAAiBqyB,EACjBjhC,GAAIihC,GAEHnJ,EAAK/Y,eAAeb,kBAAkB6nB,MACrC,kBAAC,KAAD,CAASrzB,QAASvG,EAAKU,EAAE,iCAAU4F,SAAS,OAC1C,kBAACyE,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,iCACnBc,QAAQ,QACRR,UAAW43B,IACXrzB,GAAE,iBAAYomB,EAAK93B,GAAjB,UAEF,kBAAC,KAAD,WAUhBizH,GAAaxjH,UAAY,CACvBqoB,KAAMphC,GAAKsnB,WACX6nB,UAAWhoB,UAAOG,WAClB4nB,WAAYxnB,QAAKJ,WACjBhL,SAAU/U,QAAK+f,YAGF1Q,4BAAW2lH,I,4eC5GpBjxF,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,aAoLGyT,6BAjLf,YAA6B,IAATnB,EAAQ,EAARA,KACZiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAWI/tB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDtL,GAAS/J,KAAKzG,GACdwQ,GAASq3B,gBAJD,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL2mE,MAAO1pG,EAASW,KAAKsB,QACrByrB,UAAW1tB,EAASW,KAAKoiB,MACzBjL,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAf/C,2CAiBT,CAACjxB,IACJ,CACEy3F,MAAO,GACPh8E,UAAW,EACX5V,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAnCpB,IACEvN,OACEywF,EAFJ,EAEIA,MACAh8E,EAHJ,EAGIA,UACA5V,EAJJ,EAIIA,QACA2O,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACS+6G,EAVX,EAUE56G,QA6BFhD,qBAAU,WACR49G,MACC,CAACA,IAEJ,MAA+DruF,GAC7D4jE,GADM1jE,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAAS5qC,KAAI,SAAAu9B,GAAI,OAAIltB,GAASu7B,QAAQrO,EAAK93B,UAC7D,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYm6G,IAXHl8E,EADb,EACE7+B,UACag7G,EAFf,EAEEl6G,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAYI+5G,EAAgB,uCAAG,sBAAA7/H,EAAA,sEACjB4/H,IADiB,OAEvBnuF,EAAY,IAFW,2CAAH,qDAKhBpU,EAAoBomB,GAAmB7+B,EACvCguB,EAAStvB,GAAWA,EAAQuvB,KAElC,OACE,oCACE,kBAACxuB,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBAAmBA,EACnBl6B,MAAO+xG,EACPh8E,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,sBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,yBAEP,CACEwL,KAAM+F,EAAKU,EAAE,kBACbjS,IAAK,yBAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,iBACbjS,IAAK,YAEP,CACEwL,KAAM+F,EAAKU,EAAE,mBACbjS,IAAK,cAEP,CACEwL,KAAM+F,EAAKU,EAAE,kBACbjS,IAAK,cAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOijE,GAAS,KAExC5vF,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,MACJgqC,OAAM,UAAKf,EAAM1zB,IAAX,WAGV,IARY,CAShB,kBAAC,GAAD,CACEvV,IAAI,SACJspC,SAAUsvF,EACVvvF,cAAekB,EACf7T,mBAAmB,gBAK3BoS,WAAY,SAAA8hB,GAAC,OACX,kBAAC,GAAD,CACE5qD,IAAK4qD,EAAExlD,GACP83B,KAAM0tB,EACN3f,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkBq1C,EAAExlD,GAApB,YACT4lC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOwlD,EAAExlD,MAC9CgT,SAAU,kBAAMqyB,EAAamgB,OAGjCp2B,mBACEmX,EACE,kBAAC,GAAD,CAAkB3rC,IAAI,MAAMgqC,OAAM,UAAKf,EAAM1zB,IAAX,UAChC,SAKXqJ,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,4CACR,kBAAC,GAAD,CAAaqB,MAAOsL,S,wBClL9B,SAASi6G,GAAT,GAAyC,IAAD,EAAd37F,EAAc,EAAdA,KAAM3rB,EAAQ,EAARA,KAC9B,EAAwCiD,mBAAS,MAAjD,mBAAO/I,EAAP,KAAqBm2G,EAArB,KACQlgG,EAAkB2hB,eAAlB3hB,cAEF62G,EAAWr7F,EAAKjZ,QAChBu0G,GAAiB,UAAAt7F,EAAKu7F,YAAL,eAAWt4H,QAAS,EACrC24H,EAAkB57F,EAAK67F,iBAEvBC,EAAkB,CACtB,CACE54H,MAAO,SACPJ,IAAK,SACLsL,MAAOiG,EAAKU,EAAE,oBACd0G,YAAY,GAEd,CACEvY,MAAO,UACPJ,IAAK,UACLsL,MAAOiG,EAAKU,EAAE,uBACd0G,YAAY,GAEd,CACEvY,MAAO,gBACPJ,IAAK,gBACLsL,MAAOiG,EAAKU,EAAE,6BACd0G,YAAY,IAIhB,EAAkDimB,aAAS,CACzDpzB,KAAM,eACNmzB,SAAWzB,EAAK93B,GAEZ,aADAukB,GAASpY,EAAKU,EAAE,sCAAmCV,KAHzD,mBAASs/B,EAAT,KAA2BC,EAA3B,KAOA,EAAsClS,aAAS,aAA/C,mBAAOq6F,EAAP,KAAsBC,EAAtB,KAEM7nF,EAAuBz2B,uBAC3B,SAAAxa,GACEshB,EAAc,eAAgBthB,EAAMgF,IACpCw8G,EAAgBxhH,KAElB,CAACshB,IAGH,OACE,oCACE,kBAAC,GAAD,CACEtc,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,WACL9E,KAAK,OACLi4B,SACG45F,GAAaO,EAAyC,aAAvBnvG,GAAS,KAAMpY,GAEjD6R,YAAam1G,IAAaO,IAE5B,kBAAC,GAAD,CACE1zH,GAAG,aACHkG,MAAOiG,EAAKU,EAAE,cACdzG,KAAK,QACLmzB,SAAUsN,GAAc16B,GACxB6R,YAAU,KAEVm1G,KAAcC,GAAkBM,IAChC,oCACE,kBAAC,GAAD,CACE1zH,GAAG,gBACHkG,MAAOiG,EAAKU,EAAE,iBACdzG,KAAK,WACLmzB,SACGzB,EAAK93B,GAEF,aADAukB,GAASpY,EAAKU,EAAE,qCAAkCV,GAGxD6R,YAAa8Z,EAAK93B,KAEpB,kBAAC,GAAD,CACEA,GAAG,wBACHkG,MAAOiG,EAAKU,EAAE,yBACdzG,KAAK,mBACLmzB,SACGzB,EAAK93B,GAEF,aADAukB,GAASpY,EAAKU,EAAE,qCAAkCV,GAGxD6R,YAAa8Z,EAAK93B,MAIxB,kBAAC,GAAD,CACEA,GAAG,kBACHkG,MAAOiG,EAAKU,EAAE,mBACdzG,KAAK,aACL9E,KAAK,SAEP,kBAAC,GAAD,CACEtB,GAAG,iBACHkG,MAAOiG,EAAKU,EAAE,kBACdzG,KAAK,YACL9E,KAAK,UAELw2B,EAAK93B,IACL,kBAAC,GAAD,CACE+5B,kBAAmB0R,EAAiBv9B,MACpCyrB,SAAU8R,EAAiB7R,UAAY6R,EAAiBv9B,MACxDg8B,OAAQ,kBAAMwB,EAAoBQ,cAClClkB,SAAUikB,EACVjxC,MAAOqL,EACPke,UAAQ,EACRqmB,eAAc,OAAC9S,QAAD,IAACA,OAAD,EAACA,EAAM93B,MAGzB,kBAAC65B,GAAA,EAAD,CACEC,QAAQ,YACRC,kBAAmB+5F,EAAa5lH,MAChC8P,YAAU,EACVgc,UACG85F,EAAal6F,SAAYk6F,EAAa5lH,MAAoB,QAAZ,UAEjDhI,MAAOiG,EAAKU,EAAE,mBAEd,kBAAC,GAAD,eACE8sB,SAAUm6F,EAAal6F,UAAYk6F,EAAa5lH,MAChDlO,GAAG,YACHF,KAAM8zH,GACFC,MAOd,SAASE,GAAT,GAA4E,IAmBtEC,EAnBcl8F,EAAuD,EAAvDA,KAAMuoB,EAAiD,EAAjDA,aAAcnlC,EAAmC,EAAnCA,aAAckxB,EAAqB,EAArBA,YAAajgC,EAAQ,EAARA,KA4BjE,OAPE6nH,EADEl8F,EAAKrZ,aACI,gBACFqZ,EAAKpZ,kBACH,UAEA,SAIX,kBAAC,KAAD,CACE9C,cAAe,CACb2C,WAAYuZ,EAAKvZ,YAAc,GAC/BC,UAAWsZ,EAAKtZ,WAAa,GAC7BnY,aAAcyxB,EAAKzxB,cAAgB,GACnCiY,MAAOwZ,EAAKxZ,OAAS,GACrB9W,SAAUswB,EAAKtwB,UAAY,GAC3BC,SAAU,GACVwsH,iBAAkB,GAClBf,UAAWc,GAEbn4G,SAvC4B,SAACzX,EAAD,GAA4B,IAAjB85B,EAAgB,EAAhBA,UACzC,GAAI95B,EAAOqD,WAAarD,EAAO6vH,iBAC7B/1F,EAAU,CACR+1F,iBAAkB9nH,EAAKU,EACrB,2GAGC,CACLzI,EAAOqa,aAAoC,kBAArBra,EAAO8uH,UAC7B9uH,EAAOsa,kBAAyC,YAArBta,EAAO8uH,UAC7B9uH,EAAOqD,UAAgC,KAApBrD,EAAOqD,iBACtBrD,EAAOqD,SAE8BrD,EAAtC6vH,iBAAR,IAA6BC,EAA7B,YAA8C9vH,EAA9C,IACA8W,EAAag5G,OA2BZ,SAAAp4G,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACo2F,GAAD,CAAgB37F,KAAMA,EAAM3rB,KAAMA,IAClC,kBAAC,GAAD,CAAiB+B,MAAOk+B,IACxB,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAUC,EAAOZ,oBAe/B64G,GAAS1mH,aAAe,CACtByqB,KAAM,IAGOxqB,4BAAWymH,I,oBC/KXI,OApCf,WACE,MAA8C/kH,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KACMzpE,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,qBAAAzQ,EAAA,6DACnBgnF,EAAmB,MACXt0E,EAAgCjC,EAAhCiC,aAAiB+tH,EAFN,YAEqBhwH,EAFrB,sBAMP4F,GAAiBqqH,WAAWhuH,EAAc+tH,GANnC,gBAKPp0H,EALO,EAKfF,KAAQE,GAEVkR,EAAQqI,KAAR,iBAAuBvZ,EAAvB,aAPiB,kDASjB26E,EAAmB,EAAD,IATD,0DAAH,sDAiBlB,OACE,kBAAC3iE,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEuxC,aATW,WACnBnvC,EAAQqI,KAAR,WASQ2B,aAAcA,EACdkxB,YAAasuC,QCsFVptE,6BA1Gf,YAAqC,IAwB/B4lH,EASAoB,EAjCgBx8F,EAAc,EAAdA,KAAM3rB,EAAQ,EAARA,KAExBnM,EAUE83B,EAVF93B,GACAwH,EASEswB,EATFtwB,SACA8W,EAQEwZ,EARFxZ,MACAC,EAOEuZ,EAPFvZ,WACAC,EAMEsZ,EANFtZ,UACAI,EAKEkZ,EALFlZ,WACAD,EAIEmZ,EAJFnZ,QACAF,EAGEqZ,EAHFrZ,aACAC,EAEEoZ,EAFFpZ,kBACAK,EACE+Y,EADF/Y,eAEI7N,EAAU8C,cAEhB,EAA+DiE,GAC7DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJiX,GAASu7B,QAAQnmC,GADb,OAEVkR,EAAQqI,KAAR,UAFU,2CAGT,CAACvZ,EAAIkR,KAJOqjH,EAAjB,EAAQ77G,QAAqBH,EAA7B,EAA6BA,UAO7B,EAAgCK,GAPhC,EAAwC1K,OAOhCA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAkBf,OAdEm6G,EADEz0G,EACUtS,EAAKU,EAAE,6BACV6R,EACGvS,EAAKU,EAAE,uBAEPV,EAAKU,EAAE,oBAIjBirB,EAAKjZ,QACPy1G,EAAenoH,EAAKU,EAAE,aACbirB,EAAKu7F,KAAKt4H,OAAS,IAC5Bu5H,EAAenoH,EAAKU,EAAE,gBAItB,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE3G,MAAOiG,EAAKU,EAAE,iBACd7R,MAAOwM,EACP4vB,OAAO,yBAET,kBAAC,GAAD,CAAQlxB,MAAOiG,EAAKU,EAAE,cAAW7R,MAAOsjB,IACxC,kBAAC,GAAD,CAAQpY,MAAOiG,EAAKU,EAAE,mBAAgB7R,MAAK,UAAKujB,KAChD,kBAAC,GAAD,CAAQrY,MAAOiG,EAAKU,EAAE,kBAAe7R,MAAK,UAAKwjB,KAC/C,kBAAC,GAAD,CAAQtY,MAAOiG,EAAKU,EAAE,kBAAe7R,MAAK,UAAKk4H,KAC9CoB,GACC,kBAAC,GAAD,CACEpuH,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,KAAD,CAAO2T,aAAYxC,EAAKU,EAAE,oBAAiBynH,KAIhD11G,GACC,kBAAC,GAAD,CACE1Y,MAAOiG,EAAKU,EAAE,mBACd7R,MAAO24B,GAAiB/U,KAG5B,kBAAC,GAAD,CAAQ1Y,MAAOiG,EAAKU,EAAE,2BAAS7R,MAAO24B,GAAiBhV,MAEzD,kBAAC,GAAD,KACGI,EAAeb,mBACda,EAAeb,kBAAkB6nB,MAC/B,kBAAC7uB,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBM,UAAW43B,IACXrzB,GAAE,iBAAY1R,EAAZ,UAEDmM,EAAKU,EAAE,cAGbkS,EAAeb,mBACda,EAAeb,kBAAkBje,QAC/B,kBAAC,GAAD,CACEmG,KAAMoB,EACNg9B,WAAYr4B,EAAKU,EAAE,oBACnB4gC,UAAW8mF,EACXhhH,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOA,SC5EfZ,6BA/Bf,YAA6B,IAATwqB,EAAQ,EAARA,KAClB,EAA8C1oB,mBAAS,MAAvD,mBAAOsrE,EAAP,KAAwBC,EAAxB,KAEMzpE,EAAU8C,cAEVkH,EAAY,uCAAG,WAAM9W,GAAN,SAAAzQ,EAAA,6DACnBgnF,EAAmB,MADA,kBAGX/vE,GAAS4iC,OAAO1V,EAAK93B,GAAIoE,GAHd,OAIjB8M,EAAQqI,KAAR,iBAAuBue,EAAK93B,GAA5B,aAJiB,gDAMjB26E,EAAmB,EAAD,IAND,yDAAH,sDAclB,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7iD,KAAMA,EACNuoB,aARe,WACnBnvC,EAAQqI,KAAR,iBAAuBue,EAAK93B,GAA5B,cAQIkb,aAAcA,EACdkxB,YAAasuC,QCvBN,SAAS85C,GAAT,GAAqD,IAAjBnuH,EAAgB,EAAhBA,aAC3C46B,EAAO,uBAAmB56B,EAAarG,IAC7C,OACE,kBAACojC,GAAA,EAAD,CAAcx0B,kBAAiBqyB,GAC7B,kBAACoC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAKyL,EAAarG,IAC9B,kBAAC,IAAD,CACE0R,GAAE,yBAAoBrL,EAAarG,GAAjC,YACFA,GAAIihC,GAEJ,2BAAI56B,EAAaD,QAGrB,kBAAC,GAAD,CAAcxL,IAAKyL,EAAa4X,aAC7B5X,EAAa4X,kBCd5B,IAAM+jB,GAAYxoC,EAAY,gBAAiB,CAC7CG,KAAM,EACNC,UAAW,GACXC,SAAU,OACVyH,KAAM,iBAuDOgM,6BApDf,YAA0C,IAATnB,EAAQ,EAARA,KACzBiF,EAAW6C,cACL7M,EAAWmmC,cAAfvtC,GAER,EAKIiY,GACFzC,sBAAW,sBAAC,oCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAIA1O,GAAS6pH,kBAAkBrtH,EAAQhN,GAJnC,2BAGR0F,KAAQsB,EAHA,EAGAA,QAAgBszH,EAHhB,EAGSxyG,MAHT,kBAKH,CACL4oB,cAAe1pC,EACf8gB,MAAOwyG,IAPC,2CAST,CAACttH,EAAQgK,EAASkI,SACrB,CACEwxB,cAAe,GACf5oB,MAAO,IAlBX,IACE9J,OAAU0yB,EADZ,EACYA,cAAe5oB,EAD3B,EAC2BA,MAClB6O,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSo8G,EAJX,EAIEj8G,QAsBF,OAJAhD,qBAAU,WACRi/G,MACC,CAACA,IAGF,kBAAC,GAAD,CACE79H,MAAOg0C,EACP/Z,aAAcA,EACdC,kBAAmBzY,EACnBsU,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,sBAC3BoM,SAAU+oB,GACV0B,WAAY,SAAAr9B,GAAY,OACtB,kBAACmuH,GAAD,CACE55H,IAAKyL,EAAarG,GAClBhF,MAAOqL,EAAaD,KACpBC,aAAcA,EACdw/B,UAAS,yBAAoBx/B,EAAarG,GAAjC,YACTgT,SAAU,aACV4yB,YAAY,UCzDPgvF,OAHf,WACE,OAAO,kBAAC,GAAD,OCYT,SAASC,GAAT,GAAiE,IAArCtoD,EAAoC,EAApCA,KAAM3mC,EAA8B,EAA9BA,WAAY5yB,EAAkB,EAAlBA,SAAU7G,EAAQ,EAARA,KACtD,OACE,kBAACi3B,GAAA,EAAD,CACExoC,IAAK2xE,EAAKvsE,GACVA,GAAE,UAAKusE,EAAKvsE,IACZ4O,kBAAA,eAAyB29D,EAAKvsE,KAE9B,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACEl3B,kBAAA,eAAyB29D,EAAKvsE,IAC9BirB,QAAS2a,EACT5lC,GAAE,eAAUusE,EAAKvsE,IACjBgoB,SAAUhV,IAEZ,kBAACswB,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,QAChB,kBAAC,IAAD,CAAM8W,GAAE,iBAAY66D,EAAKvsE,GAAjB,YAA+BA,GAAE,eAAUusE,EAAKvsE,KACrDusE,EAAKnmE,OAGV,kBAAC,GAAD,CAAcxL,IAAI,gBACf2xE,EAAKxtD,eAAe1Y,cACnB,kBAACw1B,GAAA,EAAD,CAAOC,WAAS,GACd,kBAACC,GAAA,EAAD,KACE,2BAAI5vB,EAAKU,EAAE,sBAAY,KAEzB,kBAACkvB,GAAA,EAAD,KACE,kBAAC,IAAD,CACErqB,GAAE,yBAAoB66D,EAAKxtD,eAAe1Y,aAAarG,GAArD,aAEF,2BAAIusE,EAAKxtD,eAAe1Y,aAAaD,UAM/C,kBAAC,GAAD,CAAcxL,IAAI,eAAe2xE,EAAKtuD,kBAQlD42G,GAAiBplH,UAAY,CAC3B88D,KAAMh2E,GAAKynB,WACX4nB,WAAYxnB,QAAKJ,WACjBhL,SAAU/U,QAAK+f,YAGF1Q,4BAAWunH,IC5CpB7yF,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,SAmPGyT,6BAhPf,YAAiC,IAATnB,EAAQ,EAARA,KACtB,EAAsCiD,oBAAS,GAA/C,mBAAOi1B,EAAP,KAAoBC,EAApB,KACMlzB,EAAW6C,cACL7M,EAAWmmC,cAAfvtC,GAER,EAWIiY,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAQAvX,QAAQmU,IAAI,CACpBtL,GAASooC,UAAU5rC,EAAQhN,GAC3BwQ,GAASqoC,iBAAiB7rC,GAC1BwD,GAASq3B,gBAXD,iDAINniC,KAAQsB,EAJF,EAIEA,QAAgB0zH,EAJlB,EAIW5yG,MAEnBggB,EANQ,KAOR6yF,EAPQ,uBAaH,CACLjsB,MAAO1nG,EACP8gB,MAAO4yG,EACPE,YAAaD,EAAcj1H,KAAKmX,QAChCA,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAvB/C,4CAyBT,CAACj7B,EAAQgK,EAASkI,SACrB,CACEwvF,MAAO,GACP5mF,MAAO,EACPowB,MAAO,GACP0iF,YAAa,GACbpvG,sBAAuB,GACvBD,eAAgB,KA5CpB,IACEvN,OACE0wF,EAFJ,EAEIA,MACA5mF,EAHJ,EAGIA,MACA8yG,EAJJ,EAIIA,YACApvG,EALJ,EAKIA,sBACAD,EANJ,EAMIA,eAEKoL,EART,EAQE7iB,MACAqK,EATF,EASEA,UACSkyF,EAVX,EAUE/xF,QAsCFhD,qBAAU,WACR+0F,MACC,CAACA,IAEJ,MAA+DxlE,GAC7D6jE,GADM3jE,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAqB/C,EAIIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IAAIivB,EAASm9B,SAAQ,SAAAiK,GAAI,OAvBd,SAAAA,GAC5B,MAAO,CACL3hE,GAASusC,iBACP/vC,EACAmlE,EAAKxtD,eAAeK,aAAa61G,WAAWj1H,IAE9C4K,GAASusC,iBACP/vC,EACAmlE,EAAKxtD,eAAeK,aAAa81G,YAAYl1H,IAE/C4K,GAASusC,iBACP/vC,EACAmlE,EAAKxtD,eAAeK,aAAa+1G,UAAUn1H,KAWDo1H,CAAsB7oD,SAEjE,CAACpnC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYsxF,IAXH1kC,EADb,EACExtD,UACa88G,EAFf,EAEEh8G,YACe4sD,EAHjB,EAGEzsD,cAaF,EAA4DvB,GAC1DzC,sBAAW,uCACT,WAAM8/G,GAAN,SAAA3hI,EAAA,sEACQoO,QAAQmU,IACZo/G,EAAiB/6H,KAAI,SAAAgyE,GAAI,OACvB3hE,GAASwpC,cACPhtC,EACAmlE,EAAKxtD,eAAeK,aAAa81G,YAAYl1H,QALrD,OASEyqG,IATF,2CADS,sDAYT,CAACrjG,EAAQqjG,KAbIlkC,EAAjB,EAAQ7tD,QAAiC8tD,EAAzC,EAAkCt4D,MAiB5Bg4D,EAAkB,uCAAG,sBAAAvyE,EAAA,sEACnB0hI,IADmB,OAEzBjwF,EAAY,IAFa,2CAAH,qDAKxB,EAAgCxsB,GAC9B4tD,GAAkBP,GADZ/3D,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAITwtB,EACJyuF,GAAep5H,OAAO6T,UAAUC,eAAeC,KAAKqlH,EAAa,QAE7DO,EAAwB//G,uBAC5B,SAAApb,GACE,OAAOoQ,GAAS3J,KACdvD,EAAYlD,EAAQ,CAClBo7H,8BAA+BpuH,EAC/BquH,6BAA8BruH,OAIpC,CAACA,IAGGsuH,EAAkBlgH,uBAAY,kBAAM5K,GAASqoC,iBAAiB7rC,KAAS,CAC3EA,IAGF,OACE,oCACE,kBAAC,GAAD,CACEtQ,MAAOgyG,EACP/3E,aAAcA,EACdC,kBAAmBzY,GAAawtD,EAChCl5C,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,qBAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZ3B,WAAY,SAAA6oC,GAAI,OACd,kBAAC,GAAD,CACE3xE,IAAK2xE,EAAKvsE,GACVhF,MAAOuxE,EAAKnmE,KACZmmE,KAAMA,EACN1mC,UAAS,iBAAY0mC,EAAKvsE,GAAjB,YACTgT,SAAU,kBAAMqyB,EAAaknC,IAC7B3mC,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOusE,EAAKvsE,SAGrDqvB,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOkjE,GAAS,KAExC7vF,SAAU+oB,GACV5U,mBAAkB,sBACZmZ,EACA,CACE,kBAAC,GAAD,CACE3rC,IAAI,YACJ4Y,QAAS,kBAAM8wB,GAAe,IAC9BO,aAAc14B,EAAKU,EAAE,qBAGzB,IATY,CAUhB,kBAAC,GAAD,CACEjS,IAAI,eACJ2qE,eAAgBW,EAChBb,oBAAqBlgC,EACrBX,WAAYr4B,EAAKU,EAAE,sCACnBy4D,UAAWn5D,EAAKU,EACd,2FAINuiB,mBACEmX,EACE,kBAAC,GAAD,CACE3rC,IAAI,MACJ4Y,QAAS,kBAAM8wB,GAAe,MAE9B,SAIVnT,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kCAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,IAE/Bye,GACC,kBAAC,GAAD,CACE31B,OAAQvC,EAAKU,EAAE,qBACfm4D,aAAcuwD,EACdlxF,YAAaA,EACb0gC,YAAawB,EACbr6D,QAAS,kBAAMo4B,GAAe,IAC9B52B,MAAOvB,EAAKU,EAAE,qBACdo4D,eAAgBywD,IAGnBxnH,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRhC,QAAS6M,EACTrL,MAAOvB,EAAKU,EAAE,eACdc,QAAQ,SAEP64D,EACGr6D,EAAKU,EAAE,6BACPV,EAAKU,EAAE,kDACX,kBAAC,GAAD,CAAaqB,MAAOA,SCnQf,SAASynH,KACtB,OAAO,kBAAC,GAAD,MCUT,SAASC,GAAT,GAAwC,IAATzpH,EAAQ,EAARA,KAC7B,EAAgEqtB,aAC9D,eADF,mBAAOq8F,EAAP,KAAyBC,EAAzB,KAA0CC,EAA1C,KAIA,EAA8Cv8F,aAAS,CACrDpzB,KAAM,QACNmzB,SAAUhV,GAASpY,EAAKU,EAAE,8BAA2BV,KAFvD,mBAAO6pH,EAAP,KAAmBC,EAAnB,KAA8BC,EAA9B,KAKA,OACE,oCACE,kBAACr8F,GAAA,EAAD,CACEC,QAAQ,qBACR1zB,KAAK,cACL4zB,UACG87F,EAAgBl8F,SAAYk8F,EAAgB5nH,MAEzC,QADA,UAGN6rB,kBAAmB+7F,EAAgB5nH,OAEnC,kBAAC,GAAD,CACElT,MAAO66H,EAAiB76H,MACxBgtB,SAAU,SAAAhtB,GACR+6H,EAAmBp9G,SAAS3d,IAE9BkL,MACE,8BACGiG,EAAKU,EAAE,oBACR,kBAAC,GAAD,CACE6F,QAASvG,EAAKU,EACZ,kEAKR+sB,QAASk8F,EAAgBl8F,WAG7B,kBAAC,GAAD,CACE55B,GAAG,oBACHoG,KAAK,cACL9E,KAAK,OACL4E,MAAOiG,EAAKU,EAAE,uBAGhB,kBAACgtB,GAAA,EAAD,CACEzzB,KAAK,QACL0zB,QAAQ,cACRC,kBAAmBk8F,EAAU/nH,MAC7B8P,YAAU,EACVgc,UAAYi8F,EAAUr8F,SAAYq8F,EAAU/nH,MAAoB,QAAZ,UACpDhI,MAAOiG,EAAKU,EAAE,cACdotB,UACE,kBAAC,GAAD,CACEvnB,QAASvG,EAAKU,EAAE,kDAIpB,kBAAC,GAAD,iBACMmpH,EADN,CAEEh2H,GAAG,cACHF,KAAM,CACJ,CAAElF,IAAK,UAAWsL,MAAO,GAAIlL,MAAO,IACpC,CAAEJ,IAAK,OAAQI,MAAO,OAAQkL,MAAOiG,EAAKU,EAAE,cAC5C,CAAEjS,IAAK,QAASI,MAAO,QAASkL,MAAOiG,EAAKU,EAAE,gBAEhDmb,SAAU,SAACb,EAAOnsB,GAChBk7H,EAAav9G,SAAS3d,SAyCnBsS,6BAjCf,YAMI,IALF+yC,EAKC,EALDA,aACAnlC,EAIC,EAJDA,aACAkxB,EAGC,EAHDA,YACAjgC,EAEC,EAFDA,KAEC,IADD8hC,aACC,MADO,GACP,EACD,OACE,kBAAC,KAAD,CACEryB,cAAe,CACbqC,YAAagwB,EAAMhwB,aAAe,GAClC0nB,YAAasI,EAAMtI,aAAe,KAClCziB,MAAO+qB,EAAM/qB,OAAS,IAExBrH,SAAUX,IAET,SAAAY,GAAM,OACL,kBAAC0wB,GAAA,EAAD,CAAMtP,aAAa,MAAMrhB,SAAUC,EAAOZ,cACxC,kBAACmiB,GAAD,KACE,kBAACu4F,GAAD,CAAqBzpH,KAAMA,IAC1BigC,GAAe,kBAAC,GAAD,CAAiBl+B,MAAOk+B,IACxC,kBAAC,GAAD,CACE7E,SAAU8Y,EACVxkC,SAAU,WACRC,EAAOZ,0BCrERi7G,I,MAAAA,GAtCf,YAA4C,IAApBrpF,EAAmB,EAAnBA,gBAChB57B,EAAU8C,cACJ5M,EAAWmmC,cAAfvtC,GACR,EAAsDiY,GACpDzC,sBAAW,uCACT,WAAM+uD,GAAN,iBAAA5wE,EAAA,0DAEM4wE,EAAS5+B,YAFf,gCAGqB/6B,GAASwrH,YAAYhvH,EAArB,2BACZm9D,GADY,IAEf5+B,aAAa,UAAA4+B,EAAS5+B,mBAAT,eAAsB3lC,KAAM,QAL/C,OAGIb,EAHJ,6CAQqBsL,GAAU3L,OAAOylE,GARtC,OAQIplE,EARJ,cAWE2tC,EAAgB3tC,EAASW,MAEzBoR,EAAQqI,KAAR,iBAAuBnS,EAAvB,mBAAwCjI,EAASW,KAAKE,GAAtD,aAbF,4CADS,sDAgBT,CAACkR,EAAS9J,EAAQ0lC,KAjBPV,EAAf,EAAQl+B,MAA6BgN,EAArC,EAA4BxC,QAyB5B,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE2nC,aAPe,WACnBnvC,EAAQqI,KAAR,iBAAuBnS,EAAvB,aAOI8T,aAAcA,EACdkxB,YAAaA,MCzBf5rB,GAAQhT,IAAOk4B,EAAV,qDAIL2wF,GAAY7oH,IAAOk4B,EAAV,oDAuDAp4B,6BAnDf,YAAmE,IAAD,IAArCnB,EAAqC,EAArCA,KAAM8hC,EAA+B,EAA/BA,MAAOrI,EAAwB,EAAxBA,WAAY5yB,EAAY,EAAZA,SAC5ChT,EAAOutC,cAAPvtC,GACFihC,EAAO,uBAAmBgN,EAAMjuC,IACtC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKqzC,EAAMjuC,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAKiuC,EAAMjuC,KAClE,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,uBAAkBiuC,EAAMjuC,IAC1BirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc50B,aAAYxC,EAAKU,EAAE,mBAAgBjS,IAAI,QACnD,kBAAC,IAAD,CAAM8W,GAAE,iBAAY1R,EAAZ,mBAAyBiuC,EAAMjuC,GAA/B,cACL,UAAAiuC,EAAMlvB,sBAAN,eAAsB4mB,aACnBx5B,EAAKU,EAAE,iCACPV,EAAKU,EAAE,gCAGf,kBAAC,GAAD,CACE8B,aAAYxC,EAAKU,EAAE,yBACnBjS,IAAI,oBAEH,UAAAqzC,EAAMlvB,sBAAN,eAAsB4mB,cACrB,8BACE,kBAAC0wF,GAAD,KAAYlqH,EAAKU,EAAE,qBACnB,kBAAC,IAAD,CACE6E,GAAE,wBAAmBu8B,EAAMlvB,eAAe4mB,YAAY3lC,GAApD,aAEDiuC,EAAMlvB,eAAe4mB,YAAYv/B,QAK1C,kBAAC,GAAD,CAAcuI,aAAYxC,EAAKU,EAAE,cAAWjS,IAAI,SAC9C,kBAAC,GAAD,KAAQuR,EAAKU,EAAE,eACdghC,GAAYI,EAAM/qB,QAErB,kBAAC,GAAD,CAAcvU,aAAYxC,EAAKU,EAAE,mBAAgBjS,IAAI,cACnD,kBAAC,GAAD,KAAQuR,EAAKU,EAAE,iBACd8mB,GAAiBsa,EAAMhrB,kBCjDhC+e,GAAYxoC,EAAY,OAAQ,CACpCG,KAAM,EACNC,UAAW,GACXC,SAAU,sBAqLGyT,6BAnLf,YAAkC,IAATnB,EAAQ,EAARA,KACjBiF,EAAW6C,cACTjU,EAAOutC,cAAPvtC,GAER,EAKIiY,GACFzC,sBAAW,sBAAC,8CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAOAvX,QAAQmU,IAAI,CACpBtL,GAASsjC,WAAWluC,EAAI5F,GACxBwQ,GAASujC,iBAAiBnuC,KATlB,iDAINF,KAAQsB,EAJF,EAIEA,QAAS8gB,EAJX,EAIWA,MAEnBggB,EANQ,KAWJkM,EAAkBhtC,EAAQ7G,KAAI,SAAA6d,GAAW,IAAD,EAO5C,OANAA,EAAO2G,eAAiB,CACtB+Y,KAAM1f,EAAO2G,eAAe+Y,KAC5B6N,YAAavtB,EAAO2G,eAAe4mB,YACnCznB,kBAAmB,CAAEje,QAAQ,IAE/BmY,EAAOhS,KAAP,UAAcgS,EAAO2G,eAAe4mB,mBAApC,aAAc,EAAmCv/B,KAC1CgS,KAlBC,kBAoBH,CACLi2B,OAAQD,EACRvhB,UAAW3K,EACX0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBA5B/C,4CA8BT,CAACriC,EAAIoR,EAASkI,SACjB,CAAE+0B,OAAQ,GAAIxhB,UAAW,EAAGjH,sBAAuB,GAAID,eAAgB,KApCvEzX,EADF,EACEA,MACAqK,EAFF,EAEEA,UACS+1B,EAHX,EAGE51B,QAHF,IAIEN,OAAUi2B,EAJZ,EAIYA,OAAQxhB,EAJpB,EAIoBA,UAAWjH,EAJ/B,EAI+BA,sBAAuBD,EAJtD,EAIsDA,eAoCtDjQ,qBAAU,WACR44B,MACC,CAACA,IAEJ,MAA+DrJ,GAC7DoJ,GADMlJ,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,uBAAY,WACV,OAAOzT,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAOg0C,EAAP,EAAGvuC,GAAH,OAAqByK,GAAU07B,QAAQoI,SAErD,CAACpJ,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAYm1B,IAbH8I,EADb,EACE7+B,UACa+9G,EAFf,EAEEj9G,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAaI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACb2iI,IADa,OAEnBlxF,EAAY,IAFO,2CAAH,qDAOlB,OACE,oCACE,kBAAC,GAAD,CACErU,aAAc7iB,EACd8iB,kBAAmBzY,GAAa6+B,EAChCtgD,MAAOu3C,EACPxhB,UAAWA,EACXyE,mBAAoBnlB,EAAKU,EAAE,eAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,yBACbjS,IAAK,+BACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,2BAGTmoC,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,yBACbjS,IAAK,qBAEP,CACEwL,KAAM+F,EAAKU,EAAE,cACbjS,IAAK,SAEP,CACEwL,KAAM+F,EAAKU,EAAE,gBACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,2BACbjS,IAAK,WAEP,CACEwL,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,aAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9ByJ,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfjU,SAAU+oB,GACV7U,YAAa,SAAAyY,GAAU,OACrBR,EAAYQ,EAAU,YAAOyI,GAAU,KAEzCjhB,mBAAkB,sBAEZ,CACE,kBAAC,GAAD,CACExyB,IAAI,MACJgqC,OAAM,UAAKxzB,EAASC,SAAd,YALE,CAShB,kBAAC,GAAD,CACEzW,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,4BAKnC62B,WAAY,SAAAuK,GAAK,OACf,kBAAC,GAAD,CACErzC,IAAKqzC,EAAMjuC,GACXiuC,MAAOA,EACPj7B,SAAU,WACRqyB,EAAa4I,IAEfrI,WAAYT,EAASlqC,MAAK,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOiuC,EAAMjuC,SAGtDovB,mBAEI,kBAAC,GAAD,CAAkBx0B,IAAI,MAAMgqC,OAAM,UAAKxzB,EAASC,SAAd,YAIvCmI,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,kDACR,kBAAC,GAAD,CAAaqB,MAAOsL,SC/FflM,6BAhFf,YAA2C,IAAD,IAAf2gC,EAAe,EAAfA,MAAO9hC,EAAQ,EAARA,KAE9B+W,EAME+qB,EANF/qB,MACAjF,EAKEgwB,EALFhwB,YACAU,EAIEsvB,EAJFtvB,QACAU,EAGE4uB,EAHF5uB,SACA4D,EAEEgrB,EAFFhrB,QACAlE,EACEkvB,EADFlvB,eAEI7N,EAAU8C,cAChB,EAAwBu5B,cAAhBvtC,EAAR,EAAQA,GAAIuuC,EAAZ,EAAYA,QACZ,EAAgEt2B,GAC9DzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJ8W,GAAU07B,QAAQoI,GADd,OAEVr9B,EAAQqI,KAAR,iBAAuBvZ,EAAvB,YAFU,2CAGT,CAACuuC,EAASvuC,EAAIkR,KAJFqlH,EAAjB,EAAQ79G,QAAsBH,EAA9B,EAA8BA,UAM9B,EAAgCK,GANhC,EAAyC1K,OAMjCA,EAAR,EAAQA,MAAO6K,EAAf,EAAeA,aAEf,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CACE7S,MAAOiG,EAAKU,EAAE,oBACd7R,MAAK,OAAE+jB,QAAF,IAAEA,GAAF,UAAEA,EAAgB4mB,mBAAlB,aAAE,EAA6Bv/B,KACpCgxB,OAAO,kCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOijB,EACPmZ,OAAO,yCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,cACd7R,MAAO6yC,GAAY3qB,GACnBkU,OAAO,mCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gBACd7R,MAAO24B,GAAiB1Q,GACxBmU,OAAO,qCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM3V,EACNmZ,KAAM/Y,EAAe+Y,KACrBV,OAAO,qCAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,6CACdynB,KAAMjV,EACNyY,KAAM/Y,EAAe+Y,KACrBV,OAAO,4CAGX,kBAAC,GAAD,KACE,kBAAC,GAAD,CACEhxB,KAAI,OAAE2Y,QAAF,IAAEA,GAAF,UAAEA,EAAgB4mB,mBAAlB,aAAE,EAA6Bv/B,KACnCo+B,WAAYr4B,EAAKU,EAAE,0BACnB4gC,UAAW8oF,EACXhjH,WAAYgF,GAEXpM,EAAKU,EAAE,uBAGXqB,GACC,kBAAC,GAAD,CACEjC,OAAQiC,EACRP,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS6M,GAER5M,EAAKU,EAAE,8BACR,kBAAC,GAAD,CAAaqB,MAAOA,SCoBfZ,I,GAAAA,yBA7Ff,YAAmD,IAA9BnB,EAA6B,EAA7BA,KAAMgjC,EAAuB,EAAvBA,cAAerX,EAAQ,EAARA,KAClC1mB,EAAW6C,cACjB,EAAwBs5B,cAAhBvtC,EAAR,EAAQA,GAAIuuC,EAAZ,EAAYA,QACZ,EAKIt2B,GACFzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACa8W,GAAU2kC,WAAWb,GADlC,cACJpvC,EADI,OAEVgwC,EAAcrX,EAAM34B,EAASW,MAFnB,kBAGH,CACLmuC,MAAO9uC,EAASW,OAJR,2CAMT,CAACqvC,EAAerX,EAAMyW,IACzB,CAAEN,MAAO,OAZT11B,EADF,EACEA,UACArK,EAFF,EAEEA,MACSsoH,EAHX,EAGE99G,QACUu1B,EAJZ,EAIE71B,OAAU61B,MAWZv4B,qBAAU,WACR8gH,MACC,CAACA,IAEJ,IAAM9nF,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,wBAGZ6zB,KAAK,UAAD,OAAY1gC,EAAZ,WACJA,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,UAAD,OAAY1gC,EAAZ,mBAAyBuuC,EAAzB,YACJvuC,GAAI,IAIJ6hD,GAAiB,EAMrB,OAJIzwC,EAASC,SAAS86B,SAAS,UAC7B0V,GAAiB,IAGdtpC,GAAarK,EAEd,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACQ,MAA1BA,EAAM/O,SAASiR,QACd,8BACGjE,EAAKU,EAAE,yBAAsB,IAC9B,kBAAC,IAAD,CAAM6E,GAAG,qBACNvF,EAAKU,EAAE,8BAWtB,oCACGg1C,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEa,KAAK,6BACL79B,GAAG,qCACH0R,OAAK,IAEN6qB,GACC,kBAAC,IAAD,CAAOl9B,KAAK,sCACV,kBAAC,GAAD,CAAiBk9B,MAAOA,KAG5B,kBAAC,IAAD,CAAOrzC,IAAI,YAAYmW,KAAK,MACxBwH,GACA,kBAAC,GAAD,CAAchB,YAAU,GACrBvX,GACC,kBAAC,IAAD,CAAM0R,GAAE,iBAAY1R,EAAZ,YAA0BmM,EAAKU,EAAE,4BCrFnD4pH,GAAajpH,YAAO8wB,KAAP9wB,CAAH,sDAkFDF,6BA9Ef,YAAoD,IAA9BnB,EAA6B,EAA7BA,KAAMgjC,EAAuB,EAAvBA,cAAerX,EAAQ,EAARA,KACzC,EAAgD1oB,mBAAS,MAAzD,mBAAOsnH,EAAP,KAAyBC,EAAzB,KACQ32H,EAAOutC,cAAPvtC,GAEF8sC,EAAkBt3B,uBAAY,SAAAy4B,GAAK,OAAI0oF,EAAoB1oF,KAAQ,CACvE0oF,IAGF,OACE,oCACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO/7H,IAAI,MAAMmW,KAAK,yBACpB,kBAAC,GAAD,CAAc/Q,GAAI3I,OAAO2I,GAAK8sC,gBAAiBA,KAEjD,kBAAC,IAAD,CAAOlyC,IAAI,QAAQmW,KAAK,8BACtB,kBAAC,GAAD,CACE+mB,KAAMA,EACNqX,cAAeA,EACfnvC,GAAI3I,OAAO2I,MAGf,kBAAC,IAAD,CAAOpF,IAAI,OAAOmW,KAAK,qBACrB,kBAAC,GAAD,CAAe/Q,GAAI3I,OAAO2I,OAG7B02H,GACC,kBAACjoH,GAAA,EAAD,CACEE,aAAYxC,EAAKU,EAAE,0BACnBZ,QAAM,EACN0B,QAAQ,SACRD,MAAOvB,EAAKU,EAAE,0BACdX,QAAS,kBAAMyqH,EAAoB,QAEnC,kBAACF,GAAD,CACE9oH,QAAQ,OACR4wB,UAAQ,EACR7wB,MAAOvB,EAAKU,EACV,kGAGJ,kBAAC,GAAD,CAAYkpB,SAAO,GAChB2gG,EAAiBzoF,OAChB,kBAAC,GAAD,CACE/nC,MAAOiG,EAAKU,EAAE,cACd7R,MACE,kBAAC+1C,GAAA,EAAD,CACE1I,YAAU,EACV16B,QAASqjC,KAAqBC,WAE7BylF,EAAiBzoF,SAKzByoF,EAAiBE,eAChB,kBAAC,GAAD,CACE1wH,MAAOiG,EAAKU,EAAE,sBACd7R,MACE,kBAAC+1C,GAAA,EAAD,CACE1I,YAAU,EACV16B,QAASqjC,KAAqBC,WAE7BylF,EAAiBE,iBAK1B,kBAAC,GAAD,CACE1wH,MAAOiG,EAAKU,EAAE,gBACd7R,MAAO24B,GAAiB+iG,EAAiBzzG,iBCvBxC3V,6BAtDf,YAAiE,IAApCwQ,EAAmC,EAAnCA,KAAM3R,EAA6B,EAA7BA,KAAM05B,EAAuB,EAAvBA,UAAW7yB,EAAY,EAAZA,SAC5CiuB,EAAO,mBAAenjB,EAAK9d,IACjC,OACE,kBAACojC,GAAA,EAAD,CAAcxoC,IAAKkjB,EAAK9d,GAAI4O,kBAAiBqyB,EAASjhC,GAAE,UAAK8d,EAAK9d,KAChE,kBAACqjC,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBACzCiR,EAAKiB,eAAe89F,cACnB,kBAAC,IAAD,CAAMnrG,GAAE,UAAKm0B,GAAa7lC,GAAIihC,GAC5B,2BAAInjB,EAAKiB,eAAe89F,gBAG1B,2BAAI1wG,EAAKU,EAAE,iBAGf,kBAAC,GAAD,CAAcjS,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBACzCiR,EAAKiB,gBACJ,kBAAC,GAAD,CAAYgX,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAO8iB,EAAKiB,eAAe+9F,+BAKnC,kBAAC,GAAD,CAAcliH,IAAI,OAAO+T,aAAYxC,EAAKU,EAAE,uBACzCiR,EAAK1X,MACJ,kBAAC,GAAD,CAAY2vB,SAAO,GACjB,kBAAC,GAAD,CACE7vB,MAAOiG,EAAKU,EAAE,aACd7R,MACE,kBAACytC,GAAA,EAAD,CACE7tC,IAAKkjB,EAAK1X,KACVuI,aAAYmP,EAAK1X,KACjBoN,QAAS,kBAAMR,EAAS8K,IACxBuqB,YACGvqB,EAAKiB,eAAeb,kBAAkBC,UAGxCL,EAAK1X,kBC9BxB47B,GAAYxoC,EAAY,QAAS,CACrCG,KAAM,EACNC,UAAW,GACXC,SAAU,OAqNGyT,6BAhNf,YAAwC,IAAD,IAAdnB,EAAc,EAAdA,KAAM2rB,EAAQ,EAARA,KACrBxe,EAAWrF,cAAXqF,OACR,EAAoDlK,mBAAS,MAA7D,mBAAOsuG,EAAP,KAA2BC,EAA3B,KAEA,EAWI1lG,GACFzC,sBAAW,sBAAC,4CAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW1oB,GADjC,SAOAvX,QAAQmU,IAAI,CACpBtL,GAASgzG,UAAU9lF,EAAK93B,GAAI5F,GAC5BwQ,GAASq3B,gBATD,iDAINniC,KAAQsB,EAJF,EAIEA,QAAS8gB,EAJX,EAIWA,MAEnBggB,EANQ,uBAWH,CACL87E,UAAW97F,EACXowB,MAAOlxC,EACP6V,QAASirB,EAAgBpiC,KAAKmX,QAC9B2O,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBApB/C,4CAsBT,CAACvK,EAAK93B,GAAIsZ,IACb,CACEg5B,MAAO,GACP0rE,UAAW,EACX/mG,QAAS,GACT2O,sBAAuB,GACvBD,eAAgB,KAvClBpN,EADF,EACEA,UACS2lG,EAFX,EAEExlG,QACAxK,EAHF,EAGEA,MAHF,IAIEkK,OACE4lG,EALJ,EAKIA,UACA1rE,EANJ,EAMIA,MACAr7B,EAPJ,EAOIA,QACA2O,EARJ,EAQIA,sBACAD,EATJ,EASIA,eAmCJjQ,qBAAU,WACRwoG,MACC,CAACA,IAEJ,MAKIllG,GACFxD,sBAAW,sBAAC,sBAAA7hB,EAAA,6DACVgqH,EAAsB,MADZ,SAEJxzG,GAAS0sH,qBACbnZ,EAAmB19G,GACnB7E,SAAS28B,EAAK93B,GAAI,KAJV,2CAMT,CAAC09G,EAAoB5lF,EAAK93B,KAC7B,CAAEiZ,SAAU+oB,GAAW7oB,WAAY+kG,IAZxBn4C,EADb,EACExtD,UACa4+B,EAFf,EAEE99B,YACe+kG,EAHjB,EAGE5kG,cACoB6kG,EAJtB,EAIE5kG,mBAYI8sB,GACA,OAAJzO,QAAI,IAAJA,GAAA,UAAAA,EAAM/Y,sBAAN,mBAAsBb,yBAAtB,eAAyC6nB,OACxC9uB,GAAWrb,OAAO6T,UAAUC,eAAeC,KAAKsH,EAAS,QAEtD4uB,EAAY,SAAA/nB,GAChB,MAAuCA,EAAKiB,eAApCu/F,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,cAErB,OAAKzgG,GAASygG,GAId,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAe7iH,SAAS,aACpB,cAAN,OAAqB6iH,EAArB,YAAsCD,EAAtC,aAEF,OAAIC,QAAJ,IAAIA,OAAJ,EAAIA,EAAe7iH,SAAS,cACpB,gBAAN,OAAuB6iH,EAAvB,YAAwCD,EAAxC,YAEI,IAAN,OAAWC,EAAX,aAA6BD,EAA7B,YATS,MAYX,OADmBhsE,EAAMr3C,MAAK,SAAA6iB,GAAI,MAAkB,yBAAdA,EAAK1X,QAGvC,kBAACsR,GAAA,EAAD,CAAY/J,QAAQ,QAClB,kBAACgK,GAAA,EAAD,CAAgBC,KAAM2X,OACtB,kBAAChhB,GAAA,EAAD,CAAOC,aAAa,KAAKP,KAAK,MAC3B9B,EAAKU,EAAE,8BAEV,kBAACiL,GAAA,EAAD,KACG3L,EAAKU,EACJ,2EAOR,oCACE,kBAAC,GAAD,CACEkkB,aAAc7iB,EACd8iB,kBAAmBzY,GAAawtD,EAChCjvE,MAAOw7C,EACPzlB,UAAWmxF,EACX1sF,mBAAoBnlB,EAAKU,EAAE,mBAC3BoM,SAAU+oB,GACV7Q,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,aACbjS,IAAK,wBACLyoB,WAAW,IAGf0f,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,WACbjS,IAAK,OAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9B8d,WAAY,SAAA5lB,GACV,OACE,kBAAC,GAAD,CACEljB,IAAKkjB,EAAK9d,GACVhF,MAAO8iB,EAAK1X,KACZ0X,KAAMA,EACN+nB,UAAWA,EAAU/nB,GACrB8nB,YAAY,EACZ5yB,SAAU,SAAAotB,GACRu9E,EAAsBv9E,OAK9B/Q,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEoL,SAAU+oB,GACV5U,mBAAkB,YACZmZ,EACA,CACE,kBAAC,GAAD,CACEiQ,SAAU5rC,GACVoyG,YAAakB,EACbxwG,MAAOvB,EAAKU,EAAE,gCAGlB,UAKX6wG,GACC,kBAAC,GAAD,CACE/uG,aAAYxC,EAAKU,EAAE,0BACnBZ,OAAQyxG,EACR/vG,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,2BACdX,QAAS,kBAAMyxG,EAAsB,OACrC1mG,QAAS,CACP,kBAACC,EAAA,EAAD,CACEtc,IAAI,eACJ+S,QAAQ,SACRgB,aAAYxC,EAAKU,EAAE,6BACnB2G,QAAS,kBAAM2jC,MAEdhrC,EAAKU,EAAE,sBAEV,kBAACqK,EAAA,EAAD,CACEtc,IAAI,SACJ+S,QAAQ,YACRgB,aAAYxC,EAAKU,EAAE,qBACnB2G,QAAS,kBAAMmqG,EAAsB,QAEpCxxG,EAAKU,EAAE,wBAIZ,6BACGV,EAAKU,EACJ,2EAA0D6wG,EAAmB3+F,eAAe89F,iBAE9F,6BACA,gCAASa,EAAmBt3G,QAIjCg4G,GACC,kBAAC,GAAD,CACEnyG,OAAQmyG,EACRzwG,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASmyG,GAERlyG,EAAKU,EAAE,+BACR,kBAAC,GAAD,CAAaqB,MAAOkwG,SClFf9wG,6BA/Hf,YAA4C,IAA5BnB,EAA2B,EAA3BA,KAAMgjC,EAAqB,EAArBA,cAAeh5B,EAAM,EAANA,GAC7B/E,EAAW6C,cACX4vB,EAAQmC,YAAc,cAE5B,EAKI/tB,GACFzC,sBAAW,sBAAC,8BAAA7hB,EAAA,sEACaiX,GAASwkC,WAAWvL,EAAMzpC,OAAO4F,IAD9C,uBACFF,EADE,EACFA,KADE,kBAEHA,GAFG,2CAGT,CAAC+jC,EAAMzpC,OAAO4F,KACjB,MATQ83B,EADV,EACE1f,OACO2Y,EAFT,EAEE7iB,MACAqK,EAHF,EAGEA,UACSu+G,EAJX,EAIEp+G,QASFhD,qBAAU,WACRohH,MACC,CAACA,EAAW1lH,EAASC,WAExBqE,qBAAU,WACJoiB,GACFqX,EAAcrX,KAEf,CAACA,EAAMqX,IAEV,IAAMT,EAAY,CAChB,CACEtoC,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,uBAGZ6zB,KAAK,SACL1gC,GAAI,IAEN,CAAEoG,KAAM+F,EAAKU,EAAE,gBAAa6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YAA0BnQ,GAAI,GAC9D,CACEoG,KAAM+F,EAAKU,EAAE,sBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,kBACJnQ,GAAI,GAEN,CAAEoG,KAAM+F,EAAKU,EAAE,qBAAQ6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UAAwBnQ,GAAI,GACvD,CAAEoG,KAAM+F,EAAKU,EAAE,cAAW6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,UAAwBnQ,GAAI,KAGtD,OAAFmW,QAAE,IAAFA,OAAA,EAAAA,EAAInW,MAAO3I,OAAOwsC,EAAMzpC,OAAO4F,KACjC0uC,EAAUn1B,KAAK,CACbnT,KAAM+F,EAAKU,EAAE,eACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,WACJnQ,GAAI,IAIR,IAAI6hD,GAAiB,EAOrB,MALE,CAAC,OAAQ,MAAO,UAAU5mD,MAAK,SAAAmL,GAAI,OAAIgL,EAASC,SAAS3V,SAAS0K,QAElEy7C,GAAiB,IAGdtpC,GAAawY,EAEd,kBAAC/Y,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAO6iB,GAClBA,EAAa5xB,UAA6C,MAAjC4xB,EAAa5xB,SAASiR,QAC9C,8BACGjE,EAAKU,EAAE,wBAAqB,IAC7B,kBAAC,IAAD,CAAM6E,GApEH,UAoEqBvF,EAAKU,EAAE,6BAU3C,kBAACmL,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACG+yC,GAAkB,kBAAC,GAAD,CAAYnT,UAAWA,IAC1C,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUa,KAAK,aAAa79B,GAAG,qBAAqB0R,OAAK,IACxD0U,GAAQ,CACP,kBAAC,IAAD,CAAO/mB,KAAK,kBAAkBnW,IAAI,QAChC,kBAAC,GAAD,CAAUk9B,KAAMA,KAElB,kBAAC,IAAD,CAAO/mB,KAAK,qBAAqBnW,IAAI,WACnC,kBAAC,GAAD,CAAYk9B,KAAMA,KAEpB,kBAAC,IAAD,CAAO/mB,KAAK,2BAA2BnW,IAAI,iBACzC,kBAAC,GAAD,CAAmBoF,GAAI3I,OAAOwsC,EAAMzpC,OAAO4F,OAE7C,kBAAC,IAAD,CAAO+Q,KAAK,mBAAmBnW,IAAI,SACjC,kBAAC+6H,GAAD,OAEF,kBAAC,IAAD,CAAO5kH,KAAK,mBAAmBnW,IAAI,SACjC,kBAAC,GAAD,CAAek9B,KAAMA,KAEvB,kBAAC,IAAD,CAAO/mB,KAAK,oBAAoBnW,IAAI,UAClC,kBAAC,GAAD,CACEk9B,KAAMA,EACNqX,cAAeA,EACfnvC,GAAI3I,OAAOwsC,EAAMzpC,OAAO4F,QAI9B,kBAAC,IAAD,CAAOpF,IAAI,YAAYmW,KAAK,MACxBwH,GACA,kBAAC,GAAD,CAAchB,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CAAM0R,GAAE,iBAAYmyB,EAAMzpC,OAAO4F,GAAzB,aACLmM,EAAKU,EAAE,mCCtEbS,6BAzDf,YAA0B,IAATnB,EAAQ,EAARA,KACf,EAAgDiD,mBAAS,CACvD,SAAUjD,EAAKU,EAAE,qBACjB,aAAcV,EAAKU,EAAE,0BAFvB,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAIM9M,EAAQmC,cAER+wF,EAAoBvhH,uBACxB,SAACsiB,EAAMmW,GAAW,IAAD,EACVnW,GAIL6Y,GAAmB,GACjB,SAAUxkC,EAAKU,EAAE,qBACjB,aAAcV,EAAKU,EAAE,yBAFJ,gCAGNirB,EAAK93B,IAHC,UAGS83B,EAAKtwB,WAHd,gCAINswB,EAAK93B,GAJC,SAIWmM,EAAKU,EAAE,sBAJlB,gCAKNirB,EAAK93B,GALC,YAKcmM,EAAKU,EAAE,iBALrB,gCAMNirB,EAAK93B,GANC,UAMYmM,EAAKU,EAAE,eANnB,gCAONirB,EAAK93B,GAPC,UAOYmM,EAAKU,EAAE,sBAPnB,gCAQNirB,EAAK93B,GARC,kBAQoBmM,EAAKU,EAAE,uBAR3B,gCASNirB,EAAK93B,GATC,WASamM,EAAKU,EAAE,gBATpB,gCAUNirB,EAAK93B,GAVC,eAUiBmM,EAAKU,EAAE,2BAVxB,gCAWNirB,EAAK93B,GAXC,mBAWYiuC,GAASA,EAAMjuC,IAAOmM,EAAKU,EACtD,0BAZe,gCAcNirB,EAAK93B,GAdC,mBAcYiuC,GAASA,EAAMjuC,GAd3B,YAc0CmM,EAAKU,EAC9D,iBAfe,MAmBrB,CAACV,IAEH,OACE,kBAAC,WAAD,KACE,kBAAC,GAAD,CAAc8jC,WAAW,OAAOP,iBAAkBA,IAClD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAAC,GAAD,OAEF,kBAAC,IAAD,CAAOA,KAAI,UAAK8yB,EAAM9yB,KAAX,SACT,kBAAC,GAAD,MACG,gBAAGoF,EAAH,EAAGA,GAAH,OACC,kBAAC,GAAD,CAAMg5B,cAAe4nF,EAAmB5gH,GAAIA,GAAM,SAIxD,kBAAC,IAAD,CAAOpF,KAAI,UAAK8yB,EAAM9yB,OACpB,kBAAC,GAAD,Y,WCrDV,SAASimH,GAAT,GAA6D,IAA3BC,EAA0B,EAA1BA,iBAAkB9qH,EAAQ,EAARA,KAClD,MAAgC,YAA5B8qH,EAAiB7mH,OACZ6mH,EAAiB3xG,oBACpBnZ,EAAKU,EACH,+BAAe8mB,GACbsjG,EAAiB3xG,wBAGrBnZ,EAAKU,EAAE,sBAGToqH,EAAiB1xG,UACZ,kBAAC,KAAD,CAAOilD,MAAM,OAAOr+D,EAAKU,EAAE,mBAGhCoqH,EAAiB/xG,YACZ,kBAAC,KAAD,CAAOslD,MAAM,OAAOr+D,EAAKU,EAAE,kBAGJ,WAA5BoqH,EAAiB7mH,QAAuB6mH,EAAiBhyG,OAEzD,kBAAC,KAAD,CACEvS,QAASvG,EAAKU,EACZ,oCACEoqH,EAAiBl4G,eAAem4G,sBAAsB1vH,SADxD,EAEMmsB,GAAiBsjG,EAAiBp1G,aAE1CpP,SAAS,OAET,kBAAC,KAAD,CAAO9E,QAAQ,UAAU68D,MAAM,MAAM5yD,KAAM,kBAAC,KAAD,OACxCzL,EAAKU,EAAE,iBAMgB,eAA5BoqH,EAAiB7mH,OAEjB,kBAAC,KAAD,CACEsC,QAASvG,EAAKU,EACZ,sCACEoqH,EAAiBl4G,eAAem4G,sBAAsB1vH,SADxD,EAEMmsB,GAAiBsjG,EAAiBp1G,aAE1CpP,SAAS,OAET,kBAAC,KAAD,CAAO9E,QAAQ,UAAU68D,MAAM,QAAQ5yD,KAAM,kBAAC,KAAD,OAC1CzL,EAAKU,EAAE,mBAMT,KAGTmqH,GAAuB3pH,aAAe,CACpC4pH,iBAAkBlyG,GAAiB/G,YAGtB1Q,I,MAAAA,wBAAW0pH,IClDpBG,GAAa3pH,YAAOy1B,GAAPz1B,CAAH,iIAOV4pH,GAAW5pH,IAAOk4B,EAAV,qDAuFCp4B,6BAnFf,YAMI,IAAD,EALD2pH,EAKC,EALDA,iBACArxF,EAIC,EAJDA,WACA5yB,EAGC,EAHDA,SACA6yB,EAEC,EAFDA,UACA15B,EACC,EADDA,KAEM80B,EAAO,uBAAmBg2F,EAAiBj3H,IAC3Cq3H,EAAW,OAAGJ,QAAH,IAAGA,GAAH,UAAGA,EAAkBl4G,sBAArB,aAAG,EAAkCu4G,oBA0BtD,OACE,kBAACl0F,GAAA,EAAD,CACExoC,IAAKq8H,EAAiBj3H,GACtB4O,kBAAiBqyB,EACjBjhC,GAAE,UAAKi3H,EAAiBj3H,KAExB,kBAACqjC,GAAA,EAAD,KACE,kBAACyC,GAAA,EAAD,CACE9lC,GAAE,kCAA6Bi3H,EAAiBj3H,IAChDirB,QAAS2a,EACT5d,SAAUhV,EACVpE,kBAAiBqyB,IAEnB,kBAACqC,GAAA,EAAD,CACEC,cAAe,CACb,kBAAC,GAAD,CAAc3oC,IAAI,SAChB,kBAAC,IAAD,CAAM8W,GAAE,UAAKm0B,IACX,2BAAIoxF,EAAiB7wH,QAGzB,kBAAC,GAAD,CAAcxL,IAAI,OAChB,oCACE,kBAACw8H,GAAD,KAAWjrH,EAAKU,EAAE,aACjBwqH,IAAW,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAar3H,IAC3B,kBAAC,IAAD,CAAM0R,GAAE,gCAAoB2lH,QAApB,IAAoBA,OAApB,EAAoBA,EAAar3H,KAAzC,iBACMq3H,QADN,IACMA,OADN,EACMA,EAAar3H,GADnB,qBAC2Bq3H,QAD3B,IAC2BA,OAD3B,EAC2BA,EAAajxH,OAGxC+F,EAAKU,EAAE,kBAIb,kBAACsqH,GAAD,CAAYv8H,IAAI,UACd,6BAvDoB,YAA5Bq8H,EAAiB7mH,QACjB6mH,EAAiB3xG,oBAGf,kBAAC,KAAD,KACGnZ,EAAKU,EACJ,+BAAe8mB,GACbsjG,EAAiB3xG,yBAOG,YAA5B2xG,EAAiB7mH,QAChB6mH,EAAiB3xG,oBAIb,kBAAC,GAAD,CAAwB2xG,iBAAkBA,IAFxC,kBAAC,KAAD,KAAQ9qH,EAAKU,EAAE,iCClD5B,SAAS0qH,GAAcn3F,GACrB,OAAQA,EAAK/a,oBAGf,SAASmyG,GAAT,GAAgF,IAAnCC,EAAkC,EAAlCA,UAAW9tF,EAAuB,EAAvBA,cAAex9B,EAAQ,EAARA,KAC7DoiB,EAAiB9iB,qBAAWghB,IAA5B8B,aAqBFhb,EACqB,IAAzBo2B,EAAc5uC,QAAgB4uC,EAAc1uC,KAAKs8H,IAEnD,OACE,oCACGhpG,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,UACJ2Y,WAAYA,EACZpG,UAAU,SACVqG,QAASikH,GAERtrH,EAAKU,EAAE,iBAGV,kBAAC,KAAD,CAAS6F,QAlCO,WACpB,GAA6B,IAAzBi3B,EAAc5uC,OAChB,OAAOoR,EAAKU,EAAE,gCAGhB,IAAM6qH,EAAuB/tF,EAC1B5tC,OAAOw7H,IACPh9H,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QACjBhK,KAAK,MAER,OAAIutC,EAAc1uC,KAAKs8H,IACdprH,EAAKU,EACV,gGAA+D6qH,0BAI5DvrH,EAAKU,EAAE,gBAkBQ63B,GAAiBjyB,SAAS,OAC1C,6BACE,kBAACyE,EAAA,EAAD,CACE3D,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,gBACnBc,QAAQ,UACR6F,QAASikH,GAERtrH,EAAKU,EAAE,oBActB2qH,GAAkCnqH,aAAe,CAC/Cs8B,cAAe,IAGFr8B,4BAAWkqH,ICnE1B,SAASG,GAAWv3F,GAClB,OAAQA,EAAK/a,oBAGf,SAASuyG,GAAT,GAA0E,IAAhCC,EAA+B,EAA/BA,OAAQluF,EAAuB,EAAvBA,cAAex9B,EAAQ,EAARA,KACvDoiB,EAAiB9iB,qBAAWghB,IAA5B8B,aAqBFhb,EACqB,IAAzBo2B,EAAc5uC,QAAgB4uC,EAAc1uC,KAAK08H,IAEnD,OACE,oCACGppG,EACC,kBAACnb,GAAA,EAAD,CACExY,IAAI,OACJ2Y,WAAYA,EACZpG,UAAU,SACVqG,QAASqkH,GAER1rH,EAAKU,EAAE,cAGV,kBAAC,KAAD,CAAS6F,QAlCO,WACpB,GAA6B,IAAzBi3B,EAAc5uC,OAChB,OAAOoR,EAAKU,EAAE,6BAGhB,IAAMirH,EAAoBnuF,EACvB5tC,OAAO47H,IACPp9H,KAAI,SAAA6lC,GAAI,OAAIA,EAAKh6B,QACjBhK,KAAK,MAER,OAAIutC,EAAc1uC,KAAK08H,IACdxrH,EAAKU,EACV,6FAA+DirH,uBAI5D3rH,EAAKU,EAAE,aAkBQ63B,GAAiBjyB,SAAS,OAC1C,6BACE,kBAACyE,EAAA,EAAD,CACE3D,WAAYA,EACZ5E,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,SACR6F,QAASqkH,GAER1rH,EAAKU,EAAE,iBActB+qH,GAA+BvqH,aAAe,CAC5Cs8B,cAAe,IAGFr8B,4BAAWsqH,ICpDpB51F,GAAYxoC,EAAY,qBAAsB,CAClDG,KAAM,EACNC,UAAW,GACXC,SAAU,aAsPGyT,IC9QAyqH,GD8QAzqH,sBAnPf,YAA0C,IAATnB,EAAQ,EAARA,KACzBiF,EAAW6C,cACX4vB,EAAQmC,cAEd,EAKI/tB,GACFzC,sBAAW,sBAAC,wCAAA7hB,EAAA,6DACJyG,EAASH,EAAiB+nC,GAAW5wB,EAASkI,QAD1C,SAEgCvX,QAAQmU,IAAI,CACpDrL,GAAqBhK,KAAKzG,GAC1ByQ,GAAqBo3B,gBAJb,0CAEH9iC,EAFG,KAEO+iC,EAFP,uBAMH,CACL9gC,QAASjC,EAASW,KAAKsB,QACvB8gB,MAAO/iB,EAASW,KAAKoiB,MACrB0D,wBACiB,OAAfsc,QAAe,IAAfA,GAAA,UAAAA,EAAiBpiC,YAAjB,eAAuBqiC,wBAAyB,IAChD5nC,KAAI,SAAA2B,GAAG,OAAIA,EAAI3E,MAAM,GAAI,MAC3BouB,eAAgB/pB,OAAOC,MACrB,UAAAqmC,EAAgBpiC,KAAKmX,eAArB,eAA8BmrB,MAAO,IACrCrmC,QAAO,SAAAnB,GAAG,uBAAIsnC,EAAgBpiC,KAAKmX,eAAzB,aAAI,EAA8BmrB,IAAIxnC,GAAKynC,gBAd/C,2CAgBT,CAACjxB,IACJ,CACEhQ,QAAS,GACT8gB,MAAO,EACP0D,sBAAuB,GACvBD,eAAgB,KA3BpB,IACEvN,OAAUhX,EADZ,EACYA,QAAS8gB,EADrB,EACqBA,MAAO0D,EAD5B,EAC4BA,sBAAuBD,EADnD,EACmDA,eAC1CoL,EAFT,EAEE7iB,MACW8pH,EAHb,EAGEz/G,UACS0/G,EAJX,EAIEv/G,QA2BFhD,qBAAU,WACRuiH,MACC,CAACA,IAE+BziH,sBAAW,uCAC5C,WAAM8gD,GAAN,mBAAA3iE,EAAA,6DACQyG,EADR,eACsBH,EAAiB+nC,GAAW5wB,EAASkI,UAClDm9C,OAASH,EAAIl6D,KAAK,KAF3B,SAGyByO,GAAqBhK,KAAKzG,GAHnD,uBAGU0F,EAHV,EAGUA,KAHV,kBAISA,EAAKsB,SAJd,2CAD4C,sDAO5C,CAACgQ,EAASkI,SAPZ,IAUM4+G,EE1EO,SACbC,EACAF,GAEA,MAAkD7oH,mBAChD+oH,GADF,mBAAOD,EAAP,KAA0BE,EAA1B,KAGA,EAAgDhpH,oBAAS,GAAzD,mBAAOipH,EAAP,KAAyBC,EAAzB,KACMC,EAAuB3jE,GAAYyjE,EAAkB,KACrDtkE,EAAcF,GAAa,CAC/B1G,KAAM,CAAC,kBACPhlC,QAAS,CAAC,qBA4CZ,OAzCAzS,qBAAU,WACR0iH,EAAqBD,KACpB,CAACA,IAEJziH,qBACE,WACE,sBAAC,sBAAA/hB,EAAA,yDACM4kI,EADN,iDAICD,GAAoB,GACpBL,IALD,0CAAD,KAQF,CAACM,EAAsBN,IAGzBviH,qBACE,WACE,GAA4B,uBAAX,OAAXq+C,QAAW,IAAXA,OAAA,EAAAA,EAAazyD,MAAnB,CAIA,IAAMnE,EAAQ+6H,EAAkBtuF,WAC9B,SAAAyH,GAAC,OAAIA,EAAErxC,KAAO+zD,EAAYoC,mBAIzBh5D,GAAS,IACP,CAAC,MAAO,UAAW,UAAW,WAAWzB,SACxCq4D,EAAY3jD,UAEJ,IAAXjT,GAAuC,YAAvB42D,EAAY3jD,SAE7BkoH,GAAoB,MAIxB,CAACvkE,IAGImkE,EFmBmBM,CACxBp3H,EACA62H,GAKF,EAA+DhzF,GAC7DizF,GADM/yF,EAAR,EAAQA,SAAUjY,EAAlB,EAAkBA,cAAemY,EAAjC,EAAiCA,aAAcD,EAA/C,EAA+CA,YAI/C,EAKIpsB,GACFxD,sBAAW,sBAAC,sBAAA7hB,EAAA,+EACHoO,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAY6K,GAAqBs7B,QAAQnmC,QAF9C,2CAIT,CAACmlC,IACJ,CACElsB,SAAU+oB,GACV9oB,iBAAkBgU,EAClB/T,WAAY8+G,IAbH7gF,EADb,EACE7+B,UACakgH,EAFf,EAEEp/G,YACAG,EAHF,EAGEA,cACAC,EAJF,EAIEA,mBAcI+0B,EAAY,uCAAG,sBAAA76C,EAAA,sEACb8kI,IADa,OAEnBrzF,EAAY,IAFO,2CAAH,qDAKlB,EAIIntB,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,+EACHoO,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAY6K,GAAqB6tH,QAAQ14H,QAF9C,2CAIT,CAACmlC,IACJ,IATOwzF,EADT,EACEzqH,MACW0qH,EAFb,EAEErgH,UACSsgH,EAHX,EAGEngH,QAUIogH,EAAa,uCAAG,sBAAAnlI,EAAA,sEACdklI,IADc,OAEpBzzF,EAAY,IAFQ,2CAAH,qDAKnB,EAIIntB,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,+EACHoO,QAAQmU,IACbivB,EAAS5qC,KAAI,gBAAGyF,EAAH,EAAGA,GAAH,OAAY6K,GAAqBkuH,KAAK/4H,QAF3C,2CAIT,CAACmlC,IACJ,IATO6zF,EADT,EACE9qH,MACW+qH,EAFb,EAEE1gH,UACS2gH,EAHX,EAGExgH,QAUIygH,EAAU,uCAAG,sBAAAxlI,EAAA,sEACXulI,IADW,OAEjB9zF,EAAY,IAFK,2CAAH,qDAKhB,EAGIxsB,GAAoB+/G,GAAwBK,GAFvCI,EADT,EACElrH,MACcmrH,EAFhB,EAEEtgH,aAGF,OACE,oCACE,kBAACf,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CACEiiB,aAAcA,EACdC,kBACEgnG,GACA5gF,GACAwhF,GACAK,EAEFniI,MAAOohI,EACPrrG,UAAW3K,EACXoP,mBAAoBnlB,EAAKU,EAAE,uCAC3BoM,SAAU+oB,GACVyB,WAAY4B,EACZlU,qBAAsB,CACpB,CACE/qB,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,kBACLyoB,WAAW,GAEb,CACEjd,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,2BAGTw2B,sBAAuBzL,EACvB0L,6BAA8BzL,EAC9Bmd,mBAAoB,CAClB,CACE38B,KAAM+F,EAAKU,EAAE,qBACbjS,IAAK,QAEP,CACEwL,KAAM+F,EAAKU,EAAE,iCACbjS,IAAK,YAGTy0B,cAAe,SAAAxhB,GAAK,OAClB,kBAAC,GAAD,iBACMA,EADN,CAEEof,eAAa,EACbC,cAAeA,EACfC,YAAa,SAAAuV,GAAG,OACd0C,EAAY1C,EAAG,YAAOw1F,GAAqB,KAE7Cj/G,SAAU+oB,GACV5U,mBAAoB,CAClB,kBAAC,GAAD,CACExyB,IAAI,UACJ68H,UAAWqB,EACXnvF,cAAexE,IAEjB,kBAAC,GAAD,CACEvqC,IAAI,OACJi9H,OAAQsB,EACRxvF,cAAexE,IAEjB,kBAAC,GAAD,CACEvqC,IAAI,SACJspC,SAAUsK,EACVvK,cAAekB,EACf7T,mBAAoBnlB,EAAKU,EAAE,uCAC3Bu3B,aAAc,SAAAhE,GAAI,MACA,YAAhBA,EAAKhwB,SACJgwB,EAAKrhB,eAAeb,kBAAkBje,QAEzC89B,aAAc5xB,EAAKU,EACjB,yGAMV62B,WAAY,SAAAuzF,GAAgB,OAC1B,kBAAC,GAAD,CACEr8H,IAAKq8H,EAAiBj3H,GACtBi3H,iBAAkBA,EAClBpxF,UAAS,UAAKhC,EAAM1zB,IAAX,YAAkB8mH,EAAiBj3H,IAC5C4lC,WAAYT,EAASlqC,MACnB,SAAAqqC,GAAG,OAAIA,EAAItlC,KAAOi3H,EAAiBj3H,MAErCgT,SAAU,kBAAMqyB,EAAa4xF,IAC7BqC,mBAAoBrB,SAM7Bz+G,GACC,kBAAC,GAAD,CACEvN,OAAQuN,EACR7L,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASuN,GAERtN,EAAKU,EAAE,wDACR,kBAAC,GAAD,CAAaqB,MAAOsL,KAGvB4/G,GACC,kBAAC,GAAD,CACEntH,OAAQmtH,EACRzrH,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASmtH,GAERV,EACGxsH,EAAKU,EAAE,yDACPV,EAAKU,EAAE,sDACX,kBAAC,GAAD,CAAaqB,MAAOkrH,SGrP9B,SAASG,GAAT,GAA6D,IAAD,IAA1BptH,EAA0B,EAA1BA,KAAM8qH,EAAoB,EAApBA,iBAC1BuC,EAAuBjsF,cAA3BvtC,GACFkR,EAAU8C,cAChB,EAIIiE,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJkX,GAAqBs7B,QAAQqzF,GADzB,OAEVtoH,EAAQqI,KAAR,uBAFU,2CAGT,CAACigH,EAAoBtoH,KAPfuoH,EADX,EACE/gH,QACW0+B,EAFb,EAEE7+B,UASF,EAGIK,GAdJ,EAGE1K,OASO22E,EADT,EACE32E,MACcwrH,EAFhB,EAEE3gH,aAGF,EAIId,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJkX,GAAqB6tH,QAAQc,GADzB,OAEVtoH,EAAQqI,KAAR,8BAAoCigH,IAF1B,2CAGT,CAACA,EAAoBtoH,IACxB,IAROynH,EADT,EACEzqH,MACW0qH,EAFb,EAEErgH,UACSohH,EAHX,EAGEjhH,QASF,EAGIE,GAAoB+/G,GAFfiB,EADT,EACE1rH,MACc2rH,EAFhB,EAEE9gH,aAGF,EAIId,GACFzC,sBAAW,sBAAC,sBAAA7hB,EAAA,sEACJkX,GAAqBkuH,KAAKS,GADtB,OAEVtoH,EAAQqI,KAAR,8BAAoCigH,IAF1B,2CAGT,CAACA,EAAoBtoH,IACxB,IARO8nH,EADT,EACE9qH,MACW+qH,EAFb,EAEE1gH,UACSuhH,EAHX,EAGEphH,QASF,EAGIE,GAAoBogH,GAFfe,EADT,EACE7rH,MACc8rH,EAFhB,EAEEjhH,aAGIkhH,EAAiB,OACrBhD,QADqB,IACrBA,GADqB,UACrBA,EAAkBl4G,sBADG,aACrB,EAAkCu4G,oBAE9B4C,EAAyB,OAC7BjD,QAD6B,IAC7BA,GAD6B,UAC7BA,EAAkBl4G,sBADW,aAC7B,EAAkC6gB,sBAE9BrnB,EAAY6+B,GAAmBwhF,GAAoBK,EAEzD,OACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAY95F,OAAO,MACjB,kBAAC,GAAD,CACEj5B,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOi8H,EAAiB7wH,KACxBgxB,OAAO,mBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MAAOi8H,EAAiBh5G,YACxBmZ,OAAO,0BAEoB,YAA5B6/F,EAAiB7mH,QAChB,kBAAC,GAAD,CACElK,MAAOiG,EAAKU,EAAE,gBACd7R,MACEi8H,EAAiB3xG,oBACbqO,GAAiBsjG,EAAiB3xG,qBAClCnZ,EAAKU,EAAE,cAEbuqB,OAAO,sBAGkB,YAA5B6/F,EAAiB7mH,QAChB,kBAAC,GAAD,CACElK,MAAOiG,EAAKU,EAAE,qBACd7R,MACE,kBAAC,GAAD,CAAwBi8H,iBAAkBA,IAE5C7/F,OAAO,qBAGV6/F,EAAiBl4G,eAAem4G,uBAC/B,kBAAC,GAAD,CACEhxH,MAAOiG,EAAKU,EAAE,cACd7R,MACE,kBAAC,IAAD,CACE0W,GAAE,iBAAYulH,EAAiBl4G,eAAem4G,sBAAsBl3H,KAEnEi3H,EAAiBl4G,eAAem4G,sBAAsB1vH,UAG3D4vB,OAAO,oBAGX,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,oBACd7R,MAAOi8H,EAAiB7xG,gBACxBgS,OAAO,0BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,qBACd7R,MACEi/H,IAAiB,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAmBj6H,IACtC,kBAAC,IAAD,CAAM0R,GAAE,gCAAoBuoH,QAApB,IAAoBA,OAApB,EAAoBA,EAAmBj6H,KAA/C,iBACMi6H,QADN,IACMA,OADN,EACMA,EAAmBj6H,GADzB,qBACiCi6H,QADjC,IACiCA,OADjC,EACiCA,EAAmB7zH,OAGpD+F,EAAKU,EAAE,gBAGXuqB,OAAO,yBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,8BACd7R,MACEk/H,GACE,kBAAC,IAAD,CACExoH,GAAE,kDAAsCwoH,QAAtC,IAAsCA,OAAtC,EAAsCA,EAA2Bl6H,KADrE,OAGGk6H,QAHH,IAGGA,OAHH,EAGGA,EAA2B9zH,MAIlCgxB,OAAO,8BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,2BACdynB,KAAM2iG,EAAiBt4G,QACvBmZ,KAAMm/F,EAAiBl4G,eAAegC,WACtCqW,OAAO,yBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,6CACd7R,MAAO24B,GAAiBsjG,EAAiB53G,UACzC+X,OAAO,4BAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iCACd7R,MAAO24B,GAAiBsjG,EAAiBp1G,UACzCuV,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,iBACd7R,MAAO24B,GAAiBsjG,EAAiB/xG,aACzCkS,OAAO,uBAET,kBAAC,GAAD,CACElxB,MAAOiG,EAAKU,EAAE,gBACd7R,MAAOk5B,GAAgB+iG,EAAiB9xG,SACxCiS,OAAO,uBAGX,kBAAC,GAAD,KACG6/F,EAAiB5xG,qBAChB,oCACE,kBAACnO,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,gBACnBc,QAAQ,UACR6F,QAASmmH,EACTpmH,WAAYgF,GAEXpM,EAAKU,EAAE,iBAEV,kBAACqK,EAAA,EAAD,CACEvI,aAAYxC,EAAKU,EAAE,aACnBc,QAAQ,SACR6F,QAASsmH,EACTvmH,WAAYgF,GAEXpM,EAAKU,EAAE,eAIe,YAA5BoqH,EAAiB7mH,QAChB6mH,EAAiBl4G,eAAeb,mBAChC+4G,EAAiBl4G,eAAeb,kBAAkBje,QAChD,kBAAC,GAAD,CACEmG,KAAM6wH,EAAiB7wH,KACvBo+B,WAAYr4B,EAAKU,EAAE,iCACnB4gC,UAAWgsF,EACXlmH,WAAYgF,GAEXpM,EAAKU,EAAE,uBAIfg4E,GACC,kBAAC,GAAD,CACE54E,OAAQ44E,EACRl3E,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAASwtH,GAERvtH,EAAKU,EAAE,4CACR,kBAAC,GAAD,CAAaqB,MAAO22E,KAGvB+0C,GACC,kBAAC,GAAD,CACE3tH,OAAQ2tH,EACRjsH,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS2tH,GAER1tH,EAAKU,EAAE,6CACR,kBAAC,GAAD,CAAaqB,MAAO0rH,KAGvBG,GACC,kBAAC,GAAD,CACE9tH,OAAQ8tH,EACRpsH,QAAQ,QACRD,MAAOvB,EAAKU,EAAE,eACdX,QAAS8tH,GAER7tH,EAAKU,EAAE,0CACR,kBAAC,GAAD,CAAaqB,MAAO6rH,MAO9BR,GAAuBlsH,aAAe,CACpC4pH,iBAAkBlyG,GAAiB/G,YAGtB1Q,IClQAisH,GDkQAjsH,qBAAWisH,IEjJXjsH,6BA/Ff,YAAoD,IAAxB6hC,EAAuB,EAAvBA,cAAehjC,EAAQ,EAARA,KAC7BqtH,EAAuBjsF,cAA3BvtC,GACF6jC,EAAQmC,cACR50B,EAAW6C,cACjB,EAKIgE,GACFzC,sBAAW,sBAAC,4BAAA7hB,EAAA,sEACWkX,GAAqBukC,WAAWoqF,GAD3C,cACJ3pH,EADI,OAEVs/B,EAAct/B,EAAO/P,MAFX,kBAGH,CACLm3H,iBAAkBpnH,EAAO/P,OAJjB,2CAMT,CAAC05H,EAAoBrqF,IACxB,CAAE8nF,iBAAkB,OAZVA,EADZ,EACE7+G,OAAU6+G,iBACV1+G,EAFF,EAEEA,UACArK,EAHF,EAGEA,MACSisH,EAJX,EAIEzhH,QAgBF,GAJAhD,qBAAU,WACRykH,MACC,CAACA,EAAuB/oH,EAASC,YAE/BkH,GAAarK,EAChB,OACE,kBAAC8J,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAcZ,MAAOA,GACQ,MAA1BA,EAAM/O,SAASiR,QACd,8BACGjE,EAAKU,EAAE,qCAAkC,IAC1C,kBAAC,IAAD,CAAM6E,GAAG,uBACNvF,EAAKU,EAAE,0CAUxB,IAAM47F,EAAO,CACX,CACEriG,KACE,oCACE,kBAAC,KAAD,MACC+F,EAAKU,EAAE,oCAGZ6zB,KAAK,sBACL1gC,GAAI,IAEN,CACEoG,KAAM+F,EAAKU,EAAE,gBACb6zB,KAAK,GAAD,OAAKmD,EAAM1zB,IAAX,YACJnQ,GAAI,IAGR,OACE,kBAACgY,GAAA,EAAD,KACE,kBAAClJ,GAAA,EAAD,KACE,kBAAC,GAAD,CAAY4/B,UAAW+5D,IACvB,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEl5D,KAAK,0BACL79B,GAAG,kCACH0R,OAAK,IAEN6zG,GACC,kBAAC,IAAD,CAAOlmH,KAAK,mCACV,kBAAC,GAAD,CACEkmH,iBAAkBA,EAClB1+G,UAAWA,KAIjB,kBAAC,IAAD,CAAO3d,IAAI,YAAYmW,KAAK,MACxBwH,GACA,kBAAC,GAAD,CAAchB,YAAU,GACrBssB,EAAMzpC,OAAO4F,IACZ,kBAAC,IAAD,CAAM0R,GAAE,8BAAyBmyB,EAAMzpC,OAAO4F,GAAtC,aACLmM,EAAKU,EAAE,gDC3DbS,6BApCf,YAAsC,IAATnB,EAAQ,EAARA,KACrB03B,EAAQmC,cACd,EAAgD52B,mBAAS,CACvD,sBAAuBjD,EAAKU,EAAE,yCADhC,mBAAO6iC,EAAP,KAAyBiB,EAAzB,KAIM+3D,EAAyBlzF,uBAC7B,SAAAyhH,GAAqB,IAAD,EACVj3H,EAAOi3H,EAAPj3H,GACR2wC,GAAmB,GACjB,sBAAuBxkC,EAAKU,EAAE,wCADb,6CAEO7M,GAAOi3H,EAAiB7wH,MAF/B,6CAGOpG,EAHP,YAGsBmM,EAAKU,EAAE,iBAH7B,MAMrB,CAACV,IAGH,OACE,oCACE,kBAAC,GAAD,CACE8jC,WAAW,oBACXP,iBAAkBA,IAEpB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3+B,KAAI,UAAK8yB,EAAM1zB,IAAX,SACT,kBAAC,GAAD,CAAkBg/B,cAAeu5D,KAEnC,kBAAC,IAAD,CAAO33F,KAAI,UAAK8yB,EAAM1zB,MACpB,kBAAC,GAAD,YCuHKiqH,OAlIf,SAAwBjuH,GACtB,MAAO,CACL,CACEmF,WAAYnF,EAAKU,EAAE,qBACnB5J,QAAS,cACT4N,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,2BACdkE,KAAM,QACNspH,OAAQnmI,IAEV,CACEwZ,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,QACNspH,OAAQvlI,IAEV,CACE4Y,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,aACNspH,OAAQtkI,IAEV,CACE2X,MAAOvB,EAAKU,EAAE,2BACdkE,KAAM,mBACNspH,OAAQ/5H,IAEV,CACEoN,MAAOvB,EAAKU,EAAE,2BACdkE,KAAM,sBACNspH,OAAQlyH,MAId,CACEmJ,WAAYnF,EAAKU,EAAE,qBACnB5J,QAAS,kBACT4N,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,aACNspH,OAAQ5jI,IAEV,CACEiX,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,eACNspH,OAAQpmI,IAEV,CACEyZ,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,YACNspH,OAAQzkI,IAEV,CACE8X,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,eACNspH,OAAQz6G,IAEV,CACElS,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,SACNspH,OAAQ13H,MAId,CACE2O,WAAYnF,EAAKU,EAAE,qBACnB5J,QAAS,eACT4N,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,iBACNspH,OAAQ9kI,IAEV,CACEmY,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,SACNspH,OAAQzjI,IAEV,CACE8W,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,SACNspH,OAAQ7jI,MAId,CACE8a,WAAYnF,EAAKU,EAAE,qBACnB5J,QAAS,uBACT4N,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,iCACdkE,KAAM,oBACNspH,OAAQr5H,IAEV,CACE0M,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,0BACNspH,OAAQzzH,IAEV,CACE8G,MAAOvB,EAAKU,EAAE,iCACdkE,KAAM,mBACNspH,OAAQC,IAEV,CACE5sH,MAAOvB,EAAKU,EAAE,2BACdkE,KAAM,mBACNspH,OAAQl3H,IAEV,CACEuK,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,gBACNspH,OAAQ3mI,MAId,CACE4d,WAAYnF,EAAKU,EAAE,qBACnB5J,QAAS,WACT4N,OAAQ,CACN,CACEnD,MAAOvB,EAAKU,EAAE,qBACdkE,KAAM,YACNspH,OAAQlkI,Q,gBC9HZokI,GAAiB,SAAC,GAAD,IAAG3sH,EAAH,EAAGA,SAAa2oB,EAAhB,yBACrB7qB,GAAgB9T,SAAS+T,QACvB,kBAAC,IAAU4qB,EAAO3oB,GAElB,kBAAC,IAAD,CAAU8D,GAAG,YAGjB,SAAS8oH,KACP,IAAMC,EAAW,CAAEC,QAAIC,SACnB39G,E7gBrBGF,G6gBqBqCgX,W7gBpBzCga,cACA52C,MAAM,SAAS,G6gBoBb0E,OAAOC,KAAK4+H,GAAU/+H,SAASshB,KAGlCA,EAAW,MAEb,IAAM6mB,EAAQmC,cACd,EAAmC/xB,cAA3Bm5E,EAAR,EAAQA,KAAM9zE,EAAd,EAAcA,OAAQjI,EAAtB,EAAsBA,SAEtB,OACE,kBAAC,eAAD,CAAc2L,SAAUA,EAAUy9G,SAAUA,GAC1C,kBAAC,OAAD,MACG,gBAAGtuH,EAAH,EAAGA,KAAH,OACC,kBAACyuH,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOx3G,OAAK,EAAC+sB,QAAM,EAACp/B,KAAK,OACvB,kBAAC,IAAD,CAAUW,GAAE,UAAKL,EAAS9Z,MAAM,GAAI,IAAxB,OAA6B+hB,GAA7B,OAAsC8zE,MAEpD,kBAAC,IAAD,CAAOr8E,KAAK,UACV,kBAAC8pH,GAAD,CAAOnvH,gBAAiBA,MAE1B,kBAAC,IAAD,CAAO0X,OAAK,EAACrS,KAAK,KAChB,kBAAC,IAAD,CAAUW,GAAG,WAEf,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAcqC,eAAgBqmH,GAAejuH,IAC3C,kBAAC,IAAD,KACGiuH,GAAejuH,GACbm2D,SAAQ,qBAAGzxD,UACXtW,KAAI,gBAAGwW,EAAH,EAAGA,KAAc+pH,EAAjB,EAAST,OAAT,OACH,kBAAC,GAAD,CAAgBz/H,IAAKmW,EAAMA,KAAMA,GAC/B,kBAAC+pH,EAAD,CAAQj3F,MAAOA,QAGlB/lC,OACC,kBAAC,GAAD,CAAgBlD,IAAI,YAAYmW,KAAK,KACnC,kBAAC,GAAD,iBAcX,yBACb,kBAAC,IAAD,KACE,kBAACypH,GAAD,QC7EJ5iI,SAAS8V,MAAT,kB5hBPyB,O4hBSzB65G,IAASwT,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFpjI,SAASqjI,eAAe,QAAUrjI,SAASu0G,cAAc,U","file":"static/js/main.2298722c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/brand-logo.6549f233.svg\";","/* eslint-disable */ module.exports = {\n  languageData: {\n    plurals: function(n, ord) {\n      if (ord) return 'other';\n      return 'other';\n    },\n  },\n  messages: {\n    '404': '404',\n    '> add': '> add',\n    '> edit': '> edit',\n    'AWX Logo': 'AWX Logo',\n    About: 'About',\n    'AboutModal Logo': 'AboutModal Logo',\n    Access: 'Access',\n    Add: 'Add',\n    'Add Roles': 'Add Roles',\n    'Add Team Roles': 'Add Team Roles',\n    'Add User Roles': 'Add User Roles',\n    Administration: 'Administration',\n    Admins: 'Admins',\n    'Ansible Environment': 'Ansible Environment',\n    'Ansible Version': 'Ansible Version',\n    Applications: 'Applications',\n    'Apply roles': 'Apply roles',\n    'Are you sure you want to delete:': 'Are you sure you want to delete:',\n    'Are you sure you want to remove {0} access from {1}?  Doing so affects all members of the team.': function(\n      a\n    ) {\n      return [\n        'Are you sure you want to remove ',\n        a('0'),\n        ' access from ',\n        a('1'),\n        '?  Doing so affects all members of the team.',\n      ];\n    },\n    'Are you sure you want to remove {0} access from {username}?': function(a) {\n      return [\n        'Are you sure you want to remove ',\n        a('0'),\n        ' access from ',\n        a('username'),\n        '?',\n      ];\n    },\n    Authentication: 'Authentication',\n    'Authentication Settings': 'Authentication Settings',\n    'Brand Image': 'Brand Image',\n    Cancel: 'Cancel',\n    'Cannot find organization with ID': 'Cannot find organization with ID',\n    'Cannot find resource.': 'Cannot find resource.',\n    'Cannot find route {0}.': function(a) {\n      return ['Cannot find route ', a('0'), '.'];\n    },\n    Close: 'Close',\n    Collapse: 'Collapse',\n    'Copyright 2018 Red Hat, Inc.': 'Copyright 2018 Red Hat, Inc.',\n    'Copyright 2019 Red Hat, Inc.': 'Copyright 2019 Red Hat, Inc.',\n    'Create New Organization': 'Create New Organization',\n    Created: 'Created',\n    'Credential Types': 'Credential Types',\n    Credentials: 'Credentials',\n    'Current page': 'Current page',\n    Dashboard: 'Dashboard',\n    Delete: 'Delete',\n    'Delete {0}': function(a) {\n      return ['Delete ', a('0')];\n    },\n    'Delete {itemName}': function(a) {\n      return ['Delete ', a('itemName')];\n    },\n    Description: 'Description',\n    Details: 'Details',\n    Edit: 'Edit',\n    'Edit Details': 'Edit Details',\n    Expand: 'Expand',\n    Failure: 'Failure',\n    First: 'First',\n    'Go to first page': 'Go to first page',\n    'Go to last page': 'Go to last page',\n    'Go to next page': 'Go to next page',\n    'Go to previous page': 'Go to previous page',\n    Help: 'Help',\n    'If you {0} want to remove access for this particular user, please remove them from the team.': function(\n      a\n    ) {\n      return [\n        'If you ',\n        a('0'),\n        ' want to remove access for this particular user, please remove them from the team.',\n      ];\n    },\n    Info: 'Info',\n    'Instance Groups': 'Instance Groups',\n    Integrations: 'Integrations',\n    'Invalid username or password. Please try again.':\n      'Invalid username or password. Please try again.',\n    Inventories: 'Inventories',\n    'Inventory Scripts': 'Inventory Scripts',\n    'Items Per Page': 'Items Per Page',\n    'Items per page': 'Items per page',\n    'Items {itemMin} \\u2013 {itemMax} of {count}': function(a) {\n      return [\n        'Items ',\n        a('itemMin'),\n        ' \\u2013 ',\n        a('itemMax'),\n        ' of ',\n        a('count'),\n      ];\n    },\n    Jobs: 'Jobs',\n    'Jobs Settings': 'Jobs Settings',\n    Last: 'Last',\n    'Last Modified': 'Last Modified',\n    'Last Name': 'Last Name',\n    License: 'License',\n    'Loading...': 'Loading...',\n    Logout: 'Logout',\n    'Management Jobs': 'Management Jobs',\n    Members: 'Members',\n    Modified: 'Modified',\n    'My View': 'My View',\n    Name: 'Name',\n    Next: 'Next',\n    'No {0} Found': function(a) {\n      return ['No ', a('0'), ' Found'];\n    },\n    'Notification Templates': 'Notification Templates',\n    Notifications: 'Notifications',\n    'Organization Add': 'Organization Add',\n    'Organization detail tabs': 'Organization detail tabs',\n    Organizations: 'Organizations',\n    'Organizations List': 'Organizations List',\n    Page: 'Page',\n    'Page <0/> of {pageCount}': function(a) {\n      return ['Page <0/> of ', a('pageCount')];\n    },\n    'Page Number': 'Page Number',\n    Pagination: 'Pagination',\n    Password: 'Password',\n    'Per Page': 'Per Page',\n    'Please add {0} to populate this list': function(a) {\n      return ['Please add ', a('0'), ' to populate this list'];\n    },\n    'Please add {0} {itemName} to populate this list': function(a) {\n      return [\n        'Please add ',\n        a('0'),\n        ' ',\n        a('itemName'),\n        ' to populate this list',\n      ];\n    },\n    'Portal Mode': 'Portal Mode',\n    Previous: 'Previous',\n    'Primary Navigation': 'Primary Navigation',\n    Projects: 'Projects',\n    'Remove {0} Access': function(a) {\n      return ['Remove ', a('0'), ' Access'];\n    },\n    Resources: 'Resources',\n    Save: 'Save',\n    Schedules: 'Schedules',\n    Search: 'Search',\n    'Search text input': 'Search text input',\n    Select: 'Select',\n    'Select Input': 'Select Input',\n    'Select Users Or Teams': 'Select Users Or Teams',\n    'Select a row to delete': 'Select a row to delete',\n    'Select all': 'Select all',\n    'Select items from list': 'Select items from list',\n    'Select the Instance Groups for this Organization to run on.':\n      'Select the Instance Groups for this Organization to run on.',\n    'Select {header}': function(a) {\n      return ['Select ', a('header')];\n    },\n    Selected: 'Selected',\n    Settings: 'Settings',\n    Sort: 'Sort',\n    Successful: 'Successful',\n    System: 'System',\n    'System Settings': 'System Settings',\n    Team: 'Team',\n    'Team Roles': 'Team Roles',\n    Teams: 'Teams',\n    Templates: 'Templates',\n    'This field must not be blank': 'This field must not be blank',\n    'This field must not exceed {max} characters': function(a) {\n      return ['This field must not exceed ', a('max'), ' characters'];\n    },\n    'Toggle notification failure': 'Toggle notification failure',\n    'Toggle notification success': 'Toggle notification success',\n    'Use Default {label}': function(a) {\n      return ['Use Default ', a('label')];\n    },\n    User: 'User',\n    'User Details': 'User Details',\n    'User Interface': 'User Interface',\n    'User Interface Settings': 'User Interface Settings',\n    'User Roles': 'User Roles',\n    Username: 'Username',\n    Users: 'Users',\n    Views: 'Views',\n    'Welcome to Ansible {brandName}! Please Sign In.': function(a) {\n      return ['Welcome to Ansible ', a('brandName'), '! Please Sign In.'];\n    },\n    'You do not have permission to delete the following {0}: {itemsUnableToDelete}': function(\n      a\n    ) {\n      return [\n        'You do not have permission to delete the following ',\n        a('0'),\n        ': ',\n        a('itemsUnableToDelete'),\n      ];\n    },\n    'You have been logged out.': 'You have been logged out.',\n    'add {currentTab}': function(a) {\n      return ['add ', a('currentTab')];\n    },\n    'adding {currentTab}': function(a) {\n      return ['adding ', a('currentTab')];\n    },\n    'cancel delete': 'cancel delete',\n    'confirm delete': 'confirm delete',\n    'confirm removal of {currentTab}/cancel and go back to {currentTab} view.': function(\n      a\n    ) {\n      return [\n        'confirm removal of ',\n        a('currentTab'),\n        '/cancel and go back to ',\n        a('currentTab'),\n        ' view.',\n      ];\n    },\n    'delete {currentTab}': function(a) {\n      return ['delete ', a('currentTab')];\n    },\n    'deleting {currentTab} association with orgs': function(a) {\n      return ['deleting ', a('currentTab'), ' association with orgs'];\n    },\n    'edit view': 'edit view',\n    items: 'items',\n    'of {pageCount}': function(a) {\n      return ['of ', a('pageCount')];\n    },\n    pages: 'pages',\n    'per page': 'per page',\n    'save/cancel and go back to view': 'save/cancel and go back to view',\n    'save/cancel and go back to {currentTab} view': function(a) {\n      return ['save/cancel and go back to ', a('currentTab'), ' view'];\n    },\n    'select organization {itemId}': function(a) {\n      return ['select organization ', a('itemId')];\n    },\n    '{0}': function(a) {\n      return [a('0')];\n    },\n    '{0} List': function(a) {\n      return [a('0'), ' List'];\n    },\n    '{currentTab} detail view': function(a) {\n      return [a('currentTab'), ' detail view'];\n    },\n    '{itemMin} - {itemMax} of {count}': function(a) {\n      return [a('itemMin'), ' - ', a('itemMax'), ' of ', a('count')];\n    },\n  },\n};\n","/* eslint-disable */ module.exports = {\n  languageData: {\n    plurals: function(n, ord) {\n      var s = String(n).split('.'),\n        v0 = !s[1],\n        t0 = Number(s[0]) == n,\n        n10 = t0 && s[0].slice(-1),\n        n100 = t0 && s[0].slice(-2);\n      if (ord)\n        return n10 == 1 && n100 != 11\n          ? 'one'\n          : n10 == 2 && n100 != 12\n          ? 'two'\n          : n10 == 3 && n100 != 13\n          ? 'few'\n          : 'other';\n      return n == 1 && v0 ? 'one' : 'other';\n    },\n  },\n  messages: {\n    '404': '404',\n    '> add': '> add',\n    '> edit': '> edit',\n    'AWX Logo': 'AWX Logo',\n    About: 'About',\n    'AboutModal Logo': 'AboutModal Logo',\n    Access: 'Access',\n    Add: 'Add',\n    'Add Roles': 'Add Roles',\n    'Add Team Roles': 'Add Team Roles',\n    'Add User Roles': 'Add User Roles',\n    Administration: 'Administration',\n    Admins: 'Admins',\n    'Ansible Environment': 'Ansible Environment',\n    'Ansible Version': 'Ansible Version',\n    Applications: 'Applications',\n    'Apply roles': 'Apply roles',\n    'Are you sure you want to delete:': 'Are you sure you want to delete:',\n    'Are you sure you want to remove {0} access from {1}?  Doing so affects all members of the team.': function(\n      a\n    ) {\n      return [\n        'Are you sure you want to remove ',\n        a('0'),\n        ' access from ',\n        a('1'),\n        '?  Doing so affects all members of the team.',\n      ];\n    },\n    'Are you sure you want to remove {0} access from {username}?': function(a) {\n      return [\n        'Are you sure you want to remove ',\n        a('0'),\n        ' access from ',\n        a('username'),\n        '?',\n      ];\n    },\n    Authentication: 'Authentication',\n    'Authentication Settings': 'Authentication Settings',\n    'Brand Image': 'Brand Image',\n    Cancel: 'Cancel',\n    'Cannot find organization with ID': 'Cannot find organization with ID',\n    'Cannot find resource.': 'Cannot find resource.',\n    'Cannot find route {0}.': function(a) {\n      return ['Cannot find route ', a('0'), '.'];\n    },\n    Close: 'Close',\n    Collapse: 'Collapse',\n    'Copyright 2018 Red Hat, Inc.': 'Copyright 2018 Red Hat, Inc.',\n    'Copyright 2019 Red Hat, Inc.': 'Copyright 2019 Red Hat, Inc.',\n    'Create New Organization': 'Create New Organization',\n    Created: 'Created',\n    'Credential Types': 'Credential Types',\n    Credentials: 'Credentials',\n    'Current page': 'Current page',\n    Dashboard: 'Dashboard',\n    Delete: 'Delete',\n    'Delete {0}': function(a) {\n      return ['Delete ', a('0')];\n    },\n    'Delete {itemName}': function(a) {\n      return ['Delete ', a('itemName')];\n    },\n    Description: 'Description',\n    Details: 'Details',\n    Edit: 'Edit',\n    'Edit Details': 'Edit Details',\n    Expand: 'Expand',\n    Failure: 'Failure',\n    First: 'First',\n    'Go to first page': 'Go to first page',\n    'Go to last page': 'Go to last page',\n    'Go to next page': 'Go to next page',\n    'Go to previous page': 'Go to previous page',\n    Help: 'Help',\n    'If you {0} want to remove access for this particular user, please remove them from the team.': function(\n      a\n    ) {\n      return [\n        'If you ',\n        a('0'),\n        ' want to remove access for this particular user, please remove them from the team.',\n      ];\n    },\n    Info: 'Info',\n    'Instance Groups': 'Instance Groups',\n    Integrations: 'Integrations',\n    'Invalid username or password. Please try again.':\n      'Invalid username or password. Please try again.',\n    Inventories: 'Inventories',\n    'Inventory Scripts': 'Inventory Scripts',\n    'Items Per Page': 'Items Per Page',\n    'Items per page': 'Items per page',\n    'Items {itemMin} \\u2013 {itemMax} of {count}': function(a) {\n      return [\n        'Items ',\n        a('itemMin'),\n        ' \\u2013 ',\n        a('itemMax'),\n        ' of ',\n        a('count'),\n      ];\n    },\n    Jobs: 'Jobs',\n    'Jobs Settings': 'Jobs Settings',\n    Last: 'Last',\n    'Last Modified': 'Last Modified',\n    'Last Name': 'Last Name',\n    License: 'License',\n    'Loading...': 'Loading...',\n    Logout: 'Logout',\n    'Management Jobs': 'Management Jobs',\n    Members: 'Members',\n    Modified: 'Modified',\n    'My View': 'My View',\n    Name: 'Name',\n    Next: 'Next',\n    'No {0} Found': function(a) {\n      return ['No ', a('0'), ' Found'];\n    },\n    'Notification Templates': 'Notification Templates',\n    Notifications: 'Notifications',\n    'Organization Add': 'Organization Add',\n    'Organization detail tabs': 'Organization detail tabs',\n    Organizations: 'Organizations',\n    'Organizations List': 'Organizations List',\n    Page: 'Page',\n    'Page <0/> of {pageCount}': function(a) {\n      return ['Page <0/> of ', a('pageCount')];\n    },\n    'Page Number': 'Page Number',\n    Pagination: 'Pagination',\n    Password: 'Password',\n    'Per Page': 'Per Page',\n    'Please add {0} to populate this list': function(a) {\n      return ['Please add ', a('0'), ' to populate this list'];\n    },\n    'Please add {0} {itemName} to populate this list': function(a) {\n      return [\n        'Please add ',\n        a('0'),\n        ' ',\n        a('itemName'),\n        ' to populate this list',\n      ];\n    },\n    'Portal Mode': 'Portal Mode',\n    Previous: 'Previous',\n    'Primary Navigation': 'Primary Navigation',\n    Projects: 'Projects',\n    'Remove {0} Access': function(a) {\n      return ['Remove ', a('0'), ' Access'];\n    },\n    Resources: 'Resources',\n    Save: 'Save',\n    Schedules: 'Schedules',\n    Search: 'Search',\n    'Search text input': 'Search text input',\n    Select: 'Select',\n    'Select Input': 'Select Input',\n    'Select Users Or Teams': 'Select Users Or Teams',\n    'Select a row to delete': 'Select a row to delete',\n    'Select all': 'Select all',\n    'Select items from list': 'Select items from list',\n    'Select the Instance Groups for this Organization to run on.':\n      'Select the Instance Groups for this Organization to run on.',\n    'Select {header}': function(a) {\n      return ['Select ', a('header')];\n    },\n    Selected: 'Selected',\n    Settings: 'Settings',\n    Sort: 'Sort',\n    Successful: 'Successful',\n    System: 'System',\n    'System Settings': 'System Settings',\n    Team: 'Team',\n    'Team Roles': 'Team Roles',\n    Teams: 'Teams',\n    Templates: 'Templates',\n    'This field must not be blank': 'This field must not be blank',\n    'This field must not exceed {max} characters': function(a) {\n      return ['This field must not exceed ', a('max'), ' characters'];\n    },\n    'Toggle notification failure': 'Toggle notification failure',\n    'Toggle notification success': 'Toggle notification success',\n    'Use Default {label}': function(a) {\n      return ['Use Default ', a('label')];\n    },\n    User: 'User',\n    'User Details': 'User Details',\n    'User Interface': 'User Interface',\n    'User Interface Settings': 'User Interface Settings',\n    'User Roles': 'User Roles',\n    Username: 'Username',\n    Users: 'Users',\n    Views: 'Views',\n    'Welcome to Ansible {brandName}! Please Sign In.': function(a) {\n      return ['Welcome to Ansible ', a('brandName'), '! Please Sign In.'];\n    },\n    'You do not have permission to delete the following {0}: {itemsUnableToDelete}': function(\n      a\n    ) {\n      return [\n        'You do not have permission to delete the following ',\n        a('0'),\n        ': ',\n        a('itemsUnableToDelete'),\n      ];\n    },\n    'You have been logged out.': 'You have been logged out.',\n    'add {currentTab}': function(a) {\n      return ['add ', a('currentTab')];\n    },\n    'adding {currentTab}': function(a) {\n      return ['adding ', a('currentTab')];\n    },\n    'cancel delete': 'cancel delete',\n    'confirm delete': 'confirm delete',\n    'confirm removal of {currentTab}/cancel and go back to {currentTab} view.': function(\n      a\n    ) {\n      return [\n        'confirm removal of ',\n        a('currentTab'),\n        '/cancel and go back to ',\n        a('currentTab'),\n        ' view.',\n      ];\n    },\n    'delete {currentTab}': function(a) {\n      return ['delete ', a('currentTab')];\n    },\n    'deleting {currentTab} association with orgs': function(a) {\n      return ['deleting ', a('currentTab'), ' association with orgs'];\n    },\n    'edit view': 'edit view',\n    items: 'items',\n    'of {pageCount}': function(a) {\n      return ['of ', a('pageCount')];\n    },\n    pages: 'pages',\n    'per page': 'per page',\n    'save/cancel and go back to view': 'save/cancel and go back to view',\n    'save/cancel and go back to {currentTab} view': function(a) {\n      return ['save/cancel and go back to ', a('currentTab'), ' view'];\n    },\n    'select organization {itemId}': function(a) {\n      return ['select organization ', a('itemId')];\n    },\n    '{0}': function(a) {\n      return [a('0')];\n    },\n    '{0} List': function(a) {\n      return [a('0'), ' List'];\n    },\n    '{currentTab} detail view': function(a) {\n      return [a('currentTab'), ' detail view'];\n    },\n    '{itemMin} - {itemMax} of {count}': function(a) {\n      return [a('itemMin'), ' - ', a('itemMax'), ' of ', a('count')];\n    },\n  },\n};\n","/* eslint-disable */\n\n// Set a special variable to add `nonce` attributes to all styles/script tags\n// See https://github.com/webpack/webpack/pull/3210\n__webpack_nonce__ = window.NONCE_ID;\n\n// Send report when a CSP violation occurs\n// See: https://w3c.github.io/webappsec-csp/2/#violation-reports\n// See: https://developer.mozilla.org/en-US/docs/Web/API/SecurityPolicyViolationEvent\ndocument.addEventListener('securitypolicyviolation', e => {\n  const violation = {\n    'csp-report': {\n      'blocked-uri': e.blockedURI,\n      'document-uri': e.documentURI,\n      'effective-directive': e.effectiveDirective,\n      'original-policy': e.originalPolicy,\n      referrer: e.referrer,\n      'status-code': e.statusCode,\n      'violated-directive': e.violatedDirective,\n    },\n  };\n  if (e.sourceFile) violation['csp-report']['source-file'] = e.sourceFile;\n  if (e.lineNumber) violation['csp-report']['line-number'] = e.lineNumber;\n  if (e.columnNumber) violation['csp-report']['column-number'] = e.columnNumber;\n\n  const xhr = new XMLHttpRequest();\n  xhr.open('POST', '/csp-violation/', true);\n  xhr.setRequestHeader('content-type', 'application/csp-report');\n  xhr.send(JSON.stringify(violation));\n});\n","/* eslint-disable-next-line import/prefer-default-export */\nexport const JOB_TYPE_URL_SEGMENTS = {\n  job: 'playbook',\n  project_update: 'project',\n  system_job: 'system',\n  inventory_update: 'inventory',\n  ad_hoc_command: 'command',\n  workflow_job: 'workflow',\n};\n\nexport const SESSION_TIMEOUT_KEY = 'awx-session-timeout';\n","/**\n * Returns queryset config with defaults, if needed\n * @param {string} namespace for appending to url querystring\n * @param {object} default params that are not handled with search (page, page_size and order_by)\n * @param {array} params that are number fields\n * @return {object} query param object\n */\nexport function getQSConfig(\n  namespace,\n  defaultParams = { page: 1, page_size: 5, order_by: 'name' },\n  integerFields = ['page', 'page_size'],\n  dateFields = ['modified', 'created']\n) {\n  if (!namespace) {\n    throw new Error('a QS namespace is required');\n  }\n  // if order_by isn't passed, default to name\n  if (!defaultParams.order_by) {\n    defaultParams.order_by = 'name';\n  }\n  return {\n    namespace,\n    defaultParams,\n    integerFields,\n    dateFields,\n  };\n}\n\n/**\n * Convert url query string to query param object\n * @param {object} qs config object (used for getting defaults, current query params etc.)\n * @param {string} url query string\n * @return {object} query param object\n */\nexport function parseQueryString(config, queryString) {\n  if (!queryString) {\n    return config.defaultParams || {};\n  }\n  const params = stringToObject(config, queryString);\n  return addDefaultsToObject(config, params);\n}\n\nfunction stringToObject(config, qs) {\n  const params = {};\n  qs.replace(/^\\?/, '')\n    .split('&')\n    .map(s => s.split('='))\n    .forEach(([nsKey, rawValue]) => {\n      if (!nsKey || !namespaceMatches(config.namespace, nsKey)) {\n        return;\n      }\n      const key = config.namespace\n        ? decodeURIComponent(nsKey.substr(config.namespace.length + 1))\n        : decodeURIComponent(nsKey);\n      const value = parseValue(config, key, rawValue);\n      params[key] = mergeParam(params[key], value);\n    });\n  return params;\n}\nexport { stringToObject as _stringToObject };\n\n/**\n * helper function to check the namespace of a param is what you expect\n * @param {string} namespace to append to params\n * @param {object} params object to append namespace to\n * @return {object} params object with namespaced keys\n */\nconst namespaceMatches = (namespace, fieldname) => {\n  if (!namespace) return !fieldname.includes('.');\n\n  return fieldname.startsWith(`${namespace}.`);\n};\n\nfunction parseValue(config, key, rawValue) {\n  if (config.integerFields && config.integerFields.some(v => v === key)) {\n    return parseInt(rawValue, 10);\n  }\n  // TODO: parse dateFields into date format?\n  return decodeURIComponent(rawValue);\n}\n\nfunction addDefaultsToObject(config, params) {\n  return {\n    ...config.defaultParams,\n    ...params,\n  };\n}\nexport { addDefaultsToObject as _addDefaultsToObject };\n\n/**\n * Convert query param object to url query string\n * Used to encode params for interacting with the api\n * @param {object} query param object\n * @return {string} url query string\n */\nexport const encodeQueryString = params => {\n  if (!params) return '';\n\n  return Object.keys(params)\n    .sort()\n    .filter(key => params[key] !== null)\n    .map(key => [key, params[key]])\n    .map(([key, value]) => encodeValue(key, value))\n    .join('&');\n};\n\nfunction encodeValue(key, value) {\n  if (Array.isArray(value)) {\n    return value\n      .map(val => `${encodeURIComponent(key)}=${encodeURIComponent(val)}`)\n      .join('&');\n  }\n  return `${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\n}\n\n/**\n * Convert query param object to url query string, adding namespace and\n * removing defaults. Used to put into url bar after ui route\n * @param {object} qs config object for namespacing params, filtering defaults\n * @param {object} query param object\n * @param {object} any non-namespaced params to append\n * @return {string} url query string\n */\nexport const encodeNonDefaultQueryString = (\n  config,\n  params,\n  nonNamespacedParams = {}\n) => {\n  if (!params) return '';\n  const paramsWithoutDefaults = removeParams({}, params, config.defaultParams);\n  return encodeQueryString({\n    ...namespaceParams(config.namespace, paramsWithoutDefaults),\n    ...nonNamespacedParams,\n  });\n};\n\n/**\n * helper function to namespace params object\n * @param {string} namespace to append to params\n * @param {object} params object to append namespace to\n * @return {object} params object with namespaced keys\n */\nconst namespaceParams = (namespace, params) => {\n  if (!namespace) return params;\n\n  const namespaced = {};\n  Object.keys(params).forEach(key => {\n    namespaced[`${namespace}.${key}`] = params[key];\n  });\n\n  return namespaced;\n};\n\n/**\n * Removes params from the search string and returns the updated list of params\n * @param {object} qs config object (used for getting defaults, current query params etc.)\n * @param {object} object with params from existing search\n * @param {object} object with new params to remove\n * @return {object} query param object\n */\nexport function removeParams(config, oldParams, paramsToRemove) {\n  const updated = {\n    ...config.defaultParams,\n  };\n  Object.keys(oldParams).forEach(key => {\n    const value = removeParam(oldParams[key], paramsToRemove[key]);\n    if (value !== null) {\n      updated[key] = value;\n    }\n  });\n  return updated;\n}\n\nfunction removeParam(oldVal, deleteVal) {\n  if (oldVal === deleteVal) {\n    return null;\n  }\n  if (Array.isArray(deleteVal)) {\n    return deleteVal.reduce(removeParam, oldVal);\n  }\n  if (Array.isArray(oldVal)) {\n    const index = oldVal.indexOf(deleteVal);\n    if (index > -1) {\n      oldVal.splice(index, 1);\n    }\n    if (oldVal.length === 1) {\n      return oldVal[0];\n    }\n  }\n  return oldVal;\n}\n\n/**\n * Merge old and new params together, joining values into arrays where necessary\n * @param {object} namespaced params object of old params\n * @param {object} namespaced params object of new params\n * @return {object} merged namespaced params object\n */\nexport function mergeParams(oldParams, newParams) {\n  const merged = {};\n  Object.keys(oldParams).forEach(key => {\n    merged[key] = mergeParam(oldParams[key], newParams[key]);\n  });\n  Object.keys(newParams).forEach(key => {\n    if (!merged[key]) {\n      merged[key] = newParams[key];\n    }\n  });\n  return merged;\n}\n\nfunction mergeParam(oldVal, newVal) {\n  if (!newVal && newVal !== '') {\n    return oldVal;\n  }\n  if (!oldVal && oldVal !== '') {\n    return newVal;\n  }\n  let merged;\n  if (Array.isArray(oldVal)) {\n    merged = oldVal.concat(newVal);\n  } else {\n    merged = [oldVal].concat(newVal);\n  }\n  return dedupeArray(merged);\n}\n\nfunction dedupeArray(arr) {\n  const deduped = [...new Set(arr)];\n  if (deduped.length === 1) {\n    return deduped[0];\n  }\n  return deduped;\n}\n\n/**\n * Join old and new params together, replacing old values with new ones where\n * necessary\n * @param {object} namespaced params object of old params\n * @param {object} namespaced params object of new params\n * @return {object} joined namespaced params object\n */\nexport function replaceParams(oldParams, newParams) {\n  return {\n    ...oldParams,\n    ...newParams,\n  };\n}\n","/**\n * The debounce utility creates a debounced version of the provided\n * function. The debounced function delays invocation until after\n * the given time interval (milliseconds) has elapsed since the last\n * time the function was called. This means that if you call the\n * debounced function repeatedly, it will only run once after it\n * stops being called.\n */\nconst debounce = (func, interval) => {\n  let timeout;\n  return (...args) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      func(...args);\n    }, interval);\n  };\n};\n\nexport default debounce;\n","import axios from 'axios';\n\nimport { SESSION_TIMEOUT_KEY } from '../constants';\nimport { encodeQueryString } from '../util/qs';\nimport debounce from '../util/debounce';\n\nconst updateStorage = debounce((key, val) => {\n  window.localStorage.setItem(key, val);\n  window.dispatchEvent(new Event('storage'));\n}, 500);\n\nconst defaultHttp = axios.create({\n  xsrfCookieName: 'csrftoken',\n  xsrfHeaderName: 'X-CSRFToken',\n  paramsSerializer(params) {\n    return encodeQueryString(params);\n  },\n});\n\ndefaultHttp.interceptors.response.use(response => {\n  const timeout = response?.headers['session-timeout'];\n  if (timeout) {\n    const timeoutDate = new Date().getTime() + timeout * 1000;\n    updateStorage(SESSION_TIMEOUT_KEY, String(timeoutDate));\n  }\n  return response;\n});\n\nclass Base {\n  constructor(http = defaultHttp, baseURL) {\n    this.http = http;\n    this.baseUrl = baseURL;\n  }\n\n  create(data) {\n    return this.http.post(this.baseUrl, data);\n  }\n\n  destroy(id) {\n    return this.http.delete(`${this.baseUrl}${id}/`);\n  }\n\n  read(params) {\n    return this.http.get(this.baseUrl, {\n      params,\n    });\n  }\n\n  readDetail(id) {\n    return this.http.get(`${this.baseUrl}${id}/`);\n  }\n\n  readOptions() {\n    return this.http.options(this.baseUrl);\n  }\n\n  replace(id, data) {\n    return this.http.put(`${this.baseUrl}${id}/`, data);\n  }\n\n  update(id, data) {\n    return this.http.patch(`${this.baseUrl}${id}/`, data);\n  }\n\n  copy(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/copy/`, data);\n  }\n}\n\nexport default Base;\n","import Base from '../Base';\n\nclass ActivityStream extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/activity_stream/';\n  }\n}\n\nexport default ActivityStream;\n","const RelaunchMixin = parent =>\n  class extends parent {\n    relaunch(id, data) {\n      return this.http.post(`${this.baseUrl}${id}/relaunch/`, data);\n    }\n\n    readRelaunch(id) {\n      return this.http.get(`${this.baseUrl}${id}/relaunch/`);\n    }\n  };\n\nexport default RelaunchMixin;\n","import Base from '../Base';\nimport RelaunchMixin from '../mixins/Relaunch.mixin';\n\nclass AdHocCommands extends RelaunchMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/ad_hoc_commands/';\n  }\n}\n\nexport default AdHocCommands;\n","import Base from '../Base';\n\nclass Applications extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/applications/';\n  }\n\n  readTokens(appId, params) {\n    return this.http.get(`${this.baseUrl}${appId}/tokens/`, {\n      params,\n    });\n  }\n\n  readTokenOptions(appId) {\n    return this.http.options(`${this.baseUrl}${appId}/tokens/`);\n  }\n}\n\nexport default Applications;\n","import Base from '../Base';\n\nclass Auth extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/auth/';\n  }\n}\n\nexport default Auth;\n","import Base from '../Base';\n\nclass Config extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/config/';\n    this.read = this.read.bind(this);\n  }\n}\n\nexport default Config;\n","import Base from '../Base';\n\nclass CredentialInputSources extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/credential_input_sources/';\n  }\n}\n\nexport default CredentialInputSources;\n","import Base from '../Base';\n\nclass CredentialTypes extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/credential_types/';\n  }\n\n  async loadAllTypes(\n    acceptableKinds = ['machine', 'cloud', 'net', 'ssh', 'vault', 'kubernetes']\n  ) {\n    const pageSize = 200;\n    // The number of credential types a user can have is unlimited. In practice, it is unlikely for\n    // users to have more than a page at the maximum request size.\n    const {\n      data: { next, results },\n    } = await this.read({ page_size: pageSize });\n    let nextResults = [];\n    if (next) {\n      const { data } = await this.read({\n        page_size: pageSize,\n        page: 2,\n      });\n      nextResults = data.results;\n    }\n    return results\n      .concat(nextResults)\n      .filter(type => acceptableKinds.includes(type.kind));\n  }\n\n  test(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/test/`, data);\n  }\n}\n\nexport default CredentialTypes;\n","import Base from '../Base';\n\nclass Credentials extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/credentials/';\n\n    this.readAccessList = this.readAccessList.bind(this);\n    this.readAccessOptions = this.readAccessOptions.bind(this);\n    this.readInputSources = this.readInputSources.bind(this);\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readInputSources(id) {\n    const maxRequests = 5;\n    let requestCounter = 0;\n    const fetchInputSources = async (pageNo = 1, inputSources = []) => {\n      try {\n        requestCounter++;\n        const { data } = await this.http.get(\n          `${this.baseUrl}${id}/input_sources/`,\n          {\n            params: {\n              page: pageNo,\n              page_size: 200,\n            },\n          }\n        );\n        if (data?.next && requestCounter <= maxRequests) {\n          return fetchInputSources(\n            pageNo + 1,\n            inputSources.concat(data.results)\n          );\n        }\n        return Promise.resolve({\n          data: {\n            results: inputSources.concat(data.results),\n          },\n        });\n      } catch (error) {\n        return Promise.reject(error);\n      }\n    };\n\n    return fetchInputSources();\n  }\n\n  test(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/test/`, data);\n  }\n}\n\nexport default Credentials;\n","import Base from '../Base';\n\nclass Dashboard extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/dashboard/';\n  }\n\n  readJobGraph(params) {\n    return this.http.get(`${this.baseUrl}graphs/jobs/`, {\n      params,\n    });\n  }\n}\n\nexport default Dashboard;\n","import Base from '../Base';\n\nclass Groups extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/groups/';\n\n    this.associateHost = this.associateHost.bind(this);\n    this.createHost = this.createHost.bind(this);\n    this.readAllHosts = this.readAllHosts.bind(this);\n    this.disassociateHost = this.disassociateHost.bind(this);\n  }\n\n  associateHost(id, hostId) {\n    return this.http.post(`${this.baseUrl}${id}/hosts/`, {\n      id: hostId,\n    });\n  }\n\n  createHost(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/hosts/`, data);\n  }\n\n  readAllHosts(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/all_hosts/`, {\n      params,\n    });\n  }\n\n  disassociateHost(id, host) {\n    return this.http.post(`${this.baseUrl}${id}/hosts/`, {\n      id: host.id,\n      disassociate: true,\n    });\n  }\n\n  readChildren(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/children/`, { params });\n  }\n\n  associateChildGroup(id, childId) {\n    return this.http.post(`${this.baseUrl}${id}/children/`, { id: childId });\n  }\n\n  disassociateChildGroup(id, childId) {\n    return this.http.post(`${this.baseUrl}${id}/children/`, {\n      disassociate: id,\n      id: childId,\n    });\n  }\n\n  readPotentialGroups(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/potential_children/`, {\n      params,\n    });\n  }\n}\n\nexport default Groups;\n","import Base from '../Base';\n\nclass Hosts extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/hosts/';\n\n    this.readFacts = this.readFacts.bind(this);\n    this.readAllGroups = this.readAllGroups.bind(this);\n    this.readGroupsOptions = this.readGroupsOptions.bind(this);\n    this.associateGroup = this.associateGroup.bind(this);\n    this.disassociateGroup = this.disassociateGroup.bind(this);\n  }\n\n  readFacts(id) {\n    return this.http.get(`${this.baseUrl}${id}/ansible_facts/`);\n  }\n\n  readAllGroups(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/all_groups/`, { params });\n  }\n\n  readGroupsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/groups/`);\n  }\n\n  associateGroup(id, groupId) {\n    return this.http.post(`${this.baseUrl}${id}/groups/`, { id: groupId });\n  }\n\n  disassociateGroup(id, group) {\n    return this.http.post(`${this.baseUrl}${id}/groups/`, {\n      id: group.id,\n      disassociate: true,\n    });\n  }\n}\n\nexport default Hosts;\n","import Base from '../Base';\n\nclass InstanceGroups extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/instance_groups/';\n\n    this.associateInstance = this.associateInstance.bind(this);\n    this.disassociateInstance = this.disassociateInstance.bind(this);\n    this.readInstanceOptions = this.readInstanceOptions.bind(this);\n    this.readInstances = this.readInstances.bind(this);\n    this.readJobs = this.readJobs.bind(this);\n  }\n\n  associateInstance(instanceGroupId, instanceId) {\n    return this.http.post(`${this.baseUrl}${instanceGroupId}/instances/`, {\n      id: instanceId,\n    });\n  }\n\n  disassociateInstance(instanceGroupId, instanceId) {\n    return this.http.post(`${this.baseUrl}${instanceGroupId}/instances/`, {\n      id: instanceId,\n      disassociate: true,\n    });\n  }\n\n  readInstances(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/instances/`, { params });\n  }\n\n  readInstanceOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/instances/`);\n  }\n\n  readJobs(id) {\n    return this.http.get(`${this.baseUrl}${id}/jobs/`);\n  }\n}\n\nexport default InstanceGroups;\n","import Base from '../Base';\n\nclass Instances extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/instances/';\n  }\n}\n\nexport default Instances;\n","const InstanceGroupsMixin = parent =>\n  class extends parent {\n    readInstanceGroups(resourceId, params) {\n      return this.http.get(`${this.baseUrl}${resourceId}/instance_groups/`, {\n        params,\n      });\n    }\n\n    associateInstanceGroup(resourceId, instanceGroupId) {\n      return this.http.post(`${this.baseUrl}${resourceId}/instance_groups/`, {\n        id: instanceGroupId,\n      });\n    }\n\n    disassociateInstanceGroup(resourceId, instanceGroupId) {\n      return this.http.post(`${this.baseUrl}${resourceId}/instance_groups/`, {\n        id: instanceGroupId,\n        disassociate: true,\n      });\n    }\n  };\n\nexport default InstanceGroupsMixin;\n","import Base from '../Base';\nimport InstanceGroupsMixin from '../mixins/InstanceGroups.mixin';\n\nclass Inventories extends InstanceGroupsMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/inventories/';\n\n    this.readAccessList = this.readAccessList.bind(this);\n    this.readAccessOptions = this.readAccessOptions.bind(this);\n    this.readHosts = this.readHosts.bind(this);\n    this.readHostDetail = this.readHostDetail.bind(this);\n    this.readGroups = this.readGroups.bind(this);\n    this.readGroupsOptions = this.readGroupsOptions.bind(this);\n    this.promoteGroup = this.promoteGroup.bind(this);\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  createHost(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/hosts/`, data);\n  }\n\n  readHosts(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/hosts/`, {\n      params,\n    });\n  }\n\n  async readHostDetail(inventoryId, hostId) {\n    const {\n      data: { results },\n    } = await this.http.get(\n      `${this.baseUrl}${inventoryId}/hosts/?id=${hostId}`\n    );\n\n    if (Array.isArray(results) && results.length) {\n      return results[0];\n    }\n\n    throw new Error(\n      `How did you get here? Host not found for Inventory ID: ${inventoryId}`\n    );\n  }\n\n  readGroups(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/groups/`, {\n      params,\n    });\n  }\n\n  readGroupsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/groups/`);\n  }\n\n  readHostsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/hosts/`);\n  }\n\n  promoteGroup(inventoryId, groupId) {\n    return this.http.post(`${this.baseUrl}${inventoryId}/groups/`, {\n      id: groupId,\n      disassociate: true,\n    });\n  }\n\n  readSources(inventoryId, params) {\n    return this.http.get(`${this.baseUrl}${inventoryId}/inventory_sources/`, {\n      params,\n    });\n  }\n\n  async readSourceDetail(inventoryId, sourceId) {\n    const {\n      data: { results },\n    } = await this.http.get(\n      `${this.baseUrl}${inventoryId}/inventory_sources/?id=${sourceId}`\n    );\n\n    if (Array.isArray(results) && results.length) {\n      return results[0];\n    }\n\n    throw new Error(\n      `How did you get here? Source not found for Inventory ID: ${inventoryId}`\n    );\n  }\n\n  syncAllSources(inventoryId) {\n    return this.http.post(\n      `${this.baseUrl}${inventoryId}/update_inventory_sources/`\n    );\n  }\n\n  readAdHocOptions(inventoryId) {\n    return this.http.options(`${this.baseUrl}${inventoryId}/ad_hoc_commands/`);\n  }\n\n  launchAdHocCommands(inventoryId, values) {\n    return this.http.post(\n      `${this.baseUrl}${inventoryId}/ad_hoc_commands/`,\n      values\n    );\n  }\n}\n\nexport default Inventories;\n","import Base from '../Base';\n\nclass InventoryScripts extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/inventory_scripts/';\n  }\n}\n\nexport default InventoryScripts;\n","const NotificationsMixin = parent =>\n  class extends parent {\n    readOptionsNotificationTemplates(id) {\n      return this.http.options(`${this.baseUrl}${id}/notification_templates/`);\n    }\n\n    readNotificationTemplates(id, params) {\n      return this.http.get(\n        `${this.baseUrl}${id}/notification_templates/`,\n        params\n      );\n    }\n\n    readNotificationTemplatesStarted(id, params) {\n      return this.http.get(\n        `${this.baseUrl}${id}/notification_templates_started/`,\n        { params }\n      );\n    }\n\n    readNotificationTemplatesSuccess(id, params) {\n      return this.http.get(\n        `${this.baseUrl}${id}/notification_templates_success/`,\n        { params }\n      );\n    }\n\n    readNotificationTemplatesError(id, params) {\n      return this.http.get(\n        `${this.baseUrl}${id}/notification_templates_error/`,\n        { params }\n      );\n    }\n\n    associateNotificationTemplatesStarted(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_started/`,\n        { id: notificationId }\n      );\n    }\n\n    disassociateNotificationTemplatesStarted(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_started/`,\n        { id: notificationId, disassociate: true }\n      );\n    }\n\n    associateNotificationTemplatesSuccess(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_success/`,\n        { id: notificationId }\n      );\n    }\n\n    disassociateNotificationTemplatesSuccess(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_success/`,\n        { id: notificationId, disassociate: true }\n      );\n    }\n\n    associateNotificationTemplatesError(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_error/`,\n        { id: notificationId }\n      );\n    }\n\n    disassociateNotificationTemplatesError(resourceId, notificationId) {\n      return this.http.post(\n        `${this.baseUrl}${resourceId}/notification_templates_error/`,\n        { id: notificationId, disassociate: true }\n      );\n    }\n\n    /**\n     * This is a helper method meant to simplify setting the \"on\" status of\n     * a related notification.\n     *\n     * @param[resourceId] - id of the base resource\n     * @param[notificationId] - id of the notification\n     * @param[notificationType] - the type of notification, options are \"success\" and \"error\"\n     */\n    associateNotificationTemplate(\n      resourceId,\n      notificationId,\n      notificationType\n    ) {\n      if (notificationType === 'approvals') {\n        return this.associateNotificationTemplatesApprovals(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'started') {\n        return this.associateNotificationTemplatesStarted(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'success') {\n        return this.associateNotificationTemplatesSuccess(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'error') {\n        return this.associateNotificationTemplatesError(\n          resourceId,\n          notificationId\n        );\n      }\n\n      throw new Error(\n        `Unsupported notificationType for association: ${notificationType}`\n      );\n    }\n\n    /**\n     * This is a helper method meant to simplify setting the \"off\" status of\n     * a related notification.\n     *\n     * @param[resourceId] - id of the base resource\n     * @param[notificationId] - id of the notification\n     * @param[notificationType] - the type of notification, options are \"success\" and \"error\"\n     */\n    disassociateNotificationTemplate(\n      resourceId,\n      notificationId,\n      notificationType\n    ) {\n      if (notificationType === 'approvals') {\n        return this.disassociateNotificationTemplatesApprovals(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'started') {\n        return this.disassociateNotificationTemplatesStarted(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'success') {\n        return this.disassociateNotificationTemplatesSuccess(\n          resourceId,\n          notificationId\n        );\n      }\n\n      if (notificationType === 'error') {\n        return this.disassociateNotificationTemplatesError(\n          resourceId,\n          notificationId\n        );\n      }\n\n      throw new Error(\n        `Unsupported notificationType for disassociation: ${notificationType}`\n      );\n    }\n  };\n\nexport default NotificationsMixin;\n","const LaunchUpdateMixin = parent =>\n  class extends parent {\n    launchUpdate(id, data) {\n      return this.http.post(`${this.baseUrl}${id}/update/`, data);\n    }\n\n    readLaunchUpdate(id) {\n      return this.http.get(`${this.baseUrl}${id}/update/`);\n    }\n  };\n\nexport default LaunchUpdateMixin;\n","const SchedulesMixin = parent =>\n  class extends parent {\n    createSchedule(id, data) {\n      return this.http.post(`${this.baseUrl}${id}/schedules/`, data);\n    }\n\n    readSchedules(id, params) {\n      return this.http.get(`${this.baseUrl}${id}/schedules/`, { params });\n    }\n\n    readScheduleOptions(id) {\n      return this.http.options(`${this.baseUrl}${id}/schedules/`);\n    }\n  };\n\nexport default SchedulesMixin;\n","import Base from '../Base';\nimport NotificationsMixin from '../mixins/Notifications.mixin';\nimport LaunchUpdateMixin from '../mixins/LaunchUpdate.mixin';\nimport SchedulesMixin from '../mixins/Schedules.mixin';\n\nclass InventorySources extends LaunchUpdateMixin(\n  NotificationsMixin(SchedulesMixin(Base))\n) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/inventory_sources/';\n\n    this.createSyncStart = this.createSyncStart.bind(this);\n    this.destroyGroups = this.destroyGroups.bind(this);\n    this.destroyHosts = this.destroyHosts.bind(this);\n  }\n\n  createSyncStart(sourceId, extraVars) {\n    return this.http.post(`${this.baseUrl}${sourceId}/update/`, {\n      extra_vars: extraVars,\n    });\n  }\n\n  destroyGroups(id) {\n    return this.http.delete(`${this.baseUrl}${id}/groups/`);\n  }\n\n  destroyHosts(id) {\n    return this.http.delete(`${this.baseUrl}${id}/hosts/`);\n  }\n}\nexport default InventorySources;\n","import Base from '../Base';\nimport LaunchUpdateMixin from '../mixins/LaunchUpdate.mixin';\n\nclass InventoryUpdates extends LaunchUpdateMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/inventory_updates/';\n    this.createSyncCancel = this.createSyncCancel.bind(this);\n  }\n\n  createSyncCancel(sourceId) {\n    return this.http.post(`${this.baseUrl}${sourceId}/cancel/`);\n  }\n}\nexport default InventoryUpdates;\n","import Base from '../Base';\nimport NotificationsMixin from '../mixins/Notifications.mixin';\nimport InstanceGroupsMixin from '../mixins/InstanceGroups.mixin';\nimport SchedulesMixin from '../mixins/Schedules.mixin';\n\nclass JobTemplates extends SchedulesMixin(\n  InstanceGroupsMixin(NotificationsMixin(Base))\n) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/job_templates/';\n\n    this.launch = this.launch.bind(this);\n    this.readLaunch = this.readLaunch.bind(this);\n    this.associateLabel = this.associateLabel.bind(this);\n    this.disassociateLabel = this.disassociateLabel.bind(this);\n    this.readCredentials = this.readCredentials.bind(this);\n    this.readAccessList = this.readAccessList.bind(this);\n    this.readAccessOptions = this.readAccessOptions.bind(this);\n    this.readWebhookKey = this.readWebhookKey.bind(this);\n  }\n\n  launch(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/launch/`, data);\n  }\n\n  readTemplateOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/`);\n  }\n\n  readLaunch(id) {\n    return this.http.get(`${this.baseUrl}${id}/launch/`);\n  }\n\n  associateLabel(id, label, orgId) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      name: label.name,\n      organization: orgId,\n    });\n  }\n\n  disassociateLabel(id, label) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      id: label.id,\n      disassociate: true,\n    });\n  }\n\n  readCredentials(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/credentials/`, {\n      params,\n    });\n  }\n\n  associateCredentials(id, credentialId) {\n    return this.http.post(`${this.baseUrl}${id}/credentials/`, {\n      id: credentialId,\n    });\n  }\n\n  disassociateCredentials(id, credentialId) {\n    return this.http.post(`${this.baseUrl}${id}/credentials/`, {\n      id: credentialId,\n      disassociate: true,\n    });\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readScheduleList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/schedules/`, {\n      params,\n    });\n  }\n\n  readSurvey(id) {\n    return this.http.get(`${this.baseUrl}${id}/survey_spec/`);\n  }\n\n  updateSurvey(id, survey) {\n    return this.http.post(`${this.baseUrl}${id}/survey_spec/`, survey);\n  }\n\n  destroySurvey(id) {\n    return this.http.delete(`${this.baseUrl}${id}/survey_spec/`);\n  }\n\n  readWebhookKey(id) {\n    return this.http.get(`${this.baseUrl}${id}/webhook_key/`);\n  }\n\n  updateWebhookKey(id) {\n    return this.http.post(`${this.baseUrl}${id}/webhook_key/`);\n  }\n}\n\nexport default JobTemplates;\n","import Base from '../Base';\nimport RelaunchMixin from '../mixins/Relaunch.mixin';\n\nconst getBaseURL = type => {\n  switch (type) {\n    case 'playbook':\n    case 'job':\n      return '/jobs/';\n    case 'project':\n    case 'project_update':\n      return '/project_updates/';\n    case 'system':\n    case 'system_job':\n      return '/system_jobs/';\n    case 'inventory':\n    case 'inventory_update':\n      return '/inventory_updates/';\n    case 'command':\n    case 'ad_hoc_command':\n      return '/ad_hoc_commands/';\n    case 'workflow':\n    case 'workflow_job':\n      return '/workflow_jobs/';\n    default:\n      throw new Error('Unable to find matching job type');\n  }\n};\n\nclass Jobs extends RelaunchMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/jobs/';\n  }\n\n  cancel(id, type) {\n    return this.http.post(`/api/v2${getBaseURL(type)}${id}/cancel/`);\n  }\n\n  readCredentials(id, type) {\n    return this.http.get(`/api/v2${getBaseURL(type)}${id}/credentials/`);\n  }\n\n  readDetail(id, type) {\n    return this.http.get(`/api/v2${getBaseURL(type)}${id}/`);\n  }\n\n  readEvents(id, type = 'playbook', params = {}) {\n    let endpoint;\n    if (type === 'playbook') {\n      endpoint = `/api/v2${getBaseURL(type)}${id}/job_events/`;\n    } else {\n      endpoint = `/api/v2${getBaseURL(type)}${id}/events/`;\n    }\n    return this.http.get(endpoint, { params });\n  }\n}\n\nexport default Jobs;\n","import Base from '../Base';\n\nclass Labels extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/labels/';\n  }\n}\n\nexport default Labels;\n","import Base from '../Base';\n\nclass Me extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/me/';\n  }\n}\n\nexport default Me;\n","import Base from '../Base';\n\nclass NotificationTemplates extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/notification_templates/';\n  }\n\n  test(id) {\n    return this.http.post(`${this.baseUrl}${id}/test/`);\n  }\n}\n\nexport default NotificationTemplates;\n","import Base from '../Base';\n\nclass Notifications extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/notifications/';\n  }\n}\n\nexport default Notifications;\n","import Base from '../Base';\nimport NotificationsMixin from '../mixins/Notifications.mixin';\nimport InstanceGroupsMixin from '../mixins/InstanceGroups.mixin';\n\nclass Organizations extends InstanceGroupsMixin(NotificationsMixin(Base)) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/organizations/';\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, { params });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readTeams(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/teams/`, { params });\n  }\n\n  readTeamsOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/teams/`);\n  }\n\n  readGalaxyCredentials(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/galaxy_credentials/`, {\n      params,\n    });\n  }\n\n  createUser(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/users/`, data);\n  }\n\n  readNotificationTemplatesApprovals(id, params) {\n    return this.http.get(\n      `${this.baseUrl}${id}/notification_templates_approvals/`,\n      { params }\n    );\n  }\n\n  associateNotificationTemplatesApprovals(resourceId, notificationId) {\n    return this.http.post(\n      `${this.baseUrl}${resourceId}/notification_templates_approvals/`,\n      { id: notificationId }\n    );\n  }\n\n  disassociateNotificationTemplatesApprovals(resourceId, notificationId) {\n    return this.http.post(\n      `${this.baseUrl}${resourceId}/notification_templates_approvals/`,\n      { id: notificationId, disassociate: true }\n    );\n  }\n\n  associateGalaxyCredential(resourceId, credentialId) {\n    return this.http.post(`${this.baseUrl}${resourceId}/galaxy_credentials/`, {\n      id: credentialId,\n    });\n  }\n\n  disassociateGalaxyCredential(resourceId, credentialId) {\n    return this.http.post(`${this.baseUrl}${resourceId}/galaxy_credentials/`, {\n      id: credentialId,\n      disassociate: true,\n    });\n  }\n}\n\nexport default Organizations;\n","import Base from '../Base';\n\nclass ProjectUpdates extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/project_updates/';\n  }\n}\n\nexport default ProjectUpdates;\n","import Base from '../Base';\nimport NotificationsMixin from '../mixins/Notifications.mixin';\nimport LaunchUpdateMixin from '../mixins/LaunchUpdate.mixin';\nimport SchedulesMixin from '../mixins/Schedules.mixin';\n\nclass Projects extends SchedulesMixin(\n  LaunchUpdateMixin(NotificationsMixin(Base))\n) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/projects/';\n\n    this.readAccessList = this.readAccessList.bind(this);\n    this.readAccessOptions = this.readAccessOptions.bind(this);\n    this.readInventories = this.readInventories.bind(this);\n    this.readPlaybooks = this.readPlaybooks.bind(this);\n    this.readSync = this.readSync.bind(this);\n    this.sync = this.sync.bind(this);\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, { params });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readInventories(id) {\n    return this.http.get(`${this.baseUrl}${id}/inventories/`);\n  }\n\n  readPlaybooks(id) {\n    return this.http.get(`${this.baseUrl}${id}/playbooks/`);\n  }\n\n  readSync(id) {\n    return this.http.get(`${this.baseUrl}${id}/update/`);\n  }\n\n  sync(id) {\n    return this.http.post(`${this.baseUrl}${id}/update/`);\n  }\n}\n\nexport default Projects;\n","import Base from '../Base';\n\nclass Roles extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/roles/';\n  }\n\n  disassociateUserRole(roleId, userId) {\n    return this.http.post(`${this.baseUrl}${roleId}/users/`, {\n      disassociate: true,\n      id: userId,\n    });\n  }\n\n  disassociateTeamRole(roleId, teamId) {\n    return this.http.post(`${this.baseUrl}${roleId}/teams/`, {\n      disassociate: true,\n      id: teamId,\n    });\n  }\n}\nexport default Roles;\n","import Base from '../Base';\n\nclass Root extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/';\n    this.redirectURL = '/api/v2/config/';\n  }\n\n  async login(username, password, redirect = this.redirectURL) {\n    const loginUrl = `${this.baseUrl}login/`;\n    const un = encodeURIComponent(username);\n    const pw = encodeURIComponent(password);\n    const next = encodeURIComponent(redirect);\n\n    const data = `username=${un}&password=${pw}&next=${next}`;\n    const headers = { 'Content-Type': 'application/x-www-form-urlencoded' };\n\n    await this.http.get(loginUrl, { headers });\n    const response = await this.http.post(loginUrl, data, { headers });\n\n    return response;\n  }\n\n  logout() {\n    return this.http.get(`${this.baseUrl}logout/`);\n  }\n\n  readAssetVariables() {\n    // TODO: There's better ways of doing this. Build tools, scripts,\n    // automation etc. should relocate this variable file to an importable\n    // location in src prior to building. That said, a raw http call\n    // works for now.\n    return this.http.get('/static/media/default.strings.json');\n  }\n}\n\nexport default Root;\n","import Base from '../Base';\n\nclass Schedules extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/schedules/';\n  }\n\n  createPreview(data) {\n    return this.http.post(`${this.baseUrl}preview/`, data);\n  }\n\n  readCredentials(resourceId, params) {\n    return this.http.get(`${this.baseUrl}${resourceId}/credentials/`, params);\n  }\n\n  readZoneInfo() {\n    return this.http.get(`${this.baseUrl}zoneinfo/`);\n  }\n}\n\nexport default Schedules;\n","import Base from '../Base';\n\nclass Settings extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/settings/';\n  }\n\n  readAllOptions() {\n    return this.http.options(`${this.baseUrl}all/`);\n  }\n\n  updateAll(data) {\n    return this.http.patch(`${this.baseUrl}all/`, data);\n  }\n\n  readCategory(category) {\n    return this.http.get(`${this.baseUrl}${category}/`);\n  }\n\n  readCategoryOptions(category) {\n    return this.http.options(`${this.baseUrl}${category}/`);\n  }\n\n  createTest(category, data) {\n    return this.http.post(`${this.baseUrl}${category}/test/`, data);\n  }\n}\n\nexport default Settings;\n","import Base from '../Base';\n\nclass SystemJobs extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/system_jobs/';\n  }\n}\n\nexport default SystemJobs;\n","import Base from '../Base';\n\nclass Teams extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/teams/';\n  }\n\n  associateRole(teamId, roleId) {\n    return this.http.post(`${this.baseUrl}${teamId}/roles/`, {\n      id: roleId,\n    });\n  }\n\n  disassociateRole(teamId, roleId) {\n    return this.http.post(`${this.baseUrl}${teamId}/roles/`, {\n      id: roleId,\n      disassociate: true,\n    });\n  }\n\n  readRoles(teamId, params) {\n    return this.http.get(`${this.baseUrl}${teamId}/roles/`, {\n      params,\n    });\n  }\n\n  readRoleOptions(teamId) {\n    return this.http.options(`${this.baseUrl}${teamId}/roles/`);\n  }\n\n  readAccessList(teamId, params) {\n    return this.http.get(`${this.baseUrl}${teamId}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readUsersAccessOptions(teamId) {\n    return this.http.options(`${this.baseUrl}${teamId}/users/`);\n  }\n}\n\nexport default Teams;\n","import Base from '../Base';\n\nclass Tokens extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/tokens/';\n  }\n}\n\nexport default Tokens;\n","import Base from '../Base';\n\nclass UnifiedJobTemplates extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/unified_job_templates/';\n  }\n}\n\nexport default UnifiedJobTemplates;\n","import Base from '../Base';\n\nclass UnifiedJobs extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/unified_jobs/';\n  }\n}\n\nexport default UnifiedJobs;\n","import Base from '../Base';\n\nclass Users extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/users/';\n  }\n\n  associateRole(userId, roleId) {\n    return this.http.post(`${this.baseUrl}${userId}/roles/`, {\n      id: roleId,\n    });\n  }\n\n  createToken(userId, data) {\n    return this.http.post(`${this.baseUrl}${userId}/authorized_tokens/`, data);\n  }\n\n  disassociateRole(userId, roleId) {\n    return this.http.post(`${this.baseUrl}${userId}/roles/`, {\n      id: roleId,\n      disassociate: true,\n    });\n  }\n\n  readOrganizations(userId, params) {\n    return this.http.get(`${this.baseUrl}${userId}/organizations/`, {\n      params,\n    });\n  }\n\n  readRoles(userId, params) {\n    return this.http.get(`${this.baseUrl}${userId}/roles/`, {\n      params,\n    });\n  }\n\n  readRoleOptions(userId) {\n    return this.http.options(`${this.baseUrl}${userId}/roles/`);\n  }\n\n  readTeams(userId, params) {\n    return this.http.get(`${this.baseUrl}${userId}/teams/`, {\n      params,\n    });\n  }\n\n  readTeamsOptions(userId) {\n    return this.http.options(`${this.baseUrl}${userId}/teams/`);\n  }\n\n  readTokens(userId, params) {\n    return this.http.get(`${this.baseUrl}${userId}/tokens/`, {\n      params,\n    });\n  }\n\n  readAdminOfOrganizations(userId, params) {\n    return this.http.get(`${this.baseUrl}${userId}/admin_of_organizations/`, {\n      params,\n    });\n  }\n\n  readTokenOptions(userId) {\n    return this.http.options(`${this.baseUrl}${userId}/tokens/`);\n  }\n}\n\nexport default Users;\n","import Base from '../Base';\n\nclass WorkflowApprovals extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/workflow_approvals/';\n  }\n\n  approve(id) {\n    return this.http.post(`${this.baseUrl}${id}/approve/`);\n  }\n\n  deny(id) {\n    return this.http.post(`${this.baseUrl}${id}/deny/`);\n  }\n}\n\nexport default WorkflowApprovals;\n","import Base from '../Base';\n\nclass WorkflowApprovalTemplates extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/workflow_approval_templates/';\n  }\n}\n\nexport default WorkflowApprovalTemplates;\n","import Base from '../Base';\n\nclass WorkflowJobTemplateNodes extends Base {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/workflow_job_template_nodes/';\n  }\n\n  createApprovalTemplate(id, data) {\n    return this.http.post(\n      `${this.baseUrl}${id}/create_approval_template/`,\n      data\n    );\n  }\n\n  associateSuccessNode(id, idToAssociate) {\n    return this.http.post(`${this.baseUrl}${id}/success_nodes/`, {\n      id: idToAssociate,\n    });\n  }\n\n  associateFailureNode(id, idToAssociate) {\n    return this.http.post(`${this.baseUrl}${id}/failure_nodes/`, {\n      id: idToAssociate,\n    });\n  }\n\n  associateAlwaysNode(id, idToAssociate) {\n    return this.http.post(`${this.baseUrl}${id}/always_nodes/`, {\n      id: idToAssociate,\n    });\n  }\n\n  disassociateSuccessNode(id, idToDissociate) {\n    return this.http.post(`${this.baseUrl}${id}/success_nodes/`, {\n      id: idToDissociate,\n      disassociate: true,\n    });\n  }\n\n  disassociateFailuresNode(id, idToDissociate) {\n    return this.http.post(`${this.baseUrl}${id}/failure_nodes/`, {\n      id: idToDissociate,\n      disassociate: true,\n    });\n  }\n\n  disassociateAlwaysNode(id, idToDissociate) {\n    return this.http.post(`${this.baseUrl}${id}/always_nodes/`, {\n      id: idToDissociate,\n      disassociate: true,\n    });\n  }\n\n  readCredentials(id) {\n    return this.http.get(`${this.baseUrl}${id}/credentials/`);\n  }\n\n  associateCredentials(id, credentialId) {\n    return this.http.post(`${this.baseUrl}${id}/credentials/`, {\n      id: credentialId,\n    });\n  }\n\n  disassociateCredentials(id, credentialId) {\n    return this.http.post(`${this.baseUrl}${id}/credentials/`, {\n      id: credentialId,\n      disassociate: true,\n    });\n  }\n}\n\nexport default WorkflowJobTemplateNodes;\n","import Base from '../Base';\nimport SchedulesMixin from '../mixins/Schedules.mixin';\nimport NotificationsMixin from '../mixins/Notifications.mixin';\n\nclass WorkflowJobTemplates extends SchedulesMixin(NotificationsMixin(Base)) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/workflow_job_templates/';\n  }\n\n  readWebhookKey(id) {\n    return this.http.get(`${this.baseUrl}${id}/webhook_key/`);\n  }\n\n  readWorkflowJobTemplateOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/`);\n  }\n\n  updateWebhookKey(id) {\n    return this.http.post(`${this.baseUrl}${id}/webhook_key/`);\n  }\n\n  associateLabel(id, label, orgId) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      name: label.name,\n      organization: orgId,\n    });\n  }\n\n  createNode(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/workflow_nodes/`, data);\n  }\n\n  disassociateLabel(id, label) {\n    return this.http.post(`${this.baseUrl}${id}/labels/`, {\n      id: label.id,\n      disassociate: true,\n    });\n  }\n\n  launch(id, data) {\n    return this.http.post(`${this.baseUrl}${id}/launch/`, data);\n  }\n\n  readLaunch(id) {\n    return this.http.get(`${this.baseUrl}${id}/launch/`);\n  }\n\n  readNodes(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/workflow_nodes/`, {\n      params,\n    });\n  }\n\n  readAccessList(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/access_list/`, {\n      params,\n    });\n  }\n\n  readAccessOptions(id) {\n    return this.http.options(`${this.baseUrl}${id}/access_list/`);\n  }\n\n  readSurvey(id) {\n    return this.http.get(`${this.baseUrl}${id}/survey_spec/`);\n  }\n\n  updateSurvey(id, survey) {\n    return this.http.post(`${this.baseUrl}${id}/survey_spec/`, survey);\n  }\n\n  destroySurvey(id) {\n    return this.http.delete(`${this.baseUrl}${id}/survey_spec/`);\n  }\n\n  readNotificationTemplatesApprovals(id, params) {\n    return this.http.get(\n      `${this.baseUrl}${id}/notification_templates_approvals/`,\n      {\n        params,\n      }\n    );\n  }\n\n  associateNotificationTemplatesApprovals(resourceId, notificationId) {\n    return this.http.post(\n      `${this.baseUrl}${resourceId}/notification_templates_approvals/`,\n      {\n        id: notificationId,\n      }\n    );\n  }\n\n  disassociateNotificationTemplatesApprovals(resourceId, notificationId) {\n    return this.http.post(\n      `${this.baseUrl}${resourceId}/notification_templates_approvals/`,\n      {\n        id: notificationId,\n        disassociate: true,\n      }\n    );\n  }\n}\n\nexport default WorkflowJobTemplates;\n","import Base from '../Base';\nimport RelaunchMixin from '../mixins/Relaunch.mixin';\n\nclass WorkflowJobs extends RelaunchMixin(Base) {\n  constructor(http) {\n    super(http);\n    this.baseUrl = '/api/v2/workflow_jobs/';\n  }\n\n  readNodes(id, params) {\n    return this.http.get(`${this.baseUrl}${id}/workflow_nodes/`, { params });\n  }\n}\n\nexport default WorkflowJobs;\n","import ActivityStream from './models/ActivityStream';\nimport AdHocCommands from './models/AdHocCommands';\nimport Applications from './models/Applications';\nimport Auth from './models/Auth';\nimport Config from './models/Config';\nimport CredentialInputSources from './models/CredentialInputSources';\nimport CredentialTypes from './models/CredentialTypes';\nimport Credentials from './models/Credentials';\nimport Dashboard from './models/Dashboard';\nimport Groups from './models/Groups';\nimport Hosts from './models/Hosts';\nimport InstanceGroups from './models/InstanceGroups';\nimport Instances from './models/Instances';\nimport Inventories from './models/Inventories';\nimport InventoryScripts from './models/InventoryScripts';\nimport InventorySources from './models/InventorySources';\nimport InventoryUpdates from './models/InventoryUpdates';\nimport JobTemplates from './models/JobTemplates';\nimport Jobs from './models/Jobs';\nimport Labels from './models/Labels';\nimport Me from './models/Me';\nimport NotificationTemplates from './models/NotificationTemplates';\nimport Notifications from './models/Notifications';\nimport Organizations from './models/Organizations';\nimport ProjectUpdates from './models/ProjectUpdates';\nimport Projects from './models/Projects';\nimport Roles from './models/Roles';\nimport Root from './models/Root';\nimport Schedules from './models/Schedules';\nimport Settings from './models/Settings';\nimport SystemJobs from './models/SystemJobs';\nimport Teams from './models/Teams';\nimport Tokens from './models/Tokens';\nimport UnifiedJobTemplates from './models/UnifiedJobTemplates';\nimport UnifiedJobs from './models/UnifiedJobs';\nimport Users from './models/Users';\nimport WorkflowApprovals from './models/WorkflowApprovals';\nimport WorkflowApprovalTemplates from './models/WorkflowApprovalTemplates';\nimport WorkflowJobTemplateNodes from './models/WorkflowJobTemplateNodes';\nimport WorkflowJobTemplates from './models/WorkflowJobTemplates';\nimport WorkflowJobs from './models/WorkflowJobs';\n\nconst ActivityStreamAPI = new ActivityStream();\nconst AdHocCommandsAPI = new AdHocCommands();\nconst ApplicationsAPI = new Applications();\nconst AuthAPI = new Auth();\nconst ConfigAPI = new Config();\nconst CredentialInputSourcesAPI = new CredentialInputSources();\nconst CredentialTypesAPI = new CredentialTypes();\nconst CredentialsAPI = new Credentials();\nconst DashboardAPI = new Dashboard();\nconst GroupsAPI = new Groups();\nconst HostsAPI = new Hosts();\nconst InstanceGroupsAPI = new InstanceGroups();\nconst InstancesAPI = new Instances();\nconst InventoriesAPI = new Inventories();\nconst InventoryScriptsAPI = new InventoryScripts();\nconst InventorySourcesAPI = new InventorySources();\nconst InventoryUpdatesAPI = new InventoryUpdates();\nconst JobTemplatesAPI = new JobTemplates();\nconst JobsAPI = new Jobs();\nconst LabelsAPI = new Labels();\nconst MeAPI = new Me();\nconst NotificationTemplatesAPI = new NotificationTemplates();\nconst NotificationsAPI = new Notifications();\nconst OrganizationsAPI = new Organizations();\nconst ProjectUpdatesAPI = new ProjectUpdates();\nconst ProjectsAPI = new Projects();\nconst RolesAPI = new Roles();\nconst RootAPI = new Root();\nconst SchedulesAPI = new Schedules();\nconst SettingsAPI = new Settings();\nconst SystemJobsAPI = new SystemJobs();\nconst TeamsAPI = new Teams();\nconst TokensAPI = new Tokens();\nconst UnifiedJobTemplatesAPI = new UnifiedJobTemplates();\nconst UnifiedJobsAPI = new UnifiedJobs();\nconst UsersAPI = new Users();\nconst WorkflowApprovalsAPI = new WorkflowApprovals();\nconst WorkflowApprovalTemplatesAPI = new WorkflowApprovalTemplates();\nconst WorkflowJobTemplateNodesAPI = new WorkflowJobTemplateNodes();\nconst WorkflowJobTemplatesAPI = new WorkflowJobTemplates();\nconst WorkflowJobsAPI = new WorkflowJobs();\n\nexport {\n  ActivityStreamAPI,\n  AdHocCommandsAPI,\n  ApplicationsAPI,\n  AuthAPI,\n  ConfigAPI,\n  CredentialInputSourcesAPI,\n  CredentialTypesAPI,\n  CredentialsAPI,\n  DashboardAPI,\n  GroupsAPI,\n  HostsAPI,\n  InstanceGroupsAPI,\n  InstancesAPI,\n  InventoriesAPI,\n  InventoryScriptsAPI,\n  InventorySourcesAPI,\n  InventoryUpdatesAPI,\n  JobTemplatesAPI,\n  JobsAPI,\n  LabelsAPI,\n  MeAPI,\n  NotificationTemplatesAPI,\n  NotificationsAPI,\n  OrganizationsAPI,\n  ProjectUpdatesAPI,\n  ProjectsAPI,\n  RolesAPI,\n  RootAPI,\n  SchedulesAPI,\n  SettingsAPI,\n  SystemJobsAPI,\n  TeamsAPI,\n  TokensAPI,\n  UnifiedJobTemplatesAPI,\n  UnifiedJobsAPI,\n  UsersAPI,\n  WorkflowApprovalsAPI,\n  WorkflowApprovalTemplatesAPI,\n  WorkflowJobTemplateNodesAPI,\n  WorkflowJobTemplatesAPI,\n  WorkflowJobsAPI,\n};\n","import React, { useContext } from 'react';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const ConfigContext = React.createContext({});\n\nexport const ConfigProvider = ConfigContext.Provider;\nexport const Config = ConfigContext.Consumer;\nexport const useConfig = () => useContext(ConfigContext);\n","// eslint-disable-next-line import/prefer-default-export\nexport function isAuthenticated(cookie) {\n  const parsed = `; ${cookie}`.split('; userLoggedIn=');\n  if (parsed.length === 2) {\n    return (\n      parsed\n        .pop()\n        .split(';')\n        .shift() === 'true'\n    );\n  }\n  return false;\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  AboutModal,\n  TextContent,\n  TextList,\n  TextListItem,\n} from '@patternfly/react-core';\n\nimport { BrandName } from '../../variables';\nimport brandLogoImg from './brand-logo.svg';\n\nfunction About({ ansible_version, version, isOpen, onClose, i18n }) {\n  const createSpeechBubble = () => {\n    let text = `${BrandName} ${version}`;\n    let top = '';\n    let bottom = '';\n\n    for (let i = 0; i < text.length; i++) {\n      top += '_';\n      bottom += '-';\n    }\n\n    top = ` __${top}__ \\n`;\n    text = `<  ${text}  >\\n`;\n    bottom = ` --${bottom}-- `;\n\n    return top + text + bottom;\n  };\n\n  const speechBubble = createSpeechBubble();\n\n  return (\n    <AboutModal\n      isOpen={isOpen}\n      onClose={onClose}\n      productName={`Ansible ${BrandName}`}\n      trademark={i18n._(t`Copyright 2019 Red Hat, Inc.`)}\n      brandImageSrc={brandLogoImg}\n      brandImageAlt={i18n._(t`Brand Image`)}\n    >\n      <pre>\n        {speechBubble}\n        {`\n          \\\\\n          \\\\   ^__^\n              (oo)\\\\_______\n              (__)      A )\\\\\n                  ||----w |\n                  ||     ||\n                    `}\n      </pre>\n      <TextContent>\n        <TextList component=\"dl\">\n          <TextListItem component=\"dt\">\n            {i18n._(t`Ansible Version`)}\n          </TextListItem>\n          <TextListItem component=\"dd\">{ansible_version}</TextListItem>\n        </TextList>\n      </TextContent>\n    </AboutModal>\n  );\n}\n\nAbout.propTypes = {\n  ansible_version: PropTypes.string,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  version: PropTypes.string,\n};\n\nAbout.defaultProps = {\n  ansible_version: null,\n  isOpen: false,\n  version: null,\n};\n\nexport default withI18n()(About);\n","export const BrandName = 'AWX';\nexport const PendoAPIKey = '';\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Modal, Title } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  ExclamationTriangleIcon,\n  InfoCircleIcon,\n  TimesCircleIcon,\n} from '@patternfly/react-icons';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\n\nconst Header = styled.div`\n  display: flex;\n  svg {\n    margin-right: 16px;\n  }\n`;\n\nfunction AlertModal({\n  i18n,\n  isOpen = null,\n  title,\n  label,\n  variant,\n  children,\n  i18nHash,\n  ...props\n}) {\n  const variantIcons = {\n    danger: (\n      <ExclamationCircleIcon\n        size=\"lg\"\n        css=\"color: var(--pf-global--danger-color--100)\"\n      />\n    ),\n    error: (\n      <TimesCircleIcon\n        size=\"lg\"\n        css=\"color: var(--pf-global--danger-color--100)\"\n      />\n    ),\n    info: (\n      <InfoCircleIcon\n        size=\"lg\"\n        css=\"color: var(--pf-global--info-color--100)\"\n      />\n    ),\n    success: (\n      <CheckCircleIcon\n        size=\"lg\"\n        css=\"color: var(--pf-global--success-color--100)\"\n      />\n    ),\n    warning: (\n      <ExclamationTriangleIcon\n        size=\"lg\"\n        css=\"color: var(--pf-global--warning-color--100)\"\n      />\n    ),\n  };\n\n  const customHeader = (\n    <Header>\n      {variant ? variantIcons[variant] : null}\n      <Title id=\"alert-modal-header-label\" size=\"2xl\" headingLevel=\"h2\">\n        {title}\n      </Title>\n    </Header>\n  );\n\n  return (\n    <Modal\n      header={customHeader}\n      aria-label={label || i18n._(t`Alert modal`)}\n      aria-labelledby=\"alert-modal-header-label\"\n      isOpen={Boolean(isOpen)}\n      variant=\"small\"\n      title={title}\n      {...props}\n    >\n      {children}\n    </Modal>\n  );\n}\n\nexport default withI18n()(AlertModal);\n","import React, { useState, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Card as PFCard,\n  CardBody as PFCardBody,\n  ExpandableSection as PFExpandable,\n} from '@patternfly/react-core';\nimport getErrorMessage from './getErrorMessage';\n\nconst Card = styled(PFCard)`\n  background-color: var(--pf-global--BackgroundColor--200);\n  overflow-wrap: break-word;\n`;\n\nconst CardBody = styled(PFCardBody)`\n  max-height: 200px;\n  overflow: scroll;\n`;\n\nconst Expandable = styled(PFExpandable)`\n  text-align: left;\n\n  & .pf-c-expandable__toggle {\n    padding-left: 10px;\n    margin-left: 5px;\n    margin-top: 10px;\n    margin-bottom: 10px;\n  }\n`;\n\nfunction ErrorDetail({ error, i18n }) {\n  const { response } = error;\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const handleToggle = () => {\n    setIsExpanded(!isExpanded);\n  };\n\n  const renderNetworkError = () => {\n    const message = getErrorMessage(response);\n\n    return (\n      <Fragment>\n        <CardBody>\n          {response?.config?.method.toUpperCase()} {response?.config?.url}{' '}\n          <strong>{response?.status}</strong>\n        </CardBody>\n        <CardBody>\n          {Array.isArray(message) ? (\n            <ul>\n              {message.map(m =>\n                typeof m === 'string' ? <li key={m}>{m}</li> : null\n              )}\n            </ul>\n          ) : (\n            message\n          )}\n        </CardBody>\n      </Fragment>\n    );\n  };\n\n  const renderStack = () => {\n    return <CardBody>{error.stack}</CardBody>;\n  };\n\n  return (\n    <Expandable\n      toggleText={i18n._(t`Details`)}\n      onToggle={handleToggle}\n      isExpanded={isExpanded}\n    >\n      <Card>\n        {Object.prototype.hasOwnProperty.call(error, 'response')\n          ? renderNetworkError()\n          : renderStack()}\n      </Card>\n    </Expandable>\n  );\n}\n\nErrorDetail.propTypes = {\n  error: PropTypes.instanceOf(Error).isRequired,\n};\n\nexport default withI18n()(ErrorDetail);\n","export default function getErrorMessage(response) {\n  if (!response?.data) {\n    return null;\n  }\n  if (typeof response.data === 'string') {\n    return response.data;\n  }\n  if (response.data.detail) {\n    return response.data.detail;\n  }\n  return Object.values(response.data).reduce(\n    (acc, currentValue) => acc.concat(currentValue),\n    []\n  );\n}\n","import React from 'react';\n\nimport styled from 'styled-components';\n\nconst BrandImg = styled.img`\n  flex: initial;\n  height: 76px;\n  width: initial;\n  padding-left: 0px;\n  margin: 0px 0px 0px 0px;\n  max-width: 100px;\n  max-height: initial;\n  pointer-events: none;\n`;\n\nconst BrandLogo = () => <BrandImg src=\"/static/media/logo-header.svg\" />;\n\nexport default BrandLogo;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { matchPath, Link, withRouter } from 'react-router-dom';\nimport { NavExpandable, NavItem } from '@patternfly/react-core';\n\nclass NavExpandableGroup extends Component {\n  constructor(props) {\n    super(props);\n    const { routes } = this.props;\n\n    // Extract a list of paths from the route params and store them for later. This creates\n    // an array of url paths associated with any NavItem component rendered by this component.\n    this.navItemPaths = routes.map(({ path }) => path);\n    this.isActiveGroup = this.isActiveGroup.bind(this);\n    this.isActivePath = this.isActivePath.bind(this);\n  }\n\n  isActiveGroup() {\n    return this.navItemPaths.some(this.isActivePath);\n  }\n\n  isActivePath(path) {\n    const { history } = this.props;\n    return Boolean(matchPath(history.location.pathname, { path }));\n  }\n\n  render() {\n    const { groupId, groupTitle, routes } = this.props;\n\n    if (routes.length === 1) {\n      const [{ path }] = routes;\n      return (\n        <NavItem itemId={groupId} isActive={this.isActivePath(path)} key={path}>\n          <Link to={path}>{groupTitle}</Link>\n        </NavItem>\n      );\n    }\n\n    return (\n      <NavExpandable\n        isActive={this.isActiveGroup()}\n        isExpanded\n        groupId={groupId}\n        title={groupTitle}\n      >\n        {routes.map(({ path, title }) => (\n          <NavItem\n            groupId={groupId}\n            isActive={this.isActivePath(path)}\n            key={path}\n          >\n            <Link to={path}>{title}</Link>\n          </NavItem>\n        ))}\n      </NavExpandable>\n    );\n  }\n}\n\nNavExpandableGroup.propTypes = {\n  groupId: PropTypes.string.isRequired,\n  groupTitle: PropTypes.string.isRequired,\n  routes: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default withRouter(NavExpandableGroup);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Dropdown,\n  DropdownItem,\n  DropdownToggle,\n  DropdownPosition,\n  PageHeaderTools,\n  PageHeaderToolsGroup,\n  PageHeaderToolsItem,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { QuestionCircleIcon, UserIcon } from '@patternfly/react-icons';\n\nconst DOCLINK =\n  'https://docs.ansible.com/ansible-tower/latest/html/userguide/index.html';\n\nfunction PageHeaderToolbar({\n  isAboutDisabled,\n  onAboutClick,\n  onLogoutClick,\n  loggedInUser,\n  i18n,\n}) {\n  const [isHelpOpen, setIsHelpOpen] = useState(false);\n  const [isUserOpen, setIsUserOpen] = useState(false);\n\n  const handleHelpSelect = () => {\n    setIsHelpOpen(!isHelpOpen);\n  };\n\n  const handleUserSelect = () => {\n    setIsUserOpen(!isUserOpen);\n  };\n\n  return (\n    <PageHeaderTools>\n      <PageHeaderToolsGroup>\n        <Tooltip position=\"left\" content={<div>{i18n._(t`Info`)}</div>}>\n          <PageHeaderToolsItem>\n            <Dropdown\n              isPlain\n              isOpen={isHelpOpen}\n              position={DropdownPosition.right}\n              onSelect={handleHelpSelect}\n              toggle={\n                <DropdownToggle\n                  onToggle={setIsHelpOpen}\n                  aria-label={i18n._(t`Info`)}\n                >\n                  <QuestionCircleIcon />\n                </DropdownToggle>\n              }\n              dropdownItems={[\n                <DropdownItem key=\"help\" target=\"_blank\" href={DOCLINK}>\n                  {i18n._(t`Help`)}\n                </DropdownItem>,\n                <DropdownItem\n                  key=\"about\"\n                  component=\"button\"\n                  isDisabled={isAboutDisabled}\n                  onClick={onAboutClick}\n                >\n                  {i18n._(t`About`)}\n                </DropdownItem>,\n              ]}\n            />\n          </PageHeaderToolsItem>\n        </Tooltip>\n        <Tooltip position=\"left\" content={<div>{i18n._(t`User`)}</div>}>\n          <PageHeaderToolsItem>\n            <Dropdown\n              id=\"toolbar-user-dropdown\"\n              isPlain\n              isOpen={isUserOpen}\n              position={DropdownPosition.right}\n              onSelect={handleUserSelect}\n              toggle={\n                <DropdownToggle onToggle={setIsUserOpen}>\n                  <UserIcon />\n                  {loggedInUser && (\n                    <span style={{ marginLeft: '10px' }}>\n                      {loggedInUser.username}\n                    </span>\n                  )}\n                </DropdownToggle>\n              }\n              dropdownItems={[\n                <DropdownItem\n                  key=\"user\"\n                  href={\n                    loggedInUser ? `/users/${loggedInUser.id}/details` : '/home'\n                  }\n                >\n                  {i18n._(t`User Details`)}\n                </DropdownItem>,\n                <DropdownItem\n                  key=\"logout\"\n                  component=\"button\"\n                  onClick={onLogoutClick}\n                  id=\"logout-button\"\n                >\n                  {i18n._(t`Logout`)}\n                </DropdownItem>,\n              ]}\n            />\n          </PageHeaderToolsItem>\n        </Tooltip>\n      </PageHeaderToolsGroup>\n    </PageHeaderTools>\n  );\n}\n\nPageHeaderToolbar.propTypes = {\n  isAboutDisabled: PropTypes.bool,\n  onAboutClick: PropTypes.func.isRequired,\n  onLogoutClick: PropTypes.func.isRequired,\n};\n\nPageHeaderToolbar.defaultProps = {\n  isAboutDisabled: false,\n};\n\nexport default withI18n()(PageHeaderToolbar);\n","import React, { useEffect, useState, useCallback, useRef } from 'react';\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\nimport {\n  Button,\n  Nav,\n  NavList,\n  Page,\n  PageHeader as PFPageHeader,\n  PageSidebar,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport styled from 'styled-components';\n\nimport { ConfigAPI, MeAPI, RootAPI } from '../../api';\nimport { ConfigProvider } from '../../contexts/Config';\nimport { SESSION_TIMEOUT_KEY } from '../../constants';\nimport { isAuthenticated } from '../../util/auth';\nimport About from '../About';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport BrandLogo from './BrandLogo';\nimport NavExpandableGroup from './NavExpandableGroup';\nimport PageHeaderToolbar from './PageHeaderToolbar';\n\n// The maximum supported timeout for setTimeout(), in milliseconds,\n// is the highest number you can represent as a signed 32bit\n// integer (approximately 25 days)\nconst MAX_TIMEOUT = 2 ** (32 - 1) - 1;\n\n// The number of seconds the session timeout warning is displayed\n// before the user is logged out. Increasing this number (up to\n// the total session time, which is 1800s by default) will cause\n// the session timeout warning to display sooner.\nconst SESSION_WARNING_DURATION = 10;\n\nconst PageHeader = styled(PFPageHeader)`\n  & .pf-c-page__header-brand-link {\n    color: inherit;\n\n    &:hover {\n      color: inherit;\n    }\n  }\n`;\n\n/**\n * The useStorage hook integrates with the browser's localStorage api.\n * It accepts a storage key as its only argument and returns a state\n * variable and setter function for that state variable.\n *\n * This utility behaves much like the standard useState hook with some\n * key differences:\n *   1. You don't pass it an initial value. Instead, the provided key\n *      is used to retrieve the initial value from local storage. If\n *      the key doesn't exist in local storage, null is returned.\n *   2. Behind the scenes, this hook registers an event listener with\n *      the Web Storage api to establish a two-way binding between the\n *      state variable and its corresponding local storage value. This\n *      means that updates to the state variable with the setter\n *      function will produce a corresponding update to the local\n *      storage value and vice-versa.\n *   3. When local storage is shared across browser tabs, the data\n *      binding is also shared across browser tabs. This means that\n *      updates to the state variable using the setter function on\n *      one tab will also update the state variable on any other tab\n *      using this hook with the same key and vice-versa.\n */\nfunction useStorage(key) {\n  const [storageVal, setStorageVal] = useState(\n    window.localStorage.getItem(key)\n  );\n  window.addEventListener('storage', () => {\n    const newVal = window.localStorage.getItem(key);\n    if (newVal !== storageVal) {\n      setStorageVal(newVal);\n    }\n  });\n  const setValue = val => {\n    window.localStorage.setItem(key, val);\n    setStorageVal(val);\n  };\n  return [storageVal, setValue];\n}\n\nfunction AppContainer({ i18n, navRouteConfig = [], children }) {\n  const history = useHistory();\n  const { pathname } = useLocation();\n  const [config, setConfig] = useState({});\n  const [configError, setConfigError] = useState(null);\n  const [isAboutModalOpen, setIsAboutModalOpen] = useState(false);\n  const [isReady, setIsReady] = useState(false);\n\n  const sessionTimeoutId = useRef();\n  const sessionIntervalId = useRef();\n  const [sessionTimeout, setSessionTimeout] = useStorage(SESSION_TIMEOUT_KEY);\n  const [timeoutWarning, setTimeoutWarning] = useState(false);\n  const [timeRemaining, setTimeRemaining] = useState(null);\n\n  const handleAboutModalOpen = () => setIsAboutModalOpen(true);\n  const handleAboutModalClose = () => setIsAboutModalOpen(false);\n  const handleConfigErrorClose = () => setConfigError(null);\n  const handleSessionTimeout = () => setTimeoutWarning(true);\n\n  const handleLogout = useCallback(async () => {\n    await RootAPI.logout();\n    setSessionTimeout(null);\n  }, [setSessionTimeout]);\n\n  const handleSessionContinue = () => {\n    MeAPI.read();\n    setTimeoutWarning(false);\n  };\n\n  useEffect(() => {\n    if (!isAuthenticated(document.cookie)) history.replace('/login');\n    const calcRemaining = () =>\n      parseInt(sessionTimeout, 10) - new Date().getTime();\n    const updateRemaining = () => setTimeRemaining(calcRemaining());\n    setTimeoutWarning(false);\n    clearTimeout(sessionTimeoutId.current);\n    clearInterval(sessionIntervalId.current);\n    sessionTimeoutId.current = setTimeout(\n      handleSessionTimeout,\n      Math.min(calcRemaining() - SESSION_WARNING_DURATION * 1000, MAX_TIMEOUT)\n    );\n    sessionIntervalId.current = setInterval(updateRemaining, 1000);\n    return () => {\n      clearTimeout(sessionTimeoutId.current);\n      clearInterval(sessionIntervalId.current);\n    };\n  }, [history, sessionTimeout]);\n\n  useEffect(() => {\n    if (timeRemaining !== null && timeRemaining <= 1) {\n      handleLogout();\n    }\n  }, [handleLogout, timeRemaining]);\n\n  useEffect(() => {\n    const loadConfig = async () => {\n      if (config?.version) return;\n      try {\n        const [\n          { data },\n          {\n            data: {\n              results: [me],\n            },\n          },\n        ] = await Promise.all([ConfigAPI.read(), MeAPI.read()]);\n        setConfig({ ...data, me });\n        setIsReady(true);\n      } catch (err) {\n        if (err.response.status === 401) {\n          handleLogout();\n          return;\n        }\n        setConfigError(err);\n      }\n    };\n    loadConfig();\n  }, [config, pathname, handleLogout]);\n\n  const header = (\n    <PageHeader\n      showNavToggle\n      logo={<BrandLogo />}\n      logoProps={{ href: '/' }}\n      headerTools={\n        <PageHeaderToolbar\n          loggedInUser={config?.me}\n          isAboutDisabled={!config?.version}\n          onAboutClick={handleAboutModalOpen}\n          onLogoutClick={handleLogout}\n        />\n      }\n    />\n  );\n\n  const sidebar = (\n    <PageSidebar\n      theme=\"dark\"\n      nav={\n        <Nav aria-label={i18n._(t`Navigation`)} theme=\"dark\">\n          <NavList>\n            {navRouteConfig.map(({ groupId, groupTitle, routes }) => (\n              <NavExpandableGroup\n                key={groupId}\n                groupId={groupId}\n                groupTitle={groupTitle}\n                routes={routes}\n              />\n            ))}\n          </NavList>\n        </Nav>\n      }\n    />\n  );\n\n  return (\n    <>\n      <Page isManagedSidebar header={header} sidebar={sidebar}>\n        {isReady && <ConfigProvider value={config}>{children}</ConfigProvider>}\n      </Page>\n      <About\n        ansible_version={config?.ansible_version}\n        version={config?.version}\n        isOpen={isAboutModalOpen}\n        onClose={handleAboutModalClose}\n      />\n      <AlertModal\n        isOpen={configError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={handleConfigErrorClose}\n      >\n        {i18n._(t`Failed to retrieve configuration.`)}\n        <ErrorDetail error={configError} />\n      </AlertModal>\n      <AlertModal\n        title={i18n._(t`Your session is about to expire`)}\n        isOpen={timeoutWarning && sessionTimeout > 0 && timeRemaining !== null}\n        onClose={handleLogout}\n        showClose={false}\n        variant=\"warning\"\n        actions={[\n          <Button\n            key=\"confirm\"\n            variant=\"primary\"\n            onClick={handleSessionContinue}\n          >\n            {i18n._(t`Continue`)}\n          </Button>,\n          <Button key=\"logout\" variant=\"secondary\" onClick={handleLogout}>\n            {i18n._(t`Logout`)}\n          </Button>,\n        ]}\n      >\n        {i18n._(\n          t`You will be logged out in ${Number(\n            Math.max(Math.floor(timeRemaining / 1000), 0)\n          )} seconds due to inactivity.`\n        )}\n      </AlertModal>\n    </>\n  );\n}\n\nexport { AppContainer as _AppContainer };\nexport default withI18n()(withRouter(AppContainer));\n","import AppContainer from './AppContainer';\n\nexport default AppContainer;\n","import React, { Fragment } from 'react';\n\nimport { BackgroundImage } from '@patternfly/react-core';\n\nexport default ({ children }) => (\n  <Fragment>\n    <BackgroundImage />\n    {children}\n  </Fragment>\n);\n","import React, { Fragment } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { bool, instanceOf } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { RootAPI } from '../../api';\nimport ErrorDetail from '../ErrorDetail';\n\nasync function logout() {\n  await RootAPI.logout();\n  window.location.replace('/#/login');\n}\n\nfunction ContentError({ error, children, isNotFound, i18n }) {\n  if (error && error.response && error.response.status === 401) {\n    if (!error.response.headers['session-timeout']) {\n      logout();\n      return null;\n    }\n  }\n  const is404 =\n    isNotFound || (error && error.response && error.response.status === 404);\n  const is401 = error && error.response && error.response.status === 401;\n  return (\n    <Fragment>\n      {is401 ? (\n        <Redirect to=\"/login\" />\n      ) : (\n        <EmptyState variant=\"full\">\n          <EmptyStateIcon icon={ExclamationTriangleIcon} />\n          <Title size=\"lg\" headingLevel=\"h3\">\n            {is404 ? i18n._(t`Not Found`) : i18n._(t`Something went wrong...`)}\n          </Title>\n          <EmptyStateBody>\n            {is404\n              ? i18n._(t`The page you requested could not be found.`)\n              : i18n._(\n                  t`There was an error loading this content. Please reload the page.`\n                )}{' '}\n            {children || (\n              <Link to=\"/home\">{i18n._(t`Back to Dashboard.`)}</Link>\n            )}\n          </EmptyStateBody>\n          {error && <ErrorDetail error={error} />}\n        </EmptyState>\n      )}\n    </Fragment>\n  );\n}\nContentError.propTypes = {\n  error: instanceOf(Error),\n  isNotFound: bool,\n};\nContentError.defaultProps = {\n  error: null,\n  isNotFound: false,\n};\n\nexport { ContentError as _ContentError };\nexport default withI18n()(ContentError);\n","import React from 'react';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../components/ContentError';\n\nfunction NotFound() {\n  return (\n    <PageSection>\n      <Card>\n        <ContentError isNotFound />\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default NotFound;\n","import { useEffect, useState, useRef, useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport {\n  parseQueryString,\n  replaceParams,\n  encodeNonDefaultQueryString,\n} from './qs';\n\n/*\n * The useRequest hook accepts a request function and returns an object with\n * five values:\n *   request: a function to call to invoke the request\n *   result: the value returned from the request function (once invoked)\n *   isLoading: boolean state indicating whether the request is in active/in flight\n *   error: any caught error resulting from the request\n *   setValue: setter to explicitly set the result value\n *\n * The hook also accepts an optional second parameter which is a default\n * value to set as result before the first time the request is made.\n */\nexport default function useRequest(makeRequest, initialValue) {\n  const [result, setResult] = useState(initialValue);\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const isMounted = useRef(null);\n\n  useEffect(() => {\n    isMounted.current = true;\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  return {\n    result,\n    error,\n    isLoading,\n    request: useCallback(\n      async (...args) => {\n        setIsLoading(true);\n        try {\n          const response = await makeRequest(...args);\n          if (isMounted.current) {\n            setResult(response);\n            setError(null);\n          }\n        } catch (err) {\n          if (isMounted.current) {\n            setError(err);\n            setResult(initialValue);\n          }\n        } finally {\n          if (isMounted.current) {\n            setIsLoading(false);\n          }\n        }\n      },\n      /* eslint-disable-next-line react-hooks/exhaustive-deps */\n      [makeRequest]\n    ),\n    setValue: setResult,\n  };\n}\n\n/*\n * Provides controls for \"dismissing\" an error message\n *\n * Params: an error object\n * Returns: { error, dismissError }\n *   The returned error object is the same object passed in via the paremeter,\n *   until the dismissError function is called, at which point the returned\n *   error will be set to null on the subsequent render.\n */\nexport function useDismissableError(error) {\n  const [showError, setShowError] = useState(false);\n\n  useEffect(() => {\n    if (error) {\n      setShowError(true);\n    }\n  }, [error]);\n\n  return {\n    error: showError ? error : null,\n    dismissError: () => {\n      setShowError(false);\n    },\n  };\n}\n\n/*\n * Hook to assist with deletion of items from a paginated item list. The page\n * url will be navigated back one page on a paginated list if needed to prevent\n * the UI from re-loading an empty set and displaying a \"No items found\"\n * message.\n *\n * Params: a callback function that will be invoked in order to delete items,\n *   and an object with structure { qsConfig, allItemsSelected, fetchItems }\n * Returns: { isLoading, deleteItems, deletionError, clearDeletionError }\n */\nexport function useDeleteItems(\n  makeRequest,\n  { qsConfig = null, allItemsSelected = false, fetchItems = null } = {}\n) {\n  const location = useLocation();\n  const history = useHistory();\n  const { error: requestError, isLoading, request } = useRequest(\n    makeRequest,\n    null\n  );\n  const { error, dismissError } = useDismissableError(requestError);\n\n  const deleteItems = async () => {\n    await request();\n    if (!qsConfig) {\n      return;\n    }\n    const params = parseQueryString(qsConfig, location.search);\n    if (params.page > 1 && allItemsSelected) {\n      const newParams = encodeNonDefaultQueryString(\n        qsConfig,\n        replaceParams(params, {\n          page: params.page - 1,\n        })\n      );\n      history.push(`${location.pathname}?${newParams}`);\n    } else {\n      fetchItems();\n    }\n  };\n\n  return {\n    isLoading,\n    deleteItems,\n    deletionError: error,\n    clearDeletionError: dismissError,\n  };\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik } from 'formik';\nimport styled from 'styled-components';\nimport {\n  LoginMainFooterLinksItem,\n  LoginForm,\n  LoginPage as PFLoginPage,\n  Tooltip,\n} from '@patternfly/react-core';\nimport {\n  AzureIcon,\n  GoogleIcon,\n  GithubIcon,\n  UserCircleIcon,\n} from '@patternfly/react-icons';\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport { AuthAPI, RootAPI } from '../../api';\nimport AlertModal from '../../components/AlertModal';\nimport ErrorDetail from '../../components/ErrorDetail';\n\nconst loginLogoSrc = '/static/media/logo-login.svg';\n\nconst LoginPage = styled(PFLoginPage)`\n  & .pf-c-brand {\n    max-height: 285px;\n  }\n`;\n\nfunction AWXLogin({ alt, i18n, isAuthenticated }) {\n  const {\n    isLoading: isCustomLoginInfoLoading,\n    error: customLoginInfoError,\n    request: fetchCustomLoginInfo,\n    result: { brandName, logo, loginInfo, socialAuthOptions },\n  } = useRequest(\n    useCallback(async () => {\n      const [\n        {\n          data: { custom_logo, custom_login_info },\n        },\n        {\n          data: { BRAND_NAME },\n        },\n        { data: authData },\n      ] = await Promise.all([\n        RootAPI.read(),\n        RootAPI.readAssetVariables(),\n        AuthAPI.read(),\n      ]);\n      const logoSrc = custom_logo\n        ? `data:image/jpeg;${custom_logo}`\n        : loginLogoSrc;\n      return {\n        brandName: BRAND_NAME,\n        logo: logoSrc,\n        loginInfo: custom_login_info,\n        socialAuthOptions: authData,\n      };\n    }, []),\n    {\n      brandName: null,\n      logo: loginLogoSrc,\n      loginInfo: null,\n      socialAuthOptions: {},\n    }\n  );\n\n  const {\n    error: loginInfoError,\n    dismissError: dismissLoginInfoError,\n  } = useDismissableError(customLoginInfoError);\n\n  useEffect(() => {\n    fetchCustomLoginInfo();\n  }, [fetchCustomLoginInfo]);\n\n  const {\n    isLoading: isAuthenticating,\n    error: authenticationError,\n    request: authenticate,\n  } = useRequest(\n    useCallback(async ({ username, password }) => {\n      await RootAPI.login(username, password);\n    }, [])\n  );\n\n  const {\n    error: authError,\n    dismissError: dismissAuthError,\n  } = useDismissableError(authenticationError);\n\n  const handleSubmit = async values => {\n    dismissAuthError();\n    await authenticate(values);\n  };\n\n  if (isCustomLoginInfoLoading) {\n    return null;\n  }\n\n  if (isAuthenticated(document.cookie)) {\n    return <Redirect to=\"/\" />;\n  }\n\n  let helperText;\n  if (authError?.response?.status === 401) {\n    helperText = i18n._(t`Invalid username or password. Please try again.`);\n  } else {\n    helperText = i18n._(t`There was a problem signing in. Please try again.`);\n  }\n\n  return (\n    <LoginPage\n      brandImgSrc={logo}\n      brandImgAlt={alt || brandName}\n      loginTitle={\n        brandName\n          ? i18n._(t`Welcome to Ansible ${brandName}! Please Sign In.`)\n          : ''\n      }\n      textContent={loginInfo}\n      socialMediaLoginContent={\n        <>\n          {socialAuthOptions &&\n            Object.keys(socialAuthOptions).map(authKey => {\n              const loginUrl = socialAuthOptions[authKey].login_url;\n              if (authKey === 'azuread-oauth2') {\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip content={i18n._(t`Sign in with Azure AD`)}>\n                      <AzureIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n              if (authKey === 'github') {\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip content={i18n._(t`Sign in with GitHub`)}>\n                      <GithubIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n              if (authKey === 'github-org') {\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip\n                      content={i18n._(t`Sign in with GitHub Organizations`)}\n                    >\n                      <GithubIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n              if (authKey === 'github-team') {\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip content={i18n._(t`Sign in with GitHub Teams`)}>\n                      <GithubIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n              if (authKey === 'google-oauth2') {\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip content={i18n._(t`Sign in with Google`)}>\n                      <GoogleIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n              if (authKey.startsWith('saml')) {\n                const samlIDP = authKey.split(':')[1] || null;\n                return (\n                  <LoginMainFooterLinksItem href={loginUrl} key={authKey}>\n                    <Tooltip\n                      content={\n                        samlIDP\n                          ? i18n._(t`Sign in with SAML ${samlIDP}`)\n                          : i18n._(t`Sign in with SAML`)\n                      }\n                    >\n                      <UserCircleIcon />\n                    </Tooltip>\n                  </LoginMainFooterLinksItem>\n                );\n              }\n\n              return null;\n            })}\n        </>\n      }\n    >\n      <Formik\n        initialValues={{\n          password: '',\n          username: '',\n        }}\n        onSubmit={handleSubmit}\n      >\n        {formik => (\n          <LoginForm\n            className={authError ? 'pf-m-error' : ''}\n            helperText={helperText}\n            isLoginButtonDisabled={isAuthenticating}\n            isValidPassword={!authError}\n            isValidUsername={!authError}\n            loginButtonLabel={i18n._(t`Log In`)}\n            onChangePassword={val => {\n              formik.setFieldValue('password', val);\n              dismissAuthError();\n            }}\n            onChangeUsername={val => {\n              formik.setFieldValue('username', val);\n              dismissAuthError();\n            }}\n            onLoginButtonClick={formik.handleSubmit}\n            passwordLabel={i18n._(t`Password`)}\n            passwordValue={formik.values.password}\n            showHelperText={authError}\n            usernameLabel={i18n._(t`Username`)}\n            usernameValue={formik.values.username}\n          />\n        )}\n      </Formik>\n      {loginInfoError && (\n        <AlertModal\n          isOpen={loginInfoError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissLoginInfoError}\n        >\n          {i18n._(\n            t`Failed to fetch custom login configuration settings.  System defaults will be shown instead.`\n          )}\n          <ErrorDetail error={loginInfoError} />\n        </AlertModal>\n      )}\n    </LoginPage>\n  );\n}\n\nexport default withI18n()(withRouter(AWXLogin));\nexport { AWXLogin as _AWXLogin };\n","export function getLanguage(nav) {\n  if (nav.languages && nav.languages[0]) {\n    return nav.languages[0];\n  }\n  if (nav.language) {\n    return nav.language;\n  }\n  return nav.userLanguage;\n}\n\nexport function getLanguageWithoutRegionCode(nav) {\n  return getLanguage(nav)\n    .toLowerCase()\n    .split(/[_-]+/)[0];\n}\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button as PFButton,\n  ToolbarItem as PFToolbarItem,\n} from '@patternfly/react-core';\nimport { BarsIcon, EqualsIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst Button = styled(PFButton)`\n  padding: 0;\n  margin: 0;\n  height: 30px;\n  width: 30px;\n  ${props =>\n    props.isActive\n      ? `\n      background-color: #007bba;\n      --pf-c-button--m-plain--active--Color: white;\n      --pf-c-button--m-plain--focus--Color: white;`\n      : null};\n`;\n\nconst ToolbarItem = styled(PFToolbarItem)`\n  & :not(:last-child) {\n    margin-right: 20px;\n  }\n`;\n\n// TODO: Recommend renaming this component to avoid confusion\n// with ExpandingContainer\nfunction ExpandCollapse({ isCompact, onCompact, onExpand, i18n }) {\n  return (\n    <Fragment>\n      <ToolbarItem>\n        <Button\n          variant=\"plain\"\n          aria-label={i18n._(t`Collapse`)}\n          onClick={onCompact}\n          isActive={isCompact}\n        >\n          <BarsIcon />\n        </Button>\n      </ToolbarItem>\n      <ToolbarItem>\n        <Button\n          variant=\"plain\"\n          aria-label={i18n._(t`Expand`)}\n          onClick={onExpand}\n          isActive={!isCompact}\n        >\n          <EqualsIcon />\n        </Button>\n      </ToolbarItem>\n    </Fragment>\n  );\n}\n\nExpandCollapse.propTypes = {\n  onCompact: PropTypes.func.isRequired,\n  onExpand: PropTypes.func.isRequired,\n  isCompact: PropTypes.bool,\n};\n\nExpandCollapse.defaultProps = {\n  isCompact: true,\n};\n\nexport default withI18n()(ExpandCollapse);\n","import {\n  shape,\n  exact,\n  arrayOf,\n  number,\n  string,\n  bool,\n  objectOf,\n  oneOf,\n  oneOfType,\n} from 'prop-types';\n\nexport const Role = shape({\n  descendent_roles: arrayOf(string),\n  role: shape({\n    id: number.isRequired,\n    name: string.isRequired,\n    description: string,\n    user_capabilities: shape({\n      unattach: bool,\n    }).isRequired,\n  }),\n});\n\nexport const AccessRecord = shape({\n  id: number.isRequired,\n  username: string.isRequired,\n  url: string.isRequired,\n  email: string,\n  first_name: string,\n  last_name: string,\n  is_superuser: bool,\n  is_system_auditor: bool,\n  created: string,\n  last_login: string,\n  ldap_dn: string,\n  related: shape({}),\n  summary_fields: shape({\n    direct_access: arrayOf(Role).isRequired,\n    indirect_access: arrayOf(Role).isRequired,\n  }).isRequired,\n  type: string,\n});\n\nexport const Application = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  organization: number,\n  summary_fields: shape({\n    organization: shape({\n      id: number.isRequired,\n      name: string.isRequired,\n    }),\n  }),\n});\n\nexport const Organization = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  custom_virtualenv: string, // ?\n  description: string,\n  max_hosts: number,\n  related: shape(),\n  summary_fields: shape({\n    object_roles: shape(),\n  }),\n  type: string,\n  url: string,\n  created: string,\n  modified: string,\n});\n\nexport const QSConfig = shape({\n  defaultParams: shape().isRequired,\n  namespace: string,\n  integerFields: arrayOf(string).isRequired,\n});\n\nexport const JobTemplate = shape({\n  name: string.isRequired,\n  description: string,\n  inventory: number,\n  job_type: oneOf(['run', 'check']),\n  playbook: string,\n  project: number,\n});\n\nexport const WorkFlowJobTemplate = shape({\n  name: string.isRequired,\n  description: string,\n  inventory: number,\n});\n\nexport const Inventory = shape({\n  id: number.isRequired,\n  name: string,\n  description: string,\n  groups_with_active_failures: number,\n  has_active_failures: bool,\n  has_inventory_sources: bool,\n  hosts_with_active_failures: number,\n  inventory_sources_with_failures: number,\n  kind: string,\n  organization_id: number,\n  total_groups: number,\n  total_hosts: number,\n  total_inventory_sources: number,\n});\n\nexport const InventoryScript = shape({\n  description: string,\n  id: number.isRequired,\n  name: string,\n});\n\nexport const InstanceGroup = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n});\n\nexport const Instance = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n});\n\nexport const Label = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n});\n\nexport const Credential = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  cloud: bool,\n  kind: string,\n});\n\nexport const Project = shape({\n  id: number.isRequired,\n  type: oneOf(['project']),\n  url: string,\n  related: shape(),\n  summary_fields: shape({\n    organization: Organization,\n    credential: Credential,\n    last_job: shape({}),\n    last_update: shape({}),\n    created_by: shape({}),\n    modified_by: shape({}),\n    object_roles: shape({}),\n    user_capabilities: objectOf(bool),\n  }),\n  created: string,\n  name: string.isRequired,\n  description: string,\n  scm_type: oneOf(['', 'git', 'svn', 'archive', 'insights']),\n  scm_url: string,\n  scm_branch: string,\n  scm_refspec: string,\n  scm_clean: bool,\n  scm_delete_on_update: bool,\n  credential: number,\n  status: oneOf([\n    'new',\n    'pending',\n    'waiting',\n    'running',\n    'successful',\n    'failed',\n    'error',\n    'canceled',\n    'never updated',\n    'ok',\n    'missing',\n  ]),\n  organization: number,\n  scm_update_on_launch: bool,\n  scm_update_cache_timeout: number,\n  allow_override: bool,\n  custom_virtualenv: string,\n});\n\nexport const Job = shape({\n  status: string,\n  started: string,\n  finished: string,\n  job_type: string,\n  summary_fields: shape({\n    job_template: JobTemplate,\n    project: Project,\n    inventory: Inventory,\n    instance_group: InstanceGroup,\n    credentials: arrayOf(Credential),\n    labels: shape({\n      count: number,\n      results: arrayOf(Label),\n    }),\n  }),\n  scm_revision: string,\n  limit: oneOfType([number, string]),\n  verbosity: number,\n  execution_mode: string,\n  job_slice_number: number,\n  job_slice_count: number,\n  extra_vars: string,\n  artifacts: shape({}),\n});\n\nexport const Host = shape({\n  id: number.isRequired,\n  type: oneOf(['host']),\n  url: string,\n  related: shape(),\n  summary_fields: shape({\n    inventory: Inventory,\n    last_job: Job,\n    last_job_host_summary: shape({}),\n    created_by: shape({}),\n    modified_by: shape({}),\n    user_capabilities: objectOf(bool),\n    groups: shape({}),\n    recent_jobs: arrayOf(Job),\n  }),\n  created: string,\n  modified: string,\n  name: string.isRequired,\n  description: string,\n  inventory: number.isRequired,\n  enabled: bool,\n  instance_id: string,\n  variables: string,\n  last_job: number,\n  last_job_host_summary: number,\n});\n\nexport const Team = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  organization: number,\n});\n\nexport const Token = shape({\n  id: number.isRequired,\n  expires: string.isRequired,\n  summary_fields: shape({}),\n  scope: string.isRequired,\n});\n\nexport const User = shape({\n  id: number.isRequired,\n  type: oneOf(['user']),\n  url: string,\n  related: shape(),\n  summary_fields: shape({\n    user_capabilities: objectOf(bool),\n  }),\n  created: string,\n  username: string,\n  first_name: string,\n  last_name: string,\n  email: string.isRequired,\n  is_superuser: bool,\n  is_system_auditor: bool,\n  ldap_dn: string,\n  last_login: string,\n});\n\n// stripped-down User object found in summary_fields (e.g. modified_by)\nexport const SummaryFieldUser = shape({\n  id: number.isRequired,\n  username: string.isRequired,\n  first_name: string,\n  last_name: string,\n});\n\nexport const Group = shape({\n  id: number.isRequired,\n  type: oneOf(['group']),\n  url: string,\n  related: shape({}),\n  summary_fields: shape({}),\n  created: string,\n  modified: string,\n  name: string.isRequired,\n  description: string,\n  inventory: number,\n  variables: string,\n});\n\nexport const SearchColumns = arrayOf(\n  exact({\n    name: string.isRequired,\n    key: string.isRequired,\n    isDefault: bool,\n    isBoolean: bool,\n    booleanLabels: shape({\n      true: string.isRequired,\n      false: string.isRequired,\n    }),\n    options: arrayOf(arrayOf(string, string)),\n  })\n);\n\nexport const SortColumns = arrayOf(\n  exact({\n    name: string.isRequired,\n    key: string.isRequired,\n  })\n);\n\nexport const Schedule = shape({\n  rrule: string.isRequired,\n  id: number.isRequired,\n  type: string,\n  url: string,\n  related: shape({}),\n  summary_fields: shape({}),\n  created: string,\n  modified: string,\n  name: string.isRequired,\n  description: string,\n  extra_data: oneOfType([string, shape({})]),\n  inventory: number,\n  scm_branch: string,\n  job_type: string,\n  job_tags: string,\n  skip_tags: string,\n  limit: string,\n  diff_mode: bool,\n  verbosity: number,\n  unified_job_template: number,\n  enabled: bool,\n  dtstart: string,\n  dtend: string,\n  next_run: string,\n  timezone: string,\n  until: string,\n});\n\nexport const SurveyQuestion = shape({\n  question_name: string,\n  question_description: string,\n  required: bool,\n  type: string,\n  variable: string,\n  min: number,\n  max: number,\n  default: string,\n  choices: string,\n});\n\nexport const Survey = shape({\n  name: string,\n  description: string,\n  spec: arrayOf(SurveyQuestion),\n});\n\nexport const CredentialType = shape({\n  id: number.isRequired,\n  type: string.isRequired,\n  url: string.isRequired,\n  related: shape({}),\n  summary_fields: shape({}),\n  name: string.isRequired,\n  description: string,\n  kind: string.isRequired,\n  namespace: string,\n  inputs: shape({}).isRequired,\n});\n\nexport const NotificationType = oneOf([\n  'email',\n  'grafana',\n  'irc',\n  'mattermost',\n  'pagerduty',\n  'rocketchat',\n  'slack',\n  'twilio',\n  'webhook',\n]);\n\nexport const NotificationTemplate = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  description: string,\n  url: string.isRequired,\n  organization: number.isRequired,\n  notification_type: NotificationType,\n  summary_fields: shape({\n    organization: Organization,\n  }),\n});\n\nexport const WorkflowApproval = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  description: string,\n  url: string.isRequired,\n  failed: bool,\n  started: string,\n  finished: string,\n  canceled_on: string,\n  elapsed: number,\n  job_explanation: string,\n  can_approve_or_deny: bool,\n  approval_expiration: string,\n  timed_out: bool,\n});\n","import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  ButtonVariant,\n  InputGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst AdvancedGroup = styled.div`\n  display: flex;\n\n  @media (max-width: 991px) {\n    display: grid;\n    grid-gap: var(--pf-c-toolbar__expandable-content--m-expanded--GridRowGap);\n  }\n`;\n\nfunction AdvancedSearch({\n  i18n,\n  onSearch,\n  searchableKeys,\n  relatedSearchableKeys,\n}) {\n  // TODO: blocked by pf bug, eventually separate these into two groups in the select\n  // for now, I'm spreading set to get rid of duplicate keys...when they are grouped\n  // we might want to revisit that.\n  const allKeys = [\n    ...new Set([...(searchableKeys || []), ...(relatedSearchableKeys || [])]),\n  ];\n\n  const [isPrefixDropdownOpen, setIsPrefixDropdownOpen] = useState(false);\n  const [isLookupDropdownOpen, setIsLookupDropdownOpen] = useState(false);\n  const [isKeyDropdownOpen, setIsKeyDropdownOpen] = useState(false);\n  const [prefixSelection, setPrefixSelection] = useState(null);\n  const [lookupSelection, setLookupSelection] = useState(null);\n  const [keySelection, setKeySelection] = useState(null);\n  const [searchValue, setSearchValue] = useState('');\n\n  const handleAdvancedSearch = e => {\n    // keeps page from fully reloading\n    e.preventDefault();\n\n    if (searchValue) {\n      const actualPrefix = prefixSelection === 'and' ? null : prefixSelection;\n      let actualSearchKey;\n      // TODO: once we are able to group options for the key typeahead, we will\n      // probably want to be able to which group a key was clicked in for duplicates,\n      // rather than checking to make sure it's not in both for this appending\n      // __search logic\n      if (\n        relatedSearchableKeys.indexOf(keySelection) > -1 &&\n        searchableKeys.indexOf(keySelection) === -1 &&\n        keySelection.indexOf('__') === -1\n      ) {\n        actualSearchKey = `${keySelection}__search`;\n      } else {\n        actualSearchKey = [actualPrefix, keySelection, lookupSelection]\n          .filter(val => !!val)\n          .join('__');\n      }\n      onSearch(actualSearchKey, searchValue);\n      setSearchValue('');\n    }\n  };\n\n  const handleAdvancedTextKeyDown = e => {\n    if (e.key && e.key === 'Enter') {\n      handleAdvancedSearch(e);\n    }\n  };\n\n  return (\n    <AdvancedGroup>\n      <Select\n        aria-label={i18n._(t`Set type select`)}\n        className=\"setTypeSelect\"\n        variant={SelectVariant.typeahead}\n        typeAheadAriaLabel={i18n._(t`Set type typeahead`)}\n        onToggle={setIsPrefixDropdownOpen}\n        onSelect={(event, selection) => setPrefixSelection(selection)}\n        onClear={() => setPrefixSelection(null)}\n        selections={prefixSelection}\n        isOpen={isPrefixDropdownOpen}\n        placeholderText={i18n._(t`Set type`)}\n        maxHeight=\"500px\"\n        noResultsFoundText={i18n._(t`No results found`)}\n      >\n        <SelectOption\n          key=\"and\"\n          value=\"and\"\n          description={i18n._(\n            t`Returns results that satisfy this one as well as other filters.  This is the default set type if nothing is selected.`\n          )}\n        />\n        <SelectOption\n          key=\"or\"\n          value=\"or\"\n          description={i18n._(\n            t`Returns results that satisfy this one or any other filters.`\n          )}\n        />\n        <SelectOption\n          key=\"not\"\n          value=\"not\"\n          description={i18n._(\n            t`Returns results that have values other than this one as well as other filters.`\n          )}\n        />\n      </Select>\n      <Select\n        aria-label={i18n._(t`Key select`)}\n        className=\"keySelect\"\n        variant={SelectVariant.typeahead}\n        typeAheadAriaLabel={i18n._(t`Key typeahead`)}\n        onToggle={setIsKeyDropdownOpen}\n        onSelect={(event, selection) => setKeySelection(selection)}\n        onClear={() => setKeySelection(null)}\n        selections={keySelection}\n        isOpen={isKeyDropdownOpen}\n        placeholderText={i18n._(t`Key`)}\n        isCreatable\n        onCreateOption={setKeySelection}\n        maxHeight=\"500px\"\n        noResultsFoundText={i18n._(t`No results found`)}\n      >\n        {allKeys.map(optionKey => (\n          <SelectOption key={optionKey} value={optionKey}>\n            {optionKey}\n          </SelectOption>\n        ))}\n      </Select>\n      <Select\n        aria-label={i18n._(t`Lookup select`)}\n        className=\"lookupSelect\"\n        variant={SelectVariant.typeahead}\n        typeAheadAriaLabel={i18n._(t`Lookup typeahead`)}\n        onToggle={setIsLookupDropdownOpen}\n        onSelect={(event, selection) => setLookupSelection(selection)}\n        onClear={() => setLookupSelection(null)}\n        selections={lookupSelection}\n        isOpen={isLookupDropdownOpen}\n        placeholderText={i18n._(t`Lookup type`)}\n        maxHeight=\"500px\"\n        noResultsFoundText={i18n._(t`No results found`)}\n      >\n        <SelectOption\n          key=\"exact\"\n          value=\"exact\"\n          description={i18n._(\n            t`Exact match (default lookup if not specified).`\n          )}\n        />\n        <SelectOption\n          key=\"iexact\"\n          value=\"iexact\"\n          description={i18n._(t`Case-insensitive version of exact.`)}\n        />\n        <SelectOption\n          key=\"contains\"\n          value=\"contains\"\n          description={i18n._(t`Field contains value.`)}\n        />\n        <SelectOption\n          key=\"icontains\"\n          value=\"icontains\"\n          description={i18n._(t`Case-insensitive version of contains`)}\n        />\n        <SelectOption\n          key=\"startswith\"\n          value=\"startswith\"\n          description={i18n._(t`Field starts with value.`)}\n        />\n        <SelectOption\n          key=\"istartswith\"\n          value=\"istartswith\"\n          description={i18n._(t`Case-insensitive version of startswith.`)}\n        />\n        <SelectOption\n          key=\"endswith\"\n          value=\"endswith\"\n          description={i18n._(t`Field ends with value.`)}\n        />\n        <SelectOption\n          key=\"iendswith\"\n          value=\"iendswith\"\n          description={i18n._(t`Case-insensitive version of endswith.`)}\n        />\n        <SelectOption\n          key=\"regex\"\n          value=\"regex\"\n          description={i18n._(t`Field matches the given regular expression.`)}\n        />\n        <SelectOption\n          key=\"iregex\"\n          value=\"iregex\"\n          description={i18n._(t`Case-insensitive version of regex.`)}\n        />\n        <SelectOption\n          key=\"gt\"\n          value=\"gt\"\n          description={i18n._(t`Greater than comparison.`)}\n        />\n        <SelectOption\n          key=\"gte\"\n          value=\"gte\"\n          description={i18n._(t`Greater than or equal to comparison.`)}\n        />\n        <SelectOption\n          key=\"lt\"\n          value=\"lt\"\n          description={i18n._(t`Less than comparison.`)}\n        />\n        <SelectOption\n          key=\"lte\"\n          value=\"lte\"\n          description={i18n._(t`Less than or equal to comparison.`)}\n        />\n        <SelectOption\n          key=\"isnull\"\n          value=\"isnull\"\n          description={i18n._(\n            t`Check whether the given field or related object is null; expects a boolean value.`\n          )}\n        />\n        <SelectOption\n          key=\"in\"\n          value=\"in\"\n          description={i18n._(\n            t`Check whether the given field's value is present in the list provided; expects a comma-separated list of items.`\n          )}\n        />\n      </Select>\n      <InputGroup>\n        <TextInput\n          type=\"search\"\n          aria-label={i18n._(t`Advanced search value input`)}\n          isDisabled={!keySelection}\n          value={\n            (!keySelection && i18n._(t`First, select a key`)) || searchValue\n          }\n          onChange={setSearchValue}\n          onKeyDown={handleAdvancedTextKeyDown}\n        />\n        <div css={!searchValue && `cursor:not-allowed`}>\n          <Button\n            variant={ButtonVariant.control}\n            isDisabled={!searchValue}\n            aria-label={i18n._(t`Search submit button`)}\n            onClick={handleAdvancedSearch}\n          >\n            <SearchIcon />\n          </Button>\n        </div>\n      </InputGroup>\n    </AdvancedGroup>\n  );\n}\n\nAdvancedSearch.propTypes = {\n  onSearch: PropTypes.func.isRequired,\n  searchableKeys: PropTypes.arrayOf(PropTypes.string),\n  relatedSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n};\n\nAdvancedSearch.defaultProps = {\n  searchableKeys: [],\n  relatedSearchableKeys: [],\n};\n\nexport default withI18n()(AdvancedSearch);\n","import 'styled-components/macro';\nimport React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { withRouter } from 'react-router-dom';\nimport {\n  Button,\n  ButtonVariant,\n  InputGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n  TextInput,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarFilter,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { parseQueryString } from '../../util/qs';\nimport { QSConfig, SearchColumns } from '../../types';\nimport AdvancedSearch from './AdvancedSearch';\n\nconst NoOptionDropdown = styled.div`\n  align-self: stretch;\n  border: 1px solid var(--pf-global--BorderColor--300);\n  padding: 5px 15px;\n  white-space: nowrap;\n  border-bottom-color: var(--pf-global--BorderColor--200);\n`;\n\nfunction Search({\n  columns,\n  i18n,\n  onSearch,\n  onReplaceSearch,\n  onRemove,\n  qsConfig,\n  location,\n  searchableKeys,\n  relatedSearchableKeys,\n  onShowAdvancedSearch,\n}) {\n  const [isSearchDropdownOpen, setIsSearchDropdownOpen] = useState(false);\n  const [searchKey, setSearchKey] = useState(\n    (() => {\n      const defaultColumn = columns.filter(col => col.isDefault);\n\n      if (defaultColumn.length !== 1) {\n        throw new Error(\n          'One (and only one) searchColumn must be marked isDefault: true'\n        );\n      }\n\n      return defaultColumn[0]?.key;\n    })()\n  );\n  const [searchValue, setSearchValue] = useState('');\n  const [isFilterDropdownOpen, setIsFilterDropdownOpen] = useState(false);\n\n  const handleDropdownSelect = ({ target }) => {\n    const { key: actualSearchKey } = columns.find(\n      ({ name }) => name === target.innerText\n    );\n    onShowAdvancedSearch(actualSearchKey === 'advanced');\n    setIsFilterDropdownOpen(false);\n    setSearchKey(actualSearchKey);\n  };\n\n  const handleSearch = e => {\n    // keeps page from fully reloading\n    e.preventDefault();\n\n    if (searchValue) {\n      onSearch(searchKey, searchValue);\n      setSearchValue('');\n    }\n  };\n\n  const handleTextKeyDown = e => {\n    if (e.key && e.key === 'Enter') {\n      handleSearch(e);\n    }\n  };\n\n  const handleFilterDropdownSelect = (key, event, actualValue) => {\n    if (event.target.checked) {\n      onSearch(key, actualValue);\n    } else {\n      onRemove(key, actualValue);\n    }\n  };\n\n  const filterDefaultParams = (paramsArr, config) => {\n    const defaultParamsKeys = Object.keys(config.defaultParams || {});\n    return paramsArr.filter(key => defaultParamsKeys.indexOf(key) === -1);\n  };\n\n  const getLabelFromValue = (value, colKey) => {\n    let label = value;\n    const currentSearchColumn = columns.find(({ key }) => key === colKey);\n    if (currentSearchColumn?.options?.length) {\n      [, label] = currentSearchColumn.options.find(\n        ([optVal]) => optVal === value\n      );\n    } else if (currentSearchColumn?.booleanLabels) {\n      label = currentSearchColumn.booleanLabels[value];\n    }\n    return (label || colKey).toString();\n  };\n\n  const getChipsByKey = () => {\n    const queryParams = parseQueryString(qsConfig, location.search);\n\n    const queryParamsByKey = {};\n    columns.forEach(({ name, key }) => {\n      queryParamsByKey[key] = { key, label: name, chips: [] };\n    });\n    const nonDefaultParams = filterDefaultParams(\n      Object.keys(queryParams || {}),\n      qsConfig\n    );\n\n    nonDefaultParams.forEach(key => {\n      const columnKey = key;\n      const label = columns.filter(\n        ({ key: keyToCheck }) => columnKey === keyToCheck\n      ).length\n        ? `${\n            columns.find(({ key: keyToCheck }) => columnKey === keyToCheck).name\n          } (${key})`\n        : columnKey;\n\n      queryParamsByKey[columnKey] = { key, label, chips: [] };\n\n      if (Array.isArray(queryParams[key])) {\n        queryParams[key].forEach(val =>\n          queryParamsByKey[columnKey].chips.push({\n            key: `${key}:${val}`,\n            node: getLabelFromValue(val, columnKey),\n          })\n        );\n      } else {\n        queryParamsByKey[columnKey].chips.push({\n          key: `${key}:${queryParams[key]}`,\n          node: getLabelFromValue(queryParams[key], columnKey),\n        });\n      }\n    });\n    return queryParamsByKey;\n  };\n\n  const chipsByKey = getChipsByKey();\n\n  const { name: searchColumnName } = columns.find(\n    ({ key }) => key === searchKey\n  );\n\n  const searchOptions = columns\n    .filter(({ key }) => key !== searchKey)\n    .map(({ key, name }) => (\n      <SelectOption key={key} value={name} id={`select-option-${key}`}>\n        {name}\n      </SelectOption>\n    ));\n\n  return (\n    <ToolbarGroup variant=\"filter-group\">\n      <ToolbarItem>\n        {searchOptions.length > 0 ? (\n          <Select\n            variant={SelectVariant.single}\n            className=\"simpleKeySelect\"\n            aria-label={i18n._(t`Simple key select`)}\n            onToggle={setIsSearchDropdownOpen}\n            onSelect={handleDropdownSelect}\n            selections={searchColumnName}\n            isOpen={isSearchDropdownOpen}\n            ouiaId=\"simple-key-select\"\n          >\n            {searchOptions}\n          </Select>\n        ) : (\n          <NoOptionDropdown>{searchColumnName}</NoOptionDropdown>\n        )}\n      </ToolbarItem>\n      {columns.map(({ key, name, options, isBoolean, booleanLabels = {} }) => (\n        <ToolbarFilter\n          chips={chipsByKey[key] ? chipsByKey[key].chips : []}\n          deleteChip={(unusedKey, chip) => {\n            const [columnKey, ...value] = chip.key.split(':');\n            onRemove(columnKey, value.join(':'));\n          }}\n          categoryName={chipsByKey[key] ? chipsByKey[key].label : key}\n          key={key}\n          showToolbarItem={searchKey === key}\n        >\n          {(key === 'advanced' && (\n            <AdvancedSearch\n              onSearch={onSearch}\n              searchableKeys={searchableKeys}\n              relatedSearchableKeys={relatedSearchableKeys}\n            />\n          )) ||\n            (options && (\n              <Fragment>\n                <Select\n                  variant={SelectVariant.checkbox}\n                  aria-label={name}\n                  onToggle={setIsFilterDropdownOpen}\n                  onSelect={(event, selection) =>\n                    handleFilterDropdownSelect(key, event, selection)\n                  }\n                  selections={chipsByKey[key].chips.map(chip => {\n                    const [, ...value] = chip.key.split(':');\n                    return value.join(':');\n                  })}\n                  isOpen={isFilterDropdownOpen}\n                  placeholderText={`Filter By ${name}`}\n                  ouiaId={`filter-by-${key}`}\n                >\n                  {options.map(([optionKey, optionLabel]) => (\n                    <SelectOption\n                      key={optionKey}\n                      value={optionKey}\n                      inputId={`select-option-${optionKey}`}\n                    >\n                      {optionLabel}\n                    </SelectOption>\n                  ))}\n                </Select>\n              </Fragment>\n            )) ||\n            (isBoolean && (\n              <Select\n                aria-label={name}\n                onToggle={setIsFilterDropdownOpen}\n                onSelect={(event, selection) => onReplaceSearch(key, selection)}\n                selections={chipsByKey[key].chips[0]?.label}\n                isOpen={isFilterDropdownOpen}\n                placeholderText={`Filter By ${name}`}\n                ouiaId={`filter-by-${key}`}\n              >\n                <SelectOption key=\"true\" value=\"true\">\n                  {booleanLabels.true || i18n._(t`Yes`)}\n                </SelectOption>\n                <SelectOption key=\"false\" value=\"false\">\n                  {booleanLabels.false || i18n._(t`No`)}\n                </SelectOption>\n              </Select>\n            )) || (\n              <InputGroup>\n                {/* TODO: add support for dates:\n          qsConfig.dateFields.filter(field => field === key).length && \"date\" */}\n                <TextInput\n                  type={\n                    (qsConfig.integerFields.find(\n                      field => field === searchKey\n                    ) &&\n                      'number') ||\n                    'search'\n                  }\n                  aria-label={i18n._(t`Search text input`)}\n                  value={searchValue}\n                  onChange={setSearchValue}\n                  onKeyDown={handleTextKeyDown}\n                />\n                <div css={!searchValue && `cursor:not-allowed`}>\n                  <Button\n                    variant={ButtonVariant.control}\n                    isDisabled={!searchValue}\n                    aria-label={i18n._(t`Search submit button`)}\n                    onClick={handleSearch}\n                  >\n                    <SearchIcon />\n                  </Button>\n                </div>\n              </InputGroup>\n            )}\n        </ToolbarFilter>\n      ))}\n      {/* Add a ToolbarFilter for any key that doesn't have it's own\n      search column so the chips show up */}\n      {Object.keys(chipsByKey)\n        .filter(val => chipsByKey[val].chips.length > 0)\n        .filter(val => columns.map(val2 => val2.key).indexOf(val) === -1)\n        .map(leftoverKey => (\n          <ToolbarFilter\n            chips={chipsByKey[leftoverKey] ? chipsByKey[leftoverKey].chips : []}\n            deleteChip={(unusedKey, chip) => {\n              const [columnKey, ...value] = chip.key.split(':');\n              onRemove(columnKey, value.join(':'));\n            }}\n            categoryName={\n              chipsByKey[leftoverKey]\n                ? chipsByKey[leftoverKey].label\n                : leftoverKey\n            }\n            key={leftoverKey}\n          />\n        ))}\n    </ToolbarGroup>\n  );\n}\n\nSearch.propTypes = {\n  qsConfig: QSConfig.isRequired,\n  columns: SearchColumns.isRequired,\n  onSearch: PropTypes.func,\n  onRemove: PropTypes.func,\n  onShowAdvancedSearch: PropTypes.func.isRequired,\n};\n\nSearch.defaultProps = {\n  onSearch: null,\n  onRemove: null,\n};\n\nexport default withI18n()(withRouter(Search));\n","import React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { useLocation, withRouter } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  ButtonVariant,\n  Dropdown,\n  DropdownPosition,\n  DropdownToggle,\n  DropdownItem,\n  InputGroup,\n} from '@patternfly/react-core';\nimport {\n  SortAlphaDownIcon,\n  SortAlphaDownAltIcon,\n  SortNumericDownIcon,\n  SortNumericDownAltIcon,\n} from '@patternfly/react-icons';\n\nimport styled from 'styled-components';\nimport { parseQueryString } from '../../util/qs';\nimport { SortColumns, QSConfig } from '../../types';\n\nconst NoOptionDropdown = styled.div`\n  align-self: stretch;\n  border: 1px solid var(--pf-global--BorderColor--300);\n  padding: 5px 15px;\n  white-space: nowrap;\n  border-bottom-color: var(--pf-global--BorderColor--200);\n`;\n\nfunction Sort({ columns, qsConfig, onSort, i18n }) {\n  const location = useLocation();\n  const [isSortDropdownOpen, setIsSortDropdownOpen] = useState(false);\n\n  let sortKey;\n  let sortOrder;\n  let isNumeric;\n\n  const queryParams = parseQueryString(qsConfig, location.search);\n  if (queryParams.order_by && queryParams.order_by.startsWith('-')) {\n    sortKey = queryParams.order_by.substr(1);\n    sortOrder = 'descending';\n  } else if (queryParams.order_by) {\n    sortKey = queryParams.order_by;\n    sortOrder = 'ascending';\n  }\n\n  if (qsConfig.integerFields.find(field => field === sortKey)) {\n    isNumeric = true;\n  } else {\n    isNumeric = false;\n  }\n\n  const handleDropdownToggle = isOpen => {\n    setIsSortDropdownOpen(isOpen);\n  };\n\n  const handleDropdownSelect = ({ target }) => {\n    const { innerText } = target;\n\n    const [{ key }] = columns.filter(({ name }) => name === innerText);\n    sortKey = key;\n    if (qsConfig.integerFields.find(field => field === key)) {\n      isNumeric = true;\n    } else {\n      isNumeric = false;\n    }\n\n    setIsSortDropdownOpen(false);\n    onSort(sortKey, sortOrder);\n  };\n\n  const handleSort = () => {\n    onSort(sortKey, sortOrder === 'ascending' ? 'descending' : 'ascending');\n  };\n\n  const { up } = DropdownPosition;\n\n  const defaultSortedColumn = columns.find(({ key }) => key === sortKey);\n\n  if (!defaultSortedColumn) {\n    throw new Error(\n      'sortKey must match one of the column keys, check the sortColumns prop passed to <Sort />'\n    );\n  }\n\n  const sortedColumnName = defaultSortedColumn?.name;\n\n  const sortDropdownItems = columns\n    .filter(({ key }) => key !== sortKey)\n    .map(({ key, name }) => (\n      <DropdownItem key={key} component=\"button\">\n        {name}\n      </DropdownItem>\n    ));\n\n  let SortIcon;\n  if (isNumeric) {\n    SortIcon =\n      sortOrder === 'ascending' ? SortNumericDownIcon : SortNumericDownAltIcon;\n  } else {\n    SortIcon =\n      sortOrder === 'ascending' ? SortAlphaDownIcon : SortAlphaDownAltIcon;\n  }\n  return (\n    <Fragment>\n      {sortedColumnName && (\n        <InputGroup>\n          {(sortDropdownItems.length > 0 && (\n            <Dropdown\n              onToggle={handleDropdownToggle}\n              onSelect={handleDropdownSelect}\n              direction={up}\n              isOpen={isSortDropdownOpen}\n              toggle={\n                <DropdownToggle id=\"awx-sort\" onToggle={handleDropdownToggle}>\n                  {sortedColumnName}\n                </DropdownToggle>\n              }\n              dropdownItems={sortDropdownItems}\n            />\n          )) || <NoOptionDropdown>{sortedColumnName}</NoOptionDropdown>}\n\n          <Button\n            variant={ButtonVariant.control}\n            aria-label={i18n._(t`Sort`)}\n            onClick={handleSort}\n          >\n            <SortIcon />\n          </Button>\n        </InputGroup>\n      )}\n    </Fragment>\n  );\n}\n\nSort.propTypes = {\n  qsConfig: QSConfig.isRequired,\n  columns: SortColumns.isRequired,\n  onSort: PropTypes.func,\n};\n\nSort.defaultProps = {\n  onSort: null,\n};\n\nexport default withI18n()(withRouter(Sort));\n","import React, { useContext } from 'react';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const KebabifiedContext = React.createContext({});\n\nexport const KebabifiedProvider = KebabifiedContext.Provider;\nexport const Kebabified = KebabifiedContext.Consumer;\nexport const useKebabifiedMenu = () => useContext(KebabifiedContext);\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Checkbox,\n  Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n  ToolbarToggleGroup,\n  Dropdown,\n  KebabToggle,\n} from '@patternfly/react-core';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport ExpandCollapse from '../ExpandCollapse';\nimport Search from '../Search';\nimport Sort from '../Sort';\nimport { SearchColumns, SortColumns, QSConfig } from '../../types';\nimport { KebabifiedProvider } from '../../contexts/Kebabified';\n\nfunction DataListToolbar({\n  itemCount,\n  clearAllFilters,\n  searchColumns,\n  searchableKeys,\n  relatedSearchableKeys,\n  sortColumns,\n  showSelectAll,\n  isAllSelected,\n  isCompact,\n  onSort,\n  onSearch,\n  onReplaceSearch,\n  onRemove,\n  onCompact,\n  onExpand,\n  onSelectAll,\n  additionalControls,\n  i18n,\n  qsConfig,\n  pagination,\n}) {\n  const showExpandCollapse = onCompact && onExpand;\n  const [isKebabOpen, setIsKebabOpen] = useState(false);\n  const [isKebabModalOpen, setIsKebabModalOpen] = useState(false);\n  const [isAdvancedSearchShown, setIsAdvancedSearchShown] = useState(false);\n\n  const onShowAdvancedSearch = shown => {\n    setIsAdvancedSearchShown(shown);\n    setIsKebabOpen(false);\n  };\n\n  useEffect(() => {\n    if (!isKebabModalOpen) {\n      setIsKebabOpen(false);\n    }\n  }, [isKebabModalOpen]);\n\n  return (\n    <Toolbar\n      id={`${qsConfig.namespace}-list-toolbar`}\n      clearAllFilters={clearAllFilters}\n      collapseListedFiltersBreakpoint=\"lg\"\n      clearFiltersButtonText={i18n._(t`Clear all filters`)}\n    >\n      <ToolbarContent>\n        {showSelectAll && (\n          <ToolbarGroup>\n            <ToolbarItem>\n              <Checkbox\n                isChecked={isAllSelected}\n                onChange={onSelectAll}\n                aria-label={i18n._(t`Select all`)}\n                id=\"select-all\"\n              />\n            </ToolbarItem>\n          </ToolbarGroup>\n        )}\n        <ToolbarToggleGroup toggleIcon={<SearchIcon />} breakpoint=\"lg\">\n          <ToolbarItem>\n            <Search\n              qsConfig={qsConfig}\n              columns={[\n                ...searchColumns,\n                { name: i18n._(t`高级`), key: 'advanced' },\n              ]}\n              searchableKeys={searchableKeys}\n              relatedSearchableKeys={relatedSearchableKeys}\n              onSearch={onSearch}\n              onReplaceSearch={onReplaceSearch}\n              onShowAdvancedSearch={onShowAdvancedSearch}\n              onRemove={onRemove}\n            />\n          </ToolbarItem>\n          {sortColumns && (\n            <ToolbarItem>\n              <Sort qsConfig={qsConfig} columns={sortColumns} onSort={onSort} />\n            </ToolbarItem>\n          )}\n        </ToolbarToggleGroup>\n        {showExpandCollapse && (\n          <ToolbarGroup>\n            <>\n              <ToolbarItem>\n                <ExpandCollapse\n                  isCompact={isCompact}\n                  onCompact={onCompact}\n                  onExpand={onExpand}\n                />\n              </ToolbarItem>\n            </>\n          </ToolbarGroup>\n        )}\n        {isAdvancedSearchShown && additionalControls.length > 0 && (\n          <ToolbarItem>\n            <KebabifiedProvider\n              value={{\n                isKebabified: true,\n                onKebabModalChange: setIsKebabModalOpen,\n              }}\n            >\n              <Dropdown\n                toggle={\n                  <KebabToggle\n                    onToggle={isOpen => {\n                      if (!isKebabModalOpen) {\n                        setIsKebabOpen(isOpen);\n                      }\n                    }}\n                  />\n                }\n                isOpen={isKebabOpen}\n                isPlain\n                dropdownItems={additionalControls}\n              />\n            </KebabifiedProvider>\n          </ToolbarItem>\n        )}\n        {!isAdvancedSearchShown && (\n          <ToolbarGroup>\n            {additionalControls.map(control => (\n              <ToolbarItem key={control.key}>{control}</ToolbarItem>\n            ))}\n          </ToolbarGroup>\n        )}\n        {!isAdvancedSearchShown && pagination && itemCount > 0 && (\n          <ToolbarItem variant=\"pagination\">{pagination}</ToolbarItem>\n        )}\n      </ToolbarContent>\n    </Toolbar>\n  );\n}\n\nDataListToolbar.propTypes = {\n  itemCount: PropTypes.number,\n  clearAllFilters: PropTypes.func,\n  qsConfig: QSConfig.isRequired,\n  searchColumns: SearchColumns.isRequired,\n  searchableKeys: PropTypes.arrayOf(PropTypes.string),\n  relatedSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  sortColumns: SortColumns,\n  showSelectAll: PropTypes.bool,\n  isAllSelected: PropTypes.bool,\n  isCompact: PropTypes.bool,\n  onCompact: PropTypes.func,\n  onExpand: PropTypes.func,\n  onSearch: PropTypes.func,\n  onReplaceSearch: PropTypes.func,\n  onSelectAll: PropTypes.func,\n  onSort: PropTypes.func,\n  additionalControls: PropTypes.arrayOf(PropTypes.node),\n};\n\nDataListToolbar.defaultProps = {\n  itemCount: 0,\n  searchableKeys: [],\n  relatedSearchableKeys: [],\n  sortColumns: null,\n  clearAllFilters: null,\n  showSelectAll: false,\n  isAllSelected: false,\n  isCompact: false,\n  onCompact: null,\n  onExpand: null,\n  onSearch: null,\n  onReplaceSearch: null,\n  onSelectAll: null,\n  onSort: null,\n  additionalControls: [],\n};\n\nexport default withI18n()(DataListToolbar);\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Toolbar, ToolbarContent } from '@patternfly/react-core';\nimport DataListToolbar from '../DataListToolbar';\n\nimport {\n  encodeNonDefaultQueryString,\n  parseQueryString,\n  mergeParams,\n  replaceParams,\n  removeParams,\n} from '../../util/qs';\nimport { QSConfig, SearchColumns, SortColumns } from '../../types';\n\nconst EmptyStateControlsWrapper = styled.div`\n  display: flex;\n  margin-top: 20px;\n  margin-right: 20px;\n  margin-bottom: 20px;\n  justify-content: flex-end;\n\n  & > :not(:first-child) {\n    margin-left: 20px;\n  }\n`;\nclass ListHeader extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSearch = this.handleSearch.bind(this);\n    this.handleReplaceSearch = this.handleReplaceSearch.bind(this);\n    this.handleSort = this.handleSort.bind(this);\n    this.handleRemove = this.handleRemove.bind(this);\n    this.handleRemoveAll = this.handleRemoveAll.bind(this);\n  }\n\n  handleSearch(key, value) {\n    const { location, qsConfig } = this.props;\n    let params = parseQueryString(qsConfig, location.search);\n    params = mergeParams(params, { [key]: value });\n    params = replaceParams(params, { page: 1 });\n    this.pushHistoryState(params);\n  }\n\n  handleReplaceSearch(key, value) {\n    const { location, qsConfig } = this.props;\n    const oldParams = parseQueryString(qsConfig, location.search);\n    this.pushHistoryState(replaceParams(oldParams, { [key]: value }));\n  }\n\n  handleRemove(key, value) {\n    const { location, qsConfig } = this.props;\n    let oldParams = parseQueryString(qsConfig, location.search);\n    if (parseInt(value, 10)) {\n      oldParams = removeParams(qsConfig, oldParams, {\n        [key]: parseInt(value, 10),\n      });\n    }\n    this.pushHistoryState(removeParams(qsConfig, oldParams, { [key]: value }));\n  }\n\n  handleRemoveAll() {\n    // remove everything in oldParams except for page_size and order_by\n    const { location, qsConfig } = this.props;\n    const oldParams = parseQueryString(qsConfig, location.search);\n    const oldParamsClone = { ...oldParams };\n    delete oldParamsClone.page_size;\n    delete oldParamsClone.order_by;\n    this.pushHistoryState(removeParams(qsConfig, oldParams, oldParamsClone));\n  }\n\n  handleSort(key, order) {\n    const { location, qsConfig } = this.props;\n    const oldParams = parseQueryString(qsConfig, location.search);\n    this.pushHistoryState(\n      replaceParams(oldParams, {\n        order_by: order === 'ascending' ? key : `-${key}`,\n        page: null,\n      })\n    );\n  }\n\n  pushHistoryState(params) {\n    const { history, qsConfig } = this.props;\n    const { pathname } = history.location;\n    const nonNamespacedParams = parseQueryString({}, history.location.search);\n    const encodedParams = encodeNonDefaultQueryString(\n      qsConfig,\n      params,\n      nonNamespacedParams\n    );\n    history.push(encodedParams ? `${pathname}?${encodedParams}` : pathname);\n  }\n\n  render() {\n    const {\n      emptyStateControls,\n      itemCount,\n      searchColumns,\n      searchableKeys,\n      relatedSearchableKeys,\n      sortColumns,\n      renderToolbar,\n      qsConfig,\n      location,\n      pagination,\n    } = this.props;\n    const params = parseQueryString(qsConfig, location.search);\n    const isEmpty = itemCount === 0 && Object.keys(params).length === 0;\n    return (\n      <Fragment>\n        {isEmpty ? (\n          <Toolbar\n            id={`${qsConfig.namespace}-list-toolbar`}\n            clearAllFilters={this.handleRemoveAll}\n            collapseListedFiltersBreakpoint=\"lg\"\n          >\n            <ToolbarContent>\n              <EmptyStateControlsWrapper>\n                {emptyStateControls}\n              </EmptyStateControlsWrapper>\n            </ToolbarContent>\n          </Toolbar>\n        ) : (\n          <Fragment>\n            {renderToolbar({\n              itemCount,\n              searchColumns,\n              sortColumns,\n              searchableKeys,\n              relatedSearchableKeys,\n              onSearch: this.handleSearch,\n              onReplaceSearch: this.handleReplaceSearch,\n              onSort: this.handleSort,\n              onRemove: this.handleRemove,\n              clearAllFilters: this.handleRemoveAll,\n              qsConfig,\n              pagination,\n            })}\n          </Fragment>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nListHeader.propTypes = {\n  itemCount: PropTypes.number.isRequired,\n  qsConfig: QSConfig.isRequired,\n  searchColumns: SearchColumns.isRequired,\n  searchableKeys: PropTypes.arrayOf(PropTypes.string),\n  relatedSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  sortColumns: SortColumns,\n  renderToolbar: PropTypes.func,\n};\n\nListHeader.defaultProps = {\n  renderToolbar: props => <DataListToolbar {...props} />,\n  searchableKeys: [],\n  sortColumns: null,\n  relatedSearchableKeys: [],\n};\n\nexport default withRouter(ListHeader);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\n\nconst ContentEmpty = ({ i18n, title = '', message = '' }) => (\n  <EmptyState variant=\"full\">\n    <EmptyStateIcon icon={CubesIcon} />\n    <Title size=\"lg\" headingLevel=\"h3\">\n      {title || i18n._(t`No items found.`)}\n    </Title>\n    <EmptyStateBody>{message}</EmptyStateBody>\n  </EmptyState>\n);\n\nexport { ContentEmpty as _ContentEmpty };\nexport default withI18n()(ContentEmpty);\n","import React from 'react';\n\nimport styled from 'styled-components';\nimport {\n  EmptyState as PFEmptyState,\n  EmptyStateIcon,\n  Spinner,\n} from '@patternfly/react-core';\n\nconst EmptyState = styled(PFEmptyState)`\n  --pf-c-empty-state--m-lg--MaxWidth: none;\n  min-height: 250px;\n`;\n\n// TODO: Better loading state - skeleton lines / spinner, etc.\nconst ContentLoading = ({ className }) => {\n  return (\n    <EmptyState variant=\"full\" className={className}>\n      <EmptyStateIcon variant=\"container\" component={Spinner} />\n    </EmptyState>\n  );\n};\n\nexport { ContentLoading as _ContentLoading };\nexport default ContentLoading;\n","import React from 'react';\nimport styled, { css } from 'styled-components';\nimport {\n  Pagination as PFPagination,\n  DropdownDirection,\n} from '@patternfly/react-core';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nconst AWXPagination = styled(PFPagination)`\n  ${props =>\n    props.perPageOptions &&\n    !props.perPageOptions.length &&\n    css`\n      .pf-c-options-menu__toggle-button {\n        display: none;\n      }\n    `}\n`;\n\nexport default props => (\n  <I18n>\n    {({ i18n }) => (\n      <AWXPagination\n        titles={{\n          items: i18n._(t`items`),\n          page: i18n._(t`page`),\n          pages: i18n._(t`pages`),\n          itemsPerPage: i18n._(t`Items per page`),\n          perPageSuffix: i18n._(t`per page`),\n          toFirstPage: i18n._(t`Go to first page`),\n          toPreviousPage: i18n._(t`Go to previous page`),\n          toLastPage: i18n._(t`Go to last page`),\n          toNextPage: i18n._(t`Go to next page`),\n          optionsToggle: i18n._(t`选择`),\n          currPage: i18n._(t`Current page`),\n          paginationTitle: i18n._(t`Pagination`),\n        }}\n        dropDirection={DropdownDirection.up}\n        {...props}\n      />\n    )}\n  </I18n>\n);\n","import React from 'react';\n\nimport { Spinner } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst UpdatingContent = styled.div`\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  z-index: 300;\n  width: 100%;\n  height: 100%;\n  & + * {\n    opacity: 0.5;\n  }\n`;\n\nconst LoadingSpinner = () => (\n  <UpdatingContent>\n    <Spinner />\n  </UpdatingContent>\n);\nexport default LoadingSpinner;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { TableComposable, Tbody } from '@patternfly/react-table';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useHistory } from 'react-router-dom';\n\nimport ListHeader from '../ListHeader';\nimport ContentEmpty from '../ContentEmpty';\nimport ContentError from '../ContentError';\nimport ContentLoading from '../ContentLoading';\nimport Pagination from '../Pagination';\nimport DataListToolbar from '../DataListToolbar';\nimport LoadingSpinner from '../LoadingSpinner';\n\nimport {\n  encodeNonDefaultQueryString,\n  parseQueryString,\n  replaceParams,\n} from '../../util/qs';\nimport { QSConfig, SearchColumns } from '../../types';\n\nfunction PaginatedTable({\n  contentError,\n  hasContentLoading,\n  emptyStateControls,\n  items,\n  itemCount,\n  qsConfig,\n  headerRow,\n  renderRow,\n  toolbarSearchColumns,\n  toolbarSearchableKeys,\n  toolbarRelatedSearchableKeys,\n  pluralizedItemName,\n  showPageSizeOptions,\n  i18n,\n  renderToolbar,\n}) {\n  const history = useHistory();\n\n  const pushHistoryState = params => {\n    const { pathname, search } = history.location;\n    const nonNamespacedParams = parseQueryString({}, search);\n    const encodedParams = encodeNonDefaultQueryString(\n      qsConfig,\n      params,\n      nonNamespacedParams\n    );\n    history.push(encodedParams ? `${pathname}?${encodedParams}` : pathname);\n  };\n\n  const handleSetPage = (event, pageNumber) => {\n    const oldParams = parseQueryString(qsConfig, history.location.search);\n    pushHistoryState(replaceParams(oldParams, { page: pageNumber }));\n  };\n\n  const handleSetPageSize = (event, pageSize, page) => {\n    const oldParams = parseQueryString(qsConfig, history.location.search);\n    pushHistoryState(replaceParams(oldParams, { page_size: pageSize, page }));\n  };\n\n  const searchColumns = toolbarSearchColumns.length\n    ? toolbarSearchColumns\n    : [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n          isDefault: true,\n        },\n      ];\n  const queryParams = parseQueryString(qsConfig, history.location.search);\n\n  const dataListLabel = i18n._(t`${pluralizedItemName} List`);\n  const emptyContentMessage = i18n._(\n    t`Please add ${pluralizedItemName} to populate this list `\n  );\n  const emptyContentTitle = i18n._(t`No ${pluralizedItemName} Found `);\n\n  let Content;\n  if (hasContentLoading && items.length <= 0) {\n    Content = <ContentLoading />;\n  } else if (contentError) {\n    Content = <ContentError error={contentError} />;\n  } else if (items.length <= 0) {\n    Content = (\n      <ContentEmpty title={emptyContentTitle} message={emptyContentMessage} />\n    );\n  } else {\n    Content = (\n      <>\n        {hasContentLoading && <LoadingSpinner />}\n        <TableComposable aria-label={dataListLabel}>\n          {headerRow}\n          <Tbody>{items.map(renderRow)}</Tbody>\n        </TableComposable>\n      </>\n    );\n  }\n\n  const ToolbarPagination = (\n    <Pagination\n      isCompact\n      dropDirection=\"down\"\n      itemCount={itemCount}\n      page={queryParams.page || 1}\n      perPage={queryParams.page_size}\n      perPageOptions={\n        showPageSizeOptions\n          ? [\n              { title: '5', value: 5 },\n              { title: '10', value: 10 },\n              { title: '20', value: 20 },\n              { title: '50', value: 50 },\n            ]\n          : []\n      }\n      onSetPage={handleSetPage}\n      onPerPageSelect={handleSetPageSize}\n    />\n  );\n\n  return (\n    <Fragment>\n      <ListHeader\n        itemCount={itemCount}\n        renderToolbar={renderToolbar}\n        emptyStateControls={emptyStateControls}\n        searchColumns={searchColumns}\n        searchableKeys={toolbarSearchableKeys}\n        relatedSearchableKeys={toolbarRelatedSearchableKeys}\n        qsConfig={qsConfig}\n        pagination={ToolbarPagination}\n      />\n      {Content}\n      {items.length ? (\n        <Pagination\n          variant=\"bottom\"\n          itemCount={itemCount}\n          page={queryParams.page || 1}\n          perPage={queryParams.page_size}\n          perPageOptions={\n            showPageSizeOptions\n              ? [\n                  { title: '5', value: 5 },\n                  { title: '10', value: 10 },\n                  { title: '20', value: 20 },\n                  { title: '50', value: 50 },\n                ]\n              : []\n          }\n          onSetPage={handleSetPage}\n          onPerPageSelect={handleSetPageSize}\n        />\n      ) : null}\n    </Fragment>\n  );\n}\n\nconst Item = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string,\n});\n\nPaginatedTable.propTypes = {\n  items: PropTypes.arrayOf(Item).isRequired,\n  itemCount: PropTypes.number.isRequired,\n  pluralizedItemName: PropTypes.string,\n  qsConfig: QSConfig.isRequired,\n  renderRow: PropTypes.func.isRequired,\n  toolbarSearchColumns: SearchColumns,\n  toolbarSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  toolbarRelatedSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  showPageSizeOptions: PropTypes.bool,\n  renderToolbar: PropTypes.func,\n  hasContentLoading: PropTypes.bool,\n  contentError: PropTypes.shape(),\n};\n\nPaginatedTable.defaultProps = {\n  hasContentLoading: false,\n  contentError: null,\n  toolbarSearchColumns: [],\n  toolbarSearchableKeys: [],\n  toolbarRelatedSearchableKeys: [],\n  pluralizedItemName: 'Items',\n  showPageSizeOptions: true,\n  renderToolbar: props => <DataListToolbar {...props} />,\n};\n\nexport { PaginatedTable as _PaginatedTable };\nexport default withI18n()(PaginatedTable);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Td } from '@patternfly/react-table';\nimport styled, { css } from 'styled-components';\n\nconst ActionsGrid = styled.div`\n  display: grid;\n  grid-gap: 16px;\n  align-items: center;\n\n  ${props => {\n    const columns = '40px '.repeat(props.numActions || 1);\n    return css`\n      grid-template-columns: ${columns};\n    `;\n  }}\n`;\nActionsGrid.displayName = 'ActionsGrid';\n\nexport default function ActionsTd({ children, ...props }) {\n  const numActions = children.length || 1;\n  const width = numActions * 40;\n  return (\n    <Td\n      css={`\n        text-align: right;\n        --pf-c-table--cell--Width: ${width}px;\n      `}\n      {...props}\n    >\n      <ActionsGrid numActions={numActions}>\n        {React.Children.map(children, (child, i) =>\n          React.cloneElement(child, {\n            column: i + 1,\n          })\n        )}\n      </ActionsGrid>\n    </Td>\n  );\n}\n","import React from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { Thead, Tr, Th as PFTh } from '@patternfly/react-table';\nimport styled from 'styled-components';\nimport {\n  encodeNonDefaultQueryString,\n  parseQueryString,\n  replaceParams,\n} from '../../util/qs';\n\nconst Th = styled(PFTh)`\n  --pf-c-table--cell--Overflow: initial;\n`;\n\nexport default function HeaderRow({ qsConfig, children }) {\n  const location = useLocation();\n  const history = useHistory();\n\n  const params = parseQueryString(qsConfig, location.search);\n\n  const onSort = (key, order) => {\n    const newParams = replaceParams(params, {\n      order_by: order === 'asc' ? key : `-${key}`,\n      page: null,\n    });\n    const nonNamespacedParams = parseQueryString({}, history.location.search);\n    const encodedParams = encodeNonDefaultQueryString(\n      qsConfig,\n      newParams,\n      nonNamespacedParams\n    );\n    history.push(\n      encodedParams\n        ? `${location.pathname}?${encodedParams}`\n        : location.pathname\n    );\n  };\n\n  const sortKey = params.order_by?.replace('-', '');\n  const sortBy = {\n    index: sortKey || qsConfig.defaultParams?.order_by,\n    direction: params.order_by?.startsWith('-') ? 'desc' : 'asc',\n  };\n\n  // empty first Th aligns with checkboxes in table rows\n  return (\n    <Thead>\n      <Tr>\n        <Th />\n        {React.Children.map(children, child =>\n          React.cloneElement(child, {\n            onSort,\n            sortBy,\n            columnIndex: child.props.sortKey,\n          })\n        )}\n      </Tr>\n    </Thead>\n  );\n}\n\nexport function HeaderCell({ sortKey, onSort, sortBy, columnIndex, children }) {\n  const sort = sortKey\n    ? {\n        onSort: (event, key, order) => onSort(sortKey, order),\n        sortBy,\n        columnIndex,\n      }\n    : null;\n  return <Th sort={sort}>{children}</Th>;\n}\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Tooltip } from '@patternfly/react-core';\n\nexport default function ActionItem({ column, tooltip, visible, children }) {\n  if (!visible) {\n    return null;\n  }\n\n  return (\n    <div\n      css={`\n        grid-column: ${column};\n      `}\n    >\n      <Tooltip content={tooltip} position=\"top\">\n        {children}\n      </Tooltip>\n    </div>\n  );\n}\n","/* eslint-disable import/prefer-default-export */\nimport { t } from '@lingui/macro';\nimport { RRule } from 'rrule';\nimport { getLanguage } from './language';\n\nconst prependZeros = value => value.toString().padStart(2, 0);\n\nexport function formatDateString(dateString, lang = getLanguage(navigator)) {\n  if (dateString === null) {\n    return null;\n  }\n  return new Date(dateString).toLocaleString(lang);\n}\n\nexport function formatDateStringUTC(dateString, lang = getLanguage(navigator)) {\n  if (dateString === null) {\n    return null;\n  }\n  return new Date(dateString).toLocaleString(lang, { timeZone: 'UTC' });\n}\n\nexport function secondsToHHMMSS(seconds) {\n  return new Date(seconds * 1000).toISOString().substr(11, 8);\n}\n\nexport function timeOfDay() {\n  const date = new Date();\n  const hour = date.getHours();\n  const minute = prependZeros(date.getMinutes());\n  const second = prependZeros(date.getSeconds());\n  const time =\n    hour > 12\n      ? `${hour - 12}:${minute}:${second} PM`\n      : `${hour}:${minute}:${second} AM`;\n  return time;\n}\n\nexport function dateToInputDateTime(dateObj) {\n  // input type=\"date-time\" expects values to be formatted\n  // like: YYYY-MM-DDTHH-MM-SS\n  const year = dateObj.getFullYear();\n  const month = prependZeros(dateObj.getMonth() + 1);\n  const day = prependZeros(dateObj.getDate());\n  const hour = prependZeros(dateObj.getHours());\n  const minute = prependZeros(dateObj.getMinutes());\n  const second = prependZeros(dateObj.getSeconds());\n  return `${year}-${month}-${day}T${hour}:${minute}:${second}`;\n}\n\nexport function getRRuleDayConstants(dayString, i18n) {\n  switch (dayString) {\n    case 'sunday':\n      return RRule.SU;\n    case 'monday':\n      return RRule.MO;\n    case 'tuesday':\n      return RRule.TU;\n    case 'wednesday':\n      return RRule.WE;\n    case 'thursday':\n      return RRule.TH;\n    case 'friday':\n      return RRule.FR;\n    case 'saturday':\n      return RRule.SA;\n    case 'day':\n      return [\n        RRule.MO,\n        RRule.TU,\n        RRule.WE,\n        RRule.TH,\n        RRule.FR,\n        RRule.SA,\n        RRule.SU,\n      ];\n    case 'weekday':\n      return [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR];\n    case 'weekendDay':\n      return [RRule.SA, RRule.SU];\n    default:\n      throw new Error(i18n._(t`Unrecognized day string`));\n  }\n}\n","import React from 'react';\nimport { TextList, TextListVariants } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst DetailList = ({ children, stacked, ...props }) => (\n  <TextList component={TextListVariants.dl} {...props}>\n    {children}\n  </TextList>\n);\n\nexport default styled(DetailList)`\n  display: grid;\n  grid-gap: 20px;\n  align-items: start;\n  ${props =>\n    props.stacked\n      ? `\n    grid-template-columns: auto 1fr;\n  `\n      : `\n    --column-count: 1;\n    grid-template-columns: repeat(var(--column-count), auto minmax(10em, 1fr));\n\n    @media (min-width: 920px) {\n      --column-count: 2;\n    }\n\n    @media (min-width: 1210px) {\n      --column-count: 3;\n    }\n  `}\n`;\n","import React from 'react';\nimport { node, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Popover as PFPopover } from '@patternfly/react-core';\nimport { HelpIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst PopoverButton = styled.button`\n  padding: var(--pf-global--spacer--xs);\n  margin: -(var(--pf-global--spacer--xs));\n  font-size: var(--pf-global--FontSize--sm);\n`;\n\nfunction Popover({\n  i18n,\n  i18nHash,\n  ariaLabel,\n  content,\n  header,\n  id,\n  maxWidth,\n  ...rest\n}) {\n  if (!content) {\n    return null;\n  }\n  return (\n    <PFPopover\n      bodyContent={content}\n      headerContent={header}\n      hideOnOutsideClick\n      id={id}\n      data-cy={id}\n      maxWidth={maxWidth}\n      {...rest}\n    >\n      <PopoverButton\n        aria-label={ariaLabel ?? i18n._(t`More information`)}\n        aria-haspopup=\"true\"\n        className=\"pf-c-form__group-label-help\"\n        onClick={e => e.preventDefault()}\n        type=\"button\"\n      >\n        <HelpIcon noVerticalAlign />\n      </PopoverButton>\n    </PFPopover>\n  );\n}\n\nPopover.propTypes = {\n  ariaLabel: string,\n  content: node,\n  header: node,\n  id: string,\n  maxWidth: string,\n};\nPopover.defaultProps = {\n  ariaLabel: null,\n  content: null,\n  header: null,\n  id: '',\n  maxWidth: '',\n};\n\nexport default withI18n()(Popover);\n","import React from 'react';\nimport { node, bool, string } from 'prop-types';\nimport { TextListItem, TextListItemVariants } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport Popover from '../Popover';\n\nconst DetailName = styled(({ fullWidth, ...props }) => (\n  <TextListItem {...props} />\n))`\n  font-weight: var(--pf-global--FontWeight--bold);\n  ${props =>\n    props.fullWidth &&\n    `\n    grid-column: 1;\n  `}\n`;\n\nconst DetailValue = styled(\n  ({ fullWidth, isEncrypted, isNotConfigured, ...props }) => (\n    <TextListItem {...props} />\n  )\n)`\n  word-break: break-all;\n  ${props =>\n    props.fullWidth &&\n    `\n    grid-column: 2 / -1;\n  `}\n  ${props =>\n    (props.isEncrypted || props.isNotConfigured) &&\n    `\n    color: var(--pf-global--Color--400);\n  `}\n`;\n\nconst Detail = ({\n  label,\n  value,\n  fullWidth,\n  className,\n  dataCy,\n  alwaysVisible,\n  helpText,\n  isEncrypted,\n  isNotConfigured,\n}) => {\n  if (!value && typeof value !== 'number' && !alwaysVisible) {\n    return null;\n  }\n\n  const labelCy = dataCy ? `${dataCy}-label` : null;\n  const valueCy = dataCy ? `${dataCy}-value` : null;\n\n  return (\n    <>\n      <DetailName\n        className={className}\n        component={TextListItemVariants.dt}\n        fullWidth={fullWidth}\n        data-cy={labelCy}\n        id={dataCy}\n      >\n        {label}\n        {helpText && <Popover header={label} content={helpText} id={dataCy} />}\n      </DetailName>\n      <DetailValue\n        className={className}\n        component={TextListItemVariants.dd}\n        fullWidth={fullWidth}\n        data-cy={valueCy}\n        isEncrypted={isEncrypted}\n        isNotConfigured={isNotConfigured}\n      >\n        {value}\n      </DetailValue>\n    </>\n  );\n};\nDetail.propTypes = {\n  label: node.isRequired,\n  value: node,\n  fullWidth: bool,\n  alwaysVisible: bool,\n  helpText: string,\n};\nDetail.defaultProps = {\n  value: null,\n  fullWidth: false,\n  alwaysVisible: false,\n  helpText: null,\n};\n\nexport default Detail;\nexport { DetailName };\nexport { DetailValue };\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { node } from 'prop-types';\nimport styled from 'styled-components';\nimport _Detail from './Detail';\n\nconst Detail = styled(_Detail)`\n  dd& {\n    color: red;\n  }\n`;\n\nfunction DeletedDetail({ i18n, label }) {\n  return <Detail label={label} value={i18n._(t`Deleted`)} />;\n}\n\nDeletedDetail.propTypes = {\n  label: node.isRequired,\n};\n\nexport default withI18n()(DeletedDetail);\n","import React from 'react';\nimport { node, string } from 'prop-types';\nimport { Trans } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { formatDateString } from '../../util/dates';\nimport _Detail from './Detail';\nimport { SummaryFieldUser } from '../../types';\n\nconst Detail = styled(_Detail)`\n  word-break: break-word;\n`;\n\nfunction UserDateDetail({ label, date, user, dataCy = null }) {\n  const dateStr = formatDateString(date);\n  const username = user ? user.username : '';\n  return (\n    <Detail\n      label={label}\n      dataCy={dataCy}\n      value={\n        user ? (\n          <Trans>\n            {dateStr} by <Link to={`/users/${user.id}`}>{username}</Link>\n          </Trans>\n        ) : (\n          dateStr\n        )\n      }\n    />\n  );\n}\nUserDateDetail.propTypes = {\n  label: node.isRequired,\n  date: string.isRequired,\n  user: SummaryFieldUser,\n};\nUserDateDetail.defaultProps = {\n  user: null,\n};\n\nexport default UserDateDetail;\n","import React from 'react';\nimport { node } from 'prop-types';\nimport styled from 'styled-components';\nimport { Badge } from '@patternfly/react-core';\n\nimport _Detail from './Detail';\n\nconst Detail = styled(_Detail)`\n  word-break: break-word;\n`;\n\nfunction DetailBadge({ label, content, dataCy = null }) {\n  return (\n    <Detail\n      label={label}\n      dataCy={dataCy}\n      value={<Badge isRead>{content}</Badge>}\n    />\n  );\n}\nDetailBadge.propTypes = {\n  label: node.isRequired,\n  content: node.isRequired,\n};\n\nexport default DetailBadge;\n","import 'styled-components/macro';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { TextListItemVariants } from '@patternfly/react-core';\nimport { DetailName, DetailValue } from './Detail';\n\nconst Value = styled(DetailValue)`\n  margin-top: var(--pf-global--spacer--xs);\n  padding: var(--pf-global--spacer--xs);\n  border: 1px solid var(--pf-global--BorderColor--100);\n  max-height: 5.5em;\n  overflow: auto;\n`;\n\nfunction ArrayDetail({ label, value, dataCy }) {\n  const labelCy = dataCy ? `${dataCy}-label` : null;\n  const valueCy = dataCy ? `${dataCy}-value` : null;\n\n  const vals = Array.isArray(value) ? value : [value];\n\n  return (\n    <div css=\"grid-column: span 2\">\n      <DetailName component={TextListItemVariants.dt} data-cy={labelCy}>\n        {label}\n      </DetailName>\n      <Value component={TextListItemVariants.dd} data-cy={valueCy}>\n        {vals.map(v => (\n          <div>{v}</div>\n        ))}\n      </Value>\n    </div>\n  );\n}\n\nexport default ArrayDetail;\n","import React, { useState, useEffect } from 'react';\nimport { oneOf, bool, number, string, func } from 'prop-types';\nimport { Controlled as ReactCodeMirror } from 'react-codemirror2';\nimport styled from 'styled-components';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/mode/yaml/yaml';\nimport 'codemirror/mode/jinja2/jinja2';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/addon/display/placeholder';\n\nconst LINE_HEIGHT = 24;\nconst PADDING = 12;\n\nconst CodeMirror = styled(ReactCodeMirror)`\n  && {\n    height: initial;\n    padding: 0;\n  }\n\n  & > .CodeMirror {\n    height: ${props =>\n      props.fullHeight ? 'auto' : `${props.rows * LINE_HEIGHT + PADDING}px`};\n    font-family: var(--pf-global--FontFamily--monospace);\n  }\n\n  ${props =>\n    props.hasErrors &&\n    `\n    && {\n      --pf-c-form-control--PaddingRight: var(--pf-c-form-control--invalid--PaddingRight);\n      --pf-c-form-control--BorderBottomColor: var(--pf-c-form-control--invalid--BorderBottomColor);\n      padding-right: 24px;\n      padding-bottom: var(--pf-c-form-control--invalid--PaddingBottom);\n      background: var(--pf-c-form-control--invalid--Background);\n      border-bottom-width: var(--pf-c-form-control--invalid--BorderBottomWidth);\n    }`}\n\n  ${props =>\n    props.options &&\n    props.options.readOnly &&\n    `\n    &,\n    &:hover {\n      --pf-c-form-control--BorderBottomColor: var(--pf-global--BorderColor--300);\n    }\n\n    .CodeMirror-cursors {\n      display: none;\n    }\n\n    .CodeMirror-lines {\n      cursor: default;\n    }\n\n    .CodeMirror-scroll {\n      background-color: var(--pf-c-form-control--disabled--BackgroundColor);\n    }\n  `}\n  ${props =>\n    props.options &&\n    props.options.placeholder &&\n    `\n    .CodeMirror-empty {\n      pre.CodeMirror-placeholder {\n        color: var(--pf-c-form-control--placeholder--Color);\n        height: 100% !important;\n      }\n    }\n  `}\n`;\n\nfunction CodeMirrorInput({\n  value,\n  onChange,\n  mode,\n  readOnly,\n  hasErrors,\n  rows,\n  fullHeight,\n  className,\n  placeholder,\n}) {\n  // Workaround for CodeMirror bug: If CodeMirror renders in a modal on the\n  // modal's initial render, it appears as an empty box due to mis-calculated\n  // element height. Forcing an initial render before mounting <CodeMirror>\n  // fixes this.\n  const [isInitialized, setIsInitialized] = useState(false);\n  useEffect(() => {\n    if (!isInitialized) {\n      setIsInitialized(true);\n    }\n  }, [isInitialized]);\n  if (!isInitialized) {\n    return <div />;\n  }\n\n  return (\n    <CodeMirror\n      className={`pf-c-form-control ${className}`}\n      value={value}\n      onBeforeChange={(editor, data, val) => onChange(val)}\n      mode={mode}\n      hasErrors={hasErrors}\n      options={{\n        smartIndent: false,\n        lineNumbers: true,\n        lineWrapping: true,\n        placeholder,\n        readOnly,\n      }}\n      fullHeight={fullHeight}\n      rows={rows}\n    />\n  );\n}\nCodeMirrorInput.propTypes = {\n  value: string.isRequired,\n  onChange: func,\n  mode: oneOf(['javascript', 'yaml', 'jinja2']).isRequired,\n  readOnly: bool,\n  hasErrors: bool,\n  fullHeight: bool,\n  rows: number,\n  className: string,\n};\nCodeMirrorInput.defaultProps = {\n  readOnly: false,\n  onChange: () => {},\n  rows: 6,\n  fullHeight: false,\n  hasErrors: false,\n  className: '',\n};\n\nexport default CodeMirrorInput;\n","import React from 'react';\nimport {\n  string,\n  oneOfType,\n  object,\n  func,\n  bool,\n  node,\n  oneOf,\n  number,\n} from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup } from '@patternfly/react-core';\nimport CodeMirrorInput from './CodeMirrorInput';\nimport Popover from '../Popover';\n\nfunction CodeMirrorField({\n  id,\n  name,\n  label,\n  tooltip,\n  helperText,\n  validate,\n  isRequired,\n  mode,\n  ...rest\n}) {\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <FormGroup\n      id={`${id}-field`}\n      fieldId={id}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={<Popover content={tooltip} />}\n    >\n      <CodeMirrorInput\n        id={id}\n        {...rest}\n        {...field}\n        onChange={value => {\n          helpers.setValue(value);\n        }}\n        mode={mode}\n      />\n    </FormGroup>\n  );\n}\nCodeMirrorField.propTypes = {\n  helperText: string,\n  id: string.isRequired,\n  name: string.isRequired,\n  label: oneOfType([object, string]).isRequired,\n  validate: func,\n  isRequired: bool,\n  tooltip: node,\n  mode: oneOf(['javascript', 'yaml', 'jinja2']).isRequired,\n  rows: number,\n};\n\nCodeMirrorField.defaultProps = {\n  helperText: '',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  rows: 5,\n};\n\nexport default CodeMirrorField;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Group = styled.div`\n  display: inline-flex;\n\n  & > .pf-c-button:not(:last-child) {\n    &,\n    &::after {\n      border-top-right-radius: 0;\n      border-bottom-right-radius: 0;\n    }\n  }\n\n  & > .pf-c-button:not(:first-child) {\n    &,\n    &::after {\n      border-top-left-radius: 0;\n      border-bottom-left-radius: 0;\n    }\n  }\n`;\n\nfunction ButtonGroup({ children }) {\n  return <Group>{children}</Group>;\n}\n\nexport default ButtonGroup;\n","import React from 'react';\nimport { func, string } from 'prop-types';\nimport styled from 'styled-components';\nimport { Button } from '@patternfly/react-core';\nimport ButtonGroup from './ButtonGroup';\n\nconst SmallButton = styled(Button)`\n  padding: 3px 8px;\n  font-size: var(--pf-global--FontSize--xs);\n`;\n\nfunction MultiButtonToggle({ buttons, value, onChange }) {\n  const setValue = newValue => {\n    if (value !== newValue) {\n      onChange(newValue);\n    }\n  };\n\n  return (\n    <ButtonGroup>\n      {buttons &&\n        buttons.map(([buttonValue, buttonLabel]) => (\n          <SmallButton\n            aria-label={buttonLabel}\n            key={buttonLabel}\n            onClick={() => setValue(buttonValue)}\n            variant={buttonValue === value ? 'primary' : 'secondary'}\n          >\n            {buttonLabel}\n          </SmallButton>\n        ))}\n    </ButtonGroup>\n  );\n}\n\nconst buttonsPropType = {\n  isRequired: ({ buttons }) => {\n    if (!buttons) {\n      return new Error(\n        `The prop buttons is marked as required in MultiButtonToggle, but its value is '${buttons}'`\n      );\n    }\n    // We expect this data structure to look like:\n    // [[value(unrestricted type), label(string)], [value(unrestricted type), label(string)], ...]\n    if (\n      !Array.isArray(buttons) ||\n      buttons.length < 2 ||\n      buttons.reduce(\n        (prevVal, button) => prevVal || typeof button[1] !== 'string',\n        false\n      )\n    ) {\n      return new Error(\n        `Invalid prop buttons supplied to MultiButtonToggle. Validation failed.`\n      );\n    }\n\n    return null;\n  },\n};\n\nMultiButtonToggle.propTypes = {\n  buttons: buttonsPropType.isRequired,\n  value: string.isRequired,\n  onChange: func.isRequired,\n};\n\nexport default MultiButtonToggle;\n","import yaml from 'js-yaml';\n\nexport function yamlToJson(yamlString) {\n  const value = yaml.safeLoad(yamlString);\n  if (!value) {\n    return '{}';\n  }\n  if (typeof value !== 'object') {\n    throw new Error('yaml is not in object format');\n  }\n  return JSON.stringify(value, null, 2);\n}\n\nexport function jsonToYaml(jsonString) {\n  if (jsonString.trim() === '') {\n    return '---\\n';\n  }\n  const value = JSON.parse(jsonString);\n  if (Object.entries(value).length === 0) {\n    return '---\\n';\n  }\n  return yaml.safeDump(value);\n}\n\nexport function isJsonObject(value) {\n  return typeof value === 'object' && value !== null;\n}\n\nexport function isJsonString(jsonString) {\n  if (typeof jsonString !== 'string') {\n    return false;\n  }\n  let value;\n  try {\n    value = JSON.parse(jsonString);\n  } catch (e) {\n    return false;\n  }\n\n  return typeof value === 'object' && value !== null;\n}\n\nexport function parseVariableField(variableField) {\n  if (variableField === '---' || variableField === '{}') {\n    return {};\n  }\n  if (!isJsonString(variableField)) {\n    variableField = yamlToJson(variableField);\n  }\n  variableField = JSON.parse(variableField);\n\n  return variableField;\n}\n","export const YAML_MODE = 'yaml';\nexport const JSON_MODE = 'javascript';\n","import 'styled-components/macro';\nimport React, { useState, useEffect } from 'react';\nimport { node, number, oneOfType, shape, string, arrayOf } from 'prop-types';\nimport { Split, SplitItem, TextListItemVariants } from '@patternfly/react-core';\nimport { DetailName, DetailValue } from '../DetailList';\nimport MultiButtonToggle from '../MultiButtonToggle';\nimport Popover from '../Popover';\nimport {\n  yamlToJson,\n  jsonToYaml,\n  isJsonObject,\n  isJsonString,\n} from '../../util/yaml';\nimport CodeMirrorInput from './CodeMirrorInput';\nimport { JSON_MODE, YAML_MODE } from './constants';\n\nfunction getValueAsMode(value, mode) {\n  if (!value) {\n    if (mode === JSON_MODE) {\n      return '{}';\n    }\n    return '---';\n  }\n  const modeMatches = isJsonString(value) === (mode === JSON_MODE);\n  if (modeMatches) {\n    return value;\n  }\n  return mode === YAML_MODE ? jsonToYaml(value) : yamlToJson(value);\n}\n\nfunction VariablesDetail({ dataCy, helpText, value, label, rows, fullHeight }) {\n  const [mode, setMode] = useState(\n    isJsonObject(value) || isJsonString(value) ? JSON_MODE : YAML_MODE\n  );\n  const [currentValue, setCurrentValue] = useState(\n    isJsonObject(value) ? JSON.stringify(value, null, 2) : value || '---'\n  );\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    setCurrentValue(\n      getValueAsMode(\n        isJsonObject(value) ? JSON.stringify(value, null, 2) : value,\n        mode\n      )\n    );\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [value]);\n\n  const labelCy = dataCy ? `${dataCy}-label` : null;\n  const valueCy = dataCy ? `${dataCy}-value` : null;\n\n  return (\n    <>\n      <DetailName\n        data-cy={labelCy}\n        id={dataCy}\n        component={TextListItemVariants.dt}\n        fullWidth\n        css=\"grid-column: 1 / -1\"\n      >\n        <Split hasGutter>\n          <SplitItem>\n            <div className=\"pf-c-form__label\">\n              <span\n                className=\"pf-c-form__label-text\"\n                css=\"font-weight: var(--pf-global--FontWeight--bold)\"\n              >\n                {label}\n              </span>\n              {helpText && (\n                <Popover header={label} content={helpText} id={dataCy} />\n              )}\n            </div>\n          </SplitItem>\n          <SplitItem>\n            <MultiButtonToggle\n              buttons={[\n                [YAML_MODE, 'YAML'],\n                [JSON_MODE, 'JSON'],\n              ]}\n              value={mode}\n              onChange={newMode => {\n                try {\n                  setCurrentValue(getValueAsMode(currentValue, newMode));\n                  setMode(newMode);\n                } catch (err) {\n                  setError(err);\n                }\n              }}\n            />\n          </SplitItem>\n        </Split>\n      </DetailName>\n      <DetailValue\n        data-cy={valueCy}\n        component={TextListItemVariants.dd}\n        fullWidth\n        css=\"grid-column: 1 / -1; margin-top: -20px\"\n      >\n        <CodeMirrorInput\n          mode={mode}\n          value={currentValue}\n          readOnly\n          rows={rows}\n          fullHeight={fullHeight}\n          css=\"margin-top: 10px\"\n        />\n        {error && (\n          <div\n            css=\"color: var(--pf-global--danger-color--100);\n            font-size: var(--pf-global--FontSize--sm\"\n          >\n            Error: {error.message}\n          </div>\n        )}\n      </DetailValue>\n    </>\n  );\n}\nVariablesDetail.propTypes = {\n  value: oneOfType([shape({}), arrayOf(string), string]).isRequired,\n  label: node.isRequired,\n  rows: number,\n  dataCy: string,\n  helpText: string,\n};\nVariablesDetail.defaultProps = {\n  rows: null,\n  dataCy: '',\n  helpText: '',\n};\n\nexport default VariablesDetail;\n","import React, { useState } from 'react';\nimport { string, func, bool, number } from 'prop-types';\nimport { Split, SplitItem } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { yamlToJson, jsonToYaml, isJsonString } from '../../util/yaml';\nimport MultiButtonToggle from '../MultiButtonToggle';\nimport CodeMirrorInput from './CodeMirrorInput';\nimport { JSON_MODE, YAML_MODE } from './constants';\n\nfunction formatJson(jsonString) {\n  return JSON.stringify(JSON.parse(jsonString), null, 2);\n}\n\nconst SplitItemRight = styled(SplitItem)`\n  margin-bottom: 5px;\n`;\n\nfunction VariablesInput(props) {\n  const { id, label, readOnly, rows, error, onError, className } = props;\n  /* eslint-disable react/destructuring-assignment */\n  const defaultValue = isJsonString(props.value)\n    ? formatJson(props.value)\n    : props.value;\n  const [value, setValue] = useState(defaultValue);\n  const [mode, setMode] = useState(isJsonString(value) ? JSON_MODE : YAML_MODE);\n  const isControlled = !!props.onChange;\n  /* eslint-enable react/destructuring-assignment */\n\n  const onChange = newValue => {\n    if (isControlled) {\n      props.onChange(newValue);\n    }\n    setValue(newValue);\n  };\n\n  return (\n    <div className={`pf-c-form__group ${className || ''}`}>\n      <Split hasGutter>\n        <SplitItem>\n          <label htmlFor={id} className=\"pf-c-form__label\">\n            {label}\n          </label>\n        </SplitItem>\n        <SplitItemRight>\n          <MultiButtonToggle\n            buttons={[\n              [YAML_MODE, 'YAML'],\n              [JSON_MODE, 'JSON'],\n            ]}\n            value={mode}\n            onChange={newMode => {\n              try {\n                if (mode === JSON_MODE) {\n                  onChange(jsonToYaml(value));\n                } else {\n                  onChange(yamlToJson(value));\n                }\n                setMode(newMode);\n              } catch (err) {\n                onError(err.message);\n              }\n            }}\n          />\n        </SplitItemRight>\n      </Split>\n      <CodeMirrorInput\n        mode={mode}\n        readOnly={readOnly}\n        value={value}\n        onChange={onChange}\n        rows={rows}\n        hasErrors={!!error}\n      />\n      {error ? (\n        <div className=\"pf-c-form__helper-text pf-m-error\" aria-live=\"polite\">\n          {error}\n        </div>\n      ) : null}\n    </div>\n  );\n}\nVariablesInput.propTypes = {\n  id: string.isRequired,\n  label: string.isRequired,\n  value: string.isRequired,\n  readOnly: bool,\n  error: string,\n  rows: number,\n  onChange: func,\n  onError: func,\n};\nVariablesInput.defaultProps = {\n  readOnly: false,\n  onChange: null,\n  rows: 6,\n  error: null,\n  onError: () => {},\n};\n\nexport default styled(VariablesInput)`\n  --pf-c-form__label--FontSize: var(--pf-global--FontSize--sm);\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup, TextInput, TextArea } from '@patternfly/react-core';\nimport Popover from '../Popover';\n\nfunction FormField(props) {\n  const {\n    id,\n    helperText,\n    name,\n    label,\n    tooltip,\n    tooltipMaxWidth,\n    validate,\n    isRequired,\n    type,\n    ...rest\n  } = props;\n\n  const [field, meta] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <>\n      {(type === 'textarea' && (\n        <FormGroup\n          fieldId={id}\n          helperText={helperText}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          validated={isValid ? 'default' : 'error'}\n          label={label}\n          labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n        >\n          <TextArea\n            id={id}\n            isRequired={isRequired}\n            validated={isValid ? 'default' : 'error'}\n            resizeOrientation=\"vertical\"\n            {...rest}\n            {...field}\n            onChange={(value, event) => {\n              field.onChange(event);\n            }}\n          />\n        </FormGroup>\n      )) || (\n        <FormGroup\n          fieldId={id}\n          helperText={helperText}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          validated={isValid ? 'default' : 'error'}\n          label={label}\n          labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n        >\n          <TextInput\n            id={id}\n            isRequired={isRequired}\n            validated={isValid ? 'default' : 'error'}\n            {...rest}\n            {...field}\n            type={type}\n            onChange={(value, event) => {\n              field.onChange(event);\n            }}\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n}\n\nFormField.propTypes = {\n  helperText: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n  type: PropTypes.string,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  tooltip: PropTypes.node,\n  tooltipMaxWidth: PropTypes.string,\n};\n\nFormField.defaultProps = {\n  helperText: '',\n  type: 'text',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  tooltipMaxWidth: '',\n};\n\nexport default FormField;\n","import React from 'react';\nimport { string, func, node } from 'prop-types';\nimport { useField } from 'formik';\nimport { Checkbox } from '@patternfly/react-core';\nimport Popover from '../Popover';\n\nfunction CheckboxField({\n  id,\n  name,\n  label,\n  tooltip,\n  validate,\n  isDisabled,\n  ...rest\n}) {\n  const [field] = useField({ name, validate });\n  return (\n    <Checkbox\n      isDisabled={isDisabled}\n      aria-label={label}\n      label={\n        <span>\n          {label}\n          &nbsp;\n          {tooltip && <Popover content={tooltip} />}\n        </span>\n      }\n      id={id}\n      {...rest}\n      isChecked={field.value}\n      {...field}\n      onChange={(value, event) => {\n        field.onChange(event);\n      }}\n    />\n  );\n}\nCheckboxField.propTypes = {\n  id: string.isRequired,\n  name: string.isRequired,\n  label: string.isRequired,\n  validate: func,\n  tooltip: node,\n};\nCheckboxField.defaultProps = {\n  validate: () => {},\n  tooltip: '',\n};\n\nexport default CheckboxField;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport {\n  Button,\n  ButtonVariant,\n  TextInput,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { EyeIcon, EyeSlashIcon } from '@patternfly/react-icons';\n\nfunction PasswordInput(props) {\n  const {\n    autocomplete,\n    id,\n    name,\n    validate,\n    isRequired,\n    isDisabled,\n    i18n,\n  } = props;\n  const [inputType, setInputType] = useState('password');\n  const [field, meta] = useField({ name, validate });\n\n  const isValid = !(meta.touched && meta.error);\n\n  const handlePasswordToggle = () => {\n    setInputType(inputType === 'text' ? 'password' : 'text');\n  };\n\n  return (\n    <>\n      <Tooltip\n        content={inputType === 'password' ? i18n._(t`Show`) : i18n._(t`Hide`)}\n      >\n        <Button\n          variant={ButtonVariant.control}\n          aria-label={i18n._(t`Toggle Password`)}\n          onClick={handlePasswordToggle}\n          isDisabled={isDisabled}\n        >\n          {inputType === 'password' && <EyeSlashIcon />}\n          {inputType === 'text' && <EyeIcon />}\n        </Button>\n      </Tooltip>\n      <TextInput\n        autoComplete={autocomplete}\n        id={id}\n        placeholder={field.value === '$encrypted$' ? 'ENCRYPTED' : undefined}\n        {...field}\n        value={field.value === '$encrypted$' ? '' : field.value}\n        isDisabled={isDisabled}\n        isRequired={isRequired}\n        validated={isValid ? 'default' : 'error'}\n        type={inputType}\n        onChange={(_, event) => {\n          field.onChange(event);\n        }}\n      />\n    </>\n  );\n}\n\nPasswordInput.propTypes = {\n  autocomplete: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n};\n\nPasswordInput.defaultProps = {\n  autocomplete: 'new-password',\n  validate: () => {},\n  isRequired: false,\n  isDisabled: false,\n};\n\nexport default withI18n()(PasswordInput);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup, InputGroup } from '@patternfly/react-core';\nimport Popover from '../Popover';\nimport PasswordInput from './PasswordInput';\n\nfunction PasswordField(props) {\n  const { id, name, label, validate, isRequired, helperText } = props;\n  const [, meta] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <FormGroup\n      fieldId={id}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={helperText && <Popover content={helperText} />}\n    >\n      <InputGroup>\n        <PasswordInput {...props} />\n      </InputGroup>\n    </FormGroup>\n  );\n}\n\nPasswordField.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.string.isRequired,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  isDisabled: PropTypes.bool,\n};\n\nPasswordField.defaultProps = {\n  validate: () => {},\n  isRequired: false,\n  isDisabled: false,\n};\n\nexport default PasswordField;\n","import styled from 'styled-components';\n\nexport const FormColumnLayout = styled.div`\n  width: 100%;\n  grid-column: 1 / -1;\n  display: grid;\n  grid-gap: var(--pf-c-form--GridGap);\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n\n  @media (min-width: 1210px) {\n    grid-template-columns: repeat(3, 1fr);\n  }\n`;\n\nexport const FormFullWidthLayout = styled.div`\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: var(--pf-c-form--GridGap);\n`;\n\nexport const FormCheckboxLayout = styled.div`\n  display: flex;\n  justify-content: flex-start;\n  flex-wrap: wrap;\n  margin-bottom: -10px;\n  margin-right: -30px !important;\n\n  & > * {\n    margin-bottom: 10px;\n    margin-right: 30px;\n  }\n`;\n\nexport const SubFormLayout = styled.div`\n  grid-column: 1 / -1;\n  background-color: #f5f5f5;\n  margin-right: calc(var(--pf-c-card--child--PaddingRight) * -1);\n  margin-left: calc(var(--pf-c-card--child--PaddingLeft) * -1);\n  padding: var(--pf-c-card--child--PaddingRight);\n\n  & > .pf-c-title {\n    --pf-c-title--m-md--FontWeight: 700;\n    grid-column: 1 / -1;\n    margin-bottom: 20px;\n  }\n`;\n","export default function sortErrorMessages(error, formValues = {}) {\n  if (!error) {\n    return {};\n  }\n\n  if (\n    error?.response?.data &&\n    typeof error.response.data === 'object' &&\n    Object.keys(error.response.data).length > 0\n  ) {\n    const parsed = parseFieldErrors(error.response.data, formValues);\n    return {\n      formError: parsed.formErrors.join('; '),\n      fieldErrors: Object.keys(parsed.fieldErrors).length\n        ? parsed.fieldErrors\n        : null,\n    };\n  }\n  /* eslint-disable-next-line no-console */\n  console.error(error);\n  return {\n    formError: error.message,\n    fieldErrors: null,\n  };\n}\n\n// Recursively traverse field errors object and build up field/form errors\nfunction parseFieldErrors(obj, formValues) {\n  let fieldErrors = {};\n  let formErrors = [];\n  Object.keys(obj).forEach(key => {\n    const value = obj[key];\n    if (typeof value === 'string') {\n      if (typeof formValues[key] === 'undefined') {\n        formErrors.push(value);\n      } else {\n        fieldErrors[key] = value;\n      }\n    } else if (Array.isArray(value)) {\n      if (typeof formValues[key] === 'undefined') {\n        formErrors = formErrors.concat(value);\n      } else {\n        fieldErrors[key] = value.join('; ');\n      }\n    } else if (typeof value === 'object') {\n      const parsed = parseFieldErrors(value, formValues[key] || {});\n      if (Object.keys(parsed.fieldErrors).length) {\n        fieldErrors = {\n          ...fieldErrors,\n          [key]: parsed.fieldErrors,\n        };\n      }\n      formErrors = formErrors.concat(parsed.formErrors);\n    }\n  });\n\n  return { fieldErrors, formErrors };\n}\n","import React, { useState, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport { Alert } from '@patternfly/react-core';\nimport { FormFullWidthLayout } from '../FormLayout';\nimport sortErrorMessages from './sortErrorMessages';\n\nfunction FormSubmitError({ error }) {\n  const [errorMessage, setErrorMessage] = useState(null);\n  const { values, setErrors } = useFormikContext();\n\n  useEffect(() => {\n    const { formError, fieldErrors } = sortErrorMessages(error, values);\n    if (formError) {\n      setErrorMessage(formError);\n    }\n    if (fieldErrors) {\n      setErrors(fieldErrors);\n    }\n  }, [error, setErrors, values]);\n\n  if (!errorMessage) {\n    return null;\n  }\n\n  return (\n    <FormFullWidthLayout>\n      <Alert\n        variant=\"danger\"\n        isInline\n        title={\n          Array.isArray(errorMessage)\n            ? errorMessage.map(msg => <div key={msg}>{msg}</div>)\n            : errorMessage\n        }\n      />\n    </FormFullWidthLayout>\n  );\n}\n\nexport default FormSubmitError;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { FormGroup, TextArea } from '@patternfly/react-core';\nimport Popover from '../Popover';\n\nfunction ArrayTextField(props) {\n  const {\n    id,\n    helperText,\n    name,\n    label,\n    tooltip,\n    tooltipMaxWidth,\n    validate,\n    isRequired,\n    type,\n    ...rest\n  } = props;\n\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n  const value = field.value || [];\n\n  return (\n    <FormGroup\n      fieldId={id}\n      helperText={helperText}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={<Popover content={tooltip} maxWidth={tooltipMaxWidth} />}\n    >\n      <TextArea\n        id={id}\n        isRequired={isRequired}\n        validated={isValid ? 'default' : 'error'}\n        resizeOrientation=\"vertical\"\n        {...rest}\n        {...field}\n        value={value.join('\\n')}\n        onChange={val => {\n          helpers.setValue(val.split('\\n').map(v => v.trim()));\n        }}\n      />\n    </FormGroup>\n  );\n}\n\nArrayTextField.propTypes = {\n  helperText: PropTypes.string,\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  label: PropTypes.oneOfType([PropTypes.object, PropTypes.string]).isRequired,\n  validate: PropTypes.func,\n  isRequired: PropTypes.bool,\n  tooltip: PropTypes.node,\n  tooltipMaxWidth: PropTypes.string,\n};\n\nArrayTextField.defaultProps = {\n  helperText: '',\n  validate: () => {},\n  isRequired: false,\n  tooltip: null,\n  tooltipMaxWidth: '',\n};\n\nexport default ArrayTextField;\n","import React, { useState } from 'react';\nimport { string, bool } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport styled from 'styled-components';\nimport { Split, SplitItem } from '@patternfly/react-core';\nimport { CheckboxField } from '../FormField';\nimport MultiButtonToggle from '../MultiButtonToggle';\nimport { yamlToJson, jsonToYaml, isJsonString } from '../../util/yaml';\nimport CodeMirrorInput from './CodeMirrorInput';\nimport Popover from '../Popover';\nimport { JSON_MODE, YAML_MODE } from './constants';\n\nconst FieldHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: var(--pf-c-form__group-label--PaddingBottom);\n`;\n\nconst StyledCheckboxField = styled(CheckboxField)`\n  --pf-c-check__label--FontSize: var(--pf-c-form__label--FontSize);\n`;\n\nfunction VariablesField({\n  i18n,\n  id,\n  name,\n  label,\n  readOnly,\n  promptId,\n  tooltip,\n}) {\n  const [field, meta, helpers] = useField(name);\n  const [mode, setMode] = useState(\n    isJsonString(field.value) ? JSON_MODE : YAML_MODE\n  );\n\n  return (\n    <div className=\"pf-c-form__group\">\n      <FieldHeader>\n        <Split hasGutter>\n          <SplitItem>\n            <label htmlFor={id} className=\"pf-c-form__label\">\n              <span className=\"pf-c-form__label-text\">{label}</span>\n            </label>\n            {tooltip && <Popover content={tooltip} id={id} />}\n          </SplitItem>\n          <SplitItem>\n            <MultiButtonToggle\n              buttons={[\n                [YAML_MODE, 'YAML'],\n                [JSON_MODE, 'JSON'],\n              ]}\n              value={mode}\n              onChange={newMode => {\n                try {\n                  const newVal =\n                    newMode === YAML_MODE\n                      ? jsonToYaml(field.value)\n                      : yamlToJson(field.value);\n                  helpers.setValue(newVal);\n                  setMode(newMode);\n                } catch (err) {\n                  helpers.setError(err.message);\n                }\n              }}\n            />\n          </SplitItem>\n        </Split>\n        {promptId && (\n          <StyledCheckboxField\n            id=\"template-ask-variables-on-launch\"\n            label={i18n._(t`Prompt on launch`)}\n            name=\"ask_variables_on_launch\"\n          />\n        )}\n      </FieldHeader>\n      <CodeMirrorInput\n        mode={mode}\n        readOnly={readOnly}\n        {...field}\n        onChange={newVal => {\n          helpers.setValue(newVal);\n        }}\n        hasErrors={!!meta.error}\n      />\n      {meta.error ? (\n        <div className=\"pf-c-form__helper-text pf-m-error\" aria-live=\"polite\">\n          {meta.error}\n        </div>\n      ) : null}\n    </div>\n  );\n}\nVariablesField.propTypes = {\n  id: string.isRequired,\n  name: string.isRequired,\n  label: string.isRequired,\n  readOnly: bool,\n  promptId: string,\n};\nVariablesField.defaultProps = {\n  readOnly: false,\n  promptId: null,\n};\n\nexport default withI18n()(VariablesField);\n","import CodeMirrorInput from './CodeMirrorInput';\n\nexport default CodeMirrorInput;\nexport { default as CodeMirrorField } from './CodeMirrorField';\nexport { default as VariablesDetail } from './VariablesDetail';\nexport { default as VariablesInput } from './VariablesInput';\nexport { default as VariablesField } from './VariablesField';\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Modal } from '@patternfly/react-core';\nimport { SearchPlusIcon } from '@patternfly/react-icons';\n\nimport { formatDateString } from '../../util/dates';\n\nimport { DetailList, Detail } from '../../components/DetailList';\nimport { VariablesDetail } from '../../components/CodeMirrorInput';\n\nfunction ActivityStreamDetailButton({ i18n, streamItem, user, description }) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  const setting = streamItem?.summary_fields?.setting;\n  const changeRows = Math.max(\n    Object.keys(streamItem?.changes || []).length + 2,\n    6\n  );\n\n  return (\n    <>\n      <Button\n        aria-label={i18n._(t`View event details`)}\n        variant=\"plain\"\n        component=\"button\"\n        onClick={() => setIsOpen(true)}\n      >\n        <SearchPlusIcon />\n      </Button>\n      <Modal\n        variant=\"large\"\n        isOpen={isOpen}\n        title={i18n._(t`Event detail`)}\n        aria-label={i18n._(t`Event detail modal`)}\n        onClose={() => setIsOpen(false)}\n      >\n        <DetailList gutter=\"sm\">\n          <Detail\n            label={i18n._(t`Time`)}\n            value={formatDateString(streamItem.timestamp)}\n          />\n          <Detail label={i18n._(t`Initiated by`)} value={user} />\n          <Detail\n            label={i18n._(t`Setting category`)}\n            value={setting && setting[0]?.category}\n          />\n          <Detail\n            label={i18n._(t`Setting name`)}\n            value={setting && setting[0]?.name}\n          />\n          <Detail fullWidth label={i18n._(t`Action`)} value={description} />\n          {streamItem?.changes && (\n            <VariablesDetail\n              label={i18n._(t`Changes`)}\n              rows={changeRows}\n              value={streamItem?.changes}\n            />\n          )}\n        </DetailList>\n      </Modal>\n    </>\n  );\n}\n\nexport default withI18n()(ActivityStreamDetailButton);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\n\nconst buildAnchor = (obj, resource, activity) => {\n  let url;\n  let name;\n  // try/except pattern asserts that:\n  // if we encounter a case where a UI url can't or\n  // shouldn't be generated, just supply the name of the resource\n  try {\n    // catch-all case to avoid generating urls if a resource has been deleted\n    // if a resource still exists, it'll be serialized in the activity's summary_fields\n    if (!activity.summary_fields[resource]) {\n      throw new Error('The referenced resource no longer exists');\n    }\n    switch (resource) {\n      case 'custom_inventory_script':\n        url = `/inventory_scripts/${obj.id}/`;\n        break;\n      case 'group':\n        if (\n          activity.operation === 'create' ||\n          activity.operation === 'delete'\n        ) {\n          // the API formats the changes.inventory field as str 'myInventoryName-PrimaryKey'\n          const [inventory_id] = activity.changes.inventory\n            .split('-')\n            .slice(-1);\n          url = `/inventories/inventory/${inventory_id}/groups/${activity.changes.id}/details/`;\n        } else {\n          url = `/inventories/inventory/${\n            activity.summary_fields.inventory[0].id\n          }/groups/${activity.changes.id ||\n            activity.changes.object1_pk}/details/`;\n        }\n        break;\n      case 'host':\n        url = `/hosts/${obj.id}/`;\n        break;\n      case 'job':\n        url = `/jobs/${obj.id}/`;\n        break;\n      case 'inventory':\n        url =\n          obj?.kind === 'smart'\n            ? `/inventories/smart_inventory/${obj.id}/`\n            : `/inventories/inventory/${obj.id}/`;\n        break;\n      case 'schedule':\n        // schedule urls depend on the resource they're associated with\n        if (activity.summary_fields.job_template) {\n          const jt_id = activity.summary_fields.job_template[0].id;\n          url = `/templates/job_template/${jt_id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.workflow_job_template) {\n          const wfjt_id = activity.summary_fields.workflow_job_template[0].id;\n          url = `/templates/workflow_job_template/${wfjt_id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.project) {\n          url = `/projects/${activity.summary_fields.project[0].id}/schedules/${obj.id}/`;\n        } else if (activity.summary_fields.system_job_template) {\n          url = null;\n        } else {\n          // urls for inventory sync schedules currently depend on having\n          // an inventory id and group id\n          throw new Error(\n            'activity.summary_fields to build this url not implemented yet'\n          );\n        }\n        break;\n      case 'setting':\n        url = `/settings/`;\n        break;\n      case 'notification_template':\n        url = `/notification_templates/${obj.id}/`;\n        break;\n      case 'role':\n        throw new Error(\n          'role object management is not consolidated to a single UI view'\n        );\n      case 'job_template':\n        url = `/templates/job_template/${obj.id}/`;\n        break;\n      case 'workflow_job_template':\n        url = `/templates/workflow_job_template/${obj.id}/`;\n        break;\n      case 'workflow_job_template_node': {\n        const {\n          id: wfjt_id,\n          name: wfjt_name,\n        } = activity.summary_fields.workflow_job_template[0];\n        url = `/templates/workflow_job_template/${wfjt_id}/`;\n        name = wfjt_name;\n        break;\n      }\n      case 'workflow_job':\n        url = `/jobs/workflow/${obj.id}/`;\n        break;\n      case 'label':\n        url = null;\n        break;\n      case 'inventory_source': {\n        const inventoryId = (obj.inventory || '').split('-').reverse()[0];\n        url = `/inventories/inventory/${inventoryId}/sources/${obj.id}/details/`;\n        break;\n      }\n      case 'o_auth2_application':\n        url = `/applications/${obj.id}/`;\n        break;\n      case 'workflow_approval':\n        url = `/jobs/workflow/${activity.summary_fields.workflow_job[0].id}/output/`;\n        name = `${activity.summary_fields.workflow_job[0].name} | ${activity.summary_fields.workflow_approval[0].name}`;\n        break;\n      case 'workflow_approval_template':\n        url = `/templates/workflow_job_template/${activity.summary_fields.workflow_job_template[0].id}/visualizer/`;\n        name = `${activity.summary_fields.workflow_job_template[0].name} | ${activity.summary_fields.workflow_approval_template[0].name}`;\n        break;\n      default:\n        url = `/${resource}s/${obj.id}/`;\n    }\n\n    name = name || obj.name || obj.username;\n\n    if (url) {\n      return <Link to={url}>{name}</Link>;\n    }\n\n    return <span>{name}</span>;\n  } catch (err) {\n    return <span>{obj.name || obj.username || ''}</span>;\n  }\n};\n\nconst getPastTense = item => {\n  return /e$/.test(item) ? `${item}d` : `${item}ed`;\n};\n\nconst isGroupRelationship = item => {\n  return (\n    item.object1 === 'group' &&\n    item.object2 === 'group' &&\n    item.summary_fields.group.length > 1\n  );\n};\n\nconst buildLabeledLink = (label, link) => {\n  return (\n    <span>\n      {label} {link}\n    </span>\n  );\n};\n\nfunction ActivityStreamDescription({ i18n, activity }) {\n  const labeledLinks = [];\n  // Activity stream objects will outlive the resources they reference\n  // in that case, summary_fields will not be available - show generic error text instead\n  try {\n    switch (activity.object_association) {\n      // explicit role dis+associations\n      case 'role': {\n        let { object1, object2 } = activity;\n\n        // if object1 winds up being the role's resource, we need to swap the objects\n        // in order to make the sentence make sense.\n        if (activity.object_type === object1) {\n          object1 = activity.object2;\n          object2 = activity.object1;\n        }\n\n        // object1 field is resource targeted by the dis+association\n        // object2 field is the resource the role is inherited from\n        // summary_field.role[0] contains ref info about the role\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> role_name from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[object2][0],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields[object1][0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome: \"associated <object2> role_name to <object1>\"\n          case 'associate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[object2][0],\n                    object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields[object1][0],\n                    object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          default:\n            break;\n        }\n        break;\n        // inherited role dis+associations (logic identical to case 'role')\n      }\n      case 'parents':\n        // object1 field is resource targeted by the dis+association\n        // object2 field is the resource the role is inherited from\n        // summary_field.role[0] contains ref info about the role\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> role_name from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} from`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome: \"associated <object2> role_name to <object1>\"\n          case 'associate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  getPastTense(activity.operation),\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${activity.summary_fields.role[0].role_field} to`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          default:\n            break;\n        }\n        break;\n      // CRUD operations / resource on resource dis+associations\n      default:\n        switch (activity.operation) {\n          // expected outcome: \"disassociated <object2> from <object1>\"\n          case 'disassociate':\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else if (\n              activity.object1 === 'workflow_job_template_node' &&\n              activity.object2 === 'workflow_job_template_node'\n            ) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} two nodes on workflow`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1[0]],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `from ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          // expected outcome \"associated <object2> to <object1>\"\n          case 'associate':\n            // groups are the only resource that can be associated/disassociated into each other\n            if (isGroupRelationship(activity)) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields.group[0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields.group[1],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            } else if (\n              activity.object1 === 'workflow_job_template_node' &&\n              activity.object2 === 'workflow_job_template_node'\n            ) {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} two nodes on workflow`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1[0]],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n              labeledLinks.push(\n                buildLabeledLink(\n                  `to ${activity.object2}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object2][0],\n                    activity.object2,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          case 'delete':\n            labeledLinks.push(\n              buildLabeledLink(\n                `${getPastTense(activity.operation)} ${activity.object1}`,\n                buildAnchor(activity.changes, activity.object1, activity)\n              )\n            );\n            break;\n          // expected outcome: \"operation <object1>\"\n          case 'update':\n            if (\n              activity.object1 === 'workflow_approval' &&\n              activity?.changes?.status?.length === 2\n            ) {\n              let operationText = '';\n              if (activity.changes.status[1] === 'successful') {\n                operationText = i18n._(t`approved`);\n              } else if (activity.changes.status[1] === 'failed') {\n                if (\n                  activity.changes.timed_out &&\n                  activity.changes.timed_out[1] === true\n                ) {\n                  operationText = i18n._(t`timed out`);\n                } else {\n                  operationText = i18n._(t`denied`);\n                }\n              } else {\n                operationText = i18n._(t`updated`);\n              }\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${operationText} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            } else {\n              labeledLinks.push(\n                buildLabeledLink(\n                  `${getPastTense(activity.operation)} ${activity.object1}`,\n                  buildAnchor(\n                    activity.summary_fields[activity.object1][0],\n                    activity.object1,\n                    activity\n                  )\n                )\n              );\n            }\n            break;\n          case 'create':\n            labeledLinks.push(\n              buildLabeledLink(\n                `${getPastTense(activity.operation)} ${activity.object1}`,\n                buildAnchor(activity.changes, activity.object1, activity)\n              )\n            );\n            break;\n          default:\n            break;\n        }\n        break;\n    }\n  } catch (err) {\n    return <span>{i18n._(t`Event summary not available`)}</span>;\n  }\n\n  return (\n    <span>\n      {labeledLinks.reduce(\n        (acc, x) =>\n          acc === null ? (\n            x\n          ) : (\n            <>\n              {acc} {x}\n            </>\n          ),\n        null\n      )}\n    </span>\n  );\n}\n\nexport default withI18n()(ActivityStreamDescription);\n","import React from 'react';\nimport { shape } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { Tr, Td } from '@patternfly/react-table';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\n\nimport { formatDateString } from '../../util/dates';\nimport { ActionsTd, ActionItem } from '../../components/PaginatedTable';\n\nimport ActivityStreamDetailButton from './ActivityStreamDetailButton';\nimport ActivityStreamDescription from './ActivityStreamDescription';\n\nfunction ActivityStreamListItem({ streamItem, i18n }) {\n  ActivityStreamListItem.propTypes = {\n    streamItem: shape({}).isRequired,\n  };\n\n  const buildUser = item => {\n    let link;\n    if (item?.summary_fields?.actor?.id) {\n      link = (\n        <Link to={`/users/${item.summary_fields.actor.id}/details`}>\n          {item.summary_fields.actor.username}\n        </Link>\n      );\n    } else if (item?.summary_fields?.actor) {\n      link = i18n._(t`${item.summary_fields.actor.username} (deleted)`);\n    } else {\n      link = i18n._(t`system`);\n    }\n    return link;\n  };\n\n  const labelId = `check-action-${streamItem.id}`;\n  const user = buildUser(streamItem);\n  const description = <ActivityStreamDescription activity={streamItem} />;\n\n  return (\n    <Tr id={streamItem.id} aria-labelledby={labelId}>\n      <Td />\n      <Td dataLabel={i18n._(t`Time`)}>\n        {streamItem.timestamp ? formatDateString(streamItem.timestamp) : ''}\n      </Td>\n      <Td dataLabel={i18n._(t`Initiated By`)}>{user}</Td>\n      <Td id={labelId} dataLabel={i18n._(t`Event`)}>\n        {description}\n      </Td>\n      <ActionsTd dataLabel={i18n._(t`Actions`)}>\n        <ActionItem visible tooltip={i18n._(t`View event details`)}>\n          <ActivityStreamDetailButton\n            streamItem={streamItem}\n            user={user}\n            description={description}\n          />\n        </ActionItem>\n      </ActionsTd>\n    </Tr>\n  );\n}\nexport default withI18n()(ActivityStreamListItem);\n","import React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Card,\n  PageSection,\n  PageSectionVariants,\n  SelectGroup,\n  Select,\n  SelectVariant,\n  SelectOption,\n  Title,\n} from '@patternfly/react-core';\n\nimport DatalistToolbar from '../../components/DataListToolbar';\nimport PaginatedTable, {\n  HeaderRow,\n  HeaderCell,\n} from '../../components/PaginatedTable';\nimport useRequest from '../../util/useRequest';\nimport {\n  getQSConfig,\n  parseQueryString,\n  replaceParams,\n  encodeNonDefaultQueryString,\n} from '../../util/qs';\nimport { ActivityStreamAPI } from '../../api';\n\nimport ActivityStreamListItem from './ActivityStreamListItem';\n\nfunction ActivityStream({ i18n }) {\n  const { light } = PageSectionVariants;\n\n  const [isTypeDropdownOpen, setIsTypeDropdownOpen] = useState(false);\n  const location = useLocation();\n  const history = useHistory();\n  const urlParams = new URLSearchParams(location.search);\n\n  const activityStreamType = urlParams.get('type') || 'all';\n\n  let typeParams = {};\n\n  if (activityStreamType !== 'all') {\n    typeParams = {\n      or__object1__in: activityStreamType,\n      or__object2__in: activityStreamType,\n    };\n  }\n\n  const QS_CONFIG = getQSConfig(\n    'activity_stream',\n    {\n      page: 1,\n      page_size: 20,\n      order_by: '-timestamp',\n    },\n    ['id', 'page', 'page_size']\n  );\n\n  const {\n    result: { results, count, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading,\n    request: fetchActivityStream,\n  } = useRequest(\n    useCallback(\n      async () => {\n        const params = parseQueryString(QS_CONFIG, location.search);\n        const [response, actionsResponse] = await Promise.all([\n          ActivityStreamAPI.read({ ...params, ...typeParams }),\n          ActivityStreamAPI.readOptions(),\n        ]);\n        return {\n          results: response.data.results,\n          count: response.data.count,\n          relatedSearchableKeys: (\n            actionsResponse?.data?.related_search_fields || []\n          ).map(val => val.slice(0, -8)),\n          searchableKeys: Object.keys(\n            actionsResponse.data.actions?.GET || {}\n          ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n        };\n      },\n      [location] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    {\n      results: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n  useEffect(() => {\n    fetchActivityStream();\n  }, [fetchActivityStream]);\n\n  const pushHistoryState = urlParamsToAdd => {\n    let searchParams = parseQueryString(QS_CONFIG, location.search);\n    searchParams = replaceParams(searchParams, { page: 1 });\n    const encodedParams = encodeNonDefaultQueryString(QS_CONFIG, searchParams, {\n      type: urlParamsToAdd.get('type'),\n    });\n    history.push(\n      encodedParams\n        ? `${location.pathname}?${encodedParams}`\n        : location.pathname\n    );\n  };\n\n  return (\n    <Fragment>\n      <PageSection\n        variant={light}\n        className=\"pf-m-condensed\"\n        style={{ display: 'flex', justifyContent: 'space-between' }}\n      >\n        <Title size=\"2xl\" headingLevel=\"h2\">\n          {i18n._(t`活动流`)}\n        </Title>\n        <span id=\"grouped-type-select-id\" hidden>\n          {i18n._(t`Activity Stream type selector`)}\n        </span>\n        <Select\n          width=\"250px\"\n          maxHeight=\"480px\"\n          variant={SelectVariant.single}\n          aria-labelledby=\"grouped-type-select-id\"\n          className=\"activityTypeSelect\"\n          onToggle={setIsTypeDropdownOpen}\n          onSelect={(event, selection) => {\n            if (selection) {\n              urlParams.set('type', selection);\n            }\n            setIsTypeDropdownOpen(false);\n            pushHistoryState(urlParams);\n          }}\n          selections={activityStreamType}\n          isOpen={isTypeDropdownOpen}\n          isGrouped\n        >\n          <SelectGroup label={i18n._(t`Views`)} key=\"views\">\n            <SelectOption key=\"all_activity\" value=\"all\">\n              {i18n._(t`Dashboard (all activity)`)}\n            </SelectOption>\n            <SelectOption key=\"jobs\" value=\"job\">\n              {i18n._(t`作业`)}\n            </SelectOption>\n            <SelectOption key=\"schedules\" value=\"schedule\">\n              {i18n._(t`计划`)}\n            </SelectOption>\n            <SelectOption key=\"workflow_approvals\" value=\"workflow_approval\">\n              {i18n._(t`工作流审批`)}\n            </SelectOption>\n          </SelectGroup>\n          <SelectGroup label={i18n._(t`Resources`)} key=\"resources\">\n            <SelectOption\n              key=\"templates\"\n              value=\"job_template,workflow_job_template,workflow_job_template_node\"\n            >\n              {i18n._(t`Templates`)}\n            </SelectOption>\n            <SelectOption key=\"credentials\" value=\"credential\">\n              {i18n._(t`Credentials`)}\n            </SelectOption>\n            <SelectOption key=\"projects\" value=\"project\">\n              {i18n._(t`Projects`)}\n            </SelectOption>\n            <SelectOption key=\"inventories\" value=\"inventory\">\n              {i18n._(t`Inventories`)}\n            </SelectOption>\n            <SelectOption key=\"hosts\" value=\"host\">\n              {i18n._(t`Hosts`)}\n            </SelectOption>\n          </SelectGroup>\n          <SelectGroup label={i18n._(t`Access`)} key=\"access\">\n            <SelectOption key=\"organizations\" value=\"organization\">\n              {i18n._(t`Organizations`)}\n            </SelectOption>\n            <SelectOption key=\"users\" value=\"user\">\n              {i18n._(t`用户`)}\n            </SelectOption>\n            <SelectOption key=\"teams\" value=\"team\">\n              {i18n._(t`团队`)}\n            </SelectOption>\n          </SelectGroup>\n          <SelectGroup label={i18n._(t`Adminisration`)} key=\"administration\">\n            <SelectOption key=\"credential_types\" value=\"credential_type\">\n              {i18n._(t`Credential Types`)}\n            </SelectOption>\n            <SelectOption\n              key=\"notification_templates\"\n              value=\"notification_template\"\n            >\n              {i18n._(t`Notification Templates`)}\n            </SelectOption>\n            <SelectOption key=\"instance_groups\" value=\"instance_group\">\n              {i18n._(t`Instance Groups`)}\n            </SelectOption>\n            <SelectOption\n              key=\"applications\"\n              value=\"o_auth2_application,o_auth2_access_token\"\n            >\n              {i18n._(t`Applications & Tokens`)}\n            </SelectOption>\n          </SelectGroup>\n          <SelectGroup label={i18n._(t`Settings`)} key=\"settings\">\n            <SelectOption key=\"settings\" value=\"setting\">\n              {i18n._(t`Settings`)}\n            </SelectOption>\n          </SelectGroup>\n        </Select>\n      </PageSection>\n      <PageSection>\n        <Card>\n          <PaginatedTable\n            contentError={contentError}\n            hasContentLoading={isLoading}\n            items={results}\n            itemCount={count}\n            pluralizedItemName={i18n._(t`Events`)}\n            qsConfig={QS_CONFIG}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`Keyword`),\n                key: 'search',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`Initiated by (username)`),\n                key: 'actor__username__icontains',\n              },\n            ]}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`Time`),\n                key: 'timestamp',\n              },\n              {\n                name: i18n._(t`Initiated by`),\n                key: 'actor__username',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            headerRow={\n              <HeaderRow qsConfig={QS_CONFIG}>\n                <HeaderCell sortKey=\"timestamp\">{i18n._(t`Time`)}</HeaderCell>\n                <HeaderCell sortKey=\"actor__username\">\n                  {i18n._(t`Initiated by`)}\n                </HeaderCell>\n                <HeaderCell>{i18n._(t`Event`)}</HeaderCell>\n                <HeaderCell>{i18n._(t`Actions`)}</HeaderCell>\n              </HeaderRow>\n            }\n            renderToolbar={props => (\n              <DatalistToolbar {...props} qsConfig={QS_CONFIG} />\n            )}\n            renderRow={streamItem => (\n              <ActivityStreamListItem streamItem={streamItem} />\n            )}\n          />\n        </Card>\n      </PageSection>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(ActivityStream);\n","import { DataListCell as PFDataListCell } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nPFDataListCell.displayName = 'PFDataListCell';\n// Once https://github.com/patternfly/patternfly-react/issues/3938\n// has been resolved this component can be removed\nconst DataListCell = styled(PFDataListCell)`\n  word-break: break-word;\n`;\nDataListCell.displayName = 'DataListCell';\n\nexport default DataListCell;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  TextContent,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport DataListCell from '../DataListCell';\n\nconst DetailWrapper = styled(TextContent)`\n  display: grid;\n  grid-template-columns:\n    minmax(70px, max-content)\n    repeat(auto-fit, minmax(60px, max-content));\n  grid-gap: 10px;\n`;\n\nexport default function PaginatedDataListItem({ item }) {\n  return (\n    <DataListItem\n      aria-labelledby={`items-list-item-${item.id}`}\n      key={item.id}\n      id={`${item.id}`}\n    >\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <DetailWrapper>\n                <Link to={{ pathname: item.url }}>\n                  <b id={`items-list-item-${item.id}`}>{item.name}</b>\n                </Link>\n              </DetailWrapper>\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n","import React, { Fragment } from 'react';\n\nimport PropTypes from 'prop-types';\nimport { DataList } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { withRouter, useHistory, useLocation } from 'react-router-dom';\n\nimport ListHeader from '../ListHeader';\nimport ContentEmpty from '../ContentEmpty';\nimport ContentError from '../ContentError';\nimport ContentLoading from '../ContentLoading';\nimport Pagination from '../Pagination';\nimport DataListToolbar from '../DataListToolbar';\n\nimport {\n  encodeNonDefaultQueryString,\n  parseQueryString,\n  replaceParams,\n} from '../../util/qs';\n\nimport { QSConfig, SearchColumns, SortColumns } from '../../types';\n\nimport PaginatedDataListItem from './PaginatedDataListItem';\nimport LoadingSpinner from '../LoadingSpinner';\n\nfunction PaginatedDataList({\n  items,\n  onRowClick,\n  contentError,\n  hasContentLoading,\n  emptyStateControls,\n  itemCount,\n  qsConfig,\n  renderItem,\n  toolbarSearchColumns,\n  toolbarSearchableKeys,\n  toolbarRelatedSearchableKeys,\n  toolbarSortColumns,\n  pluralizedItemName,\n  showPageSizeOptions,\n  location,\n  i18n,\n  renderToolbar,\n}) {\n  const { search, pathname } = useLocation();\n  const history = useHistory();\n  const handleListItemSelect = (id = 0) => {\n    const match = items.find(item => item.id === Number(id));\n    onRowClick(match);\n  };\n\n  const handleSetPage = (event, pageNumber) => {\n    const oldParams = parseQueryString(qsConfig, search);\n    pushHistoryState(replaceParams(oldParams, { page: pageNumber }));\n  };\n\n  const handleSetPageSize = (event, pageSize, page) => {\n    const oldParams = parseQueryString(qsConfig, search);\n    pushHistoryState(replaceParams(oldParams, { page_size: pageSize, page }));\n  };\n\n  const pushHistoryState = params => {\n    const nonNamespacedParams = parseQueryString({}, history.location.search);\n    const encodedParams = encodeNonDefaultQueryString(\n      qsConfig,\n      params,\n      nonNamespacedParams\n    );\n    history.push(encodedParams ? `${pathname}?${encodedParams}` : pathname);\n  };\n\n  const searchColumns = toolbarSearchColumns.length\n    ? toolbarSearchColumns\n    : [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n          isDefault: true,\n        },\n      ];\n  const sortColumns = toolbarSortColumns.length\n    ? toolbarSortColumns\n    : [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ];\n  const queryParams = parseQueryString(qsConfig, location.search);\n\n  const dataListLabel = i18n._(t`${pluralizedItemName} List`);\n  const emptyContentMessage = i18n._(\n    t`Please add ${pluralizedItemName} to populate this list `\n  );\n  const emptyContentTitle = i18n._(t`No ${pluralizedItemName} Found `);\n\n  let Content;\n  if (hasContentLoading && items.length <= 0) {\n    Content = <ContentLoading />;\n  } else if (contentError) {\n    Content = <ContentError error={contentError} />;\n  } else if (items.length <= 0) {\n    Content = (\n      <ContentEmpty title={emptyContentTitle} message={emptyContentMessage} />\n    );\n  } else {\n    Content = (\n      <>\n        {hasContentLoading && <LoadingSpinner />}\n        <DataList\n          aria-label={dataListLabel}\n          onSelectDataListItem={id => handleListItemSelect(id)}\n        >\n          {items.map(renderItem)}\n        </DataList>\n      </>\n    );\n  }\n\n  const ToolbarPagination = (\n    <Pagination\n      isCompact\n      dropDirection=\"down\"\n      itemCount={itemCount}\n      page={queryParams.page || 1}\n      perPage={queryParams.page_size}\n      perPageOptions={\n        showPageSizeOptions\n          ? [\n              { title: '5', value: 5 },\n              { title: '10', value: 10 },\n              { title: '20', value: 20 },\n              { title: '50', value: 50 },\n            ]\n          : []\n      }\n      onSetPage={handleSetPage}\n      onPerPageSelect={handleSetPageSize}\n    />\n  );\n\n  return (\n    <Fragment>\n      <ListHeader\n        itemCount={itemCount}\n        renderToolbar={renderToolbar}\n        emptyStateControls={emptyStateControls}\n        searchColumns={searchColumns}\n        sortColumns={sortColumns}\n        searchableKeys={toolbarSearchableKeys}\n        relatedSearchableKeys={toolbarRelatedSearchableKeys}\n        qsConfig={qsConfig}\n        pagination={ToolbarPagination}\n      />\n      {Content}\n      {items.length ? (\n        <Pagination\n          variant=\"bottom\"\n          itemCount={itemCount}\n          page={queryParams.page || 1}\n          perPage={queryParams.page_size}\n          perPageOptions={\n            showPageSizeOptions\n              ? [\n                  { title: '5', value: 5 },\n                  { title: '10', value: 10 },\n                  { title: '20', value: 20 },\n                  { title: '50', value: 50 },\n                ]\n              : []\n          }\n          onSetPage={handleSetPage}\n          onPerPageSelect={handleSetPageSize}\n        />\n      ) : null}\n    </Fragment>\n  );\n}\n\nconst Item = PropTypes.shape({\n  id: PropTypes.number.isRequired,\n  url: PropTypes.string.isRequired,\n  name: PropTypes.string,\n});\n\nPaginatedDataList.propTypes = {\n  items: PropTypes.arrayOf(Item).isRequired,\n  itemCount: PropTypes.number.isRequired,\n  pluralizedItemName: PropTypes.string,\n  qsConfig: QSConfig.isRequired,\n  renderItem: PropTypes.func,\n  toolbarSearchColumns: SearchColumns,\n  toolbarSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  toolbarRelatedSearchableKeys: PropTypes.arrayOf(PropTypes.string),\n  toolbarSortColumns: SortColumns,\n  showPageSizeOptions: PropTypes.bool,\n  renderToolbar: PropTypes.func,\n  hasContentLoading: PropTypes.bool,\n  contentError: PropTypes.shape(),\n  onRowClick: PropTypes.func,\n};\n\nPaginatedDataList.defaultProps = {\n  hasContentLoading: false,\n  contentError: null,\n  toolbarSearchColumns: [],\n  toolbarSearchableKeys: [],\n  toolbarRelatedSearchableKeys: [],\n  toolbarSortColumns: [],\n  pluralizedItemName: 'Items',\n  showPageSizeOptions: true,\n  renderItem: item => <PaginatedDataListItem key={item.id} item={item} />,\n  renderToolbar: props => <DataListToolbar {...props} />,\n  onRowClick: () => null,\n};\n\nexport { PaginatedDataList as _PaginatedDataList };\nexport default withI18n()(withRouter(PaginatedDataList));\n","import React, { useContext, useEffect, useState } from 'react';\nimport {\n  func,\n  bool,\n  node,\n  number,\n  string,\n  arrayOf,\n  shape,\n  checkPropTypes,\n} from 'prop-types';\nimport styled from 'styled-components';\nimport { Alert, Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport AlertModal from '../AlertModal';\nimport { KebabifiedContext } from '../../contexts/Kebabified';\n\nconst WarningMessage = styled(Alert)`\n  margin-top: 10px;\n`;\n\nconst requireNameOrUsername = props => {\n  const { name, username } = props;\n  if (!name && !username) {\n    return new Error(\n      `One of 'name' or 'username' is required by ItemToDelete component.`\n    );\n  }\n  if (name) {\n    checkPropTypes(\n      {\n        name: string,\n      },\n      { name: props.name },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  if (username) {\n    checkPropTypes(\n      {\n        username: string,\n      },\n      { username: props.username },\n      'prop',\n      'ItemToDelete'\n    );\n  }\n  return null;\n};\n\nconst ItemToDelete = shape({\n  id: number.isRequired,\n  name: requireNameOrUsername,\n  username: requireNameOrUsername,\n  summary_fields: shape({\n    user_capabilities: shape({\n      delete: bool.isRequired,\n    }).isRequired,\n  }).isRequired,\n});\n\nfunction ToolbarDeleteButton({\n  itemsToDelete,\n  pluralizedItemName,\n  errorMessage,\n  onDelete,\n  warningMessage,\n  i18n,\n  cannotDelete,\n}) {\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const handleDelete = () => {\n    onDelete();\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isModalOpen);\n    }\n  }, [isKebabified, isModalOpen, onKebabModalChange]);\n\n  const renderTooltip = () => {\n    const itemsUnableToDelete = itemsToDelete\n      .filter(cannotDelete)\n      .map(item => item.name || item.username)\n      .join(', ');\n    if (itemsToDelete.some(cannotDelete)) {\n      return (\n        <div>\n          {errorMessage.length > 0\n            ? `${errorMessage}: ${itemsUnableToDelete}`\n            : i18n._(\n                t`您无权删除 ${pluralizedItemName}: ${itemsUnableToDelete}`\n              )}\n        </div>\n      );\n    }\n    if (itemsToDelete.length) {\n      return i18n._(t`删除`);\n    }\n    return i18n._(t`选择删除`);\n  };\n\n  const modalTitle = i18n._(t`Delete ${pluralizedItemName}?`);\n\n  const isDisabled =\n    itemsToDelete.length === 0 || itemsToDelete.some(cannotDelete);\n\n  // NOTE: Once PF supports tooltips on disabled elements,\n  // we can delete the extra <div> around the <DeleteButton> below.\n  // See: https://github.com/patternfly/patternfly-react/issues/1894\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"add\"\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={toggleModal}\n        >\n          {i18n._(t`删除`)}\n        </DropdownItem>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              variant=\"secondary\"\n              aria-label={i18n._(t`删除`)}\n              onClick={toggleModal}\n              isDisabled={isDisabled}\n            >\n              {i18n._(t`删除`)}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n      {isModalOpen && (\n        <AlertModal\n          variant=\"danger\"\n          title={modalTitle}\n          isOpen={isModalOpen}\n          onClose={toggleModal}\n          actions={[\n            <Button\n              key=\"delete\"\n              variant=\"danger\"\n              aria-label={i18n._(t`确认删除`)}\n              onClick={handleDelete}\n            >\n              {i18n._(t`删除`)}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"secondary\"\n              aria-label={i18n._(t`取消删除`)}\n              onClick={toggleModal}\n            >\n              {i18n._(t`取消`)}\n            </Button>,\n          ]}\n        >\n          <div>{i18n._(t`This action will delete the following:`)}</div>\n          {itemsToDelete.map(item => (\n            <span key={item.id}>\n              <strong>{item.name || item.username}</strong>\n              <br />\n            </span>\n          ))}\n          {warningMessage && (\n            <WarningMessage variant=\"warning\" isInline title={warningMessage} />\n          )}\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nToolbarDeleteButton.propTypes = {\n  onDelete: func.isRequired,\n  itemsToDelete: arrayOf(ItemToDelete).isRequired,\n  pluralizedItemName: string,\n  errorMessage: string,\n  warningMessage: node,\n  cannotDelete: func,\n};\n\nToolbarDeleteButton.defaultProps = {\n  pluralizedItemName: 'Items',\n  errorMessage: '',\n  warningMessage: null,\n  cannotDelete: item => !item.summary_fields.user_capabilities.delete,\n};\n\nexport default withI18n()(ToolbarDeleteButton);\n","import React from 'react';\nimport { string, func } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport CaretDownIcon from '@patternfly/react-icons/dist/js/icons/caret-down-icon';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useKebabifiedMenu } from '../../contexts/Kebabified';\n\nfunction ToolbarAddButton({\n  linkTo,\n  onClick,\n  i18n,\n  isDisabled,\n  defaultLabel = i18n._(t`添加`),\n  showToggleIndicator,\n}) {\n  const { isKebabified } = useKebabifiedMenu();\n\n  if (!linkTo && !onClick) {\n    throw new Error(\n      'ToolbarAddButton requires either `linkTo` or `onClick` prop'\n    );\n  }\n\n  if (isKebabified) {\n    return (\n      <DropdownItem\n        key=\"add\"\n        isDisabled={isDisabled}\n        component={linkTo ? Link : 'button'}\n        to={linkTo}\n        onClick={!onClick ? undefined : onClick}\n      >\n        {defaultLabel}\n      </DropdownItem>\n    );\n  }\n  if (linkTo) {\n    return (\n      <Tooltip content={defaultLabel} position=\"top\">\n        <Button\n          isDisabled={isDisabled}\n          component={Link}\n          to={linkTo}\n          variant=\"primary\"\n          aria-label={defaultLabel}\n        >\n          {defaultLabel}\n        </Button>\n      </Tooltip>\n    );\n  }\n  return (\n    <Button\n      icon={showToggleIndicator ? <CaretDownIcon /> : null}\n      iconPosition={showToggleIndicator ? 'right' : null}\n      variant=\"primary\"\n      aria-label={defaultLabel}\n      onClick={onClick}\n    >\n      {defaultLabel}\n    </Button>\n  );\n}\nToolbarAddButton.propTypes = {\n  linkTo: string,\n  onClick: func,\n};\nToolbarAddButton.defaultProps = {\n  linkTo: null,\n  onClick: null,\n};\n\nexport default withI18n()(ToolbarAddButton);\n","import { useState } from 'react';\n\n/**\n * useSelected hook provides a way to read and update a selected list\n * Param: array of list items\n * Returns: {\n *  selected: array of selected list items\n *  isAllSelected: boolean that indicates if all items are selected\n *  handleSelect: function that adds and removes items from selected list\n *  setSelected: setter function\n * }\n */\n\nexport default function useSelected(list = []) {\n  const [selected, setSelected] = useState([]);\n  const isAllSelected = selected.length > 0 && selected.length === list.length;\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(prevState => [...prevState.filter(i => i.id !== row.id)]);\n    } else {\n      setSelected(prevState => [...prevState, row]);\n    }\n  };\n\n  return { selected, isAllSelected, handleSelect, setSelected };\n}\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport { formatDateString } from '../../../util/dates';\nimport { Application } from '../../../types';\nimport DataListCell from '../../../components/DataListCell';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n`;\n\nconst Label = styled.b`\n  margin-right: 20px;\n`;\n\nfunction ApplicationListItem({\n  application,\n  isSelected,\n  onSelect,\n  detailUrl,\n  i18n,\n}) {\n  const labelId = `check-action-${application.id}`;\n  return (\n    <DataListItem\n      key={application.id}\n      aria-labelledby={labelId}\n      id={`${application.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-application-${application.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell\n              key=\"divider\"\n              aria-label={i18n._(t`application name`)}\n            >\n              <Link to={`${detailUrl}`}>\n                <b>{application.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell\n              key=\"organization\"\n              aria-label={i18n._(t`organization name`)}\n            >\n              <Link\n                to={`/organizations/${application.summary_fields.organization.id}`}\n              >\n                <b>{application.summary_fields.organization.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"modified\" aria-label={i18n._(t`last modified`)}>\n              <Label>{i18n._(t`上次修改时间`)}</Label>\n              <span>{formatDateString(application.modified)}</span>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {application.summary_fields.user_capabilities.edit ? (\n            <Tooltip content={i18n._(t`编辑应用`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑应用`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/applications/${application.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nApplicationListItem.propTypes = {\n  application: Application.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(ApplicationListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\n\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\n\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport { ApplicationsAPI } from '../../../api';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport useSelected from '../../../util/useSelected';\n\nimport ApplicationListItem from './ApplicationListItem';\n\nconst QS_CONFIG = getQSConfig('applications', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\nfunction ApplicationsList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const {\n    isLoading,\n    error,\n    request: fetchApplications,\n    result: {\n      applications,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n\n      const [response, actionsResponse] = await Promise.all([\n        ApplicationsAPI.read(params),\n        ApplicationsAPI.readOptions(),\n      ]);\n\n      return {\n        applications: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      applications: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchApplications();\n  }, [fetchApplications]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    applications\n  );\n\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: deleteApplications,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(({ id }) => ApplicationsAPI.destroy(id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchApplications,\n    }\n  );\n\n  const handleDeleteApplications = async () => {\n    await deleteApplications();\n    setSelected([]);\n  };\n\n  const canAdd = actions && actions.POST;\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={error}\n            hasContentLoading={isLoading || deleteLoading}\n            items={applications}\n            itemCount={itemCount}\n            pluralizedItemName={i18n._(t`Applications`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n            ]}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n              {\n                name: i18n._(t`已创建`),\n                key: 'created',\n              },\n              {\n                name: i18n._(t`组织`),\n                key: 'organization',\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            renderToolbar={props => (\n              <DatalistToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={isSelected =>\n                  setSelected(isSelected ? [...applications] : [])\n                }\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [\n                        <ToolbarAddButton\n                          key=\"add\"\n                          linkTo={`${match.url}/add`}\n                        />,\n                      ]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleDeleteApplications}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`Applications`)}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={application => (\n              <ApplicationListItem\n                key={application.id}\n                value={application.name}\n                application={application}\n                detailUrl={`${match.url}/${application.id}/details`}\n                onSelect={() => handleSelect(application)}\n                isSelected={selected.some(row => row.id === application.id)}\n              />\n            )}\n            emptyStateControls={\n              canAdd && (\n                <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n              )\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more applications.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\nexport default withI18n()(ApplicationsList);\n","import { t } from '@lingui/macro';\n\nexport function required(message, i18n) {\n  const errorMessage = message || i18n._(t`This field must not be blank`);\n  return value => {\n    if (typeof value === 'string' && !value.trim()) {\n      return errorMessage;\n    }\n    if (typeof value === 'number' && !Number.isNaN(value)) {\n      return undefined;\n    }\n    if (!value) {\n      return errorMessage;\n    }\n    return undefined;\n  };\n}\n\nexport function maxLength(max, i18n) {\n  return value => {\n    if (value.trim().length > max) {\n      return i18n._(t`This field must not exceed ${max} characters`);\n    }\n    return undefined;\n  };\n}\n\nexport function minLength(min, i18n) {\n  return value => {\n    if (value.trim().length < min) {\n      return i18n._(t`This field must be at least ${min} characters`);\n    }\n    return undefined;\n  };\n}\n\nexport function minMaxValue(min, max, i18n) {\n  return value => {\n    if (value < min || value > max) {\n      return i18n._(\n        t`This field must be a number and have a value between ${min} and ${max}`\n      );\n    }\n    return undefined;\n  };\n}\n\nexport function requiredEmail(i18n) {\n  return value => {\n    if (!value) {\n      return i18n._(t`This field must not be blank`);\n    }\n    if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(value)) {\n      return i18n._(t`Invalid email address`);\n    }\n    return undefined;\n  };\n}\n\nexport function noWhiteSpace(i18n) {\n  return value => {\n    if (/\\s/.test(value)) {\n      return i18n._(t`This field must not contain spaces`);\n    }\n    return undefined;\n  };\n}\n\nexport function integer(i18n) {\n  return value => {\n    const str = String(value);\n    if (!Number.isInteger(value) && /[^0-9]/.test(str)) {\n      return i18n._(t`This field must be an integer`);\n    }\n    return undefined;\n  };\n}\n\nexport function number(i18n) {\n  return value => {\n    const str = String(value);\n    if (/^-?[0-9]*(\\.[0-9]*)?$/.test(str)) {\n      return undefined;\n    }\n    // large number scientific notation (e.g. '1e+21')\n    if (/^-?[0-9]*e[+-][0-9]*$/.test(str)) {\n      return undefined;\n    }\n    return i18n._(t`This field must be a number`);\n  };\n}\n\nexport function url(i18n) {\n  return value => {\n    if (!value) {\n      return undefined;\n    }\n    // URL regex from https://urlregex.com/\n    if (\n      // eslint-disable-next-line max-len\n      !/((([A-Za-z]{3,9}:(?:\\/\\/)?)(?:[-;:&=+$,\\w]+@)?[A-Za-z0-9.-]+|(?:www\\.|[-;:&=+$,\\w]+@)[A-Za-z0-9.-]+)((?:\\/[+~%/.\\w\\-_]*)?\\??(?:[-+=&;%@.\\w_]*)#?(?:[.!/\\\\\\w]*))?)/.test(\n        value\n      )\n    ) {\n      return i18n._(t`Please enter a valid URL`);\n    }\n    return undefined;\n  };\n}\n\nexport function combine(validators) {\n  return value => {\n    for (let i = 0; i < validators.length; i++) {\n      const validate = validators[i];\n      const error = validate ? validate(value) : null;\n      if (error) {\n        return error;\n      }\n    }\n    return undefined;\n  };\n}\n\nexport function regExp(i18n) {\n  return value => {\n    try {\n      RegExp(value);\n    } catch {\n      return i18n._(t`This field must be a regular expression`);\n    }\n    return undefined;\n  };\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { ActionGroup, Button } from '@patternfly/react-core';\nimport { FormFullWidthLayout } from '../FormLayout';\n\nconst FormActionGroup = ({ onCancel, onSubmit, submitDisabled, i18n }) => {\n  return (\n    <FormFullWidthLayout>\n      <ActionGroup>\n        <Button\n          aria-label={i18n._(t`Save`)}\n          variant=\"primary\"\n          type=\"button\"\n          onClick={onSubmit}\n          isDisabled={submitDisabled}\n        >\n          {i18n._(t`Save`)}\n        </Button>\n        <Button\n          aria-label={i18n._(t`取消`)}\n          variant=\"secondary\"\n          type=\"button\"\n          onClick={onCancel}\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </ActionGroup>\n    </FormFullWidthLayout>\n  );\n};\n\nFormActionGroup.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n  submitDisabled: PropTypes.bool,\n};\n\nFormActionGroup.defaultProps = {\n  submitDisabled: false,\n};\n\nexport default withI18n()(FormActionGroup);\n","import { useCallback, useRef } from 'react';\n\n/**\n * useAutoPopulateLookup hook [... insert description]\n * Param: [... insert params]\n * Returns: {\n *  [... insert returns]\n * }\n */\n\nexport default function useAutoPopulateLookup(populateLookupField) {\n  const isFirst = useRef(true);\n\n  return useCallback(\n    results => {\n      if (isFirst.current && results.length === 1) {\n        populateLookupField(results[0]);\n      }\n\n      isFirst.current = false;\n    },\n    [populateLookupField]\n  );\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { ChipGroup as PFChipGroup } from '@patternfly/react-core';\nimport { number, shape } from 'prop-types';\n\nfunction ChipGroup({ i18n, numChips, totalChips, i18nHash, ...props }) {\n  return (\n    <PFChipGroup\n      {...props}\n      numChips={numChips}\n      expandedText={i18n._(t`Show less`)}\n      collapsedText={i18n._(t`${totalChips - numChips} more`)}\n    />\n  );\n}\n\nChipGroup.propTypes = {\n  numChips: number.isRequired,\n  totalChips: number.isRequired,\n  i18n: shape({}).isRequired,\n};\n\nexport default withI18n()(ChipGroup);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Chip, Split as PFSplit, SplitItem } from '@patternfly/react-core';\n\nimport styled from 'styled-components';\nimport ChipGroup from '../ChipGroup';\n\nconst Split = styled(PFSplit)`\n  margin: 20px 0px;\n  align-items: baseline;\n`;\n\nconst SplitLabelItem = styled(SplitItem)`\n  font-weight: bold;\n  margin-right: 32px;\n  word-break: initial;\n`;\n\nclass SelectedList extends Component {\n  render() {\n    const {\n      label,\n      selected,\n      onRemove,\n      displayKey,\n      isReadOnly,\n      renderItemChip,\n    } = this.props;\n\n    const renderChip =\n      renderItemChip ||\n      (({ item, removeItem }) => (\n        <Chip key={item.id} onClick={removeItem} isReadOnly={isReadOnly}>\n          {item[displayKey]}\n        </Chip>\n      ));\n\n    return (\n      <Split>\n        <SplitLabelItem>{label}</SplitLabelItem>\n        <SplitItem>\n          <ChipGroup numChips={5} totalChips={selected.length}>\n            {selected.map(item =>\n              renderChip({\n                item,\n                removeItem: () => onRemove(item),\n                canDelete: !isReadOnly,\n              })\n            )}\n          </ChipGroup>\n        </SplitItem>\n      </Split>\n    );\n  }\n}\n\nSelectedList.propTypes = {\n  displayKey: PropTypes.string,\n  label: PropTypes.string,\n  onRemove: PropTypes.func,\n  selected: PropTypes.arrayOf(PropTypes.object).isRequired,\n  isReadOnly: PropTypes.bool,\n  renderItemChip: PropTypes.func,\n};\n\nSelectedList.defaultProps = {\n  displayKey: 'name',\n  label: 'Selected',\n  onRemove: () => null,\n  isReadOnly: false,\n  renderItemChip: null,\n};\n\nexport default SelectedList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  DataListCheck,\n  Radio,\n} from '@patternfly/react-core';\nimport DataListCell from '../DataListCell';\n\nconst CheckboxListItem = ({\n  isDisabled = false,\n  isRadio = false,\n  isSelected = false,\n  itemId,\n  label,\n  name,\n  onDeselect,\n  onSelect,\n}) => {\n  const CheckboxRadio = isRadio ? Radio : DataListCheck;\n\n  return (\n    <DataListItem\n      key={itemId}\n      aria-labelledby={`check-action-item-${itemId}`}\n      id={`${itemId}`}\n    >\n      <DataListItemRow>\n        <CheckboxRadio\n          aria-label={`check-action-item-${itemId}`}\n          aria-labelledby={`check-action-item-${itemId}`}\n          checked={isSelected}\n          disabled={isDisabled}\n          id={`selected-${itemId}`}\n          isChecked={isSelected}\n          name={name}\n          onChange={isSelected ? onDeselect : onSelect}\n          value={itemId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <label\n                id={`check-action-item-${itemId}`}\n                htmlFor={`selected-${itemId}`}\n                className=\"check-action-item\"\n              >\n                <b>{label}</b>\n              </label>\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n};\n\nCheckboxListItem.propTypes = {\n  isSelected: PropTypes.bool.isRequired,\n  itemId: PropTypes.number.isRequired,\n  label: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  onDeselect: PropTypes.func.isRequired,\n  onSelect: PropTypes.func.isRequired,\n};\n\nexport default CheckboxListItem;\n","import React from 'react';\nimport {\n  arrayOf,\n  shape,\n  bool,\n  func,\n  number,\n  string,\n  oneOfType,\n} from 'prop-types';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport SelectedList from '../SelectedList';\nimport PaginatedDataList from '../PaginatedDataList';\nimport CheckboxListItem from '../CheckboxListItem';\nimport DataListToolbar from '../DataListToolbar';\nimport { QSConfig, SearchColumns, SortColumns } from '../../types';\n\nconst ModalList = styled.div`\n  .pf-c-toolbar__content {\n    padding: 0 !important;\n  }\n`;\n\nfunction OptionsList({\n  value,\n  contentError,\n  options,\n  optionCount,\n  searchColumns,\n  sortColumns,\n  searchableKeys,\n  relatedSearchableKeys,\n  multiple,\n  header,\n  name,\n  qsConfig,\n  readOnly,\n  selectItem,\n  deselectItem,\n  renderItemChip,\n  isLoading,\n  i18n,\n  displayKey,\n}) {\n  return (\n    <ModalList>\n      {value.length > 0 && (\n        <SelectedList\n          label={i18n._(t`已选择`)}\n          selected={value}\n          onRemove={item => deselectItem(item)}\n          isReadOnly={readOnly}\n          renderItemChip={renderItemChip}\n          displayKey={displayKey}\n        />\n      )}\n      <PaginatedDataList\n        contentError={contentError}\n        items={options}\n        itemCount={optionCount}\n        pluralizedItemName={header}\n        qsConfig={qsConfig}\n        toolbarSearchColumns={searchColumns}\n        toolbarSortColumns={sortColumns}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        hasContentLoading={isLoading}\n        onRowClick={selectItem}\n        renderItem={item => (\n          <CheckboxListItem\n            key={item.id}\n            itemId={item.id}\n            name={multiple ? item[displayKey] : name}\n            label={item[displayKey]}\n            isSelected={value.some(i => i.id === item.id)}\n            onSelect={() => selectItem(item)}\n            onDeselect={() => deselectItem(item)}\n            isRadio={!multiple}\n          />\n        )}\n        renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n        showPageSizeOptions={false}\n      />\n    </ModalList>\n  );\n}\n\nconst Item = shape({\n  id: oneOfType([number, string]).isRequired,\n  name: string.isRequired,\n  url: string,\n});\nOptionsList.propTypes = {\n  deselectItem: func.isRequired,\n  displayKey: string,\n  multiple: bool,\n  optionCount: number.isRequired,\n  options: arrayOf(Item).isRequired,\n  qsConfig: QSConfig.isRequired,\n  renderItemChip: func,\n  searchColumns: SearchColumns,\n  selectItem: func.isRequired,\n  sortColumns: SortColumns,\n  value: arrayOf(Item).isRequired,\n};\nOptionsList.defaultProps = {\n  multiple: false,\n  renderItemChip: null,\n  searchColumns: [],\n  sortColumns: [],\n  displayKey: 'name',\n};\n\nexport default withI18n()(OptionsList);\n","export default function reducer(state, action) {\n  switch (action.type) {\n    case 'SELECT_ITEM':\n      return selectItem(state, action.item);\n    case 'DESELECT_ITEM':\n      return deselectItem(state, action.item);\n    case 'TOGGLE_MODAL':\n      return toggleModal(state);\n    case 'CLOSE_MODAL':\n      return closeModal(state);\n    case 'SET_MULTIPLE':\n      return { ...state, multiple: action.value };\n    case 'SET_VALUE':\n      return { ...state, value: action.value };\n    case 'SET_SELECTED_ITEMS':\n      return { ...state, selectedItems: action.selectedItems };\n    default:\n      throw new Error(`Unrecognized action type: ${action.type}`);\n  }\n}\n\nfunction selectItem(state, item) {\n  const { selectedItems, multiple } = state;\n  if (!multiple) {\n    return {\n      ...state,\n      selectedItems: [item],\n    };\n  }\n  const index = selectedItems.findIndex(i => i.id === item.id);\n  if (index > -1) {\n    return state;\n  }\n  return {\n    ...state,\n    selectedItems: [...selectedItems, item],\n  };\n}\n\nfunction deselectItem(state, item) {\n  return {\n    ...state,\n    selectedItems: state.selectedItems.filter(i => i.id !== item.id),\n  };\n}\n\nfunction toggleModal(state) {\n  const { isModalOpen, value, multiple } = state;\n  if (isModalOpen) {\n    return closeModal(state);\n  }\n  let selectedItems = [];\n  if (multiple) {\n    selectedItems = [...value];\n  } else if (value) {\n    selectedItems.push(value);\n  }\n  return {\n    ...state,\n    isModalOpen: !isModalOpen,\n    selectedItems,\n  };\n}\n\nfunction closeModal(state) {\n  return {\n    ...state,\n    isModalOpen: false,\n  };\n}\n\nexport function initReducer({ value, multiple = false, required = false }) {\n  assertCorrectValueType(value, multiple);\n  let selectedItems = [];\n  if (value) {\n    selectedItems = multiple ? [...value] : [value];\n  }\n  return {\n    selectedItems,\n    value,\n    multiple,\n    isModalOpen: false,\n    required,\n  };\n}\n\nfunction assertCorrectValueType(value, multiple) {\n  if (!multiple && Array.isArray(value)) {\n    throw new Error(\n      'Lookup value must not be an array unless `multiple` is set'\n    );\n  }\n  if (multiple && !Array.isArray(value)) {\n    throw new Error('Lookup value must be an array if `multiple` is set');\n  }\n}\n","import React, { Fragment, useReducer, useEffect } from 'react';\nimport {\n  string,\n  bool,\n  arrayOf,\n  func,\n  number,\n  oneOfType,\n  shape,\n} from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport {\n  Button,\n  ButtonVariant,\n  Chip,\n  InputGroup,\n  Modal,\n} from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport ChipGroup from '../ChipGroup';\n\nimport reducer, { initReducer } from './shared/reducer';\nimport { QSConfig } from '../../types';\n\nconst ChipHolder = styled.div`\n  --pf-c-form-control--Height: auto;\n  background-color: ${props =>\n    props.isDisabled ? 'var(--pf-global--disabled-color--300)' : null};\n`;\nfunction Lookup(props) {\n  const {\n    id,\n    header,\n    onChange,\n    onBlur,\n    isLoading,\n    value,\n    multiple,\n    required,\n    qsConfig,\n    renderItemChip,\n    renderOptionsList,\n    history,\n    i18n,\n    isDisabled,\n  } = props;\n\n  const [state, dispatch] = useReducer(\n    reducer,\n    { value, multiple, required },\n    initReducer\n  );\n\n  useEffect(() => {\n    dispatch({ type: 'SET_MULTIPLE', value: multiple });\n  }, [multiple]);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_VALUE', value });\n  }, [value]);\n\n  const clearQSParams = () => {\n    const parts = history.location.search.replace(/^\\?/, '').split('&');\n    const ns = qsConfig.namespace;\n    const otherParts = parts.filter(param => !param.startsWith(`${ns}.`));\n    history.push(`${history.location.pathname}?${otherParts.join('&')}`);\n  };\n\n  const save = () => {\n    const { selectedItems } = state;\n    const val = multiple ? selectedItems : selectedItems[0] || null;\n    onChange(val);\n    clearQSParams();\n    dispatch({ type: 'CLOSE_MODAL' });\n  };\n\n  const removeItem = item => {\n    if (multiple) {\n      onChange(value.filter(i => i.id !== item.id));\n    } else {\n      onChange(null);\n    }\n  };\n\n  const closeModal = () => {\n    clearQSParams();\n    dispatch({ type: 'CLOSE_MODAL' });\n  };\n\n  const { isModalOpen, selectedItems } = state;\n  const canDelete =\n    (!required || (multiple && value.length > 1)) && !isDisabled;\n  let items = [];\n  if (multiple) {\n    items = value;\n  } else if (value) {\n    items.push(value);\n  }\n  return (\n    <Fragment>\n      <InputGroup onBlur={onBlur}>\n        <Button\n          aria-label=\"Search\"\n          id={id}\n          onClick={() => dispatch({ type: 'TOGGLE_MODAL' })}\n          variant={ButtonVariant.control}\n          isDisabled={isLoading || isDisabled}\n        >\n          <SearchIcon />\n        </Button>\n        <ChipHolder isDisabled={isDisabled} className=\"pf-c-form-control\">\n          <ChipGroup numChips={5} totalChips={items.length}>\n            {items.map(item =>\n              renderItemChip({\n                item,\n                removeItem,\n                canDelete,\n              })\n            )}\n          </ChipGroup>\n        </ChipHolder>\n      </InputGroup>\n      <Modal\n        variant=\"large\"\n        title={i18n._(t`Select ${header || i18n._(t`Items`)}`)}\n        aria-label={i18n._(t`Lookup modal`)}\n        isOpen={isModalOpen}\n        onClose={closeModal}\n        actions={[\n          <Button\n            key=\"select\"\n            variant=\"primary\"\n            onClick={save}\n            isDisabled={required && selectedItems.length === 0}\n          >\n            {i18n._(t`选择`)}\n          </Button>,\n          <Button key=\"cancel\" variant=\"secondary\" onClick={closeModal}>\n            {i18n._(t`取消`)}\n          </Button>,\n        ]}\n      >\n        {renderOptionsList({\n          state,\n          dispatch,\n          canDelete,\n        })}\n      </Modal>\n    </Fragment>\n  );\n}\n\nconst Item = shape({\n  id: number.isRequired,\n});\n\nLookup.propTypes = {\n  id: string,\n  header: string,\n  onChange: func.isRequired,\n  value: oneOfType([Item, arrayOf(Item)]),\n  multiple: bool,\n  required: bool,\n  onBlur: func,\n  qsConfig: QSConfig.isRequired,\n  renderItemChip: func,\n  renderOptionsList: func.isRequired,\n};\n\nLookup.defaultProps = {\n  id: 'lookup-search',\n  header: null,\n  value: null,\n  multiple: false,\n  required: false,\n  onBlur: () => {},\n  renderItemChip: ({ item, removeItem, canDelete }) => (\n    <Chip\n      key={item.id}\n      onClick={() => removeItem(item)}\n      isReadOnly={!canDelete}\n    >\n      {item.name}\n    </Chip>\n  ),\n};\n\nexport { Lookup as _Lookup };\nexport default withI18n()(withRouter(Lookup));\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nfunction LookupErrorMessage({ error, i18n }) {\n  if (!error) {\n    return null;\n  }\n\n  return (\n    <div className=\"pf-c-form__helper-text pf-m-error\" aria-live=\"polite\">\n      {error.message || i18n._(t`An error occured`)}\n    </div>\n  );\n}\n\nexport default withI18n()(LookupErrorMessage);\n","import React, { useCallback, useEffect } from 'react';\nimport { node, func, bool } from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { OrganizationsAPI } from '../../api';\nimport { Organization } from '../../types';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport useRequest from '../../util/useRequest';\nimport useAutoPopulateLookup from '../../util/useAutoPopulateLookup';\nimport OptionsList from '../OptionsList';\nimport Lookup from './Lookup';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\n\nconst QS_CONFIG = getQSConfig('organizations', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction OrganizationLookup({\n  helperTextInvalid,\n  i18n,\n  isValid,\n  onBlur,\n  onChange,\n  required,\n  value,\n  history,\n  autoPopulate,\n}) {\n  const autoPopulateLookup = useAutoPopulateLookup(onChange);\n\n  const {\n    result: { itemCount, organizations, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    request: fetchOrganizations,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [response, actionsResponse] = await Promise.all([\n        OrganizationsAPI.read(params),\n        OrganizationsAPI.readOptions(),\n      ]);\n\n      if (autoPopulate) {\n        autoPopulateLookup(response.data.results);\n      }\n\n      return {\n        organizations: response.data.results,\n        itemCount: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [autoPopulate, autoPopulateLookup, history.location.search]),\n    {\n      organizations: [],\n      itemCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchOrganizations();\n  }, [fetchOrganizations]);\n\n  return (\n    <FormGroup\n      fieldId=\"organization\"\n      helperTextInvalid={helperTextInvalid}\n      isRequired={required}\n      validated={isValid ? 'default' : 'error'}\n      label={i18n._(t`组织`)}\n    >\n      <Lookup\n        id=\"organization\"\n        header={i18n._(t`组织`)}\n        value={value}\n        onBlur={onBlur}\n        onChange={onChange}\n        qsConfig={QS_CONFIG}\n        required={required}\n        sortedColumnKey=\"name\"\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            options={organizations}\n            optionCount={itemCount}\n            multiple={state.multiple}\n            header={i18n._(t`组织`)}\n            name=\"organization\"\n            qsConfig={QS_CONFIG}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            readOnly={!canDelete}\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n          />\n        )}\n      />\n      <LookupErrorMessage error={contentError} />\n    </FormGroup>\n  );\n}\n\nOrganizationLookup.propTypes = {\n  helperTextInvalid: node,\n  isValid: bool,\n  onBlur: func,\n  onChange: func.isRequired,\n  required: bool,\n  value: Organization,\n  autoPopulate: bool,\n};\n\nOrganizationLookup.defaultProps = {\n  helperTextInvalid: '',\n  isValid: true,\n  onBlur: () => {},\n  required: false,\n  value: null,\n  autoPopulate: false,\n};\n\nexport { OrganizationLookup as _OrganizationLookup };\nexport default withI18n()(withRouter(OrganizationLookup));\n","import React from 'react';\nimport {\n  arrayOf,\n  oneOfType,\n  func,\n  number,\n  string,\n  shape,\n  bool,\n} from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormSelect, FormSelectOption } from '@patternfly/react-core';\n\nfunction AnsibleSelect({\n  id,\n  data,\n  i18n,\n  isValid,\n  onBlur,\n  value,\n  className,\n  isDisabled,\n  onChange,\n  name,\n}) {\n  const onSelectChange = (val, event) => {\n    event.target.name = name;\n    onChange(event, val);\n  };\n\n  return (\n    <FormSelect\n      id={id}\n      value={value}\n      onChange={onSelectChange}\n      onBlur={onBlur}\n      aria-label={i18n._(t`Select Input`)}\n      validated={isValid ? 'default' : 'error'}\n      className={className}\n      isDisabled={isDisabled}\n    >\n      {data.map(option => (\n        <FormSelectOption\n          key={option.key}\n          value={option.value}\n          label={option.label}\n          isDisabled={option.isDisabled}\n        />\n      ))}\n    </FormSelect>\n  );\n}\n\nconst Option = shape({\n  key: oneOfType([string, number]).isRequired,\n  value: oneOfType([string, number]).isRequired,\n  label: string.isRequired,\n  isDisabled: bool,\n});\n\nAnsibleSelect.defaultProps = {\n  data: [],\n  isValid: true,\n  onBlur: () => {},\n  className: '',\n  isDisabled: false,\n};\n\nAnsibleSelect.propTypes = {\n  data: arrayOf(Option),\n  id: string.isRequired,\n  isValid: bool,\n  onBlur: func,\n  onChange: func.isRequired,\n  value: oneOfType([string, number]).isRequired,\n  className: string,\n  isDisabled: bool,\n};\n\nexport { AnsibleSelect as _AnsibleSelect };\nexport default withI18n()(AnsibleSelect);\n","import React, { useCallback } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\n\nimport { required } from '../../../util/validators';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport { FormColumnLayout } from '../../../components/FormLayout';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport Popover from '../../../components/Popover';\n\nfunction ApplicationFormFields({\n  i18n,\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const match = useRouteMatch();\n  const { setFieldValue } = useFormikContext();\n  const [organizationField, organizationMeta, organizationHelpers] = useField({\n    name: 'organization',\n    validate: required(null, i18n),\n  });\n  const [\n    authorizationTypeField,\n    authorizationTypeMeta,\n    authorizationTypeHelpers,\n  ] = useField({\n    name: 'authorization_grant_type',\n    validate: required(null, i18n),\n  });\n\n  const [clientTypeField, clientTypeMeta, clientTypeHelpers] = useField({\n    name: 'client_type',\n    validate: required(null, i18n),\n  });\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={organizationMeta.error}\n        isValid={!organizationMeta.touched || !organizationMeta.error}\n        onBlur={() => organizationHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={organizationField.value}\n        required\n        autoPopulate={!application?.id}\n      />\n      <FormGroup\n        fieldId=\"authType\"\n        helperTextInvalid={authorizationTypeMeta.error}\n        validated={\n          !authorizationTypeMeta.touched || !authorizationTypeMeta.error\n            ? 'default'\n            : 'error'\n        }\n        isRequired\n        label={i18n._(t`Authorization grant type`)}\n        labelIcon={\n          <Popover\n            content={i18n._(\n              t`The Grant type the user must use for acquire tokens for this application`\n            )}\n          />\n        }\n      >\n        <AnsibleSelect\n          {...authorizationTypeField}\n          isValid={\n            !authorizationTypeMeta.touched || !authorizationTypeMeta.error\n          }\n          isDisabled={match.url.endsWith('edit')}\n          id=\"authType\"\n          data={[{ label: '', key: 1, value: '' }, ...authorizationOptions]}\n          onChange={(event, value) => {\n            authorizationTypeHelpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n      <FormField\n        id=\"redirect_uris\"\n        label={i18n._(t`Redirect URIs`)}\n        name=\"redirect_uris\"\n        type=\"text\"\n        isRequired={Boolean(\n          authorizationTypeField.value === 'authorization-code'\n        )}\n        validate={\n          authorizationTypeField.value === 'authorization-code'\n            ? required(null, i18n)\n            : null\n        }\n        tooltip={i18n._(t`Allowed URIs list, space separated`)}\n      />\n      <FormGroup\n        fieldId=\"clientType\"\n        helperTextInvalid={clientTypeMeta.error}\n        validated={\n          !clientTypeMeta.touched || !clientTypeMeta.error ? 'default' : 'error'\n        }\n        isRequired\n        label={i18n._(t`Client type`)}\n        labelIcon={\n          <Popover\n            content={i18n._(\n              t`Set to Public or Confidential depending on how secure the client device is.`\n            )}\n          />\n        }\n      >\n        <AnsibleSelect\n          {...clientTypeField}\n          isValid={!clientTypeMeta.touched || !clientTypeMeta.error}\n          id=\"clientType\"\n          data={[{ label: '', key: 1, value: '' }, ...clientTypeOptions]}\n          onChange={(event, value) => {\n            clientTypeHelpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n    </>\n  );\n}\nfunction ApplicationForm({\n  onCancel,\n  onSubmit,\n  i18n,\n  submitError,\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const initialValues = {\n    name: application?.name || '',\n    description: application?.description || '',\n    organization: application?.summary_fields?.organization || null,\n    authorization_grant_type: application?.authorization_grant_type || '',\n    redirect_uris: application?.redirect_uris || '',\n    client_type: application?.client_type || '',\n  };\n\n  return (\n    <Formik initialValues={initialValues} onSubmit={values => onSubmit(values)}>\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <ApplicationFormFields\n              formik={formik}\n              application={application}\n              authorizationOptions={authorizationOptions}\n              clientTypeOptions={clientTypeOptions}\n              i18n={i18n}\n            />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nApplicationForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  authorizationOptions: PropTypes.arrayOf(PropTypes.object).isRequired,\n  clientTypeOptions: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default withI18n()(ApplicationForm);\n","import styled from 'styled-components';\nimport { CardBody } from '@patternfly/react-core';\n\nconst TabbedCardBody = styled(CardBody)`\n  padding-top: var(--pf-c-card--first-child--PaddingTop);\n`;\nCardBody.displayName = 'PFCardBody';\n\nexport default TabbedCardBody;\n","import React from 'react';\nimport { CardActions } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst CardActionsWrapper = styled.div`\n  margin-top: 20px;\n  --pf-c-card__actions--PaddingLeft: 0;\n`;\n\nfunction CardActionsRow({ children }) {\n  return (\n    <CardActionsWrapper>\n      <CardActions>{children}</CardActions>\n    </CardActionsWrapper>\n  );\n}\n\nexport default CardActionsRow;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Card, PageSection } from '@patternfly/react-core';\nimport useRequest from '../../../util/useRequest';\nimport ContentError from '../../../components/ContentError';\nimport ApplicationForm from '../shared/ApplicationForm';\nimport { ApplicationsAPI } from '../../../api';\nimport { CardBody } from '../../../components/Card';\n\nfunction ApplicationAdd({ onSuccessfulAdd }) {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n\n  const {\n    error,\n    request: fetchOptions,\n    result: { authorizationOptions, clientTypeOptions },\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: {\n          actions: {\n            GET: {\n              authorization_grant_type: { choices: authChoices },\n              client_type: { choices: clientChoices },\n            },\n          },\n        },\n      } = await ApplicationsAPI.readOptions();\n\n      const authorization = authChoices.map(choice => ({\n        value: choice[0],\n        label: choice[1],\n        key: choice[0],\n      }));\n      const clientType = clientChoices.map(choice => ({\n        value: choice[0],\n        label: choice[1],\n        key: choice[0],\n      }));\n\n      return {\n        authorizationOptions: authorization,\n        clientTypeOptions: clientType,\n      };\n    }, []),\n    {\n      authorizationOptions: [],\n      clientTypeOptions: [],\n    }\n  );\n  const handleSubmit = async ({ ...values }) => {\n    values.organization = values.organization.id;\n    try {\n      const { data } = await ApplicationsAPI.create(values);\n      onSuccessfulAdd(data);\n      history.push(`/applications/${data.id}/details`);\n    } catch (err) {\n      setSubmitError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/applications`);\n  };\n\n  useEffect(() => {\n    fetchOptions();\n  }, [fetchOptions]);\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ApplicationForm\n              onSubmit={handleSubmit}\n              onCancel={handleCancel}\n              authorizationOptions={authorizationOptions}\n              clientTypeOptions={clientTypeOptions}\n              submitError={submitError}\n            />\n          </CardBody>\n        </Card>\n      </PageSection>\n    </>\n  );\n}\nexport default ApplicationAdd;\n","import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { Card } from '@patternfly/react-core';\nimport ApplicationForm from '../shared/ApplicationForm';\nimport { ApplicationsAPI } from '../../../api';\nimport { CardBody } from '../../../components/Card';\n\nfunction ApplicationEdit({\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const history = useHistory();\n  const { id } = useParams();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async ({ ...values }) => {\n    values.organization = values.organization.id;\n    try {\n      await ApplicationsAPI.update(id, values);\n      history.push(`/applications/${id}/details`);\n    } catch (err) {\n      setSubmitError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/applications/${id}/details`);\n  };\n  return (\n    <Card>\n      <CardBody>\n        <ApplicationForm\n          onSubmit={handleSubmit}\n          application={application}\n          onCancel={handleCancel}\n          authorizationOptions={authorizationOptions}\n          clientTypeOptions={clientTypeOptions}\n          submitError={submitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\nexport default ApplicationEdit;\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\n\nfunction DeleteButton({\n  onConfirm,\n  modalTitle,\n  name,\n  i18n,\n  variant,\n  children,\n  isDisabled,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <>\n      <Button\n        variant={variant || 'secondary'}\n        aria-label={i18n._(t`删除`)}\n        isDisabled={isDisabled}\n        onClick={() => setIsOpen(true)}\n      >\n        {children || i18n._(t`删除`)}\n      </Button>\n      <AlertModal\n        isOpen={isOpen}\n        title={modalTitle}\n        variant=\"danger\"\n        onClose={() => setIsOpen(false)}\n        actions={[\n          <Button\n            key=\"delete\"\n            variant=\"danger\"\n            aria-label={i18n._(t`删除`)}\n            isDisabled={isDisabled}\n            onClick={onConfirm}\n          >\n            {i18n._(t`删除`)}\n          </Button>,\n          <Button\n            key=\"cancel\"\n            variant=\"secondary\"\n            aria-label={i18n._(t`取消`)}\n            onClick={() => setIsOpen(false)}\n          >\n            {i18n._(t`取消`)}\n          </Button>,\n        ]}\n      >\n        {i18n._(t`Are you sure you want to delete:`)}\n        <br />\n        <strong>{name}</strong>\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(DeleteButton);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\n\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { ApplicationsAPI } from '../../../api';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\n\nfunction ApplicationDetails({\n  i18n,\n  application,\n  authorizationOptions,\n  clientTypeOptions,\n}) {\n  const history = useHistory();\n  const {\n    isLoading: deleteLoading,\n    error: deletionError,\n    request: deleteApplications,\n  } = useRequest(\n    useCallback(async () => {\n      await ApplicationsAPI.destroy(application.id);\n      history.push('/applications');\n    }, [application.id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deletionError);\n\n  const getAuthorizationGrantType = type => {\n    let value;\n    authorizationOptions.filter(option => {\n      if (option.value === type) {\n        value = option.label;\n      }\n      return null;\n    });\n    return value;\n  };\n  const getClientType = type => {\n    let value;\n    clientTypeOptions.filter(option => {\n      if (option.value === type) {\n        value = option.label;\n      }\n      return null;\n    });\n    return value;\n  };\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={application.name}\n          dataCy=\"app-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`描述`)}\n          value={application.description}\n          dataCy=\"app-detail-description\"\n        />\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link\n              to={`/organizations/${application.summary_fields.organization.id}/details`}\n            >\n              {application.summary_fields.organization.name}\n            </Link>\n          }\n          dataCy=\"app-detail-organization\"\n        />\n        <Detail\n          label={i18n._(t`Authorization grant type`)}\n          value={getAuthorizationGrantType(\n            application.authorization_grant_type\n          )}\n          dataCy=\"app-detail-authorization-grant-type\"\n        />\n        <Detail\n          label={i18n._(t`Client ID`)}\n          value={application.client_id}\n          dataCy=\"app-detail-client-id\"\n        />\n        <Detail\n          label={i18n._(t`Redirect uris`)}\n          value={application.redirect_uris}\n          dataCy=\"app-detail-redirect-uris\"\n        />\n        <Detail\n          label={i18n._(t`Client type`)}\n          value={getClientType(application.client_type)}\n          dataCy=\"app-detail-client-type\"\n        />\n        <UserDateDetail label={i18n._(t`已创建`)} date={application.created} />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={application.modified}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {application.summary_fields.user_capabilities &&\n          application.summary_fields.user_capabilities.edit && (\n            <Button\n              component={Link}\n              to={`/applications/${application.id}/edit`}\n              aria-label={i18n._(t`Edit`)}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {application.summary_fields.user_capabilities &&\n          application.summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={application.name}\n              modalTitle={i18n._(t`Delete application`)}\n              onConfirm={deleteApplications}\n              isDisabled={deleteLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete application.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nexport default withI18n()(ApplicationDetails);\n","// TODO: switch to using Lingui i18n for articles\nexport function getArticle(str) {\n  const first = str[0];\n  if ('aeiou'.includes(first)) {\n    return 'an';\n  }\n  return 'a';\n}\n\nexport const toTitleCase = string => {\n  if (!string) {\n    return '';\n  }\n  return string\n    .toLowerCase()\n    .split('_')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n};\n\nexport const arrayToString = value => value.join(',');\n\nexport const stringToArray = value => value.split(',').filter(val => !!val);\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nimport { Token } from '../../../types';\nimport { formatDateString } from '../../../util/dates';\nimport { toTitleCase } from '../../../util/strings';\nimport DataListCell from '../../../components/DataListCell';\n\nconst Label = styled.b`\n  margin-right: 20px;\n`;\n\nfunction ApplicationTokenListItem({\n  token,\n  isSelected,\n  onSelect,\n  detailUrl,\n  i18n,\n}) {\n  const labelId = `check-action-${token.id}`;\n  return (\n    <DataListItem key={token.id} aria-labelledby={labelId} id={`${token.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-token-${token.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"divider\" aria-label={i18n._(t`token name`)}>\n              <Link to={`${detailUrl}`}>\n                <b>{token.summary_fields.user.username}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"scope\" aria-label={i18n._(t`scope`)}>\n              <Label>{i18n._(t`Scope`)}</Label>\n              <span>{toTitleCase(token.scope)}</span>\n            </DataListCell>,\n            <DataListCell key=\"expiration\" aria-label={i18n._(t`expiration`)}>\n              <Label>{i18n._(t`Expiration`)}</Label>\n              <span>{formatDateString(token.expires)}</span>\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nApplicationTokenListItem.propTypes = {\n  token: Token.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(ApplicationTokenListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport { TokensAPI, ApplicationsAPI } from '../../../api';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport ApplicationTokenListItem from './ApplicationTokenListItem';\nimport DatalistToolbar from '../../../components/DataListToolbar';\n\nconst QS_CONFIG = getQSConfig('applications', {\n  page: 1,\n  page_size: 20,\n  order_by: 'user__username',\n});\n\nfunction ApplicationTokenList({ i18n }) {\n  const { id } = useParams();\n  const location = useLocation();\n  const {\n    error,\n    isLoading,\n    result: { tokens, itemCount, relatedSearchableKeys, searchableKeys },\n    request: fetchTokens,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { results, count },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        ApplicationsAPI.readTokens(id, params),\n        ApplicationsAPI.readTokenOptions(id),\n      ]);\n      const modifiedResults = results.map(result => {\n        result.summary_fields = {\n          user: result.summary_fields.user,\n          application: result.summary_fields.application,\n          user_capabilities: { delete: true },\n        };\n        result.name = result.summary_fields.user?.username;\n        return result;\n      });\n      return {\n        tokens: modifiedResults,\n        itemCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [id, location.search]),\n    { tokens: [], itemCount: 0, relatedSearchableKeys: [], searchableKeys: [] }\n  );\n\n  useEffect(() => {\n    fetchTokens();\n  }, [fetchTokens]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    tokens\n  );\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: handleDeleteApplications,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id: tokenId }) => TokensAPI.destroy(tokenId))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTokens,\n    }\n  );\n\n  const handleDelete = async () => {\n    await handleDeleteApplications();\n    setSelected([]);\n  };\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={error}\n        hasContentLoading={isLoading || deleteLoading}\n        items={tokens}\n        itemCount={itemCount}\n        pluralizedItemName={i18n._(t`Tokens`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'user__username__icontains',\n            isDefault: true,\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'user__username',\n          },\n          {\n            name: i18n._(t`Scope`),\n            key: 'scope',\n          },\n          {\n            name: i18n._(t`Expiration`),\n            key: 'expires',\n          },\n          {\n            name: i18n._(t`已创建`),\n            key: 'created',\n          },\n          {\n            name: i18n._(t`更改`),\n            key: 'modified',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DatalistToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...tokens] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              <ToolbarDeleteButton\n                key=\"delete\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={i18n._(t`Tokens`)}\n              />,\n            ]}\n          />\n        )}\n        renderItem={token => (\n          <ApplicationTokenListItem\n            key={token.id}\n            value={token.name}\n            token={token}\n            detailUrl={`/users/${token.summary_fields.user.id}/details`}\n            onSelect={() => handleSelect(token)}\n            isSelected={selected.some(row => row.id === token.id)}\n          />\n        )}\n      />\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more tokens.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(ApplicationTokenList);\n","import React from 'react';\nimport { shape, string, number, arrayOf, node, oneOfType } from 'prop-types';\nimport { Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport { useHistory, useLocation } from 'react-router-dom';\n\nfunction RoutedTabs(props) {\n  const { tabsArray } = props;\n  const history = useHistory();\n  const location = useLocation();\n\n  const getActiveTabId = () => {\n    const match = tabsArray.find(tab => tab.link === location.pathname);\n    if (match) {\n      return match.id;\n    }\n    const subpathMatch = tabsArray.find(tab =>\n      location.pathname.startsWith(tab.link)\n    );\n    if (subpathMatch) {\n      return subpathMatch.id;\n    }\n    return 0;\n  };\n\n  function handleTabSelect(event, eventKey) {\n    const match = tabsArray.find(tab => tab.id === eventKey);\n    if (match) {\n      history.push(match.link);\n    }\n  }\n\n  return (\n    <Tabs activeKey={getActiveTabId()} onSelect={handleTabSelect}>\n      {tabsArray.map(tab => (\n        <Tab\n          aria-label={typeof tab.name === 'string' ? tab.name : ''}\n          eventKey={tab.id}\n          key={tab.id}\n          link={tab.link}\n          title={<TabTitleText>{tab.name}</TabTitleText>}\n          role=\"tab\"\n        />\n      ))}\n    </Tabs>\n  );\n}\n\nRoutedTabs.propTypes = {\n  tabsArray: arrayOf(\n    shape({\n      id: number.isRequired,\n      link: string.isRequired,\n      name: oneOfType([string.isRequired, node.isRequired]),\n    })\n  ).isRequired,\n};\n\nexport default RoutedTabs;\n","import React, { useCallback, useEffect } from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useParams,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport useRequest from '../../../util/useRequest';\nimport { ApplicationsAPI } from '../../../api';\nimport ContentError from '../../../components/ContentError';\nimport ApplicationEdit from '../ApplicationEdit';\nimport ApplicationDetails from '../ApplicationDetails';\nimport ApplicationTokens from '../ApplicationTokens';\nimport RoutedTabs from '../../../components/RoutedTabs';\n\nfunction Application({ setBreadcrumb, i18n }) {\n  const { id } = useParams();\n  const { pathname } = useLocation();\n  const {\n    isLoading,\n    error,\n    result: { application, authorizationOptions, clientTypeOptions },\n    request: fetchApplication,\n  } = useRequest(\n    useCallback(async () => {\n      const [detail, options] = await Promise.all([\n        ApplicationsAPI.readDetail(id),\n        ApplicationsAPI.readOptions(),\n      ]);\n      const authorization = options.data.actions.GET.authorization_grant_type.choices.map(\n        choice => ({\n          value: choice[0],\n          label: choice[1],\n          key: choice[0],\n        })\n      );\n      const clientType = options.data.actions.GET.client_type.choices.map(\n        choice => ({\n          value: choice[0],\n          label: choice[1],\n          key: choice[0],\n        })\n      );\n      setBreadcrumb(detail.data);\n\n      return {\n        application: detail.data,\n        authorizationOptions: authorization,\n        clientTypeOptions: clientType,\n      };\n    }, [setBreadcrumb, id]),\n    { authorizationOptions: [], clientTypeOptions: [] }\n  );\n\n  useEffect(() => {\n    fetchApplication();\n  }, [fetchApplication, pathname]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to applications`)}\n        </>\n      ),\n      link: '/applications',\n      id: 0,\n    },\n    { name: i18n._(t`Details`), link: `/applications/${id}/details`, id: 1 },\n    { name: i18n._(t`Tokens`), link: `/applications/${id}/tokens`, id: 2 },\n  ];\n\n  let cardHeader = <RoutedTabs tabsArray={tabsArray} />;\n  if (pathname.endsWith('edit')) {\n    cardHeader = null;\n  }\n\n  if (!isLoading && error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response?.status === 404 && (\n              <span>\n                {i18n._(t`Application not found.`)}{' '}\n                <Link to=\"/applications\">\n                  {i18n._(t`View all applications.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {cardHeader}\n        <Switch>\n          <Redirect\n            from=\"/applications/:id\"\n            to=\"/applications/:id/details\"\n            exact\n          />\n          {application && (\n            <>\n              <Route path=\"/applications/:id/edit\">\n                <ApplicationEdit\n                  authorizationOptions={authorizationOptions}\n                  clientTypeOptions={clientTypeOptions}\n                  application={application}\n                />\n              </Route>\n              <Route path=\"/applications/:id/details\">\n                <ApplicationDetails\n                  application={application}\n                  authorizationOptions={authorizationOptions}\n                  clientTypeOptions={clientTypeOptions}\n                />\n              </Route>\n              <Route path=\"/applications/:id/tokens\">\n                <ApplicationTokens application={application} />\n              </Route>\n            </>\n          )}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\nexport default withI18n()(Application);\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  PageSection,\n  PageSectionVariants,\n  Breadcrumb,\n  BreadcrumbItem,\n  Title,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { HistoryIcon } from '@patternfly/react-icons';\nimport { Link, Route, useRouteMatch } from 'react-router-dom';\n\nconst ScreenHeader = ({ breadcrumbConfig, i18n, streamType }) => {\n  const { light } = PageSectionVariants;\n  const oneCrumbMatch = useRouteMatch({\n    path: Object.keys(breadcrumbConfig)[0],\n    strict: true,\n  });\n  const isOnlyOneCrumb = oneCrumbMatch && oneCrumbMatch.isExact;\n\n  return (\n    <PageSection variant={light}>\n      <div\n        style={{\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n        }}\n      >\n        <div>\n          {!isOnlyOneCrumb && (\n            <Breadcrumb>\n              <Route path=\"/:path\">\n                <Crumb breadcrumbConfig={breadcrumbConfig} />\n              </Route>\n            </Breadcrumb>\n          )}\n          <div\n            style={{\n              minHeight: '31px',\n            }}\n          >\n            <Route path=\"/:path\">\n              <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n            </Route>\n          </div>\n        </div>\n        {streamType !== 'none' && (\n          <div>\n            <Tooltip content={i18n._(t`View activity stream`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`View activity stream`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/activity_stream${\n                  streamType ? `?type=${streamType}` : ''\n                }`}\n              >\n                <HistoryIcon />\n              </Button>\n            </Tooltip>\n          </div>\n        )}\n      </div>\n    </PageSection>\n  );\n};\n\nconst ActualTitle = ({ breadcrumbConfig }) => {\n  const match = useRouteMatch();\n  const title = breadcrumbConfig[match.url];\n  let titleElement;\n\n  if (match.isExact) {\n    titleElement = (\n      <Title size=\"2xl\" headingLevel=\"h2\">\n        {title}\n      </Title>\n    );\n  }\n\n  if (!title) {\n    titleElement = null;\n  }\n\n  return (\n    <Fragment>\n      {titleElement}\n      <Route path={`${match.url}/:path`}>\n        <ActualTitle breadcrumbConfig={breadcrumbConfig} />\n      </Route>\n    </Fragment>\n  );\n};\n\nconst Crumb = ({ breadcrumbConfig, showDivider }) => {\n  const match = useRouteMatch();\n  const crumb = breadcrumbConfig[match.url];\n\n  let crumbElement = (\n    <BreadcrumbItem key={match.url} showDivider={showDivider}>\n      <Link to={match.url}>{crumb}</Link>\n    </BreadcrumbItem>\n  );\n\n  if (match.isExact) {\n    crumbElement = null;\n  }\n\n  if (!crumb) {\n    crumbElement = null;\n  }\n  return (\n    <Fragment>\n      {crumbElement}\n      <Route path={`${match.url}/:path`}>\n        <Crumb breadcrumbConfig={breadcrumbConfig} showDivider />\n      </Route>\n    </Fragment>\n  );\n};\n\nScreenHeader.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nCrumb.propTypes = {\n  breadcrumbConfig: PropTypes.objectOf(PropTypes.string).isRequired,\n};\n\nexport default withI18n()(ScreenHeader);\n","import React, { useState, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Route, Switch } from 'react-router-dom';\nimport {\n  Alert,\n  ClipboardCopy,\n  ClipboardCopyVariant,\n  Modal,\n} from '@patternfly/react-core';\nimport ApplicationsList from './ApplicationsList';\nimport ApplicationAdd from './ApplicationAdd';\nimport Application from './Application';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport { Detail, DetailList } from '../../components/DetailList';\n\nconst ApplicationAlert = styled(Alert)`\n  margin-bottom: 20px;\n`;\n\nfunction Applications({ i18n }) {\n  const [applicationModalSource, setApplicationModalSource] = useState(null);\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/applications': i18n._(t`Applications`),\n    '/applications/add': i18n._(t`Create New Application`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    application => {\n      if (!application) {\n        return;\n      }\n      setBreadcrumbConfig({\n        '/applications': i18n._(t`Applications`),\n        '/applications/add': i18n._(t`Create New Application`),\n        [`/applications/${application.id}`]: `${application.name}`,\n        [`/applications/${application.id}/edit`]: i18n._(t`Edit Details`),\n        [`/applications/${application.id}/details`]: i18n._(t`Details`),\n        [`/applications/${application.id}/tokens`]: i18n._(t`Tokens`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"o_auth2_application,o_auth2_access_token\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/applications/add\">\n          <ApplicationAdd\n            onSuccessfulAdd={app => setApplicationModalSource(app)}\n          />\n        </Route>\n        <Route path=\"/applications/:id\">\n          <Application setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/applications\">\n          <ApplicationsList />\n        </Route>\n      </Switch>\n      {applicationModalSource && (\n        <Modal\n          aria-label={i18n._(t`Application information`)}\n          isOpen\n          variant=\"medium\"\n          title={i18n._(t`Application information`)}\n          onClose={() => setApplicationModalSource(null)}\n        >\n          {applicationModalSource.client_secret && (\n            <ApplicationAlert\n              variant=\"info\"\n              isInline\n              title={i18n._(\n                t`This is the only time the client secret will be shown.`\n              )}\n            />\n          )}\n          <DetailList stacked>\n            <Detail\n              label={i18n._(t`名称`)}\n              value={applicationModalSource.name}\n            />\n            {applicationModalSource.client_id && (\n              <Detail\n                label={i18n._(t`Client ID`)}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_id}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n            {applicationModalSource.client_secret && (\n              <Detail\n                label={i18n._(t`Client secret`)}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {applicationModalSource.client_secret}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n          </DetailList>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(Applications);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst SelectableItem = styled.div`\n  min-width: 200px;\n  border: 1px solid var(--pf-global--BorderColor--200);\n  border-radius: var(--pf-global--BorderRadius--sm);\n  border: 1px solid;\n  border-color: ${props =>\n    props.isSelected\n      ? 'var(--pf-global--active-color--100)'\n      : 'var(--pf-global--BorderColor--200)'};\n  margin-right: 20px;\n  display: flex;\n  cursor: pointer;\n`;\n\nconst Indicator = styled.div`\n  display: flex;\n  flex: 0 0 5px;\n  background-color: ${props =>\n    props.isSelected ? 'var(--pf-global--active-color--100)' : null};\n`;\n\nconst Contents = styled.div`\n  padding: 10px 20px;\n`;\n\nconst Description = styled.p`\n  font-size: 14px;\n`;\n\nfunction SelectableCard({\n  label,\n  description,\n  onClick,\n  isSelected,\n  dataCy,\n  ariaLabel,\n}) {\n  return (\n    <SelectableItem\n      onClick={onClick}\n      onKeyPress={onClick}\n      role=\"button\"\n      tabIndex=\"0\"\n      data-cy={dataCy}\n      isSelected={isSelected}\n      aria-label={ariaLabel}\n    >\n      <Indicator isSelected={isSelected} />\n      <Contents>\n        <b>{label}</b>\n        <Description>{description}</Description>\n      </Contents>\n    </SelectableItem>\n  );\n}\n\nSelectableCard.propTypes = {\n  label: PropTypes.string,\n  description: PropTypes.string,\n  onClick: PropTypes.func.isRequired,\n  isSelected: PropTypes.bool,\n  ariaLabel: PropTypes.string,\n};\n\nSelectableCard.defaultProps = {\n  label: '',\n  description: '',\n  isSelected: false,\n  ariaLabel: '',\n};\n\nexport default SelectableCard;\n","import { Wizard } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nWizard.displayName = 'PFWizard';\nexport default styled(Wizard)`\n  .pf-c-toolbar__content {\n    padding: 0 !important;\n  }\n`;\n","import React, { Fragment, useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport useRequest from '../../util/useRequest';\n\nimport { SearchColumns, SortColumns } from '../../types';\nimport PaginatedDataList from '../PaginatedDataList';\nimport DataListToolbar from '../DataListToolbar';\nimport CheckboxListItem from '../CheckboxListItem';\nimport SelectedList from '../SelectedList';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\n\nconst QS_Config = sortColumns => {\n  return getQSConfig('resource', {\n    page: 1,\n    page_size: 5,\n    order_by: `${\n      sortColumns.filter(col => col.key === 'name').length ? 'name' : 'username'\n    }`,\n  });\n};\nfunction SelectResourceStep({\n  searchColumns,\n  sortColumns,\n  displayKey,\n  onRowClick,\n  selectedLabel,\n  selectedResourceRows,\n  fetchItems,\n  fetchOptions,\n  i18n,\n}) {\n  const location = useLocation();\n\n  const {\n    isLoading,\n    error,\n    request: readResourceList,\n    result: { resources, itemCount, relatedSearchableKeys, searchableKeys },\n  } = useRequest(\n    useCallback(async () => {\n      const queryParams = parseQueryString(\n        QS_Config(sortColumns),\n        location.search\n      );\n\n      const [\n        {\n          data: { count, results },\n        },\n        actionsResponse,\n      ] = await Promise.all([fetchItems(queryParams), fetchOptions()]);\n      return {\n        resources: results,\n        itemCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location, fetchItems, fetchOptions, sortColumns]),\n    {\n      resources: [],\n      itemCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    readResourceList();\n  }, [readResourceList]);\n\n  return (\n    <Fragment>\n      <div>\n        {i18n._(\n          t`Choose the resources that will be receiving new roles.  You'll be able to select the roles to apply in the next step.  Note that the resources chosen here will receive all roles chosen in the next step.`\n        )}\n      </div>\n      {selectedResourceRows.length > 0 && (\n        <SelectedList\n          displayKey={displayKey}\n          label={selectedLabel}\n          onRemove={onRowClick}\n          selected={selectedResourceRows}\n        />\n      )}\n      <PaginatedDataList\n        hasContentLoading={isLoading}\n        contentError={error}\n        items={resources}\n        itemCount={itemCount}\n        qsConfig={QS_Config(sortColumns)}\n        onRowClick={onRowClick}\n        toolbarSearchColumns={searchColumns}\n        toolbarSortColumns={sortColumns}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={item => (\n          <CheckboxListItem\n            isSelected={selectedResourceRows.some(i => i.id === item.id)}\n            itemId={item.id}\n            key={item.id}\n            name={item[displayKey]}\n            label={item[displayKey]}\n            onSelect={() => onRowClick(item)}\n            onDeselect={() => onRowClick(item)}\n          />\n        )}\n        renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n        showPageSizeOptions={false}\n      />\n    </Fragment>\n  );\n}\n\nSelectResourceStep.propTypes = {\n  searchColumns: SearchColumns,\n  sortColumns: SortColumns,\n  displayKey: PropTypes.string,\n  onRowClick: PropTypes.func,\n  fetchItems: PropTypes.func.isRequired,\n  selectedLabel: PropTypes.string,\n  selectedResourceRows: PropTypes.arrayOf(PropTypes.object),\n};\n\nSelectResourceStep.defaultProps = {\n  searchColumns: null,\n  sortColumns: null,\n  displayKey: 'name',\n  onRowClick: () => {},\n  selectedLabel: null,\n  selectedResourceRows: [],\n};\n\nexport { SelectResourceStep as _SelectResourceStep };\nexport default withI18n()(withRouter(SelectResourceStep));\n","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Checkbox as PFCheckbox } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst CheckboxWrapper = styled.div`\n  display: flex;\n  border: 1px solid var(--pf-global--BorderColor--200);\n  border-radius: var(--pf-global--BorderRadius--sm);\n  padding: 10px;\n`;\n\nconst Checkbox = styled(PFCheckbox)`\n  width: 100%;\n  & label {\n    width: 100%;\n  }\n`;\n\nclass CheckboxCard extends Component {\n  render() {\n    const { name, description, isSelected, onSelect, itemId } = this.props;\n    return (\n      <CheckboxWrapper>\n        <Checkbox\n          isChecked={isSelected}\n          onChange={onSelect}\n          aria-label={name}\n          id={`checkbox-card-${itemId}`}\n          label={\n            <Fragment>\n              <div style={{ fontWeight: 'bold' }}>{name}</div>\n              <div>{description}</div>\n            </Fragment>\n          }\n          value={itemId}\n        />\n      </CheckboxWrapper>\n    );\n  }\n}\n\nCheckboxCard.propTypes = {\n  name: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  isSelected: PropTypes.bool,\n  onSelect: PropTypes.func,\n  itemId: PropTypes.number.isRequired,\n};\n\nCheckboxCard.defaultProps = {\n  description: '',\n  isSelected: false,\n  onSelect: null,\n};\n\nexport default CheckboxCard;\n","import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport CheckboxCard from './CheckboxCard';\nimport SelectedList from '../SelectedList';\n\nfunction RolesStep({\n  onRolesClick,\n  roles,\n  selectedListKey,\n  selectedListLabel,\n  selectedResourceRows,\n  selectedRoleRows,\n  i18n,\n}) {\n  return (\n    <Fragment>\n      <div>\n        {i18n._(\n          t`Choose roles to apply to the selected resources.  Note that all selected roles will be applied to all selected resources.`\n        )}\n      </div>\n      <div>\n        {selectedResourceRows.length > 0 && (\n          <SelectedList\n            displayKey={selectedListKey}\n            isReadOnly\n            label={selectedListLabel || i18n._(t`已选择`)}\n            selected={selectedResourceRows}\n          />\n        )}\n      </div>\n      <div\n        style={{\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '20px 20px',\n          marginTop: '20px',\n        }}\n      >\n        {Object.keys(roles).map(role => (\n          <CheckboxCard\n            description={roles[role].description}\n            itemId={roles[role].id}\n            isSelected={selectedRoleRows.some(\n              item => item.id === roles[role].id\n            )}\n            key={roles[role].id}\n            name={roles[role].name}\n            onSelect={() => onRolesClick(roles[role])}\n          />\n        ))}\n      </div>\n    </Fragment>\n  );\n}\n\nRolesStep.propTypes = {\n  onRolesClick: PropTypes.func,\n  roles: PropTypes.objectOf(PropTypes.object).isRequired,\n  selectedListKey: PropTypes.string,\n  selectedListLabel: PropTypes.string,\n  selectedResourceRows: PropTypes.arrayOf(PropTypes.object),\n  selectedRoleRows: PropTypes.arrayOf(PropTypes.object),\n};\n\nRolesStep.defaultProps = {\n  onRolesClick: () => {},\n  selectedListKey: 'name',\n  selectedListLabel: null,\n  selectedResourceRows: [],\n  selectedRoleRows: [],\n};\n\nexport default withI18n()(RolesStep);\n","import React, { Fragment, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport SelectableCard from '../SelectableCard';\nimport Wizard from '../Wizard';\nimport SelectResourceStep from './SelectResourceStep';\nimport SelectRoleStep from './SelectRoleStep';\nimport { TeamsAPI, UsersAPI } from '../../api';\n\nconst readUsers = async queryParams =>\n  UsersAPI.read(Object.assign(queryParams, { is_superuser: false }));\n\nconst readUsersOptions = async () => UsersAPI.readOptions();\n\nconst readTeams = async queryParams => TeamsAPI.read(queryParams);\n\nconst readTeamsOptions = async () => TeamsAPI.readOptions();\n\nfunction AddResourceRole({ onSave, onClose, roles, i18n, resource }) {\n  const [selectedResource, setSelectedResource] = useState(null);\n  const [selectedResourceRows, setSelectedResourceRows] = useState([]);\n  const [selectedRoleRows, setSelectedRoleRows] = useState([]);\n  const [currentStepId, setCurrentStepId] = useState(1);\n  const [maxEnabledStep, setMaxEnabledStep] = useState(1);\n\n  const handleResourceCheckboxClick = user => {\n    const selectedIndex = selectedResourceRows.findIndex(\n      selectedRow => selectedRow.id === user.id\n    );\n    if (selectedIndex > -1) {\n      selectedResourceRows.splice(selectedIndex, 1);\n      if (selectedResourceRows.length === 0) {\n        setMaxEnabledStep(currentStepId);\n      }\n      setSelectedRoleRows(selectedResourceRows);\n    } else {\n      setSelectedResourceRows([...selectedResourceRows, user]);\n    }\n  };\n\n  const handleRoleCheckboxClick = role => {\n    const selectedIndex = selectedRoleRows.findIndex(\n      selectedRow => selectedRow.id === role.id\n    );\n\n    if (selectedIndex > -1) {\n      selectedRoleRows.splice(selectedIndex, 1);\n      setSelectedRoleRows(selectedRoleRows);\n    } else {\n      setSelectedRoleRows([...selectedRoleRows, role]);\n    }\n  };\n\n  const handleResourceSelect = resourceType => {\n    setSelectedResource(resourceType);\n    setSelectedResourceRows([]);\n    setSelectedRoleRows([]);\n  };\n\n  const handleWizardNext = step => {\n    setCurrentStepId(step.id);\n    setMaxEnabledStep(step.id);\n  };\n\n  const handleWizardGoToStep = step => {\n    setCurrentStepId(step.id);\n  };\n\n  const handleWizardSave = async () => {\n    try {\n      const roleRequests = [];\n\n      for (let i = 0; i < selectedResourceRows.length; i++) {\n        for (let j = 0; j < selectedRoleRows.length; j++) {\n          if (selectedResource === 'users') {\n            roleRequests.push(\n              UsersAPI.associateRole(\n                selectedResourceRows[i].id,\n                selectedRoleRows[j].id\n              )\n            );\n          } else if (selectedResource === 'teams') {\n            roleRequests.push(\n              TeamsAPI.associateRole(\n                selectedResourceRows[i].id,\n                selectedRoleRows[j].id\n              )\n            );\n          }\n        }\n      }\n\n      await Promise.all(roleRequests);\n      onSave();\n    } catch (err) {\n      // TODO: handle this error\n    }\n  };\n\n  // Object roles can be user only, so we remove them when\n  // showing role choices for team access\n  const selectableRoles = { ...roles };\n  if (selectedResource === 'teams') {\n    Object.keys(roles).forEach(key => {\n      if (selectableRoles[key].user_only) {\n        delete selectableRoles[key];\n      }\n    });\n  }\n\n  const userSearchColumns = [\n    {\n      name: i18n._(t`用户名`),\n      key: 'username__icontains',\n      isDefault: true,\n    },\n    {\n      name: i18n._(t`姓名`),\n      key: 'first_name__icontains',\n    },\n    {\n      name: i18n._(t`姓氏`),\n      key: 'last_name__icontains',\n    },\n  ];\n  const userSortColumns = [\n    {\n      name: i18n._(t`用户名`),\n      key: 'username',\n    },\n    {\n      name: i18n._(t`姓名`),\n      key: 'first_name',\n    },\n    {\n      name: i18n._(t`姓氏`),\n      key: 'last_name',\n    },\n  ];\n  const teamSearchColumns = [\n    {\n      name: i18n._(t`名称`),\n      key: 'name',\n      isDefault: true,\n    },\n    {\n      name: i18n._(t`创建者`),\n      key: 'created_by__username',\n    },\n    {\n      name: i18n._(t`修改者`),\n      key: 'modified_by__username',\n    },\n  ];\n\n  const teamSortColumns = [\n    {\n      name: i18n._(t`名称`),\n      key: 'name',\n    },\n  ];\n\n  let wizardTitle = '';\n\n  switch (selectedResource) {\n    case 'users':\n      wizardTitle = i18n._(t`添加用户角色`);\n      break;\n    case 'teams':\n      wizardTitle = i18n._(t`添加团队角色`);\n      break;\n    default:\n      wizardTitle = i18n._(t`添加角色`);\n  }\n\n  const steps = [\n    {\n      id: 1,\n      name: i18n._(t`选择资源类型`),\n      component: (\n        <div style={{ display: 'flex', flexWrap: 'wrap' }}>\n          <div style={{ width: '100%', marginBottom: '10px' }}>\n            {i18n._(\n              t`选择将接收新角色的资源类型。 例如，如果您想向一组用户添加新角色，请选择用户并单击下一步。 您将能够在下一步中选择特定资源。`\n            )}\n          </div>\n          <SelectableCard\n            isSelected={selectedResource === 'users'}\n            label={i18n._(t`用户`)}\n            ariaLabel={i18n._(t`用户`)}\n            dataCy=\"add-role-users\"\n            onClick={() => handleResourceSelect('users')}\n          />\n          {resource?.type === 'credential' && !resource?.organization ? null : (\n            <SelectableCard\n              isSelected={selectedResource === 'teams'}\n              label={i18n._(t`团队`)}\n              ariaLabel={i18n._(t`团队`)}\n              dataCy=\"add-role-teams\"\n              onClick={() => handleResourceSelect('teams')}\n            />\n          )}\n        </div>\n      ),\n      enableNext: selectedResource !== null,\n    },\n    {\n      id: 2,\n      name: i18n._(t`从列表中选择项目`),\n      component: (\n        <Fragment>\n          {selectedResource === 'users' && (\n            <SelectResourceStep\n              searchColumns={userSearchColumns}\n              sortColumns={userSortColumns}\n              displayKey=\"username\"\n              onRowClick={handleResourceCheckboxClick}\n              fetchItems={readUsers}\n              fetchOptions={readUsersOptions}\n              selectedLabel={i18n._(t`已选择`)}\n              selectedResourceRows={selectedResourceRows}\n              sortedColumnKey=\"username\"\n            />\n          )}\n          {selectedResource === 'teams' && (\n            <SelectResourceStep\n              searchColumns={teamSearchColumns}\n              sortColumns={teamSortColumns}\n              onRowClick={handleResourceCheckboxClick}\n              fetchItems={readTeams}\n              fetchOptions={readTeamsOptions}\n              selectedLabel={i18n._(t`已选择`)}\n              selectedResourceRows={selectedResourceRows}\n            />\n          )}\n        </Fragment>\n      ),\n      enableNext: selectedResourceRows.length > 0,\n      canJumpTo: maxEnabledStep >= 2,\n    },\n    {\n      id: 3,\n      name: i18n._(t`选择要应用的角色`),\n      component: (\n        <SelectRoleStep\n          onRolesClick={handleRoleCheckboxClick}\n          roles={selectableRoles}\n          selectedListKey={selectedResource === 'users' ? 'username' : 'name'}\n          selectedListLabel={i18n._(t`已选择`)}\n          selectedResourceRows={selectedResourceRows}\n          selectedRoleRows={selectedRoleRows}\n        />\n      ),\n      nextButtonText: i18n._(t`Save`),\n      enableNext: selectedRoleRows.length > 0,\n      canJumpTo: maxEnabledStep >= 3,\n    },\n  ];\n\n  const currentStep = steps.find(step => step.id === currentStepId);\n\n  // TODO: somehow internationalize steps and currentStep.nextButtonText\n  return (\n    <Wizard\n      style={{ overflow: 'scroll' }}\n      isOpen\n      onNext={handleWizardNext}\n      onClose={onClose}\n      onSave={handleWizardSave}\n      onGoToStep={step => handleWizardGoToStep(step)}\n      steps={steps}\n      title={wizardTitle}\n      nextButtonText={currentStep.nextButtonText || undefined}\n      backButtonText={i18n._(t`返回`)}\n      cancelButtonText={i18n._(t`取消`)}\n    />\n  );\n}\n\nAddResourceRole.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  roles: PropTypes.shape(),\n  resource: PropTypes.shape(),\n};\n\nAddResourceRole.defaultProps = {\n  roles: {},\n  resource: {},\n};\n\nexport { AddResourceRole as _AddResourceRole };\nexport default withI18n()(AddResourceRole);\n","import React, { Fragment } from 'react';\nimport { func, string } from 'prop-types';\nimport { Button } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport AlertModal from '../AlertModal';\nimport { Role } from '../../types';\n\nfunction DeleteRoleConfirmationModal({\n  role,\n  username,\n  onCancel,\n  onConfirm,\n  i18n,\n}) {\n  const isTeamRole = () => {\n    return typeof role.team_id !== 'undefined';\n  };\n\n  const title = i18n._(\n    t`Remove ${isTeamRole() ? i18n._(t`Team`) : i18n._(t`User`)} Access`\n  );\n  return (\n    <AlertModal\n      variant=\"danger\"\n      title={title}\n      isOpen\n      onClose={onCancel}\n      actions={[\n        <Button\n          key=\"delete\"\n          variant=\"danger\"\n          aria-label={i18n._(t`Confirm delete`)}\n          onClick={onConfirm}\n        >\n          {i18n._(t`删除`)}\n        </Button>,\n        <Button key=\"cancel\" variant=\"secondary\" onClick={onCancel}>\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      {isTeamRole() ? (\n        <Fragment>\n          {i18n._(\n            t`Are you sure you want to remove ${role.name} access from ${role.team_name}?  Doing so affects all members of the team.`\n          )}\n          <br />\n          <br />\n          {i18n._(\n            t`If you only want to remove access for this particular user, please remove them from the team.`\n          )}\n        </Fragment>\n      ) : (\n        <Fragment>\n          {i18n._(\n            t`Are you sure you want to remove ${role.name} access from ${username}?`\n          )}\n        </Fragment>\n      )}\n    </AlertModal>\n  );\n}\n\nDeleteRoleConfirmationModal.propTypes = {\n  role: Role.isRequired,\n  username: string,\n  onCancel: func.isRequired,\n  onConfirm: func.isRequired,\n};\n\nDeleteRoleConfirmationModal.defaultProps = {\n  username: '',\n};\n\nexport default withI18n()(DeleteRoleConfirmationModal);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Chip,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells as PFDataListItemCells,\n  Text,\n  TextContent,\n  TextVariants,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport DataListCell from '../DataListCell';\n\nimport ChipGroup from '../ChipGroup';\nimport { DetailList, Detail } from '../DetailList';\nimport { AccessRecord } from '../../types';\n\nconst DataListItemCells = styled(PFDataListItemCells)`\n  align-items: start;\n`;\n\nfunction ResourceAccessListItem({ accessRecord, onRoleDelete, i18n }) {\n  ResourceAccessListItem.propTypes = {\n    accessRecord: AccessRecord.isRequired,\n    onRoleDelete: func.isRequired,\n  };\n\n  const getRoleLists = () => {\n    const teamRoles = [];\n    const userRoles = [];\n\n    function sort(item) {\n      const { role } = item;\n      if (role.team_id) {\n        teamRoles.push(role);\n      } else {\n        userRoles.push(role);\n      }\n    }\n\n    accessRecord.summary_fields.direct_access.map(sort);\n    accessRecord.summary_fields.indirect_access.map(sort);\n    return [teamRoles, userRoles];\n  };\n\n  const renderChip = role => {\n    return (\n      <Chip\n        key={role.id}\n        onClick={() => {\n          onRoleDelete(role, accessRecord);\n        }}\n        isReadOnly={!role.user_capabilities.unattach}\n      >\n        {role.name}\n      </Chip>\n    );\n  };\n\n  const [teamRoles, userRoles] = getRoleLists();\n\n  return (\n    <DataListItem\n      aria-labelledby=\"access-list-item\"\n      key={accessRecord.id}\n      id={`${accessRecord.id}`}\n    >\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              {accessRecord.username && (\n                <TextContent>\n                  {accessRecord.id ? (\n                    <Text component={TextVariants.h6}>\n                      <Link\n                        to={{ pathname: `/users/${accessRecord.id}/details` }}\n                        css=\"font-weight: bold\"\n                      >\n                        {accessRecord.username}\n                      </Link>\n                    </Text>\n                  ) : (\n                    <Text component={TextVariants.h6} css=\"font-weight: bold\">\n                      {accessRecord.username}\n                    </Text>\n                  )}\n                </TextContent>\n              )}\n              {accessRecord.first_name || accessRecord.last_name ? (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`名称`)}\n                    value={`${accessRecord.first_name} ${accessRecord.last_name}`}\n                  />\n                </DetailList>\n              ) : null}\n            </DataListCell>,\n            <DataListCell key=\"roles\">\n              <DetailList stacked>\n                {userRoles.length > 0 && (\n                  <Detail\n                    label={i18n._(t`User Roles`)}\n                    value={\n                      <ChipGroup numChips={5} totalChips={userRoles.length}>\n                        {userRoles.map(renderChip)}\n                      </ChipGroup>\n                    }\n                  />\n                )}\n                {teamRoles.length > 0 && (\n                  <Detail\n                    label={i18n._(t`Team Roles`)}\n                    value={\n                      <ChipGroup numChips={5} totalChips={teamRoles.length}>\n                        {teamRoles.map(renderChip)}\n                      </ChipGroup>\n                    }\n                  />\n                )}\n              </DetailList>\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(ResourceAccessListItem);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { TeamsAPI, UsersAPI } from '../../api';\nimport AddResourceRole from '../AddRole/AddResourceRole';\nimport AlertModal from '../AlertModal';\nimport DataListToolbar from '../DataListToolbar';\nimport PaginatedDataList, { ToolbarAddButton } from '../PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport useRequest, { useDeleteItems } from '../../util/useRequest';\nimport DeleteRoleConfirmationModal from './DeleteRoleConfirmationModal';\nimport ResourceAccessListItem from './ResourceAccessListItem';\n\nconst QS_CONFIG = getQSConfig('access', {\n  page: 1,\n  page_size: 5,\n  order_by: 'first_name',\n});\n\nfunction ResourceAccessList({ i18n, apiModel, resource }) {\n  const [deletionRecord, setDeletionRecord] = useState(null);\n  const [deletionRole, setDeletionRole] = useState(null);\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showDeleteModal, setShowDeleteModal] = useState(false);\n  const location = useLocation();\n\n  const {\n    result: { accessRecords, itemCount, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading,\n    request: fetchAccessRecords,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        apiModel.readAccessList(resource.id, params),\n        apiModel.readAccessOptions(resource.id),\n      ]);\n      return {\n        accessRecords: response.data.results,\n        itemCount: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [apiModel, location, resource.id]),\n    {\n      accessRecords: [],\n      itemCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchAccessRecords();\n  }, [fetchAccessRecords]);\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteRole,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      if (typeof deletionRole.team_id !== 'undefined') {\n        return TeamsAPI.disassociateRole(deletionRole.team_id, deletionRole.id);\n      }\n      return UsersAPI.disassociateRole(deletionRecord.id, deletionRole.id);\n      /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [deletionRole]),\n    {\n      qsConfig: QS_CONFIG,\n      fetchItems: fetchAccessRecords,\n    }\n  );\n\n  return (\n    <>\n      <PaginatedDataList\n        error={contentError}\n        hasContentLoading={isLoading || isDeleteLoading}\n        items={accessRecords}\n        itemCount={itemCount}\n        pluralizedItemName={i18n._(t`Roles`)}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`Username`),\n            key: 'username__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`First Name`),\n            key: 'first_name__icontains',\n          },\n          {\n            name: i18n._(t`Last Name`),\n            key: 'last_name__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`Username`),\n            key: 'username',\n          },\n          {\n            name: i18n._(t`First Name`),\n            key: 'first_name',\n          },\n          {\n            name: i18n._(t`Last Name`),\n            key: 'last_name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            qsConfig={QS_CONFIG}\n            additionalControls={\n              resource?.summary_fields?.user_capabilities?.edit\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      onClick={() => setShowAddModal(true)}\n                    />,\n                  ]\n                : []\n            }\n          />\n        )}\n        renderItem={accessRecord => (\n          <ResourceAccessListItem\n            key={accessRecord.id}\n            accessRecord={accessRecord}\n            onRoleDelete={(role, record) => {\n              setDeletionRecord(record);\n              setDeletionRole(role);\n              setShowDeleteModal(true);\n            }}\n            i18n={i18n}\n          />\n        )}\n      />\n      {showAddModal && (\n        <AddResourceRole\n          onClose={() => setShowAddModal(false)}\n          onSave={() => {\n            setShowAddModal(false);\n            fetchAccessRecords();\n          }}\n          roles={resource.summary_fields.object_roles}\n          resource={resource}\n        />\n      )}\n      {showDeleteModal && (\n        <DeleteRoleConfirmationModal\n          role={deletionRole}\n          username={deletionRecord.username}\n          onCancel={() => {\n            setDeletionRecord(null);\n            setDeletionRole(null);\n            setShowDeleteModal(false);\n          }}\n          onConfirm={async () => {\n            await deleteRole();\n            setShowDeleteModal(false);\n            setDeletionRecord(null);\n            setDeletionRole(null);\n          }}\n        />\n      )}\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete role`)}\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(ResourceAccessList);\n","import React from 'react';\nimport { shape } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Chip } from '@patternfly/react-core';\nimport { Credential } from '../../types';\nimport { toTitleCase } from '../../util/strings';\n\nfunction CredentialChip({ credential, i18n, i18nHash, ...props }) {\n  let type;\n  if (credential.cloud) {\n    type = i18n._(t`Cloud`);\n  } else if (credential.kind === 'aws' || credential.kind === 'ssh') {\n    type = credential.kind.toUpperCase();\n  } else {\n    type = toTitleCase(credential.kind);\n  }\n\n  const buildCredentialName = () => {\n    if (credential.kind === 'vault' && credential.inputs?.vault_id) {\n      return `${credential.name} | ${credential.inputs.vault_id}`;\n    }\n    return `${credential.name}`;\n  };\n\n  return (\n    <Chip {...props}>\n      <strong>{type}: </strong>\n      {buildCredentialName()}\n    </Chip>\n  );\n}\nCredentialChip.propTypes = {\n  credential: Credential.isRequired,\n  i18n: shape({}).isRequired,\n};\n\nexport { CredentialChip as _CredentialChip };\nexport default withI18n()(CredentialChip);\n","import React, { Fragment, useEffect, useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { shape } from 'prop-types';\nimport styled from 'styled-components';\nimport { Button, List, ListItem } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ChipGroup from '../../../components/ChipGroup';\nimport CodeMirrorInput from '../../../components/CodeMirrorInput';\nimport CredentialChip from '../../../components/CredentialChip';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { CredentialsAPI, CredentialTypesAPI } from '../../../api';\nimport { Credential } from '../../../types';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nconst PluginInputMetadata = styled(CodeMirrorInput)`\n  grid-column: 1 / -1;\n`;\n\nconst PluginFieldText = styled.p`\n  margin-top: 10px;\n`;\n\nfunction CredentialDetail({ i18n, credential }) {\n  const {\n    id: credentialId,\n    name,\n    description,\n    inputs,\n    created,\n    modified,\n    summary_fields: {\n      credential_type,\n      organization,\n      created_by,\n      modified_by,\n      user_capabilities,\n    },\n  } = credential;\n  const history = useHistory();\n\n  const {\n    result: { fields, managedByTower, inputSources },\n    request: fetchDetails,\n    isLoading: hasContentLoading,\n    error: contentError,\n  } = useRequest(\n    useCallback(async () => {\n      const [\n        {\n          data: { inputs: credentialTypeInputs, managed_by_tower },\n        },\n        {\n          data: { results: loadedInputSources },\n        },\n      ] = await Promise.all([\n        CredentialTypesAPI.readDetail(credential_type.id),\n        CredentialsAPI.readInputSources(credentialId),\n      ]);\n      return {\n        fields: credentialTypeInputs.fields || [],\n        managedByTower: managed_by_tower,\n        inputSources: loadedInputSources.reduce(\n          (inputSourcesMap, inputSource) => {\n            inputSourcesMap[inputSource.input_field_name] = inputSource;\n            return inputSourcesMap;\n          },\n          {}\n        ),\n      };\n    }, [credentialId, credential_type.id]),\n    {\n      fields: [],\n      managedByTower: true,\n      inputSources: {},\n    }\n  );\n\n  const {\n    request: deleteCredential,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await CredentialsAPI.destroy(credentialId);\n      history.push('/credentials');\n    }, [credentialId, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const renderDetail = ({ id, label, type, ask_at_runtime }) => {\n    if (inputSources[id]) {\n      return (\n        <Fragment key={id}>\n          <Detail\n            id={`credential-${id}-detail`}\n            fullWidth\n            label={<span>{label} *</span>}\n            value={\n              <ChipGroup numChips={1} totalChips={1}>\n                <CredentialChip\n                  credential={inputSources[id].summary_fields.source_credential}\n                  isReadOnly\n                />\n              </ChipGroup>\n            }\n          />\n          <PluginInputMetadata\n            id={`credential-${id}-metadata`}\n            mode=\"javascript\"\n            readOnly\n            value={JSON.stringify(inputSources[id].metadata, null, 2)}\n            onChange={() => {}}\n            rows={5}\n            hasErrors={false}\n          />\n        </Fragment>\n      );\n    }\n\n    if (type === 'boolean') {\n      return (\n        <Detail\n          id={`credential-${id}-detail`}\n          key={id}\n          label={i18n._(t`Options`)}\n          value={<List>{inputs[id] && <ListItem>{label}</ListItem>}</List>}\n        />\n      );\n    }\n\n    if (inputs[id] === '$encrypted$') {\n      return (\n        <Detail\n          id={`credential-${id}-detail`}\n          key={id}\n          label={label}\n          value={i18n._(t`Encrypted`)}\n          isEncrypted\n        />\n      );\n    }\n\n    if (ask_at_runtime && inputs[id] === 'ASK') {\n      return (\n        <Detail\n          id={`credential-${id}-detail`}\n          key={id}\n          label={label}\n          value={i18n._(t`Prompt on launch`)}\n        />\n      );\n    }\n\n    return (\n      <Detail\n        id={`credential-${id}-detail`}\n        key={id}\n        label={label}\n        value={inputs[id]}\n      />\n    );\n  };\n\n  useEffect(() => {\n    fetchDetails();\n  }, [fetchDetails]);\n\n  if (hasContentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          id=\"credential-name-detail\"\n          label={i18n._(t`名称`)}\n          value={name}\n        />\n        <Detail\n          id=\"credential-description-detail\"\n          label={i18n._(t`描述`)}\n          value={description}\n        />\n        {organization && (\n          <Detail\n            id=\"credential-organization-detail\"\n            label={i18n._(t`组织`)}\n            value={\n              <Link to={`/organizations/${organization.id}/details`}>\n                {organization.name}\n              </Link>\n            }\n          />\n        )}\n        <Detail\n          id=\"credential-credential_type-detail\"\n          label={i18n._(t`Credential Type`)}\n          value={\n            managedByTower ? (\n              credential_type.name\n            ) : (\n              <Link to={`/credential_types/${credential_type.id}/details`}>\n                {credential_type.name}\n              </Link>\n            )\n          }\n        />\n\n        {fields.map(field => renderDetail(field))}\n\n        <UserDateDetail\n          id=\"credential-created-detail\"\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={created_by}\n        />\n        <UserDateDetail\n          id=\"credential-last_modified-detail\"\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={modified_by}\n        />\n      </DetailList>\n      {Object.keys(inputSources).length > 0 && (\n        <PluginFieldText>\n          {i18n._(\n            t`* This field will be retrieved from an external secret management system using the specified credential.`\n          )}\n        </PluginFieldText>\n      )}\n      <CardActionsRow>\n        {user_capabilities.edit && (\n          <Button component={Link} to={`/credentials/${credentialId}/edit`}>\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {user_capabilities.delete && (\n          <DeleteButton\n            name={name}\n            modalTitle={i18n._(t`Delete Credential`)}\n            onConfirm={deleteCredential}\n            isLoading={isLoading}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete credential.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nCredentialDetail.propTypes = {\n  credential: Credential.isRequired,\n  i18n: shape({}).isRequired,\n};\n\nexport default withI18n()(CredentialDetail);\n","import React, { useState } from 'react';\nimport { useField } from 'formik';\nimport { bool, shape, string } from 'prop-types';\nimport {\n  FormGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport Popover from '../../../../components/Popover';\n\nfunction BecomeMethodField({ fieldOptions, isRequired }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [options, setOptions] = useState(\n    [\n      'sudo',\n      'su',\n      'pbrun',\n      'pfexec',\n      'dzdo',\n      'pmrun',\n      'runas',\n      'enable',\n      'doas',\n      'ksu',\n      'machinectl',\n      'sesu',\n    ].map(val => ({ value: val }))\n  );\n  const [becomeMethodField, meta, helpers] = useField({\n    name: `inputs.${fieldOptions.id}`,\n  });\n  return (\n    <FormGroup\n      fieldId={`credential-${fieldOptions.id}`}\n      helperTextInvalid={meta.error}\n      label={fieldOptions.label}\n      labelIcon={\n        fieldOptions.help_text && <Popover content={fieldOptions.help_text} />\n      }\n      isRequired={isRequired}\n      validated={!(meta.touched && meta.error) ? 'default' : 'error'}\n    >\n      <Select\n        maxHeight={200}\n        variant={SelectVariant.typeahead}\n        onToggle={setIsOpen}\n        onClear={() => {\n          helpers.setValue('');\n        }}\n        onSelect={(event, option) => {\n          helpers.setValue(option);\n          setIsOpen(false);\n        }}\n        isOpen={isOpen}\n        id=\"privilege-escalation-methods\"\n        selections={becomeMethodField.value}\n        isCreatable\n        onCreateOption={option => {\n          setOptions([...options, { value: option }]);\n        }}\n      >\n        {options.map(option => (\n          <SelectOption key={option.value} value={option.value} />\n        ))}\n      </Select>\n    </FormGroup>\n  );\n}\nBecomeMethodField.propTypes = {\n  fieldOptions: shape({\n    id: string.isRequired,\n    label: string.isRequired,\n  }).isRequired,\n  isRequired: bool,\n};\nBecomeMethodField.defaultProps = {\n  isRequired: false,\n};\n\nexport default BecomeMethodField;\n","import React from 'react';\nimport { func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Button, ButtonVariant, Tooltip } from '@patternfly/react-core';\nimport { KeyIcon } from '@patternfly/react-icons';\nimport CredentialChip from '../../../../components/CredentialChip';\nimport { Credential } from '../../../../types';\n\nconst SelectedCredential = styled.div`\n  display: flex;\n  justify-content: space-between;\n  background-color: white;\n  border-bottom-color: var(--pf-global--BorderColor--200);\n`;\n\nconst SpacedCredentialChip = styled(CredentialChip)`\n  margin: 5px 8px;\n`;\n\nconst PluginHelpText = styled.p`\n  margin-top: 5px;\n`;\n\nfunction CredentialPluginSelected({\n  i18n,\n  credential,\n  onEditPlugin,\n  onClearPlugin,\n}) {\n  return (\n    <>\n      <SelectedCredential>\n        <SpacedCredentialChip onClick={onClearPlugin} credential={credential} />\n        <Tooltip\n          content={i18n._(t`Edit Credential Plugin Configuration`)}\n          position=\"top\"\n        >\n          <Button\n            aria-label={i18n._(t`Edit Credential Plugin Configuration`)}\n            onClick={onEditPlugin}\n            variant={ButtonVariant.control}\n          >\n            <KeyIcon />\n          </Button>\n        </Tooltip>\n      </SelectedCredential>\n      <PluginHelpText>\n        <Trans>\n          This field will be retrieved from an external secret management system\n          using the specified credential.\n        </Trans>\n      </PluginHelpText>\n    </>\n  );\n}\n\nCredentialPluginSelected.propTypes = {\n  credential: Credential.isRequired,\n  onEditPlugin: func,\n  onClearPlugin: func,\n};\n\nCredentialPluginSelected.defaultProps = {\n  onEditPlugin: () => {},\n  onClearPlugin: () => {},\n};\n\nexport default withI18n()(CredentialPluginSelected);\n","import React from 'react';\nimport { bool, node, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { CheckboxField } from '../FormField';\nimport Popover from '../Popover';\n\nconst FieldHeader = styled.div`\n  display: flex;\n  padding-bottom: var(--pf-c-form__group-label--PaddingBottom);\n`;\n\nconst StyledCheckboxField = styled(CheckboxField)`\n  --pf-c-check__label--FontSize: var(--pf-c-form__label--FontSize);\n  margin-left: auto;\n`;\n\nfunction FieldWithPrompt({\n  children,\n  fieldId,\n  i18n,\n  isRequired,\n  label,\n  promptId,\n  promptName,\n  tooltip,\n  isDisabled,\n}) {\n  return (\n    <div className=\"pf-c-form__group\">\n      <FieldHeader>\n        <div>\n          <label className=\"pf-c-form__label\" htmlFor={fieldId}>\n            <span className=\"pf-c-form__label-text\">{label}</span>\n            {isRequired && (\n              <span className=\"pf-c-form__label-required\" aria-hidden=\"true\">\n                *\n              </span>\n            )}\n          </label>\n          {tooltip && <Popover content={tooltip} id={fieldId} />}\n        </div>\n        <StyledCheckboxField\n          isDisabled={isDisabled}\n          id={promptId}\n          label={i18n._(t`Prompt on launch`)}\n          name={promptName}\n        />\n      </FieldHeader>\n      {children}\n    </div>\n  );\n}\n\nFieldWithPrompt.propTypes = {\n  fieldId: string.isRequired,\n  isRequired: bool,\n  label: string.isRequired,\n  promptId: string.isRequired,\n  promptName: string.isRequired,\n  tooltip: node,\n};\n\nFieldWithPrompt.defaultProps = {\n  isRequired: false,\n  tooltip: null,\n};\n\nexport default withI18n()(FieldWithPrompt);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { CredentialsAPI } from '../../../../../api';\nimport CheckboxListItem from '../../../../../components/CheckboxListItem';\nimport ContentError from '../../../../../components/ContentError';\nimport DataListToolbar from '../../../../../components/DataListToolbar';\nimport PaginatedDataList from '../../../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../../../util/qs';\nimport useRequest from '../../../../../util/useRequest';\n\nconst QS_CONFIG = getQSConfig('credential', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n  credential_type__kind: 'external',\n});\n\nfunction CredentialsStep({ i18n }) {\n  const [selectedCredential, , selectedCredentialHelper] = useField(\n    'credential'\n  );\n  const history = useHistory();\n\n  const {\n    result: { credentials, count, relatedSearchableKeys, searchableKeys },\n    error: credentialsError,\n    isLoading: isCredentialsLoading,\n    request: fetchCredentials,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        CredentialsAPI.read({ ...params }),\n        CredentialsAPI.readOptions(),\n      ]);\n      return {\n        credentials: data.results,\n        count: data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [history.location.search]),\n    { credentials: [], count: 0, relatedSearchableKeys: [], searchableKeys: [] }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  if (credentialsError) {\n    return <ContentError error={credentialsError} />;\n  }\n\n  return (\n    <PaginatedDataList\n      contentError={credentialsError}\n      hasContentLoading={isCredentialsLoading}\n      itemCount={count}\n      items={credentials}\n      onRowClick={row => selectedCredentialHelper.setValue(row)}\n      qsConfig={QS_CONFIG}\n      renderItem={credential => (\n        <CheckboxListItem\n          isSelected={selectedCredential?.value?.id === credential.id}\n          itemId={credential.id}\n          key={credential.id}\n          name={credential.name}\n          label={credential.name}\n          onSelect={() => selectedCredentialHelper.setValue(credential)}\n          onDeselect={() => selectedCredentialHelper.setValue(null)}\n          isRadio\n        />\n      )}\n      renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n      showPageSizeOptions={false}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n    />\n  );\n}\n\nexport default withI18n()(CredentialsStep);\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useField, useFormikContext } from 'formik';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport { CredentialTypesAPI } from '../../../../../api';\nimport AnsibleSelect from '../../../../../components/AnsibleSelect';\nimport ContentError from '../../../../../components/ContentError';\nimport ContentLoading from '../../../../../components/ContentLoading';\nimport FormField from '../../../../../components/FormField';\nimport { FormFullWidthLayout } from '../../../../../components/FormLayout';\nimport Popover from '../../../../../components/Popover';\nimport useRequest from '../../../../../util/useRequest';\nimport { required } from '../../../../../util/validators';\n\nfunction MetadataStep({ i18n }) {\n  const form = useFormikContext();\n  const [selectedCredential] = useField('credential');\n  const [inputValues] = useField('inputs');\n\n  const {\n    result: fields,\n    error,\n    isLoading,\n    request: fetchMetadataOptions,\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: {\n          inputs: { required: requiredFields, metadata },\n        },\n      } = await CredentialTypesAPI.readDetail(\n        selectedCredential.value.credential_type ||\n          selectedCredential.value.credential_type_id\n      );\n      metadata.forEach(field => {\n        if (inputValues.value[field.id]) {\n          form.initialValues.inputs[field.id] = inputValues.value[field.id];\n        } else if (field.type === 'string' && field.choices) {\n          form.initialValues.inputs[field.id] =\n            field.default || field.choices[0];\n        } else {\n          form.initialValues.inputs[field.id] = '';\n        }\n        if (requiredFields && requiredFields.includes(field.id)) {\n          field.required = true;\n        }\n      });\n      return metadata;\n      /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, []),\n    []\n  );\n\n  useEffect(() => {\n    fetchMetadataOptions();\n  }, [fetchMetadataOptions]);\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  return (\n    <>\n      {fields.length > 0 && (\n        <Form>\n          <FormFullWidthLayout>\n            {fields.map(field => {\n              if (field.type === 'string') {\n                if (field.choices) {\n                  return (\n                    <FormGroup\n                      key={field.id}\n                      fieldId={`credential-${field.id}`}\n                      label={field.label}\n                      isRequired={field.required}\n                      labelIcon={\n                        field.help_text && <Popover content={field.help_text} />\n                      }\n                    >\n                      <AnsibleSelect\n                        name={`inputs.${field.id}`}\n                        value={form.values.inputs[field.id]}\n                        id={`credential-${field.id}`}\n                        data={field.choices.map(choice => {\n                          return {\n                            value: choice,\n                            key: choice,\n                            label: choice,\n                          };\n                        })}\n                        onChange={(event, value) => {\n                          form.setFieldValue(`inputs.${field.id}`, value);\n                        }}\n                        validate={field.required ? required(null, i18n) : null}\n                      />\n                    </FormGroup>\n                  );\n                }\n\n                return (\n                  <FormField\n                    key={field.id}\n                    id={`credential-${field.id}`}\n                    label={field.label}\n                    tooltip={field.help_text}\n                    name={`inputs.${field.id}`}\n                    type={field.multiline ? 'textarea' : 'text'}\n                    isRequired={field.required}\n                    validate={field.required ? required(null, i18n) : null}\n                  />\n                );\n              }\n\n              return null;\n            })}\n          </FormFullWidthLayout>\n        </Form>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(MetadataStep);\n","import React, { useCallback } from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik, useField } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  Tooltip,\n  Wizard,\n  WizardContextConsumer,\n  WizardFooter,\n} from '@patternfly/react-core';\nimport CredentialsStep from './CredentialsStep';\nimport MetadataStep from './MetadataStep';\nimport { CredentialsAPI } from '../../../../../api';\nimport useRequest from '../../../../../util/useRequest';\nimport { CredentialPluginTestAlert } from '..';\n\nfunction CredentialPluginWizard({ i18n, handleSubmit, onClose }) {\n  const [selectedCredential] = useField('credential');\n  const [inputValues] = useField('inputs');\n\n  const {\n    result: testPluginSuccess,\n    error: testPluginError,\n    request: testPluginMetadata,\n  } = useRequest(\n    useCallback(\n      async () =>\n        CredentialsAPI.test(selectedCredential.value.id, {\n          metadata: inputValues.value,\n        }),\n      [selectedCredential, inputValues]\n    ),\n    null\n  );\n\n  const steps = [\n    {\n      id: 1,\n      name: i18n._(t`Credential`),\n      key: 'credential',\n      component: <CredentialsStep />,\n      enableNext: !!selectedCredential.value,\n    },\n    {\n      id: 2,\n      name: i18n._(t`Metadata`),\n      key: 'metadata',\n      component: <MetadataStep />,\n      canJumpTo: !!selectedCredential.value,\n    },\n  ];\n\n  const CustomFooter = (\n    <WizardFooter>\n      <WizardContextConsumer>\n        {({ activeStep, onNext, onBack }) => (\n          <>\n            <Button\n              id=\"credential-plugin-prompt-next\"\n              variant=\"primary\"\n              onClick={onNext}\n              isDisabled={!selectedCredential.value}\n            >\n              {activeStep.key === 'metadata' ? i18n._(t`OK`) : i18n._(t`Next`)}\n            </Button>\n            {activeStep && activeStep.key === 'metadata' && (\n              <>\n                <Tooltip\n                  content={i18n._(\n                    t`Click this button to verify connection to the secret management system using the selected credential and specified inputs.`\n                  )}\n                  position=\"right\"\n                >\n                  <Button\n                    id=\"credential-plugin-prompt-test\"\n                    variant=\"secondary\"\n                    onClick={() => testPluginMetadata()}\n                  >\n                    {i18n._(t`Test`)}\n                  </Button>\n                </Tooltip>\n\n                <Button\n                  id=\"credential-plugin-prompt-back\"\n                  variant=\"secondary\"\n                  onClick={onBack}\n                >\n                  {i18n._(t`返回`)}\n                </Button>\n              </>\n            )}\n            <Button\n              id=\"credential-plugin-prompt-cancel\"\n              variant=\"link\"\n              onClick={onClose}\n            >\n              {i18n._(t`取消`)}\n            </Button>\n          </>\n        )}\n      </WizardContextConsumer>\n    </WizardFooter>\n  );\n\n  return (\n    <>\n      <Wizard\n        isOpen\n        onClose={onClose}\n        title={i18n._(t`External Secret Management System`)}\n        steps={steps}\n        onSave={handleSubmit}\n        footer={CustomFooter}\n      />\n      {selectedCredential.value && (\n        <CredentialPluginTestAlert\n          credentialName={selectedCredential.value.name}\n          successResponse={testPluginSuccess}\n          errorResponse={testPluginError}\n        />\n      )}\n    </>\n  );\n}\n\nfunction CredentialPluginPrompt({ i18n, onClose, onSubmit, initialValues }) {\n  return (\n    <Formik\n      initialValues={{\n        credential: initialValues?.credential || null,\n        inputs: initialValues?.inputs || {},\n      }}\n      onSubmit={onSubmit}\n    >\n      {({ handleSubmit }) => (\n        <CredentialPluginWizard\n          handleSubmit={handleSubmit}\n          i18n={i18n}\n          onClose={onClose}\n        />\n      )}\n    </Formik>\n  );\n}\n\nCredentialPluginPrompt.propTypes = {\n  onClose: func.isRequired,\n  onSubmit: func.isRequired,\n  initialValues: shape({}),\n};\n\nCredentialPluginPrompt.defaultProps = {\n  initialValues: {},\n};\n\nexport default withI18n()(CredentialPluginPrompt);\n","import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport {\n  Button,\n  ButtonVariant,\n  FormGroup,\n  InputGroup,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { KeyIcon } from '@patternfly/react-icons';\nimport FieldWithPrompt from '../../../../components/FieldWithPrompt';\nimport Popover from '../../../../components/Popover';\nimport { CredentialPluginPrompt } from './CredentialPluginPrompt';\nimport CredentialPluginSelected from './CredentialPluginSelected';\n\nfunction CredentialPluginInput(props) {\n  const {\n    children,\n    i18n,\n    isDisabled,\n    isRequired,\n    isValid,\n    fieldOptions,\n  } = props;\n\n  const [showPluginWizard, setShowPluginWizard] = useState(false);\n  const [inputField, , helpers] = useField(`inputs.${fieldOptions.id}`);\n  const [passwordPromptField] = useField(`passwordPrompts.${fieldOptions.id}`);\n\n  return (\n    <>\n      {inputField?.value?.credential ? (\n        <CredentialPluginSelected\n          credential={inputField?.value?.credential}\n          onClearPlugin={() => helpers.setValue('')}\n          onEditPlugin={() => setShowPluginWizard(true)}\n        />\n      ) : (\n        <InputGroup>\n          {React.cloneElement(children, {\n            ...inputField,\n            isRequired,\n            validated: isValid ? 'default' : 'error',\n            isDisabled: !!passwordPromptField.value,\n            onChange: (_, event) => {\n              inputField.onChange(event);\n            },\n          })}\n          <Tooltip\n            content={i18n._(\n              t`Populate field from an external secret management system`\n            )}\n          >\n            <Button\n              id={`credential-${fieldOptions.id}-external-button`}\n              variant={ButtonVariant.control}\n              aria-label={i18n._(\n                t`Populate field from an external secret management system`\n              )}\n              onClick={() => setShowPluginWizard(true)}\n              isDisabled={isDisabled || !!passwordPromptField.value}\n            >\n              <KeyIcon />\n            </Button>\n          </Tooltip>\n        </InputGroup>\n      )}\n      {showPluginWizard && (\n        <CredentialPluginPrompt\n          initialValues={\n            typeof inputField.value === 'object' ? inputField.value : {}\n          }\n          onClose={() => setShowPluginWizard(false)}\n          onSubmit={val => {\n            val.touched = true;\n            helpers.setValue(val);\n            setShowPluginWizard(false);\n          }}\n        />\n      )}\n    </>\n  );\n}\n\nfunction CredentialPluginField(props) {\n  const { fieldOptions, isRequired, isValid } = props;\n\n  const [, meta, helpers] = useField(`inputs.${fieldOptions.id}`);\n  const [passwordPromptField] = useField(`passwordPrompts.${fieldOptions.id}`);\n\n  useEffect(() => {\n    if (passwordPromptField.value) {\n      helpers.setValue('');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [passwordPromptField.value]);\n\n  return (\n    <>\n      {fieldOptions.ask_at_runtime ? (\n        <FieldWithPrompt\n          fieldId={`credential-${fieldOptions.id}`}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          label={fieldOptions.label}\n          promptId={`credential-prompt-${fieldOptions.id}`}\n          promptName={`passwordPrompts.${fieldOptions.id}`}\n          tooltip={fieldOptions.help_text}\n        >\n          <CredentialPluginInput {...props} />\n          {meta.error && meta.touched && (\n            <div\n              className=\"pf-c-form__helper-text pf-m-error\"\n              id={`${fieldOptions.id}-helper`}\n              aria-live=\"polite\"\n            >\n              {meta.error}\n            </div>\n          )}\n        </FieldWithPrompt>\n      ) : (\n        <FormGroup\n          fieldId={`credential-${fieldOptions.id}`}\n          helperTextInvalid={meta.error}\n          isRequired={isRequired}\n          validated={isValid ? 'default' : 'error'}\n          label={fieldOptions.label}\n          labelIcon={\n            fieldOptions.help_text && (\n              <Popover content={fieldOptions.help_text} />\n            )\n          }\n        >\n          <CredentialPluginInput {...props} />\n        </FormGroup>\n      )}\n    </>\n  );\n}\n\nCredentialPluginField.propTypes = {\n  fieldOptions: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    label: PropTypes.string.isRequired,\n  }).isRequired,\n  isDisabled: PropTypes.bool,\n  isRequired: PropTypes.bool,\n};\n\nCredentialPluginField.defaultProps = {\n  isDisabled: false,\n  isRequired: false,\n};\n\nexport default withI18n()(CredentialPluginField);\n","import React, { useEffect, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { string, shape } from 'prop-types';\nimport {\n  Alert,\n  AlertActionCloseButton,\n  AlertGroup,\n} from '@patternfly/react-core';\n\nfunction CredentialPluginTestAlert({\n  i18n,\n  credentialName,\n  successResponse,\n  errorResponse,\n}) {\n  const [testMessage, setTestMessage] = useState('');\n  const [testVariant, setTestVariant] = useState(false);\n  useEffect(() => {\n    if (errorResponse) {\n      if (errorResponse?.response?.data?.inputs) {\n        if (errorResponse.response.data.inputs.startsWith('HTTP')) {\n          const [\n            errorCode,\n            errorStr,\n          ] = errorResponse.response.data.inputs.split('\\n');\n          try {\n            const errorJSON = JSON.parse(errorStr);\n            setTestMessage(\n              `${errorCode}${\n                errorJSON?.errors[0] ? `: ${errorJSON.errors[0]}` : ''\n              }`\n            );\n          } catch {\n            setTestMessage(errorResponse.response.data.inputs);\n          }\n        } else {\n          setTestMessage(errorResponse.response.data.inputs);\n        }\n      } else {\n        setTestMessage(\n          i18n._(\n            t`Something went wrong with the request to test this credential and metadata.`\n          )\n        );\n      }\n      setTestVariant('danger');\n    } else if (successResponse) {\n      setTestMessage(i18n._(t`Test passed`));\n      setTestVariant('success');\n    }\n  }, [i18n, successResponse, errorResponse]);\n\n  return (\n    <AlertGroup isToast>\n      {testMessage && testVariant && (\n        <Alert\n          actionClose={\n            <AlertActionCloseButton\n              onClose={() => {\n                setTestMessage(null);\n                setTestVariant(null);\n              }}\n            />\n          }\n          title={\n            <>\n              <b id=\"credential-plugin-test-name\">{credentialName}</b>\n              <p id=\"credential-plugin-test-message\">{testMessage}</p>\n            </>\n          }\n          variant={testVariant}\n        />\n      )}\n    </AlertGroup>\n  );\n}\n\nCredentialPluginTestAlert.propTypes = {\n  credentialName: string.isRequired,\n  successResponse: shape({}),\n  errorResponse: shape({}),\n};\n\nCredentialPluginTestAlert.defaultProps = {\n  successResponse: null,\n  errorResponse: null,\n};\n\nexport default withI18n()(CredentialPluginTestAlert);\n","import React, { useState } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { shape, string } from 'prop-types';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  FileUpload as PFFileUpload,\n  FormGroup,\n  InputGroup,\n  TextInput,\n} from '@patternfly/react-core';\nimport { PasswordInput } from '../../../../components/FormField';\nimport AnsibleSelect from '../../../../components/AnsibleSelect';\nimport Popover from '../../../../components/Popover';\nimport { CredentialType } from '../../../../types';\nimport { required } from '../../../../util/validators';\nimport { CredentialPluginField } from '../CredentialPlugins';\nimport BecomeMethodField from './BecomeMethodField';\n\nconst FileUpload = styled(PFFileUpload)`\n  flex-grow: 1;\n`;\n\nfunction CredentialInput({ fieldOptions, credentialKind, ...rest }) {\n  const [fileName, setFileName] = useState('');\n  const [fileIsUploading, setFileIsUploading] = useState(false);\n  const [subFormField, meta, helpers] = useField(`inputs.${fieldOptions.id}`);\n  const isValid = !(meta.touched && meta.error);\n  if (fieldOptions.multiline) {\n    const handleFileChange = (value, filename) => {\n      helpers.setValue(value);\n      setFileName(filename);\n    };\n\n    return (\n      <FileUpload\n        {...subFormField}\n        id={`credential-${fieldOptions.id}`}\n        type=\"text\"\n        filename={fileName}\n        onChange={handleFileChange}\n        onReadStarted={() => setFileIsUploading(true)}\n        onReadFinished={() => setFileIsUploading(false)}\n        isLoading={fileIsUploading}\n        allowEditingUploadedText\n        validated={isValid ? 'default' : 'error'}\n      />\n    );\n  }\n  if (fieldOptions.secret) {\n    const passwordInput = () => (\n      <PasswordInput\n        {...subFormField}\n        id={`credential-${fieldOptions.id}`}\n        {...rest}\n      />\n    );\n    return credentialKind === 'external' ? (\n      <InputGroup>{passwordInput()}</InputGroup>\n    ) : (\n      passwordInput()\n    );\n  }\n  return (\n    <TextInput\n      {...subFormField}\n      id={`credential-${fieldOptions.id}`}\n      onChange={(value, event) => {\n        subFormField.onChange(event);\n      }}\n      validated={isValid ? 'default' : 'error'}\n    />\n  );\n}\n\nCredentialInput.propTypes = {\n  fieldOptions: shape({\n    id: string.isRequired,\n    label: string.isRequired,\n  }).isRequired,\n  credentialKind: string,\n};\n\nCredentialInput.defaultProps = {\n  credentialKind: '',\n};\n\nfunction CredentialField({ credentialType, fieldOptions, i18n }) {\n  const { values: formikValues } = useFormikContext();\n  const requiredFields = credentialType?.inputs?.required || [];\n  const isRequired = requiredFields.includes(fieldOptions.id);\n  const validateField = () => {\n    if (isRequired && !formikValues?.passwordPrompts[fieldOptions.id]) {\n      const validationMsg = fieldOptions.ask_at_runtime\n        ? i18n._(\n            t`Provide a value for this field or select the Prompt on launch option.`\n          )\n        : null;\n      return required(validationMsg, i18n);\n    }\n    return null;\n  };\n  const [subFormField, meta, helpers] = useField({\n    name: `inputs.${fieldOptions.id}`,\n    validate: validateField(),\n  });\n  const isValid = !(meta.touched && meta.error);\n\n  if (fieldOptions.choices) {\n    const selectOptions = fieldOptions.choices.map(choice => {\n      return {\n        value: choice,\n        key: choice,\n        label: choice,\n      };\n    });\n    return (\n      <FormGroup\n        fieldId={`credential-${fieldOptions.id}`}\n        helperTextInvalid={meta.error}\n        label={fieldOptions.label}\n        isRequired={isRequired}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <AnsibleSelect\n          {...subFormField}\n          id={`credential-${fieldOptions.id}`}\n          data={selectOptions}\n          onChange={(event, value) => {\n            helpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n    );\n  }\n  if (credentialType.kind === 'external') {\n    return (\n      <FormGroup\n        fieldId={`credential-${fieldOptions.id}`}\n        helperTextInvalid={meta.error}\n        label={fieldOptions.label}\n        labelIcon={\n          fieldOptions.help_text && <Popover content={fieldOptions.help_text} />\n        }\n        isRequired={isRequired}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <CredentialInput\n          credentialKind={credentialType.kind}\n          fieldOptions={fieldOptions}\n        />\n      </FormGroup>\n    );\n  }\n  if (credentialType.kind === 'ssh' && fieldOptions.id === 'become_method') {\n    return (\n      <BecomeMethodField fieldOptions={fieldOptions} isRequired={isRequired} />\n    );\n  }\n  return (\n    <CredentialPluginField\n      fieldOptions={fieldOptions}\n      isRequired={isRequired}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <CredentialInput fieldOptions={fieldOptions} />\n    </CredentialPluginField>\n  );\n}\n\nCredentialField.propTypes = {\n  credentialType: CredentialType.isRequired,\n  fieldOptions: shape({\n    id: string.isRequired,\n    label: string.isRequired,\n  }).isRequired,\n};\n\nCredentialField.defaultProps = {};\n\nexport default withI18n()(CredentialField);\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { FileUpload, FormGroup } from '@patternfly/react-core';\n\nfunction GceFileUploadField({ i18n }) {\n  const [fileError, setFileError] = useState(null);\n  const [filename, setFilename] = useState('');\n  const [file, setFile] = useState('');\n  const [, , inputsUsernameHelpers] = useField({\n    name: 'inputs.username',\n  });\n  const [, , inputsProjectHelpers] = useField({\n    name: 'inputs.project',\n  });\n  const [, , inputsSSHKeyDataHelpers] = useField({\n    name: 'inputs.ssh_key_data',\n  });\n  return (\n    <FormGroup\n      fieldId=\"credential-gce-file\"\n      validated={!fileError ? 'default' : 'error'}\n      label={i18n._(t`Service account JSON file`)}\n      helperText={i18n._(\n        t`Select a JSON formatted service account key to autopopulate the following fields.`\n      )}\n      helperTextInvalid={fileError}\n    >\n      <FileUpload\n        id=\"credential-gce-file\"\n        value={file}\n        filename={filename}\n        filenamePlaceholder={i18n._(t`Choose a .json file`)}\n        onChange={async value => {\n          if (value) {\n            try {\n              setFile(value);\n              setFilename(value.name);\n              const fileText = await value.text();\n              const fileJSON = JSON.parse(fileText);\n              if (\n                !fileJSON.client_email &&\n                !fileJSON.project_id &&\n                !fileJSON.private_key\n              ) {\n                setFileError(\n                  i18n._(\n                    t`Expected at least one of client_email, project_id or private_key to be present in the file.`\n                  )\n                );\n              } else {\n                inputsUsernameHelpers.setValue(fileJSON.client_email || '');\n                inputsProjectHelpers.setValue(fileJSON.project_id || '');\n                inputsSSHKeyDataHelpers.setValue(fileJSON.private_key || '');\n                setFileError(null);\n              }\n            } catch {\n              setFileError(\n                i18n._(\n                  t`There was an error parsing the file. Please check the file formatting and try again.`\n                )\n              );\n            }\n          } else {\n            setFile('');\n            setFilename('');\n            inputsUsernameHelpers.setValue('');\n            inputsProjectHelpers.setValue('');\n            inputsSSHKeyDataHelpers.setValue('');\n            setFileError(null);\n          }\n        }}\n        dropzoneProps={{\n          accept: '.json',\n          onDropRejected: () => {\n            setFileError(\n              i18n._(\n                t`File upload rejected. Please select a single .json file.`\n              )\n            );\n          },\n        }}\n      />\n    </FormGroup>\n  );\n}\n\nexport default withI18n()(GceFileUploadField);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup, Title } from '@patternfly/react-core';\nimport {\n  FormCheckboxLayout,\n  FormColumnLayout,\n  FormFullWidthLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport { CheckboxField } from '../../../components/FormField';\nimport { CredentialType } from '../../../types';\nimport { CredentialField, GceFileUploadField } from './CredentialFormFields';\n\nfunction TypeInputsSubForm({ credentialType, i18n }) {\n  const stringFields = credentialType.inputs.fields.filter(\n    fieldOptions => fieldOptions.type === 'string' || fieldOptions.choices\n  );\n  const booleanFields = credentialType.inputs.fields.filter(\n    fieldOptions => fieldOptions.type === 'boolean'\n  );\n  return (\n    <SubFormLayout>\n      <Title size=\"md\" headingLevel=\"h4\">\n        {i18n._(t`Type Details`)}\n      </Title>\n      <FormColumnLayout>\n        {credentialType.namespace === 'gce' && <GceFileUploadField />}\n        {stringFields.map(fieldOptions =>\n          fieldOptions.multiline ? (\n            <FormFullWidthLayout key={fieldOptions.id}>\n              <CredentialField\n                credentialType={credentialType}\n                fieldOptions={fieldOptions}\n              />\n            </FormFullWidthLayout>\n          ) : (\n            <CredentialField\n              key={fieldOptions.id}\n              credentialType={credentialType}\n              fieldOptions={fieldOptions}\n            />\n          )\n        )}\n        {booleanFields.length > 0 && (\n          <FormFullWidthLayout>\n            <FormGroup\n              fieldId=\"credential-checkboxes\"\n              label={i18n._(t`Options`)}\n            >\n              <FormCheckboxLayout>\n                {booleanFields.map(fieldOptions => (\n                  <CheckboxField\n                    id={`credential-${fieldOptions.id}`}\n                    key={fieldOptions.id}\n                    name={`inputs.${fieldOptions.id}`}\n                    label={fieldOptions.label}\n                    tooltip={fieldOptions.help_text}\n                  />\n                ))}\n              </FormCheckboxLayout>\n            </FormGroup>\n          </FormFullWidthLayout>\n        )}\n      </FormColumnLayout>\n    </SubFormLayout>\n  );\n}\n\nTypeInputsSubForm.propTypes = {\n  credentialType: CredentialType.isRequired,\n};\n\nTypeInputsSubForm.defaultProps = {};\n\nexport default withI18n()(TypeInputsSubForm);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport { Formik } from 'formik';\nimport { Button, Form, FormGroup, Modal } from '@patternfly/react-core';\nimport { CredentialsAPI, CredentialTypesAPI } from '../../../api';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport FormField from '../../../components/FormField';\nimport { FormFullWidthLayout } from '../../../components/FormLayout';\nimport Popover from '../../../components/Popover';\nimport { required } from '../../../util/validators';\nimport useRequest from '../../../util/useRequest';\nimport { CredentialPluginTestAlert } from './CredentialPlugins';\n\nfunction ExternalTestModal({\n  i18n,\n  credential,\n  credentialType,\n  credentialFormValues,\n  onClose,\n}) {\n  const {\n    result: testPluginSuccess,\n    error: testPluginError,\n    request: testPluginMetadata,\n  } = useRequest(\n    useCallback(\n      async values => {\n        const payload = {\n          inputs: credentialType.inputs.fields.reduce(\n            (filteredInputs, field) => {\n              filteredInputs[field.id] = credentialFormValues.inputs[field.id];\n              return filteredInputs;\n            },\n            {}\n          ),\n          metadata: values,\n        };\n\n        if (credential && credential.credential_type === credentialType.id) {\n          return CredentialsAPI.test(credential.id, payload);\n        }\n        return CredentialTypesAPI.test(credentialType.id, payload);\n      },\n      [\n        credential,\n        credentialType.id,\n        credentialType.inputs.fields,\n        credentialFormValues.inputs,\n      ]\n    ),\n    null\n  );\n\n  const handleTest = async values => {\n    await testPluginMetadata(values);\n  };\n\n  return (\n    <>\n      <Formik\n        initialValues={credentialType.inputs.metadata.reduce(\n          (initialValues, field) => {\n            if (field.type === 'string' && field.choices) {\n              initialValues[field.id] = field.default || field.choices[0];\n            } else {\n              initialValues[field.id] = '';\n            }\n            return initialValues;\n          },\n          {}\n        )}\n        onSubmit={values => handleTest(values)}\n      >\n        {({ handleSubmit, setFieldValue }) => (\n          <Modal\n            title={i18n._(t`Test External Credential`)}\n            isOpen\n            onClose={() => onClose()}\n            variant=\"small\"\n            actions={[\n              <Button\n                id=\"run-external-credential-test\"\n                key=\"confirm\"\n                variant=\"primary\"\n                onClick={() => handleSubmit()}\n              >\n                {i18n._(t`Run`)}\n              </Button>,\n              <Button\n                id=\"cancel-external-credential-test\"\n                key=\"cancel\"\n                variant=\"link\"\n                onClick={() => onClose()}\n              >\n                {i18n._(t`取消`)}\n              </Button>,\n            ]}\n          >\n            <Form>\n              <FormFullWidthLayout>\n                {credentialType.inputs.metadata.map(field => {\n                  const isRequired = credentialType.inputs?.required.includes(\n                    field.id\n                  );\n                  if (field.type === 'string') {\n                    if (field.choices) {\n                      return (\n                        <FormGroup\n                          key={field.id}\n                          fieldId={`credential-${field.id}`}\n                          label={field.label}\n                          labelIcon={\n                            field.help_text && (\n                              <Popover content={field.help_text} />\n                            )\n                          }\n                          isRequired={isRequired}\n                        >\n                          <AnsibleSelect\n                            name={field.id}\n                            value={field.default}\n                            id={`credential-${field.id}`}\n                            data={field.choices.map(choice => {\n                              return {\n                                value: choice,\n                                key: choice,\n                                label: choice,\n                              };\n                            })}\n                            onChange={(event, value) => {\n                              setFieldValue(field.id, value);\n                            }}\n                            validate={isRequired ? required(null, i18n) : null}\n                          />\n                        </FormGroup>\n                      );\n                    }\n\n                    return (\n                      <FormField\n                        key={field.id}\n                        id={`credential-${field.id}`}\n                        label={field.label}\n                        tooltip={field.help_text}\n                        name={field.id}\n                        type={field.multiline ? 'textarea' : 'text'}\n                        isRequired={isRequired}\n                        validate={isRequired ? required(null, i18n) : null}\n                      />\n                    );\n                  }\n\n                  return null;\n                })}\n              </FormFullWidthLayout>\n            </Form>\n          </Modal>\n        )}\n      </Formik>\n      <CredentialPluginTestAlert\n        credentialName={credentialFormValues.name}\n        successResponse={testPluginSuccess}\n        errorResponse={testPluginError}\n      />\n    </>\n  );\n}\n\nExternalTestModal.proptype = {\n  credential: shape({}),\n  credentialType: shape({}).isRequired,\n  credentialFormValues: shape({}).isRequired,\n  onClose: func.isRequired,\n};\n\nExternalTestModal.defaultProps = {\n  credential: null,\n};\n\nexport default withI18n()(ExternalTestModal);\n","import React, { useCallback, useState } from 'react';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { arrayOf, func, object, shape } from 'prop-types';\nimport { ActionGroup, Button, Form, FormGroup } from '@patternfly/react-core';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../components/FormLayout';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport { required } from '../../../util/validators';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport TypeInputsSubForm from './TypeInputsSubForm';\nimport ExternalTestModal from './ExternalTestModal';\n\nfunction CredentialFormFields({\n  i18n,\n  credentialTypes,\n  formik,\n  initialValues,\n}) {\n  const { setFieldValue } = useFormikContext();\n\n  const [credTypeField, credTypeMeta, credTypeHelpers] = useField({\n    name: 'credential_type',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const isGalaxyCredential =\n    !!credTypeField.value &&\n    credentialTypes[credTypeField.value].kind === 'galaxy';\n\n  const [orgField, orgMeta, orgHelpers] = useField({\n    name: 'organization',\n    validate:\n      isGalaxyCredential &&\n      required(\n        i18n._(t`Galaxy credentials must be owned by an Organization.`),\n        i18n\n      ),\n  });\n\n  const credentialTypeOptions = Object.keys(credentialTypes)\n    .map(key => {\n      return {\n        value: credentialTypes[key].id,\n        key: credentialTypes[key].id,\n        label: credentialTypes[key].name,\n      };\n    })\n    .sort((a, b) => (a.label.toLowerCase() > b.label.toLowerCase() ? 1 : -1));\n\n  const resetSubFormFields = (newCredentialType, form) => {\n    const fields = credentialTypes[newCredentialType].inputs.fields || [];\n    fields.forEach(\n      ({ ask_at_runtime, type, id, choices, default: defaultValue }) => {\n        if (\n          parseInt(newCredentialType, 10) === form.initialValues.credential_type\n        ) {\n          form.setFieldValue(`inputs.${id}`, initialValues.inputs[id]);\n          if (ask_at_runtime) {\n            form.setFieldValue(\n              `passwordPrompts.${id}`,\n              initialValues.passwordPrompts[id]\n            );\n          }\n        } else {\n          switch (type) {\n            case 'string':\n              form.setFieldValue(`inputs.${id}`, defaultValue || '');\n              break;\n            case 'boolean':\n              form.setFieldValue(`inputs.${id}`, defaultValue || false);\n              break;\n            default:\n              break;\n          }\n\n          if (choices) {\n            form.setFieldValue(`inputs.${id}`, defaultValue);\n          }\n\n          if (ask_at_runtime) {\n            form.setFieldValue(`passwordPrompts.${id}`, false);\n          }\n        }\n        form.setFieldTouched(`inputs.${id}`, false);\n      }\n    );\n  };\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"credential-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"credential-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={orgMeta.error}\n        isValid={!orgMeta.touched || !orgMeta.error}\n        onBlur={() => orgHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={orgField.value}\n        touched={orgMeta.touched}\n        error={orgMeta.error}\n        required={isGalaxyCredential}\n      />\n      <FormGroup\n        fieldId=\"credential-Type\"\n        helperTextInvalid={credTypeMeta.error}\n        isRequired\n        validated={\n          !credTypeMeta.touched || !credTypeMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Credential Type`)}\n      >\n        <AnsibleSelect\n          {...credTypeField}\n          id=\"credential-type\"\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose a Credential Type`),\n              isDisabled: true,\n            },\n            ...credentialTypeOptions,\n          ]}\n          onChange={(event, value) => {\n            credTypeHelpers.setValue(value);\n            resetSubFormFields(value, formik);\n          }}\n        />\n      </FormGroup>\n      {credTypeField.value !== undefined &&\n        credTypeField.value !== '' &&\n        credentialTypes[credTypeField.value]?.inputs?.fields && (\n          <TypeInputsSubForm\n            credentialType={credentialTypes[credTypeField.value]}\n          />\n        )}\n    </>\n  );\n}\n\nfunction CredentialForm({\n  i18n,\n  credential = {},\n  credentialTypes,\n  inputSources,\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const [showExternalTestModal, setShowExternalTestModal] = useState(false);\n  const initialValues = {\n    name: credential.name || '',\n    description: credential.description || '',\n    organization: credential?.summary_fields?.organization || null,\n    credential_type: credential.credential_type || '',\n    inputs: {},\n    passwordPrompts: {},\n  };\n\n  Object.values(credentialTypes).forEach(credentialType => {\n    const fields = credentialType.inputs.fields || [];\n    fields.forEach(\n      ({ ask_at_runtime, type, id, choices, default: defaultValue }) => {\n        if (credential?.inputs && credential.inputs[id]) {\n          if (ask_at_runtime) {\n            initialValues.passwordPrompts[id] =\n              credential.inputs[id] === 'ASK' || false;\n          }\n          initialValues.inputs[id] = credential.inputs[id];\n        } else {\n          switch (type) {\n            case 'string':\n              initialValues.inputs[id] = defaultValue || '';\n              break;\n            case 'boolean':\n              initialValues.inputs[id] = defaultValue || false;\n              break;\n            default:\n              break;\n          }\n\n          if (choices) {\n            initialValues.inputs[id] = defaultValue;\n          }\n\n          if (ask_at_runtime) {\n            initialValues.passwordPrompts[id] = false;\n          }\n        }\n      }\n    );\n  });\n\n  Object.values(inputSources).forEach(inputSource => {\n    initialValues.inputs[inputSource.input_field_name] = {\n      credential: inputSource.summary_fields.source_credential,\n      inputs: inputSource.metadata,\n    };\n  });\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={values => {\n        onSubmit(values);\n      }}\n    >\n      {formik => (\n        <>\n          <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n            <FormColumnLayout>\n              <CredentialFormFields\n                formik={formik}\n                initialValues={initialValues}\n                credentialTypes={credentialTypes}\n                i18n={i18n}\n                {...rest}\n              />\n              <FormSubmitError error={submitError} />\n              <FormFullWidthLayout>\n                <ActionGroup>\n                  <Button\n                    id=\"credential-form-save-button\"\n                    aria-label={i18n._(t`Save`)}\n                    variant=\"primary\"\n                    type=\"button\"\n                    onClick={formik.handleSubmit}\n                  >\n                    {i18n._(t`Save`)}\n                  </Button>\n                  {formik?.values?.credential_type &&\n                    credentialTypes[formik.values.credential_type]?.kind ===\n                      'external' && (\n                      <Button\n                        id=\"credential-form-test-button\"\n                        aria-label={i18n._(t`Test`)}\n                        variant=\"secondary\"\n                        type=\"button\"\n                        onClick={() => setShowExternalTestModal(true)}\n                        isDisabled={!formik.isValid}\n                      >\n                        {i18n._(t`Test`)}\n                      </Button>\n                    )}\n                  <Button\n                    id=\"credential-form-cancel-button\"\n                    aria-label={i18n._(t`取消`)}\n                    variant=\"secondary\"\n                    type=\"button\"\n                    onClick={onCancel}\n                  >\n                    {i18n._(t`取消`)}\n                  </Button>\n                </ActionGroup>\n              </FormFullWidthLayout>\n            </FormColumnLayout>\n          </Form>\n          {showExternalTestModal && (\n            <ExternalTestModal\n              credential={credential}\n              credentialType={credentialTypes[formik.values.credential_type]}\n              credentialFormValues={formik.values}\n              onClose={() => setShowExternalTestModal(false)}\n            />\n          )}\n        </>\n      )}\n    </Formik>\n  );\n}\n\nCredentialForm.proptype = {\n  handleSubmit: func.isRequired,\n  handleCancel: func.isRequired,\n  credentialTypes: shape({}).isRequired,\n  credential: shape({}),\n  inputSources: arrayOf(object),\n  submitError: shape({}),\n};\n\nCredentialForm.defaultProps = {\n  credential: {},\n  inputSources: [],\n  submitError: null,\n};\n\nexport default withI18n()(CredentialForm);\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { object } from 'prop-types';\nimport { CardBody } from '../../../components/Card';\nimport {\n  CredentialsAPI,\n  CredentialInputSourcesAPI,\n  CredentialTypesAPI,\n} from '../../../api';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport CredentialForm from '../shared/CredentialForm';\nimport useRequest from '../../../util/useRequest';\n\nfunction CredentialEdit({ credential, me }) {\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [credentialTypes, setCredentialTypes] = useState(null);\n  const [inputSources, setInputSources] = useState({});\n  const history = useHistory();\n\n  const { error: submitError, request: submitRequest, result } = useRequest(\n    useCallback(\n      async (values, credentialTypesMap, inputSourceMap) => {\n        const { inputs: credentialTypeInputs } = credentialTypesMap[\n          values.credential_type\n        ];\n\n        const {\n          inputs,\n          organization,\n          passwordPrompts,\n          ...remainingValues\n        } = values;\n\n        const nonPluginInputs = {};\n        const pluginInputs = {};\n        const possibleFields = credentialTypeInputs.fields || [];\n\n        possibleFields.forEach(field => {\n          const input = inputs[field.id];\n          if (input?.credential && input?.inputs) {\n            pluginInputs[field.id] = input;\n          } else if (passwordPrompts[field.id]) {\n            nonPluginInputs[field.id] = 'ASK';\n          } else {\n            nonPluginInputs[field.id] = input;\n          }\n        });\n\n        const createAndUpdateInputSources = () =>\n          Object.entries(pluginInputs).map(([fieldName, fieldValue]) => {\n            if (!inputSourceMap[fieldName]) {\n              return CredentialInputSourcesAPI.create({\n                input_field_name: fieldName,\n                metadata: fieldValue.inputs,\n                source_credential: fieldValue.credential.id,\n                target_credential: credential.id,\n              });\n            }\n            if (fieldValue.touched) {\n              return CredentialInputSourcesAPI.update(\n                inputSourceMap[fieldName].id,\n                {\n                  metadata: fieldValue.inputs,\n                  source_credential: fieldValue.credential.id,\n                }\n              );\n            }\n\n            return null;\n          });\n\n        const destroyInputSources = () =>\n          Object.values(inputSourceMap).map(inputSource => {\n            const { id, input_field_name } = inputSource;\n            if (!inputs[input_field_name]?.credential) {\n              return CredentialInputSourcesAPI.destroy(id);\n            }\n            return null;\n          });\n\n        const modifiedData = { inputs: nonPluginInputs, ...remainingValues };\n        // can send only one of org, user, team\n        if (organization?.id) {\n          modifiedData.organization = organization.id;\n        } else if (me?.id) {\n          modifiedData.user = me.id;\n        }\n        const [{ data }] = await Promise.all([\n          CredentialsAPI.update(credential.id, modifiedData),\n          ...destroyInputSources(),\n        ]);\n\n        await Promise.all(createAndUpdateInputSources());\n\n        return data;\n      },\n      [me, credential.id]\n    )\n  );\n\n  useEffect(() => {\n    if (result) {\n      history.push(`/credentials/${result.id}/details`);\n    }\n  }, [result, history]);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const [\n          {\n            data: { results: loadedCredentialTypes },\n          },\n          {\n            data: { results: loadedInputSources },\n          },\n        ] = await Promise.all([\n          CredentialTypesAPI.read(),\n          CredentialsAPI.readInputSources(credential.id, { page_size: 200 }),\n        ]);\n        setCredentialTypes(\n          loadedCredentialTypes.reduce((credentialTypesMap, credentialType) => {\n            credentialTypesMap[credentialType.id] = credentialType;\n            return credentialTypesMap;\n          }, {})\n        );\n        setInputSources(\n          loadedInputSources.reduce((inputSourcesMap, inputSource) => {\n            inputSourcesMap[inputSource.input_field_name] = inputSource;\n            return inputSourcesMap;\n          }, {})\n        );\n      } catch (err) {\n        setError(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, [credential.id]);\n\n  const handleCancel = () => {\n    const url = `/credentials/${credential.id}/details`;\n    history.push(`${url}`);\n  };\n\n  const handleSubmit = async values => {\n    await submitRequest(values, credentialTypes, inputSources);\n  };\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <CardBody>\n      <CredentialForm\n        onCancel={handleCancel}\n        onSubmit={handleSubmit}\n        credential={credential}\n        credentialTypes={credentialTypes}\n        inputSources={inputSources}\n        submitError={submitError}\n      />\n    </CardBody>\n  );\n}\n\nCredentialEdit.proptype = {\n  inventory: object.isRequired,\n};\n\nexport { CredentialEdit as _CredentialEdit };\nexport default CredentialEdit;\n","import React, { useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport {\n  Switch,\n  useParams,\n  useLocation,\n  useRouteMatch,\n  Route,\n  Redirect,\n  Link,\n} from 'react-router-dom';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport ContentError from '../../components/ContentError';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport CredentialDetail from './CredentialDetail';\nimport CredentialEdit from './CredentialEdit';\nimport { CredentialsAPI } from '../../api';\n\nfunction Credential({ i18n, setBreadcrumb }) {\n  const [credential, setCredential] = useState(null);\n  const [contentError, setContentError] = useState(null);\n  const [hasContentLoading, setHasContentLoading] = useState(true);\n  const { pathname } = useLocation();\n  const match = useRouteMatch({\n    path: '/credentials/:id',\n  });\n  const { id } = useParams();\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const { data } = await CredentialsAPI.readDetail(id);\n        setBreadcrumb(data);\n        setCredential(data);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setHasContentLoading(false);\n      }\n    }\n    fetchData();\n  }, [id, pathname, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Credentials`)}\n        </>\n      ),\n      link: `/credentials`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `/credentials/${id}/details`, id: 0 },\n    {\n      name: i18n._(t`Access`),\n      link: `/credentials/${id}/access`,\n      id: 1,\n    },\n  ];\n\n  let showCardHeader = true;\n\n  if (pathname.endsWith('edit') || pathname.endsWith('add')) {\n    showCardHeader = false;\n  }\n\n  if (!hasContentLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response && contentError.response.status === 404 && (\n              <span>\n                {i18n._(t`Credential not found.`)}{' '}\n                <Link to=\"/credentials\">\n                  {i18n._(t`View all Credentials.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect\n            from=\"/credentials/:id\"\n            to=\"/credentials/:id/details\"\n            exact\n          />\n          {credential && [\n            <Route key=\"details\" path=\"/credentials/:id/details\">\n              <CredentialDetail credential={credential} />\n            </Route>,\n            <Route key=\"edit\" path=\"/credentials/:id/edit\">\n              <CredentialEdit credential={credential} />\n            </Route>,\n            <Route key=\"access\" path=\"/credentials/:id/access\">\n              <ResourceAccessList\n                resource={credential}\n                apiModel={CredentialsAPI}\n              />\n            </Route>,\n            <Route key=\"not-found\" path=\"*\">\n              {!hasContentLoading && (\n                <ContentError isNotFound>\n                  {match.params.id && (\n                    <Link to={`/credentials/${match.params.id}/details`}>\n                      {i18n._(t`View Credential Details`)}\n                    </Link>\n                  )}\n                </ContentError>\n              )}\n            </Route>,\n          ]}\n          <Route key=\"not-found\" path=\"*\">\n            {!hasContentLoading && (\n              <ContentError isNotFound>\n                {id && (\n                  <Link to={`/credentials/${id}/details`}>\n                    {i18n._(t`View Credential Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            )}\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(Credential);\n","import React, { useCallback, useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\n\nimport {\n  CredentialInputSourcesAPI,\n  CredentialTypesAPI,\n  CredentialsAPI,\n} from '../../../api';\nimport CredentialForm from '../shared/CredentialForm';\nimport useRequest from '../../../util/useRequest';\n\nfunction CredentialAdd({ me }) {\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [credentialTypes, setCredentialTypes] = useState(null);\n  const history = useHistory();\n\n  const {\n    error: submitError,\n    request: submitRequest,\n    result: credentialId,\n  } = useRequest(\n    useCallback(\n      async (values, credentialTypesMap) => {\n        const { inputs: credentialTypeInputs } = credentialTypesMap[\n          values.credential_type\n        ];\n\n        const {\n          inputs,\n          organization,\n          passwordPrompts,\n          ...remainingValues\n        } = values;\n\n        const nonPluginInputs = {};\n        const pluginInputs = {};\n        const possibleFields = credentialTypeInputs.fields || [];\n\n        possibleFields.forEach(field => {\n          const input = inputs[field.id];\n          if (input?.credential && input?.inputs) {\n            pluginInputs[field.id] = input;\n          } else if (passwordPrompts[field.id]) {\n            nonPluginInputs[field.id] = 'ASK';\n          } else {\n            nonPluginInputs[field.id] = input;\n          }\n        });\n\n        const modifiedData = { inputs: nonPluginInputs, ...remainingValues };\n        // can send only one of org, user, team\n        if (organization?.id) {\n          modifiedData.organization = organization.id;\n        } else if (me?.id) {\n          modifiedData.user = me.id;\n        }\n        const {\n          data: { id: newCredentialId },\n        } = await CredentialsAPI.create(modifiedData);\n\n        await Promise.all(\n          Object.entries(pluginInputs).map(([key, value]) =>\n            CredentialInputSourcesAPI.create({\n              input_field_name: key,\n              metadata: value.inputs,\n              source_credential: value.credential.id,\n              target_credential: newCredentialId,\n            })\n          )\n        );\n\n        return newCredentialId;\n      },\n      [me]\n    )\n  );\n\n  useEffect(() => {\n    if (credentialId) {\n      history.push(`/credentials/${credentialId}/details`);\n    }\n  }, [credentialId, history]);\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const {\n          data: { results: loadedCredentialTypes },\n        } = await CredentialTypesAPI.read();\n        setCredentialTypes(\n          loadedCredentialTypes.reduce((credentialTypesMap, credentialType) => {\n            credentialTypesMap[credentialType.id] = credentialType;\n            return credentialTypesMap;\n          }, {})\n        );\n      } catch (err) {\n        setError(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, []);\n\n  const handleCancel = () => {\n    history.push('/credentials');\n  };\n\n  const handleSubmit = async values => {\n    await submitRequest(values, credentialTypes);\n  };\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentError error={error} />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentLoading />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <CredentialForm\n            onCancel={handleCancel}\n            onSubmit={handleSubmit}\n            credentialTypes={credentialTypes}\n            submitError={submitError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { CredentialAdd as _CredentialAdd };\nexport default CredentialAdd;\n","import React, { useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\n\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { CopyIcon } from '@patternfly/react-icons';\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\n\nfunction CopyButton({\n  i18n,\n  copyItem,\n  isDisabled,\n  onCopyStart,\n  onCopyFinish,\n  helperText,\n}) {\n  const { isLoading, error: copyError, request: copyItemToAPI } = useRequest(\n    copyItem\n  );\n\n  useEffect(() => {\n    if (isLoading) {\n      return onCopyStart();\n    }\n    return onCopyFinish();\n  }, [isLoading, onCopyStart, onCopyFinish]);\n\n  const { error, dismissError } = useDismissableError(copyError);\n\n  return (\n    <>\n      <Tooltip content={helperText.tooltip} position=\"top\">\n        <Button\n          isDisabled={isLoading || isDisabled}\n          aria-label={i18n._(t`Copy`)}\n          variant=\"plain\"\n          onClick={copyItemToAPI}\n        >\n          <CopyIcon />\n        </Button>\n      </Tooltip>\n      <AlertModal\n        aria-label={i18n._(t`Copy Error`)}\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={dismissError}\n      >\n        {helperText.errorMessage}\n        <ErrorDetail error={error} />\n      </AlertModal>\n    </>\n  );\n}\n\nCopyButton.propTypes = {\n  copyItem: PropTypes.func.isRequired,\n  onCopyStart: PropTypes.func.isRequired,\n  onCopyFinish: PropTypes.func.isRequired,\n  helperText: PropTypes.shape({\n    tooltip: PropTypes.string.isRequired,\n    errorMessage: PropTypes.string.isRequired,\n  }).isRequired,\n  isDisabled: PropTypes.bool,\n};\n\nCopyButton.defaultProps = {\n  isDisabled: false,\n};\n\nexport default withI18n()(CopyButton);\n","import React, { useState, useCallback } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\nimport { timeOfDay } from '../../../util/dates';\n\nimport { Credential } from '../../../types';\nimport { CredentialsAPI } from '../../../api';\nimport CopyButton from '../../../components/CopyButton';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 40px);\n`;\n\nfunction CredentialListItem({\n  credential,\n  detailUrl,\n  isSelected,\n  onSelect,\n  i18n,\n  fetchCredentials,\n}) {\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const labelId = `check-action-${credential.id}`;\n  const canEdit = credential.summary_fields.user_capabilities.edit;\n\n  const copyCredential = useCallback(async () => {\n    await CredentialsAPI.copy(credential.id, {\n      name: `${credential.name} @ ${timeOfDay()}`,\n    });\n    await fetchCredentials();\n  }, [credential.id, credential.name, fetchCredentials]);\n\n  const handleCopyStart = useCallback(() => {\n    setIsDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsDisabled(false);\n  }, []);\n\n  return (\n    <DataListItem\n      key={credential.id}\n      aria-labelledby={labelId}\n      id={`${credential.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          isDisabled={isDisabled}\n          id={`select-credential-${credential.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`}>\n                <b>{credential.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {credential.summary_fields.credential_type.name}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {canEdit && (\n            <Tooltip content={i18n._(t`编辑凭证`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`编辑凭证`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/credentials/${credential.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {credential.summary_fields.user_capabilities.copy && (\n            <CopyButton\n              isDisabled={isDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              copyItem={copyCredential}\n              helperText={{\n                tooltip: i18n._(t`复制凭证`),\n                errorMessage: i18n._(t`Failed to copy credential.`),\n              }}\n            />\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nCredentialListItem.propTypes = {\n  detailUrl: string.isRequired,\n  credential: Credential.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(CredentialListItem);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CredentialsAPI } from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport CredentialListItem from './CredentialListItem';\n\nconst QS_CONFIG = getQSConfig('credential', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction CredentialList({ i18n }) {\n  const [selected, setSelected] = useState([]);\n  const location = useLocation();\n\n  const {\n    result: {\n      credentials,\n      credentialCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchCredentials,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [creds, credActions] = await Promise.all([\n        CredentialsAPI.read(params),\n        CredentialsAPI.readOptions(),\n      ]);\n      const searchKeys = Object.keys(\n        credActions.data.actions?.GET || {}\n      ).filter(key => credActions.data.actions?.GET[key].filterable);\n      const item = searchKeys.indexOf('type');\n      if (item) {\n        searchKeys[item] = 'credential_type__kind';\n      }\n      return {\n        credentials: creds.data.results,\n        credentialCount: creds.data.count,\n        actions: credActions.data.actions,\n        relatedSearchableKeys: (\n          credActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: searchKeys,\n      };\n    }, [location]),\n    {\n      credentials: [],\n      credentialCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  const isAllSelected =\n    selected.length > 0 && selected.length === credentials.length;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteCredentials,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(({ id }) => CredentialsAPI.destroy(id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchCredentials,\n    }\n  );\n\n  const handleDelete = async () => {\n    await deleteCredentials();\n    setSelected([]);\n  };\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...credentials] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  return (\n    <PageSection>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isLoading || isDeleteLoading}\n          items={credentials}\n          itemCount={credentialCount}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`描述`),\n              key: 'description__icontains',\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          renderItem={item => (\n            <CredentialListItem\n              key={item.id}\n              credential={item}\n              fetchCredentials={fetchCredentials}\n              detailUrl={`/credentials/${item.id}/details`}\n              isSelected={selected.some(row => row.id === item.id)}\n              onSelect={() => handleSelect(item)}\n            />\n          )}\n          renderToolbar={props => (\n            <DataListToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAdd\n                  ? [<ToolbarAddButton key=\"add\" linkTo=\"/credentials/add\" />]\n                  : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName={i18n._(t`Credentials`)}\n                />,\n              ]}\n            />\n          )}\n        />\n      </Card>\n      <AlertModal\n        aria-label={i18n._(t`Deletion Error`)}\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more credentials.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(CredentialList);\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Config } from '../../contexts/Config';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport Credential from './Credential';\nimport CredentialAdd from './CredentialAdd';\nimport { CredentialList } from './CredentialList';\n\nfunction Credentials({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/credentials': i18n._(t`Credentials`),\n    '/credentials/add': i18n._(t`Create New Credential`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    credential => {\n      if (!credential) {\n        return;\n      }\n\n      setBreadcrumbConfig({\n        '/credentials': i18n._(t`Credentials`),\n        '/credentials/add': i18n._(t`Create New Credential`),\n        [`/credentials/${credential.id}`]: `${credential.name}`,\n        [`/credentials/${credential.id}/edit`]: i18n._(t`Edit Details`),\n        [`/credentials/${credential.id}/details`]: i18n._(t`Details`),\n        [`/credentials/${credential.id}/access`]: i18n._(t`Access`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"credential\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/credentials/add\">\n          <Config>{({ me }) => <CredentialAdd me={me || {}} />}</Config>\n        </Route>\n        <Route path=\"/credentials/:id\">\n          <Credential setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/credentials\">\n          <CredentialList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(Credentials);\n","import React from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Form } from '@patternfly/react-core';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport { required } from '../../../util/validators';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../components/FormLayout';\n\nimport { jsonToYaml } from '../../../util/yaml';\n\nfunction CredentialTypeFormFields({ i18n }) {\n  return (\n    <>\n      <FormField\n        id=\"credential-type-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"credential-type-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <FormFullWidthLayout>\n        <VariablesField\n          tooltip={i18n._(\n            t`Enter inputs using either JSON or YAML syntax. Refer to the Ansible Tower documentation for example syntax.`\n          )}\n          id=\"credential-type-inputs-configuration\"\n          name=\"inputs\"\n          label={i18n._(t`Input configuration`)}\n        />\n      </FormFullWidthLayout>\n      <FormFullWidthLayout>\n        <VariablesField\n          tooltip={i18n._(\n            t`Enter injectors using either JSON or YAML syntax. Refer to the Ansible Tower documentation for example syntax.`\n          )}\n          id=\"credential-type-injectors-configuration\"\n          name=\"injectors\"\n          label={i18n._(t`Injector configuration`)}\n        />\n      </FormFullWidthLayout>\n    </>\n  );\n}\n\nfunction CredentialTypeForm({\n  credentialType = {},\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const initialValues = {\n    name: credentialType.name || '',\n    description: credentialType.description || '',\n    inputs: credentialType.inputs\n      ? jsonToYaml(JSON.stringify(credentialType.inputs))\n      : '---',\n    injectors: credentialType.injectors\n      ? jsonToYaml(JSON.stringify(credentialType.injectors))\n      : '---',\n  };\n  return (\n    <Formik initialValues={initialValues} onSubmit={values => onSubmit(values)}>\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <CredentialTypeFormFields {...rest} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nCredentialTypeForm.propTypes = {\n  credentialType: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nCredentialTypeForm.defaultProps = {\n  credentialType: {},\n  submitError: null,\n};\n\nexport default withI18n()(CredentialTypeForm);\n","import React, { useState } from 'react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { useHistory } from 'react-router-dom';\n\nimport CredentialTypeForm from '../shared/CredentialTypeForm';\nimport { CardBody } from '../../../components/Card';\nimport { CredentialTypesAPI } from '../../../api';\nimport { parseVariableField } from '../../../util/yaml';\n\nfunction CredentialTypeAdd() {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async values => {\n    try {\n      const { data: response } = await CredentialTypesAPI.create({\n        ...values,\n        injectors: parseVariableField(values.injectors),\n        inputs: parseVariableField(values.inputs),\n        kind: 'cloud',\n      });\n      history.push(`/credential_types/${response.id}/details`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/credential_types`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <CredentialTypeForm\n            onSubmit={handleSubmit}\n            submitError={submitError}\n            onCancel={handleCancel}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default CredentialTypeAdd;\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nimport DataListCell from '../../../components/DataListCell';\nimport { CredentialType } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n`;\n\nfunction CredentialTypeListItem({\n  credentialType,\n  detailUrl,\n  isSelected,\n  onSelect,\n  i18n,\n}) {\n  const labelId = `check-action-${credentialType.id}`;\n\n  return (\n    <DataListItem\n      key={credentialType.id}\n      aria-labelledby={labelId}\n      id={`${credentialType.id} `}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-credential-types-${credentialType.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell\n              key=\"name\"\n              aria-label={i18n._(t`credential type name`)}\n            >\n              <Link to={`${detailUrl}`}>\n                <b>{credentialType.name}</b>\n              </Link>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {credentialType.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`Edit credential type`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`Edit credential type`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/credential_types/${credentialType.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nCredentialTypeListItem.prototype = {\n  credentialType: CredentialType.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(CredentialTypeListItem);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { CredentialTypesAPI } from '../../../api';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\n\nimport CredentialTypeListItem from './CredentialTypeListItem';\n\nconst QS_CONFIG = getQSConfig('credential-type', {\n  page: 1,\n  page_size: 20,\n  managed_by_tower: false,\n});\n\nfunction CredentialTypeList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const {\n    error: contentError,\n    isLoading,\n    request: fetchCredentialTypes,\n    result: {\n      credentialTypes,\n      credentialTypesCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n\n      const [response, responseActions] = await Promise.all([\n        CredentialTypesAPI.read(params),\n        CredentialTypesAPI.readOptions(),\n      ]);\n\n      return {\n        credentialTypes: response.data.results,\n        credentialTypesCount: response.data.count,\n        actions: responseActions.data.actions,\n        relatedSearchableKeys: (\n          responseActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          responseActions.data.actions?.GET || {}\n        ).filter(key => responseActions.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      credentialTypes: [],\n      credentialTypesCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchCredentialTypes();\n  }, [fetchCredentialTypes]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    credentialTypes\n  );\n\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: deleteCredentialTypes,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id }) => CredentialTypesAPI.destroy(id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchCredentialTypes,\n    }\n  );\n\n  const handleDelete = async () => {\n    await deleteCredentialTypes();\n    setSelected([]);\n  };\n\n  const canAdd = actions && actions.POST;\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={isLoading || deleteLoading}\n            items={credentialTypes}\n            itemCount={credentialTypesCount}\n            pluralizedItemName={i18n._(t`Credential Types`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            renderToolbar={props => (\n              <DatalistToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={isSelected =>\n                  setSelected(isSelected ? [...credentialTypes] : [])\n                }\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [\n                        <ToolbarAddButton\n                          key=\"add\"\n                          linkTo={`${match.url}/add`}\n                        />,\n                      ]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`Credential Types`)}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={credentialType => (\n              <CredentialTypeListItem\n                key={credentialType.id}\n                value={credentialType.name}\n                credentialType={credentialType}\n                detailUrl={`${match.url}/${credentialType.id}/details`}\n                onSelect={() => handleSelect(credentialType)}\n                isSelected={selected.some(row => row.id === credentialType.id)}\n              />\n            )}\n            emptyStateControls={\n              canAdd && (\n                <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n              )\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        aria-label={i18n._(t`Deletion error`)}\n        isOpen={deletionError}\n        onClose={clearDeletionError}\n        title={i18n._(t`Error`)}\n        variant=\"error\"\n      >\n        {i18n._(t`Failed to delete one or more credential types.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(CredentialTypeList);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\n\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { CredentialTypesAPI } from '../../../api';\nimport { jsonToYaml } from '../../../util/yaml';\n\nfunction CredentialTypeDetails({ credentialType, i18n }) {\n  const { id, name, description, injectors, inputs } = credentialType;\n  const history = useHistory();\n\n  const {\n    request: deleteCredentialType,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await CredentialTypesAPI.destroy(id);\n      history.push(`/credential_types`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={name}\n          dataCy=\"credential-type-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <VariablesDetail\n          label={i18n._(t`Input configuration`)}\n          value={jsonToYaml(JSON.stringify(inputs))}\n          rows={6}\n        />\n        <VariablesDetail\n          label={i18n._(t`Injector configuration`)}\n          value={jsonToYaml(JSON.stringify(injectors))}\n          rows={6}\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={credentialType.created}\n          user={credentialType.summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={credentialType.modified}\n          user={credentialType.summary_fields.modified_by}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {credentialType.summary_fields.user_capabilities &&\n          credentialType.summary_fields.user_capabilities.edit && (\n            <Button\n              aria-label={i18n._(t`edit`)}\n              component={Link}\n              to={`/credential_types/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {credentialType.summary_fields.user_capabilities &&\n          credentialType.summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete credential type`)}\n              onConfirm={deleteCredentialType}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error`)}\n          variant=\"error\"\n        />\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(CredentialTypeDetails);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from '../../../components/Card';\nimport { CredentialTypesAPI } from '../../../api';\nimport CredentialTypeForm from '../shared/CredentialTypeForm';\nimport { parseVariableField } from '../../../util/yaml';\n\nfunction CredentialTypeEdit({ credentialType }) {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n  const detailsUrl = `/credential_types/${credentialType.id}/details`;\n\n  const handleSubmit = async values => {\n    try {\n      await CredentialTypesAPI.update(credentialType.id, {\n        ...values,\n        injectors: parseVariableField(values.injectors),\n        inputs: parseVariableField(values.inputs),\n      });\n      history.push(detailsUrl);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n  return (\n    <CardBody>\n      <CredentialTypeForm\n        credentialType={credentialType}\n        onSubmit={handleSubmit}\n        submitError={submitError}\n        onCancel={handleCancel}\n      />\n    </CardBody>\n  );\n}\n\nexport default CredentialTypeEdit;\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  Link,\n  Redirect,\n  Route,\n  Switch,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\n\nimport useRequest from '../../util/useRequest';\nimport { CredentialTypesAPI } from '../../api';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\n\nimport CredentialTypeDetails from './CredentialTypeDetails';\nimport CredentialTypeEdit from './CredentialTypeEdit';\n\nfunction CredentialType({ i18n, setBreadcrumb }) {\n  const { id } = useParams();\n  const { pathname } = useLocation();\n\n  const {\n    isLoading,\n    error: contentError,\n    request: fetchCredentialTypes,\n    result: credentialType,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await CredentialTypesAPI.readDetail(id);\n      return data;\n    }, [id])\n  );\n\n  useEffect(() => {\n    fetchCredentialTypes();\n  }, [fetchCredentialTypes, pathname]);\n\n  useEffect(() => {\n    if (credentialType) {\n      setBreadcrumb(credentialType);\n    }\n  }, [credentialType, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to credential types`)}\n        </>\n      ),\n      link: '/credential_types',\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/credential_types/${id}/details`,\n      id: 0,\n    },\n  ];\n\n  if (!isLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response?.status === 404 && (\n              <span>\n                {i18n._(t`Credential type not found.`)}{' '}\n                <Link to=\"/credential_types\">\n                  {i18n._(t`View all credential types`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  let cardHeader = <RoutedTabs tabsArray={tabsArray} />;\n  if (pathname.endsWith('edit')) {\n    cardHeader = null;\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {cardHeader}\n        {isLoading && <ContentLoading />}\n        {!isLoading && credentialType && (\n          <Switch>\n            <Redirect\n              from=\"/credential_types/:id\"\n              to=\"/credential_types/:id/details\"\n              exact\n            />\n            {credentialType && (\n              <>\n                <Route path=\"/credential_types/:id/edit\">\n                  <CredentialTypeEdit credentialType={credentialType} />\n                </Route>\n                <Route path=\"/credential_types/:id/details\">\n                  <CredentialTypeDetails credentialType={credentialType} />\n                </Route>\n              </>\n            )}\n          </Switch>\n        )}\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(CredentialType);\n","import React, { useState, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Route, Switch } from 'react-router-dom';\n\nimport CredentialTypeAdd from './CredentialTypeAdd';\nimport CredentialTypeList from './CredentialTypeList';\nimport CredentialType from './CredentialType';\nimport ScreenHeader from '../../components/ScreenHeader';\n\nfunction CredentialTypes({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/credential_types': i18n._(t`Credential Types`),\n    '/credential_types/add': i18n._(t`Create new credential type`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    credentialTypes => {\n      if (!credentialTypes) {\n        return;\n      }\n      setBreadcrumbConfig({\n        '/credential_types': i18n._(t`Credential Types`),\n        '/credential_types/add': i18n._(t`Create new credential Type`),\n        [`/credential_types/${credentialTypes.id}`]: `${credentialTypes.name}`,\n        [`/credential_types/${credentialTypes.id}/edit`]: i18n._(\n          t`Edit details`\n        ),\n        [`/credential_types/${credentialTypes.id}/details`]: i18n._(t`Details`),\n      });\n    },\n    [i18n]\n  );\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"credential_type\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/credential_types/add\">\n          <CredentialTypeAdd />\n        </Route>\n        <Route path=\"/credential_types/:id\">\n          <CredentialType setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/credential_types\">\n          <CredentialTypeList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(CredentialTypes);\n","import yaml from 'js-yaml';\n\nexport default function mergeExtraVars(extraVars = '', survey = {}) {\n  const vars = yaml.safeLoad(extraVars) || {};\n  return {\n    ...vars,\n    ...survey,\n  };\n}\n\nexport function maskPasswords(vars, passwordKeys) {\n  const updated = { ...vars };\n  passwordKeys.forEach(key => {\n    if (typeof updated[key] !== 'undefined') {\n      updated[key] = '········';\n    }\n  });\n  return updated;\n}\n","export default function getSurveyValues(values) {\n  const surveyValues = {};\n  Object.keys(values).forEach(key => {\n    if (key.startsWith('survey_') && values[key] !== []) {\n      if (Array.isArray(values[key]) && values[key].length === 0) {\n        return;\n      }\n      surveyValues[key.substr(7)] = values[key];\n    }\n  });\n  return surveyValues;\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { Alert } from '@patternfly/react-core';\nimport { InventoriesAPI } from '../../../api';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest from '../../../util/useRequest';\nimport OptionsList from '../../OptionsList';\nimport ContentLoading from '../../ContentLoading';\nimport ContentError from '../../ContentError';\n\nconst QS_CONFIG = getQSConfig('inventory', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction InventoryStep({ i18n }) {\n  const [field, meta, helpers] = useField({\n    name: 'inventory',\n  });\n\n  const history = useHistory();\n\n  const {\n    isLoading,\n    error,\n    result: { inventories, count, relatedSearchableKeys, searchableKeys },\n    request: fetchInventories,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        InventoriesAPI.read(params),\n        InventoriesAPI.readOptions(),\n      ]);\n      return {\n        inventories: data.results,\n        count: data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [history.location]),\n    {\n      count: 0,\n      inventories: [],\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchInventories();\n  }, [fetchInventories]);\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  return (\n    <>\n      <OptionsList\n        value={field.value ? [field.value] : []}\n        options={inventories}\n        optionCount={count}\n        searchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        sortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        searchableKeys={searchableKeys}\n        relatedSearchableKeys={relatedSearchableKeys}\n        header={i18n._(t`清单`)}\n        name=\"inventory\"\n        qsConfig={QS_CONFIG}\n        readOnly\n        selectItem={helpers.setValue}\n        deselectItem={() => field.onChange(null)}\n      />\n      {meta.touched && meta.error && (\n        <Alert variant=\"danger\" isInline title={meta.error} />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InventoryStep);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Tooltip } from '@patternfly/react-core';\nimport { ExclamationCircleIcon as PFExclamationCircleIcon } from '@patternfly/react-icons';\n\nconst AlertText = styled.div`\n  color: var(--pf-global--danger-color--200);\n  font-weight: var(--pf-global--FontWeight--bold);\n`;\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  margin-left: 10px;\n`;\n\nfunction StepName({ hasErrors, children, i18n, id }) {\n  if (!hasErrors) {\n    return <div id={id}>{children}</div>;\n  }\n  return (\n    <>\n      <AlertText id={id}>\n        {children}\n        <Tooltip\n          position=\"right\"\n          content={i18n._(t`This step contains errors`)}\n          trigger=\"click mouseenter focus\"\n        >\n          <ExclamationCircleIcon css=\"color: var(--pf-global--danger-color--100)\" />\n        </Tooltip>\n      </AlertText>\n    </>\n  );\n}\n\nexport default withI18n()(StepName);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport InventoryStep from './InventoryStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'inventory';\n\nexport default function useInventoryStep(\n  launchConfig,\n  resource,\n  i18n,\n  visitedSteps\n) {\n  const [, meta, helpers] = useField('inventory');\n  const formError =\n    !resource || resource?.type === 'workflow_job_template'\n      ? false\n      : Object.keys(visitedSteps).includes(STEP_ID) &&\n        meta.touched &&\n        !meta.value;\n\n  return {\n    step: getStep(launchConfig, i18n, formError),\n    initialValues: getInitialValues(launchConfig, resource),\n    isReady: true,\n    contentError: null,\n    hasError: launchConfig.ask_inventory_on_launch && formError,\n    setTouched: setFieldTouched => {\n      setFieldTouched('inventory', true, false);\n    },\n    validate: () => {\n      if (meta.touched && !meta.value && resource.type === 'job_template') {\n        helpers.setError(i18n._(t`An inventory must be selected`));\n      }\n    },\n  };\n}\nfunction getStep(launchConfig, i18n, formError) {\n  if (!launchConfig.ask_inventory_on_launch) {\n    return null;\n  }\n  return {\n    id: STEP_ID,\n    name: (\n      <StepName hasErrors={formError} id=\"inventory-step\">\n        {i18n._(t`清单`)}\n      </StepName>\n    ),\n    component: <InventoryStep i18n={i18n} />,\n    enableNext: true,\n  };\n}\n\nfunction getInitialValues(launchConfig, resource) {\n  if (!launchConfig.ask_inventory_on_launch) {\n    return {};\n  }\n\n  return {\n    inventory: resource?.summary_fields?.inventory || null,\n  };\n}\n","import 'styled-components/macro';\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { ToolbarItem } from '@patternfly/react-core';\nimport { CredentialsAPI, CredentialTypesAPI } from '../../../api';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport OptionsList from '../../OptionsList';\nimport ContentLoading from '../../ContentLoading';\nimport CredentialChip from '../../CredentialChip';\nimport ContentError from '../../ContentError';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest from '../../../util/useRequest';\nimport { required } from '../../../util/validators';\n\nconst QS_CONFIG = getQSConfig('credential', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction CredentialsStep({ i18n }) {\n  const [field, , helpers] = useField({\n    name: 'credentials',\n    validate: required(null, i18n),\n  });\n  const [selectedType, setSelectedType] = useState(null);\n  const history = useHistory();\n\n  const {\n    result: types,\n    error: typesError,\n    isLoading: isTypesLoading,\n    request: fetchTypes,\n  } = useRequest(\n    useCallback(async () => {\n      const loadedTypes = await CredentialTypesAPI.loadAllTypes();\n      if (loadedTypes.length) {\n        const match =\n          loadedTypes.find(type => type.kind === 'ssh') || loadedTypes[0];\n        setSelectedType(match);\n      }\n      return loadedTypes;\n    }, []),\n    []\n  );\n\n  useEffect(() => {\n    fetchTypes();\n  }, [fetchTypes]);\n\n  const {\n    result: { credentials, count, relatedSearchableKeys, searchableKeys },\n    error: credentialsError,\n    isLoading: isCredentialsLoading,\n    request: fetchCredentials,\n  } = useRequest(\n    useCallback(async () => {\n      if (!selectedType) {\n        return { credentials: [], count: 0 };\n      }\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        CredentialsAPI.read({\n          ...params,\n          credential_type: selectedType.id,\n        }),\n        CredentialsAPI.readOptions(),\n      ]);\n      return {\n        credentials: data.results,\n        count: data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [selectedType, history.location.search]),\n    { credentials: [], count: 0, relatedSearchableKeys: [], searchableKeys: [] }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  if (isTypesLoading) {\n    return <ContentLoading />;\n  }\n\n  if (typesError || credentialsError) {\n    return <ContentError error={typesError || credentialsError} />;\n  }\n\n  const isVault = selectedType?.kind === 'vault';\n\n  const renderChip = ({ item, removeItem, canDelete }) => (\n    <CredentialChip\n      key={item.id}\n      onClick={() => removeItem(item)}\n      isReadOnly={!canDelete}\n      credential={item}\n    />\n  );\n\n  return (\n    <>\n      {types && types.length > 0 && (\n        <ToolbarItem css=\" display: flex; align-items: center;\">\n          <div css=\"flex: 0 0 25%; margin-right: 32px\">\n            {i18n._(t`Selected Category`)}\n          </div>\n          <AnsibleSelect\n            css=\"flex: 1 1 75%;\"\n            id=\"multiCredentialsLookUp-select\"\n            label={i18n._(t`Selected Category`)}\n            data={types.map(type => ({\n              key: type.id,\n              value: type.id,\n              label: type.name,\n              isDisabled: false,\n            }))}\n            value={selectedType && selectedType.id}\n            onChange={(e, id) => {\n              setSelectedType(types.find(o => o.id === parseInt(id, 10)));\n            }}\n          />\n        </ToolbarItem>\n      )}\n      {!isCredentialsLoading && (\n        <OptionsList\n          value={field.value || []}\n          options={credentials}\n          optionCount={count}\n          searchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          sortColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n          ]}\n          searchableKeys={searchableKeys}\n          relatedSearchableKeys={relatedSearchableKeys}\n          multiple={isVault}\n          header={i18n._(t`Credentials`)}\n          name=\"credentials\"\n          qsConfig={QS_CONFIG}\n          readOnly={false}\n          selectItem={item => {\n            const hasSameVaultID = val =>\n              val?.inputs?.vault_id !== undefined &&\n              val?.inputs?.vault_id === item?.inputs?.vault_id;\n            const hasSameKind = val => val.kind === item.kind;\n            const newItems = field.value.filter(i =>\n              isVault ? !hasSameVaultID(i) : !hasSameKind(i)\n            );\n            newItems.push(item);\n            helpers.setValue(newItems);\n          }}\n          deselectItem={item => {\n            helpers.setValue(field.value.filter(i => i.id !== item.id));\n          }}\n          renderItemChip={renderChip}\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(CredentialsStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport CredentialsStep from './CredentialsStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'credentials';\n\nexport default function useCredentialsStep(launchConfig, resource, i18n) {\n  return {\n    step: getStep(launchConfig, i18n),\n    initialValues: getInitialValues(launchConfig, resource),\n    isReady: true,\n    contentError: null,\n    hasError: false,\n    setTouched: setFieldTouched => {\n      setFieldTouched('credentials', true, false);\n    },\n    validate: () => {},\n  };\n}\n\nfunction getStep(launchConfig, i18n) {\n  if (!launchConfig.ask_credential_on_launch) {\n    return null;\n  }\n  return {\n    id: STEP_ID,\n    key: 4,\n    name: (\n      <StepName hasErrors={false} id=\"credentials-step\">\n        {i18n._(t`Credentials`)}\n      </StepName>\n    ),\n    component: <CredentialsStep i18n={i18n} />,\n    enableNext: true,\n  };\n}\n\nfunction getInitialValues(launchConfig, resource) {\n  if (!launchConfig.ask_credential_on_launch) {\n    return {};\n  }\n\n  return {\n    credentials: resource?.summary_fields?.credentials || [],\n  };\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form } from '@patternfly/react-core';\nimport { useFormikContext } from 'formik';\nimport { PasswordField } from '../../FormField';\n\nfunction CredentialPasswordsStep({ launchConfig, i18n }) {\n  const {\n    values: { credentials },\n  } = useFormikContext();\n\n  const vaultsThatPrompt = [];\n  let showcredentialPasswordSsh = false;\n  let showcredentialPasswordPrivilegeEscalation = false;\n  let showcredentialPasswordPrivateKeyPassphrase = false;\n\n  if (\n    !launchConfig.ask_credential_on_launch &&\n    launchConfig.passwords_needed_to_start\n  ) {\n    launchConfig.passwords_needed_to_start.forEach(password => {\n      if (password === 'ssh_password') {\n        showcredentialPasswordSsh = true;\n      } else if (password === 'become_password') {\n        showcredentialPasswordPrivilegeEscalation = true;\n      } else if (password === 'ssh_key_unlock') {\n        showcredentialPasswordPrivateKeyPassphrase = true;\n      } else if (password.startsWith('vault_password')) {\n        const vaultId = password.split(/\\.(.+)/)[1] || '';\n        vaultsThatPrompt.push(vaultId);\n      }\n    });\n  } else if (credentials) {\n    credentials.forEach(credential => {\n      if (!credential.inputs) {\n        const launchConfigCredential = launchConfig.defaults.credentials.find(\n          defaultCred => defaultCred.id === credential.id\n        );\n\n        if (launchConfigCredential?.passwords_needed.length > 0) {\n          if (\n            launchConfigCredential.passwords_needed.includes('ssh_password')\n          ) {\n            showcredentialPasswordSsh = true;\n          }\n          if (\n            launchConfigCredential.passwords_needed.includes('become_password')\n          ) {\n            showcredentialPasswordPrivilegeEscalation = true;\n          }\n          if (\n            launchConfigCredential.passwords_needed.includes('ssh_key_unlock')\n          ) {\n            showcredentialPasswordPrivateKeyPassphrase = true;\n          }\n\n          const vaultPasswordIds = launchConfigCredential.passwords_needed\n            .filter(passwordNeeded =>\n              passwordNeeded.startsWith('vault_password')\n            )\n            .map(vaultPassword => vaultPassword.split(/\\.(.+)/)[1] || '');\n\n          vaultsThatPrompt.push(...vaultPasswordIds);\n        }\n      } else {\n        if (credential?.inputs?.password === 'ASK') {\n          showcredentialPasswordSsh = true;\n        }\n\n        if (credential?.inputs?.become_password === 'ASK') {\n          showcredentialPasswordPrivilegeEscalation = true;\n        }\n\n        if (credential?.inputs?.ssh_key_unlock === 'ASK') {\n          showcredentialPasswordPrivateKeyPassphrase = true;\n        }\n\n        if (credential?.inputs?.vault_password === 'ASK') {\n          vaultsThatPrompt.push(credential.inputs.vault_id);\n        }\n      }\n    });\n  }\n\n  return (\n    <Form>\n      {showcredentialPasswordSsh && (\n        <PasswordField\n          id=\"launch-ssh-password\"\n          label={i18n._(t`SSH password`)}\n          name=\"credential_passwords.ssh_password\"\n          isRequired\n        />\n      )}\n      {showcredentialPasswordPrivateKeyPassphrase && (\n        <PasswordField\n          id=\"launch-private-key-passphrase\"\n          label={i18n._(t`Private key passphrase`)}\n          name=\"credential_passwords.ssh_key_unlock\"\n          isRequired\n        />\n      )}\n      {showcredentialPasswordPrivilegeEscalation && (\n        <PasswordField\n          id=\"launch-privilege-escalation-password\"\n          label={i18n._(t`Privilege escalation password`)}\n          name=\"credential_passwords.become_password\"\n          isRequired\n        />\n      )}\n      {vaultsThatPrompt.map(credId => (\n        <PasswordField\n          id={`launch-vault-password-${credId}`}\n          key={credId}\n          label={\n            credId === ''\n              ? i18n._(t`Vault password`)\n              : i18n._(t`Vault password | ${credId}`)\n          }\n          name={`credential_passwords['vault_password${\n            credId !== '' ? `.${credId}` : ''\n          }']`}\n          isRequired\n        />\n      ))}\n    </Form>\n  );\n}\n\nexport default withI18n()(CredentialPasswordsStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { useFormikContext } from 'formik';\nimport CredentialPasswordsStep from './CredentialPasswordsStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'credentialPasswords';\n\nconst isValueMissing = val => {\n  return !val || val === '';\n};\n\nexport default function useCredentialPasswordsStep(\n  launchConfig,\n  i18n,\n  showStep,\n  visitedSteps\n) {\n  const { values, setFieldError } = useFormikContext();\n  const hasError =\n    Object.keys(visitedSteps).includes(STEP_ID) &&\n    checkForError(launchConfig, values);\n\n  return {\n    step: showStep\n      ? {\n          id: STEP_ID,\n          name: (\n            <StepName hasErrors={hasError} id=\"credential-passwords-step\">\n              {i18n._(t`Credential passwords`)}\n            </StepName>\n          ),\n          component: (\n            <CredentialPasswordsStep launchConfig={launchConfig} i18n={i18n} />\n          ),\n          enableNext: true,\n        }\n      : null,\n    initialValues: getInitialValues(launchConfig, values.credentials),\n    isReady: true,\n    contentError: null,\n    hasError,\n    setTouched: setFieldTouched => {\n      Object.keys(values.credential_passwords).forEach(credentialValueKey =>\n        setFieldTouched(\n          `credential_passwords['${credentialValueKey}']`,\n          true,\n          false\n        )\n      );\n    },\n    validate: () => {\n      const setPasswordFieldError = fieldName => {\n        setFieldError(fieldName, i18n._(t`This field may not be blank`));\n      };\n\n      if (\n        !launchConfig.ask_credential_on_launch &&\n        launchConfig.passwords_needed_to_start\n      ) {\n        launchConfig.passwords_needed_to_start.forEach(password => {\n          if (isValueMissing(values.credential_passwords[password])) {\n            setPasswordFieldError(`credential_passwords['${password}']`);\n          }\n        });\n      } else if (values.credentials) {\n        values.credentials.forEach(credential => {\n          if (!credential.inputs) {\n            const launchConfigCredential = launchConfig.defaults.credentials.find(\n              defaultCred => defaultCred.id === credential.id\n            );\n\n            if (launchConfigCredential?.passwords_needed.length > 0) {\n              launchConfigCredential.passwords_needed.forEach(password => {\n                if (isValueMissing(values.credential_passwords[password])) {\n                  setPasswordFieldError(`credential_passwords['${password}']`);\n                }\n              });\n            }\n          } else {\n            if (\n              credential?.inputs?.password === 'ASK' &&\n              isValueMissing(values.credential_passwords.ssh_password)\n            ) {\n              setPasswordFieldError('credential_passwords.ssh_password');\n            }\n\n            if (\n              credential?.inputs?.become_password === 'ASK' &&\n              isValueMissing(values.credential_passwords.become_password)\n            ) {\n              setPasswordFieldError('credential_passwords.become_password');\n            }\n\n            if (\n              credential?.inputs?.ssh_key_unlock === 'ASK' &&\n              isValueMissing(values.credential_passwords.ssh_key_unlock)\n            ) {\n              setPasswordFieldError('credential_passwords.ssh_key_unlock');\n            }\n\n            if (\n              credential?.inputs?.vault_password === 'ASK' &&\n              isValueMissing(\n                values.credential_passwords[\n                  `vault_password${\n                    credential.inputs.vault_id !== ''\n                      ? `.${credential.inputs.vault_id}`\n                      : ''\n                  }`\n                ]\n              )\n            ) {\n              setPasswordFieldError(\n                `credential_passwords['vault_password${\n                  credential.inputs.vault_id !== ''\n                    ? `.${credential.inputs.vault_id}`\n                    : ''\n                }']`\n              );\n            }\n          }\n        });\n      }\n    },\n  };\n}\n\nfunction getInitialValues(launchConfig, selectedCredentials = []) {\n  const initialValues = {\n    credential_passwords: {},\n  };\n\n  if (!launchConfig) {\n    return initialValues;\n  }\n\n  if (\n    !launchConfig.ask_credential_on_launch &&\n    launchConfig.passwords_needed_to_start\n  ) {\n    launchConfig.passwords_needed_to_start.forEach(password => {\n      initialValues.credential_passwords[password] = '';\n    });\n    return initialValues;\n  }\n\n  selectedCredentials.forEach(credential => {\n    if (!credential.inputs) {\n      const launchConfigCredential = launchConfig.defaults.credentials.find(\n        defaultCred => defaultCred.id === credential.id\n      );\n\n      if (launchConfigCredential?.passwords_needed.length > 0) {\n        launchConfigCredential.passwords_needed.forEach(password => {\n          initialValues.credential_passwords[password] = '';\n        });\n      }\n    } else {\n      if (credential?.inputs?.password === 'ASK') {\n        initialValues.credential_passwords.ssh_password = '';\n      }\n\n      if (credential?.inputs?.become_password === 'ASK') {\n        initialValues.credential_passwords.become_password = '';\n      }\n\n      if (credential?.inputs?.ssh_key_unlock === 'ASK') {\n        initialValues.credential_passwords.ssh_key_unlock = '';\n      }\n\n      if (credential?.inputs?.vault_password === 'ASK') {\n        if (!credential.inputs.vault_id || credential.inputs.vault_id === '') {\n          initialValues.credential_passwords.vault_password = '';\n        } else {\n          initialValues.credential_passwords[\n            `vault_password.${credential.inputs.vault_id}`\n          ] = '';\n        }\n      }\n    }\n  });\n\n  return initialValues;\n}\n\nfunction checkForError(launchConfig, values) {\n  let hasError = false;\n\n  if (\n    !launchConfig.ask_credential_on_launch &&\n    launchConfig.passwords_needed_to_start\n  ) {\n    launchConfig.passwords_needed_to_start.forEach(password => {\n      if (isValueMissing(values.credential_passwords[password])) {\n        hasError = true;\n      }\n    });\n  } else if (values.credentials) {\n    values.credentials.forEach(credential => {\n      if (!credential.inputs) {\n        const launchConfigCredential = launchConfig.defaults.credentials.find(\n          defaultCred => defaultCred.id === credential.id\n        );\n\n        if (launchConfigCredential?.passwords_needed.length > 0) {\n          launchConfigCredential.passwords_needed.forEach(password => {\n            if (isValueMissing(values.credential_passwords[password])) {\n              hasError = true;\n            }\n          });\n        }\n      } else {\n        if (\n          credential?.inputs?.password === 'ASK' &&\n          isValueMissing(values.credential_passwords.ssh_password)\n        ) {\n          hasError = true;\n        }\n\n        if (\n          credential?.inputs?.become_password === 'ASK' &&\n          isValueMissing(values.credential_passwords.become_password)\n        ) {\n          hasError = true;\n        }\n\n        if (\n          credential?.inputs?.ssh_key_unlock === 'ASK' &&\n          isValueMissing(values.credential_passwords.ssh_key_unlock)\n        ) {\n          hasError = true;\n        }\n\n        if (\n          credential?.inputs?.vault_password === 'ASK' &&\n          isValueMissing(\n            values.credential_passwords[\n              `vault_password${\n                credential.inputs.vault_id !== ''\n                  ? `.${credential.inputs.vault_id}`\n                  : ''\n              }`\n            ]\n          )\n        ) {\n          hasError = true;\n        }\n      }\n    });\n  }\n\n  return hasError;\n}\n","import React, { useState } from 'react';\nimport { func, string } from 'prop-types';\nimport { Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport { arrayToString, stringToArray } from '../../util/strings';\n\nfunction TagMultiSelect({ onChange, value }) {\n  const selections = stringToArray(value);\n  const [options, setOptions] = useState(selections);\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const onSelect = (event, item) => {\n    let newValue;\n    if (selections.includes(item)) {\n      newValue = selections.filter(i => i !== item);\n    } else {\n      newValue = selections.concat(item);\n    }\n    onChange(arrayToString(newValue));\n  };\n\n  const toggleExpanded = toggleValue => {\n    setIsExpanded(toggleValue);\n  };\n\n  const renderOptions = opts => {\n    return opts.map(option => (\n      <SelectOption key={option} value={option}>\n        {option}\n      </SelectOption>\n    ));\n  };\n\n  return (\n    <Select\n      variant={SelectVariant.typeaheadMulti}\n      onToggle={toggleExpanded}\n      onSelect={onSelect}\n      onClear={() => onChange('')}\n      onFilter={event => {\n        const str = event.target.value.toLowerCase();\n        const matches = options.filter(o => o.toLowerCase().includes(str));\n        return renderOptions(matches);\n      }}\n      isCreatable\n      onCreateOption={name => {\n        name = name.trim();\n        if (!options.includes(name)) {\n          setOptions(options.concat(name));\n        }\n        return name;\n      }}\n      selections={selections}\n      isOpen={isExpanded}\n      aria-labelledby=\"tag-select\"\n    >\n      {renderOptions(options)}\n    </Select>\n  );\n}\n\nTagMultiSelect.propTypes = {\n  onChange: func.isRequired,\n  value: string.isRequired,\n};\n\nexport default TagMultiSelect;\n","import { useState, useEffect } from 'react';\n\n/*\n  Hook for using PatternFly's <Select> component when a pre-existing value\n  is loaded from somewhere other than the options. Guarantees object equality\n  between objects in `value` and the corresponding objects loaded as\n  `options` (based on matched id value).\n */\nexport default function useSyncedSelectValue(value, onChange) {\n  const [options, setOptions] = useState([]);\n  const [selections, setSelections] = useState([]);\n\n  useEffect(() => {\n    const newOptions = [];\n    if (value !== selections && options.length) {\n      const syncedValue = value.map(item => {\n        const match = options.find(i => {\n          return i.id === item.id;\n        });\n        if (!match) {\n          newOptions.push(item);\n        }\n        return match || item;\n      });\n      setSelections(syncedValue);\n    }\n    if (newOptions.length > 0) {\n      setOptions(options.concat(newOptions));\n    }\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, [value, options]);\n\n  const onSelect = (event, item) => {\n    if (selections.includes(item)) {\n      onChange(selections.filter(i => i !== item));\n    } else {\n      onChange(selections.concat(item));\n    }\n  };\n  return {\n    selections: options.length ? addToStringToObjects(selections) : [],\n    onSelect,\n    options,\n    setOptions: newOpts => setOptions(addToStringToObjects(newOpts)),\n  };\n}\n\n/*\n  PF uses toString to generate React keys. This is used to ensure\n  all objects in the array have a toString method.\n */\nfunction addToStringToObjects(items = []) {\n  items.forEach(item => {\n    item.toString = toString;\n  });\n  return items;\n}\n\nfunction toString() {\n  return String(this.id);\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { Form, FormGroup, Switch } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport FormField from '../../FormField';\nimport { TagMultiSelect } from '../../MultiSelect';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport { VariablesField } from '../../CodeMirrorInput';\nimport Popover from '../../Popover';\n\nconst FieldHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: var(--pf-c-form__label--PaddingBottom);\n\n  label {\n    --pf-c-form__label--PaddingBottom: 0px;\n  }\n`;\n\nfunction OtherPromptsStep({ launchConfig, i18n }) {\n  return (\n    <Form>\n      {launchConfig.ask_job_type_on_launch && <JobTypeField i18n={i18n} />}\n      {launchConfig.ask_limit_on_launch && (\n        <FormField\n          id=\"prompt-limit\"\n          name=\"limit\"\n          label={i18n._(t`范围`)}\n          tooltip={i18n._(t`Provide a host pattern to further constrain the list\n          of hosts that will be managed or affected by the playbook. Multiple\n          patterns are allowed. Refer to Ansible documentation for more\n          information and examples on patterns.`)}\n        />\n      )}\n      {launchConfig.ask_scm_branch_on_launch && (\n        <FormField\n          id=\"prompt-scm-branch\"\n          name=\"scm_branch\"\n          label={i18n._(t`Source Control Branch`)}\n          tooltip={i18n._(\n            t`Select a branch for the workflow. This branch is applied to all job template nodes that prompt for a branch`\n          )}\n        />\n      )}\n      {launchConfig.ask_verbosity_on_launch && <VerbosityField i18n={i18n} />}\n      {launchConfig.ask_diff_mode_on_launch && (\n        <ShowChangesToggle i18n={i18n} />\n      )}\n      {launchConfig.ask_tags_on_launch && (\n        <TagField\n          id=\"prompt-job-tags\"\n          name=\"job_tags\"\n          label={i18n._(t`Job Tags`)}\n          aria-label={i18n._(t`Job Tags`)}\n          tooltip={i18n._(t`Tags are useful when you have a large\n            playbook, and you want to run a specific part of a play or task.\n            Use commas to separate multiple tags. Refer to Ansible Tower\n            documentation for details on the usage of tags.`)}\n        />\n      )}\n      {launchConfig.ask_skip_tags_on_launch && (\n        <TagField\n          id=\"prompt-skip-tags\"\n          name=\"skip_tags\"\n          label={i18n._(t`Skip Tags`)}\n          aria-label={i18n._(t`Skip Tags`)}\n          tooltip={i18n._(t`Skip tags are useful when you have a large\n            playbook, and you want to skip specific parts of a play or task.\n            Use commas to separate multiple tags. Refer to Ansible Tower\n            documentation for details on the usage of tags.`)}\n        />\n      )}\n      {launchConfig.ask_variables_on_launch && (\n        <VariablesField\n          id=\"prompt-variables\"\n          name=\"extra_vars\"\n          label={i18n._(t`变量`)}\n        />\n      )}\n    </Form>\n  );\n}\n\nfunction JobTypeField({ i18n }) {\n  const [field, meta, helpers] = useField('job_type');\n  const options = [\n    {\n      value: '',\n      key: '',\n      label: i18n._(t`Choose a job type`),\n      isDisabled: true,\n    },\n    { value: 'run', key: 'run', label: i18n._(t`Run`), isDisabled: false },\n    {\n      value: 'check',\n      key: 'check',\n      label: i18n._(t`Check`),\n      isDisabled: false,\n    },\n  ];\n  const isValid = !(meta.touched && meta.error);\n  return (\n    <FormGroup\n      fieldId=\"propmt-job-type\"\n      label={i18n._(t`作业类型`)}\n      labelIcon={\n        <Popover\n          content={i18n._(t`For job templates, select run to execute the playbook.\n      Select check to only check playbook syntax, test environment setup,\n      and report problems without executing the playbook.`)}\n        />\n      }\n      isRequired\n      validated={isValid ? 'default' : 'error'}\n    >\n      <AnsibleSelect\n        id=\"prompt-job-type\"\n        data={options}\n        {...field}\n        onChange={(event, value) => helpers.setValue(value)}\n      />\n    </FormGroup>\n  );\n}\n\nfunction VerbosityField({ i18n }) {\n  const [field, meta, helpers] = useField('verbosity');\n  const options = [\n    { value: '0', key: '0', label: i18n._(t`0 (Normal)`) },\n    { value: '1', key: '1', label: i18n._(t`1 (Verbose)`) },\n    { value: '2', key: '2', label: i18n._(t`2 (More Verbose)`) },\n    { value: '3', key: '3', label: i18n._(t`3 (Debug)`) },\n    { value: '4', key: '4', label: i18n._(t`4 (Connection Debug)`) },\n  ];\n\n  const isValid = !(meta.touched && meta.error);\n\n  return (\n    <FormGroup\n      fieldId=\"prompt-verbosity\"\n      validated={isValid ? 'default' : 'error'}\n      label={i18n._(t`详细程度`)}\n      labelIcon={\n        <Popover\n          content={i18n._(t`Control the level of output ansible\n          will produce as the playbook executes.`)}\n        />\n      }\n    >\n      <AnsibleSelect\n        id=\"prompt-verbosity\"\n        data={options}\n        {...field}\n        onChange={(event, value) => helpers.setValue(value)}\n      />\n    </FormGroup>\n  );\n}\n\nfunction ShowChangesToggle({ i18n }) {\n  const [field, , helpers] = useField('diff_mode');\n  return (\n    <FormGroup fieldId=\"prompt-show-changes\">\n      <FieldHeader>\n        {' '}\n        <label className=\"pf-c-form__label\" htmlFor=\"prompt-show-changes\">\n          <span className=\"pf-c-form__label-text\">\n            {i18n._(t`Show Changes`)}\n            <Popover\n              content={i18n._(t`If enabled, show the changes made\n              by Ansible tasks, where supported. This is equivalent to Ansible’s\n              --diff mode.`)}\n            />\n          </span>\n        </label>\n      </FieldHeader>\n      <Switch\n        aria-label={field.value ? i18n._(t`On`) : i18n._(t`Off`)}\n        id=\"prompt-show-changes\"\n        label={i18n._(t`On`)}\n        labelOff={i18n._(t`Off`)}\n        isChecked={field.value}\n        onChange={helpers.setValue}\n      />\n    </FormGroup>\n  );\n}\n\nfunction TagField({ id, name, label, tooltip }) {\n  const [field, , helpers] = useField(name);\n  return (\n    <FormGroup\n      fieldId={id}\n      label={label}\n      labelIcon={<Popover content={tooltip} />}\n    >\n      <TagMultiSelect value={field.value} onChange={helpers.setValue} />\n    </FormGroup>\n  );\n}\n\nexport default withI18n()(OtherPromptsStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { jsonToYaml, parseVariableField } from '../../../util/yaml';\nimport OtherPromptsStep from './OtherPromptsStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'other';\n\nconst getVariablesData = resource => {\n  if (resource?.extra_data) {\n    return jsonToYaml(JSON.stringify(resource.extra_data));\n  }\n  if (resource?.extra_vars && resource?.extra_vars !== '---') {\n    return jsonToYaml(JSON.stringify(parseVariableField(resource.extra_vars)));\n  }\n  return '---';\n};\n\nexport default function useOtherPromptsStep(launchConfig, resource, i18n) {\n  return {\n    step: getStep(launchConfig, i18n),\n    initialValues: getInitialValues(launchConfig, resource),\n    isReady: true,\n    contentError: null,\n    hasError: false,\n    setTouched: setFieldTouched => {\n      [\n        'job_type',\n        'limit',\n        'verbosity',\n        'diff_mode',\n        'job_tags',\n        'skip_tags',\n        'extra_vars',\n      ].forEach(field => setFieldTouched(field, true, false));\n    },\n    validate: () => {},\n  };\n}\n\nfunction getStep(launchConfig, i18n) {\n  if (!shouldShowPrompt(launchConfig)) {\n    return null;\n  }\n  return {\n    id: STEP_ID,\n    key: 5,\n    name: (\n      <StepName hasErrors={false} id=\"other-prompts-step\">\n        {i18n._(t`Other prompts`)}\n      </StepName>\n    ),\n    component: <OtherPromptsStep launchConfig={launchConfig} i18n={i18n} />,\n    enableNext: true,\n  };\n}\n\nfunction shouldShowPrompt(launchConfig) {\n  return (\n    launchConfig.ask_job_type_on_launch ||\n    launchConfig.ask_limit_on_launch ||\n    launchConfig.ask_verbosity_on_launch ||\n    launchConfig.ask_tags_on_launch ||\n    launchConfig.ask_skip_tags_on_launch ||\n    launchConfig.ask_variables_on_launch ||\n    launchConfig.ask_scm_branch_on_launch ||\n    launchConfig.ask_diff_mode_on_launch\n  );\n}\n\nfunction getInitialValues(launchConfig, resource) {\n  const initialValues = {};\n\n  if (!launchConfig) {\n    return initialValues;\n  }\n\n  if (launchConfig.ask_job_type_on_launch) {\n    initialValues.job_type = resource?.job_type || '';\n  }\n  if (launchConfig.ask_limit_on_launch) {\n    initialValues.limit = resource?.limit || '';\n  }\n  if (launchConfig.ask_verbosity_on_launch) {\n    initialValues.verbosity = resource?.verbosity || 0;\n  }\n  if (launchConfig.ask_tags_on_launch) {\n    initialValues.job_tags = resource?.job_tags || '';\n  }\n  if (launchConfig.ask_skip_tags_on_launch) {\n    initialValues.skip_tags = resource?.skip_tags || '';\n  }\n  if (launchConfig.ask_variables_on_launch) {\n    initialValues.extra_vars = getVariablesData(resource);\n  }\n  if (launchConfig.ask_scm_branch_on_launch) {\n    initialValues.scm_branch = resource?.scm_branch || '';\n  }\n  if (launchConfig.ask_diff_mode_on_launch) {\n    initialValues.diff_mode = resource?.diff_mode || false;\n  }\n  return initialValues;\n}\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport {\n  Form,\n  FormGroup,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport FormField from '../../FormField';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport Popover from '../../Popover';\nimport {\n  required,\n  minMaxValue,\n  maxLength,\n  minLength,\n  integer,\n  combine,\n} from '../../../util/validators';\nimport { Survey } from '../../../types';\n\nfunction SurveyStep({ surveyConfig, i18n }) {\n  const fieldTypes = {\n    text: TextField,\n    textarea: TextField,\n    password: TextField,\n    multiplechoice: MultipleChoiceField,\n    multiselect: MultiSelectField,\n    integer: NumberField,\n    float: NumberField,\n  };\n  return (\n    <Form>\n      {surveyConfig.spec.map(question => {\n        const Field = fieldTypes[question.type];\n        return (\n          <Field key={question.variable} question={question} i18n={i18n} />\n        );\n      })}\n    </Form>\n  );\n}\nSurveyStep.propTypes = {\n  surveyConfig: Survey.isRequired,\n};\n\nfunction TextField({ question, i18n }) {\n  const validators = [\n    question.required ? required(null, i18n) : null,\n    question.min ? minLength(question.min, i18n) : null,\n    question.max ? maxLength(question.max, i18n) : null,\n  ];\n  return (\n    <FormField\n      id={`survey-question-${question.variable}`}\n      name={`survey_${question.variable}`}\n      label={question.question_name}\n      tooltip={question.question_description}\n      isRequired={question.required}\n      validate={combine(validators)}\n      type={question.type}\n      minLength={question.min}\n      maxLength={question.max}\n    />\n  );\n}\n\nfunction NumberField({ question, i18n }) {\n  const validators = [\n    question.required ? required(null, i18n) : null,\n    minMaxValue(question.min, question.max, i18n),\n    question.type === 'integer' ? integer(i18n) : null,\n  ];\n  return (\n    <FormField\n      id={`survey-question-${question.variable}`}\n      name={`survey_${question.variable}`}\n      label={question.question_name}\n      tooltip={question.question_description}\n      isRequired={question.required}\n      validate={combine(validators)}\n      type=\"number\"\n      min={question.min}\n      max={question.max}\n    />\n  );\n}\n\nfunction MultipleChoiceField({ question }) {\n  const [field, meta] = useField(`survey_${question.variable}`);\n  const id = `survey-question-${question.variable}`;\n  const isValid = !(meta.touched && meta.error);\n  return (\n    <FormGroup\n      fieldId={id}\n      helperTextInvalid={meta.error}\n      isRequired={question.required}\n      validated={isValid ? 'default' : 'error'}\n      label={question.question_name}\n      labelIcon={<Popover content={question.question_description} />}\n    >\n      <AnsibleSelect\n        id={id}\n        isValid={isValid}\n        {...field}\n        data={question.choices.split('\\n').map(opt => ({\n          key: opt,\n          value: opt,\n          label: opt,\n        }))}\n      />\n    </FormGroup>\n  );\n}\n\nfunction MultiSelectField({ question, i18n }) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [field, meta, helpers] = useField({\n    name: `survey_${question.variable}`,\n    validate: question.isrequired ? required(null, i18n) : null,\n  });\n  const id = `survey-question-${question.variable}`;\n  const hasActualValue = !question.required || meta.value?.length > 0;\n  const isValid = !meta.touched || (!meta.error && hasActualValue);\n\n  return (\n    <FormGroup\n      fieldId={id}\n      helperTextInvalid={\n        meta.error ||\n        i18n._(t`At least one value must be selected for this field.`)\n      }\n      isRequired={question.required}\n      validated={isValid ? 'default' : 'error'}\n      label={question.question_name}\n      labelIcon={<Popover content={question.question_description} />}\n    >\n      <Select\n        variant={SelectVariant.typeaheadMulti}\n        id={id}\n        onToggle={setIsOpen}\n        onSelect={(event, option) => {\n          if (field?.value?.includes(option)) {\n            helpers.setValue(field.value.filter(o => o !== option));\n          } else {\n            helpers.setValue(field.value.concat(option));\n          }\n          helpers.setTouched(true);\n        }}\n        isOpen={isOpen}\n        selections={field.value}\n        onClear={() => {\n          helpers.setTouched(true);\n          helpers.setValue([]);\n        }}\n      >\n        {question.choices.split('\\n').map(opt => (\n          <SelectOption key={opt} value={opt} />\n        ))}\n      </Select>\n    </FormGroup>\n  );\n}\n\nexport default withI18n()(SurveyStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { useFormikContext } from 'formik';\nimport SurveyStep from './SurveyStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'survey';\n\nexport default function useSurveyStep(\n  launchConfig,\n  surveyConfig,\n  resource,\n  i18n,\n  visitedSteps\n) {\n  const { setFieldError, values } = useFormikContext();\n  const hasError =\n    Object.keys(visitedSteps).includes(STEP_ID) &&\n    checkForError(launchConfig, surveyConfig, values);\n\n  return {\n    step: launchConfig.survey_enabled\n      ? {\n          id: STEP_ID,\n          name: (\n            <StepName hasErrors={hasError} id=\"survey-step\">\n              {i18n._(t`Survey`)}\n            </StepName>\n          ),\n          component: <SurveyStep surveyConfig={surveyConfig} i18n={i18n} />,\n          enableNext: true,\n        }\n      : null,\n    initialValues: getInitialValues(launchConfig, surveyConfig, resource),\n    surveyConfig,\n    isReady: true,\n    contentError: null,\n    hasError,\n    setTouched: setFieldTouched => {\n      if (!surveyConfig?.spec) {\n        return;\n      }\n      surveyConfig.spec.forEach(question => {\n        setFieldTouched(`survey_${question.variable}`, true, false);\n      });\n    },\n    validate: () => {\n      if (launchConfig.survey_enabled && surveyConfig.spec) {\n        surveyConfig.spec.forEach(question => {\n          const errMessage = validateSurveyField(\n            question,\n            values[`survey_${question.variable}`],\n            i18n\n          );\n          if (errMessage) {\n            setFieldError(`survey_${question.variable}`, errMessage);\n          }\n        });\n      }\n    },\n  };\n}\n\nfunction getInitialValues(launchConfig, surveyConfig, resource) {\n  if (!launchConfig.survey_enabled || !surveyConfig) {\n    return {};\n  }\n\n  const values = {};\n  if (surveyConfig?.spec) {\n    surveyConfig.spec.forEach(question => {\n      if (question.type === 'multiselect') {\n        values[`survey_${question.variable}`] = question.default\n          ? question.default.split('\\n')\n          : [];\n      } else if (question.type === 'multiplechoice') {\n        values[`survey_${question.variable}`] =\n          question.default || question.choices.split('\\n')[0];\n      } else {\n        values[`survey_${question.variable}`] = question.default || '';\n      }\n      if (resource?.extra_data) {\n        Object.entries(resource.extra_data).forEach(([key, value]) => {\n          if (key === question.variable) {\n            if (question.type === 'multiselect') {\n              values[`survey_${question.variable}`] = value;\n            } else {\n              values[`survey_${question.variable}`] = value;\n            }\n          }\n        });\n      }\n    });\n  }\n\n  return values;\n}\n\nfunction validateSurveyField(question, value, i18n) {\n  const isTextField = ['text', 'textarea'].includes(question.type);\n  const isNumeric = ['integer', 'float'].includes(question.type);\n  if (isTextField && (value || value === 0)) {\n    if (question.min && value.length < question.min) {\n      return i18n._(t`This field must be at least ${question.min} characters`);\n    }\n    if (question.max && value.length > question.max) {\n      return i18n._(t`This field must not exceed ${question.max} characters`);\n    }\n  }\n  if (isNumeric && (value || value === 0)) {\n    if (value < question.min || value > question.max) {\n      return i18n._(\n        t`This field must be a number and have a value between ${question.min} and ${question.max}`\n      );\n    }\n  }\n  if (question.required && !value && value !== 0) {\n    return i18n._(t`This field must not be blank`);\n  }\n  return null;\n}\n\nfunction checkForError(launchConfig, surveyConfig, values) {\n  let hasError = false;\n  if (launchConfig.survey_enabled && surveyConfig.spec) {\n    surveyConfig.spec.forEach(question => {\n      const value = values[`survey_${question.variable}`];\n      const isTextField = ['text', 'textarea'].includes(question.type);\n      const isNumeric = ['integer', 'float'].includes(question.type);\n      if (isTextField && (value || value === 0)) {\n        if (\n          (question.min && value.length < question.min) ||\n          (question.max && value.length > question.max)\n        ) {\n          hasError = true;\n        }\n      }\n      if (isNumeric && (value || value === 0)) {\n        if (value < question.min || value > question.max) {\n          hasError = true;\n        }\n      }\n      if (question.required && !value && value !== 0) {\n        hasError = true;\n      }\n    });\n  }\n\n  return hasError;\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { List, ListItem } from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { Config } from '../../contexts/Config';\n\nimport { Detail, DeletedDetail } from '../DetailList';\nimport CredentialChip from '../CredentialChip';\nimport { toTitleCase } from '../../util/strings';\n\nfunction PromptProjectDetail({ i18n, resource }) {\n  const {\n    allow_override,\n    custom_virtualenv,\n    local_path,\n    scm_branch,\n    scm_clean,\n    scm_delete_on_update,\n    scm_refspec,\n    scm_type,\n    scm_update_on_launch,\n    scm_update_cache_timeout,\n    scm_url,\n    summary_fields,\n  } = resource;\n\n  let optionsList = '';\n  if (\n    scm_clean ||\n    scm_delete_on_update ||\n    scm_update_on_launch ||\n    allow_override\n  ) {\n    optionsList = (\n      <List>\n        {scm_clean && <ListItem>{i18n._(t`Clean`)}</ListItem>}\n        {scm_delete_on_update && (\n          <ListItem>{i18n._(t`Delete on Update`)}</ListItem>\n        )}\n        {scm_update_on_launch && (\n          <ListItem>{i18n._(t`Update Revision on Launch`)}</ListItem>\n        )}\n        {allow_override && (\n          <ListItem>{i18n._(t`Allow Branch Override`)}</ListItem>\n        )}\n      </List>\n    );\n  }\n\n  return (\n    <>\n      {summary_fields?.organization ? (\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={i18n._(t`组织`)} />\n      )}\n      <Detail\n        label={i18n._(t`Source Control Type`)}\n        value={scm_type === '' ? i18n._(t`Manual`) : toTitleCase(scm_type)}\n      />\n      <Detail label={i18n._(t`Source Control URL`)} value={scm_url} />\n      <Detail label={i18n._(t`Source Control Branch`)} value={scm_branch} />\n      <Detail label={i18n._(t`Source Control Refspec`)} value={scm_refspec} />\n      {summary_fields?.credential?.id && (\n        <Detail\n          label={i18n._(t`Source Control Credential`)}\n          value={\n            <CredentialChip\n              key={resource.summary_fields.credential.id}\n              credential={resource.summary_fields.credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {optionsList && <Detail label={i18n._(t`Options`)} value={optionsList} />}\n      <Detail\n        label={i18n._(t`Cache Timeout`)}\n        value={`${scm_update_cache_timeout} ${i18n._(t`Seconds`)}`}\n      />\n      <Detail\n        label={i18n._(t`Ansible Environment`)}\n        value={custom_virtualenv}\n      />\n      <Config>\n        {({ project_base_dir }) => (\n          <Detail\n            label={i18n._(t`Project Base Path`)}\n            value={project_base_dir}\n          />\n        )}\n      </Config>\n      <Detail label={i18n._(t`Playbook Directory`)} value={local_path} />\n    </>\n  );\n}\n\nexport default withI18n()(PromptProjectDetail);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\n\nimport { Chip, List, ListItem } from '@patternfly/react-core';\nimport { Detail, DeletedDetail } from '../DetailList';\nimport { VariablesDetail } from '../CodeMirrorInput';\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\n\nfunction PromptInventorySourceDetail({ i18n, resource }) {\n  const {\n    custom_virtualenv,\n    group_by,\n    instance_filters,\n    overwrite,\n    overwrite_vars,\n    source,\n    source_regions,\n    source_vars,\n    source_path,\n    summary_fields,\n    update_cache_timeout,\n    update_on_launch,\n    update_on_project_update,\n    verbosity,\n  } = resource;\n\n  const VERBOSITY = {\n    0: i18n._(t`0 (Normal)`),\n    1: i18n._(t`1 (Verbose)`),\n    2: i18n._(t`2 (More Verbose)`),\n    3: i18n._(t`3 (Debug)`),\n    4: i18n._(t`4 (Connection Debug)`),\n  };\n\n  let optionsList = '';\n  if (\n    overwrite ||\n    overwrite_vars ||\n    update_on_launch ||\n    update_on_project_update\n  ) {\n    optionsList = (\n      <List>\n        {overwrite && <ListItem>{i18n._(t`Overwrite`)}</ListItem>}\n        {overwrite_vars && (\n          <ListItem>{i18n._(t`Overwrite Variables`)}</ListItem>\n        )}\n        {update_on_launch && <ListItem>{i18n._(t`Update on Launch`)}</ListItem>}\n        {update_on_project_update && (\n          <ListItem>{i18n._(t`Update on Project Update`)}</ListItem>\n        )}\n      </List>\n    );\n  }\n\n  return (\n    <>\n      {summary_fields?.organization ? (\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={i18n._(t`组织`)} />\n      )}\n      {summary_fields?.inventory && (\n        <Detail\n          label={i18n._(t`清单`)}\n          value={\n            <Link to={`/inventories/${summary_fields.inventory?.id}/details`}>\n              {summary_fields?.inventory?.name}\n            </Link>\n          }\n        />\n      )}\n      <Detail label={i18n._(t`Source`)} value={source} />\n      <Detail\n        label={i18n._(t`Ansible Environment`)}\n        value={custom_virtualenv}\n      />\n      {summary_fields?.source_project && (\n        <Detail\n          label={i18n._(t`项目`)}\n          value={\n            <Link to={`/projects/${summary_fields.source_project?.id}/details`}>\n              {summary_fields.source_project?.name}\n            </Link>\n          }\n        />\n      )}\n      <Detail label={i18n._(t`Inventory File`)} value={source_path} />\n      <Detail label={i18n._(t`详细程度`)} value={VERBOSITY[verbosity]} />\n      <Detail\n        label={i18n._(t`Cache Timeout`)}\n        value={`${update_cache_timeout} ${i18n._(t`Seconds`)}`}\n      />\n      {summary_fields?.credentials?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Credential`)}\n          value={summary_fields.credentials.map(cred => (\n            <CredentialChip key={cred?.id} credential={cred} isReadOnly />\n          ))}\n        />\n      )}\n      {source_regions && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Regions`)}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={source_regions.split(',').length}\n            >\n              {source_regions.split(',').map(region => (\n                <Chip key={region} isReadOnly>\n                  {region}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {instance_filters && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Instance Filters`)}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={instance_filters.split(',').length}\n            >\n              {instance_filters.split(',').map(filter => (\n                <Chip key={filter} isReadOnly>\n                  {filter}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {group_by && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Only Group By`)}\n          value={\n            <ChipGroup numChips={5} totalChips={group_by.split(',').length}>\n              {group_by.split(',').map(group => (\n                <Chip key={group} isReadOnly>\n                  {group}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {optionsList && <Detail label={i18n._(t`Options`)} value={optionsList} />}\n      {source_vars && (\n        <VariablesDetail\n          label={i18n._(t`Source Variables`)}\n          rows={4}\n          value={source_vars}\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(PromptInventorySourceDetail);\n","import React from 'react';\nimport { string } from 'prop-types';\nimport styled, { keyframes } from 'styled-components';\n\nconst Pulse = keyframes`\n  from {\n    -webkit-transform:scale(1);\n  }\n  to {\n    -webkit-transform:scale(0);\n  }\n`;\n\nconst Wrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: column nowrap;\n  height: 14px;\n  margin: 5px 0;\n  width: 14px;\n`;\n\nconst WhiteTop = styled.div`\n  border: 1px solid #b7b7b7;\n  border-bottom: 0;\n  background: #ffffff;\n`;\n\nconst WhiteBottom = styled.div`\n  border: 1px solid #b7b7b7;\n  border-top: 0;\n  background: #ffffff;\n`;\n\nconst RunningJob = styled(Wrapper)`\n  background-color: #5cb85c;\n  padding-right: 0px;\n  text-shadow: -1px -1px 0 #ffffff, 1px -1px 0 #ffffff, -1px 1px 0 #ffffff,\n    1px 1px 0 #ffffff;\n  animation: ${Pulse} 1.5s linear infinite alternate;\n`;\n\nconst WaitingJob = styled(Wrapper)`\n  border: 1px solid #d7d7d7;\n`;\n\nconst FinishedJob = styled(Wrapper)`\n  flex: 0 1 auto;\n  > * {\n    width: 14px;\n    height: 7px;\n  }\n`;\n\nconst SuccessfulTop = styled.div`\n  background-color: #5cb85c;\n`;\nconst SuccessfulBottom = styled(WhiteBottom)``;\n\nconst FailedTop = styled(WhiteTop)``;\nconst FailedBottom = styled.div`\n  background-color: #d9534f;\n`;\n\nconst UnreachableTop = styled(WhiteTop)``;\nconst UnreachableBottom = styled.div`\n  background-color: #ff0000;\n`;\n\nconst ChangedTop = styled(WhiteTop)``;\nconst ChangedBottom = styled.div`\n  background-color: #ff9900;\n`;\n\nconst SkippedTop = styled(WhiteTop)``;\nconst SkippedBottom = styled.div`\n  background-color: #2dbaba;\n`;\n\nRunningJob.displayName = 'RunningJob';\nWaitingJob.displayName = 'WaitingJob';\nFinishedJob.displayName = 'FinishedJob';\nSuccessfulTop.displayName = 'SuccessfulTop';\nSuccessfulBottom.displayName = 'SuccessfulBottom';\nFailedTop.displayName = 'FailedTop';\nFailedBottom.displayName = 'FailedBottom';\nUnreachableTop.displayName = 'UnreachableTop';\nUnreachableBottom.displayName = 'UnreachableBottom';\nChangedTop.displayName = 'ChangedTop';\nChangedBottom.displayName = 'ChangedBottom';\nSkippedTop.displayName = 'SkippedTop';\nSkippedBottom.displayName = 'SkippedBottom';\n\nconst StatusIcon = ({ status, ...props }) => {\n  return (\n    <div {...props} data-job-status={status} aria-label={status}>\n      {status === 'running' && <RunningJob aria-hidden=\"true\" />}\n      {(status === 'new' ||\n        status === 'pending' ||\n        status === 'waiting' ||\n        status === 'never updated') && <WaitingJob aria-hidden=\"true\" />}\n      {(status === 'failed' || status === 'error' || status === 'canceled') && (\n        <FinishedJob aria-hidden=\"true\">\n          <FailedTop />\n          <FailedBottom />\n        </FinishedJob>\n      )}\n      {(status === 'successful' || status === 'ok') && (\n        <FinishedJob aria-hidden=\"true\">\n          <SuccessfulTop />\n          <SuccessfulBottom />\n        </FinishedJob>\n      )}\n      {status === 'changed' && (\n        <FinishedJob aria-hidden=\"true\">\n          <ChangedTop />\n          <ChangedBottom />\n        </FinishedJob>\n      )}\n      {status === 'skipped' && (\n        <FinishedJob aria-hidden=\"true\">\n          <SkippedTop />\n          <SkippedBottom />\n        </FinishedJob>\n      )}\n      {status === 'unreachable' && (\n        <FinishedJob aria-hidden=\"true\">\n          <UnreachableTop />\n          <UnreachableBottom />\n        </FinishedJob>\n      )}\n      <span className=\"pf-screen-reader\"> {status} </span>\n    </div>\n  );\n};\n\nStatusIcon.propTypes = {\n  status: string.isRequired,\n};\n\nexport default StatusIcon;\n","import React, { Fragment } from 'react';\nimport { arrayOf } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { Link as _Link } from 'react-router-dom';\nimport { Tooltip } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { t } from '@lingui/macro';\nimport StatusIcon from '../StatusIcon';\nimport { formatDateString } from '../../util/dates';\nimport { JOB_TYPE_URL_SEGMENTS } from '../../constants';\nimport { Job } from '../../types';\n\n/* eslint-disable react/jsx-pascal-case */\nconst Link = styled(props => <_Link {...props} />)`\n  margin-right: 5px;\n`;\n\nconst Wrapper = styled.div`\n  display: inline-flex;\n  flex-wrap: wrap;\n`;\n/* eslint-enable react/jsx-pascal-case */\n\nconst Sparkline = ({ i18n, jobs }) => {\n  const generateTooltip = job => (\n    <Fragment>\n      <div>\n        {i18n._(t`JOB ID:`)} {job.id}\n      </div>\n      <div>\n        {i18n._(t`STATUS:`)} {job.status.toUpperCase()}\n      </div>\n      {job.finished && (\n        <div>\n          {i18n._(t`FINISHED:`)} {formatDateString(job.finished)}\n        </div>\n      )}\n    </Fragment>\n  );\n\n  const statusIcons = jobs.map(job => (\n    <Tooltip position=\"top\" content={generateTooltip(job)} key={job.id}>\n      <Link\n        aria-label={i18n._(t`View job ${job.id}`)}\n        to={`/jobs/${JOB_TYPE_URL_SEGMENTS[job.type]}/${job.id}`}\n      >\n        <StatusIcon status={job.status} />\n      </Link>\n    </Tooltip>\n  ));\n\n  return <Wrapper>{statusIcons}</Wrapper>;\n};\n\nSparkline.propTypes = {\n  jobs: arrayOf(Job),\n};\nSparkline.defaultProps = {\n  jobs: [],\n};\n\nexport default withI18n()(Sparkline);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\n\nimport { Chip, List, ListItem } from '@patternfly/react-core';\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\nimport Sparkline from '../Sparkline';\nimport { Detail, DeletedDetail } from '../DetailList';\nimport { VariablesDetail } from '../CodeMirrorInput';\nimport { toTitleCase } from '../../util/strings';\n\nfunction PromptJobTemplateDetail({ i18n, resource }) {\n  const {\n    allow_simultaneous,\n    ask_inventory_on_launch,\n    become_enabled,\n    diff_mode,\n    extra_vars,\n    forks,\n    host_config_key,\n    instance_groups,\n    job_slice_count,\n    job_tags,\n    job_type,\n    limit,\n    playbook,\n    related,\n    scm_branch,\n    skip_tags,\n    summary_fields,\n    use_fact_cache,\n    verbosity,\n    webhook_key,\n    webhook_service,\n  } = resource;\n\n  const VERBOSITY = {\n    0: i18n._(t`0 (Normal)`),\n    1: i18n._(t`1 (Verbose)`),\n    2: i18n._(t`2 (More Verbose)`),\n    3: i18n._(t`3 (Debug)`),\n    4: i18n._(t`4 (Connection Debug)`),\n  };\n\n  let optionsList = '';\n  if (\n    become_enabled ||\n    host_config_key ||\n    allow_simultaneous ||\n    use_fact_cache\n  ) {\n    optionsList = (\n      <List>\n        {become_enabled && (\n          <ListItem>{i18n._(t`Enable Privilege Escalation`)}</ListItem>\n        )}\n        {host_config_key && (\n          <ListItem>{i18n._(t`Allow Provisioning Callbacks`)}</ListItem>\n        )}\n        {allow_simultaneous && (\n          <ListItem>{i18n._(t`Enable Concurrent Jobs`)}</ListItem>\n        )}\n        {use_fact_cache && <ListItem>{i18n._(t`Use Fact Storage`)}</ListItem>}\n      </List>\n    );\n  }\n\n  const inventoryKind =\n    summary_fields?.inventory?.kind === 'smart'\n      ? 'smart_inventory'\n      : 'inventory';\n\n  const recentJobs = summary_fields?.recent_jobs?.map(job => ({\n    ...job,\n    type: 'job',\n  }));\n\n  return (\n    <>\n      {summary_fields.recent_jobs?.length > 0 && (\n        <Detail\n          value={<Sparkline jobs={recentJobs} />}\n          label={i18n._(t`Activity`)}\n        />\n      )}\n      <Detail label={i18n._(t`作业类型`)} value={toTitleCase(job_type)} />\n      {summary_fields?.organization ? (\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={i18n._(t`组织`)} />\n      )}\n      {summary_fields?.inventory ? (\n        <Detail\n          label={i18n._(t`清单`)}\n          value={\n            <Link\n              to={`/${inventoryKind}/${summary_fields.inventory?.id}/details`}\n            >\n              {summary_fields.inventory?.name}\n            </Link>\n          }\n        />\n      ) : (\n        !ask_inventory_on_launch && (\n          <DeletedDetail label={i18n._(t`清单`)} />\n        )\n      )}\n      {summary_fields?.project ? (\n        <Detail\n          label={i18n._(t`项目`)}\n          value={\n            <Link to={`/projects/${summary_fields.project?.id}/details`}>\n              {summary_fields.project?.name}\n            </Link>\n          }\n        />\n      ) : (\n        <DeletedDetail label={i18n._(t`项目`)} />\n      )}\n      <Detail label={i18n._(t`Source Control Branch`)} value={scm_branch} />\n      <Detail label={i18n._(t`剧本`)} value={playbook} />\n      <Detail label={i18n._(t`Forks`)} value={forks || '0'} />\n      <Detail label={i18n._(t`范围`)} value={limit} />\n      <Detail label={i18n._(t`详细程度`)} value={VERBOSITY[verbosity]} />\n      {typeof diff_mode === 'boolean' && (\n        <Detail\n          label={i18n._(t`Show Changes`)}\n          value={diff_mode ? i18n._(t`On`) : i18n._(t`Off`)}\n        />\n      )}\n      <Detail label={i18n._(t` Job Slicing`)} value={job_slice_count} />\n      <Detail label={i18n._(t`Host Config Key`)} value={host_config_key} />\n      {related?.callback && (\n        <Detail\n          label={i18n._(t`Provisioning Callback URL`)}\n          value={`${window.location.origin}${related.callback}`}\n        />\n      )}\n      <Detail\n        label={i18n._(t`Webhook Service`)}\n        value={toTitleCase(webhook_service)}\n      />\n      {related?.webhook_receiver && (\n        <Detail\n          label={i18n._(t`Webhook URL`)}\n          value={`${window.location.origin}${related.webhook_receiver}`}\n        />\n      )}\n      <Detail label={i18n._(t`Webhook Key`)} value={webhook_key} />\n      {summary_fields?.webhook_credential && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Webhook Credential`)}\n          value={\n            <CredentialChip\n              key={summary_fields.webhook_credential?.id}\n              credential={summary_fields.webhook_credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {optionsList && <Detail label={i18n._(t`Options`)} value={optionsList} />}\n      {summary_fields?.credentials?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Credentials`)}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={summary_fields.credentials.length}\n            >\n              {summary_fields.credentials.map(cred => (\n                <CredentialChip key={cred.id} credential={cred} isReadOnly />\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {summary_fields?.labels?.results?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Labels`)}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={summary_fields.labels.results.length}\n            >\n              {summary_fields.labels.results.map(label => (\n                <Chip key={label.id} isReadOnly>\n                  {label.name}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {instance_groups?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Instance Groups`)}\n          value={\n            <ChipGroup numChips={5} totalChips={instance_groups.length}>\n              {instance_groups.map(ig => (\n                <Chip key={ig.id} isReadOnly>\n                  {ig.name}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {job_tags?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Job Tags`)}\n          value={\n            <ChipGroup numChips={5} totalChips={job_tags.split(',').length}>\n              {job_tags.split(',').map(jobTag => (\n                <Chip key={jobTag} isReadOnly>\n                  {jobTag}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {skip_tags?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Skip Tags`)}\n          value={\n            <ChipGroup numChips={5} totalChips={skip_tags.split(',').length}>\n              {skip_tags.split(',').map(skipTag => (\n                <Chip key={skipTag} isReadOnly>\n                  {skipTag}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {extra_vars && (\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          rows={4}\n          value={extra_vars}\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(PromptJobTemplateDetail);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\n\nimport { Chip, List, ListItem } from '@patternfly/react-core';\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\nimport { Detail } from '../DetailList';\nimport { VariablesDetail } from '../CodeMirrorInput';\nimport Sparkline from '../Sparkline';\nimport { toTitleCase } from '../../util/strings';\n\nfunction PromptWFJobTemplateDetail({ i18n, resource }) {\n  const {\n    allow_simultaneous,\n    extra_vars,\n    limit,\n    related,\n    scm_branch,\n    summary_fields,\n    webhook_key,\n    webhook_service,\n  } = resource;\n\n  let optionsList = '';\n  if (allow_simultaneous || webhook_service) {\n    optionsList = (\n      <List>\n        {allow_simultaneous && (\n          <ListItem>{i18n._(t`Enable Concurrent Jobs`)}</ListItem>\n        )}\n        {webhook_service && <ListItem>{i18n._(t`Enable Webhooks`)}</ListItem>}\n      </List>\n    );\n  }\n\n  const inventoryKind =\n    summary_fields?.inventory?.kind === 'smart'\n      ? 'smart_inventory'\n      : 'inventory';\n\n  const recentJobs = summary_fields?.recent_jobs?.map(job => ({\n    ...job,\n    type: 'job',\n  }));\n\n  return (\n    <>\n      {summary_fields?.recent_jobs?.length > 0 && (\n        <Detail\n          value={<Sparkline jobs={recentJobs} />}\n          label={i18n._(t`Activity`)}\n        />\n      )}\n      {summary_fields?.organization && (\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link\n              to={`/organizations/${summary_fields.organization.id}/details`}\n            >\n              {summary_fields?.organization.name}\n            </Link>\n          }\n        />\n      )}\n      {summary_fields?.inventory && (\n        <Detail\n          label={i18n._(t`清单`)}\n          value={\n            <Link\n              to={`/${inventoryKind}/${summary_fields.inventory?.id}/details`}\n            >\n              {summary_fields.inventory?.name}\n            </Link>\n          }\n        />\n      )}\n      <Detail label={i18n._(t`Source Control Branch`)} value={scm_branch} />\n      <Detail label={i18n._(t`范围`)} value={limit} />\n      <Detail\n        label={i18n._(t`Webhook Service`)}\n        value={toTitleCase(webhook_service)}\n      />\n      <Detail label={i18n._(t`Webhook Key`)} value={webhook_key} />\n      {related?.webhook_receiver && (\n        <Detail\n          label={i18n._(t`Webhook URL`)}\n          value={`${window.location.origin}${related.webhook_receiver}`}\n        />\n      )}\n      {optionsList && <Detail label={i18n._(t`Options`)} value={optionsList} />}\n      {summary_fields?.webhook_credential && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Webhook Credential`)}\n          value={\n            <CredentialChip\n              key={summary_fields.webhook_credential?.id}\n              credential={summary_fields.webhook_credential}\n              isReadOnly\n            />\n          }\n        />\n      )}\n      {summary_fields?.labels?.results?.length > 0 && (\n        <Detail\n          fullWidth\n          label={i18n._(t`Labels`)}\n          value={\n            <ChipGroup\n              numChips={5}\n              totalChips={summary_fields.labels.results.length}\n            >\n              {summary_fields.labels.results.map(label => (\n                <Chip key={label.id} isReadOnly>\n                  {label.name}\n                </Chip>\n              ))}\n            </ChipGroup>\n          }\n        />\n      )}\n      {extra_vars && (\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          rows={4}\n          value={extra_vars}\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(PromptWFJobTemplateDetail);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { shape } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Chip, Divider } from '@patternfly/react-core';\nimport { toTitleCase } from '../../util/strings';\n\nimport CredentialChip from '../CredentialChip';\nimport ChipGroup from '../ChipGroup';\nimport { DetailList, Detail, UserDateDetail } from '../DetailList';\nimport { VariablesDetail } from '../CodeMirrorInput';\n\nimport PromptProjectDetail from './PromptProjectDetail';\nimport PromptInventorySourceDetail from './PromptInventorySourceDetail';\nimport PromptJobTemplateDetail from './PromptJobTemplateDetail';\nimport PromptWFJobTemplateDetail from './PromptWFJobTemplateDetail';\n\nconst PromptHeader = styled.h2`\n  font-weight: bold;\n  margin: var(--pf-global--spacer--lg) 0;\n`;\n\nfunction formatTimeout(timeout) {\n  if (typeof timeout === 'undefined' || timeout === null) {\n    return null;\n  }\n  const minutes = Math.floor(timeout / 60);\n  const seconds = timeout - Math.floor(timeout / 60) * 60;\n  return (\n    <Trans>\n      {minutes} min {seconds} sec\n    </Trans>\n  );\n}\n\nfunction buildResourceLink(resource) {\n  const link = {\n    job_template: `/templates/job_template/${resource.id}/details`,\n    project: `/projects/${resource.id}/details`,\n    inventory_source: `/inventories/inventory/${resource.inventory}/sources/${resource.id}/details`,\n    workflow_job_template: `/templates/workflow_job_template/${resource.id}/details`,\n  };\n\n  return link[resource?.type] ? (\n    <Link to={link[resource.type]}>{resource.name}</Link>\n  ) : (\n    resource.name\n  );\n}\n\nfunction hasPromptData(launchData) {\n  return (\n    launchData.survey_enabled ||\n    launchData.ask_credential_on_launch ||\n    launchData.ask_diff_mode_on_launch ||\n    launchData.ask_inventory_on_launch ||\n    launchData.ask_job_type_on_launch ||\n    launchData.ask_limit_on_launch ||\n    launchData.ask_scm_branch_on_launch ||\n    launchData.ask_skip_tags_on_launch ||\n    launchData.ask_tags_on_launch ||\n    launchData.ask_variables_on_launch ||\n    launchData.ask_verbosity_on_launch\n  );\n}\n\nfunction omitOverrides(resource, overrides, defaultConfig) {\n  const clonedResource = {\n    ...resource,\n    summary_fields: { ...resource.summary_fields },\n    ...defaultConfig,\n  };\n  Object.keys(overrides).forEach(keyToOmit => {\n    delete clonedResource[keyToOmit];\n    delete clonedResource?.summary_fields[keyToOmit];\n  });\n  return clonedResource;\n}\n\nfunction PromptDetail({ i18n, resource, launchConfig = {}, overrides = {} }) {\n  const VERBOSITY = {\n    0: i18n._(t`0 (Normal)`),\n    1: i18n._(t`1 (Verbose)`),\n    2: i18n._(t`2 (More Verbose)`),\n    3: i18n._(t`3 (Debug)`),\n    4: i18n._(t`4 (Connection Debug)`),\n  };\n\n  const details = omitOverrides(resource, overrides, launchConfig.defaults);\n  details.type = overrides?.nodeType || details.type;\n  const hasOverrides = Object.keys(overrides).length > 0;\n\n  return (\n    <>\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={buildResourceLink(resource)} />\n        <Detail label={i18n._(t`描述`)} value={details.description} />\n        <Detail\n          label={i18n._(t`类型`)}\n          value={toTitleCase(details.unified_job_type || details.type)}\n        />\n        <Detail\n          label={i18n._(t`Timeout`)}\n          value={formatTimeout(details?.timeout)}\n        />\n        {details?.type === 'project' && (\n          <PromptProjectDetail resource={details} />\n        )}\n        {details?.type === 'inventory_source' && (\n          <PromptInventorySourceDetail resource={details} />\n        )}\n        {details?.type === 'job_template' && (\n          <PromptJobTemplateDetail resource={details} />\n        )}\n        {details?.type === 'workflow_job_template' && (\n          <PromptWFJobTemplateDetail resource={details} />\n        )}\n        {details?.created && (\n          <UserDateDetail\n            label={i18n._(t`已创建`)}\n            date={details.created}\n            user={details?.summary_fields?.created_by}\n          />\n        )}\n        {details?.modified && (\n          <UserDateDetail\n            label={i18n._(t`上次修改时间`)}\n            date={details?.modified}\n            user={details?.summary_fields?.modified_by}\n          />\n        )}\n      </DetailList>\n\n      {hasPromptData(launchConfig) && hasOverrides && (\n        <>\n          <Divider css=\"margin-top: var(--pf-global--spacer--lg)\" />\n          <PromptHeader>{i18n._(t`Prompted Values`)}</PromptHeader>\n          <DetailList aria-label=\"Prompt Overrides\">\n            {launchConfig.ask_job_type_on_launch && (\n              <Detail\n                label={i18n._(t`作业类型`)}\n                value={toTitleCase(overrides.job_type)}\n              />\n            )}\n            {launchConfig.ask_credential_on_launch && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Credentials`)}\n                rows={4}\n                value={\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={overrides.credentials.length}\n                  >\n                    {overrides.credentials.map(cred => (\n                      <CredentialChip\n                        key={cred.id}\n                        credential={cred}\n                        isReadOnly\n                      />\n                    ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {launchConfig.ask_inventory_on_launch && (\n              <Detail\n                label={i18n._(t`清单`)}\n                value={overrides.inventory?.name}\n              />\n            )}\n            {launchConfig.ask_scm_branch_on_launch && (\n              <Detail\n                label={i18n._(t`Source Control Branch`)}\n                value={overrides.scm_branch}\n              />\n            )}\n            {launchConfig.ask_limit_on_launch && (\n              <Detail label={i18n._(t`范围`)} value={overrides.limit} />\n            )}\n            {Object.prototype.hasOwnProperty.call(overrides, 'verbosity') &&\n            launchConfig.ask_verbosity_on_launch ? (\n              <Detail\n                label={i18n._(t`详细程度`)}\n                value={VERBOSITY[overrides.verbosity]}\n              />\n            ) : null}\n            {launchConfig.ask_tags_on_launch && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Job Tags`)}\n                value={\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={\n                      !overrides.job_tags || overrides.job_tags === ''\n                        ? 0\n                        : overrides.job_tags.split(',').length\n                    }\n                  >\n                    {overrides.job_tags.length > 0 &&\n                      overrides.job_tags.split(',').map(jobTag => (\n                        <Chip key={jobTag} isReadOnly>\n                          {jobTag}\n                        </Chip>\n                      ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {launchConfig.ask_skip_tags_on_launch && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Skip Tags`)}\n                value={\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={\n                      !overrides.skip_tags || overrides.skip_tags === ''\n                        ? 0\n                        : overrides.skip_tags.split(',').length\n                    }\n                  >\n                    {overrides.skip_tags.length > 0 &&\n                      overrides.skip_tags.split(',').map(skipTag => (\n                        <Chip key={skipTag} isReadOnly>\n                          {skipTag}\n                        </Chip>\n                      ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {launchConfig.ask_diff_mode_on_launch && (\n              <Detail\n                label={i18n._(t`Show Changes`)}\n                value={\n                  overrides.diff_mode === true ? i18n._(t`On`) : i18n._(t`Off`)\n                }\n              />\n            )}\n            {(launchConfig.survey_enabled ||\n              launchConfig.ask_variables_on_launch) && (\n              <VariablesDetail\n                label={i18n._(t`变量`)}\n                rows={4}\n                value={overrides.extra_vars}\n              />\n            )}\n          </DetailList>\n        </>\n      )}\n    </>\n  );\n}\n\nPromptDetail.defaultProps = {\n  launchConfig: { defaults: {} },\n};\n\nPromptDetail.propTypes = {\n  resource: shape({}).isRequired,\n  launchConfig: shape({}),\n};\n\nexport default withI18n()(PromptDetail);\n","import React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { ExclamationCircleIcon as PFExclamationCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport yaml from 'js-yaml';\nimport mergeExtraVars, {\n  maskPasswords,\n} from '../../../util/prompt/mergeExtraVars';\nimport getSurveyValues from '../../../util/prompt/getSurveyValues';\nimport PromptDetail from '../../PromptDetail';\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  margin-left: 10px;\n  margin-top: -2px;\n`;\n\nconst ErrorMessageWrapper = styled.div`\n  align-items: center;\n  color: var(--pf-global--danger-color--200);\n  display: flex;\n  font-weight: var(--pf-global--FontWeight--bold);\n  margin-bottom: 10px;\n`;\n\nfunction PreviewStep({\n  resource,\n  launchConfig,\n  surveyConfig,\n  formErrors,\n  i18n,\n}) {\n  const { values } = useFormikContext();\n  const surveyValues = getSurveyValues(values);\n\n  const overrides = {\n    ...values,\n  };\n\n  if (launchConfig.ask_variables_on_launch || launchConfig.survey_enabled) {\n    const initialExtraVars =\n      launchConfig.ask_variables_on_launch && (overrides.extra_vars || '---');\n    if (surveyConfig?.spec) {\n      const passwordFields = surveyConfig.spec\n        .filter(q => q.type === 'password')\n        .map(q => q.variable);\n      const masked = maskPasswords(surveyValues, passwordFields);\n      overrides.extra_vars = yaml.safeDump(\n        mergeExtraVars(initialExtraVars, masked)\n      );\n    } else {\n      overrides.extra_vars = yaml.safeDump(\n        mergeExtraVars(initialExtraVars, {})\n      );\n    }\n  }\n\n  return (\n    <Fragment>\n      {formErrors && (\n        <ErrorMessageWrapper>\n          {i18n._(t`Some of the previous step(s) have errors`)}\n          <Tooltip\n            position=\"right\"\n            content={i18n._(t`See errors on the left`)}\n            trigger=\"click mouseenter focus\"\n          >\n            <ExclamationCircleIcon />\n          </Tooltip>\n        </ErrorMessageWrapper>\n      )}\n      <PromptDetail\n        resource={resource}\n        launchConfig={launchConfig}\n        overrides={overrides}\n      />\n    </Fragment>\n  );\n}\n\nexport default withI18n()(PreviewStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport PreviewStep from './PreviewStep';\nimport StepName from './StepName';\n\nconst STEP_ID = 'preview';\n\nexport default function usePreviewStep(\n  launchConfig,\n  i18n,\n  resource,\n  surveyConfig,\n  hasErrors,\n  showStep\n) {\n  return {\n    step: showStep\n      ? {\n          id: STEP_ID,\n          name: (\n            <StepName hasErrors={false} id=\"preview-step\">\n              {i18n._(t`Preview`)}\n            </StepName>\n          ),\n          component: (\n            <PreviewStep\n              launchConfig={launchConfig}\n              resource={resource}\n              surveyConfig={surveyConfig}\n              formErrors={hasErrors}\n            />\n          ),\n          enableNext: !hasErrors,\n          nextButtonText: i18n._(t`运行`),\n        }\n      : null,\n    initialValues: {},\n    isReady: true,\n    error: null,\n    setTouched: () => {},\n    validate: () => {},\n  };\n}\n","import { useState, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport useInventoryStep from './steps/useInventoryStep';\nimport useCredentialsStep from './steps/useCredentialsStep';\nimport useCredentialPasswordsStep from './steps/useCredentialPasswordsStep';\nimport useOtherPromptsStep from './steps/useOtherPromptsStep';\nimport useSurveyStep from './steps/useSurveyStep';\nimport usePreviewStep from './steps/usePreviewStep';\n\nfunction showCredentialPasswordsStep(credentials = [], launchConfig) {\n  if (\n    !launchConfig?.ask_credential_on_launch &&\n    launchConfig?.passwords_needed_to_start\n  ) {\n    return launchConfig.passwords_needed_to_start.length > 0;\n  }\n\n  let credentialPasswordStepRequired = false;\n\n  credentials.forEach(credential => {\n    if (!credential.inputs) {\n      const launchConfigCredential = launchConfig.defaults.credentials.find(\n        defaultCred => defaultCred.id === credential.id\n      );\n\n      if (launchConfigCredential?.passwords_needed.length > 0) {\n        credentialPasswordStepRequired = true;\n      }\n    } else if (\n      credential?.inputs?.password === 'ASK' ||\n      credential?.inputs?.become_password === 'ASK' ||\n      credential?.inputs?.ssh_key_unlock === 'ASK' ||\n      credential?.inputs?.vault_password === 'ASK'\n    ) {\n      credentialPasswordStepRequired = true;\n    }\n  });\n\n  return credentialPasswordStepRequired;\n}\n\nexport default function useLaunchSteps(\n  launchConfig,\n  surveyConfig,\n  resource,\n  i18n\n) {\n  const [visited, setVisited] = useState({});\n  const [isReady, setIsReady] = useState(false);\n  const { touched, values: formikValues } = useFormikContext();\n  const steps = [\n    useInventoryStep(launchConfig, resource, i18n, visited),\n    useCredentialsStep(launchConfig, resource, i18n),\n    useCredentialPasswordsStep(\n      launchConfig,\n      i18n,\n      showCredentialPasswordsStep(formikValues.credentials, launchConfig),\n      visited\n    ),\n    useOtherPromptsStep(launchConfig, resource, i18n),\n    useSurveyStep(launchConfig, surveyConfig, resource, i18n, visited),\n  ];\n  const { resetForm } = useFormikContext();\n  const hasErrors = steps.some(step => step.hasError);\n\n  steps.push(\n    usePreviewStep(launchConfig, i18n, resource, surveyConfig, hasErrors, true)\n  );\n\n  const pfSteps = steps.map(s => s.step).filter(s => s != null);\n  const stepsAreReady = !steps.some(s => !s.isReady);\n\n  useEffect(() => {\n    if (stepsAreReady) {\n      const initialValues = steps.reduce((acc, cur) => {\n        return {\n          ...acc,\n          ...cur.initialValues,\n        };\n      }, {});\n\n      const newFormValues = { ...initialValues };\n\n      Object.keys(formikValues).forEach(formikValueKey => {\n        if (\n          formikValueKey === 'credential_passwords' &&\n          Object.prototype.hasOwnProperty.call(\n            newFormValues,\n            'credential_passwords'\n          )\n        ) {\n          const formikCredentialPasswords = formikValues.credential_passwords;\n          Object.keys(formikCredentialPasswords).forEach(\n            credentialPasswordValueKey => {\n              if (\n                Object.prototype.hasOwnProperty.call(\n                  newFormValues.credential_passwords,\n                  credentialPasswordValueKey\n                )\n              ) {\n                newFormValues.credential_passwords[credentialPasswordValueKey] =\n                  formikCredentialPasswords[credentialPasswordValueKey];\n              }\n            }\n          );\n        } else if (\n          Object.prototype.hasOwnProperty.call(newFormValues, formikValueKey)\n        ) {\n          newFormValues[formikValueKey] = formikValues[formikValueKey];\n        }\n      });\n\n      resetForm({\n        values: newFormValues,\n        touched,\n      });\n\n      setIsReady(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [formikValues.credentials, stepsAreReady]);\n\n  const stepWithError = steps.find(s => s.contentError);\n  const contentError = stepWithError ? stepWithError.contentError : null;\n\n  return {\n    steps: pfSteps,\n    isReady,\n    validateStep: stepId => {\n      steps.find(s => s?.step?.id === stepId).validate();\n    },\n    visitStep: (prevStepId, setFieldTouched) => {\n      setVisited({\n        ...visited,\n        [prevStepId]: true,\n      });\n      steps.find(s => s?.step?.id === prevStepId).setTouched(setFieldTouched);\n    },\n    visitAllSteps: setFieldTouched => {\n      setVisited({\n        inventory: true,\n        credentials: true,\n        credentialPasswords: true,\n        other: true,\n        survey: true,\n        preview: true,\n      });\n      steps.forEach(s => s.setTouched(setFieldTouched));\n    },\n    contentError,\n  };\n}\n","import React from 'react';\nimport { Wizard } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useFormikContext } from 'formik';\nimport ContentError from '../ContentError';\nimport ContentLoading from '../ContentLoading';\nimport { useDismissableError } from '../../util/useRequest';\nimport mergeExtraVars from '../../util/prompt/mergeExtraVars';\nimport getSurveyValues from '../../util/prompt/getSurveyValues';\nimport useLaunchSteps from './useLaunchSteps';\nimport AlertModal from '../AlertModal';\n\nfunction PromptModalForm({\n  launchConfig,\n  i18n,\n  onCancel,\n  onSubmit,\n  resource,\n  surveyConfig,\n}) {\n  const { setFieldTouched, values } = useFormikContext();\n\n  const {\n    steps,\n    isReady,\n    validateStep,\n    visitStep,\n    visitAllSteps,\n    contentError,\n  } = useLaunchSteps(launchConfig, surveyConfig, resource, i18n);\n\n  const handleSubmit = () => {\n    const postValues = {};\n    const setValue = (key, value) => {\n      if (typeof value !== 'undefined' && value !== null) {\n        postValues[key] = value;\n      }\n    };\n    const surveyValues = getSurveyValues(values);\n    setValue('credential_passwords', values.credential_passwords);\n    setValue('inventory_id', values.inventory?.id);\n    setValue(\n      'credentials',\n      values.credentials?.map(c => c.id)\n    );\n    setValue('job_type', values.job_type);\n    setValue('limit', values.limit);\n    setValue('job_tags', values.job_tags);\n    setValue('skip_tags', values.skip_tags);\n    const extraVars = launchConfig.ask_variables_on_launch\n      ? values.extra_vars || '---'\n      : resource.extra_vars;\n    setValue('extra_vars', mergeExtraVars(extraVars, surveyValues));\n    setValue('scm_branch', values.scm_branch);\n\n    onSubmit(postValues);\n  };\n  const { error, dismissError } = useDismissableError(contentError);\n\n  if (error) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <Wizard\n      isOpen\n      onClose={onCancel}\n      onSave={handleSubmit}\n      onBack={async nextStep => {\n        validateStep(nextStep.id);\n      }}\n      onNext={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n      onGoToStep={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n      title={i18n._(t`Prompts`)}\n      steps={\n        isReady\n          ? steps\n          : [\n              {\n                name: i18n._(t`Content Loading`),\n                component: <ContentLoading />,\n              },\n            ]\n      }\n      backButtonText={i18n._(t`返回`)}\n      cancelButtonText={i18n._(t`取消`)}\n      nextButtonText={i18n._(t`Next`)}\n    />\n  );\n}\n\nfunction LaunchPrompt({\n  launchConfig,\n  i18n,\n  onCancel,\n  onLaunch,\n  resource = {},\n  surveyConfig,\n}) {\n  return (\n    <Formik initialValues={{}} onSubmit={values => onLaunch(values)}>\n      <PromptModalForm\n        onSubmit={values => onLaunch(values)}\n        onCancel={onCancel}\n        i18n={i18n}\n        launchConfig={launchConfig}\n        surveyConfig={surveyConfig}\n        resource={resource}\n      />\n    </Formik>\n  );\n}\n\nexport { LaunchPrompt as _LaunchPrompt };\nexport default withI18n()(LaunchPrompt);\n","import React, { Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { number, shape } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport {\n  AdHocCommandsAPI,\n  InventorySourcesAPI,\n  JobsAPI,\n  JobTemplatesAPI,\n  ProjectsAPI,\n  WorkflowJobsAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../api';\nimport LaunchPrompt from '../LaunchPrompt';\n\nfunction canLaunchWithoutPrompt(launchData) {\n  return (\n    launchData.can_start_without_user_input &&\n    !launchData.ask_inventory_on_launch &&\n    !launchData.ask_variables_on_launch &&\n    !launchData.ask_limit_on_launch &&\n    !launchData.ask_scm_branch_on_launch &&\n    !launchData.survey_enabled &&\n    (!launchData.passwords_needed_to_start ||\n      launchData.passwords_needed_to_start.length === 0) &&\n    (!launchData.variables_needed_to_start ||\n      launchData.variables_needed_to_start.length === 0)\n  );\n}\n\nclass LaunchButton extends React.Component {\n  static propTypes = {\n    resource: shape({\n      id: number.isRequired,\n    }).isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showLaunchPrompt: false,\n      launchConfig: null,\n      launchError: false,\n      surveyConfig: null,\n    };\n\n    this.handleLaunch = this.handleLaunch.bind(this);\n    this.launchWithParams = this.launchWithParams.bind(this);\n    this.handleRelaunch = this.handleRelaunch.bind(this);\n    this.handleLaunchErrorClose = this.handleLaunchErrorClose.bind(this);\n    this.handlePromptErrorClose = this.handlePromptErrorClose.bind(this);\n  }\n\n  handleLaunchErrorClose() {\n    this.setState({ launchError: null });\n  }\n\n  handlePromptErrorClose() {\n    this.setState({ showLaunchPrompt: false });\n  }\n\n  async handleLaunch() {\n    const { resource } = this.props;\n    const readLaunch =\n      resource.type === 'workflow_job_template'\n        ? WorkflowJobTemplatesAPI.readLaunch(resource.id)\n        : JobTemplatesAPI.readLaunch(resource.id);\n    const readSurvey =\n      resource.type === 'workflow_job_template'\n        ? WorkflowJobTemplatesAPI.readSurvey(resource.id)\n        : JobTemplatesAPI.readSurvey(resource.id);\n    try {\n      const { data: launchConfig } = await readLaunch;\n\n      let surveyConfig = null;\n\n      if (launchConfig.survey_enabled) {\n        const { data } = await readSurvey;\n\n        surveyConfig = data;\n      }\n\n      if (canLaunchWithoutPrompt(launchConfig)) {\n        this.launchWithParams({});\n      } else {\n        this.setState({\n          showLaunchPrompt: true,\n          launchConfig,\n          surveyConfig,\n        });\n      }\n    } catch (err) {\n      this.setState({ launchError: err });\n    }\n  }\n\n  async launchWithParams(params) {\n    try {\n      const { history, resource } = this.props;\n      let jobPromise;\n\n      if (resource.type === 'job_template') {\n        jobPromise = JobTemplatesAPI.launch(resource.id, params || {});\n      } else if (resource.type === 'workflow_job_template') {\n        jobPromise = WorkflowJobTemplatesAPI.launch(resource.id, params || {});\n      } else if (resource.type === 'job') {\n        jobPromise = JobsAPI.relaunch(resource.id, params || {});\n      } else if (resource.type === 'workflow_job') {\n        jobPromise = WorkflowJobsAPI.relaunch(resource.id, params || {});\n      }\n\n      const { data: job } = await jobPromise;\n      history.push(`/jobs/${job.id}/output`);\n    } catch (launchError) {\n      this.setState({ launchError });\n    }\n  }\n\n  async handleRelaunch() {\n    const { history, resource } = this.props;\n\n    let readRelaunch;\n    let relaunch;\n\n    if (resource.type === 'inventory_update') {\n      // We'll need to handle the scenario where the src no longer exists\n      readRelaunch = InventorySourcesAPI.readLaunchUpdate(\n        resource.inventory_source\n      );\n    } else if (resource.type === 'project_update') {\n      // We'll need to handle the scenario where the project no longer exists\n      readRelaunch = ProjectsAPI.readLaunchUpdate(resource.project);\n    } else if (resource.type === 'workflow_job') {\n      readRelaunch = WorkflowJobsAPI.readRelaunch(resource.id);\n    } else if (resource.type === 'ad_hoc_command') {\n      readRelaunch = AdHocCommandsAPI.readRelaunch(resource.id);\n    } else if (resource.type === 'job') {\n      readRelaunch = JobsAPI.readRelaunch(resource.id);\n    }\n\n    try {\n      const { data: relaunchConfig } = await readRelaunch;\n      if (\n        !relaunchConfig.passwords_needed_to_start ||\n        relaunchConfig.passwords_needed_to_start.length === 0\n      ) {\n        if (resource.type === 'inventory_update') {\n          relaunch = InventorySourcesAPI.launchUpdate(\n            resource.inventory_source\n          );\n        } else if (resource.type === 'project_update') {\n          relaunch = ProjectsAPI.launchUpdate(resource.project);\n        } else if (resource.type === 'workflow_job') {\n          relaunch = WorkflowJobsAPI.relaunch(resource.id);\n        } else if (resource.type === 'ad_hoc_command') {\n          relaunch = AdHocCommandsAPI.relaunch(resource.id);\n        } else if (resource.type === 'job') {\n          relaunch = JobsAPI.relaunch(resource.id);\n        }\n        const { data: job } = await relaunch;\n        history.push(`/jobs/${job.id}/output`);\n      } else {\n        this.setState({\n          showLaunchPrompt: true,\n          launchConfig: relaunchConfig,\n        });\n      }\n    } catch (err) {\n      this.setState({ launchError: err });\n    }\n  }\n\n  render() {\n    const {\n      launchError,\n      showLaunchPrompt,\n      launchConfig,\n      surveyConfig,\n    } = this.state;\n    const { resource, i18n, children } = this.props;\n    return (\n      <Fragment>\n        {children({\n          handleLaunch: this.handleLaunch,\n          handleRelaunch: this.handleRelaunch,\n        })}\n        {launchError && (\n          <AlertModal\n            isOpen={launchError}\n            variant=\"error\"\n            title={i18n._(t`Error!`)}\n            onClose={this.handleLaunchErrorClose}\n          >\n            {i18n._(t`Failed to launch job.`)}\n            <ErrorDetail error={launchError} />\n          </AlertModal>\n        )}\n        {showLaunchPrompt && (\n          <LaunchPrompt\n            launchConfig={launchConfig}\n            surveyConfig={surveyConfig}\n            resource={resource}\n            onLaunch={this.launchWithParams}\n            onCancel={() => this.setState({ showLaunchPrompt: false })}\n          />\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport default withI18n()(withRouter(LaunchButton));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { RocketIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../DataListCell';\nimport LaunchButton from '../LaunchButton';\nimport StatusIcon from '../StatusIcon';\nimport { formatDateString } from '../../util/dates';\nimport { JOB_TYPE_URL_SEGMENTS } from '../../constants';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n`;\n\nfunction JobListItem({\n  i18n,\n  job,\n  isSelected,\n  onSelect,\n  showTypeColumn = false,\n}) {\n  const labelId = `check-action-${job.id}`;\n\n  const jobTypes = {\n    project_update: i18n._(t`Source Control Update`),\n    inventory_update: i18n._(t`Inventory Sync`),\n    job: i18n._(t`Playbook Run`),\n    ad_hoc_command: i18n._(t`Command`),\n    management_job: i18n._(t`Management Job`),\n    workflow_job: i18n._(t`Workflow Job`),\n  };\n\n  return (\n    <DataListItem aria-labelledby={labelId} id={`${job.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-job-${job.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"status\" isFilled={false}>\n              {job.status && <StatusIcon status={job.status} />}\n            </DataListCell>,\n            <DataListCell key=\"name\">\n              <span>\n                <Link to={`/jobs/${JOB_TYPE_URL_SEGMENTS[job.type]}/${job.id}`}>\n                  <b>\n                    {job.id} &mdash; {job.name}\n                  </b>\n                </Link>\n              </span>\n            </DataListCell>,\n            ...(showTypeColumn\n              ? [\n                  <DataListCell key=\"type\" aria-label=\"type\">\n                    {jobTypes[job.type]}\n                  </DataListCell>,\n                ]\n              : []),\n            <DataListCell key=\"finished\">\n              {job.finished ? formatDateString(job.finished) : ''}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {job.type !== 'system_job' &&\n          job.summary_fields?.user_capabilities?.start ? (\n            <Tooltip content={i18n._(t`Relaunch Job`)} position=\"top\">\n              <LaunchButton resource={job}>\n                {({ handleRelaunch }) => (\n                  <Button\n                    variant=\"plain\"\n                    onClick={handleRelaunch}\n                    aria-label={i18n._(t`重运行`)}\n                  >\n                    <RocketIcon />\n                  </Button>\n                )}\n              </LaunchButton>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport { JobListItem as _JobListItem };\nexport default withI18n()(JobListItem);\n","import React, { useContext, useEffect, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { arrayOf, func } from 'prop-types';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { KebabifiedContext } from '../../contexts/Kebabified';\nimport AlertModal from '../AlertModal';\nimport { Job } from '../../types';\n\nfunction cannotCancelBecausePermissions(job) {\n  return (\n    !job.summary_fields.user_capabilities.start &&\n    ['pending', 'waiting', 'running'].includes(job.status)\n  );\n}\n\nfunction cannotCancelBecauseNotRunning(job) {\n  return !['pending', 'waiting', 'running'].includes(job.status);\n}\n\nfunction JobListCancelButton({ i18n, jobsToCancel, onCancel }) {\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const numJobsToCancel = jobsToCancel.length;\n  const zeroOrOneJobSelected = numJobsToCancel < 2;\n\n  const handleCancelJob = () => {\n    onCancel();\n    toggleModal();\n  };\n\n  const toggleModal = () => {\n    setIsModalOpen(!isModalOpen);\n  };\n\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isModalOpen);\n    }\n  }, [isKebabified, isModalOpen, onKebabModalChange]);\n\n  const renderTooltip = () => {\n    const cannotCancelPermissions = jobsToCancel\n      .filter(cannotCancelBecausePermissions)\n      .map(job => job.name);\n    const cannotCancelNotRunning = jobsToCancel\n      .filter(cannotCancelBecauseNotRunning)\n      .map(job => job.name);\n    const numJobsUnableToCancel = cannotCancelPermissions.concat(\n      cannotCancelNotRunning\n    ).length;\n    if (numJobsUnableToCancel > 0) {\n      return (\n        <div>\n          {cannotCancelPermissions.length > 0 && (\n            <div>\n              {i18n._(\n                '{numJobsUnableToCancel, plural, one {您无权取消以下作业} other {您无权取消以下作业}}',\n                {\n                  numJobsUnableToCancel: cannotCancelPermissions.length,\n                }\n              )}\n              {' '.concat(cannotCancelPermissions.join(', '))}\n            </div>\n          )}\n          {cannotCancelNotRunning.length > 0 && (\n            <div>\n              {i18n._(\n                '{numJobsUnableToCancel, plural, one {您无法取消以下作业，因为它没有运行} other {您无法取消以下作业，因为它们没有运行}}',\n                {\n                  numJobsUnableToCancel: cannotCancelNotRunning.length,\n                }\n              )}\n              {' '.concat(cannotCancelNotRunning.join(', '))}\n            </div>\n          )}\n        </div>\n      );\n    }\n    if (numJobsToCancel > 0) {\n      return i18n._(\n        '{numJobsToCancel, plural, one {取消选择作业} other {取消选择多个作业}}',\n        {\n          numJobsToCancel,\n        }\n      );\n    }\n    return i18n._(t`选择取消`);\n  };\n\n  const isDisabled =\n    jobsToCancel.length === 0 ||\n    jobsToCancel.some(cannotCancelBecausePermissions) ||\n    jobsToCancel.some(cannotCancelBecauseNotRunning);\n\n  const cancelJobText = i18n._(\n    '{zeroOrOneJobSelected, plural, one {取消作业} other {取消多个作业}}',\n    {\n      zeroOrOneJobSelected,\n    }\n  );\n\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"cancel-job\"\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={toggleModal}\n        >\n          {cancelJobText}\n        </DropdownItem>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              variant=\"secondary\"\n              aria-label={cancelJobText}\n              onClick={toggleModal}\n              isDisabled={isDisabled}\n            >\n              {cancelJobText}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n      {isModalOpen && (\n        <AlertModal\n          variant=\"danger\"\n          title={cancelJobText}\n          isOpen={isModalOpen}\n          onClose={toggleModal}\n          actions={[\n            <Button\n              id=\"cancel-job-confirm-button\"\n              key=\"delete\"\n              variant=\"danger\"\n              aria-label={cancelJobText}\n              onClick={handleCancelJob}\n            >\n              {cancelJobText}\n            </Button>,\n            <Button\n              id=\"cancel-job-return-button\"\n              key=\"cancel\"\n              variant=\"secondary\"\n              aria-label={i18n._(t`Return`)}\n              onClick={toggleModal}\n            >\n              {i18n._(t`Return`)}\n            </Button>,\n          ]}\n        >\n          <div>\n            {i18n._(\n              '{numJobsToCancel, plural, one {This action will cancel the following job:} other {This action will cancel the following jobs:}}',\n              {\n                numJobsToCancel,\n              }\n            )}\n          </div>\n          {jobsToCancel.map(job => (\n            <span key={job.id}>\n              <strong>{job.name}</strong>\n              <br />\n            </span>\n          ))}\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nJobListCancelButton.propTypes = {\n  jobsToCancel: arrayOf(Job),\n  onCancel: func,\n};\n\nJobListCancelButton.defaultProps = {\n  jobsToCancel: [],\n  onCancel: () => {},\n};\n\nexport default withI18n()(JobListCancelButton);\n","import { useState, useEffect, useRef } from 'react';\n\nexport default function useWebsocket(subscribeGroups) {\n  const [lastMessage, setLastMessage] = useState(null);\n  const ws = useRef(null);\n\n  useEffect(function setupSocket() {\n    ws.current = new WebSocket(\n      `${window.location.protocol === 'http:' ? 'ws:' : 'wss:'}//${\n        window.location.host\n      }/websocket/`\n    );\n\n    const connect = () => {\n      const xrftoken = `; ${document.cookie}`\n        .split('; csrftoken=')\n        .pop()\n        .split(';')\n        .shift();\n      ws.current.send(\n        JSON.stringify({\n          xrftoken,\n          groups: subscribeGroups,\n        })\n      );\n    };\n    ws.current.onopen = connect;\n\n    ws.current.onmessage = e => {\n      setLastMessage(JSON.parse(e.data));\n    };\n\n    ws.current.onclose = e => {\n      // eslint-disable-next-line no-console\n      console.debug('Socket closed. Reconnecting...', e);\n      setTimeout(() => {\n        connect();\n      }, 1000);\n    };\n\n    ws.current.onerror = err => {\n      // eslint-disable-next-line no-console\n      console.debug('Socket error: ', err, 'Disconnecting...');\n      ws.current.close();\n    };\n\n    return () => {\n      ws.current.close();\n    };\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return lastMessage;\n}\n","import { useState, useEffect, useRef } from 'react';\n\nexport default function useThrottle(value, limit) {\n  const [throttledValue, setThrottledValue] = useState(value);\n  const lastRan = useRef(Date.now());\n  const initialValue = useRef(value);\n\n  useEffect(() => {\n    if (value !== initialValue.current) {\n      setThrottledValue(value);\n      return () => {};\n    }\n\n    const handler = setTimeout(() => {\n      if (Date.now() - lastRan.current >= limit) {\n        lastRan.current = Date.now();\n        setThrottledValue(value);\n      }\n    }, limit - (Date.now() - lastRan.current));\n\n    return () => {\n      clearTimeout(handler);\n    };\n  }, [value, limit]);\n\n  return throttledValue;\n}\n","const sortFns = {\n  finished: byFinished,\n  id: byId,\n  name: byName,\n  created_by__id: byCreatedBy,\n  unified_job_template__project__id: byProject,\n  started: byStarted,\n};\n\nexport default function sortJobs(jobs, params) {\n  const { order_by = '-finished', page_size = 20 } = params;\n  const key = order_by.replace('-', '');\n  const fn = sortFns[key];\n  if (!fn) {\n    return jobs.slice(0, page_size);\n  }\n\n  const sorted = order_by[0] === '-' ? jobs.sort(reverse(fn)) : jobs.sort(fn);\n  return sorted.slice(0, page_size);\n}\n\nfunction reverse(fn) {\n  return (a, b) => fn(a, b) * -1;\n}\n\nfunction byFinished(a, b) {\n  if (!a.finished) {\n    return 1;\n  }\n  if (!b.finished) {\n    return -1;\n  }\n  return sort(new Date(a.finished), new Date(b.finished));\n}\n\nfunction byStarted(a, b) {\n  if (!a.started) {\n    return 1;\n  }\n  if (!b.started) {\n    return -1;\n  }\n  return sort(new Date(a.started), new Date(b.started));\n}\n\nfunction byId(a, b) {\n  return sort(a.id, b.id);\n}\n\nfunction byName(a, b) {\n  return sort(a.name, b.name);\n}\n\nfunction byCreatedBy(a, b) {\n  const nameA = a.summary_fields?.created_by?.id;\n  const nameB = b.summary_fields?.created_by?.id;\n  return sort(nameA, nameB) * -1;\n}\n\nfunction byProject(a, b) {\n  return sort(a.unified_job_template, b.unified_job_template);\n}\n\nfunction sort(a, b) {\n  if (!a) {\n    return -1;\n  }\n  if (!b) {\n    return 1;\n  }\n  if (a < b) {\n    return -1;\n  }\n  if (a > b) {\n    return 1;\n  }\n  return 0;\n}\n","import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport useWebsocket from '../../util/useWebsocket';\nimport useThrottle from '../../util/useThrottle';\nimport { parseQueryString } from '../../util/qs';\nimport sortJobs from './sortJobs';\n\nexport default function useWsJobs(initialJobs, fetchJobsById, qsConfig) {\n  const location = useLocation();\n  const [jobs, setJobs] = useState(initialJobs);\n  const [jobsToFetch, setJobsToFetch] = useState([]);\n  const throttledJobsToFetch = useThrottle(jobsToFetch, 5000);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    schedules: ['changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setJobs(initialJobs);\n  }, [initialJobs]);\n\n  const enqueueJobId = id => {\n    if (!jobsToFetch.includes(id)) {\n      setJobsToFetch(ids => ids.concat(id));\n    }\n  };\n  useEffect(() => {\n    (async () => {\n      if (!throttledJobsToFetch.length) {\n        return;\n      }\n      setJobsToFetch([]);\n      const newJobs = await fetchJobsById(throttledJobsToFetch);\n      const deduplicated = newJobs.filter(\n        job => !jobs.find(j => j.id === job.id)\n      );\n      if (deduplicated.length) {\n        const params = parseQueryString(qsConfig, location.search);\n        setJobs(sortJobs([...deduplicated, ...jobs], params));\n      }\n    })();\n  }, [throttledJobsToFetch, fetchJobsById]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (!lastMessage || !lastMessage.unified_job_id) {\n      return;\n    }\n    const params = parseQueryString(qsConfig, location.search);\n    const filtersApplied = Object.keys(params).length > 4;\n    if (\n      filtersApplied &&\n      !['completed', 'failed', 'error'].includes(lastMessage.status)\n    ) {\n      return;\n    }\n\n    const jobId = lastMessage.unified_job_id;\n    const index = jobs.findIndex(j => j.id === jobId);\n    if (index > -1) {\n      setJobs(sortJobs(updateJob(jobs, index, lastMessage), params));\n    } else {\n      enqueueJobId(lastMessage.unified_job_id);\n    }\n  }, [lastMessage]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return jobs;\n}\n\nfunction updateJob(jobs, index, message) {\n  const job = {\n    ...jobs[index],\n    status: message.status,\n    finished: message.finished,\n  };\n  return [...jobs.slice(0, index), job, ...jobs.slice(index + 1)];\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Card } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\nimport DatalistToolbar from '../DataListToolbar';\nimport ErrorDetail from '../ErrorDetail';\nimport PaginatedDataList, { ToolbarDeleteButton } from '../PaginatedDataList';\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport JobListItem from './JobListItem';\nimport JobListCancelButton from './JobListCancelButton';\nimport useWsJobs from './useWsJobs';\nimport {\n  AdHocCommandsAPI,\n  InventoryUpdatesAPI,\n  JobsAPI,\n  ProjectUpdatesAPI,\n  SystemJobsAPI,\n  UnifiedJobsAPI,\n  WorkflowJobsAPI,\n} from '../../api';\n\nfunction JobList({ i18n, defaultParams, showTypeColumn = false }) {\n  const QS_CONFIG = getQSConfig(\n    'job',\n    {\n      page: 1,\n      page_size: 20,\n      order_by: '-finished',\n      not__launch_type: 'sync',\n      ...defaultParams,\n    },\n    ['id', 'page', 'page_size']\n  );\n\n  const [selected, setSelected] = useState([]);\n  const location = useLocation();\n  const {\n    result: { results, count, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading,\n    request: fetchJobs,\n  } = useRequest(\n    useCallback(\n      async () => {\n        const params = parseQueryString(QS_CONFIG, location.search);\n        const [response, actionsResponse] = await Promise.all([\n          UnifiedJobsAPI.read({ ...params }),\n          UnifiedJobsAPI.readOptions(),\n        ]);\n        return {\n          results: response.data.results,\n          count: response.data.count,\n          relatedSearchableKeys: (\n            actionsResponse?.data?.related_search_fields || []\n          ).map(val => val.slice(0, -8)),\n          searchableKeys: Object.keys(\n            actionsResponse.data.actions?.GET || {}\n          ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n        };\n      },\n      [location] // eslint-disable-line react-hooks/exhaustive-deps\n    ),\n    {\n      results: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n  useEffect(() => {\n    fetchJobs();\n  }, [fetchJobs]);\n\n  // TODO: update QS_CONFIG to be safe for deps array\n  const fetchJobsById = useCallback(\n    async ids => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      params.id__in = ids.join(',');\n      const { data } = await UnifiedJobsAPI.read(params);\n      return data.results;\n    },\n    [location.search] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  const jobs = useWsJobs(results, fetchJobsById, QS_CONFIG);\n\n  const isAllSelected = selected.length === jobs.length && selected.length > 0;\n\n  const {\n    error: cancelJobsError,\n    isLoading: isCancelLoading,\n    request: cancelJobs,\n  } = useRequest(\n    useCallback(async () => {\n      return Promise.all(\n        selected.map(job => {\n          if (['new', 'pending', 'waiting', 'running'].includes(job.status)) {\n            return JobsAPI.cancel(job.id, job.type);\n          }\n          return Promise.resolve();\n        })\n      );\n    }, [selected]),\n    {}\n  );\n\n  const {\n    error: cancelError,\n    dismissError: dismissCancelError,\n  } = useDismissableError(cancelJobsError);\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteJobs,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ type, id }) => {\n          switch (type) {\n            case 'job':\n              return JobsAPI.destroy(id);\n            case 'ad_hoc_command':\n              return AdHocCommandsAPI.destroy(id);\n            case 'system_job':\n              return SystemJobsAPI.destroy(id);\n            case 'project_update':\n              return ProjectUpdatesAPI.destroy(id);\n            case 'inventory_update':\n              return InventoryUpdatesAPI.destroy(id);\n            case 'workflow_job':\n              return WorkflowJobsAPI.destroy(id);\n            default:\n              return null;\n          }\n        })\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchJobs,\n    }\n  );\n\n  const handleJobCancel = async () => {\n    await cancelJobs();\n    setSelected([]);\n  };\n\n  const handleJobDelete = async () => {\n    await deleteJobs();\n    setSelected([]);\n  };\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...jobs] : []);\n  };\n\n  const handleSelect = item => {\n    if (selected.some(s => s.id === item.id)) {\n      setSelected(selected.filter(s => s.id !== item.id));\n    } else {\n      setSelected(selected.concat(item));\n    }\n  };\n\n  return (\n    <>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isLoading || isDeleteLoading || isCancelLoading}\n          items={jobs}\n          itemCount={count}\n          pluralizedItemName={i18n._(t`作业`)}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`ID`),\n              key: 'id',\n            },\n            {\n              name: i18n._(t`标签名称`),\n              key: 'labels__name__icontains',\n            },\n            {\n              name: i18n._(t`作业类型`),\n              key: `or__type`,\n              options: [\n                [`project_update`, i18n._(t`Source Control Update`)],\n                [`inventory_update`, i18n._(t`Inventory Sync`)],\n                [`job`, i18n._(t`Playbook Run`)],\n                [`ad_hoc_command`, i18n._(t`Command`)],\n                [`system_job`, i18n._(t`Management Job`)],\n                [`workflow_job`, i18n._(t`Workflow Job`)],\n              ],\n            },\n            {\n              name: i18n._(t`发起者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`状态`),\n              key: 'status',\n              options: [\n                [`new`, i18n._(t`New`)],\n                [`pending`, i18n._(t`Pending`)],\n                [`waiting`, i18n._(t`Waiting`)],\n                [`running`, i18n._(t`Running`)],\n                [`successful`, i18n._(t`Successful`)],\n                [`failed`, i18n._(t`Failed`)],\n                [`error`, i18n._(t`Error`)],\n                [`canceled`, i18n._(t`Canceled`)],\n              ],\n            },\n            {\n              name: i18n._(t`范围`),\n              key: 'job__limit',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`结束时间`),\n              key: 'finished',\n            },\n            {\n              name: i18n._(t`ID`),\n              key: 'id',\n            },\n            {\n              name: i18n._(t`发起者`),\n              key: 'created_by__id',\n            },\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n            {\n              name: i18n._(t`项目`),\n              key: 'unified_job_template__project__id',\n            },\n            {\n              name: i18n._(t`开始时间`),\n              key: 'started',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          renderToolbar={props => (\n            <DatalistToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleJobDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName=\"Jobs\"\n                />,\n                <JobListCancelButton\n                  key=\"cancel\"\n                  onCancel={handleJobCancel}\n                  jobsToCancel={selected}\n                />,\n              ]}\n            />\n          )}\n          renderItem={job => (\n            <JobListItem\n              key={job.id}\n              job={job}\n              showTypeColumn={showTypeColumn}\n              onSelect={() => handleSelect(job)}\n              isSelected={selected.some(row => row.id === job.id)}\n            />\n          )}\n        />\n      </Card>\n      {deletionError && (\n        <AlertModal\n          isOpen\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more jobs.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n      {cancelError && (\n        <AlertModal\n          isOpen\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissCancelError}\n        >\n          {i18n._(t`Failed to cancel one or more jobs.`)}\n          <ErrorDetail error={cancelError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(JobList);\n","import * as d3 from 'd3';\nimport { t } from '@lingui/macro';\n\nclass Tooltip {\n  constructor(opts) {\n    this.label = opts.label;\n    this.svg = opts.svg;\n    this.colors = opts.colors;\n    this.i18n = opts.i18n;\n    this.draw();\n  }\n\n  draw() {\n    this.toolTipBase = d3.select(`${this.svg} > svg`).append('g');\n    this.toolTipBase.attr('id', 'chart-tooltip');\n    this.toolTipBase.attr('overflow', 'visible');\n    this.toolTipBase.style('opacity', 0);\n    this.toolTipBase.style('pointer-events', 'none');\n    this.toolTipBase.attr('transform', 'translate(100, 100)');\n    this.boxWidth = 145;\n    this.textWidthThreshold = 20;\n\n    this.toolTipPoint = this.toolTipBase\n      .append('rect')\n      .attr('transform', 'translate(10, -10) rotate(45)')\n      .attr('x', 0)\n      .attr('y', 0)\n      .attr('height', 20)\n      .attr('width', 20)\n      .attr('fill', '#393f44');\n    this.boundingBox = this.toolTipBase\n      .append('rect')\n      .attr('x', 10)\n      .attr('y', -41)\n      .attr('rx', 2)\n      .attr('height', 82)\n      .attr('width', this.boxWidth)\n      .attr('fill', '#393f44');\n    this.circleGreen = this.toolTipBase\n      .append('circle')\n      .attr('cx', 26)\n      .attr('cy', 0)\n      .attr('r', 7)\n      .attr('stroke', 'white')\n      .attr('fill', this.colors(1));\n    this.circleRed = this.toolTipBase\n      .append('circle')\n      .attr('cx', 26)\n      .attr('cy', 26)\n      .attr('r', 7)\n      .attr('stroke', 'white')\n      .attr('fill', this.colors(0));\n    this.successText = this.toolTipBase\n      .append('text')\n      .attr('x', 43)\n      .attr('y', 4)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text(this.i18n._(t`Successful`));\n    this.failText = this.toolTipBase\n      .append('text')\n      .attr('x', 43)\n      .attr('y', 28)\n      .attr('font-size', 12)\n      .attr('fill', 'white')\n      .text(this.i18n._(t`Failed`));\n    this.icon = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('stroke', 'white')\n      .attr('x', 24)\n      .attr('y', 30)\n      .attr('font-size', 12)\n      .text('!');\n    this.jobs = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('x', 137)\n      .attr('y', -21)\n      .attr('font-size', 12)\n      .attr('text-anchor', 'end')\n      .text(this.i18n._(t`No Jobs`));\n    this.successful = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 122)\n      .attr('y', 4)\n      .attr('id', 'successful-count')\n      .text('0');\n    this.failed = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('font-size', 12)\n      .attr('x', 122)\n      .attr('y', 28)\n      .attr('id', 'failed-count')\n      .text('0');\n    this.date = this.toolTipBase\n      .append('text')\n      .attr('fill', 'white')\n      .attr('stroke', 'white')\n      .attr('x', 20)\n      .attr('y', -21)\n      .attr('font-size', 12)\n      .text(this.i18n._(t`Never`));\n  }\n\n  handleMouseOver = d => {\n    let success = 0;\n    let fail = 0;\n    let total = 0;\n    const x =\n      d3.event.pageX -\n      d3\n        .select(this.svg)\n        .node()\n        .getBoundingClientRect().x +\n      10;\n    const y =\n      d3.event.pageY -\n      d3\n        .select(this.svg)\n        .node()\n        .getBoundingClientRect().y -\n      10;\n    const formatTooltipDate = d3.timeFormat('%m/%d');\n    if (!d) {\n      return;\n    }\n\n    const toolTipWidth = this.toolTipBase.node().getBoundingClientRect().width;\n    const chartWidth = d3\n      .select(`${this.svg}> svg`)\n      .node()\n      .getBoundingClientRect().width;\n    const overflow = 100 - (toolTipWidth / chartWidth) * 100;\n    const flipped = overflow < (x / chartWidth) * 100;\n    if (d) {\n      success = d.RAN || 0;\n      fail = d.FAIL || 0;\n      total = d.TOTAL || 0;\n      this.date.text(formatTooltipDate(d.DATE || null));\n    }\n\n    if (d && d.data) {\n      success = d.data.RAN || 0;\n      fail = d.data.FAIL || 0;\n      total = d.data.TOTAL || 0;\n      this.date.text(formatTooltipDate(d.data.DATE || null));\n    }\n\n    this.jobs.text(`${total} ${this.label}`);\n    this.jobsWidth = this.jobs.node().getComputedTextLength();\n    this.failed.text(`${fail}`);\n    this.successful.text(`${success}`);\n    this.successTextWidth = this.successful.node().getComputedTextLength();\n    this.failTextWidth = this.failed.node().getComputedTextLength();\n\n    const maxTextPerc = (this.jobsWidth / this.boxWidth) * 100;\n    const threshold = 40;\n    const overage = maxTextPerc / threshold;\n    let adjustedWidth;\n    if (maxTextPerc > threshold) {\n      adjustedWidth = this.boxWidth * overage;\n    } else {\n      adjustedWidth = this.boxWidth;\n    }\n\n    this.boundingBox.attr('width', adjustedWidth);\n    this.toolTipBase.attr('transform', `translate(${x}, ${y})`);\n    if (flipped) {\n      this.toolTipPoint.attr('transform', 'translate(-20, -10) rotate(45)');\n      this.boundingBox.attr('x', -adjustedWidth - 20);\n      this.circleGreen.attr('cx', -adjustedWidth);\n      this.circleRed.attr('cx', -adjustedWidth);\n      this.icon.attr('x', -adjustedWidth - 2);\n      this.successText.attr('x', -adjustedWidth + 17);\n      this.failText.attr('x', -adjustedWidth + 17);\n      this.successful.attr('x', -this.successTextWidth - 20 - 12);\n      this.failed.attr('x', -this.failTextWidth - 20 - 12);\n      this.date.attr('x', -adjustedWidth - 5);\n      this.jobs.attr('x', -this.jobsWidth / 2 - 14);\n    } else {\n      this.toolTipPoint.attr('transform', 'translate(10, -10) rotate(45)');\n      this.boundingBox.attr('x', 10);\n      this.circleGreen.attr('cx', 26);\n      this.circleRed.attr('cx', 26);\n      this.icon.attr('x', 24);\n      this.successText.attr('x', 43);\n      this.failText.attr('x', 43);\n      this.successful.attr('x', adjustedWidth - this.successTextWidth);\n      this.failed.attr('x', adjustedWidth - this.failTextWidth);\n      this.date.attr('x', 20);\n      this.jobs.attr('x', adjustedWidth);\n    }\n\n    this.toolTipBase.style('opacity', 1);\n    this.toolTipBase.interrupt();\n  };\n\n  handleMouseOut = () => {\n    this.toolTipBase\n      .transition()\n      .delay(15)\n      .style('opacity', 0)\n      .style('pointer-events', 'none');\n  };\n}\n\nexport default Tooltip;\n","import React, { useEffect, useCallback } from 'react';\nimport { string, number, shape, arrayOf } from 'prop-types';\nimport * as d3 from 'd3';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { PageContextConsumer } from '@patternfly/react-core';\n\nimport ChartTooltip from './ChartTooltip';\n\nfunction LineChart({ id, data, height, i18n, pageContext }) {\n  const { isNavOpen } = pageContext;\n\n  // Methods\n  const draw = useCallback(() => {\n    const margin = { top: 15, right: 15, bottom: 35, left: 70 };\n\n    const getWidth = () => {\n      let width;\n      // This is in an a try/catch due to an error from jest.\n      // Even though the d3.select returns a valid selector with\n      // style function, it says it is null in the test\n      try {\n        width =\n          parseInt(d3.select(`#${id}`).style('width'), 10) -\n            margin.left -\n            margin.right || 700;\n      } catch (error) {\n        width = 700;\n      }\n      return width;\n    };\n\n    // Clear our chart container element first\n    d3.selectAll(`#${id} > *`).remove();\n    const width = getWidth();\n\n    function transition(path) {\n      path\n        .transition()\n        .duration(1000)\n        .attrTween('stroke-dasharray', tweenDash);\n    }\n\n    function tweenDash(...params) {\n      const l = params[2][params[1]].getTotalLength();\n      const i = d3.interpolateString(`0,${l}`, `${l},${l}`);\n      return val => i(val);\n    }\n\n    const x = d3.scaleTime().rangeRound([0, width]);\n    const y = d3.scaleLinear().range([height, 0]);\n\n    // [success, fail, total]\n    const colors = d3.scaleOrdinal(['#6EC664', '#A30000', '#06C']);\n    const svg = d3\n      .select(`#${id}`)\n      .append('svg')\n      .attr('width', width + margin.left + margin.right)\n      .attr('height', height + margin.top + margin.bottom)\n      // .attr('id', 'foo')\n      .attr('z', 100)\n      .append('g')\n      .attr('id', 'chart-container')\n      .attr('transform', `translate(${margin.left}, ${margin.top})`);\n    // Tooltip\n    const tooltip = new ChartTooltip({\n      svg: `#${id}`,\n      colors,\n      label: i18n._(t`作业`),\n      i18n,\n    });\n    const parseTime = d3.timeParse('%Y-%m-%d');\n\n    const formattedData = data.reduce(\n      (formatted, { created, successful, failed }) => {\n        const DATE = parseTime(created) || new Date();\n        const RAN = +successful || 0;\n        const FAIL = +failed || 0;\n        const TOTAL = +successful + failed || 0;\n        return formatted.concat({ DATE, RAN, FAIL, TOTAL });\n      },\n      []\n    );\n    // Scale the range of the data\n    const largestY = formattedData.reduce((a_max, b) => {\n      const b_max = Math.max(b.RAN > b.FAIL ? b.RAN : b.FAIL);\n      return a_max > b_max ? a_max : b_max;\n    }, 0);\n    x.domain(d3.extent(formattedData, d => d.DATE));\n    y.domain([\n      0,\n      largestY > 4 ? largestY + Math.max(largestY / 10, 1) : 5,\n    ]).nice();\n\n    const successLine = d3\n      .line()\n      .curve(d3.curveMonotoneX)\n      .x(d => x(d.DATE))\n      .y(d => y(d.RAN));\n\n    const failLine = d3\n      .line()\n      .defined(d => typeof d.FAIL === 'number')\n      .curve(d3.curveMonotoneX)\n      .x(d => x(d.DATE))\n      .y(d => y(d.FAIL));\n    // Add the Y Axis\n    svg\n      .append('g')\n      .attr('class', 'y-axis')\n      .call(\n        d3\n          .axisLeft(y)\n          .ticks(\n            largestY > 3\n              ? Math.min(largestY + Math.max(largestY / 10, 1), 10)\n              : 5\n          )\n          .tickSize(-width)\n          .tickFormat(d3.format('d'))\n      )\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n    svg.selectAll('.y-axis .tick text').attr('x', -5);\n\n    // text label for the y axis\n    svg\n      .append('text')\n      .attr('transform', 'rotate(-90)')\n      .attr('y', 0 - margin.left)\n      .attr('x', 0 - height / 2)\n      .attr('dy', '1em')\n      .style('text-anchor', 'middle')\n      .text('作业');\n\n    // Add the X Axis\n    let ticks;\n    const maxTicks = Math.round(\n      formattedData.length / (formattedData.length / 2)\n    );\n    ticks = formattedData.map(d => d.DATE);\n    if (formattedData.length === 31) {\n      ticks = formattedData\n        .map((d, i) => (i % maxTicks === 0 ? d.DATE : undefined))\n        .filter(item => item);\n    }\n\n    svg.select('.domain').attr('stroke', '#d7d7d7');\n\n    svg\n      .append('g')\n      .attr('class', 'x-axis')\n      .attr('transform', `translate(0, ${height})`)\n      .call(\n        d3\n          .axisBottom(x)\n          .tickValues(ticks)\n          .tickSize(-height)\n          .tickFormat(d3.timeFormat('%-m/%-d')) // \"1/19\"\n      ) // \"Jan-01\"\n      .selectAll('line')\n      .attr('stroke', '#d7d7d7');\n\n    svg.selectAll('.x-axis .tick text').attr('y', 10);\n\n    // text label for the x axis\n    svg\n      .append('text')\n      .attr(\n        'transform',\n        `translate(${width / 2} , ${height + margin.top + 20})`\n      )\n      .style('text-anchor', 'middle')\n      .text('Date');\n    const vertical = svg\n      .append('path')\n      .attr('class', 'mouse-line')\n      .style('stroke', 'black')\n      .style('stroke-width', '3px')\n      .style('stroke-dasharray', '3, 3')\n      .style('opacity', '0');\n\n    const handleMouseOver = d => {\n      tooltip.handleMouseOver(d);\n      // show vertical line\n      vertical.transition().style('opacity', '1');\n    };\n\n    const handleMouseMove = function mouseMove(...params) {\n      const intersectX = params[2][params[1]].cx.baseVal.value;\n      vertical.attr('d', () => `M${intersectX},${height} ${intersectX},${0}`);\n    };\n\n    const handleMouseOut = () => {\n      // hide tooltip\n      tooltip.handleMouseOut();\n      // hide vertical line\n      vertical.transition().style('opacity', 0);\n    };\n\n    // Add the successLine path.\n    svg\n      .append('path')\n      .data([formattedData])\n      .attr('class', 'line')\n      .style('fill', 'none')\n      .style('stroke', () => colors(1))\n      .attr('stroke-width', 2)\n      .attr('d', successLine)\n      .call(transition);\n\n    // Add the failLine path.\n    svg\n      .append('path')\n      .data([formattedData])\n      .attr('class', 'line')\n      .style('fill', 'none')\n      .style('stroke', () => colors(0))\n      .attr('stroke-width', 2)\n      .attr('d', failLine)\n      .call(transition);\n\n    const dateFormat = d3.timeFormat('%-m-%-d');\n\n    // create our successLine circles\n    svg\n      .selectAll('dot')\n      .data(formattedData)\n      .enter()\n      .append('circle')\n      .attr('r', 3)\n      .style('stroke', () => colors(1))\n      .style('fill', () => colors(1))\n      .attr('cx', d => x(d.DATE))\n      .attr('cy', d => y(d.RAN))\n      .attr('id', d => `success-dot-${dateFormat(d.DATE)}`)\n      .on('mouseover', handleMouseOver)\n      .on('mousemove', handleMouseMove)\n      .on('mouseout', handleMouseOut);\n    // create our failLine circles\n    svg\n      .selectAll('dot')\n      .data(formattedData)\n      .enter()\n      .append('circle')\n      .attr('r', 3)\n      .style('stroke', () => colors(0))\n      .style('fill', () => colors(0))\n      .attr('cx', d => x(d.DATE))\n      .attr('cy', d => y(d.FAIL))\n      .attr('id', d => `success-dot-${dateFormat(d.DATE)}`)\n      .on('mouseover', handleMouseOver)\n      .on('mousemove', handleMouseMove)\n      .on('mouseout', handleMouseOut);\n  }, [data, height, i18n, id]);\n\n  useEffect(() => {\n    draw();\n  }, [draw, isNavOpen]);\n\n  useEffect(() => {\n    function handleResize() {\n      draw();\n    }\n\n    window.addEventListener('resize', handleResize);\n\n    handleResize();\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, [draw]);\n\n  return <div id={id} />;\n}\n\nLineChart.propTypes = {\n  id: string.isRequired,\n  data: arrayOf(shape({})).isRequired,\n  height: number.isRequired,\n};\n\nconst withPageContext = Component => {\n  return function contextComponent(props) {\n    return (\n      <PageContextConsumer>\n        {pageContext => <Component {...props} pageContext={pageContext} />}\n      </PageContextConsumer>\n    );\n  };\n};\n\nexport default withI18n()(withPageContext(LineChart));\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\n\nconst CountCard = styled(Card)`\n  padding: var(--pf-global--spacer--md);\n  display: flex;\n  align-items: center;\n  padding-top: var(--pf-global--spacer--sm);\n  cursor: pointer;\n  text-align: center;\n  color: var(--pf-global--palette--black-1000);\n  text-decoration: none;\n\n  & h2 {\n    font-size: var(--pf-global--FontSize--4xl);\n    color: var(--pf-global--palette--blue-400);\n    text-decoration: none;\n  }\n\n  & h2.failed {\n    color: var(--pf-global--palette--red-200);\n  }\n`;\n\nconst CountLink = styled(Link)`\n  display: contents;\n  &:hover {\n    text-decoration: none;\n  }\n`;\n\nfunction Count({ failed, link, data, label }) {\n  return (\n    <CountLink to={link}>\n      <CountCard isHoverable>\n        <h2 className={failed && 'failed'}>{data || 0}</h2>\n        {label}\n      </CountCard>\n    </CountLink>\n  );\n}\n\nexport default Count;\n","import { useState, useEffect } from 'react';\nimport useWebsocket from './useWebsocket';\n\nexport default function useWsTemplates(initialTemplates) {\n  const [templates, setTemplates] = useState(initialTemplates);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setTemplates(initialTemplates);\n  }, [initialTemplates]);\n\n  useEffect(\n    function parseWsMessage() {\n      if (!lastMessage?.unified_job_id) {\n        return;\n      }\n      const index = templates.findIndex(\n        t => t.id === lastMessage.unified_job_template_id\n      );\n      if (index === -1) {\n        return;\n      }\n\n      const template = templates[index];\n      const updated = [...templates];\n      updated[index] = updateTemplate(template, lastMessage);\n      setTemplates(updated);\n    },\n    [lastMessage] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  return templates;\n}\n\nfunction updateTemplate(template, message) {\n  const recentJobs = [...(template.summary_fields.recent_jobs || [])];\n  const job = {\n    id: message.unified_job_id,\n    status: message.status,\n    finished: message.finished || null,\n    type: message.type,\n  };\n  const index = recentJobs.findIndex(j => j.id === job.id);\n  if (index > -1) {\n    recentJobs[index] = {\n      ...recentJobs[index],\n      ...job,\n    };\n  } else {\n    recentJobs.unshift(job);\n  }\n\n  return {\n    ...template,\n    summary_fields: {\n      ...template.summary_fields,\n      recent_jobs: recentJobs.slice(0, 10),\n    },\n  };\n}\n","import React, { useState, useRef, useEffect, Fragment } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownPosition } from '@patternfly/react-core';\nimport { ToolbarAddButton } from '../PaginatedDataList';\nimport { useKebabifiedMenu } from '../../contexts/Kebabified';\n\nfunction AddDropDownButton({ dropdownItems, i18n }) {\n  const { isKebabified } = useKebabifiedMenu();\n  const [isOpen, setIsOpen] = useState(false);\n  const element = useRef(null);\n\n  useEffect(() => {\n    const toggle = e => {\n      if (!isKebabified && (!element || !element.current.contains(e.target))) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('click', toggle, false);\n    return () => {\n      document.removeEventListener('click', toggle);\n    };\n  }, [isKebabified]);\n\n  if (isKebabified) {\n    return <Fragment>{dropdownItems}</Fragment>;\n  }\n\n  return (\n    <div ref={element} key=\"add\">\n      <Dropdown\n        isPlain\n        isOpen={isOpen}\n        position={DropdownPosition.right}\n        toggle={\n          <ToolbarAddButton\n            aria-label={i18n._(t`添加`)}\n            showToggleIndicator\n            onClick={() => setIsOpen(!isOpen)}\n          />\n        }\n        dropdownItems={dropdownItems}\n      />\n    </div>\n  );\n}\n\nAddDropDownButton.propTypes = {\n  dropdownItems: PropTypes.arrayOf(PropTypes.element.isRequired).isRequired,\n};\n\nexport { AddDropDownButton as _AddDropDownButton };\nexport default withI18n()(AddDropDownButton);\n","import 'styled-components/macro';\nimport React, { useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  ExclamationTriangleIcon,\n  PencilAltIcon,\n  ProjectDiagramIcon,\n  RocketIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nimport DataListCell from '../../../components/DataListCell';\nimport { timeOfDay } from '../../../util/dates';\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from '../../../api';\nimport LaunchButton from '../../../components/LaunchButton';\nimport Sparkline from '../../../components/Sparkline';\nimport { toTitleCase } from '../../../util/strings';\nimport CopyButton from '../../../components/CopyButton';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(4, 40px);\n`;\n\nfunction DashboardTemplateListItem({\n  i18n,\n  template,\n  isSelected,\n  onSelect,\n  detailUrl,\n  fetchTemplates,\n}) {\n  const [isDisabled, setIsDisabled] = useState(false);\n  const labelId = `check-action-${template.id}`;\n\n  const copyTemplate = useCallback(async () => {\n    if (template.type === 'job_template') {\n      await JobTemplatesAPI.copy(template.id, {\n        name: `${template.name} @ ${timeOfDay()}`,\n      });\n    } else {\n      await WorkflowJobTemplatesAPI.copy(template.id, {\n        name: `${template.name} @ ${timeOfDay()}`,\n      });\n    }\n    await fetchTemplates();\n  }, [fetchTemplates, template.id, template.name, template.type]);\n\n  const handleCopyStart = useCallback(() => {\n    setIsDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsDisabled(false);\n  }, []);\n\n  const missingResourceIcon =\n    template.type === 'job_template' &&\n    (!template.summary_fields.project ||\n      (!template.summary_fields.inventory &&\n        !template.ask_inventory_on_launch));\n  return (\n    <DataListItem aria-labelledby={labelId} id={`${template.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          isDisabled={isDisabled}\n          id={`select-jobTemplate-${template.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" id={labelId}>\n              <span>\n                <Link to={`${detailUrl}`}>\n                  <b>{template.name}</b>\n                </Link>\n              </span>\n              {missingResourceIcon && (\n                <span>\n                  <Tooltip\n                    content={i18n._(\n                      t`此模板中缺少资源。`\n                    )}\n                    position=\"right\"\n                  >\n                    <ExclamationTriangleIcon css=\"color: #c9190b; margin-left: 20px;\" />\n                  </Tooltip>\n                </span>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {toTitleCase(template.type)}\n            </DataListCell>,\n            <DataListCell key=\"sparkline\">\n              <Sparkline jobs={template.summary_fields.recent_jobs} />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction aria-label=\"actions\" aria-labelledby={labelId}>\n          {template.type === 'workflow_job_template' && (\n            <Tooltip content={i18n._(t`可视化`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`可视化`)}\n                css=\"grid-column: 1\"\n                variant=\"plain\"\n                component={Link}\n                to={`/templates/workflow_job_template/${template.id}/visualizer`}\n              >\n                <ProjectDiagramIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.start && (\n            <Tooltip content={i18n._(t`启动模板`)} position=\"top\">\n              <LaunchButton resource={template}>\n                {({ handleLaunch }) => (\n                  <Button\n                    isDisabled={isDisabled}\n                    aria-label={i18n._(t`启动模板`)}\n                    css=\"grid-column: 2\"\n                    variant=\"plain\"\n                    onClick={handleLaunch}\n                  >\n                    <RocketIcon />\n                  </Button>\n                )}\n              </LaunchButton>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑模板`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`编辑模板`)}\n                css=\"grid-column: 3\"\n                variant=\"plain\"\n                component={Link}\n                to={`/templates/${template.type}/${template.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.copy && (\n            <CopyButton\n              helperText={{\n                tooltip: i18n._(t`复制模板`),\n                errorMessage: i18n._(t`复制模板失败。`),\n              }}\n              isDisabled={isDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              copyItem={copyTemplate}\n            />\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport { DashboardTemplateListItem as _TemplateListItem };\nexport default withI18n()(DashboardTemplateListItem);\n","import React, { Fragment, useEffect, useState, useCallback } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, DropdownItem } from '@patternfly/react-core';\n\nimport {\n  JobTemplatesAPI,\n  UnifiedJobTemplatesAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useWsTemplates from '../../../util/useWsTemplates';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\n\nimport DashboardTemplateListItem from './DashboardTemplateListItem';\n\nconst QS_CONFIG = getQSConfig(\n  'template',\n  {\n    page: 1,\n    page_size: 5,\n    order_by: 'name',\n    type: 'job_template,workflow_job_template',\n  },\n  ['id', 'page', 'page_size']\n);\n\nfunction DashboardTemplateList({ i18n }) {\n  // The type value in const QS_CONFIG below does not have a space between job_template and\n  // workflow_job_template so the params sent to the API match what the api expects.\n\n  const location = useLocation();\n\n  const [selected, setSelected] = useState([]);\n\n  const {\n    result: {\n      results,\n      count,\n      jtActions,\n      wfjtActions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const responses = await Promise.all([\n        UnifiedJobTemplatesAPI.read(params),\n        JobTemplatesAPI.readOptions(),\n        WorkflowJobTemplatesAPI.readOptions(),\n        UnifiedJobTemplatesAPI.readOptions(),\n      ]);\n      return {\n        results: responses[0].data.results,\n        count: responses[0].data.count,\n        jtActions: responses[1].data.actions,\n        wfjtActions: responses[2].data.actions,\n        relatedSearchableKeys: (\n          responses[3]?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          responses[3].data.actions?.GET || {}\n        ).filter(key => responses[3].data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      results: [],\n      count: 0,\n      jtActions: {},\n      wfjtActions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [fetchTemplates]);\n\n  const templates = useWsTemplates(results);\n\n  const isAllSelected =\n    selected.length === templates.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTemplates,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ type, id }) => {\n          if (type === 'job_template') {\n            return JobTemplatesAPI.destroy(id);\n          }\n          if (type === 'workflow_job_template') {\n            return WorkflowJobTemplatesAPI.destroy(id);\n          }\n          return false;\n        })\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTemplates,\n    }\n  );\n\n  const handleTemplateDelete = async () => {\n    await deleteTemplates();\n    setSelected([]);\n  };\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...templates] : []);\n  };\n\n  const handleSelect = template => {\n    if (selected.some(s => s.id === template.id)) {\n      setSelected(selected.filter(s => s.id !== template.id));\n    } else {\n      setSelected(selected.concat(template));\n    }\n  };\n\n  const canAddJT =\n    jtActions && Object.prototype.hasOwnProperty.call(jtActions, 'POST');\n  const canAddWFJT =\n    wfjtActions && Object.prototype.hasOwnProperty.call(wfjtActions, 'POST');\n\n  const addTemplate = i18n._(t`Add job template`);\n  const addWFTemplate = i18n._(t`Add workflow template`);\n  const addButton = (\n    <AddDropDownButton\n      key=\"add\"\n      dropdownItems={[\n        <DropdownItem\n          key={addTemplate}\n          component={Link}\n          to=\"/templates/job_template/add/\"\n          aria-label={addTemplate}\n        >\n          {addTemplate}\n        </DropdownItem>,\n        <DropdownItem\n          component={Link}\n          to=\"/templates/workflow_job_template/add/\"\n          key={addWFTemplate}\n          aria-label={addWFTemplate}\n        >\n          {addWFTemplate}\n        </DropdownItem>,\n      ]}\n    />\n  );\n\n  return (\n    <Fragment>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isLoading || isDeleteLoading}\n          items={templates}\n          itemCount={count}\n          pluralizedItemName={i18n._(t`Templates`)}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`描述`),\n              key: 'description__icontains',\n            },\n            {\n              name: i18n._(t`类型`),\n              key: 'or__type',\n              options: [\n                [`job_template`, i18n._(t`作业模板`)],\n                [`workflow_job_template`, i18n._(t`Workflow Template`)],\n              ],\n            },\n            {\n              name: i18n._(t`剧本名称`),\n              key: 'job_template__playbook__icontains',\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`清单`),\n              key: 'job_template__inventory__id',\n            },\n            {\n              name: i18n._(t`最后运行`),\n              key: 'last_job_run',\n            },\n            {\n              name: i18n._(t`更改`),\n              key: 'modified',\n            },\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n            {\n              name: i18n._(t`项目`),\n              key: 'jobtemplate__project__id',\n            },\n            {\n              name: i18n._(t`类型`),\n              key: 'type',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          renderToolbar={props => (\n            <DatalistToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAddJT || canAddWFJT ? [addButton] : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleTemplateDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName=\"Templates\"\n                />,\n              ]}\n            />\n          )}\n          renderItem={template => (\n            <DashboardTemplateListItem\n              key={template.id}\n              value={template.name}\n              template={template}\n              detailUrl={`/templates/${template.type}/${template.id}`}\n              onSelect={() => handleSelect(template)}\n              isSelected={selected.some(row => row.id === template.id)}\n              fetchTemplates={fetchTemplates}\n            />\n          )}\n          emptyStateControls={(canAddJT || canAddWFJT) && addButton}\n        />\n      </Card>\n      <AlertModal\n        aria-label={i18n._(t`Deletion Error`)}\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more templates.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(DashboardTemplateList);\n","import React, { Fragment, useCallback, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Card,\n  CardHeader,\n  CardActions,\n  CardBody,\n  PageSection,\n  Select,\n  SelectVariant,\n  SelectOption,\n  Tabs,\n  Tab,\n  TabTitleText,\n} from '@patternfly/react-core';\n\nimport useRequest from '../../util/useRequest';\nimport { DashboardAPI } from '../../api';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport JobList from '../../components/JobList';\nimport ContentLoading from '../../components/ContentLoading';\nimport LineChart from './shared/LineChart';\nimport Count from './shared/Count';\nimport DashboardTemplateList from './shared/DashboardTemplateList';\n\nconst Counts = styled.div`\n  display: grid;\n  grid-template-columns: repeat(6, 1fr);\n  grid-gap: var(--pf-global--spacer--lg);\n\n  @media (max-width: 900px) {\n    grid-template-columns: repeat(3, 1fr);\n    grid-auto-rows: 1fr;\n  }\n`;\n\nconst MainPageSection = styled(PageSection)`\n  padding-top: 0;\n  padding-bottom: 0;\n\n  & .spacer {\n    margin-bottom: var(--pf-global--spacer--lg);\n  }\n`;\n\nconst GraphCardHeader = styled(CardHeader)`\n  margin-top: var(--pf-global--spacer--lg);\n`;\n\nconst GraphCardActions = styled(CardActions)`\n  margin-left: initial;\n  padding-left: 0;\n`;\n\nfunction Dashboard({ i18n }) {\n  const [isPeriodDropdownOpen, setIsPeriodDropdownOpen] = useState(false);\n  const [isJobTypeDropdownOpen, setIsJobTypeDropdownOpen] = useState(false);\n  const [periodSelection, setPeriodSelection] = useState('month');\n  const [jobTypeSelection, setJobTypeSelection] = useState('all');\n  const [activeTabId, setActiveTabId] = useState(0);\n\n  const {\n    isLoading,\n    result: { jobGraphData, countData },\n    request: fetchDashboardGraph,\n  } = useRequest(\n    useCallback(async () => {\n      const [{ data }, { data: dataFromCount }] = await Promise.all([\n        DashboardAPI.readJobGraph({\n          period: periodSelection,\n          job_type: jobTypeSelection,\n        }),\n        DashboardAPI.read(),\n      ]);\n      const newData = {};\n      data.jobs.successful.forEach(([dateSecs, count]) => {\n        if (!newData[dateSecs]) {\n          newData[dateSecs] = {};\n        }\n        newData[dateSecs].successful = count;\n      });\n      data.jobs.failed.forEach(([dateSecs, count]) => {\n        if (!newData[dateSecs]) {\n          newData[dateSecs] = {};\n        }\n        newData[dateSecs].failed = count;\n      });\n      const jobData = Object.keys(newData).map(dateSecs => {\n        const [created] = new Date(dateSecs * 1000).toISOString().split('T');\n        newData[dateSecs].created = created;\n        return newData[dateSecs];\n      });\n      return {\n        jobGraphData: jobData,\n        countData: dataFromCount,\n      };\n    }, [periodSelection, jobTypeSelection]),\n    {\n      jobGraphData: [],\n      countData: {},\n    }\n  );\n\n  useEffect(() => {\n    fetchDashboardGraph();\n  }, [fetchDashboardGraph, periodSelection, jobTypeSelection]);\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n  return (\n    <Fragment>\n      <ScreenHeader\n        streamType=\"all\"\n        breadcrumbConfig={{ '/home': i18n._(t`仪表盘`) }}\n      />\n      <PageSection>\n        <Counts>\n          <Count\n            link=\"/hosts\"\n            data={countData?.hosts?.total}\n            label={i18n._(t`主机`)}\n          />\n          <Count\n            failed\n            link=\"/hosts?host.last_job_host_summary__failed=true\"\n            data={countData?.hosts?.failed}\n            label={i18n._(t`失败的主机`)}\n          />\n          <Count\n            link=\"/inventories\"\n            data={countData?.inventories?.total}\n            label={i18n._(t`清单`)}\n          />\n          <Count\n            failed\n            link=\"/inventories?inventory.inventory_sources_with_failures__gt=0\"\n            data={countData?.inventories?.inventory_failed}\n            label={i18n._(t`清单同步失败`)}\n          />\n          <Count\n            link=\"/projects\"\n            data={countData?.projects?.total}\n            label={i18n._(t`项目`)}\n          />\n          <Count\n            failed\n            link=\"/projects?project.status__in=failed,canceled\"\n            data={countData?.projects?.failed}\n            label={i18n._(t`项目同步失败`)}\n          />\n        </Counts>\n      </PageSection>\n      <MainPageSection>\n        <div className=\"spacer\">\n          <Card id=\"dashboard-main-container\">\n            <Tabs\n              aria-label={i18n._(t`Tabs`)}\n              activeKey={activeTabId}\n              onSelect={(key, eventKey) => setActiveTabId(eventKey)}\n            >\n              <Tab\n                aria-label={i18n._(t`Job status graph tab`)}\n                eventKey={0}\n                title={<TabTitleText>{i18n._(t`作业状态`)}</TabTitleText>}\n              />\n              <Tab\n                aria-label={i18n._(t`Recent Jobs list tab`)}\n                eventKey={1}\n                title={<TabTitleText>{i18n._(t`最近作业`)}</TabTitleText>}\n              />\n              <Tab\n                aria-label={i18n._(t`Recent Templates list tab`)}\n                eventKey={2}\n                title={\n                  <TabTitleText>{i18n._(t`最近模板`)}</TabTitleText>\n                }\n              />\n            </Tabs>\n            {activeTabId === 0 && (\n              <Fragment>\n                <GraphCardHeader>\n                  <GraphCardActions>\n                    <Select\n                      variant={SelectVariant.single}\n                      placeholderText={i18n._(t`Select period`)}\n                      aria-label={i18n._(t`Select period`)}\n                      className=\"periodSelect\"\n                      onToggle={setIsPeriodDropdownOpen}\n                      onSelect={(event, selection) =>\n                        setPeriodSelection(selection)\n                      }\n                      selections={periodSelection}\n                      isOpen={isPeriodDropdownOpen}\n                    >\n                      <SelectOption key=\"month\" value=\"month\">\n                        {i18n._(t`近一月`)}\n                      </SelectOption>\n                      <SelectOption key=\"two_weeks\" value=\"two_weeks\">\n                        {i18n._(t`近两周`)}\n                      </SelectOption>\n                      <SelectOption key=\"week\" value=\"week\">\n                        {i18n._(t`近一周`)}\n                      </SelectOption>\n                    </Select>\n                    <Select\n                      variant={SelectVariant.single}\n                      placeholderText={i18n._(t`Select job type`)}\n                      aria-label={i18n._(t`Select job type`)}\n                      className=\"jobTypeSelect\"\n                      onToggle={setIsJobTypeDropdownOpen}\n                      onSelect={(event, selection) =>\n                        setJobTypeSelection(selection)\n                      }\n                      selections={jobTypeSelection}\n                      isOpen={isJobTypeDropdownOpen}\n                    >\n                      <SelectOption key=\"all\" value=\"all\">\n                        {i18n._(t`所有`)}\n                      </SelectOption>\n                      <SelectOption key=\"inv_sync\" value=\"inv_sync\">\n                        {i18n._(t`清单同步`)}\n                      </SelectOption>\n                      <SelectOption key=\"scm_update\" value=\"scm_update\">\n                        {i18n._(t`SCM 更新`)}\n                      </SelectOption>\n                      <SelectOption key=\"playbook_run\" value=\"playbook_run\">\n                        {i18n._(t`剧本运行`)}\n                      </SelectOption>\n                    </Select>\n                  </GraphCardActions>\n                </GraphCardHeader>\n                <CardBody>\n                  <LineChart\n                    height={390}\n                    id=\"d3-line-chart-root\"\n                    data={jobGraphData}\n                  />\n                </CardBody>\n              </Fragment>\n            )}\n            {activeTabId === 1 && <JobList defaultParams={{ page_size: 5 }} />}\n            {activeTabId === 2 && <DashboardTemplateList />}\n          </Card>\n        </div>\n      </MainPageSection>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(Dashboard);\n","import 'styled-components/macro';\nimport React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Switch, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport useRequest from '../../util/useRequest';\nimport { HostsAPI } from '../../api';\n\nfunction HostToggle({\n  i18n,\n  className,\n  host,\n  isDisabled = false,\n  onToggle,\n  tooltip = i18n._(\n    t`Indicates if a host is available and should be included in running\n    jobs.  For hosts that are part of an external inventory, this may be\n    reset by the inventory sync process.`\n  ),\n}) {\n  const [isEnabled, setIsEnabled] = useState(host.enabled);\n  const [showError, setShowError] = useState(false);\n\n  const { result, isLoading, error, request: toggleHost } = useRequest(\n    useCallback(async () => {\n      await HostsAPI.update(host.id, {\n        enabled: !isEnabled,\n      });\n      return !isEnabled;\n    }, [host, isEnabled]),\n    host.enabled\n  );\n\n  useEffect(() => {\n    if (result !== isEnabled) {\n      setIsEnabled(result);\n      if (onToggle) {\n        onToggle(result);\n      }\n    }\n  }, [result, isEnabled, onToggle]);\n\n  useEffect(() => {\n    if (error) {\n      setShowError(true);\n    }\n  }, [error]);\n\n  return (\n    <Fragment>\n      <Tooltip content={tooltip} position=\"top\">\n        <Switch\n          className={className}\n          css=\"display: inline-flex;\"\n          id={`host-${host.id}-toggle`}\n          label={i18n._(t`On`)}\n          labelOff={i18n._(t`Off`)}\n          isChecked={isEnabled}\n          isDisabled={\n            isLoading ||\n            isDisabled ||\n            !host.summary_fields.user_capabilities.edit\n          }\n          onChange={toggleHost}\n          aria-label={i18n._(t`Toggle host`)}\n        />\n      </Tooltip>\n      {showError && error && !isLoading && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={error && !isLoading}\n          onClose={() => setShowError(false)}\n        >\n          {i18n._(t`Failed to toggle host.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </Fragment>\n  );\n}\n\nexport default withI18n()(HostToggle);\n","import 'styled-components/macro';\nimport React, { Fragment } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport Sparkline from '../../../components/Sparkline';\nimport { Host } from '../../../types';\nimport HostToggle from '../../../components/HostToggle';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: 92px 40px;\n`;\n\nfunction HostListItem({ i18n, host, isSelected, onSelect, detailUrl }) {\n  const labelId = `check-action-${host.id}`;\n  return (\n    <DataListItem key={host.id} aria-labelledby={labelId} id={`${host.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-host-${host.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`}>\n                <b>{host.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"recentJobs\">\n              <Sparkline jobs={host.summary_fields.recent_jobs} />\n            </DataListCell>,\n            <DataListCell key=\"inventory\">\n              {host.summary_fields.inventory && (\n                <Fragment>\n                  <b css=\"margin-right: 24px\">{i18n._(t`清单`)}</b>\n                  <Link\n                    to={`/inventories/inventory/${host.summary_fields.inventory.id}/details`}\n                  >\n                    {host.summary_fields.inventory.name}\n                  </Link>\n                </Fragment>\n              )}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          <HostToggle host={host} />\n          {host.summary_fields.user_capabilities.edit ? (\n            <Tooltip content={i18n._(t`编辑主机`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑主机`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/hosts/${host.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nHostListItem.propTypes = {\n  host: Host.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(HostListItem);\n","import React from 'react';\nimport { func } from 'prop-types';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useKebabifiedMenu } from '../../../contexts/Kebabified';\n\nfunction SmartInventoryButton({ onClick, i18n, isDisabled }) {\n  const { isKebabified } = useKebabifiedMenu();\n\n  if (isKebabified) {\n    return (\n      <DropdownItem\n        key=\"add\"\n        isDisabled={isDisabled}\n        component=\"button\"\n        onClick={onClick}\n      >\n        {i18n._(t`Smart Inventory`)}\n      </DropdownItem>\n    );\n  }\n\n  return (\n    <Tooltip\n      key=\"smartInventory\"\n      content={\n        !isDisabled\n          ? i18n._(t`Create a new Smart Inventory with the applied filter`)\n          : i18n._(\n              t`Enter at least one search filter to create a new Smart Inventory`\n            )\n      }\n      position=\"top\"\n    >\n      <div>\n        <Button\n          onClick={onClick}\n          aria-label={i18n._(t`Smart Inventory`)}\n          variant=\"secondary\"\n          isDisabled={isDisabled}\n        >\n          {i18n._(t`Smart Inventory`)}\n        </Button>\n      </div>\n    </Tooltip>\n  );\n}\nSmartInventoryButton.propTypes = {\n  onClick: func.isRequired,\n};\n\nexport default withI18n()(SmartInventoryButton);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useHistory, useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { HostsAPI } from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport {\n  encodeQueryString,\n  getQSConfig,\n  parseQueryString,\n} from '../../../util/qs';\n\nimport HostListItem from './HostListItem';\nimport SmartInventoryButton from './SmartInventoryButton';\n\nconst QS_CONFIG = getQSConfig('host', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction HostList({ i18n }) {\n  const history = useHistory();\n  const location = useLocation();\n  const match = useRouteMatch();\n  const [selected, setSelected] = useState([]);\n  const parsedQueryStrings = parseQueryString(QS_CONFIG, location.search);\n  const nonDefaultSearchParams = {};\n\n  Object.keys(parsedQueryStrings).forEach(key => {\n    if (!QS_CONFIG.defaultParams[key]) {\n      nonDefaultSearchParams[key] = parsedQueryStrings[key];\n    }\n  });\n\n  const hasNonDefaultSearchParams =\n    Object.keys(nonDefaultSearchParams).length > 0;\n\n  const {\n    result: { hosts, count, actions, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading,\n    request: fetchHosts,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const results = await Promise.all([\n        HostsAPI.read(params),\n        HostsAPI.readOptions(),\n      ]);\n      return {\n        hosts: results[0].data.results,\n        count: results[0].data.count,\n        actions: results[1].data.actions,\n        relatedSearchableKeys: (\n          results[1]?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(results[1].data.actions?.GET || {}).filter(\n          key => results[1].data.actions?.GET[key].filterable\n        ),\n      };\n    }, [location]),\n    {\n      hosts: [],\n      count: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchHosts();\n  }, [fetchHosts]);\n\n  const isAllSelected = selected.length === hosts.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteHosts,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(host => HostsAPI.destroy(host.id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchHosts,\n    }\n  );\n\n  const handleHostDelete = async () => {\n    await deleteHosts();\n    setSelected([]);\n  };\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...hosts] : []);\n  };\n\n  const handleSelect = host => {\n    if (selected.some(h => h.id === host.id)) {\n      setSelected(selected.filter(h => h.id !== host.id));\n    } else {\n      setSelected(selected.concat(host));\n    }\n  };\n\n  const handleSmartInventoryClick = () => {\n    history.push(\n      `/inventories/smart_inventory/add?host_filter=${encodeURIComponent(\n        encodeQueryString(nonDefaultSearchParams)\n      )}`\n    );\n  };\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  return (\n    <PageSection>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isLoading || isDeleteLoading}\n          items={hosts}\n          itemCount={count}\n          pluralizedItemName={i18n._(t`Hosts`)}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`描述`),\n              key: 'description__icontains',\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          renderToolbar={props => (\n            <DataListToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAdd\n                  ? [<ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />]\n                  : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleHostDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName={i18n._(t`Hosts`)}\n                />,\n                ...(canAdd\n                  ? [\n                      <SmartInventoryButton\n                        isDisabled={!hasNonDefaultSearchParams}\n                        onClick={() => handleSmartInventoryClick()}\n                      />,\n                    ]\n                  : []),\n              ]}\n            />\n          )}\n          renderItem={host => (\n            <HostListItem\n              key={host.id}\n              host={host}\n              detailUrl={`${match.url}/${host.id}/details`}\n              isSelected={selected.some(row => row.id === host.id)}\n              onSelect={() => handleSelect(host)}\n            />\n          )}\n          emptyStateControls={\n            canAdd ? (\n              <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n            ) : null\n          }\n        />\n      </Card>\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more hosts.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </PageSection>\n  );\n}\n\nexport default withI18n()(HostList);\n","import React, { useCallback, useEffect } from 'react';\nimport { arrayOf, string, func, bool } from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { InstanceGroupsAPI } from '../../api';\nimport { InstanceGroup } from '../../types';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport Popover from '../Popover';\nimport OptionsList from '../OptionsList';\nimport useRequest from '../../util/useRequest';\nimport Lookup from './Lookup';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\n\nconst QS_CONFIG = getQSConfig('instance-groups', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction InstanceGroupsLookup(props) {\n  const {\n    value,\n    onChange,\n    tooltip,\n    className,\n    required,\n    history,\n    i18n,\n  } = props;\n\n  const {\n    result: { instanceGroups, count, relatedSearchableKeys, searchableKeys },\n    request: fetchInstanceGroups,\n    error,\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        InstanceGroupsAPI.read(params),\n        InstanceGroupsAPI.readOptions(),\n      ]);\n      return {\n        instanceGroups: data.results,\n        count: data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [history.location]),\n    {\n      instanceGroups: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  return (\n    <FormGroup\n      className={className}\n      label={i18n._(t`Instance Groups`)}\n      labelIcon={tooltip && <Popover content={tooltip} />}\n      fieldId=\"org-instance-groups\"\n    >\n      <Lookup\n        id=\"org-instance-groups\"\n        header={i18n._(t`Instance Groups`)}\n        value={value}\n        onChange={onChange}\n        qsConfig={QS_CONFIG}\n        multiple\n        required={required}\n        isLoading={isLoading}\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            options={instanceGroups}\n            optionCount={count}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`Credential Name`),\n                key: 'credential__name__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            multiple={state.multiple}\n            header={i18n._(t`Instance Groups`)}\n            name=\"instanceGroups\"\n            qsConfig={QS_CONFIG}\n            readOnly={!canDelete}\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n          />\n        )}\n      />\n      <LookupErrorMessage error={error} />\n    </FormGroup>\n  );\n}\n\nInstanceGroupsLookup.propTypes = {\n  value: arrayOf(InstanceGroup).isRequired,\n  tooltip: string,\n  onChange: func.isRequired,\n  className: string,\n  required: bool,\n};\n\nInstanceGroupsLookup.defaultProps = {\n  tooltip: '',\n  className: '',\n  required: false,\n};\n\nexport default withI18n()(withRouter(InstanceGroupsLookup));\n","import React, { useCallback, useEffect } from 'react';\nimport { func, bool } from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { InventoriesAPI } from '../../api';\nimport { Inventory } from '../../types';\nimport Lookup from './Lookup';\nimport OptionsList from '../OptionsList';\nimport useRequest from '../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\nimport FieldWithPrompt from '../FieldWithPrompt';\n\nconst QS_CONFIG = getQSConfig('inventory', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n  role_level: 'use_role',\n});\n\nfunction InventoryLookup({\n  value,\n  onChange,\n  onBlur,\n  i18n,\n  history,\n  required,\n  isPromptableField,\n  fieldId,\n  promptId,\n  promptName,\n  isOverrideDisabled,\n}) {\n  const {\n    result: {\n      inventories,\n      count,\n      relatedSearchableKeys,\n      searchableKeys,\n      canEdit,\n    },\n    request: fetchInventories,\n    error,\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        InventoriesAPI.read(params),\n        InventoriesAPI.readOptions(),\n      ]);\n      return {\n        inventories: data.results,\n        count: data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n        canEdit:\n          Boolean(actionsResponse.data.actions.POST) || isOverrideDisabled,\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [history.location]),\n    {\n      inventories: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n      canEdit: false,\n    }\n  );\n\n  useEffect(() => {\n    fetchInventories();\n  }, [fetchInventories]);\n\n  return isPromptableField ? (\n    <>\n      <FieldWithPrompt\n        fieldId={fieldId}\n        isRequired={required}\n        label={i18n._(t`清单`)}\n        promptId={promptId}\n        promptName={promptName}\n        isDisabled={!canEdit}\n        tooltip={i18n._(t`Select the inventory containing the hosts\n            you want this job to manage.`)}\n      >\n        <Lookup\n          id=\"inventory-lookup\"\n          header={i18n._(t`清单`)}\n          value={value}\n          onChange={onChange}\n          onBlur={onBlur}\n          required={required}\n          isLoading={isLoading}\n          isDisabled={!canEdit}\n          qsConfig={QS_CONFIG}\n          renderOptionsList={({ state, dispatch, canDelete }) => (\n            <OptionsList\n              value={state.selectedItems}\n              options={inventories}\n              optionCount={count}\n              searchColumns={[\n                {\n                  name: i18n._(t`名称`),\n                  key: 'name__icontains',\n                  isDefault: true,\n                },\n                {\n                  name: i18n._(t`创建者`),\n                  key: 'created_by__username__icontains',\n                },\n                {\n                  name: i18n._(t`修改者`),\n                  key: 'modified_by__username__icontains',\n                },\n              ]}\n              sortColumns={[\n                {\n                  name: i18n._(t`名称`),\n                  key: 'name',\n                },\n              ]}\n              searchableKeys={searchableKeys}\n              relatedSearchableKeys={relatedSearchableKeys}\n              multiple={state.multiple}\n              header={i18n._(t`清单`)}\n              name=\"inventory\"\n              qsConfig={QS_CONFIG}\n              readOnly={!canDelete}\n              selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n              deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n            />\n          )}\n        />\n        <LookupErrorMessage error={error} />\n      </FieldWithPrompt>\n    </>\n  ) : (\n    <>\n      <Lookup\n        id=\"inventory-lookup\"\n        header={i18n._(t`清单`)}\n        value={value}\n        onChange={onChange}\n        onBlur={onBlur}\n        required={required}\n        isLoading={isLoading}\n        isDisabled={!canEdit}\n        qsConfig={QS_CONFIG}\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            options={inventories}\n            optionCount={count}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            multiple={state.multiple}\n            header={i18n._(t`清单`)}\n            name=\"inventory\"\n            qsConfig={QS_CONFIG}\n            readOnly={!canDelete}\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n          />\n        )}\n      />\n      <LookupErrorMessage error={error} />\n    </>\n  );\n}\n\nInventoryLookup.propTypes = {\n  value: Inventory,\n  onChange: func.isRequired,\n  required: bool,\n  isOverrideDisabled: bool,\n};\n\nInventoryLookup.defaultProps = {\n  value: null,\n  required: false,\n  isOverrideDisabled: false,\n};\n\nexport default withI18n()(withRouter(InventoryLookup));\n","import React, { useCallback, useEffect } from 'react';\nimport { node, string, func, bool } from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { ProjectsAPI } from '../../api';\nimport { Project } from '../../types';\nimport Popover from '../Popover';\nimport OptionsList from '../OptionsList';\nimport useAutoPopulateLookup from '../../util/useAutoPopulateLookup';\nimport useRequest from '../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport Lookup from './Lookup';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\n\nconst QS_CONFIG = getQSConfig('project', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n  role_level: 'use_role',\n});\n\nfunction ProjectLookup({\n  helperTextInvalid,\n  autoPopulate,\n  i18n,\n  isValid,\n  onChange,\n  required,\n  tooltip,\n  value,\n  onBlur,\n  history,\n  isOverrideDisabled,\n}) {\n  const autoPopulateLookup = useAutoPopulateLookup(onChange);\n  const {\n    result: { projects, count, relatedSearchableKeys, searchableKeys, canEdit },\n    request: fetchProjects,\n    error,\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ data }, actionsResponse] = await Promise.all([\n        ProjectsAPI.read(params),\n        ProjectsAPI.readOptions(),\n      ]);\n      if (autoPopulate) {\n        autoPopulateLookup(data.results);\n      }\n      return {\n        count: data.count,\n        projects: data.results,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n        canEdit:\n          Boolean(actionsResponse.data.actions.POST) || isOverrideDisabled,\n      };\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [autoPopulate, autoPopulateLookup, history.location.search]),\n    {\n      count: 0,\n      projects: [],\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n      canEdit: false,\n    }\n  );\n\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n\n  return (\n    <FormGroup\n      fieldId=\"project\"\n      helperTextInvalid={helperTextInvalid}\n      isRequired={required}\n      validated={isValid ? 'default' : 'error'}\n      label={i18n._(t`项目`)}\n      labelIcon={tooltip && <Popover content={tooltip} />}\n    >\n      <Lookup\n        id=\"project\"\n        header={i18n._(t`项目`)}\n        name=\"project\"\n        value={value}\n        onBlur={onBlur}\n        onChange={onChange}\n        required={required}\n        isLoading={isLoading}\n        isDisabled={!canEdit}\n        qsConfig={QS_CONFIG}\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`类型`),\n                key: 'or__scm_type',\n                options: [\n                  [``, i18n._(t`Manual`)],\n                  [`git`, i18n._(t`Git`)],\n                  [`svn`, i18n._(t`Subversion`)],\n                  [`archive`, i18n._(t`Remote Archive`)],\n                  [`insights`, i18n._(t`Red Hat Insights`)],\n                ],\n              },\n              {\n                name: i18n._(t`Source Control URL`),\n                key: 'scm_url__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            options={projects}\n            optionCount={count}\n            multiple={state.multiple}\n            header={i18n._(t`项目`)}\n            name=\"project\"\n            qsConfig={QS_CONFIG}\n            readOnly={!canDelete}\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n          />\n        )}\n      />\n      <LookupErrorMessage error={error} />\n    </FormGroup>\n  );\n}\n\nProjectLookup.propTypes = {\n  autoPopulate: bool,\n  helperTextInvalid: node,\n  isValid: bool,\n  onBlur: func,\n  onChange: func.isRequired,\n  required: bool,\n  tooltip: string,\n  value: Project,\n  isOverrideDisabled: bool,\n};\n\nProjectLookup.defaultProps = {\n  autoPopulate: false,\n  helperTextInvalid: '',\n  isValid: true,\n  onBlur: () => {},\n  required: false,\n  tooltip: '',\n  value: null,\n  isOverrideDisabled: false,\n};\n\nexport { ProjectLookup as _ProjectLookup };\nexport default withI18n()(withRouter(ProjectLookup));\n","import 'styled-components/macro';\nimport React, { Fragment, useState, useCallback, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { ToolbarItem, Alert } from '@patternfly/react-core';\nimport { CredentialsAPI, CredentialTypesAPI } from '../../api';\nimport AnsibleSelect from '../AnsibleSelect';\nimport CredentialChip from '../CredentialChip';\nimport OptionsList from '../OptionsList';\nimport useRequest from '../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport Lookup from './Lookup';\n\nconst QS_CONFIG = getQSConfig('credentials', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nasync function loadCredentials(params, selectedCredentialTypeId) {\n  params.credential_type = selectedCredentialTypeId || 1;\n  const { data } = await CredentialsAPI.read(params);\n  return data;\n}\n\nfunction MultiCredentialsLookup(props) {\n  const { value, onChange, onError, history, i18n } = props;\n  const [selectedType, setSelectedType] = useState(null);\n\n  const {\n    result: credentialTypes,\n    request: fetchTypes,\n    error: typesError,\n    isLoading: isTypesLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const types = await CredentialTypesAPI.loadAllTypes();\n      const match = types.find(type => type.kind === 'ssh') || types[0];\n      setSelectedType(match);\n      return types;\n    }, []),\n    []\n  );\n\n  useEffect(() => {\n    fetchTypes();\n  }, [fetchTypes]);\n\n  const {\n    result: {\n      credentials,\n      credentialsCount,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    request: fetchCredentials,\n    error: credentialsError,\n    isLoading: isCredentialsLoading,\n  } = useRequest(\n    useCallback(async () => {\n      if (!selectedType) {\n        return {\n          credentials: [],\n          count: 0,\n        };\n      }\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const [{ results, count }, actionsResponse] = await Promise.all([\n        loadCredentials(params, selectedType.id),\n        CredentialsAPI.readOptions(),\n      ]);\n\n      results.map(result => {\n        if (result.kind === 'vault' && result.inputs?.vault_id) {\n          result.label = `${result.name} | ${result.inputs.vault_id}`;\n          return result;\n        }\n        result.label = `${result.name}`;\n        return result;\n      });\n\n      return {\n        credentials: results,\n        credentialsCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [selectedType, history.location]),\n    {\n      credentials: [],\n      credentialsCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  useEffect(() => {\n    if (typesError || credentialsError) {\n      onError(typesError || credentialsError);\n    }\n  }, [typesError, credentialsError, onError]);\n\n  const renderChip = ({ item, removeItem, canDelete }) => (\n    <CredentialChip\n      key={item.id}\n      onClick={() => removeItem(item)}\n      isReadOnly={!canDelete}\n      credential={item}\n    />\n  );\n  const isVault = selectedType?.kind === 'vault';\n\n  return (\n    <Lookup\n      id=\"multiCredential\"\n      header={i18n._(t`Credentials`)}\n      value={value}\n      multiple\n      onChange={onChange}\n      qsConfig={QS_CONFIG}\n      isLoading={isTypesLoading || isCredentialsLoading}\n      renderItemChip={renderChip}\n      renderOptionsList={({ state, dispatch, canDelete }) => {\n        return (\n          <Fragment>\n            {isVault && (\n              <Alert\n                variant=\"info\"\n                isInline\n                css=\"margin-bottom: 20px;\"\n                title={i18n._(\n                  t`You cannot select multiple vault credentials with the same vault ID. Doing so will automatically deselect the other with the same vault ID.`\n                )}\n              />\n            )}\n            {credentialTypes && credentialTypes.length > 0 && (\n              <ToolbarItem css=\" display: flex; align-items: center;\">\n                <div css=\"flex: 0 0 25%; margin-right: 32px\">\n                  {i18n._(t`Selected Category`)}\n                </div>\n                <AnsibleSelect\n                  css=\"flex: 1 1 75%;\"\n                  id=\"multiCredentialsLookUp-select\"\n                  label={i18n._(t`Selected Category`)}\n                  data={credentialTypes.map(type => ({\n                    key: type.id,\n                    value: type.id,\n                    label: type.name,\n                    isDisabled: false,\n                  }))}\n                  value={selectedType && selectedType.id}\n                  onChange={(e, id) => {\n                    setSelectedType(\n                      credentialTypes.find(o => o.id === parseInt(id, 10))\n                    );\n                  }}\n                />\n              </ToolbarItem>\n            )}\n            <OptionsList\n              value={state.selectedItems}\n              options={credentials}\n              optionCount={credentialsCount}\n              searchColumns={[\n                {\n                  name: i18n._(t`名称`),\n                  key: 'name__icontains',\n                  isDefault: true,\n                },\n                {\n                  name: i18n._(t`创建者`),\n                  key: 'created_by__username__icontains',\n                },\n                {\n                  name: i18n._(t`修改者`),\n                  key: 'modified_by__username__icontains',\n                },\n              ]}\n              sortColumns={[\n                {\n                  name: i18n._(t`名称`),\n                  key: 'name',\n                },\n              ]}\n              searchableKeys={searchableKeys}\n              relatedSearchableKeys={relatedSearchableKeys}\n              multiple={isVault}\n              header={i18n._(t`Credentials`)}\n              displayKey={isVault ? 'label' : 'name'}\n              name=\"credentials\"\n              qsConfig={QS_CONFIG}\n              readOnly={!canDelete}\n              selectItem={item => {\n                const hasSameVaultID = val =>\n                  val?.inputs?.vault_id !== undefined &&\n                  val?.inputs?.vault_id === item?.inputs?.vault_id;\n                const hasSameCredentialType = val =>\n                  val.credential_type === item.credential_type;\n                const selectedItems = state.selectedItems.filter(i =>\n                  isVault ? !hasSameVaultID(i) : !hasSameCredentialType(i)\n                );\n                selectedItems.push(item);\n                return dispatch({\n                  type: 'SET_SELECTED_ITEMS',\n                  selectedItems,\n                });\n              }}\n              deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n              renderItemChip={renderChip}\n            />\n          </Fragment>\n        );\n      }}\n    />\n  );\n}\n\nMultiCredentialsLookup.propTypes = {\n  value: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      name: PropTypes.string,\n      description: PropTypes.string,\n      kind: PropTypes.string,\n      clound: PropTypes.bool,\n    })\n  ),\n  onChange: PropTypes.func.isRequired,\n  onError: PropTypes.func.isRequired,\n};\n\nMultiCredentialsLookup.defaultProps = {\n  value: [],\n};\n\nexport { MultiCredentialsLookup as _MultiCredentialsLookup };\nexport default withI18n()(withRouter(MultiCredentialsLookup));\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n  arrayOf,\n  bool,\n  func,\n  node,\n  number,\n  string,\n  oneOfType,\n} from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { CredentialsAPI } from '../../api';\nimport { Credential } from '../../types';\nimport { getQSConfig, parseQueryString, mergeParams } from '../../util/qs';\nimport Popover from '../Popover';\nimport Lookup from './Lookup';\nimport OptionsList from '../OptionsList';\nimport useAutoPopulateLookup from '../../util/useAutoPopulateLookup';\nimport useRequest from '../../util/useRequest';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\n\nconst QS_CONFIG = getQSConfig('credentials', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction CredentialLookup({\n  helperTextInvalid,\n  label,\n  isValid,\n  onBlur,\n  onChange,\n  required,\n  credentialTypeId,\n  credentialTypeKind,\n  credentialTypeNamespace,\n  value,\n  i18n,\n  tooltip,\n  isDisabled,\n  autoPopulate,\n  multiple,\n}) {\n  const history = useHistory();\n  const autoPopulateLookup = useAutoPopulateLookup(onChange);\n  const {\n    result: { count, credentials, relatedSearchableKeys, searchableKeys },\n    error,\n    request: fetchCredentials,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n      const typeIdParams = credentialTypeId\n        ? { credential_type: credentialTypeId }\n        : {};\n      const typeKindParams = credentialTypeKind\n        ? { credential_type__kind: credentialTypeKind }\n        : {};\n      const typeNamespaceParams = credentialTypeNamespace\n        ? { credential_type__namespace: credentialTypeNamespace }\n        : {};\n\n      const [{ data }, actionsResponse] = await Promise.all([\n        CredentialsAPI.read(\n          mergeParams(params, {\n            ...typeIdParams,\n            ...typeKindParams,\n            ...typeNamespaceParams,\n          })\n        ),\n        CredentialsAPI.readOptions(),\n      ]);\n\n      if (autoPopulate) {\n        autoPopulateLookup(data.results);\n      }\n\n      const searchKeys = Object.keys(\n        actionsResponse.data.actions?.GET || {}\n      ).filter(key => actionsResponse.data.actions?.GET[key].filterable);\n      const item = searchKeys.indexOf('type');\n      if (item) {\n        searchKeys[item] = 'credential_type__kind';\n      }\n\n      return {\n        count: data.count,\n        credentials: data.results,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: searchKeys,\n      };\n    }, [\n      autoPopulate,\n      autoPopulateLookup,\n      credentialTypeId,\n      credentialTypeKind,\n      credentialTypeNamespace,\n      history.location.search,\n    ]),\n    {\n      count: 0,\n      credentials: [],\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  // TODO: replace credential type search with REST-based grabbing of cred types\n\n  return (\n    <FormGroup\n      fieldId=\"credential\"\n      isRequired={required}\n      validated={isValid ? 'default' : 'error'}\n      label={label}\n      labelIcon={tooltip && <Popover content={tooltip} />}\n      helperTextInvalid={helperTextInvalid}\n    >\n      <Lookup\n        id=\"credential\"\n        header={label}\n        value={value}\n        onBlur={onBlur}\n        onChange={onChange}\n        required={required}\n        qsConfig={QS_CONFIG}\n        isDisabled={isDisabled}\n        multiple={multiple}\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            options={credentials}\n            optionCount={count}\n            header={label}\n            qsConfig={QS_CONFIG}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            readOnly={!canDelete}\n            name=\"credential\"\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n            multiple={multiple}\n          />\n        )}\n      />\n      <LookupErrorMessage error={error} />\n    </FormGroup>\n  );\n}\n\nfunction idOrKind(props, propName, componentName) {\n  let error;\n  if (\n    !Object.prototype.hasOwnProperty.call(props, 'credentialTypeId') &&\n    !Object.prototype.hasOwnProperty.call(props, 'credentialTypeKind')\n  )\n    error = new Error(\n      `Either \"credentialTypeId\" or \"credentialTypeKind\" is required`\n    );\n  if (\n    !Object.prototype.hasOwnProperty.call(props, 'credentialTypeId') &&\n    typeof props[propName] !== 'string'\n  ) {\n    error = new Error(\n      `Invalid prop '${propName}' '${props[propName]}' supplied to '${componentName}'.`\n    );\n  }\n  return error;\n}\n\nCredentialLookup.propTypes = {\n  credentialTypeId: oneOfType([number, string]),\n  credentialTypeKind: idOrKind,\n  helperTextInvalid: node,\n  isValid: bool,\n  label: string.isRequired,\n  multiple: bool,\n  onBlur: func,\n  onChange: func.isRequired,\n  required: bool,\n  value: oneOfType([Credential, arrayOf(Credential)]),\n  isDisabled: bool,\n  autoPopulate: bool,\n};\n\nCredentialLookup.defaultProps = {\n  credentialTypeId: '',\n  credentialTypeKind: '',\n  helperTextInvalid: '',\n  isValid: true,\n  multiple: false,\n  onBlur: () => {},\n  required: false,\n  value: null,\n  isDisabled: false,\n  autoPopulate: false,\n};\n\nexport { CredentialLookup as _CredentialLookup };\nexport default withI18n()(CredentialLookup);\n","import React, { useCallback, useEffect } from 'react';\nimport { func, node } from 'prop-types';\nimport { withRouter, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { ApplicationsAPI } from '../../api';\nimport { Application } from '../../types';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport Lookup from './Lookup';\nimport OptionsList from '../OptionsList';\nimport useRequest from '../../util/useRequest';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\n\nconst QS_CONFIG = getQSConfig('applications', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction ApplicationLookup({ i18n, onChange, value, label }) {\n  const location = useLocation();\n  const {\n    error,\n    result: { applications, itemCount, relatedSearchableKeys, searchableKeys },\n    request: fetchApplications,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n\n      const [\n        {\n          data: { results, count },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        ApplicationsAPI.read(params),\n        ApplicationsAPI.readOptions,\n      ]);\n      return {\n        applications: results,\n        itemCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse?.data?.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      applications: [],\n      itemCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n  useEffect(() => {\n    fetchApplications();\n  }, [fetchApplications]);\n  return (\n    <FormGroup fieldId=\"application\" label={label}>\n      <Lookup\n        id=\"application\"\n        header={i18n._(t`Application`)}\n        value={value}\n        onChange={onChange}\n        qsConfig={QS_CONFIG}\n        renderOptionsList={({ state, dispatch, canDelete }) => (\n          <OptionsList\n            value={state.selectedItems}\n            options={applications}\n            optionCount={itemCount}\n            header={i18n._(t`Applications`)}\n            qsConfig={QS_CONFIG}\n            searchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n            ]}\n            sortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n              {\n                name: i18n._(t`已创建`),\n                key: 'created',\n              },\n              {\n                name: i18n._(t`组织`),\n                key: 'organization',\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description',\n              },\n            ]}\n            searchableKeys={searchableKeys}\n            relatedSearchableKeys={relatedSearchableKeys}\n            readOnly={!canDelete}\n            name=\"application\"\n            selectItem={item => dispatch({ type: 'SELECT_ITEM', item })}\n            deselectItem={item => dispatch({ type: 'DESELECT_ITEM', item })}\n          />\n        )}\n      />\n      <LookupErrorMessage error={error} />\n    </FormGroup>\n  );\n}\nApplicationLookup.propTypes = {\n  label: node.isRequired,\n  onChange: func.isRequired,\n  value: Application,\n};\n\nApplicationLookup.defaultProps = {\n  value: null,\n};\n\nexport default withI18n()(withRouter(ApplicationLookup));\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  TextContent,\n} from '@patternfly/react-core';\nimport DataListCell from '../DataListCell';\n\nfunction HostListItem({ item, i18n }) {\n  return (\n    <DataListItem\n      aria-labelledby={`items-list-item-${item.id}`}\n      key={item.id}\n      id={`${item.id}`}\n    >\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" aria-label={i18n._(t`name`)}>\n              <TextContent>\n                <Link to={{ pathname: item.url }}>\n                  <b id={`items-list-item-${item.id}`}>{item.name}</b>\n                </Link>\n              </TextContent>\n            </DataListCell>,\n            <DataListCell key=\"inventory\" aria-label={i18n._(t`inventory`)}>\n              {item.summary_fields.inventory.name}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(HostListItem);\n","/**\n * Convert host filter string to params object\n * @param {string} string host filter string\n * @return {object} A string or array of strings keyed by query param key\n */\nexport function toSearchParams(string = '') {\n  if (string === '') {\n    return {};\n  }\n  return string\n    .replace(/^\\?/, '')\n    .replace(/&/g, ' and ')\n    .split(/ and | or /)\n    .map(s => s.split('='))\n    .reduce((searchParams, [k, v]) => {\n      const key = decodeURIComponent(k);\n      const value = decodeURIComponent(v);\n      if (searchParams[key] === undefined) {\n        searchParams[key] = value;\n      } else if (Array.isArray(searchParams[key])) {\n        searchParams[key] = [...searchParams[key], value];\n      } else {\n        searchParams[key] = [searchParams[key], value];\n      }\n      return searchParams;\n    }, {});\n}\n\n/**\n * Convert params object to an encoded namespaced url query string\n * Used to put into url bar when modal opens\n * @param {object} config Config object for namespacing params\n * @param {object} searchParams A string or array of strings keyed by query param key\n * @return {string} URL query string\n */\nexport function toQueryString(config, searchParams = {}) {\n  if (Object.keys(searchParams).length === 0) return '';\n\n  return Object.keys(searchParams)\n    .flatMap(key => {\n      if (Array.isArray(searchParams[key])) {\n        return searchParams[key].map(\n          val =>\n            `${config.namespace}.${encodeURIComponent(\n              key\n            )}=${encodeURIComponent(val)}`\n        );\n      }\n      return `${config.namespace}.${encodeURIComponent(\n        key\n      )}=${encodeURIComponent(searchParams[key])}`;\n    })\n    .join('&');\n}\n\n/**\n * Convert params object to host filter string\n * @param {object} searchParams A string or array of strings keyed by query param key\n * @return {string} Host filter string\n */\nexport function toHostFilter(searchParams = {}) {\n  return Object.keys(searchParams)\n    .flatMap(key => {\n      if (Array.isArray(searchParams[key])) {\n        return searchParams[key].map(val => `${key}=${val}`);\n      }\n      return `${key}=${searchParams[key]}`;\n    })\n    .join(' and ');\n}\n\n/**\n * Helper function to remove namespace from params object\n * @param {object} config Config object with namespace param\n * @param {object} obj A string or array of strings keyed by query param key\n * @return {object} Params object without namespaced keys\n */\nexport function removeNamespacedKeys(config, obj = {}) {\n  const clonedObj = Object.assign({}, obj);\n  const newObj = {};\n  Object.keys(clonedObj).forEach(nsKey => {\n    let key = nsKey;\n    if (nsKey.startsWith(config.namespace)) {\n      key = nsKey.substr(config.namespace.length + 1);\n    }\n    newObj[key] = clonedObj[nsKey];\n  });\n  return newObj;\n}\n\n/**\n * Helper function to remove default params from params object\n * @param {object} config Config object with default params\n * @param {object} obj A string or array of strings keyed by query param key\n * @return {string} Params object without default params\n */\nexport function removeDefaultParams(config, obj = {}) {\n  const clonedObj = Object.assign({}, obj);\n  const defaultKeys = Object.keys(config.defaultParams);\n  defaultKeys.forEach(keyToOmit => {\n    delete clonedObj[keyToOmit];\n  });\n  return clonedObj;\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { withRouter, useHistory, useLocation } from 'react-router-dom';\nimport { number, func, bool, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport styled from 'styled-components';\nimport { t } from '@lingui/macro';\nimport { SearchIcon } from '@patternfly/react-icons';\nimport {\n  Button,\n  ButtonVariant,\n  Chip,\n  FormGroup,\n  InputGroup,\n  Modal,\n  Tooltip,\n} from '@patternfly/react-core';\nimport ChipGroup from '../ChipGroup';\nimport Popover from '../Popover';\nimport DataListToolbar from '../DataListToolbar';\nimport LookupErrorMessage from './shared/LookupErrorMessage';\nimport PaginatedDataList from '../PaginatedDataList';\nimport HostListItem from './HostListItem';\nimport { HostsAPI } from '../../api';\nimport { getQSConfig, mergeParams, parseQueryString } from '../../util/qs';\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport {\n  removeDefaultParams,\n  removeNamespacedKeys,\n  toHostFilter,\n  toQueryString,\n  toSearchParams,\n} from './shared/HostFilterUtils';\n\nconst ChipHolder = styled.div`\n  --pf-c-form-control--Height: auto;\n  .pf-c-chip-group {\n    margin-right: 8px;\n  }\n`;\n\nconst ModalList = styled.div`\n  .pf-c-toolbar__content {\n    padding: 0 !important;\n  }\n`;\n\nconst useModal = () => {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  function toggleModal() {\n    setIsModalOpen(!isModalOpen);\n  }\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n\n  return {\n    isModalOpen,\n    toggleModal,\n    closeModal,\n  };\n};\n\nconst QS_CONFIG = getQSConfig(\n  'smart_hosts',\n  {\n    page: 1,\n    page_size: 5,\n    order_by: 'name',\n  },\n  ['id', 'page', 'page_size', 'inventory']\n);\n\nconst buildSearchColumns = i18n => [\n  {\n    name: i18n._(t`名称`),\n    key: 'name__icontains',\n    isDefault: true,\n  },\n  {\n    name: i18n._(t`ID`),\n    key: 'id',\n  },\n  {\n    name: i18n._(t`Group`),\n    key: 'groups__name__icontains',\n  },\n  {\n    name: i18n._(t`Inventory ID`),\n    key: 'inventory',\n  },\n  {\n    name: i18n._(t`Enabled`),\n    key: 'enabled',\n    isBoolean: true,\n  },\n  {\n    name: i18n._(t`Instance ID`),\n    key: 'instance_id',\n  },\n  {\n    name: i18n._(t`Last job`),\n    key: 'last_job',\n  },\n  {\n    name: i18n._(t`Insights system ID`),\n    key: 'insights_system_id',\n  },\n];\n\nfunction HostFilterLookup({\n  helperTextInvalid,\n  i18n,\n  isValid,\n  isDisabled,\n  onBlur,\n  onChange,\n  organizationId,\n  value,\n}) {\n  const history = useHistory();\n  const location = useLocation();\n  const [chips, setChips] = useState({});\n  const [queryString, setQueryString] = useState('');\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const searchColumns = buildSearchColumns(i18n);\n\n  const {\n    result: { count, hosts, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    request: fetchHosts,\n    isLoading,\n  } = useRequest(\n    useCallback(\n      async orgId => {\n        const params = parseQueryString(QS_CONFIG, location.search);\n        const [{ data }, { data: actions }] = await Promise.all([\n          HostsAPI.read(\n            mergeParams(params, { inventory__organization: orgId })\n          ),\n          HostsAPI.readOptions(),\n        ]);\n        return {\n          count: data.count,\n          hosts: data.results,\n          relatedSearchableKeys: (\n            actions?.related_search_fields || []\n          ).map(val => val.slice(0, -8)),\n          searchableKeys: Object.keys(actions?.actions.GET || {}).filter(\n            key => actions.actions?.GET[key].filterable\n          ),\n        };\n      },\n      [location.search]\n    ),\n    {\n      count: 0,\n      hosts: [],\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  const { error, dismissError } = useDismissableError(contentError);\n\n  useEffect(() => {\n    if (isModalOpen && organizationId) {\n      dismissError();\n      fetchHosts(organizationId);\n    }\n  }, [fetchHosts, organizationId, isModalOpen]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    const filters = toSearchParams(value);\n    setQueryString(toQueryString(QS_CONFIG, filters));\n    setChips(buildChips(filters));\n  }, [value]);\n\n  function qsToHostFilter(qs) {\n    const searchParams = toSearchParams(qs);\n    const withoutNamespace = removeNamespacedKeys(QS_CONFIG, searchParams);\n    const withoutDefaultParams = removeDefaultParams(\n      QS_CONFIG,\n      withoutNamespace\n    );\n    return toHostFilter(withoutDefaultParams);\n  }\n\n  const save = () => {\n    const hostFilterString = qsToHostFilter(location.search);\n    onChange(hostFilterString);\n    closeModal();\n    history.replace({\n      pathname: `${location.pathname}`,\n      search: '',\n    });\n  };\n\n  function buildChips(filter = {}) {\n    const inputGroupChips = Object.keys(filter).reduce((obj, param) => {\n      const parsedKey = param.replace('or__', '');\n      const chipsArray = [];\n\n      if (Array.isArray(filter[param])) {\n        filter[param].forEach(val =>\n          chipsArray.push({\n            key: `${param}:${val}`,\n            node: `${val}`,\n          })\n        );\n      } else {\n        chipsArray.push({\n          key: `${param}:${filter[param]}`,\n          node: `${filter[param]}`,\n        });\n      }\n\n      obj[parsedKey] = {\n        key: parsedKey,\n        label: filter[param],\n        chips: [...chipsArray],\n      };\n\n      return obj;\n    }, {});\n\n    return inputGroupChips;\n  }\n\n  const handleOpenModal = () => {\n    history.replace({\n      pathname: `${location.pathname}`,\n      search: queryString,\n    });\n    toggleModal();\n  };\n\n  const handleClose = () => {\n    closeModal();\n    history.replace({\n      pathname: `${location.pathname}`,\n      search: '',\n    });\n  };\n\n  const renderLookup = () => (\n    <InputGroup onBlur={onBlur}>\n      <Button\n        aria-label={i18n._(t`Search`)}\n        id=\"host-filter\"\n        isDisabled={isDisabled}\n        onClick={handleOpenModal}\n        variant={ButtonVariant.control}\n      >\n        <SearchIcon />\n      </Button>\n      <ChipHolder className=\"pf-c-form-control\">\n        {searchColumns.map(({ name, key }) => (\n          <ChipGroup\n            categoryName={name}\n            key={name}\n            numChips={5}\n            totalChips={chips[key]?.chips?.length || 0}\n          >\n            {chips[key]?.chips?.map(chip => (\n              <Chip key={chip.key} isReadOnly>\n                {chip.node}\n              </Chip>\n            ))}\n          </ChipGroup>\n        ))}\n      </ChipHolder>\n    </InputGroup>\n  );\n\n  return (\n    <FormGroup\n      fieldId=\"host-filter\"\n      helperTextInvalid={helperTextInvalid}\n      isRequired\n      label={i18n._(t`Smart host filter`)}\n      validated={isValid ? 'default' : 'error'}\n      labelIcon={\n        <Popover\n          content={i18n._(\n            t`Populate the hosts for this inventory by using a search\n              filter. Example: ansible_facts.ansible_distribution:\"RedHat\".\n              Refer to the Ansible Tower documentation for further syntax and\n              examples.`\n          )}\n        />\n      }\n    >\n      {isDisabled ? (\n        <Tooltip\n          content={i18n._(\n            t`Please select an organization before editing the host filter`\n          )}\n        >\n          {renderLookup()}\n        </Tooltip>\n      ) : (\n        renderLookup()\n      )}\n      <Modal\n        aria-label={i18n._(t`Lookup modal`)}\n        isOpen={isModalOpen}\n        onClose={handleClose}\n        title={i18n._(t`Perform a search to define a host filter`)}\n        variant=\"large\"\n        actions={[\n          <Button\n            isDisabled={!location.search}\n            key=\"select\"\n            onClick={save}\n            variant=\"primary\"\n          >\n            {i18n._(t`选择`)}\n          </Button>,\n          <Button key=\"cancel\" variant=\"link\" onClick={handleClose}>\n            {i18n._(t`取消`)}\n          </Button>,\n        ]}\n      >\n        <ModalList>\n          <PaginatedDataList\n            contentError={error}\n            hasContentLoading={isLoading}\n            itemCount={count}\n            items={hosts}\n            onRowClick={() => {}}\n            pluralizedItemName={i18n._(t`hosts`)}\n            qsConfig={QS_CONFIG}\n            renderItem={item => (\n              <HostListItem\n                key={item.id}\n                item={{ ...item, url: `/hosts/${item.id}/details` }}\n              />\n            )}\n            renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n            toolbarSearchColumns={searchColumns}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n              {\n                name: i18n._(t`已创建`),\n                key: 'created',\n              },\n              {\n                name: i18n._(t`更改`),\n                key: 'modified',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          />\n        </ModalList>\n      </Modal>\n      <LookupErrorMessage error={error} />\n    </FormGroup>\n  );\n}\n\nHostFilterLookup.propTypes = {\n  isValid: bool,\n  onBlur: func,\n  onChange: func,\n  organizationId: number,\n  value: string,\n};\nHostFilterLookup.defaultProps = {\n  isValid: true,\n  onBlur: () => {},\n  onChange: () => {},\n  organizationId: null,\n  value: '',\n};\n\nexport default withI18n()(withRouter(HostFilterLookup));\n","import React, { useState } from 'react';\nimport { bool, func, shape } from 'prop-types';\nimport { Formik, useField } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport FormField, { FormSubmitError } from '../FormField';\nimport FormActionGroup from '../FormActionGroup/FormActionGroup';\nimport { VariablesField } from '../CodeMirrorInput';\nimport { InventoryLookup } from '../Lookup';\nimport { FormColumnLayout, FormFullWidthLayout } from '../FormLayout';\nimport Popover from '../Popover';\nimport { required } from '../../util/validators';\n\nconst InventoryLookupField = withI18n()(({ i18n, host }) => {\n  const [inventory, setInventory] = useState(\n    host ? host.summary_fields.inventory : ''\n  );\n\n  const [, inventoryMeta, inventoryHelpers] = useField({\n    name: 'inventory',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  return (\n    <FormGroup\n      label={i18n._(t`清单`)}\n      labelIcon={\n        <Popover\n          content={i18n._(\n            t`Select the inventory that this host will belong to.`\n          )}\n        />\n      }\n      isRequired\n      fieldId=\"inventory-lookup\"\n      validated={\n        !inventoryMeta.touched || !inventoryMeta.error ? 'default' : 'error'\n      }\n      helperTextInvalid={inventoryMeta.error}\n    >\n      <InventoryLookup\n        fieldId=\"inventory-lookup\"\n        value={inventory}\n        onBlur={() => inventoryHelpers.setTouched()}\n        tooltip={i18n._(t`Select the inventory that this host will belong to.`)}\n        isValid={!inventoryMeta.touched || !inventoryMeta.error}\n        helperTextInvalid={inventoryMeta.error}\n        onChange={value => {\n          inventoryHelpers.setValue(value.id);\n          setInventory(value);\n        }}\n        required\n        touched={inventoryMeta.touched}\n        error={inventoryMeta.error}\n      />\n    </FormGroup>\n  );\n});\n\nconst HostForm = ({\n  handleCancel,\n  handleSubmit,\n  host,\n  isInventoryVisible,\n  i18n,\n  submitError,\n}) => {\n  return (\n    <Formik\n      initialValues={{\n        name: host.name,\n        description: host.description,\n        inventory: host.inventory || '',\n        variables: host.variables,\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <FormField\n              id=\"host-name\"\n              name=\"name\"\n              type=\"text\"\n              label={i18n._(t`名称`)}\n              validate={required(null, i18n)}\n              isRequired\n            />\n            <FormField\n              id=\"host-description\"\n              name=\"description\"\n              type=\"text\"\n              label={i18n._(t`描述`)}\n            />\n            {isInventoryVisible && <InventoryLookupField host={host} />}\n            <FormFullWidthLayout>\n              <VariablesField\n                id=\"host-variables\"\n                name=\"variables\"\n                label={i18n._(t`变量`)}\n              />\n            </FormFullWidthLayout>\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={handleCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nHostForm.propTypes = {\n  handleCancel: func.isRequired,\n  handleSubmit: func.isRequired,\n  host: shape({}),\n  isInventoryVisible: bool,\n  submitError: shape({}),\n};\n\nHostForm.defaultProps = {\n  host: {\n    name: '',\n    description: '',\n    inventory: undefined,\n    variables: '---\\n',\n    summary_fields: {\n      inventory: null,\n    },\n  },\n  isInventoryVisible: true,\n  submitError: null,\n};\n\nexport { HostForm as _HostForm };\nexport default withI18n()(HostForm);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\n\nimport HostForm from '../../../components/HostForm';\nimport { CardBody } from '../../../components/Card';\nimport { HostsAPI } from '../../../api';\n\nfunction HostAdd() {\n  const [formError, setFormError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async formData => {\n    try {\n      const { data: response } = await HostsAPI.create(formData);\n      history.push(`/hosts/${response.id}/details`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/hosts`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <HostForm\n            handleSubmit={handleSubmit}\n            handleCancel={handleCancel}\n            submitError={formError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default HostAdd;\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Host } from '../../../types';\nimport { CardBody } from '../../../components/Card';\nimport { DetailList } from '../../../components/DetailList';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport useRequest from '../../../util/useRequest';\nimport { HostsAPI } from '../../../api';\n\nfunction HostFacts({ i18n, host }) {\n  const { result: facts, isLoading, error, request: fetchFacts } = useRequest(\n    useCallback(async () => {\n      const [{ data: factsObj }] = await Promise.all([\n        HostsAPI.readFacts(host.id),\n      ]);\n      return JSON.stringify(factsObj, null, 4);\n    }, [host]),\n    '{}'\n  );\n\n  useEffect(() => {\n    fetchFacts();\n  }, [fetchFacts]);\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <VariablesDetail label={i18n._(t`Facts`)} fullHeight value={facts} />\n      </DetailList>\n    </CardBody>\n  );\n}\n\nHostFacts.propTypes = {\n  host: Host.isRequired,\n};\n\nexport default withI18n()(HostFacts);\n","import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { Host } from '../../../types';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport Sparkline from '../../../components/Sparkline';\nimport DeleteButton from '../../../components/DeleteButton';\nimport { HostsAPI } from '../../../api';\nimport HostToggle from '../../../components/HostToggle';\n\nfunction HostDetail({ i18n, host }) {\n  const {\n    created,\n    description,\n    id,\n    modified,\n    name,\n    variables,\n    summary_fields: {\n      inventory,\n      recent_jobs,\n      created_by,\n      modified_by,\n      user_capabilities,\n    },\n  } = host;\n\n  const [isLoading, setIsloading] = useState(false);\n  const [deletionError, setDeletionError] = useState(false);\n  const history = useHistory();\n\n  const handleHostDelete = async () => {\n    setIsloading(true);\n    try {\n      await HostsAPI.destroy(id);\n      history.push('/hosts');\n    } catch (err) {\n      setDeletionError(err);\n    } finally {\n      setIsloading(false);\n    }\n  };\n\n  if (!isLoading && deletionError) {\n    return (\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => setDeletionError(false)}\n      >\n        {i18n._(t`Failed to delete ${name}.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    );\n  }\n\n  const recentPlaybookJobs = recent_jobs.map(job => ({ ...job, type: 'job' }));\n  return (\n    <CardBody>\n      <HostToggle host={host} css=\"padding-bottom: 40px\" />\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} dataCy=\"host-name\" />\n        {recentPlaybookJobs?.length > 0 && (\n          <Detail\n            label={i18n._(t`Activity`)}\n            value={<Sparkline jobs={recentPlaybookJobs} />}\n          />\n        )}\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail\n          label={i18n._(t`清单`)}\n          dataCy=\"host-inventory\"\n          value={\n            <Link to={`/inventories/inventory/${inventory.id}/details`}>\n              {inventory.name}\n            </Link>\n          }\n        />\n        <UserDateDetail\n          date={created}\n          label={i18n._(t`已创建`)}\n          user={created_by}\n          dataCy=\"host-created-by\"\n        />\n        <UserDateDetail\n          date={modified}\n          label={i18n._(t`上次修改时间`)}\n          user={modified_by}\n          dataCy=\"host-last-modified-by\"\n        />\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          rows={4}\n          value={variables}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {user_capabilities?.edit && (\n          <Button\n            aria-label={i18n._(t`edit`)}\n            component={Link}\n            to={`/hosts/${id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {user_capabilities?.delete && (\n          <DeleteButton\n            onConfirm={() => handleHostDelete()}\n            modalTitle={i18n._(t`Delete Host`)}\n            name={name}\n          />\n        )}\n      </CardActionsRow>\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={() => setDeletionError(null)}\n        >\n          {i18n._(t`Failed to delete host.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nHostDetail.propTypes = {\n  host: Host.isRequired,\n};\n\nexport default withI18n()(HostDetail);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport HostForm from '../../../components/HostForm';\nimport { HostsAPI } from '../../../api';\n\nfunction HostEdit({ host }) {\n  const [formError, setFormError] = useState(null);\n  const detailsUrl = `/hosts/${host.id}/details`;\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    try {\n      await HostsAPI.update(host.id, values);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        host={host}\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nHostEdit.propTypes = {\n  host: PropTypes.shape().isRequired,\n};\n\nexport default HostEdit;\n","import React, { Fragment, useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Modal } from '@patternfly/react-core';\nimport OptionsList from '../OptionsList';\nimport useRequest from '../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport useSelected from '../../util/useSelected';\n\nconst QS_CONFIG = (order_by = 'name') => {\n  return getQSConfig('associate', {\n    page: 1,\n    page_size: 5,\n    order_by,\n  });\n};\n\nfunction AssociateModal({\n  i18n,\n  header = i18n._(t`Items`),\n  title = i18n._(t`Select Items`),\n  onClose,\n  onAssociate,\n  fetchRequest,\n  optionsRequest,\n  isModalOpen = false,\n  displayKey = 'name',\n}) {\n  const history = useHistory();\n  const { selected, handleSelect } = useSelected([]);\n\n  const {\n    request: fetchItems,\n    result: { items, itemCount, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(\n        QS_CONFIG(displayKey),\n        history.location.search\n      );\n      const [\n        {\n          data: { count, results },\n        },\n        actionsResponse,\n      ] = await Promise.all([fetchRequest(params), optionsRequest()]);\n\n      return {\n        items: results,\n        itemCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [fetchRequest, optionsRequest, history.location.search, displayKey]),\n    {\n      items: [],\n      itemCount: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchItems();\n  }, [fetchItems]);\n\n  const clearQSParams = () => {\n    const parts = history.location.search.replace(/^\\?/, '').split('&');\n    const { namespace } = QS_CONFIG(displayKey);\n    const otherParts = parts.filter(\n      param => !param.startsWith(`${namespace}.`)\n    );\n    history.replace(`${history.location.pathname}?${otherParts.join('&')}`);\n  };\n\n  const handleSave = async () => {\n    await onAssociate(selected);\n    clearQSParams();\n    onClose();\n  };\n\n  const handleClose = () => {\n    clearQSParams();\n    onClose();\n  };\n\n  return (\n    <Fragment>\n      <Modal\n        variant=\"large\"\n        title={title}\n        aria-label={i18n._(t`Association modal`)}\n        isOpen={isModalOpen}\n        onClose={handleClose}\n        actions={[\n          <Button\n            aria-label={i18n._(t`Save`)}\n            key=\"select\"\n            variant=\"primary\"\n            onClick={handleSave}\n            isDisabled={selected.length === 0}\n          >\n            {i18n._(t`Save`)}\n          </Button>,\n          <Button\n            aria-label={i18n._(t`取消`)}\n            key=\"cancel\"\n            variant=\"secondary\"\n            onClick={handleClose}\n          >\n            {i18n._(t`取消`)}\n          </Button>,\n        ]}\n      >\n        <OptionsList\n          displayKey={displayKey}\n          contentError={contentError}\n          deselectItem={handleSelect}\n          header={header}\n          isLoading={isLoading}\n          multiple\n          optionCount={itemCount}\n          options={items}\n          qsConfig={QS_CONFIG(displayKey)}\n          readOnly={false}\n          selectItem={handleSelect}\n          value={selected}\n          searchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: `${displayKey}__icontains`,\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          sortColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: `${displayKey}`,\n            },\n          ]}\n          searchableKeys={searchableKeys}\n          relatedSearchableKeys={relatedSearchableKeys}\n        />\n      </Modal>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(AssociateModal);\n","import React, { useState, useEffect, useContext } from 'react';\nimport { arrayOf, func, shape, string, oneOfType, number } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Tooltip, DropdownItem } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { KebabifiedContext } from '../../contexts/Kebabified';\n\nimport AlertModal from '../AlertModal';\n\nconst ModalNote = styled.div`\n  margin-bottom: var(--pf-global--spacer--xl);\n`;\n\nfunction DisassociateButton({\n  i18n,\n  itemsToDisassociate = [],\n  modalNote = '',\n  modalTitle = i18n._(t`Disassociate?`),\n  onDisassociate,\n  verifyCannotDisassociate = true,\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n\n  function handleDisassociate() {\n    onDisassociate();\n    setIsOpen(false);\n  }\n\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isOpen);\n    }\n  }, [isKebabified, isOpen, onKebabModalChange]);\n\n  function cannotDisassociate(item) {\n    return !item.summary_fields?.user_capabilities?.delete;\n  }\n\n  function renderTooltip() {\n    if (verifyCannotDisassociate) {\n      const itemsUnableToDisassociate = itemsToDisassociate\n        .filter(cannotDisassociate)\n        .map(item => item.name)\n        .join(', ');\n\n      if (itemsToDisassociate.some(cannotDisassociate)) {\n        return (\n          <div>\n            {i18n._(\n              t`You do not have permission to disassociate the following: ${itemsUnableToDisassociate}`\n            )}\n          </div>\n        );\n      }\n    }\n\n    if (itemsToDisassociate.length) {\n      return i18n._(t`Disassociate`);\n    }\n    return i18n._(t`Select a row to disassociate`);\n  }\n\n  let isDisabled = false;\n  if (verifyCannotDisassociate) {\n    isDisabled =\n      itemsToDisassociate.length === 0 ||\n      itemsToDisassociate.some(cannotDisassociate);\n  } else {\n    isDisabled = itemsToDisassociate.length === 0;\n  }\n\n  // NOTE: Once PF supports tooltips on disabled elements,\n  // we can delete the extra <div> around the <DeleteButton> below.\n  // See: https://github.com/patternfly/patternfly-react/issues/1894\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"add\"\n          aria-label={i18n._(t`disassociate`)}\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={() => setIsOpen(true)}\n        >\n          {i18n._(t`Disassociate`)}\n        </DropdownItem>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              variant=\"secondary\"\n              aria-label={i18n._(t`Disassociate`)}\n              onClick={() => setIsOpen(true)}\n              isDisabled={isDisabled}\n            >\n              {i18n._(t`Disassociate`)}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n\n      {isOpen && (\n        <AlertModal\n          isOpen={isOpen}\n          title={modalTitle}\n          variant=\"warning\"\n          onClose={() => setIsOpen(false)}\n          actions={[\n            <Button\n              key=\"disassociate\"\n              variant=\"danger\"\n              aria-label={i18n._(t`confirm disassociate`)}\n              onClick={handleDisassociate}\n            >\n              {i18n._(t`Disassociate`)}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"secondary\"\n              aria-label={i18n._(t`取消`)}\n              onClick={() => setIsOpen(false)}\n            >\n              {i18n._(t`取消`)}\n            </Button>,\n          ]}\n        >\n          {modalNote && <ModalNote>{modalNote}</ModalNote>}\n\n          <div>{i18n._(t`This action will disassociate the following:`)}</div>\n\n          {itemsToDisassociate.map(item => (\n            <span key={item.id}>\n              <strong>{item.hostname ? item.hostname : item.name}</strong>\n              <br />\n            </span>\n          ))}\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nDisassociateButton.defaultProps = {\n  itemsToDisassociate: [],\n  modalNote: '',\n  modalTitle: '',\n};\n\nDisassociateButton.propTypes = {\n  itemsToDisassociate: oneOfType([\n    arrayOf(\n      shape({\n        id: number.isRequired,\n        name: string.isRequired,\n      })\n    ),\n    arrayOf(\n      shape({\n        id: number.isRequired,\n        hostname: string.isRequired,\n      })\n    ),\n  ]),\n  modalNote: string,\n  modalTitle: string,\n  onDisassociate: func.isRequired,\n};\n\nexport default withI18n()(DisassociateButton);\n","import React from 'react';\nimport { bool, func, number, oneOfType, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\nimport { Group } from '../../../types';\n\nfunction HostGroupItem({ i18n, group, inventoryId, isSelected, onSelect }) {\n  const labelId = `check-action-${group.id}`;\n  const detailUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/details`;\n  const editUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/edit`;\n\n  return (\n    <DataListItem key={group.id} aria-labelledby={labelId} id={`${group.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          aria-labelledby={labelId}\n          id={`select-group-${group.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`} id={labelId}>\n                <b>{group.name}</b>\n              </Link>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {group.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`Edit Group`)} position=\"top\">\n              <Button variant=\"plain\" component={Link} to={editUrl}>\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nHostGroupItem.propTypes = {\n  group: Group.isRequired,\n  inventoryId: oneOfType([number, string]).isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(HostGroupItem);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { getQSConfig, parseQueryString, mergeParams } from '../../../util/qs';\nimport useRequest, {\n  useDismissableError,\n  useDeleteItems,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { HostsAPI, InventoriesAPI } from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport AssociateModal from '../../../components/AssociateModal';\nimport DisassociateButton from '../../../components/DisassociateButton';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport HostGroupItem from './HostGroupItem';\n\nconst QS_CONFIG = getQSConfig('group', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction HostGroupsList({ i18n, host }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n\n  const { id: hostId } = useParams();\n  const { search } = useLocation();\n  const invId = host.summary_fields.inventory.id;\n\n  const {\n    result: {\n      groups,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchGroups,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n\n      const [\n        {\n          data: { count, results },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        HostsAPI.readAllGroups(hostId, params),\n        HostsAPI.readGroupsOptions(hostId),\n      ]);\n\n      return {\n        groups: results,\n        itemCount: count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [hostId, search]),\n    {\n      groups: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchGroups();\n  }, [fetchGroups]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    groups\n  );\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateHosts,\n    deletionError: disassociateError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(group => HostsAPI.disassociateGroup(hostId, group))\n      );\n    }, [hostId, selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchGroups,\n    }\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateHosts();\n    setSelected([]);\n  };\n\n  const fetchGroupsToAssociate = useCallback(\n    params => {\n      return InventoriesAPI.readGroups(\n        invId,\n        mergeParams(params, { not__hosts: hostId })\n      );\n    },\n    [invId, hostId]\n  );\n\n  const fetchGroupsOptions = useCallback(\n    () => InventoriesAPI.readGroupsOptions(invId),\n    [invId]\n  );\n\n  const { request: handleAssociate, error: associateError } = useRequest(\n    useCallback(\n      async groupsToAssociate => {\n        await Promise.all(\n          groupsToAssociate.map(group =>\n            HostsAPI.associateGroup(hostId, group.id)\n          )\n        );\n        fetchGroups();\n      },\n      [hostId, fetchGroups]\n    )\n  );\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={groups}\n        itemCount={itemCount}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={item => (\n          <HostGroupItem\n            key={item.id}\n            group={item}\n            hostId={hostId}\n            inventoryId={item.summary_fields.inventory.id}\n            isSelected={selected.some(row => row.id === item.id)}\n            onSelect={() => handleSelect(item)}\n          />\n        )}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...groups] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      onClick={() => setIsModalOpen(true)}\n                    />,\n                  ]\n                : []),\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(t`Disassociate group from host?`)}\n                modalNote={i18n._(t`\n                  Note that you may still see the group in the list after\n                  disassociating if the host is also a member of that group’s \n                  children.  This list shows all groups the host is associated \n                  with directly and indirectly.\n                `)}\n              />,\n            ]}\n          />\n        )}\n        emptyStateControls={\n          canAdd ? (\n            <ToolbarAddButton key=\"add\" onClick={() => setIsModalOpen(true)} />\n          ) : null\n        }\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`Groups`)}\n          fetchRequest={fetchGroupsToAssociate}\n          optionsRequest={fetchGroupsOptions}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Groups`)}\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {associateError\n            ? i18n._(t`Failed to associate.`)\n            : i18n._(t`Failed to disassociate one or more groups.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(HostGroupsList);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { Switch, Route } from 'react-router-dom';\nimport HostGroupsList from './HostGroupsList';\n\nfunction HostGroups({ host }) {\n  return (\n    <Switch>\n      <Route key=\"list\" path=\"/hosts/:id/groups\">\n        <HostGroupsList host={host} />\n      </Route>\n    </Switch>\n  );\n}\n\nexport { HostGroups as _HostGroups };\nexport default withI18n()(HostGroups);\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport JobList from '../../components/JobList';\nimport HostFacts from './HostFacts';\nimport HostDetail from './HostDetail';\nimport HostEdit from './HostEdit';\nimport HostGroups from './HostGroups';\nimport { HostsAPI } from '../../api';\nimport useRequest from '../../util/useRequest';\n\nfunction Host({ i18n, setBreadcrumb }) {\n  const location = useLocation();\n  const match = useRouteMatch('/hosts/:id');\n  const { error, isLoading, result: host, request: fetchHost } = useRequest(\n    useCallback(async () => {\n      const { data } = await HostsAPI.readDetail(match.params.id);\n      setBreadcrumb(data);\n      return data;\n    }, [match.params.id, setBreadcrumb])\n  );\n\n  useEffect(() => {\n    fetchHost();\n  }, [fetchHost, location]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Hosts`)}\n        </>\n      ),\n      link: `/hosts`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${match.url}/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Facts`),\n      link: `${match.url}/facts`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`Groups`),\n      link: `${match.url}/groups`,\n      id: 2,\n    },\n    {\n      name: i18n._(t`Completed Jobs`),\n      link: `${match.url}/completed_jobs`,\n      id: 3,\n    },\n  ];\n\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error?.response?.status === 404 && (\n              <span>\n                {i18n._(t`Host not found.`)}{' '}\n                <Link to=\"/hosts\">{i18n._(t`View all Hosts.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  let showCardHeader = true;\n\n  if (location.pathname.endsWith('edit')) {\n    showCardHeader = false;\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect from=\"/hosts/:id\" to=\"/hosts/:id/details\" exact />\n          {host && [\n            <Route path=\"/hosts/:id/details\" key=\"details\">\n              <HostDetail host={host} />\n            </Route>,\n            <Route path=\"/hosts/:id/edit\" key=\"edit\">\n              <HostEdit host={host} />\n            </Route>,\n            <Route key=\"facts\" path=\"/hosts/:id/facts\">\n              <HostFacts host={host} />\n            </Route>,\n            <Route path=\"/hosts/:id/groups\" key=\"groups\">\n              <HostGroups host={host} />\n            </Route>,\n            <Route path=\"/hosts/:id/completed_jobs\" key=\"completed-jobs\">\n              <JobList defaultParams={{ job__hosts: host.id }} />\n            </Route>,\n          ]}\n          <Route key=\"not-found\" path=\"*\">\n            <ContentError isNotFound>\n              <Link to={`${match.url}/details`}>\n                {i18n._(t`View Host Details`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(Host);\nexport { Host as _Host };\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Config } from '../../contexts/Config';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\n\nimport HostList from './HostList';\nimport HostAdd from './HostAdd';\nimport Host from './Host';\n\nfunction Hosts({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/hosts': i18n._(t`Hosts`),\n    '/hosts/add': i18n._(t`Create New Host`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    host => {\n      if (!host) {\n        return;\n      }\n      setBreadcrumbConfig({\n        '/hosts': i18n._(t`Hosts`),\n        '/hosts/add': i18n._(t`Create New Host`),\n        [`/hosts/${host.id}`]: `${host.name}`,\n        [`/hosts/${host.id}/edit`]: i18n._(t`Edit Details`),\n        [`/hosts/${host.id}/details`]: i18n._(t`Details`),\n        [`/hosts/${host.id}/facts`]: i18n._(t`Facts`),\n        [`/hosts/${host.id}/groups`]: i18n._(t`Groups`),\n        [`/hosts/${host.id}/completed_jobs`]: i18n._(t`Completed Jobs`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader streamType=\"host\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path=\"/hosts/add\">\n          <HostAdd />\n        </Route>\n        <Route path=\"/hosts/:id\">\n          <Config>\n            {({ me }) => (\n              <Host setBreadcrumb={buildBreadcrumbConfig} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path=\"/hosts\">\n          <HostList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Hosts as _Hosts };\nexport default withI18n()(Hosts);\n","import React from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik, useField } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form } from '@patternfly/react-core';\n\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport { required, minMaxValue } from '../../../util/validators';\nimport { FormColumnLayout } from '../../../components/FormLayout';\n\nfunction InstanceGroupFormFields({ i18n }) {\n  const [instanceGroupNameField, ,] = useField('name');\n  return (\n    <>\n      <FormField\n        name=\"name\"\n        id=\"instance-group-name\"\n        label={i18n._(t`名称`)}\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n        isDisabled={instanceGroupNameField.value === 'tower'}\n      />\n      <FormField\n        id=\"instance-group-policy-instance-minimum\"\n        label={i18n._(t`Policy instance minimum`)}\n        name=\"policy_instance_minimum\"\n        type=\"number\"\n        min=\"0\"\n        validate={minMaxValue(0, 2147483647, i18n)}\n        tooltip={i18n._(\n          t`Minimum number of instances that will be automatically\n          assigned to this group when new instances come online.`\n        )}\n      />\n      <FormField\n        id=\"instance-group-policy-instance-percentage\"\n        label={i18n._(t`Policy instance percentage`)}\n        name=\"policy_instance_percentage\"\n        type=\"number\"\n        min=\"0\"\n        max=\"100\"\n        tooltip={i18n._(\n          t`Minimum percentage of all instances that will be automatically\n          assigned to this group when new instances come online.`\n        )}\n        validate={minMaxValue(0, 100, i18n)}\n      />\n    </>\n  );\n}\n\nfunction InstanceGroupForm({\n  instanceGroup = {},\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const initialValues = {\n    name: instanceGroup.name || '',\n    policy_instance_minimum: instanceGroup.policy_instance_minimum || 0,\n    policy_instance_percentage: instanceGroup.policy_instance_percentage || 0,\n  };\n  return (\n    <Formik initialValues={initialValues} onSubmit={values => onSubmit(values)}>\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <InstanceGroupFormFields {...rest} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nInstanceGroupForm.propTypes = {\n  instanceGroup: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nInstanceGroupForm.defaultProps = {\n  instanceGroup: {},\n  submitError: null,\n};\n\nexport default withI18n()(InstanceGroupForm);\n","import React, { useState } from 'react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { useHistory } from 'react-router-dom';\n\nimport InstanceGroupForm from '../shared/InstanceGroupForm';\nimport { CardBody } from '../../../components/Card';\nimport { InstanceGroupsAPI } from '../../../api';\n\nfunction InstanceGroupAdd() {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n\n  const handleSubmit = async values => {\n    try {\n      const { data: response } = await InstanceGroupsAPI.create(values);\n      history.push(`/instance_groups/${response.id}/details`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/instance_groups`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <InstanceGroupForm\n            onSubmit={handleSubmit}\n            submitError={submitError}\n            onCancel={handleCancel}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default InstanceGroupAdd;\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport 'styled-components/macro';\nimport {\n  Badge as PFBadge,\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Label,\n  Progress,\n  ProgressMeasureLocation,\n  ProgressSize,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nimport _DataListCell from '../../../components/DataListCell';\nimport { InstanceGroup } from '../../../types';\n\nconst DataListCell = styled(_DataListCell)`\n  white-space: nowrap;\n`;\n\nconst Badge = styled(PFBadge)`\n  margin-left: 8px;\n`;\n\nconst ListGroup = styled.span`\n  margin-left: 12px;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n`;\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n`;\n\nconst Unavailable = styled.span`\n  color: var(--pf-global--danger-color--200);\n`;\n\nfunction InstanceGroupListItem({\n  instanceGroup,\n  detailUrl,\n  isSelected,\n  onSelect,\n  i18n,\n}) {\n  const labelId = `check-action-${instanceGroup.id}`;\n\n  const isContainerGroup = item => {\n    return item.is_containerized;\n  };\n\n  function usedCapacity(item) {\n    if (!isContainerGroup(item)) {\n      if (item.capacity) {\n        return (\n          <Progress\n            value={Math.round(100 - item.percent_capacity_remaining)}\n            measureLocation={ProgressMeasureLocation.top}\n            size={ProgressSize.sm}\n            title={i18n._(t`Used capacity`)}\n          />\n        );\n      }\n      return <Unavailable> {i18n._(t`Unavailable`)}</Unavailable>;\n    }\n    return null;\n  }\n\n  const verifyInstanceGroup = item => {\n    if (item.is_isolated) {\n      return (\n        <span css=\"margin-left: 12px\">\n          <Label aria-label={i18n._(t`isolated instance`)}>\n            {i18n._(t`Isolated`)}\n          </Label>\n        </span>\n      );\n    }\n    if (item.is_controller) {\n      return (\n        <span css=\"margin-left: 12px\">\n          <Label aria-label={i18n._(t`controller instance`)}>\n            {i18n._(t`Controller`)}\n          </Label>\n        </span>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <DataListItem\n      key={instanceGroup.id}\n      aria-labelledby={labelId}\n      id={`${instanceGroup.id} `}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-instance-groups-${instanceGroup.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell\n              key=\"name\"\n              aria-label={i18n._(t`instance group name`)}\n            >\n              <span id={labelId}>\n                <Link to={`${detailUrl}`}>\n                  <b>{instanceGroup.name}</b>\n                </Link>\n              </span>\n              {verifyInstanceGroup(instanceGroup)}\n            </DataListCell>,\n\n            <DataListCell\n              key=\"type\"\n              aria-label={i18n._(t`instance group type`)}\n            >\n              <b css=\"margin-right: 24px\">{i18n._(t`类型`)}</b>\n              <span id={labelId}>\n                {isContainerGroup(instanceGroup)\n                  ? i18n._(t`Container group`)\n                  : i18n._(t`Instance group`)}\n              </span>\n            </DataListCell>,\n            <DataListCell\n              key=\"related-field-counts\"\n              aria-label={i18n._(t`instance counts`)}\n              width={2}\n            >\n              <ListGroup>\n                <b>{i18n._(t`Running jobs`)}</b>\n                <Badge isRead>{instanceGroup.jobs_running}</Badge>\n              </ListGroup>\n              <ListGroup>\n                <b>{i18n._(t`Total jobs`)}</b>\n                <Badge isRead>{instanceGroup.jobs_total}</Badge>\n              </ListGroup>\n\n              {!instanceGroup.is_containerized ? (\n                <ListGroup>\n                  <b>{i18n._(t`Instances`)}</b>\n                  <Badge isRead>{instanceGroup.instances}</Badge>\n                </ListGroup>\n              ) : null}\n            </DataListCell>,\n\n            <DataListCell\n              key=\"capacity\"\n              aria-label={i18n._(t`instance group used capacity`)}\n            >\n              {usedCapacity(instanceGroup)}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {instanceGroup.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑实例组`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑实例组`)}\n                variant=\"plain\"\n                component={Link}\n                to={\n                  isContainerGroup(instanceGroup)\n                    ? `/instance_groups/container_group/${instanceGroup.id}/edit`\n                    : `/instance_groups/${instanceGroup.id}/edit`\n                }\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\nInstanceGroupListItem.prototype = {\n  instanceGroup: InstanceGroup.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InstanceGroupListItem);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch, Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection, DropdownItem } from '@patternfly/react-core';\n\nimport { InstanceGroupsAPI } from '../../../api';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\n\nimport InstanceGroupListItem from './InstanceGroupListItem';\n\nconst QS_CONFIG = getQSConfig('instance-group', {\n  page: 1,\n  page_size: 20,\n});\n\nfunction modifyInstanceGroups(items = []) {\n  return items.map(item => {\n    const clonedItem = {\n      ...item,\n      summary_fields: {\n        ...item.summary_fields,\n        user_capabilities: {\n          ...item.summary_fields.user_capabilities,\n        },\n      },\n    };\n    if (clonedItem.name === 'tower') {\n      clonedItem.summary_fields.user_capabilities.delete = false;\n    }\n    return clonedItem;\n  });\n}\n\nfunction InstanceGroupList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const {\n    error: contentError,\n    isLoading,\n    request: fetchInstanceGroups,\n    result: {\n      instanceGroups,\n      instanceGroupsCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n\n      const [response, responseActions] = await Promise.all([\n        InstanceGroupsAPI.read(params),\n        InstanceGroupsAPI.readOptions(),\n      ]);\n\n      return {\n        instanceGroups: response.data.results,\n        instanceGroupsCount: response.data.count,\n        actions: responseActions.data.actions,\n        relatedSearchableKeys: (\n          responseActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          responseActions.data.actions?.GET || {}\n        ).filter(key => responseActions.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      instanceGroups: [],\n      instanceGroupsCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    instanceGroups\n  );\n\n  const modifiedSelected = modifyInstanceGroups(selected);\n\n  const {\n    isLoading: deleteLoading,\n    deletionError,\n    deleteItems: deleteInstanceGroups,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id }) => InstanceGroupsAPI.destroy(id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchInstanceGroups,\n    }\n  );\n\n  const handleDelete = async () => {\n    await deleteInstanceGroups();\n    setSelected([]);\n  };\n\n  const canAdd = actions && actions.POST;\n\n  function cannotDelete(item) {\n    return !item.summary_fields.user_capabilities.delete;\n  }\n\n  const pluralizedItemName = i18n._(t`Instance Groups`);\n\n  let errorMessageDelete = '';\n\n  if (modifiedSelected.some(item => item.name === 'tower')) {\n    const itemsUnableToDelete = modifiedSelected\n      .filter(cannotDelete)\n      .filter(item => item.name !== 'tower')\n      .map(item => item.name)\n      .join(', ');\n\n    if (itemsUnableToDelete) {\n      if (modifiedSelected.some(cannotDelete)) {\n        errorMessageDelete = i18n._(\n          t`You do not have permission to delete ${pluralizedItemName}: ${itemsUnableToDelete}. `\n        );\n      }\n    }\n\n    if (errorMessageDelete.length > 0) {\n      errorMessageDelete = errorMessageDelete.concat('\\n');\n    }\n    errorMessageDelete = errorMessageDelete.concat(\n      i18n._(t`The tower instance group cannot be deleted.`)\n    );\n  }\n\n  const addContainerGroup = i18n._(t`Add container group`);\n  const addInstanceGroup = i18n._(t`Add instance group`);\n\n  const addButton = (\n    <AddDropDownButton\n      key=\"add\"\n      dropdownItems={[\n        <DropdownItem\n          to=\"/instance_groups/container_group/add\"\n          component={Link}\n          key={addContainerGroup}\n          aria-label={addContainerGroup}\n        >\n          {addContainerGroup}\n        </DropdownItem>,\n        <DropdownItem\n          to=\"/instance_groups/add\"\n          component={Link}\n          key={addInstanceGroup}\n          aria-label={addInstanceGroup}\n        >\n          {addInstanceGroup}\n        </DropdownItem>,\n      ]}\n    />\n  );\n\n  const getDetailUrl = item => {\n    return item.is_containerized\n      ? `${match.url}/container_group/${item.id}/details`\n      : `${match.url}/${item.id}/details`;\n  };\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={isLoading || deleteLoading}\n            items={instanceGroups}\n            itemCount={instanceGroupsCount}\n            pluralizedItemName={pluralizedItemName}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            renderToolbar={props => (\n              <DatalistToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={isSelected =>\n                  setSelected(isSelected ? [...instanceGroups] : [])\n                }\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd ? [addButton] : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleDelete}\n                    itemsToDelete={modifiedSelected}\n                    pluralizedItemName={i18n._(t`Instance Groups`)}\n                    errorMessage={errorMessageDelete}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={instanceGroup => (\n              <InstanceGroupListItem\n                key={instanceGroup.id}\n                value={instanceGroup.name}\n                instanceGroup={instanceGroup}\n                detailUrl={getDetailUrl(instanceGroup)}\n                onSelect={() => handleSelect(instanceGroup)}\n                isSelected={selected.some(row => row.id === instanceGroup.id)}\n              />\n            )}\n            emptyStateControls={canAdd && addButton}\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        aria-label={i18n._(t`Deletion error`)}\n        isOpen={deletionError}\n        onClose={clearDeletionError}\n        title={i18n._(t`Error`)}\n        variant=\"error\"\n      >\n        {i18n._(t`Failed to delete one or more instance groups.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(InstanceGroupList);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, useHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Button, Label, Split, SplitItem } from '@patternfly/react-core';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n  DetailBadge,\n} from '../../../components/DetailList';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { InstanceGroupsAPI } from '../../../api';\n\nconst Unavailable = styled.span`\n  color: var(--pf-global--danger-color--200);\n`;\n\nfunction InstanceGroupDetails({ instanceGroup, i18n }) {\n  const { id, name } = instanceGroup;\n\n  const history = useHistory();\n\n  const {\n    request: deleteInstanceGroup,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await InstanceGroupsAPI.destroy(id);\n      history.push(`/instance_groups`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const verifyInstanceGroup = item => {\n    if (item.is_isolated) {\n      return (\n        <Split hasGutter>\n          <SplitItem>{item.name}</SplitItem>\n          <SplitItem>\n            <Label aria-label={i18n._(t`isolated instance`)}>\n              {i18n._(t`Isolated`)}\n            </Label>\n          </SplitItem>\n        </Split>\n      );\n    }\n    if (item.is_controller) {\n      return (\n        <Split hasGutter>\n          <SplitItem>{item.name}</SplitItem>\n          <SplitItem>\n            <Label aria-label={i18n._(t`controller instance`)}>\n              {i18n._(t`Controller`)}\n            </Label>\n          </SplitItem>\n        </Split>\n      );\n    }\n    return <>{item.name}</>;\n  };\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={verifyInstanceGroup(instanceGroup)}\n          dataCy=\"instance-group-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`类型`)}\n          value={\n            instanceGroup.is_containerized\n              ? i18n._(t`Container group`)\n              : i18n._(t`Instance group`)\n          }\n          dataCy=\"instance-group-type\"\n        />\n        <DetailBadge\n          label={i18n._(t`Policy instance minimum`)}\n          dataCy=\"instance-group-policy-instance-minimum\"\n          content={instanceGroup.policy_instance_minimum}\n        />\n        <DetailBadge\n          label={i18n._(t`Policy instance percentage`)}\n          dataCy=\"instance-group-policy-instance-percentage\"\n          content={`${instanceGroup.policy_instance_percentage} %`}\n        />\n        {instanceGroup.capacity ? (\n          <DetailBadge\n            label={i18n._(t`Used capacity`)}\n            content={`${Math.round(\n              100 - instanceGroup.percent_capacity_remaining\n            )} %`}\n            dataCy=\"instance-group-used-capacity\"\n          />\n        ) : (\n          <Detail\n            label={i18n._(t`Used capacity`)}\n            value={<Unavailable>{i18n._(t`Unavailable`)}</Unavailable>}\n            dataCy=\"instance-group-used-capacity\"\n          />\n        )}\n\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={instanceGroup.created}\n          user={instanceGroup.summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={instanceGroup.modified}\n          user={instanceGroup.summary_fields.modified_by}\n        />\n      </DetailList>\n\n      <CardActionsRow>\n        {instanceGroup.summary_fields.user_capabilities &&\n          instanceGroup.summary_fields.user_capabilities.edit && (\n            <Button\n              aria-label={i18n._(t`edit`)}\n              component={Link}\n              to={`/instance_groups/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {name !== 'tower' &&\n          instanceGroup.summary_fields.user_capabilities &&\n          instanceGroup.summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete instance group`)}\n              onConfirm={deleteInstanceGroup}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error`)}\n          variant=\"error\"\n        />\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(InstanceGroupDetails);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from '../../../components/Card';\nimport { InstanceGroupsAPI } from '../../../api';\nimport InstanceGroupForm from '../shared/InstanceGroupForm';\n\nfunction InstanceGroupEdit({ instanceGroup }) {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n  const detailsUrl = `/instance_groups/${instanceGroup.id}/details`;\n\n  const handleSubmit = async values => {\n    try {\n      await InstanceGroupsAPI.update(instanceGroup.id, values);\n      history.push(detailsUrl);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <InstanceGroupForm\n        instanceGroup={instanceGroup}\n        onSubmit={handleSubmit}\n        submitError={submitError}\n        onCancel={handleCancel}\n      />\n    </CardBody>\n  );\n}\n\nexport default InstanceGroupEdit;\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Switch, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport useRequest from '../../util/useRequest';\nimport { InstancesAPI } from '../../api';\nimport { useConfig } from '../../contexts/Config';\n\nfunction InstanceToggle({\n  className,\n  fetchInstances,\n  instance,\n  onToggle,\n  i18n,\n}) {\n  const { me = {} } = useConfig();\n  const [isEnabled, setIsEnabled] = useState(instance.enabled);\n  const [showError, setShowError] = useState(false);\n\n  const { result, isLoading, error, request: toggleInstance } = useRequest(\n    useCallback(async () => {\n      await InstancesAPI.update(instance.id, { enabled: !isEnabled });\n      await fetchInstances();\n      return !isEnabled;\n    }, [instance, isEnabled, fetchInstances]),\n    instance.enabled\n  );\n\n  useEffect(() => {\n    if (result !== isEnabled) {\n      setIsEnabled(result);\n      if (onToggle) {\n        onToggle(result);\n      }\n    }\n  }, [result, isEnabled, onToggle]);\n\n  useEffect(() => {\n    if (error) {\n      setShowError(true);\n    }\n  }, [error]);\n\n  return (\n    <>\n      <Tooltip\n        content={i18n._(\n          t`Set the instance online or offline. If offline, jobs will not be assigned to this instance.`\n        )}\n        position=\"top\"\n      >\n        <Switch\n          className={className}\n          css=\"display: inline-flex;\"\n          id={`host-${instance.id}-toggle`}\n          label={i18n._(t`On`)}\n          labelOff={i18n._(t`Off`)}\n          isChecked={isEnabled}\n          isDisabled={isLoading || !me?.is_superuser}\n          onChange={toggleInstance}\n          aria-label={i18n._(t`Toggle instance`)}\n        />\n      </Tooltip>\n      {showError && error && !isLoading && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={error && !isLoading}\n          onClose={() => setShowError(false)}\n        >\n          {i18n._(t`Failed to toggle instance.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InstanceToggle);\n","import React from 'react';\nimport { bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport 'styled-components/macro';\nimport {\n  Badge as PFBadge,\n  Progress,\n  ProgressMeasureLocation,\n  ProgressSize,\n  DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n} from '@patternfly/react-core';\n\nimport _DataListCell from '../../../components/DataListCell';\nimport InstanceToggle from '../../../components/InstanceToggle';\nimport { Instance } from '../../../types';\n\nconst Unavailable = styled.span`\n  color: var(--pf-global--danger-color--200);\n`;\n\nconst DataListCell = styled(_DataListCell)`\n  white-space: nowrap;\n`;\n\nconst Badge = styled(PFBadge)`\n  margin-left: 8px;\n`;\n\nconst ListGroup = styled.span`\n  margin-left: 12px;\n\n  &:first-of-type {\n    margin-left: 0;\n  }\n`;\n\nfunction InstanceListItem({\n  instance,\n  isSelected,\n  onSelect,\n  fetchInstances,\n  i18n,\n}) {\n  const labelId = `check-action-${instance.id}`;\n\n  function usedCapacity(item) {\n    if (item.enabled) {\n      return (\n        <Progress\n          value={Math.round(100 - item.percent_capacity_remaining)}\n          measureLocation={ProgressMeasureLocation.top}\n          size={ProgressSize.sm}\n          title={i18n._(t`Used capacity`)}\n        />\n      );\n    }\n    return <Unavailable>{i18n._(t`Unavailable`)}</Unavailable>;\n  }\n\n  return (\n    <DataListItem\n      aria-labelledby={labelId}\n      id={`${instance.id}`}\n      key={instance.id}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          aria-labelledby={labelId}\n          checked={isSelected}\n          id={`instances-${instance.id}`}\n          onChange={onSelect}\n        />\n\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" aria-label={i18n._(t`instance host name`)}>\n              <b>{instance.hostname}</b>\n            </DataListCell>,\n            <DataListCell key=\"type\" aria-label={i18n._(t`instance type`)}>\n              <b css=\"margin-right: 24px\">{i18n._(t`类型`)}</b>\n              <span id={labelId}>\n                {instance.managed_by_policy\n                  ? i18n._(t`Auto`)\n                  : i18n._(t`Manual`)}\n              </span>\n            </DataListCell>,\n            <DataListCell\n              key=\"related-field-counts\"\n              aria-label={i18n._(t`instance counts`)}\n              width={2}\n            >\n              <ListGroup>\n                <b>{i18n._(t`Running jobs`)}</b>\n                <Badge isRead>{instance.jobs_running}</Badge>\n              </ListGroup>\n              <ListGroup>\n                <b>{i18n._(t`Total jobs`)}</b>\n                <Badge isRead>{instance.jobs_total}</Badge>\n              </ListGroup>\n            </DataListCell>,\n            <DataListCell\n              key=\"capacity\"\n              aria-label={i18n._(t`instance group used capacity`)}\n            >\n              {usedCapacity(instance)}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          <InstanceToggle\n            css=\"display: inline-flex;\"\n            fetchInstances={fetchInstances}\n            instance={instance}\n          />\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\nInstanceListItem.prototype = {\n  instance: Instance.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InstanceListItem);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useLocation, useParams } from 'react-router-dom';\nimport 'styled-components/macro';\n\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport DisassociateButton from '../../../components/DisassociateButton';\nimport AssociateModal from '../../../components/AssociateModal';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\n\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { InstanceGroupsAPI, InstancesAPI } from '../../../api';\nimport { getQSConfig, parseQueryString, mergeParams } from '../../../util/qs';\n\nimport InstanceListItem from './InstanceListItem';\n\nconst QS_CONFIG = getQSConfig('instance', {\n  page: 1,\n  page_size: 20,\n  order_by: 'hostname',\n});\n\nfunction InstanceList({ i18n }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const location = useLocation();\n  const { id: instanceGroupId } = useParams();\n\n  const {\n    result: {\n      instances,\n      count,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchInstances,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, responseActions] = await Promise.all([\n        InstanceGroupsAPI.readInstances(instanceGroupId, params),\n        InstanceGroupsAPI.readInstanceOptions(instanceGroupId),\n      ]);\n      return {\n        instances: response.data.results,\n        count: response.data.count,\n        actions: responseActions.data.actions,\n        relatedSearchableKeys: (\n          responseActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          responseActions.data.actions?.GET || {}\n        ).filter(key => responseActions.data.actions?.GET[key].filterable),\n      };\n    }, [location.search, instanceGroupId]),\n    {\n      instances: [],\n      count: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    instances\n  );\n\n  useEffect(() => {\n    fetchInstances();\n  }, [fetchInstances]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateInstances,\n    deletionError: disassociateError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(instance =>\n          InstanceGroupsAPI.disassociateInstance(instanceGroupId, instance.id)\n        )\n      );\n    }, [instanceGroupId, selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchInstances,\n    }\n  );\n\n  const { request: handleAssociate, error: associateError } = useRequest(\n    useCallback(\n      async instancesToAssociate => {\n        await Promise.all(\n          instancesToAssociate.map(instance =>\n            InstanceGroupsAPI.associateInstance(instanceGroupId, instance.id)\n          )\n        );\n        fetchInstances();\n      },\n      [instanceGroupId, fetchInstances]\n    )\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateInstances();\n    setSelected([]);\n  };\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  const fetchInstancesToAssociate = useCallback(\n    params => {\n      return InstancesAPI.read(\n        mergeParams(params, { not__rampart_groups__id: instanceGroupId })\n      );\n    },\n    [instanceGroupId]\n  );\n\n  const readInstancesOptions = () =>\n    InstanceGroupsAPI.readInstanceOptions(instanceGroupId);\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={instances}\n        itemCount={count}\n        pluralizedItemName={i18n._(t`Instances`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'hostname',\n            isDefault: true,\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'hostname',\n          },\n        ]}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...instances] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"associate\"\n                      onClick={() => setIsModalOpen(true)}\n                      defaultLabel={i18n._(t`Associate`)}\n                    />,\n                  ]\n                : []),\n              <DisassociateButton\n                verifyCannotDisassociate={false}\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(\n                  t`Disassociate instance from instance group?`\n                )}\n              />,\n            ]}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton\n                  key=\"add\"\n                  onClick={() => setIsModalOpen(true)}\n                />\n              ) : null\n            }\n          />\n        )}\n        renderItem={instance => (\n          <InstanceListItem\n            key={instance.id}\n            value={instance.hostname}\n            instance={instance}\n            onSelect={() => handleSelect(instance)}\n            isSelected={selected.some(row => row.id === instance.id)}\n            fetchInstances={fetchInstances}\n          />\n        )}\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`Instances`)}\n          fetchRequest={fetchInstancesToAssociate}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Instances`)}\n          optionsRequest={readInstancesOptions}\n          displayKey=\"hostname\"\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {associateError\n            ? i18n._(t`Failed to associate.`)\n            : i18n._(t`Failed to disassociate one or more instances.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InstanceList);\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  Link,\n  Redirect,\n  Route,\n  Switch,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport useRequest from '../../util/useRequest';\nimport { InstanceGroupsAPI } from '../../api';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport JobList from '../../components/JobList';\n\nimport InstanceGroupDetails from './InstanceGroupDetails';\nimport InstanceGroupEdit from './InstanceGroupEdit';\nimport InstanceList from './Instances/InstanceList';\n\nfunction InstanceGroup({ i18n, setBreadcrumb }) {\n  const { id } = useParams();\n  const { pathname } = useLocation();\n\n  const {\n    isLoading,\n    error: contentError,\n    request: fetchInstanceGroups,\n    result: instanceGroup,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InstanceGroupsAPI.readDetail(id);\n      return data;\n    }, [id])\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups, pathname]);\n\n  useEffect(() => {\n    if (instanceGroup) {\n      setBreadcrumb(instanceGroup);\n    }\n  }, [instanceGroup, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to instance groups`)}\n        </>\n      ),\n      link: '/instance_groups',\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/instance_groups/${id}/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Instances`),\n      link: `/instance_groups/${id}/instances`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`作业`),\n      link: `/instance_groups/${id}/jobs`,\n      id: 2,\n    },\n  ];\n\n  if (!isLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response?.status === 404 && (\n              <span>\n                {i18n._(t`Instance group not found.`)}\n                {''}\n                <Link to=\"/instance_groups\">\n                  {i18n._(t`View all instance groups`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  let cardHeader = <RoutedTabs tabsArray={tabsArray} />;\n  if (pathname.endsWith('edit')) {\n    cardHeader = null;\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {cardHeader}\n        {isLoading && <ContentLoading />}\n        {!isLoading && instanceGroup && (\n          <Switch>\n            <Redirect\n              from=\"/instance_groups/:id\"\n              to=\"/instance_groups/:id/details\"\n              exact\n            />\n            {instanceGroup && (\n              <>\n                <Route path=\"/instance_groups/:id/edit\">\n                  <InstanceGroupEdit instanceGroup={instanceGroup} />\n                </Route>\n                <Route path=\"/instance_groups/:id/details\">\n                  <InstanceGroupDetails instanceGroup={instanceGroup} />\n                </Route>\n                <Route path=\"/instance_groups/:id/instances\">\n                  <InstanceList />\n                </Route>\n                <Route path=\"/instance_groups/:id/jobs\">\n                  <JobList\n                    showTypeColumn\n                    defaultParams={{ instance_group: instanceGroup.id }}\n                  />\n                </Route>\n              </>\n            )}\n          </Switch>\n        )}\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(InstanceGroup);\n","import React, { useCallback } from 'react';\nimport { func, shape } from 'prop-types';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport { jsonToYaml } from '../../../util/yaml';\n\nimport FormField, {\n  FormSubmitError,\n  CheckboxField,\n} from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport { required } from '../../../util/validators';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n  FormCheckboxLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport CredentialLookup from '../../../components/Lookup/CredentialLookup';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\n\nfunction ContainerGroupFormFields({ i18n, instanceGroup }) {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const [overrideField] = useField('override');\n\n  const onCredentialChange = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        name=\"name\"\n        id=\"container-group-name\"\n        label={i18n._(t`名称`)}\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <CredentialLookup\n        label={i18n._(t`Credential`)}\n        credentialTypeKind=\"kubernetes\"\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={onCredentialChange}\n        value={credentialField.value}\n        required\n        tooltip={i18n._(\n          t`Credential to authenticate with Kubernetes or OpenShift.  Must be of type \"Kubernetes/OpenShift API Bearer Token”.`\n        )}\n        autoPopulate={!instanceGroup?.id}\n      />\n\n      <FormGroup\n        fieldId=\"container-groups-option-checkbox\"\n        label={i18n._(t`Options`)}\n      >\n        <FormCheckboxLayout>\n          <CheckboxField\n            name=\"override\"\n            aria-label={i18n._(t`Customize pod specification`)}\n            label={i18n._(t`Customize pod specification`)}\n            id=\"container-groups-override-pod-specification\"\n          />\n        </FormCheckboxLayout>\n      </FormGroup>\n\n      {overrideField.value && (\n        <SubFormLayout>\n          <FormFullWidthLayout>\n            <VariablesField\n              tooltip={i18n._(\n                t`Field for passing a custom Kubernetes or OpenShift Pod specification.`\n              )}\n              id=\"custom-pod-spec\"\n              name=\"pod_spec_override\"\n              label={i18n._(t`Custom pod spec`)}\n            />\n          </FormFullWidthLayout>\n        </SubFormLayout>\n      )}\n    </>\n  );\n}\n\nfunction ContainerGroupForm({\n  initialPodSpec,\n  instanceGroup,\n  onSubmit,\n  onCancel,\n  submitError,\n  ...rest\n}) {\n  const isCheckboxChecked = Boolean(instanceGroup?.pod_spec_override) || false;\n\n  const initialValues = {\n    name: instanceGroup?.name || '',\n    credential: instanceGroup?.summary_fields?.credential,\n    pod_spec_override: isCheckboxChecked\n      ? instanceGroup?.pod_spec_override\n      : jsonToYaml(JSON.stringify(initialPodSpec)),\n    override: isCheckboxChecked,\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={values => {\n        onSubmit(values);\n      }}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <ContainerGroupFormFields instanceGroup={instanceGroup} {...rest} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nContainerGroupForm.propTypes = {\n  instanceGroup: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n  initialPodSpec: shape({}),\n};\n\nContainerGroupForm.defaultProps = {\n  instanceGroup: {},\n  submitError: null,\n  initialPodSpec: {},\n};\n\nexport default withI18n()(ContainerGroupForm);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from '../../../components/Card';\nimport { InstanceGroupsAPI } from '../../../api';\nimport useRequest from '../../../util/useRequest';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport { jsonToYaml, isJsonString } from '../../../util/yaml';\n\nimport ContainerGroupForm from '../shared/ContainerGroupForm';\n\nfunction ContainerGroupAdd() {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n\n  const getPodSpecValue = value => {\n    if (isJsonString(value)) {\n      value = jsonToYaml(value);\n    }\n    if (value !== jsonToYaml(JSON.stringify(initialPodSpec))) {\n      return value;\n    }\n    return null;\n  };\n\n  const handleSubmit = async values => {\n    try {\n      const { data: response } = await InstanceGroupsAPI.create({\n        name: values.name,\n        credential: values?.credential?.id,\n        pod_spec_override: values.override\n          ? getPodSpecValue(values.pod_spec_override)\n          : null,\n      });\n      history.push(`/instance_groups/container_group/${response.id}/details`);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/instance_groups`);\n  };\n\n  const {\n    error: fetchError,\n    isLoading,\n    request: fetchInitialPodSpec,\n    result: initialPodSpec,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InstanceGroupsAPI.readOptions();\n      return data.actions.POST.pod_spec_override.default;\n    }, []),\n    {\n      initialPodSpec: {},\n    }\n  );\n\n  useEffect(() => {\n    fetchInitialPodSpec();\n  }, [fetchInitialPodSpec]);\n\n  if (fetchError) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentError error={fetchError} />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentLoading />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <ContainerGroupForm\n            initialPodSpec={initialPodSpec}\n            onSubmit={handleSubmit}\n            submitError={submitError}\n            onCancel={handleCancel}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default ContainerGroupAdd;\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button, Label } from '@patternfly/react-core';\n\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { jsonToYaml, isJsonString } from '../../../util/yaml';\nimport { InstanceGroupsAPI } from '../../../api';\n\nfunction ContainerGroupDetails({ instanceGroup, i18n }) {\n  const { id, name } = instanceGroup;\n\n  const history = useHistory();\n\n  const {\n    request: deleteInstanceGroup,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await InstanceGroupsAPI.destroy(id);\n      history.push(`/instance_groups`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={instanceGroup.name}\n          dataCy=\"container-group-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`类型`)}\n          value={i18n._(t`Container group`)}\n          dataCy=\"container-group-type\"\n        />\n        {instanceGroup.summary_fields.credential && (\n          <Detail\n            label={i18n._(t`Credential`)}\n            value={\n              <Label variant=\"outline\" color=\"blue\">\n                {instanceGroup.summary_fields.credential?.name}\n              </Label>\n            }\n            dataCy=\"container-group-credential\"\n          />\n        )}\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={instanceGroup.created}\n          user={instanceGroup.summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={instanceGroup.modified}\n          user={instanceGroup.summary_fields.modified_by}\n        />\n        {instanceGroup.pod_spec_override && (\n          <VariablesDetail\n            label={i18n._(t`Pod spec override`)}\n            value={\n              isJsonString(instanceGroup.pod_spec_override)\n                ? jsonToYaml(instanceGroup.pod_spec_override)\n                : instanceGroup.pod_spec_override\n            }\n            rows={6}\n          />\n        )}\n      </DetailList>\n\n      <CardActionsRow>\n        {instanceGroup.summary_fields.user_capabilities &&\n          instanceGroup.summary_fields.user_capabilities.edit && (\n            <Button\n              aria-label={i18n._(t`edit`)}\n              component={Link}\n              to={`/instance_groups/container_group/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {instanceGroup.summary_fields.user_capabilities &&\n          instanceGroup.summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete instance group`)}\n              onConfirm={deleteInstanceGroup}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error`)}\n          variant=\"error\"\n        />\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(ContainerGroupDetails);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { CardBody } from '../../../components/Card';\nimport { InstanceGroupsAPI } from '../../../api';\nimport ContainerGroupForm from '../shared/ContainerGroupForm';\nimport useRequest from '../../../util/useRequest';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\n\nfunction ContainerGroupEdit({ instanceGroup }) {\n  const history = useHistory();\n  const [submitError, setSubmitError] = useState(null);\n  const detailsIUrl = `/instance_groups/container_group/${instanceGroup.id}/details`;\n\n  const {\n    error: fetchError,\n    isLoading,\n    request: fetchInitialPodSpec,\n    result: initialPodSpec,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InstanceGroupsAPI.readOptions();\n      return data.actions.POST.pod_spec_override.default;\n    }, []),\n    {\n      initialPodSpec: {},\n    }\n  );\n\n  useEffect(() => {\n    fetchInitialPodSpec();\n  }, [fetchInitialPodSpec]);\n\n  const handleSubmit = async values => {\n    try {\n      await InstanceGroupsAPI.update(instanceGroup.id, {\n        name: values.name,\n        credential: values.credential.id,\n        pod_spec_override: values.override ? values.pod_spec_override : null,\n      });\n      history.push(detailsIUrl);\n    } catch (error) {\n      setSubmitError(error);\n    }\n  };\n  const handleCancel = () => {\n    history.push(detailsIUrl);\n  };\n\n  if (fetchError) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentError error={fetchError} />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <ContentLoading />\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <CardBody>\n      <ContainerGroupForm\n        instanceGroup={instanceGroup}\n        initialPodSpec={initialPodSpec}\n        onSubmit={handleSubmit}\n        submitError={submitError}\n        onCancel={handleCancel}\n      />\n    </CardBody>\n  );\n}\n\nexport default ContainerGroupEdit;\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  Link,\n  Redirect,\n  Route,\n  Switch,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport useRequest from '../../util/useRequest';\nimport { InstanceGroupsAPI } from '../../api';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport JobList from '../../components/JobList';\n\nimport ContainerGroupDetails from './ContainerGroupDetails';\nimport ContainerGroupEdit from './ContainerGroupEdit';\n\nfunction ContainerGroup({ i18n, setBreadcrumb }) {\n  const { id } = useParams();\n  const { pathname } = useLocation();\n\n  const {\n    isLoading,\n    error: contentError,\n    request: fetchInstanceGroups,\n    result: instanceGroup,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InstanceGroupsAPI.readDetail(id);\n      return data;\n    }, [id])\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups, pathname]);\n\n  useEffect(() => {\n    if (instanceGroup) {\n      setBreadcrumb(instanceGroup);\n    }\n  }, [instanceGroup, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to instance groups`)}\n        </>\n      ),\n      link: '/instance_groups',\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/instance_groups/container_group/${id}/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`作业`),\n      link: `/instance_groups/container_group/${id}/jobs`,\n      id: 1,\n    },\n  ];\n\n  if (!isLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response?.status === 404 && (\n              <span>\n                {i18n._(t`Container group not found.`)}\n                {''}\n                <Link to=\"/instance_groups\">\n                  {i18n._(t`View all instance groups`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  let cardHeader = <RoutedTabs tabsArray={tabsArray} />;\n  if (pathname.endsWith('edit')) {\n    cardHeader = null;\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {cardHeader}\n        {isLoading && <ContentLoading />}\n        {!isLoading && instanceGroup && (\n          <Switch>\n            <Redirect\n              from=\"/instance_groups/container_group/:id\"\n              to=\"/instance_groups/container_group/:id/details\"\n              exact\n            />\n            {instanceGroup && (\n              <>\n                <Route path=\"/instance_groups/container_group/:id/edit\">\n                  <ContainerGroupEdit instanceGroup={instanceGroup} />\n                </Route>\n                <Route path=\"/instance_groups/container_group/:id/details\">\n                  <ContainerGroupDetails instanceGroup={instanceGroup} />\n                </Route>\n                <Route path=\"/instance_groups/container_group/:id/jobs\">\n                  <JobList\n                    showTypeColumn\n                    defaultParams={{ instance_group: instanceGroup.id }}\n                  />\n                </Route>\n              </>\n            )}\n          </Switch>\n        )}\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(ContainerGroup);\n","import React, { useState, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Route, Switch } from 'react-router-dom';\n\nimport InstanceGroupAdd from './InstanceGroupAdd';\nimport InstanceGroupList from './InstanceGroupList';\nimport InstanceGroup from './InstanceGroup';\n\nimport ContainerGroupAdd from './ContainerGroupAdd';\nimport ContainerGroup from './ContainerGroup';\nimport ScreenHeader from '../../components/ScreenHeader';\n\nfunction InstanceGroups({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/instance_groups': i18n._(t`Instance groups`),\n    '/instance_groups/add': i18n._(t`Create instance group`),\n    '/instance_groups/container_group/add': i18n._(t`Create container group`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    instanceGroups => {\n      if (!instanceGroups) {\n        return;\n      }\n      setBreadcrumbConfig({\n        '/instance_groups': i18n._(t`Instance group`),\n        '/instance_groups/add': i18n._(t`Create instance group`),\n        '/instance_groups/container_group/add': i18n._(\n          t`Create container group`\n        ),\n\n        [`/instance_groups/${instanceGroups.id}/details`]: i18n._(t`Details`),\n        [`/instance_groups/${instanceGroups.id}/instances`]: i18n._(\n          t`Instances`\n        ),\n        [`/instance_groups/${instanceGroups.id}/jobs`]: i18n._(t`作业`),\n        [`/instance_groups/${instanceGroups.id}/edit`]: i18n._(t`Edit details`),\n        [`/instance_groups/${instanceGroups.id}`]: `${instanceGroups.name}`,\n\n        [`/instance_groups/container_group/${instanceGroups.id}/details`]: i18n._(\n          t`Details`\n        ),\n        [`/instance_groups/container_group/${instanceGroups.id}/jobs`]: i18n._(\n          t`Jobs`\n        ),\n        [`/instance_groups/container_group/${instanceGroups.id}/edit`]: i18n._(\n          t`Edit details`\n        ),\n        [`/instance_groups/container_group/${instanceGroups.id}`]: `${instanceGroups.name}`,\n      });\n    },\n    [i18n]\n  );\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"instance_group\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/instance_groups/container_group/add\">\n          <ContainerGroupAdd />\n        </Route>\n        <Route path=\"/instance_groups/container_group/:id\">\n          <ContainerGroup setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/instance_groups/add\">\n          <InstanceGroupAdd />\n        </Route>\n        <Route path=\"/instance_groups/:id\">\n          <InstanceGroup setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/instance_groups\">\n          <InstanceGroupList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(InstanceGroups);\n","import { useState, useEffect } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport {\n  parseQueryString,\n  replaceParams,\n  encodeNonDefaultQueryString,\n} from '../../../util/qs';\nimport useWebsocket from '../../../util/useWebsocket';\nimport useThrottle from '../../../util/useThrottle';\n\nexport default function useWsInventories(\n  initialInventories,\n  fetchInventories,\n  fetchInventoriesById,\n  qsConfig\n) {\n  const location = useLocation();\n  const history = useHistory();\n  const [inventories, setInventories] = useState(initialInventories);\n  const [inventoriesToFetch, setInventoriesToFetch] = useState([]);\n  const throttledInventoriesToFetch = useThrottle(inventoriesToFetch, 5000);\n  const lastMessage = useWebsocket({\n    inventories: ['status_changed'],\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setInventories(initialInventories);\n  }, [initialInventories]);\n\n  const enqueueId = id => {\n    if (!inventoriesToFetch.includes(id)) {\n      setInventoriesToFetch(ids => ids.concat(id));\n    }\n  };\n  useEffect(\n    function fetchUpdatedInventories() {\n      (async () => {\n        if (!throttledInventoriesToFetch.length) {\n          return;\n        }\n        setInventoriesToFetch([]);\n        const newInventories = await fetchInventoriesById(\n          throttledInventoriesToFetch\n        );\n        const updated = [...inventories];\n        newInventories.forEach(inventory => {\n          const index = inventories.findIndex(i => i.id === inventory.id);\n          if (index === -1) {\n            return;\n          }\n          updated[index] = inventory;\n        });\n        setInventories(updated);\n      })();\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [throttledInventoriesToFetch, fetchInventoriesById]\n  );\n\n  useEffect(\n    function processWsMessage() {\n      if (\n        !lastMessage?.inventory_id ||\n        (lastMessage.type !== 'inventory_update' &&\n          lastMessage.group_name !== 'inventories')\n      ) {\n        return;\n      }\n      const index = inventories.findIndex(\n        p => p.id === lastMessage.inventory_id\n      );\n      if (index === -1) {\n        return;\n      }\n\n      const params = parseQueryString(qsConfig, location.search);\n\n      const inventory = inventories[index];\n      const updatedInventory = {\n        ...inventory,\n      };\n\n      if (\n        lastMessage.group_name === 'inventories' &&\n        lastMessage.status === 'deleted' &&\n        inventories.length === 1 &&\n        params.page > 1\n      ) {\n        // We've deleted the last inventory on this page so we'll\n        // try to navigate back to the previous page\n        const newParams = encodeNonDefaultQueryString(\n          qsConfig,\n          replaceParams(params, {\n            page: params.page - 1,\n          })\n        );\n        history.push(`${location.pathname}?${newParams}`);\n        return;\n      }\n\n      if (\n        lastMessage.group_name === 'inventories' &&\n        lastMessage.status === 'deleted'\n      ) {\n        fetchInventories();\n        return;\n      }\n\n      if (\n        !['pending', 'waiting', 'running', 'pending_deletion'].includes(\n          lastMessage.status\n        )\n      ) {\n        enqueueId(lastMessage.inventory_id);\n        return;\n      }\n\n      if (\n        lastMessage.group_name === 'inventories' &&\n        lastMessage.status === 'pending_deletion'\n      ) {\n        updatedInventory.pending_deletion = true;\n      }\n\n      if (lastMessage.group_name !== 'inventories') {\n        updatedInventory.isSourceSyncRunning = true;\n      }\n\n      setInventories([\n        ...inventories.slice(0, index),\n        updatedInventory,\n        ...inventories.slice(index + 1),\n      ]);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps,\n    [lastMessage]\n  );\n\n  return inventories;\n}\n","import 'styled-components/macro';\nimport React from 'react';\nimport { oneOf } from 'prop-types';\nimport { Label } from '@patternfly/react-core';\nimport {\n  CheckCircleIcon,\n  ExclamationCircleIcon,\n  SyncAltIcon,\n  ExclamationTriangleIcon,\n  ClockIcon,\n  MinusCircleIcon,\n} from '@patternfly/react-icons';\nimport styled, { keyframes } from 'styled-components';\n\nconst Spin = keyframes`\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(1turn);\n  }\n`;\n\nconst RunningIcon = styled(SyncAltIcon)`\n  animation: ${Spin} 1.75s linear infinite;\n`;\n\nconst colors = {\n  success: 'green',\n  successful: 'green',\n  failed: 'red',\n  error: 'red',\n  running: 'blue',\n  pending: 'blue',\n  waiting: 'grey',\n  disabled: 'grey',\n  canceled: 'orange',\n};\nconst icons = {\n  success: CheckCircleIcon,\n  successful: CheckCircleIcon,\n  failed: ExclamationCircleIcon,\n  error: ExclamationCircleIcon,\n  running: RunningIcon,\n  pending: ClockIcon,\n  waiting: ClockIcon,\n  disabled: MinusCircleIcon,\n  canceled: ExclamationTriangleIcon,\n};\n\nexport default function StatusLabel({ status }) {\n  const label = status.charAt(0).toUpperCase() + status.slice(1);\n  const color = colors[status] || 'grey';\n  const Icon = icons[status];\n\n  return (\n    <Label variant=\"outline\" color={color} icon={Icon ? <Icon /> : null}>\n      {label}\n    </Label>\n  );\n}\n\nStatusLabel.propTypes = {\n  status: oneOf([\n    'success',\n    'successful',\n    'failed',\n    'error',\n    'running',\n    'pending',\n    'waiting',\n    'disabled',\n    'canceled',\n  ]).isRequired,\n};\n","import React, { useState, useCallback } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { Button, Label } from '@patternfly/react-core';\nimport { Tr, Td } from '@patternfly/react-table';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport { timeOfDay } from '../../../util/dates';\nimport { InventoriesAPI } from '../../../api';\nimport { Inventory } from '../../../types';\nimport { ActionsTd, ActionItem } from '../../../components/PaginatedTable';\nimport CopyButton from '../../../components/CopyButton';\nimport StatusLabel from '../../../components/StatusLabel';\n\nfunction InventoryListItem({\n  inventory,\n  rowIndex,\n  isSelected,\n  onSelect,\n  detailUrl,\n  i18n,\n  fetchInventories,\n}) {\n  InventoryListItem.propTypes = {\n    inventory: Inventory.isRequired,\n    detailUrl: string.isRequired,\n    isSelected: bool.isRequired,\n    onSelect: func.isRequired,\n  };\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const copyInventory = useCallback(async () => {\n    await InventoriesAPI.copy(inventory.id, {\n      name: `${inventory.name} @ ${timeOfDay()}`,\n    });\n    await fetchInventories();\n  }, [inventory.id, inventory.name, fetchInventories]);\n\n  const handleCopyStart = useCallback(() => {\n    setIsDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsDisabled(false);\n  }, []);\n\n  const labelId = `check-action-${inventory.id}`;\n\n  let syncStatus = 'disabled';\n  if (inventory.isSourceSyncRunning) {\n    syncStatus = 'syncing';\n  } else if (inventory.has_inventory_sources) {\n    syncStatus =\n      inventory.inventory_sources_with_failures > 0 ? 'error' : 'success';\n  }\n\n  return (\n    <Tr id={inventory.id} aria-labelledby={labelId}>\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n        }}\n        dataLabel={i18n._(t`已选择`)}\n      />\n      <Td id={labelId} dataLabel={i18n._(t`名称`)}>\n        {inventory.pending_deletion ? (\n          <b>{inventory.name}</b>\n        ) : (\n          <Link to={`${detailUrl}`}>\n            <b>{inventory.name}</b>\n          </Link>\n        )}\n      </Td>\n      <Td dataLabel={i18n._(t`状态`)}>\n        {inventory.kind !== 'smart' && <StatusLabel status={syncStatus} />}\n      </Td>\n      <Td dataLabel={i18n._(t`类型`)}>\n        {inventory.kind === 'smart'\n          ? i18n._(t`Smart Inventory`)\n          : i18n._(t`清单`)}\n      </Td>\n      <Td key=\"organization\" dataLabel={i18n._(t`组织`)}>\n        <Link\n          to={`/organizations/${inventory?.summary_fields?.organization?.id}/details`}\n        >\n          {inventory?.summary_fields?.organization?.name}\n        </Link>\n      </Td>\n      <Td dataLabel={i18n._(t`Groups`)}>{inventory.total_groups}</Td>\n      <Td dataLabel={i18n._(t`Hosts`)}>{inventory.total_hosts}</Td>\n      <Td dataLabel={i18n._(t`Sources`)}>\n        {inventory.total_inventory_sources}\n      </Td>\n      {inventory.pending_deletion ? (\n        <Td dataLabel={i18n._(t`Groups`)}>\n          <Label color=\"red\">{i18n._(t`Pending delete`)}</Label>\n        </Td>\n      ) : (\n        <ActionsTd dataLabel={i18n._(t`Actions`)}>\n          <ActionItem\n            visible={inventory.summary_fields.user_capabilities.edit}\n            tooltip={i18n._(t`编辑清单`)}\n          >\n            <Button\n              isDisabled={isDisabled}\n              aria-label={i18n._(t`编辑清单`)}\n              variant=\"plain\"\n              component={Link}\n              to={`/inventories/${\n                inventory.kind === 'smart' ? 'smart_inventory' : 'inventory'\n              }/${inventory.id}/edit`}\n            >\n              <PencilAltIcon />\n            </Button>\n          </ActionItem>\n          <ActionItem\n            visible={inventory.summary_fields.user_capabilities.copy}\n            tooltip={i18n._(t`复制清单`)}\n          >\n            <CopyButton\n              copyItem={copyInventory}\n              isDisabled={isDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              helperText={{\n                tooltip: i18n._(t`复制清单`),\n                errorMessage: i18n._(t`Failed to copy inventory.`),\n              }}\n            />\n          </ActionItem>\n        </ActionsTd>\n      )}\n    </Tr>\n  );\n}\nexport default withI18n()(InventoryListItem);\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { useLocation, useRouteMatch, Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection, DropdownItem } from '@patternfly/react-core';\nimport { InventoriesAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { ToolbarDeleteButton } from '../../../components/PaginatedDataList';\nimport PaginatedTable, {\n  HeaderRow,\n  HeaderCell,\n} from '../../../components/PaginatedTable';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useWsInventories from './useWsInventories';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\nimport InventoryListItem from './InventoryListItem';\n\nconst QS_CONFIG = getQSConfig('inventory', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction InventoryList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n  const [selected, setSelected] = useState([]);\n\n  const {\n    result: {\n      results,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchInventories,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        InventoriesAPI.read(params),\n        InventoriesAPI.readOptions(),\n      ]);\n      return {\n        results: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      results: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchInventories();\n  }, [fetchInventories]);\n\n  const fetchInventoriesById = useCallback(\n    async ids => {\n      const params = { ...parseQueryString(QS_CONFIG, location.search) };\n      params.id__in = ids.join(',');\n      const { data } = await InventoriesAPI.read(params);\n      return data.results;\n    },\n    [location.search] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  const inventories = useWsInventories(\n    results,\n    fetchInventories,\n    fetchInventoriesById,\n    QS_CONFIG\n  );\n\n  const isAllSelected =\n    selected.length === inventories.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteInventories,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(team => InventoriesAPI.destroy(team.id)));\n    }, [selected]),\n    {\n      allItemsSelected: isAllSelected,\n    }\n  );\n\n  const handleInventoryDelete = async () => {\n    await deleteInventories();\n    setSelected([]);\n  };\n\n  const hasContentLoading = isDeleteLoading || isLoading;\n  const canAdd = actions && actions.POST;\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...inventories] : []);\n  };\n\n  const handleSelect = row => {\n    if (!row.pending_deletion) {\n      if (selected.some(s => s.id === row.id)) {\n        setSelected(selected.filter(s => s.id !== row.id));\n      } else {\n        setSelected(selected.concat(row));\n      }\n    }\n  };\n  const addInventory = i18n._(t`Add inventory`);\n  const addSmartInventory = i18n._(t`Add smart inventory`);\n  const addButton = (\n    <AddDropDownButton\n      key=\"add\"\n      dropdownItems={[\n        <DropdownItem\n          to={`${match.url}/inventory/add/`}\n          component={Link}\n          key={addInventory}\n          aria-label={addInventory}\n        >\n          {addInventory}\n        </DropdownItem>,\n        <DropdownItem\n          to={`${match.url}/smart_inventory/add/`}\n          component={Link}\n          key={addSmartInventory}\n          aria-label={addSmartInventory}\n        >\n          {addSmartInventory}\n        </DropdownItem>,\n      ]}\n    />\n  );\n\n  return (\n    <PageSection>\n      <Card>\n        <PaginatedTable\n          contentError={contentError}\n          hasContentLoading={hasContentLoading}\n          items={inventories}\n          itemCount={itemCount}\n          pluralizedItemName={i18n._(t`Inventories`)}\n          qsConfig={QS_CONFIG}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`描述`),\n              key: 'description__icontains',\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          headerRow={\n            <HeaderRow qsConfig={QS_CONFIG}>\n              <HeaderCell sortKey=\"name\">{i18n._(t`名称`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`状态`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`类型`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`组织`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`Groups`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`Hosts`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`Sources`)}</HeaderCell>\n              <HeaderCell>{i18n._(t`Actions`)}</HeaderCell>\n            </HeaderRow>\n          }\n          renderToolbar={props => (\n            <DatalistToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAdd ? [addButton] : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleInventoryDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName={i18n._(t`Inventories`)}\n                  warningMessage={i18n._(\n                    '{numItemsToDelete, plural, one {The inventory will be in a pending status until the final delete is processed.} other {The inventories will be in a pending status until the final delete is processed.}}',\n                    { numItemsToDelete: selected.length }\n                  )}\n                />,\n              ]}\n            />\n          )}\n          renderRow={(inventory, index) => (\n            <InventoryListItem\n              key={inventory.id}\n              value={inventory.name}\n              inventory={inventory}\n              rowIndex={index}\n              fetchInventories={fetchInventories}\n              detailUrl={\n                inventory.kind === 'smart'\n                  ? `${match.url}/smart_inventory/${inventory.id}/details`\n                  : `${match.url}/inventory/${inventory.id}/details`\n              }\n              onSelect={() => handleSelect(inventory)}\n              isSelected={selected.some(row => row.id === inventory.id)}\n            />\n          )}\n          emptyStateControls={canAdd && addButton}\n        />\n      </Card>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        aria-label={i18n._(t`Deletion Error`)}\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more inventories.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(InventoryList);\n","import React, { useCallback, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Chip } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport ChipGroup from '../../../components/ChipGroup';\nimport { InventoriesAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { Inventory } from '../../../types';\n\nfunction InventoryDetail({ inventory, i18n }) {\n  const history = useHistory();\n\n  const {\n    result: instanceGroups,\n    isLoading,\n    error: instanceGroupsError,\n    request: fetchInstanceGroups,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InventoriesAPI.readInstanceGroups(inventory.id);\n      return data.results;\n    }, [inventory.id]),\n    []\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  const { request: deleteInventory, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await InventoriesAPI.destroy(inventory.id);\n      history.push(`/inventories`);\n    }, [inventory.id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const {\n    organization,\n    user_capabilities: userCapabilities,\n  } = inventory.summary_fields;\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (instanceGroupsError) {\n    return <ContentError error={instanceGroupsError} />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={inventory.name}\n          dataCy=\"inventory-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={inventory.description} />\n        <Detail label={i18n._(t`类型`)} value={i18n._(t`清单`)} />\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link to={`/organizations/${organization.id}/details`}>\n              {organization.name}\n            </Link>\n          }\n        />\n        {instanceGroups && instanceGroups.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Instance Groups`)}\n            value={\n              <ChipGroup numChips={5} totalChips={instanceGroups.length}>\n                {instanceGroups.map(ig => (\n                  <Chip key={ig.id} isReadOnly>\n                    {ig.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          value={inventory.variables}\n          rows={4}\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={inventory.created}\n          user={inventory.summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={inventory.modified}\n          user={inventory.summary_fields.modified_by}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {userCapabilities.edit && (\n          <Button\n            component={Link}\n            to={`/inventories/inventory/${inventory.id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {userCapabilities.delete && (\n          <DeleteButton\n            name={inventory.name}\n            modalTitle={i18n._(t`Delete Inventory`)}\n            onConfirm={deleteInventory}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {/* Update delete modal to show dependencies https://github.com/ansible/awx/issues/5546 */}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete inventory.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nInventoryDetail.propTypes = {\n  inventory: Inventory.isRequired,\n};\n\nexport default withI18n()(InventoryDetail);\n","import React, { useCallback } from 'react';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, number, shape } from 'prop-types';\n\nimport { Form } from '@patternfly/react-core';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport { required } from '../../../util/validators';\nimport InstanceGroupsLookup from '../../../components/Lookup/InstanceGroupsLookup';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport CredentialLookup from '../../../components/Lookup/CredentialLookup';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../components/FormLayout';\n\nfunction InventoryFormFields({ i18n, credentialTypeId, inventory }) {\n  const { setFieldValue } = useFormikContext();\n  const [organizationField, organizationMeta, organizationHelpers] = useField({\n    name: 'organization',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [instanceGroupsField, , instanceGroupsHelpers] = useField(\n    'instanceGroups'\n  );\n  const [insightsCredentialField] = useField('insights_credential');\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n  const onCredentialChange = useCallback(\n    value => {\n      setFieldValue('insights_credential', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"inventory-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"inventory-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={organizationMeta.error}\n        isValid={!organizationMeta.touched || !organizationMeta.error}\n        onBlur={() => organizationHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={organizationField.value}\n        touched={organizationMeta.touched}\n        error={organizationMeta.error}\n        required\n        autoPopulate={!inventory?.id}\n      />\n      <CredentialLookup\n        label={i18n._(t`Insights Credential`)}\n        credentialTypeId={credentialTypeId}\n        onChange={onCredentialChange}\n        value={insightsCredentialField.value}\n      />\n      <InstanceGroupsLookup\n        value={instanceGroupsField.value}\n        onChange={value => {\n          instanceGroupsHelpers.setValue(value);\n        }}\n      />\n      <FormFullWidthLayout>\n        <VariablesField\n          tooltip={i18n._(\n            t`Enter inventory variables using either JSON or YAML syntax. Use the radio button to toggle between the two. Refer to the Ansible Tower documentation for example syntax`\n          )}\n          id=\"inventory-variables\"\n          name=\"variables\"\n          label={i18n._(t`变量`)}\n        />\n      </FormFullWidthLayout>\n    </>\n  );\n}\n\nfunction InventoryForm({\n  inventory = {},\n  onSubmit,\n  onCancel,\n  submitError,\n  instanceGroups,\n  ...rest\n}) {\n  const initialValues = {\n    name: inventory.name || '',\n    description: inventory.description || '',\n    variables: inventory.variables || '---',\n    organization:\n      (inventory.summary_fields && inventory.summary_fields.organization) ||\n      null,\n    instanceGroups: instanceGroups || [],\n    insights_credential:\n      (inventory.summary_fields &&\n        inventory.summary_fields.insights_credential) ||\n      null,\n  };\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={values => {\n        onSubmit(values);\n      }}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <InventoryFormFields {...rest} inventory={inventory} />\n            <FormSubmitError error={submitError} />\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nInventoryForm.proptype = {\n  handleSubmit: func.isRequired,\n  handleCancel: func.isRequired,\n  instanceGroups: shape(),\n  inventory: shape(),\n  credentialTypeId: number.isRequired,\n  submitError: shape(),\n};\n\nInventoryForm.defaultProps = {\n  inventory: {},\n  instanceGroups: [],\n  submitError: null,\n};\n\nexport default withI18n()(InventoryForm);\n","/* eslint-disable import/prefer-default-export */\nexport function getAddedAndRemoved(original, current) {\n  original = original || [];\n  current = current || [];\n  const added = [];\n  const removed = [];\n  original.forEach(orig => {\n    if (!current.find(cur => cur.id === orig.id)) {\n      removed.push(orig);\n    }\n  });\n  current.forEach(cur => {\n    if (!original.find(orig => orig.id === cur.id)) {\n      added.push(cur);\n    }\n  });\n  return { added, removed };\n}\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { object } from 'prop-types';\n\nimport { CardBody } from '../../../components/Card';\nimport { InventoriesAPI, CredentialTypesAPI } from '../../../api';\nimport ContentLoading from '../../../components/ContentLoading';\nimport InventoryForm from '../shared/InventoryForm';\nimport { getAddedAndRemoved } from '../../../util/lists';\n\nfunction InventoryEdit({ inventory }) {\n  const [error, setError] = useState(null);\n  const [associatedInstanceGroups, setInstanceGroups] = useState(null);\n  const [contentLoading, setContentLoading] = useState(true);\n  const [credentialTypeId, setCredentialTypeId] = useState(null);\n  const history = useHistory();\n  const isMounted = useRef(null);\n\n  useEffect(() => {\n    isMounted.current = true;\n    const loadData = async () => {\n      try {\n        const [\n          {\n            data: { results: loadedInstanceGroups },\n          },\n          {\n            data: { results: loadedCredentialTypeId },\n          },\n        ] = await Promise.all([\n          InventoriesAPI.readInstanceGroups(inventory.id),\n          CredentialTypesAPI.read({\n            kind: 'insights',\n          }),\n        ]);\n        if (!isMounted.current) {\n          return;\n        }\n        setInstanceGroups(loadedInstanceGroups);\n        setCredentialTypeId(loadedCredentialTypeId[0].id);\n      } catch (err) {\n        setError(err);\n      } finally {\n        if (isMounted.current) {\n          setContentLoading(false);\n        }\n      }\n    };\n    loadData();\n    return () => {\n      isMounted.current = false;\n    };\n  }, [inventory.id, contentLoading, inventory, credentialTypeId]);\n\n  const handleCancel = () => {\n    const url =\n      inventory.kind === 'smart'\n        ? `/inventories/smart_inventory/${inventory.id}/details`\n        : `/inventories/inventory/${inventory.id}/details`;\n\n    history.push(`${url}`);\n  };\n\n  const handleSubmit = async values => {\n    const {\n      instanceGroups,\n      insights_credential,\n      organization,\n      ...remainingValues\n    } = values;\n    try {\n      await InventoriesAPI.update(inventory.id, {\n        insights_credential: insights_credential\n          ? insights_credential.id\n          : null,\n        organization: organization.id,\n        ...remainingValues,\n      });\n      if (instanceGroups) {\n        const { added, removed } = getAddedAndRemoved(\n          associatedInstanceGroups,\n          instanceGroups\n        );\n\n        const associatePromises = added.map(async ig =>\n          InventoriesAPI.associateInstanceGroup(inventory.id, ig.id)\n        );\n        const disassociatePromises = removed.map(async ig =>\n          InventoriesAPI.disassociateInstanceGroup(inventory.id, ig.id)\n        );\n        await Promise.all([...associatePromises, ...disassociatePromises]);\n      }\n      const url =\n        history.location.pathname.search('smart') > -1\n          ? `/inventories/smart_inventory/${inventory.id}/details`\n          : `/inventories/inventory/${inventory.id}/details`;\n      history.push(`${url}`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  if (contentLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <CardBody>\n      <InventoryForm\n        onCancel={handleCancel}\n        onSubmit={handleSubmit}\n        inventory={inventory}\n        instanceGroups={associatedInstanceGroups}\n        credentialTypeId={credentialTypeId}\n        submitError={error}\n      />\n    </CardBody>\n  );\n}\n\nInventoryEdit.proptype = {\n  inventory: object.isRequired,\n};\n\nexport { InventoryEdit as _InventoryEdit };\nexport default InventoryEdit;\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { Formik } from 'formik';\nimport { Form, Card } from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\n\nimport { CardBody } from '../../../components/Card';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport { required } from '../../../util/validators';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../components/FormLayout';\n\nfunction InventoryGroupForm({\n  i18n,\n  error,\n  group = {},\n  handleSubmit,\n  handleCancel,\n}) {\n  const initialValues = {\n    name: group.name || '',\n    description: group.description || '',\n    variables: group.variables || '---',\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <Formik initialValues={initialValues} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <FormField\n                  id=\"inventoryGroup-name\"\n                  name=\"name\"\n                  type=\"text\"\n                  label={i18n._(t`名称`)}\n                  validate={required(null, i18n)}\n                  isRequired\n                />\n                <FormField\n                  id=\"inventoryGroup-description\"\n                  name=\"description\"\n                  type=\"text\"\n                  label={i18n._(t`描述`)}\n                />\n                <FormFullWidthLayout>\n                  <VariablesField\n                    id=\"host-variables\"\n                    name=\"variables\"\n                    label={i18n._(t`变量`)}\n                  />\n                </FormFullWidthLayout>\n                <FormActionGroup\n                  onCancel={handleCancel}\n                  onSubmit={formik.handleSubmit}\n                />\n                {error && <FormSubmitError error={error} />}\n              </FormColumnLayout>\n            </Form>\n          )}\n        </Formik>\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default withI18n()(InventoryGroupForm);\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\nimport { GroupsAPI } from '../../../api';\n\nimport InventoryGroupForm from '../shared/InventoryGroupForm';\n\nfunction InventoryGroupsAdd() {\n  const [error, setError] = useState(null);\n  const { id } = useParams();\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    values.inventory = id;\n    try {\n      const { data } = await GroupsAPI.create(values);\n      history.push(`/inventories/inventory/${id}/groups/${data.id}`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/inventories/inventory/${id}/groups`);\n  };\n\n  return (\n    <Card>\n      <InventoryGroupForm\n        error={error}\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n      />\n    </Card>\n  );\n}\nexport default withI18n()(InventoryGroupsAdd);\nexport { InventoryGroupsAdd as _InventoryGroupsAdd };\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { GroupsAPI } from '../../../api';\n\nimport InventoryGroupForm from '../shared/InventoryGroupForm';\n\nfunction InventoryGroupEdit({ inventoryGroup }) {\n  const [error, setError] = useState(null);\n  const { id, groupId } = useParams();\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    try {\n      await GroupsAPI.update(groupId, values);\n      history.push(`/inventories/inventory/${id}/groups/${groupId}`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/inventories/inventory/${id}/groups/${groupId}`);\n  };\n\n  return (\n    <InventoryGroupForm\n      error={error}\n      group={inventoryGroup}\n      handleCancel={handleCancel}\n      handleSubmit={handleSubmit}\n    />\n  );\n}\nexport default withI18n()(InventoryGroupEdit);\nexport { InventoryGroupEdit as _InventoryGroupEdit };\n","import 'styled-components/macro';\nimport React, { useState, useContext, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { func, bool, arrayOf } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Radio, DropdownItem } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { KebabifiedContext } from '../../../contexts/Kebabified';\nimport { GroupsAPI, InventoriesAPI } from '../../../api';\nimport { Group } from '../../../types';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\n\nconst ListItem = styled.li`\n  display: flex;\n  font-weight: 600;\n  color: var(--pf-global--danger-color--100);\n`;\n\nconst InventoryGroupsDeleteModal = ({\n  onAfterDelete,\n  isDisabled,\n  groups,\n  i18n,\n}) => {\n  const [radioOption, setRadioOption] = useState(null);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDeleteLoading, setIsDeleteLoading] = useState(false);\n  const [deletionError, setDeletionError] = useState(null);\n  const { id: inventoryId } = useParams();\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isModalOpen);\n    }\n  }, [isKebabified, isModalOpen, onKebabModalChange]);\n  const handleDelete = async option => {\n    setIsDeleteLoading(true);\n\n    try {\n      /* eslint-disable no-await-in-loop */\n      /* Delete groups sequentially to avoid api integrity errors */\n      /* https://eslint.org/docs/rules/no-await-in-loop#when-not-to-use-it */\n      for (let i = 0; i < groups.length; i++) {\n        const group = groups[i];\n        if (option === 'delete') {\n          await GroupsAPI.destroy(+group.id);\n        } else if (option === 'promote') {\n          await InventoriesAPI.promoteGroup(inventoryId, +group.id);\n        }\n      }\n      /* eslint-enable no-await-in-loop */\n    } catch (error) {\n      setDeletionError(error);\n    } finally {\n      setIsModalOpen(false);\n      setIsDeleteLoading(false);\n      onAfterDelete();\n    }\n  };\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"delete\"\n          isDisabled={isDisabled || isDeleteLoading}\n          component=\"button\"\n          aria-label={i18n._(t`删除`)}\n          onClick={() => setIsModalOpen(true)}\n        >\n          {i18n._(t`删除`)}\n        </DropdownItem>\n      ) : (\n        <Button\n          variant=\"secondary\"\n          aria-label={i18n._(t`删除`)}\n          onClick={() => setIsModalOpen(true)}\n          isDisabled={isDisabled || isDeleteLoading}\n        >\n          {i18n._(t`删除`)}\n        </Button>\n      )}\n      {isModalOpen && (\n        <AlertModal\n          isOpen={isModalOpen}\n          variant=\"danger\"\n          title={\n            groups.length > 1\n              ? i18n._(t`Delete Groups?`)\n              : i18n._(t`Delete Group?`)\n          }\n          onClose={() => setIsModalOpen(false)}\n          actions={[\n            <Button\n              aria-label={i18n._(t`Confirm Delete`)}\n              onClick={() => handleDelete(radioOption)}\n              variant=\"danger\"\n              key=\"delete\"\n              isDisabled={radioOption === null}\n            >\n              {i18n._(t`删除`)}\n            </Button>,\n            <Button\n              aria-label={i18n._(t`Close`)}\n              onClick={() => setIsModalOpen(false)}\n              variant=\"secondary\"\n              key=\"cancel\"\n            >\n              {i18n._(t`取消`)}\n            </Button>,\n          ]}\n        >\n          {i18n._(\n            t`Are you sure you want to delete the ${\n              groups.length > 1 ? i18n._(t`groups`) : i18n._(t`group`)\n            } below?`\n          )}\n          <div css=\"padding: 24px 0;\">\n            {groups.map(group => {\n              return <ListItem key={group.id}>{group.name}</ListItem>;\n            })}\n          </div>\n          <div>\n            <Radio\n              id=\"radio-delete\"\n              key=\"radio-delete\"\n              label={i18n._(t`Delete All Groups and Hosts`)}\n              name=\"option\"\n              onChange={() => setRadioOption('delete')}\n            />\n            <Radio\n              css=\"margin-top: 5px;\"\n              id=\"radio-promote\"\n              key=\"radio-promote\"\n              label={i18n._(t`Promote Child Groups and Hosts`)}\n              name=\"option\"\n              onChange={() => setRadioOption('promote')}\n            />\n          </div>\n        </AlertModal>\n      )}\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          aria-label={i18n._(t`deletion error`)}\n          title={i18n._(t`Error!`)}\n          onClose={() => setDeletionError(null)}\n        >\n          {i18n._(t`Failed to delete one or more groups.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n};\n\nInventoryGroupsDeleteModal.propTypes = {\n  onAfterDelete: func.isRequired,\n  groups: arrayOf(Group),\n  isDisabled: bool.isRequired,\n};\n\nInventoryGroupsDeleteModal.defaultProps = {\n  groups: [],\n};\n\nexport default withI18n()(InventoryGroupsDeleteModal);\n","import React, { useState } from 'react';\nimport { t } from '@lingui/macro';\n\nimport { Button } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport InventoryGroupsDeleteModal from '../shared/InventoryGroupsDeleteModal';\n\nfunction InventoryGroupDetail({ i18n, inventoryGroup }) {\n  const {\n    summary_fields: { created_by, modified_by, user_capabilities },\n    created,\n    modified,\n    name,\n    description,\n    variables,\n  } = inventoryGroup;\n  const [error, setError] = useState(false);\n  const history = useHistory();\n  const params = useParams();\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail\n          label={i18n._(t`名称`)}\n          value={name}\n          dataCy=\"inventory-group-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          value={variables}\n          rows={4}\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={modified_by}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {user_capabilities?.edit && (\n          <Button\n            variant=\"primary\"\n            aria-label={i18n._(t`Edit`)}\n            onClick={() =>\n              history.push(\n                `/inventories/inventory/${params.id}/groups/${params.groupId}/edit`\n              )\n            }\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {user_capabilities?.delete && (\n          <InventoryGroupsDeleteModal\n            groups={[inventoryGroup]}\n            isDisabled={false}\n            onAfterDelete={() =>\n              history.push(`/inventories/inventory/${params.id}/groups`)\n            }\n          />\n        )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={error}\n          onClose={() => setError(false)}\n        >\n          {i18n._(t`Failed to delete group ${inventoryGroup.name}.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nexport default withI18n()(InventoryGroupDetail);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport HostForm from '../../../components/HostForm';\n\nimport { GroupsAPI } from '../../../api';\n\nfunction InventoryGroupHostAdd({ inventoryGroup }) {\n  const [formError, setFormError] = useState(null);\n  const baseUrl = `/inventories/inventory/${inventoryGroup.inventory}`;\n  const history = useHistory();\n\n  const handleSubmit = async formData => {\n    try {\n      const values = {\n        ...formData,\n        inventory: inventoryGroup.inventory,\n      };\n\n      const { data: response } = await GroupsAPI.createHost(\n        inventoryGroup.id,\n        values\n      );\n      history.push(`${baseUrl}/hosts/${response.id}/details`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`${baseUrl}/groups/${inventoryGroup.id}/nested_hosts`);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        isInventoryVisible={false}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nexport default InventoryGroupHostAdd;\n","import React, { useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport { CredentialsAPI } from '../../api';\nimport Popover from '../Popover';\n\nimport { getQSConfig, parseQueryString, mergeParams } from '../../util/qs';\nimport useRequest from '../../util/useRequest';\nimport ContentError from '../ContentError';\nimport ContentLoading from '../ContentLoading';\nimport { required } from '../../util/validators';\nimport OptionsList from '../OptionsList';\n\nconst QS_CONFIG = getQSConfig('credentials', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction AdHocCredentialStep({ i18n, credentialTypeId, onEnableLaunch }) {\n  const history = useHistory();\n  const {\n    error,\n    isLoading,\n    request: fetchCredentials,\n    result: { credentials, credentialCount },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, history.location.search);\n\n      const {\n        data: { results, count },\n      } = await CredentialsAPI.read(\n        mergeParams(params, { credential_type: credentialTypeId })\n      );\n\n      return {\n        credentials: results,\n        credentialCount: count,\n      };\n    }, [credentialTypeId, history.location.search]),\n    { credentials: [], credentialCount: 0 }\n  );\n\n  useEffect(() => {\n    fetchCredentials();\n  }, [fetchCredentials]);\n\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(null, i18n),\n  });\n  if (error) {\n    return <ContentError error={error} />;\n  }\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n  return (\n    <Form>\n      <FormGroup\n        fieldId=\"credential\"\n        label={i18n._(t`Machine Credential`)}\n        aria-label={i18n._(t`Machine Credential`)}\n        isRequired\n        validated={\n          !credentialMeta.touched || !credentialMeta.error ? 'default' : 'error'\n        }\n        helperTextInvalid={credentialMeta.error}\n        labelIcon={\n          <Popover\n            content={i18n._(\n              t`Select the credential you want to use when accessing the remote hosts to run the command. Choose the credential containing the username and SSH key or password that Ansible will need to log into the remote hosts.`\n            )}\n          />\n        }\n      >\n        <OptionsList\n          value={credentialField.value || []}\n          options={credentials}\n          optionCount={credentialCount}\n          header={i18n._(t`Machine Credential`)}\n          readOnly\n          qsConfig={QS_CONFIG}\n          searchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username',\n            },\n          ]}\n          sortColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n          ]}\n          name=\"credential\"\n          selectItem={value => {\n            credentialHelpers.setValue([value]);\n            onEnableLaunch();\n          }}\n          deselectItem={() => {\n            credentialHelpers.setValue([]);\n          }}\n        />\n      </FormGroup>\n    </Form>\n  );\n}\n\nAdHocCredentialStep.propTypes = {\n  credentialTypeId: PropTypes.number.isRequired,\n  onEnableLaunch: PropTypes.func.isRequired,\n};\nexport default withI18n()(AdHocCredentialStep);\n","/* eslint-disable react/no-unescaped-entities */\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { useField } from 'formik';\nimport { Form, FormGroup, Switch, Checkbox } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nimport { BrandName } from '../../variables';\nimport AnsibleSelect from '../AnsibleSelect';\nimport FormField from '../FormField';\nimport { VariablesField } from '../CodeMirrorInput';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n  FormCheckboxLayout,\n} from '../FormLayout';\nimport Popover from '../Popover';\nimport { required } from '../../util/validators';\n\nconst TooltipWrapper = styled.div`\n  text-align: left;\n`;\n\n// Setting BrandName to a variable here is necessary to get the jest tests\n// passing.  Attempting to use BrandName in the template literal results\n// in failing tests.\nconst brandName = BrandName;\n\nfunction AdHocDetailsStep({ i18n, verbosityOptions, moduleOptions }) {\n  const [moduleNameField, moduleNameMeta, moduleNameHelpers] = useField({\n    name: 'module_name',\n    validate: required(null, i18n),\n  });\n\n  const [variablesField] = useField('extra_vars');\n  const [diffModeField, , diffModeHelpers] = useField('diff_mode');\n  const [becomeEnabledField, , becomeEnabledHelpers] = useField(\n    'become_enabled'\n  );\n  const [verbosityField, verbosityMeta, verbosityHelpers] = useField({\n    name: 'verbosity',\n    validate: required(null, i18n),\n  });\n\n  const argumentsRequired =\n    moduleNameField.value === 'command' || moduleNameField.value === 'shell';\n  const [, argumentsMeta, argumentsHelpers] = useField({\n    name: 'module_args',\n    validate: argumentsRequired && required(null, i18n),\n  });\n\n  const isValid = !argumentsMeta.error || !argumentsMeta.touched;\n\n  return (\n    <Form>\n      <FormColumnLayout>\n        <FormFullWidthLayout>\n          <FormGroup\n            fieldId=\"module_name\"\n            aria-label={i18n._(t`select module`)}\n            label={i18n._(t`Module`)}\n            isRequired\n            helperTextInvalid={moduleNameMeta.error}\n            validated={\n              !moduleNameMeta.touched || !moduleNameMeta.error\n                ? 'default'\n                : 'error'\n            }\n            labelIcon={\n              <Popover\n                content={i18n._(\n                  t`These are the modules that ${brandName} supports running commands against.`\n                )}\n              />\n            }\n          >\n            <AnsibleSelect\n              {...moduleNameField}\n              placeHolder={i18n._(t`Select a module`)}\n              isValid={!moduleNameMeta.touched || !moduleNameMeta.error}\n              id=\"module_name\"\n              data={[\n                {\n                  value: '',\n                  key: '',\n                  label: i18n._(t`Choose a module`),\n                  isDisabled: true,\n                },\n                ...moduleOptions.map(value => ({\n                  value: value[0],\n                  label: value[0],\n                  key: value[0],\n                })),\n              ]}\n              onChange={(event, value) => {\n                if (value !== 'command' && value !== 'shell') {\n                  argumentsHelpers.setTouched(false);\n                }\n                moduleNameHelpers.setValue(value);\n              }}\n            />\n          </FormGroup>\n          <FormField\n            id=\"module_args\"\n            name=\"module_args\"\n            aria-label={i18n._(t`Arguments`)}\n            type=\"text\"\n            label={i18n._(t`Arguments`)}\n            validated={isValid ? 'default' : 'error'}\n            onBlur={() => argumentsHelpers.setTouched(true)}\n            isRequired={\n              moduleNameField.value === 'command' ||\n              moduleNameField.value === 'shell'\n            }\n            tooltip={\n              moduleNameField.value ? (\n                <>\n                  {i18n._(\n                    t`These arguments are used with the specified module. You can find information about ${moduleNameField.value} by clicking `\n                  )}\n                  <a\n                    href={`https://docs.ansible.com/ansible/latest/modules/${moduleNameField.value}_module.html`}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    {' '}\n                    {i18n._(t`here.`)}\n                  </a>\n                </>\n              ) : (\n                i18n._(t`These arguments are used with the specified module.`)\n              )\n            }\n          />\n          <FormGroup\n            fieldId=\"verbosity\"\n            aria-label={i18n._(t`select verbosity`)}\n            label={i18n._(t`详细程度`)}\n            isRequired\n            validated={\n              !verbosityMeta.touched || !verbosityMeta.error\n                ? 'default'\n                : 'error'\n            }\n            helperTextInvalid={verbosityMeta.error}\n            labelIcon={\n              <Popover\n                content={i18n._(\n                  t`These are the verbosity levels for standard out of the command run that are supported.`\n                )}\n              />\n            }\n          >\n            <AnsibleSelect\n              {...verbosityField}\n              isValid={!verbosityMeta.touched || !verbosityMeta.error}\n              id=\"verbosity\"\n              data={verbosityOptions || []}\n              onChange={(event, value) => {\n                verbosityHelpers.setValue(parseInt(value, 10));\n              }}\n            />\n          </FormGroup>\n          <FormField\n            id=\"limit\"\n            name=\"limit\"\n            type=\"text\"\n            label={i18n._(t`范围`)}\n            aria-label={i18n._(t`范围`)}\n            tooltip={\n              <span>\n                {i18n._(\n                  t`The pattern used to target hosts in the inventory. Leaving the field blank, all, and * will all target all hosts in the inventory. You can find more information about Ansible's host patterns`\n                )}{' '}\n                <a\n                  href=\"https://docs.ansible.com/ansible/latest/user_guide/intro_patterns.html\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {i18n._(t`here`)}\n                </a>\n              </span>\n            }\n          />\n          <FormField\n            id=\"template-forks\"\n            name=\"forks\"\n            type=\"number\"\n            min=\"0\"\n            label={i18n._(t`Forks`)}\n            aria-label={i18n._(t`Forks`)}\n            tooltip={\n              <span>\n                {i18n._(\n                  t`The number of parallel or simultaneous processes to use while executing the playbook. Inputting no value will use the default value from the ansible configuration file.  You can find more information`\n                )}{' '}\n                <a\n                  href=\"https://docs.ansible.com/ansible/latest/installation_guide/intro_configuration.html#the-ansible-configuration-file\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {i18n._(t`here.`)}\n                </a>\n              </span>\n            }\n          />\n          <FormColumnLayout>\n            <FormGroup\n              label={i18n._(t`Show changes`)}\n              aria-label={i18n._(t`Show changes`)}\n              labelIcon={\n                <Popover\n                  content={i18n._(\n                    t`If enabled, show the changes made by Ansible tasks, where supported. This is equivalent to Ansible’s --diff mode.`\n                  )}\n                />\n              }\n            >\n              <Switch\n                css=\"display: inline-flex;\"\n                id=\"diff_mode\"\n                label={i18n._(t`On`)}\n                labelOff={i18n._(t`Off`)}\n                isChecked={diffModeField.value}\n                onChange={() => {\n                  diffModeHelpers.setValue(!diffModeField.value);\n                }}\n                aria-label={i18n._(t`toggle changes`)}\n              />\n            </FormGroup>\n            <FormGroup name=\"become_enabled\" fieldId=\"become_enabled\">\n              <FormCheckboxLayout>\n                <Checkbox\n                  aria-label={i18n._(t`Enable privilege escalation`)}\n                  label={\n                    <span>\n                      {i18n._(t`Enable privilege escalation`)}\n                      &nbsp;\n                      <Popover\n                        content={\n                          <p>\n                            {i18n._(t`Enables creation of a provisioning\n                              callback URL. Using the URL a host can contact ${brandName}\n                              and request a configuration update using this job\n                              template`)}\n                            &nbsp;\n                            <code>--become </code>\n                            {i18n._(t`option to the`)} &nbsp;\n                            <code>ansible </code>\n                            {i18n._(t`command`)}\n                          </p>\n                        }\n                      />\n                    </span>\n                  }\n                  id=\"become_enabled\"\n                  isChecked={becomeEnabledField.value}\n                  onChange={checked => {\n                    becomeEnabledHelpers.setValue(checked);\n                  }}\n                />\n              </FormCheckboxLayout>\n            </FormGroup>\n          </FormColumnLayout>\n\n          <VariablesField\n            css=\"margin: 20px 0\"\n            id=\"extra_vars\"\n            name=\"extra_vars\"\n            value={JSON.stringify(variablesField.value)}\n            rows={4}\n            labelIcon\n            tooltip={\n              <TooltipWrapper>\n                <p>\n                  {i18n._(\n                    t`Pass extra command line changes. There are two ansible command line parameters: `\n                  )}\n                  <br />\n                  <code>-e</code>, <code>--extra-vars </code>\n                  <br />\n                  {i18n._(t`Provide key/value pairs using either\n                  YAML or JSON.`)}\n                </p>\n                JSON:\n                <br />\n                <code>\n                  <pre>\n                    {'{'}\n                    {'\\n  '}\"somevar\": \"somevalue\",\n                    {'\\n  '}\"password\": \"magic\"\n                    {'\\n'}\n                    {'}'}\n                  </pre>\n                </code>\n                YAML:\n                <br />\n                <code>\n                  <pre>\n                    ---\n                    {'\\n'}somevar: somevalue\n                    {'\\n'}password: magic\n                  </pre>\n                </code>\n              </TooltipWrapper>\n            }\n            label={i18n._(t`Extra variables`)}\n            aria-label={i18n._(t`Extra variables`)}\n          />\n        </FormFullWidthLayout>\n      </FormColumnLayout>\n    </Form>\n  );\n}\n\nAdHocDetailsStep.propTypes = {\n  moduleOptions: PropTypes.arrayOf(PropTypes.array).isRequired,\n  verbosityOptions: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default withI18n()(AdHocDetailsStep);\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { ExclamationCircleIcon as PFExclamationCircleIcon } from '@patternfly/react-icons';\nimport { Tooltip } from '@patternfly/react-core';\nimport { withFormik, useFormikContext } from 'formik';\nimport PropTypes from 'prop-types';\n\nimport styled from 'styled-components';\nimport Wizard from '../Wizard';\nimport AdHocCredentialStep from './AdHocCredentialStep';\nimport AdHocDetailsStep from './AdHocDetailsStep';\n\nconst AlertText = styled.div`\n  color: var(--pf-global--danger-color--200);\n  font-weight: var(--pf-global--FontWeight--bold);\n`;\n\nconst ExclamationCircleIcon = styled(PFExclamationCircleIcon)`\n  margin-left: 10px;\n  color: var(--pf-global--danger-color--100);\n`;\n\nfunction AdHocCommandsWizard({\n  onLaunch,\n  i18n,\n  moduleOptions,\n  verbosityOptions,\n  onCloseWizard,\n  credentialTypeId,\n}) {\n  const [currentStepId, setCurrentStepId] = useState(1);\n  const [enableLaunch, setEnableLaunch] = useState(false);\n\n  const { values, errors, touched } = useFormikContext();\n\n  const enabledNextOnDetailsStep = () => {\n    if (!values.module_name) {\n      return false;\n    }\n\n    if (values.module_name === 'shell' || values.module_name === 'command') {\n      if (values.module_args) {\n        return true;\n        // eslint-disable-next-line no-else-return\n      } else {\n        return false;\n      }\n    }\n    return undefined; // makes the linter happy;\n  };\n  const hasDetailsStepError = errors.module_args && touched.module_args;\n\n  const steps = [\n    {\n      id: 1,\n      key: 1,\n      name: hasDetailsStepError ? (\n        <AlertText>\n          {i18n._(t`Details`)}\n          <Tooltip\n            position=\"right\"\n            content={i18n._(t`This step contains errors`)}\n            trigger=\"click mouseenter focus\"\n          >\n            <ExclamationCircleIcon />\n          </Tooltip>\n        </AlertText>\n      ) : (\n        i18n._(t`Details`)\n      ),\n      component: (\n        <AdHocDetailsStep\n          moduleOptions={moduleOptions}\n          verbosityOptions={verbosityOptions}\n        />\n      ),\n      enableNext: enabledNextOnDetailsStep(),\n      nextButtonText: i18n._(t`Next`),\n    },\n    {\n      id: 2,\n      key: 2,\n      name: i18n._(t`Machine credential`),\n      component: (\n        <AdHocCredentialStep\n          credentialTypeId={credentialTypeId}\n          onEnableLaunch={() => setEnableLaunch(true)}\n        />\n      ),\n      enableNext: enableLaunch && Object.values(errors).length === 0,\n      nextButtonText: i18n._(t`运行`),\n      canJumpTo: currentStepId >= 2,\n    },\n  ];\n\n  const currentStep = steps.find(step => step.id === currentStepId);\n\n  return (\n    <Wizard\n      style={{ overflow: 'scroll' }}\n      isOpen\n      onNext={step => setCurrentStepId(step.id)}\n      onClose={() => onCloseWizard()}\n      onSave={() => {\n        onLaunch(values);\n      }}\n      steps={steps}\n      title={i18n._(t`Run command`)}\n      nextButtonText={currentStep.nextButtonText || undefined}\n      backButtonText={i18n._(t`返回`)}\n      cancelButtonText={i18n._(t`取消`)}\n    />\n  );\n}\n\nconst FormikApp = withFormik({\n  mapPropsToValues({ adHocItems, verbosityOptions }) {\n    const adHocItemStrings = adHocItems.map(item => item.name).join(', ');\n    return {\n      limit: adHocItemStrings || 'all',\n      credential: [],\n      module_args: '',\n      verbosity: verbosityOptions[0].value,\n      forks: 0,\n      diff_mode: false,\n      become_enabled: '',\n      module_name: '',\n      extra_vars: '---',\n      job_type: 'run',\n    };\n  },\n})(AdHocCommandsWizard);\n\nFormikApp.propTypes = {\n  onLaunch: PropTypes.func.isRequired,\n  moduleOptions: PropTypes.arrayOf(PropTypes.array).isRequired,\n  verbosityOptions: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onCloseWizard: PropTypes.func.isRequired,\n  credentialTypeId: PropTypes.number.isRequired,\n};\nexport default withI18n()(FormikApp);\n","import React, { useCallback, useEffect, useState, useContext } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { Button, DropdownItem } from '@patternfly/react-core';\n\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport { InventoriesAPI, CredentialTypesAPI } from '../../api';\n\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport AdHocCommandsWizard from './AdHocCommandsWizard';\nimport { KebabifiedContext } from '../../contexts/Kebabified';\nimport ContentLoading from '../ContentLoading';\nimport ContentError from '../ContentError';\n\nfunction AdHocCommands({ adHocItems, i18n, hasListItems }) {\n  const history = useHistory();\n  const { id } = useParams();\n\n  const [isWizardOpen, setIsWizardOpen] = useState(false);\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n\n  const verbosityOptions = [\n    { value: '0', key: '0', label: i18n._(t`0 (Normal)`) },\n    { value: '1', key: '1', label: i18n._(t`1 (Verbose)`) },\n    { value: '2', key: '2', label: i18n._(t`2 (More Verbose)`) },\n    { value: '3', key: '3', label: i18n._(t`3 (Debug)`) },\n    { value: '4', key: '4', label: i18n._(t`4 (Connection Debug)`) },\n  ];\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isWizardOpen);\n    }\n  }, [isKebabified, isWizardOpen, onKebabModalChange]);\n\n  const {\n    result: { moduleOptions, credentialTypeId, isAdHocDisabled },\n    request: fetchData,\n    error: fetchError,\n  } = useRequest(\n    useCallback(async () => {\n      const [options, cred] = await Promise.all([\n        InventoriesAPI.readAdHocOptions(id),\n        CredentialTypesAPI.read({ namespace: 'ssh' }),\n      ]);\n      return {\n        moduleOptions: options.data.actions.GET.module_name.choices,\n        credentialTypeId: cred.data.results[0].id,\n        isAdHocDisabled: !options.data.actions.POST,\n      };\n    }, [id]),\n    { moduleOptions: [], isAdHocDisabled: true }\n  );\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n  const {\n    isLoading: isLaunchLoading,\n    error: launchError,\n    request: launchAdHocCommands,\n  } = useRequest(\n    useCallback(\n      async values => {\n        const { data } = await InventoriesAPI.launchAdHocCommands(id, values);\n        history.push(`/jobs/command/${data.id}/output`);\n      },\n\n      [id, history]\n    )\n  );\n\n  const { error, dismissError } = useDismissableError(\n    launchError || fetchError\n  );\n\n  const handleSubmit = async values => {\n    const { credential, ...remainingValues } = values;\n    const newCredential = credential[0].id;\n\n    const manipulatedValues = {\n      credential: newCredential,\n      ...remainingValues,\n    };\n    await launchAdHocCommands(manipulatedValues);\n  };\n\n  if (isLaunchLoading) {\n    return <ContentLoading />;\n  }\n\n  if (error && isWizardOpen) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => {\n          dismissError();\n          setIsWizardOpen(false);\n        }}\n      >\n        {launchError ? (\n          <>\n            {i18n._(t`Failed to launch job.`)}\n            <ErrorDetail error={error} />\n          </>\n        ) : (\n          <ContentError error={error} />\n        )}\n      </AlertModal>\n    );\n  }\n  return (\n    // render buttons for drop down and for toolbar\n    // if modal is open render the modal\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"cancel-job\"\n          isDisabled={isAdHocDisabled || !hasListItems}\n          component=\"button\"\n          aria-label={i18n._(t`Run Command`)}\n          onClick={() => setIsWizardOpen(true)}\n        >\n          {i18n._(t`Run Command`)}\n        </DropdownItem>\n      ) : (\n        <Button\n          variant=\"secondary\"\n          aria-label={i18n._(t`Run Command`)}\n          onClick={() => setIsWizardOpen(true)}\n          isDisabled={isAdHocDisabled || !hasListItems}\n        >\n          {i18n._(t`Run Command`)}\n        </Button>\n      )}\n\n      {isWizardOpen && (\n        <AdHocCommandsWizard\n          adHocItems={adHocItems}\n          moduleOptions={moduleOptions}\n          verbosityOptions={verbosityOptions}\n          credentialTypeId={credentialTypeId}\n          onCloseWizard={() => setIsWizardOpen(false)}\n          onLaunch={handleSubmit}\n          onDismissError={() => dismissError()}\n        />\n      )}\n    </>\n  );\n}\n\nAdHocCommands.propTypes = {\n  adHocItems: PropTypes.arrayOf(PropTypes.object).isRequired,\n  hasListItems: PropTypes.bool.isRequired,\n};\n\nexport default withI18n()(AdHocCommands);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport HostToggle from '../../../components/HostToggle';\nimport Sparkline from '../../../components/Sparkline';\nimport { Host } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: min-content 40px;\n`;\n\nfunction InventoryGroupHostListItem({\n  i18n,\n  detailUrl,\n  editUrl,\n  host,\n  isSelected,\n  onSelect,\n}) {\n  const recentPlaybookJobs = host.summary_fields.recent_jobs.map(job => ({\n    ...job,\n    type: 'job',\n  }));\n\n  const labelId = `check-action-${host.id}`;\n\n  return (\n    <DataListItem key={host.id} aria-labelledby={labelId} id={`${host.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-host-${host.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`}>\n                <b>{host.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"recentJobs\">\n              <Sparkline jobs={recentPlaybookJobs} />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          <HostToggle css=\"grid-column: 1\" host={host} />\n          {host.summary_fields.user_capabilities?.edit && (\n            <Tooltip content={i18n._(t`编辑主机`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑主机`)}\n                css=\"grid-column: 2\"\n                variant=\"plain\"\n                component={Link}\n                to={`${editUrl}`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nInventoryGroupHostListItem.propTypes = {\n  detailUrl: string.isRequired,\n  editUrl: string.isRequired,\n  host: Host.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InventoryGroupHostListItem);\n","import React, { useEffect, useCallback, useState } from 'react';\nimport { useLocation, useParams, Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { DropdownItem } from '@patternfly/react-core';\nimport { getQSConfig, mergeParams, parseQueryString } from '../../../util/qs';\nimport { GroupsAPI, InventoriesAPI } from '../../../api';\n\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport AssociateModal from '../../../components/AssociateModal';\nimport DisassociateButton from '../../../components/DisassociateButton';\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\nimport InventoryGroupHostListItem from './InventoryGroupHostListItem';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\n\nconst QS_CONFIG = getQSConfig('host', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction InventoryGroupHostList({ i18n }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const { id: inventoryId, groupId } = useParams();\n  const location = useLocation();\n\n  const {\n    result: {\n      hosts,\n      hostCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchHosts,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        GroupsAPI.readAllHosts(groupId, params),\n        InventoriesAPI.readHostsOptions(inventoryId),\n      ]);\n\n      return {\n        hosts: response.data.results,\n        hostCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [groupId, inventoryId, location.search]),\n    {\n      hosts: [],\n      hostCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    hosts\n  );\n\n  useEffect(() => {\n    fetchHosts();\n  }, [fetchHosts]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateHosts,\n    deletionError: disassociateErr,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(host => GroupsAPI.disassociateHost(groupId, host))\n      );\n    }, [groupId, selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchHosts,\n    }\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateHosts();\n    setSelected([]);\n  };\n\n  const fetchHostsToAssociate = useCallback(\n    params => {\n      return InventoriesAPI.readHosts(\n        inventoryId,\n        mergeParams(params, { not__groups: groupId })\n      );\n    },\n    [groupId, inventoryId]\n  );\n\n  const fetchHostsOptions = useCallback(\n    () => InventoriesAPI.readHostsOptions(inventoryId),\n    [inventoryId]\n  );\n\n  const { request: handleAssociate, error: associateErr } = useRequest(\n    useCallback(\n      async hostsToAssociate => {\n        await Promise.all(\n          hostsToAssociate.map(host =>\n            GroupsAPI.associateHost(groupId, host.id)\n          )\n        );\n        fetchHosts();\n      },\n      [groupId, fetchHosts]\n    )\n  );\n\n  const {\n    error: associateError,\n    dismissError: dismissAssociateError,\n  } = useDismissableError(associateErr);\n  const {\n    error: disassociateError,\n    dismissError: dismissDisassociateError,\n  } = useDismissableError(disassociateErr);\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n  const addFormUrl = `/inventories/inventory/${inventoryId}/groups/${groupId}/nested_hosts/add`;\n  const addExistingHost = i18n._(t`Add existing host`);\n  const addNewHost = i18n._(t`Add new host`);\n\n  const addButton = (\n    <AddDropDownButton\n      key=\"add\"\n      dropdownItems={[\n        <DropdownItem\n          onClick={() => setIsModalOpen(true)}\n          key={addExistingHost}\n          aria-label={addExistingHost}\n        >\n          {addExistingHost}\n        </DropdownItem>,\n        <DropdownItem\n          component={Link}\n          to={`${addFormUrl}`}\n          key={addNewHost}\n          aria-label={addNewHost}\n        >\n          {addNewHost}\n        </DropdownItem>,\n      ]}\n    />\n  );\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={hosts}\n        itemCount={hostCount}\n        pluralizedItemName={i18n._(t`Hosts`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...hosts] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd ? [addButton] : []),\n              <AdHocCommands\n                adHocItems={selected}\n                hasListItems={hostCount > 0}\n              />,\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(t`Disassociate host from group?`)}\n                modalNote={i18n._(t`\n                        Note that only hosts directly in this group can\n                        be disassociated. Hosts in sub-groups must be disassociated\n                        directly from the sub-group level that they belong.\n                      `)}\n              />,\n            ]}\n          />\n        )}\n        renderItem={o => (\n          <InventoryGroupHostListItem\n            key={o.id}\n            host={o}\n            detailUrl={`/inventories/inventory/${inventoryId}/hosts/${o.id}/details`}\n            editUrl={`/inventories/inventory/${inventoryId}/hosts/${o.id}/edit`}\n            isSelected={selected.some(row => row.id === o.id)}\n            onSelect={() => handleSelect(o)}\n          />\n        )}\n        emptyStateControls={canAdd && addButton}\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`Hosts`)}\n          fetchRequest={fetchHostsToAssociate}\n          optionsRequest={fetchHostsOptions}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Hosts`)}\n        />\n      )}\n      {associateError && (\n        <AlertModal\n          isOpen={associateError}\n          onClose={dismissAssociateError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {i18n._(t`Failed to associate.`)}\n          <ErrorDetail error={associateError} />\n        </AlertModal>\n      )}\n      {disassociateError && (\n        <AlertModal\n          isOpen={disassociateError}\n          onClose={dismissDisassociateError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {i18n._(t`Failed to disassociate one or more hosts.`)}\n          <ErrorDetail error={disassociateError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InventoryGroupHostList);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport InventoryGroupHostAdd from '../InventoryGroupHostAdd';\nimport InventoryGroupHostList from './InventoryGroupHostList';\n\nfunction InventoryGroupHosts({ inventoryGroup }) {\n  return (\n    <Switch>\n      <Route path=\"/inventories/inventory/:id/groups/:groupId/nested_hosts/add\">\n        <InventoryGroupHostAdd inventoryGroup={inventoryGroup} />\n      </Route>\n      <Route path=\"/inventories/inventory/:id/groups/:groupId/nested_hosts\">\n        <InventoryGroupHostList />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default InventoryGroupHosts;\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport { Group } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: min-content 40px;\n`;\n\nfunction InventoryRelatedGroupListItem({\n  i18n,\n  detailUrl,\n  editUrl,\n  group,\n  isSelected,\n  onSelect,\n}) {\n  const labelId = `check-action-${group.id}`;\n\n  return (\n    <DataListItem key={group.id} aria-labelledby={labelId} id={`${group.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-group-${group.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`}>\n                <b>{group.name}</b>\n              </Link>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {group.summary_fields.user_capabilities?.edit && (\n            <Tooltip content={i18n._(t`Edit Group`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`Edit Group`)}\n                css=\"grid-column: 2\"\n                variant=\"plain\"\n                component={Link}\n                to={`${editUrl}`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nInventoryRelatedGroupListItem.propTypes = {\n  detailUrl: string.isRequired,\n  editUrl: string.isRequired,\n  group: Group.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InventoryRelatedGroupListItem);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useParams, useLocation, Link } from 'react-router-dom';\n\nimport { DropdownItem } from '@patternfly/react-core';\nimport { GroupsAPI, InventoriesAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString, mergeParams } from '../../../util/qs';\nimport useSelected from '../../../util/useSelected';\n\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport InventoryGroupRelatedGroupListItem from './InventoryRelatedGroupListItem';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AssociateModal from '../../../components/AssociateModal';\nimport DisassociateButton from '../../../components/DisassociateButton';\n\nconst QS_CONFIG = getQSConfig('group', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\nfunction InventoryRelatedGroupList({ i18n }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [associateError, setAssociateError] = useState(null);\n  const [disassociateError, setDisassociateError] = useState(null);\n  const { id: inventoryId, groupId } = useParams();\n  const location = useLocation();\n\n  const {\n    request: fetchRelated,\n    result: {\n      groups,\n      itemCount,\n      relatedSearchableKeys,\n      searchableKeys,\n      canAdd,\n    },\n    isLoading,\n    error: contentError,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actions] = await Promise.all([\n        GroupsAPI.readChildren(groupId, params),\n        InventoriesAPI.readGroupsOptions(inventoryId),\n      ]);\n\n      return {\n        groups: response.data.results,\n        itemCount: response.data.count,\n        relatedSearchableKeys: (\n          actions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(actions.data.actions?.GET || {}).filter(\n          key => actions.data.actions?.GET[key].filterable\n        ),\n        canAdd:\n          actions.data.actions &&\n          Object.prototype.hasOwnProperty.call(actions.data.actions, 'POST'),\n      };\n    }, [groupId, location.search, inventoryId]),\n    { groups: [], itemCount: 0, canAdd: false }\n  );\n  useEffect(() => {\n    fetchRelated();\n  }, [fetchRelated]);\n\n  const fetchGroupsToAssociate = useCallback(\n    params => {\n      return GroupsAPI.readPotentialGroups(\n        groupId,\n        mergeParams(params, { not__id: groupId, not__parents: groupId })\n      );\n    },\n    [groupId]\n  );\n\n  const associateGroup = useCallback(\n    async selectedGroups => {\n      try {\n        await Promise.all(\n          selectedGroups.map(selected =>\n            GroupsAPI.associateChildGroup(groupId, selected.id)\n          )\n        );\n      } catch (err) {\n        setAssociateError(err);\n      }\n      fetchRelated();\n    },\n    [groupId, fetchRelated]\n  );\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    groups\n  );\n\n  const disassociateGroups = useCallback(async () => {\n    try {\n      await Promise.all(\n        selected.map(({ id: childId }) =>\n          GroupsAPI.disassociateChildGroup(parseInt(groupId, 10), childId)\n        )\n      );\n    } catch (err) {\n      setDisassociateError(err);\n    }\n    fetchRelated();\n    setSelected([]);\n  }, [groupId, selected, setSelected, fetchRelated]);\n\n  const fetchGroupsOptions = useCallback(\n    () => InventoriesAPI.readGroupsOptions(inventoryId),\n    [inventoryId]\n  );\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const addFormUrl = `/inventories/inventory/${inventoryId}/groups/${groupId}/nested_groups/add`;\n\n  const addExistingGroup = i18n._(t`Add existing group`);\n  const addNewGroup = i18n._(t`Add new group`);\n  const addButton = (\n    <AddDropDownButton\n      key=\"add\"\n      dropdownItems={[\n        <DropdownItem\n          key={addExistingGroup}\n          onClick={() => setIsModalOpen(true)}\n          aria-label={addExistingGroup}\n        >\n          {addExistingGroup}\n        </DropdownItem>,\n        <DropdownItem\n          component={Link}\n          to={`${addFormUrl}`}\n          key={addNewGroup}\n          aria-label={addNewGroup}\n        >\n          {addNewGroup}\n        </DropdownItem>,\n      ]}\n    />\n  );\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading}\n        items={groups}\n        itemCount={itemCount}\n        pluralizedItemName={i18n._(t`Related Groups`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...groups] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd ? [addButton] : []),\n              <AdHocCommands\n                adHocItems={selected}\n                hasListItems={itemCount > 0}\n              />,\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={disassociateGroups}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(t`Disassociate related group(s)?`)}\n              />,\n            ]}\n          />\n        )}\n        renderItem={o => (\n          <InventoryGroupRelatedGroupListItem\n            key={o.id}\n            group={o}\n            detailUrl={`/inventories/inventory/${inventoryId}/groups/${o.id}/details`}\n            editUrl={`/inventories/inventory/${inventoryId}/groups/${o.id}/edit`}\n            isSelected={selected.some(row => row.id === o.id)}\n            onSelect={() => handleSelect(o)}\n          />\n        )}\n        emptyStateControls={canAdd && addButton}\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`Groups`)}\n          fetchRequest={fetchGroupsToAssociate}\n          optionsRequest={fetchGroupsOptions}\n          isModalOpen={isModalOpen}\n          onAssociate={associateGroup}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Groups`)}\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {associateError\n            ? i18n._(t`Failed to associate.`)\n            : i18n._(t`Failed to disassociate one or more groups.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(InventoryRelatedGroupList);\n","import React, { useState } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { GroupsAPI } from '../../../api';\nimport InventoryGroupForm from '../shared/InventoryGroupForm';\n\nfunction InventoryRelatedGroupAdd() {\n  const [error, setError] = useState(null);\n  const history = useHistory();\n  const { id, groupId } = useParams();\n  const associateInventoryGroup = async values => {\n    values.inventory = id;\n    try {\n      const { data } = await GroupsAPI.create(values);\n      await GroupsAPI.associateChildGroup(groupId, data.id);\n      history.push(`/inventories/inventory/${id}/groups/${data.id}/details`, {\n        prevGroupId: groupId,\n      });\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(\n      `/inventories/inventory/${id}/groups/${groupId}/nested_groups`\n    );\n  };\n  return (\n    <InventoryGroupForm\n      handleSubmit={associateInventoryGroup}\n      handleCancel={handleCancel}\n      error={error}\n    />\n  );\n}\n\nexport default InventoryRelatedGroupAdd;\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport InventoryRelatedGroupList from './InventoryRelatedGroupList';\nimport InventoryRelatedGroupAdd from '../InventoryRelatedGroupAdd';\n\nfunction InventoryRelatedGroups() {\n  return (\n    <>\n      <Switch>\n        <Route\n          key=\"addRelatedGroups\"\n          path=\"/inventories/inventory/:id/groups/:groupId/nested_groups/add\"\n        >\n          <InventoryRelatedGroupAdd />\n        </Route>\n        <Route\n          key=\"relatedGroups\"\n          path=\"/inventories/inventory/:id/groups/:groupId/nested_groups\"\n        >\n          <InventoryRelatedGroupList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\nexport default InventoryRelatedGroups;\n","import React, { useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\n\nimport {\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport RoutedTabs from '../../../components/RoutedTabs';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport InventoryGroupEdit from '../InventoryGroupEdit/InventoryGroupEdit';\nimport InventoryGroupDetail from '../InventoryGroupDetail/InventoryGroupDetail';\nimport InventoryGroupHosts from '../InventoryGroupHosts';\nimport InventoryRelatedGroups from '../InventoryRelatedGroups';\n\nimport { GroupsAPI } from '../../../api';\n\nfunction InventoryGroup({ i18n, setBreadcrumb, inventory }) {\n  const [inventoryGroup, setInventoryGroup] = useState(null);\n  const [contentLoading, setContentLoading] = useState(true);\n  const [contentError, setContentError] = useState(null);\n  const { id: inventoryId, groupId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const { data } = await GroupsAPI.readDetail(groupId);\n        setInventoryGroup(data);\n        setBreadcrumb(inventory, data);\n      } catch (err) {\n        setContentError(err);\n      } finally {\n        setContentLoading(false);\n      }\n    };\n\n    loadData();\n  }, [location.pathname, groupId, inventory, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon aria-label={i18n._(t`Back to Groups`)} />\n          {i18n._(t`Back to Groups`)}\n        </>\n      ),\n      link: `/inventories/inventory/${inventory.id}/groups`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/inventories/inventory/${inventory.id}/groups/${inventoryGroup?.id}/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Related Groups`),\n      link: `/inventories/inventory/${inventory.id}/groups/${inventoryGroup?.id}/nested_groups`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`Hosts`),\n      link: `/inventories/inventory/${inventory.id}/groups/${inventoryGroup?.id}/nested_hosts`,\n      id: 2,\n    },\n  ];\n\n  if (contentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  // In cases where a user manipulates the url such that they try to navigate to a\n  // Inventory Group that is not associated with the Inventory Id in the Url this\n  // Content Error is thrown. Inventory Groups have a 1:1 relationship to Inventories\n  // thus their Ids must corrolate.\n\n  if (\n    inventoryGroup?.summary_fields?.inventory?.id !== parseInt(inventoryId, 10)\n  ) {\n    return (\n      <ContentError isNotFound>\n        <Link to={`/inventories/inventory/${inventory.id}/groups`}>\n          {i18n._(t`View Inventory Groups`)}\n        </Link>\n      </ContentError>\n    );\n  }\n\n  let showCardHeader = true;\n  if (['add', 'edit'].some(name => location.pathname.includes(name))) {\n    showCardHeader = false;\n  }\n\n  return (\n    <>\n      {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n      <Switch>\n        <Redirect\n          from=\"/inventories/inventory/:id/groups/:groupId\"\n          to=\"/inventories/inventory/:id/groups/:groupId/details\"\n          exact\n        />\n        {inventoryGroup && [\n          <Route\n            key=\"edit\"\n            path=\"/inventories/inventory/:id/groups/:groupId/edit\"\n          >\n            <InventoryGroupEdit inventoryGroup={inventoryGroup} />\n          </Route>,\n          <Route\n            key=\"details\"\n            path=\"/inventories/inventory/:id/groups/:groupId/details\"\n          >\n            <InventoryGroupDetail inventoryGroup={inventoryGroup} />\n          </Route>,\n          <Route\n            key=\"hosts\"\n            path=\"/inventories/inventory/:id/groups/:groupId/nested_hosts\"\n          >\n            <InventoryGroupHosts inventoryGroup={inventoryGroup} />\n          </Route>,\n          <Route\n            key=\"relatedGroups\"\n            path=\"/inventories/inventory/:id/groups/:groupId/nested_groups\"\n          >\n            <InventoryRelatedGroups />\n          </Route>,\n        ]}\n        <Route key=\"not-found\" path=\"*\">\n          <ContentError>\n            {inventory && (\n              <Link to={`/inventories/inventory/${inventory.id}/details`}>\n                {i18n._(t`View Inventory Details`)}\n              </Link>\n            )}\n          </ContentError>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { InventoryGroup as _InventoryGroup };\nexport default withI18n()(InventoryGroup);\n","import React from 'react';\nimport { bool, func, number, oneOfType, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\nimport { Group } from '../../../types';\n\nfunction InventoryGroupItem({\n  i18n,\n  group,\n  inventoryId,\n  isSelected,\n  onSelect,\n}) {\n  const labelId = `check-action-${group.id}`;\n  const detailUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/details`;\n  const editUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/edit`;\n\n  return (\n    <DataListItem key={group.id} aria-labelledby={labelId} id={`${group.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          aria-labelledby={labelId}\n          id={`select-group-${group.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`} id={labelId}>\n                <b>{group.name}</b>\n              </Link>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {group.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`Edit Group`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`Edit Group`)}\n                variant=\"plain\"\n                component={Link}\n                to={editUrl}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nInventoryGroupItem.propTypes = {\n  group: Group.isRequired,\n  inventoryId: oneOfType([number, string]).isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InventoryGroupItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Tooltip } from '@patternfly/react-core';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useSelected from '../../../util/useSelected';\nimport useRequest from '../../../util/useRequest';\nimport { InventoriesAPI } from '../../../api';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\n\nimport InventoryGroupItem from './InventoryGroupItem';\nimport InventoryGroupsDeleteModal from '../shared/InventoryGroupsDeleteModal';\n\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\n\nconst QS_CONFIG = getQSConfig('group', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction cannotDelete(item) {\n  return !item.summary_fields.user_capabilities.delete;\n}\n\nfunction InventoryGroupsList({ i18n }) {\n  const location = useLocation();\n  const { id: inventoryId } = useParams();\n\n  const {\n    result: {\n      groups,\n      groupCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchData,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, groupOptions] = await Promise.all([\n        InventoriesAPI.readGroups(inventoryId, params),\n        InventoriesAPI.readGroupsOptions(inventoryId),\n      ]);\n\n      return {\n        groups: response.data.results,\n        groupCount: response.data.count,\n        actions: groupOptions.data.actions,\n        relatedSearchableKeys: (\n          groupOptions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          groupOptions.data.actions?.GET || {}\n        ).filter(key => groupOptions.data.actions?.GET[key].filterable),\n      };\n    }, [inventoryId, location]),\n    {\n      groups: [],\n      groupCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    groups\n  );\n\n  const renderTooltip = () => {\n    const itemsUnableToDelete = selected\n      .filter(cannotDelete)\n      .map(item => item.name)\n      .join(', ');\n\n    if (selected.some(cannotDelete)) {\n      return (\n        <div>\n          {i18n._(\n            t`You do not have permission to delete the following Groups: ${itemsUnableToDelete}`\n          )}\n        </div>\n      );\n    }\n    if (selected.length) {\n      return i18n._(t`删除`);\n    }\n    return i18n._(t`Select a row to delete`);\n  };\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading}\n        items={groups}\n        itemCount={groupCount}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`Group type`),\n            key: 'parents__isnull',\n            isBoolean: true,\n            booleanLabels: {\n              true: i18n._(t`Show only root groups`),\n              false: i18n._(t`Show all groups`),\n            },\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={item => (\n          <InventoryGroupItem\n            key={item.id}\n            group={item}\n            inventoryId={inventoryId}\n            isSelected={selected.some(row => row.id === item.id)}\n            onSelect={() => handleSelect(item)}\n          />\n        )}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...groups] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      linkTo={`/inventories/inventory/${inventoryId}/groups/add`}\n                    />,\n                  ]\n                : []),\n              <AdHocCommands\n                adHocItems={selected}\n                hasListItems={groupCount > 0}\n              />,\n              <Tooltip content={renderTooltip()} position=\"top\" key=\"delete\">\n                <InventoryGroupsDeleteModal\n                  groups={selected}\n                  isDisabled={\n                    selected.length === 0 || selected.some(cannotDelete)\n                  }\n                  onAfterDelete={() => {\n                    fetchData();\n                    setSelected([]);\n                  }}\n                />\n              </Tooltip>,\n            ]}\n          />\n        )}\n        emptyStateControls={\n          canAdd && (\n            <ToolbarAddButton\n              key=\"add\"\n              linkTo={`/inventories/inventory/${inventoryId}/groups/add`}\n            />\n          )\n        }\n      />\n    </>\n  );\n}\nexport default withI18n()(InventoryGroupsList);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport InventoryGroupAdd from '../InventoryGroupAdd/InventoryGroupAdd';\n\nimport InventoryGroup from '../InventoryGroup/InventoryGroup';\nimport InventoryGroupsList from './InventoryGroupsList';\n\nfunction InventoryGroups({ setBreadcrumb, inventory }) {\n  return (\n    <Switch>\n      <Route key=\"add\" path=\"/inventories/inventory/:id/groups/add\">\n        <InventoryGroupAdd\n          setBreadcrumb={setBreadcrumb}\n          inventory={inventory}\n        />\n      </Route>\n      <Route key=\"details\" path=\"/inventories/inventory/:id/groups/:groupId/\">\n        <InventoryGroup inventory={inventory} setBreadcrumb={setBreadcrumb} />\n      </Route>\n      <Route key=\"list\" path=\"/inventories/inventory/:id/groups\">\n        <InventoryGroupsList />\n      </Route>\n    </Switch>\n  );\n}\n\nexport { InventoryGroups as _InventoryGroups };\nexport default withI18n()(InventoryGroups);\n","import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { Host } from '../../../types';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport Sparkline from '../../../components/Sparkline';\nimport DeleteButton from '../../../components/DeleteButton';\nimport { HostsAPI } from '../../../api';\nimport HostToggle from '../../../components/HostToggle';\n\nfunction InventoryHostDetail({ i18n, host }) {\n  const {\n    created,\n    description,\n    id,\n    modified,\n    name,\n    variables,\n    summary_fields: {\n      inventory,\n      recent_jobs,\n      created_by,\n      modified_by,\n      user_capabilities,\n    },\n  } = host;\n\n  const [isLoading, setIsloading] = useState(false);\n  const [deletionError, setDeletionError] = useState(false);\n  const history = useHistory();\n\n  const handleHostDelete = async () => {\n    setIsloading(true);\n    try {\n      await HostsAPI.destroy(id);\n      history.push(`/inventories/inventory/${inventory.id}/hosts`);\n    } catch (err) {\n      setDeletionError(err);\n    } finally {\n      setIsloading(false);\n    }\n  };\n\n  if (!isLoading && deletionError) {\n    return (\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => setDeletionError(false)}\n      >\n        {i18n._(t`Failed to delete ${name}.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    );\n  }\n\n  const recentPlaybookJobs = recent_jobs.map(job => ({ ...job, type: 'job' }));\n\n  return (\n    <CardBody>\n      <HostToggle host={host} css=\"padding-bottom: 40px\" />\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} />\n        {recentPlaybookJobs?.length > 0 && (\n          <Detail\n            label={i18n._(t`Activity`)}\n            value={<Sparkline jobs={recentPlaybookJobs} />}\n          />\n        )}\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <UserDateDetail\n          date={created}\n          label={i18n._(t`已创建`)}\n          user={created_by}\n        />\n        <UserDateDetail\n          date={modified}\n          label={i18n._(t`上次修改时间`)}\n          user={modified_by}\n        />\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          rows={4}\n          value={variables}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {user_capabilities?.edit && (\n          <Button\n            aria-label={i18n._(t`edit`)}\n            component={Link}\n            to={`/inventories/inventory/${inventory.id}/hosts/${id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {user_capabilities?.delete && (\n          <DeleteButton\n            name={name}\n            modalTitle={i18n._(t`Delete Host`)}\n            onConfirm={() => handleHostDelete()}\n          />\n        )}\n      </CardActionsRow>\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={() => setDeletionError(null)}\n        >\n          {i18n._(t`Failed to delete host.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nInventoryHostDetail.propTypes = {\n  host: Host.isRequired,\n};\n\nexport default withI18n()(InventoryHostDetail);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport HostForm from '../../../components/HostForm';\n\nimport { HostsAPI } from '../../../api';\n\nfunction InventoryHostEdit({ host, inventory }) {\n  const [formError, setFormError] = useState(null);\n  const detailsUrl = `/inventories/inventory/${inventory.id}/hosts/${host.id}/details`;\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    try {\n      await HostsAPI.update(host.id, values);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        host={host}\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        isInventoryVisible={false}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nInventoryHostEdit.propTypes = {\n  host: PropTypes.shape().isRequired,\n};\n\nexport default InventoryHostEdit;\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Host } from '../../../types';\nimport { CardBody } from '../../../components/Card';\nimport { DetailList } from '../../../components/DetailList';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport useRequest from '../../../util/useRequest';\nimport { HostsAPI } from '../../../api';\n\nfunction InventoryHostFacts({ i18n, host }) {\n  const { request, isLoading, error, result } = useRequest(\n    useCallback(async () => {\n      const { data } = await HostsAPI.readFacts(host.id);\n\n      return JSON.stringify(data, null, 4);\n    }, [host]),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  if (isLoading || result === null) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <VariablesDetail label={i18n._(t`Facts`)} fullHeight value={result} />\n      </DetailList>\n    </CardBody>\n  );\n}\n\nInventoryHostFacts.propTypes = {\n  host: Host.isRequired,\n};\n\nexport default withI18n()(InventoryHostFacts);\n","import React from 'react';\nimport { bool, func, number, oneOfType, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\nimport { Group } from '../../../types';\n\nfunction InventoryHostGroupItem({\n  i18n,\n  group,\n  inventoryId,\n  isSelected,\n  onSelect,\n}) {\n  const labelId = `check-action-${group.id}`;\n  const detailUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/details`;\n  const editUrl = `/inventories/inventory/${inventoryId}/groups/${group.id}/edit`;\n\n  return (\n    <DataListItem key={group.id} aria-labelledby={labelId} id={`${group.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          aria-labelledby={labelId}\n          id={`select-group-${group.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`} id={labelId}>\n                <b>{group.name}</b>\n              </Link>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {group.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`Edit Group`)} position=\"top\">\n              <Button variant=\"plain\" component={Link} to={editUrl}>\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nInventoryHostGroupItem.propTypes = {\n  group: Group.isRequired,\n  inventoryId: oneOfType([number, string]).isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InventoryHostGroupItem);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { getQSConfig, parseQueryString, mergeParams } from '../../../util/qs';\nimport useRequest, {\n  useDismissableError,\n  useDeleteItems,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { HostsAPI, InventoriesAPI } from '../../../api';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport AssociateModal from '../../../components/AssociateModal';\nimport DisassociateButton from '../../../components/DisassociateButton';\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\nimport InventoryHostGroupItem from './InventoryHostGroupItem';\n\nconst QS_CONFIG = getQSConfig('group', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction InventoryHostGroupsList({ i18n }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const { hostId, id: invId } = useParams();\n  const { search } = useLocation();\n\n  const {\n    result: {\n      groups,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchGroups,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n\n      const [\n        {\n          data: { count, results },\n        },\n        hostGroupOptions,\n      ] = await Promise.all([\n        HostsAPI.readAllGroups(hostId, params),\n        HostsAPI.readGroupsOptions(hostId),\n      ]);\n\n      return {\n        groups: results,\n        itemCount: count,\n        actions: hostGroupOptions.data.actions,\n        relatedSearchableKeys: (\n          hostGroupOptions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          hostGroupOptions.data.actions?.GET || {}\n        ).filter(key => hostGroupOptions.data.actions?.GET[key].filterable),\n      };\n    }, [hostId, search]), // eslint-disable-line react-hooks/exhaustive-deps\n    {\n      groups: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchGroups();\n  }, [fetchGroups]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    groups\n  );\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateHosts,\n    deletionError: disassociateError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(group => HostsAPI.disassociateGroup(hostId, group))\n      );\n    }, [hostId, selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchGroups,\n    }\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateHosts();\n    setSelected([]);\n  };\n\n  const fetchGroupsToAssociate = useCallback(\n    params => {\n      return InventoriesAPI.readGroups(\n        invId,\n        mergeParams(params, { not__hosts: hostId })\n      );\n    },\n    [invId, hostId]\n  );\n\n  const fetchGroupsOptions = useCallback(\n    () => InventoriesAPI.readGroupsOptions(invId),\n    [invId]\n  );\n\n  const { request: handleAssociate, error: associateError } = useRequest(\n    useCallback(\n      async groupsToAssociate => {\n        await Promise.all(\n          groupsToAssociate.map(group =>\n            HostsAPI.associateGroup(hostId, group.id)\n          )\n        );\n        fetchGroups();\n      },\n      [hostId, fetchGroups]\n    )\n  );\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={groups}\n        itemCount={itemCount}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={item => (\n          <InventoryHostGroupItem\n            key={item.id}\n            group={item}\n            inventoryId={item.summary_fields.inventory.id}\n            isSelected={selected.some(row => row.id === item.id)}\n            onSelect={() => handleSelect(item)}\n          />\n        )}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...groups] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      onClick={() => setIsModalOpen(true)}\n                    />,\n                  ]\n                : []),\n              <AdHocCommands\n                adHocItems={selected}\n                hasListItems={itemCount > 0}\n              />,\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(t`Disassociate group from host?`)}\n                modalNote={i18n._(t`\n                  Note that you may still see the group in the list after\n                  disassociating if the host is also a member of that group’s\n                  children.  This list shows all groups the host is associated\n                  with directly and indirectly.\n                `)}\n              />,\n            ]}\n          />\n        )}\n        emptyStateControls={\n          canAdd ? (\n            <ToolbarAddButton key=\"add\" onClick={() => setIsModalOpen(true)} />\n          ) : null\n        }\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`Groups`)}\n          fetchRequest={fetchGroupsToAssociate}\n          optionsRequest={fetchGroupsOptions}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Groups`)}\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {associateError\n            ? i18n._(t`Failed to associate.`)\n            : i18n._(t`Failed to disassociate one or more groups.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(InventoryHostGroupsList);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\n\nimport { Switch, Route } from 'react-router-dom';\n\nimport InventoryHostGroupsList from './InventoryHostGroupsList';\n\nfunction InventoryHostGroups() {\n  return (\n    <Switch>\n      <Route key=\"list\" path=\"/inventories/inventory/:id/hosts/:hostId/groups\">\n        <InventoryHostGroupsList />\n      </Route>\n    </Switch>\n  );\n}\n\nexport { InventoryHostGroups as _InventoryHostGroups };\nexport default withI18n()(InventoryHostGroups);\n","import React, { useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport useRequest from '../../../util/useRequest';\n\nimport { InventoriesAPI } from '../../../api';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport RoutedTabs from '../../../components/RoutedTabs';\nimport JobList from '../../../components/JobList';\nimport InventoryHostDetail from '../InventoryHostDetail';\nimport InventoryHostEdit from '../InventoryHostEdit';\nimport InventoryHostFacts from '../InventoryHostFacts';\nimport InventoryHostGroups from '../InventoryHostGroups';\n\nfunction InventoryHost({ i18n, setBreadcrumb, inventory }) {\n  const location = useLocation();\n  const match = useRouteMatch('/inventories/inventory/:id/hosts/:hostId');\n  const hostListUrl = `/inventories/inventory/${inventory.id}/hosts`;\n\n  const {\n    result: { host },\n    error: contentError,\n    isLoading,\n    request: fetchHost,\n  } = useRequest(\n    useCallback(async () => {\n      const response = await InventoriesAPI.readHostDetail(\n        inventory.id,\n        match.params.hostId\n      );\n      return {\n        host: response,\n      };\n    }, [inventory.id, match.params.hostId]),\n    {\n      host: null,\n    }\n  );\n\n  useEffect(() => {\n    fetchHost();\n  }, [fetchHost, location.pathname]);\n\n  useEffect(() => {\n    if (inventory && host) {\n      setBreadcrumb(inventory, host);\n    }\n  }, [inventory, host, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Hosts`)}\n        </>\n      ),\n      link: `${hostListUrl}`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${match.url}/details`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`Facts`),\n      link: `${match.url}/facts`,\n      id: 2,\n    },\n    {\n      name: i18n._(t`Groups`),\n      link: `${match.url}/groups`,\n      id: 3,\n    },\n    {\n      name: i18n._(t`Completed Jobs`),\n      link: `${match.url}/completed_jobs`,\n      id: 4,\n    },\n  ];\n\n  if (contentError) {\n    return (\n      <Card>\n        <ContentError error={contentError}>\n          {contentError.response && contentError.response.status === 404 && (\n            <span>\n              {i18n._(t`Host not found.`)}{' '}\n              <Link to={hostListUrl}>\n                {i18n._(t`View all Inventory Hosts.`)}\n              </Link>\n            </span>\n          )}\n        </ContentError>\n      </Card>\n    );\n  }\n\n  let showCardHeader = true;\n  if (['edit'].some(name => location.pathname.includes(name))) {\n    showCardHeader = false;\n  }\n\n  return (\n    <>\n      {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n\n      {isLoading && <ContentLoading />}\n\n      {!isLoading && host && (\n        <Switch>\n          <Redirect\n            from=\"/inventories/inventory/:id/hosts/:hostId\"\n            to=\"/inventories/inventory/:id/hosts/:hostId/details\"\n            exact\n          />\n          <Route\n            key=\"details\"\n            path=\"/inventories/inventory/:id/hosts/:hostId/details\"\n          >\n            <InventoryHostDetail host={host} />\n          </Route>\n          <Route\n            key=\"edit\"\n            path=\"/inventories/inventory/:id/hosts/:hostId/edit\"\n          >\n            <InventoryHostEdit host={host} inventory={inventory} />\n          </Route>\n          <Route\n            key=\"facts\"\n            path=\"/inventories/inventory/:id/hosts/:hostId/facts\"\n          >\n            <InventoryHostFacts host={host} />\n          </Route>\n          <Route\n            key=\"groups\"\n            path=\"/inventories/inventory/:id/hosts/:hostId/groups\"\n          >\n            <InventoryHostGroups />\n          </Route>\n          <Route\n            key=\"completed-jobs\"\n            path=\"/inventories/inventory/:id/hosts/:hostId/completed_jobs\"\n          >\n            <JobList defaultParams={{ job__hosts: host.id }} />\n          </Route>\n          <Route key=\"not-found\" path=\"*\">\n            <ContentError isNotFound>\n              <Link to={`${match.url}/details`}>\n                {i18n._(t`View Inventory Host Details`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InventoryHost);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport HostForm from '../../../components/HostForm';\n\nimport { HostsAPI } from '../../../api';\n\nfunction InventoryHostAdd({ inventory }) {\n  const [formError, setFormError] = useState(null);\n  const hostsUrl = `/inventories/inventory/${inventory.id}/hosts`;\n  const history = useHistory();\n\n  const handleSubmit = async formData => {\n    try {\n      const values = {\n        ...formData,\n        inventory: inventory.id,\n      };\n      const { data: response } = await HostsAPI.create(values);\n      history.push(`${hostsUrl}/${response.id}/details`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(hostsUrl);\n  };\n\n  return (\n    <CardBody>\n      <HostForm\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        isInventoryVisible={false}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nexport default InventoryHostAdd;\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport HostToggle from '../../../components/HostToggle';\nimport Sparkline from '../../../components/Sparkline';\nimport { Host } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 24px;\n  grid-template-columns: min-content 40px;\n`;\n\nfunction InventoryHostItem(props) {\n  const { detailUrl, editUrl, host, i18n, isSelected, onSelect } = props;\n\n  const recentPlaybookJobs = host.summary_fields.recent_jobs.map(job => ({\n    ...job,\n    type: 'job',\n  }));\n\n  const labelId = `check-action-${host.id}`;\n\n  return (\n    <DataListItem key={host.id} aria-labelledby={labelId} id={`${host.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-host-${host.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"divider\">\n              <Link to={`${detailUrl}`}>\n                <b>{host.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"recentJobs\">\n              <Sparkline jobs={recentPlaybookJobs} />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          <HostToggle host={host} />\n          {host.summary_fields.user_capabilities?.edit && (\n            <Tooltip content={i18n._(t`编辑主机`)} position=\"top\">\n              <Button variant=\"plain\" component={Link} to={`${editUrl}`}>\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nInventoryHostItem.propTypes = {\n  detailUrl: string.isRequired,\n  host: Host.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(InventoryHostItem);\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport { InventoriesAPI, HostsAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\nimport InventoryHostItem from './InventoryHostItem';\n\nconst QS_CONFIG = getQSConfig('host', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction InventoryHostList({ i18n }) {\n  const [selected, setSelected] = useState([]);\n  const { id } = useParams();\n  const { search } = useLocation();\n\n  const {\n    result: {\n      hosts,\n      hostCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchData,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const [response, hostOptions] = await Promise.all([\n        InventoriesAPI.readHosts(id, params),\n        InventoriesAPI.readHostsOptions(id),\n      ]);\n\n      return {\n        hosts: response.data.results,\n        hostCount: response.data.count,\n        actions: hostOptions.data.actions,\n        relatedSearchableKeys: (\n          hostOptions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(hostOptions.data.actions?.GET || {}).filter(\n          key => hostOptions.data.actions?.GET[key].filterable\n        ),\n      };\n    }, [id, search]),\n    {\n      hosts: [],\n      hostCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...hosts] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteHosts,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(host => HostsAPI.destroy(host.id)));\n    }, [selected]),\n    { qsConfig: QS_CONFIG, fetchItems: fetchData }\n  );\n\n  const handleDeleteHosts = async () => {\n    await deleteHosts();\n    setSelected([]);\n  };\n\n  const canAdd =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n  const isAllSelected = selected.length > 0 && selected.length === hosts.length;\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDeleteLoading}\n        items={hosts}\n        itemCount={hostCount}\n        pluralizedItemName={i18n._(t`Hosts`)}\n        qsConfig={QS_CONFIG}\n        toolbarColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n            isSortable: true,\n            isSearchable: true,\n          },\n          {\n            name: i18n._(t`更改`),\n            key: 'modified',\n            isSortable: true,\n            isNumeric: true,\n          },\n          {\n            name: i18n._(t`已创建`),\n            key: 'created',\n            isSortable: true,\n            isNumeric: true,\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={handleSelectAll}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      linkTo={`/inventories/inventory/${id}/hosts/add`}\n                    />,\n                  ]\n                : []),\n              <AdHocCommands\n                adHocItems={selected}\n                hasListItems={hostCount > 0}\n              />,\n              <ToolbarDeleteButton\n                key=\"delete\"\n                onDelete={handleDeleteHosts}\n                itemsToDelete={selected}\n                pluralizedItemName={i18n._(t`Hosts`)}\n              />,\n            ]}\n          />\n        )}\n        renderItem={o => (\n          <InventoryHostItem\n            key={o.id}\n            host={o}\n            detailUrl={`/inventories/inventory/${id}/hosts/${o.id}/details`}\n            editUrl={`/inventories/inventory/${id}/hosts/${o.id}/edit`}\n            isSelected={selected.some(row => row.id === o.id)}\n            onSelect={() => handleSelect(o)}\n          />\n        )}\n        emptyStateControls={\n          canAdd && (\n            <ToolbarAddButton\n              key=\"add\"\n              linkTo={`/inventories/inventory/${id}/add`}\n            />\n          )\n        }\n      />\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more hosts.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InventoryHostList);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\n\nimport InventoryHost from '../InventoryHost';\nimport InventoryHostAdd from '../InventoryHostAdd';\nimport InventoryHostList from './InventoryHostList';\n\nfunction InventoryHosts({ setBreadcrumb, inventory }) {\n  return (\n    <Switch>\n      <Route key=\"host-add\" path=\"/inventories/inventory/:id/hosts/add\">\n        <InventoryHostAdd inventory={inventory} />\n      </Route>\n      <Route key=\"host\" path=\"/inventories/inventory/:id/hosts/:hostId\">\n        <InventoryHost setBreadcrumb={setBreadcrumb} inventory={inventory} />\n      </Route>\n      <Route key=\"host-list\" path=\"/inventories/inventory/:id/hosts\">\n        <InventoryHostList />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default InventoryHosts;\n","import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport { shape } from 'prop-types';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Split, SplitItem, TextListItemVariants } from '@patternfly/react-core';\nimport { formatDateString, formatDateStringUTC } from '../../../util/dates';\nimport { DetailName, DetailValue } from '../../DetailList';\nimport MultiButtonToggle from '../../MultiButtonToggle';\n\nconst OccurrencesLabel = styled.div`\n  display: inline-block;\n  font-size: var(--pf-c-form__label--FontSize);\n  font-weight: var(--pf-c-form__label--FontWeight);\n  line-height: var(--pf-c-form__label--LineHeight);\n  color: var(--pf-c-form__label--Color);\n\n  span:first-of-type {\n    font-weight: var(--pf-global--FontWeight--bold);\n    margin-right: 10px;\n  }\n`;\n\nfunction ScheduleOccurrences({ preview = { local: [], utc: [] }, i18n }) {\n  const [mode, setMode] = useState('local');\n\n  if (preview.local.length < 2) {\n    return null;\n  }\n\n  return (\n    <>\n      <DetailName\n        component={TextListItemVariants.dt}\n        fullWidth\n        css=\"grid-column: 1 / -1\"\n      >\n        <Split hasGutter>\n          <SplitItem>\n            <OccurrencesLabel>\n              <span>{i18n._(t`Occurrences`)}</span>\n              <span>{i18n._(t`(Limited to first 10)`)}</span>\n            </OccurrencesLabel>\n          </SplitItem>\n          <SplitItem>\n            <MultiButtonToggle\n              buttons={[\n                ['local', 'Local'],\n                ['utc', 'UTC'],\n              ]}\n              value={mode}\n              onChange={newMode => setMode(newMode)}\n            />\n          </SplitItem>\n        </Split>\n      </DetailName>\n      <DetailValue\n        component={TextListItemVariants.dd}\n        fullWidth\n        css=\"grid-column: 1 / -1; margin-top: -10px\"\n      >\n        {preview[mode].map(dateStr => (\n          <div key={dateStr}>\n            {mode === 'local'\n              ? formatDateString(dateStr)\n              : formatDateStringUTC(dateStr)}\n          </div>\n        ))}\n      </DetailValue>\n    </>\n  );\n}\n\nScheduleOccurrences.propTypes = {\n  preview: shape(),\n};\n\nScheduleOccurrences.defaultProps = {\n  preview: { local: [], utc: [] },\n};\n\nexport default withI18n()(ScheduleOccurrences);\n","import 'styled-components/macro';\nimport React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Switch, Tooltip } from '@patternfly/react-core';\nimport AlertModal from '../../AlertModal';\nimport ErrorDetail from '../../ErrorDetail';\nimport useRequest from '../../../util/useRequest';\nimport { SchedulesAPI } from '../../../api';\n\nfunction ScheduleToggle({ schedule, onToggle, className, i18n }) {\n  const [isEnabled, setIsEnabled] = useState(schedule.enabled);\n  const [showError, setShowError] = useState(false);\n\n  const { result, isLoading, error, request: toggleSchedule } = useRequest(\n    useCallback(async () => {\n      await SchedulesAPI.update(schedule.id, {\n        enabled: !isEnabled,\n      });\n      return !isEnabled;\n    }, [schedule, isEnabled]),\n    schedule.enabled\n  );\n\n  useEffect(() => {\n    if (result !== isEnabled) {\n      setIsEnabled(result);\n      if (onToggle) {\n        onToggle(result);\n      }\n    }\n  }, [result, isEnabled, onToggle]);\n\n  useEffect(() => {\n    if (error) {\n      setShowError(true);\n    }\n  }, [error]);\n\n  return (\n    <Fragment>\n      <Tooltip\n        content={\n          schedule.enabled\n            ? i18n._(t`Schedule is active`)\n            : i18n._(t`Schedule is inactive`)\n        }\n        position=\"top\"\n      >\n        <Switch\n          className={className}\n          css=\"display: inline-flex;\"\n          id={`schedule-${schedule.id}-toggle`}\n          label={i18n._(t`On`)}\n          labelOff={i18n._(t`Off`)}\n          isChecked={isEnabled}\n          isDisabled={\n            isLoading || !schedule.summary_fields.user_capabilities.edit\n          }\n          onChange={toggleSchedule}\n          aria-label={i18n._(t`Toggle schedule`)}\n        />\n      </Tooltip>\n      {showError && error && !isLoading && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={error && !isLoading}\n          onClose={() => setShowError(false)}\n        >\n          {i18n._(t`Failed to toggle schedule.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </Fragment>\n  );\n}\n\nexport default withI18n()(ScheduleToggle);\n","import 'styled-components/macro';\nimport React, { useCallback, useEffect } from 'react';\nimport { Link, useHistory, useLocation } from 'react-router-dom';\nimport { RRule, rrulestr } from 'rrule';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Chip, Title, Button } from '@patternfly/react-core';\nimport { Schedule } from '../../../types';\nimport AlertModal from '../../AlertModal';\nimport { CardBody, CardActionsRow } from '../../Card';\nimport ContentError from '../../ContentError';\nimport ContentLoading from '../../ContentLoading';\nimport CredentialChip from '../../CredentialChip';\nimport { DetailList, Detail, UserDateDetail } from '../../DetailList';\nimport ScheduleOccurrences from '../ScheduleOccurrences';\nimport ScheduleToggle from '../ScheduleToggle';\nimport { formatDateString } from '../../../util/dates';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport {\n  JobTemplatesAPI,\n  SchedulesAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../../api';\nimport DeleteButton from '../../DeleteButton';\nimport ErrorDetail from '../../ErrorDetail';\nimport ChipGroup from '../../ChipGroup';\nimport { VariablesDetail } from '../../CodeMirrorInput';\n\nconst PromptTitle = styled(Title)`\n  --pf-c-title--m-md--FontWeight: 700;\n  grid-column: 1 / -1;\n`;\n\nfunction ScheduleDetail({ schedule, i18n }) {\n  const {\n    id,\n    created,\n    description,\n    diff_mode,\n    dtend,\n    dtstart,\n    extra_data,\n    job_tags,\n    job_type,\n    limit,\n    modified,\n    name,\n    next_run,\n    rrule,\n    scm_branch,\n    skip_tags,\n    summary_fields,\n    timezone,\n  } = schedule;\n\n  const history = useHistory();\n  const { pathname } = useLocation();\n  const pathRoot = pathname.substr(0, pathname.indexOf('schedules'));\n\n  const {\n    request: deleteSchedule,\n    isLoading: isDeleteLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await SchedulesAPI.destroy(id);\n      history.push(`${pathRoot}schedules`);\n    }, [id, history, pathRoot])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const {\n    result: [credentials, preview, launchData],\n    isLoading,\n    error: readContentError,\n    request: fetchCredentialsAndPreview,\n  } = useRequest(\n    useCallback(async () => {\n      const promises = [\n        SchedulesAPI.readCredentials(id),\n        SchedulesAPI.createPreview({\n          rrule,\n        }),\n      ];\n\n      if (\n        schedule?.summary_fields?.unified_job_template?.unified_job_type ===\n        'job'\n      ) {\n        promises.push(\n          JobTemplatesAPI.readLaunch(\n            schedule.summary_fields.unified_job_template.id\n          )\n        );\n      } else if (\n        schedule?.summary_fields?.unified_job_template?.unified_job_type ===\n        'workflow_job'\n      ) {\n        promises.push(\n          WorkflowJobTemplatesAPI.readLaunch(\n            schedule.summary_fields.unified_job_template.id\n          )\n        );\n      } else {\n        promises.push(Promise.resolve());\n      }\n\n      const [{ data }, { data: schedulePreview }, launch] = await Promise.all(\n        promises\n      );\n\n      return [data.results, schedulePreview, launch?.data];\n    }, [id, schedule, rrule]),\n    []\n  );\n\n  useEffect(() => {\n    fetchCredentialsAndPreview();\n  }, [fetchCredentialsAndPreview]);\n\n  const rule = rrulestr(rrule);\n  const repeatFrequency =\n    rule.options.freq === RRule.MINUTELY && dtstart === dtend\n      ? i18n._(t`None (Run Once)`)\n      : rule.toText().replace(/^\\w/, c => c.toUpperCase());\n\n  const {\n    ask_credential_on_launch,\n    ask_diff_mode_on_launch,\n    ask_inventory_on_launch,\n    ask_job_type_on_launch,\n    ask_limit_on_launch,\n    ask_scm_branch_on_launch,\n    ask_skip_tags_on_launch,\n    ask_tags_on_launch,\n    ask_variables_on_launch,\n    ask_verbosity_on_launch,\n    survey_enabled,\n  } = launchData || {};\n\n  const showPromptedFields =\n    ask_credential_on_launch ||\n    ask_diff_mode_on_launch ||\n    ask_inventory_on_launch ||\n    ask_job_type_on_launch ||\n    ask_limit_on_launch ||\n    ask_scm_branch_on_launch ||\n    ask_skip_tags_on_launch ||\n    ask_tags_on_launch ||\n    ask_variables_on_launch ||\n    ask_verbosity_on_launch ||\n    survey_enabled;\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (readContentError) {\n    return <ContentError error={readContentError} />;\n  }\n\n  return (\n    <CardBody>\n      <ScheduleToggle schedule={schedule} css=\"padding-bottom: 40px\" />\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail\n          label={i18n._(t`First Run`)}\n          value={formatDateString(dtstart)}\n        />\n        <Detail\n          label={i18n._(t`下一次运行`)}\n          value={formatDateString(next_run)}\n        />\n        <Detail label={i18n._(t`Last Run`)} value={formatDateString(dtend)} />\n        <Detail label={i18n._(t`Local Time Zone`)} value={timezone} />\n        <Detail label={i18n._(t`Repeat Frequency`)} value={repeatFrequency} />\n        <ScheduleOccurrences preview={preview} />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n        {showPromptedFields && (\n          <>\n            <PromptTitle headingLevel=\"h2\">\n              {i18n._(t`Prompted Fields`)}\n            </PromptTitle>\n            {ask_job_type_on_launch && (\n              <Detail label={i18n._(t`作业类型`)} value={job_type} />\n            )}\n            {ask_inventory_on_launch && (\n              <Detail\n                label={i18n._(t`清单`)}\n                value={\n                  summary_fields?.inventory ? (\n                    <Link\n                      to={`/inventories/${\n                        summary_fields?.inventory?.kind === 'smart'\n                          ? 'smart_inventory'\n                          : 'inventory'\n                      }/${summary_fields?.inventory?.id}/details`}\n                    >\n                      {summary_fields?.inventory?.name}\n                    </Link>\n                  ) : (\n                    ' '\n                  )\n                }\n              />\n            )}\n            {ask_scm_branch_on_launch && (\n              <Detail\n                label={i18n._(t`Source Control Branch`)}\n                value={scm_branch}\n              />\n            )}\n            {ask_limit_on_launch && (\n              <Detail label={i18n._(t`范围`)} value={limit} />\n            )}\n            {ask_diff_mode_on_launch && typeof diff_mode === 'boolean' && (\n              <Detail\n                label={i18n._(t`Show Changes`)}\n                value={diff_mode ? i18n._(t`On`) : i18n._(t`Off`)}\n              />\n            )}\n            {ask_credential_on_launch && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Credentials`)}\n                value={\n                  <ChipGroup numChips={5} totalChips={credentials.length}>\n                    {credentials.map(c => (\n                      <CredentialChip key={c.id} credential={c} isReadOnly />\n                    ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {ask_tags_on_launch && job_tags && job_tags.length > 0 && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Job Tags`)}\n                value={\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={job_tags.split(',').length}\n                  >\n                    {job_tags.split(',').map(jobTag => (\n                      <Chip key={jobTag} isReadOnly>\n                        {jobTag}\n                      </Chip>\n                    ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {ask_skip_tags_on_launch && skip_tags && skip_tags.length > 0 && (\n              <Detail\n                fullWidth\n                label={i18n._(t`Skip Tags`)}\n                value={\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={skip_tags.split(',').length}\n                  >\n                    {skip_tags.split(',').map(skipTag => (\n                      <Chip key={skipTag} isReadOnly>\n                        {skipTag}\n                      </Chip>\n                    ))}\n                  </ChipGroup>\n                }\n              />\n            )}\n            {(ask_variables_on_launch || survey_enabled) && (\n              <VariablesDetail\n                value={extra_data}\n                rows={4}\n                label={i18n._(t`变量`)}\n              />\n            )}\n          </>\n        )}\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields?.user_capabilities?.edit && (\n          <Button\n            aria-label={i18n._(t`Edit`)}\n            component={Link}\n            to={pathname.replace('details', 'edit')}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {summary_fields?.user_capabilities?.delete && (\n          <DeleteButton\n            name={name}\n            modalTitle={i18n._(t`Delete Schedule`)}\n            onConfirm={deleteSchedule}\n            isDisabled={isDeleteLoading}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete schedule.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nScheduleDetail.propTypes = {\n  schedule: Schedule.isRequired,\n};\n\nexport default withI18n()(ScheduleDetail);\n","import { t } from '@lingui/macro';\nimport { RRule } from 'rrule';\nimport { getRRuleDayConstants } from '../../../util/dates';\n\nexport default function buildRuleObj(values, i18n) {\n  const [startDate, startTime] = values.startDateTime.split('T');\n  // Dates are formatted like \"YYYY-MM-DD\"\n  const [startYear, startMonth, startDay] = startDate.split('-');\n  // Times are formatted like \"HH:MM:SS\" or \"HH:MM\" if no seconds\n  // have been specified\n  const [startHour = 0, startMinute = 0, startSecond = 0] = startTime.split(\n    ':'\n  );\n\n  const ruleObj = {\n    interval: values.interval,\n    dtstart: new Date(\n      Date.UTC(\n        startYear,\n        parseInt(startMonth, 10) - 1,\n        startDay,\n        startHour,\n        startMinute,\n        startSecond\n      )\n    ),\n    tzid: values.timezone,\n  };\n\n  switch (values.frequency) {\n    case 'none':\n      ruleObj.count = 1;\n      ruleObj.freq = RRule.MINUTELY;\n      break;\n    case 'minute':\n      ruleObj.freq = RRule.MINUTELY;\n      break;\n    case 'hour':\n      ruleObj.freq = RRule.HOURLY;\n      break;\n    case 'day':\n      ruleObj.freq = RRule.DAILY;\n      break;\n    case 'week':\n      ruleObj.freq = RRule.WEEKLY;\n      ruleObj.byweekday = values.daysOfWeek;\n      break;\n    case 'month':\n      ruleObj.freq = RRule.MONTHLY;\n      if (values.runOn === 'day') {\n        ruleObj.bymonthday = values.runOnDayNumber;\n      } else if (values.runOn === 'the') {\n        ruleObj.bysetpos = parseInt(values.runOnTheOccurrence, 10);\n        ruleObj.byweekday = getRRuleDayConstants(values.runOnTheDay, i18n);\n      }\n      break;\n    case 'year':\n      ruleObj.freq = RRule.YEARLY;\n      if (values.runOn === 'day') {\n        ruleObj.bymonth = parseInt(values.runOnDayMonth, 10);\n        ruleObj.bymonthday = values.runOnDayNumber;\n      } else if (values.runOn === 'the') {\n        ruleObj.bysetpos = parseInt(values.runOnTheOccurrence, 10);\n        ruleObj.byweekday = getRRuleDayConstants(values.runOnTheDay, i18n);\n        ruleObj.bymonth = parseInt(values.runOnTheMonth, 10);\n      }\n      break;\n    default:\n      throw new Error(i18n._(t`Frequency did not match an expected value`));\n  }\n\n  if (values.frequency !== 'none') {\n    switch (values.end) {\n      case 'never':\n        break;\n      case 'after':\n        ruleObj.count = values.occurrences;\n        break;\n      case 'onDate': {\n        const [endDate, endTime] = values.endDateTime.split('T');\n        const [endYear, endMonth, endDay] = endDate.split('-');\n        const [endHour = 0, endMinute = 0, endSecond = 0] = endTime.split(':');\n        ruleObj.until = new Date(\n          Date.UTC(\n            endYear,\n            parseInt(endMonth, 10) - 1,\n            endDay,\n            endHour,\n            endMinute,\n            endSecond\n          )\n        );\n        break;\n      }\n      default:\n        throw new Error(i18n._(t`End did not match an expected value`));\n    }\n  }\n\n  return ruleObj;\n}\n","import 'styled-components/macro';\nimport React from 'react';\nimport styled from 'styled-components';\nimport { useField } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport { RRule } from 'rrule';\nimport {\n  Checkbox as _Checkbox,\n  FormGroup,\n  Radio,\n  TextInput,\n} from '@patternfly/react-core';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport FormField from '../../FormField';\nimport { required } from '../../../util/validators';\n\nconst RunOnRadio = styled(Radio)`\n  label {\n    display: block;\n    width: 100%;\n  }\n\n  :not(:last-of-type) {\n    margin-bottom: 10px;\n  }\n\n  select:not(:first-of-type) {\n    margin-left: 10px;\n  }\n`;\n\nconst RunEveryLabel = styled.p`\n  display: flex;\n  align-items: center;\n`;\n\nconst Checkbox = styled(_Checkbox)`\n  :not(:last-of-type) {\n    margin-right: 10px;\n  }\n`;\n\nexport function requiredPositiveInteger(i18n) {\n  return value => {\n    if (typeof value === 'number') {\n      if (!Number.isInteger(value)) {\n        return i18n._(t`This field must be an integer`);\n      }\n      if (value < 1) {\n        return i18n._(t`This field must be greater than 0`);\n      }\n    }\n    if (!value) {\n      return i18n._(t`Select a value for this field`);\n    }\n    return undefined;\n  };\n}\n\nconst FrequencyDetailSubform = ({ i18n }) => {\n  const [runOnDayMonth] = useField({\n    name: 'runOnDayMonth',\n  });\n  const [runOnDayNumber] = useField({\n    name: 'runOnDayNumber',\n  });\n  const [runOnTheOccurrence] = useField({\n    name: 'runOnTheOccurrence',\n  });\n  const [runOnTheDay] = useField({\n    name: 'runOnTheDay',\n  });\n  const [runOnTheMonth] = useField({\n    name: 'runOnTheMonth',\n  });\n  const [startDateTime] = useField({\n    name: 'startDateTime',\n  });\n  const [daysOfWeek, daysOfWeekMeta, daysOfWeekHelpers] = useField({\n    name: 'daysOfWeek',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [end, endMeta] = useField({\n    name: 'end',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [interval, intervalMeta] = useField({\n    name: 'interval',\n    validate: requiredPositiveInteger(i18n),\n  });\n  const [runOn, runOnMeta] = useField({\n    name: 'runOn',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [endDateTime, endDateTimeMeta] = useField({\n    name: 'endDateTime',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [frequency] = useField({\n    name: 'frequency',\n  });\n  useField({\n    name: 'occurrences',\n    validate: requiredPositiveInteger(i18n),\n  });\n\n  const monthOptions = [\n    {\n      key: 'january',\n      value: 1,\n      label: i18n._(t`January`),\n    },\n    {\n      key: 'february',\n      value: 2,\n      label: i18n._(t`February`),\n    },\n    {\n      key: 'march',\n      value: 3,\n      label: i18n._(t`March`),\n    },\n    {\n      key: 'april',\n      value: 4,\n      label: i18n._(t`April`),\n    },\n    {\n      key: 'may',\n      value: 5,\n      label: i18n._(t`May`),\n    },\n    {\n      key: 'june',\n      value: 6,\n      label: i18n._(t`June`),\n    },\n    {\n      key: 'july',\n      value: 7,\n      label: i18n._(t`July`),\n    },\n    {\n      key: 'august',\n      value: 8,\n      label: i18n._(t`August`),\n    },\n    {\n      key: 'september',\n      value: 9,\n      label: i18n._(t`September`),\n    },\n    {\n      key: 'october',\n      value: 10,\n      label: i18n._(t`October`),\n    },\n    {\n      key: 'november',\n      value: 11,\n      label: i18n._(t`November`),\n    },\n    {\n      key: 'december',\n      value: 12,\n      label: i18n._(t`December`),\n    },\n  ];\n\n  const updateDaysOfWeek = (day, checked) => {\n    const newDaysOfWeek = [...daysOfWeek.value];\n    if (checked) {\n      newDaysOfWeek.push(day);\n      daysOfWeekHelpers.setValue(newDaysOfWeek);\n    } else {\n      daysOfWeekHelpers.setValue(\n        newDaysOfWeek.filter(selectedDay => selectedDay !== day)\n      );\n    }\n  };\n\n  const getRunEveryLabel = () => {\n    const intervalValue = interval.value;\n\n    switch (frequency.value) {\n      case 'minute':\n        return i18n._('{intervalValue, plural, one {minute} other {minutes}}', {\n          intervalValue,\n        });\n      case 'hour':\n        return i18n._('{intervalValue, plural, one {hour} other {hours}}', {\n          intervalValue,\n        });\n      case 'day':\n        return i18n._('{intervalValue, plural, one {day} other {days}}', {\n          intervalValue,\n        });\n      case 'week':\n        return i18n._('{intervalValue, plural, one {week} other {weeks}}', {\n          intervalValue,\n        });\n      case 'month':\n        return i18n._('{intervalValue, plural, one {month} other {months}}', {\n          intervalValue,\n        });\n      case 'year':\n        return i18n._('{intervalValue, plural, one {year} other {years}}', {\n          intervalValue,\n        });\n      default:\n        throw new Error(i18n._(t`Frequency did not match an expected value`));\n    }\n  };\n\n  /* eslint-disable no-restricted-globals */\n  return (\n    <>\n      <FormGroup\n        name=\"interval\"\n        fieldId=\"schedule-run-every\"\n        helperTextInvalid={intervalMeta.error}\n        isRequired\n        validated={\n          !intervalMeta.touched || !intervalMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Run every`)}\n      >\n        <div css=\"display: flex\">\n          <TextInput\n            css=\"margin-right: 10px;\"\n            id=\"schedule-run-every\"\n            type=\"number\"\n            min=\"1\"\n            step=\"1\"\n            {...interval}\n            onChange={(value, event) => {\n              interval.onChange(event);\n            }}\n          />\n          <RunEveryLabel>{getRunEveryLabel()}</RunEveryLabel>\n        </div>\n      </FormGroup>\n      {frequency?.value === 'week' && (\n        <FormGroup\n          name=\"daysOfWeek\"\n          fieldId=\"schedule-days-of-week\"\n          helperTextInvalid={daysOfWeekMeta.error}\n          isRequired\n          validated={\n            !daysOfWeekMeta.touched || !daysOfWeekMeta.error\n              ? 'default'\n              : 'error'\n          }\n          label={i18n._(t`On days`)}\n        >\n          <div css=\"display: flex\">\n            <Checkbox\n              label={i18n._(t`Sun`)}\n              isChecked={daysOfWeek.value.includes(RRule.SU)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.SU, checked);\n              }}\n              aria-label={i18n._(t`Sunday`)}\n              id=\"schedule-days-of-week-sun\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Mon`)}\n              isChecked={daysOfWeek.value.includes(RRule.MO)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.MO, checked);\n              }}\n              aria-label={i18n._(t`Monday`)}\n              id=\"schedule-days-of-week-mon\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Tue`)}\n              isChecked={daysOfWeek.value.includes(RRule.TU)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.TU, checked);\n              }}\n              aria-label={i18n._(t`Tuesday`)}\n              id=\"schedule-days-of-week-tue\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Wed`)}\n              isChecked={daysOfWeek.value.includes(RRule.WE)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.WE, checked);\n              }}\n              aria-label={i18n._(t`Wednesday`)}\n              id=\"schedule-days-of-week-wed\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Thu`)}\n              isChecked={daysOfWeek.value.includes(RRule.TH)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.TH, checked);\n              }}\n              aria-label={i18n._(t`Thursday`)}\n              id=\"schedule-days-of-week-thu\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Fri`)}\n              isChecked={daysOfWeek.value.includes(RRule.FR)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.FR, checked);\n              }}\n              aria-label={i18n._(t`Friday`)}\n              id=\"schedule-days-of-week-fri\"\n              name=\"daysOfWeek\"\n            />\n            <Checkbox\n              label={i18n._(t`Sat`)}\n              isChecked={daysOfWeek.value.includes(RRule.SA)}\n              onChange={checked => {\n                updateDaysOfWeek(RRule.SA, checked);\n              }}\n              aria-label={i18n._(t`Saturday`)}\n              id=\"schedule-days-of-week-sat\"\n              name=\"daysOfWeek\"\n            />\n          </div>\n        </FormGroup>\n      )}\n      {(frequency?.value === 'month' || frequency?.value === 'year') &&\n        !isNaN(new Date(startDateTime.value)) && (\n          <FormGroup\n            name=\"runOn\"\n            fieldId=\"schedule-run-on\"\n            helperTextInvalid={runOnMeta.error}\n            isRequired\n            validated={\n              !runOnMeta.touched || !runOnMeta.error ? 'default' : 'error'\n            }\n            label={i18n._(t`Run on`)}\n          >\n            <RunOnRadio\n              id=\"schedule-run-on-day\"\n              name=\"runOn\"\n              label={\n                <div css=\"display: flex;align-items: center;\">\n                  {frequency?.value === 'month' && (\n                    <span\n                      id=\"radio-schedule-run-on-day\"\n                      css=\"margin-right: 10px;\"\n                    >\n                      <Trans>Day</Trans>\n                    </span>\n                  )}\n                  {frequency?.value === 'year' && (\n                    <AnsibleSelect\n                      id=\"schedule-run-on-day-month\"\n                      css=\"margin-right: 10px\"\n                      isDisabled={runOn.value !== 'day'}\n                      data={monthOptions}\n                      {...runOnDayMonth}\n                    />\n                  )}\n                  <TextInput\n                    id=\"schedule-run-on-day-number\"\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"31\"\n                    step=\"1\"\n                    isDisabled={runOn.value !== 'day'}\n                    {...runOnDayNumber}\n                    onChange={(value, event) => {\n                      runOnDayNumber.onChange(event);\n                    }}\n                  />\n                </div>\n              }\n              value=\"day\"\n              isChecked={runOn.value === 'day'}\n              onChange={(value, event) => {\n                event.target.value = 'day';\n                runOn.onChange(event);\n              }}\n            />\n            <RunOnRadio\n              id=\"schedule-run-on-the\"\n              name=\"runOn\"\n              label={\n                <div css=\"display: flex;align-items: center;\">\n                  <span\n                    id=\"radio-schedule-run-on-the\"\n                    css=\"margin-right: 10px;\"\n                  >\n                    <Trans>The</Trans>\n                  </span>\n                  <AnsibleSelect\n                    id=\"schedule-run-on-the-occurrence\"\n                    isDisabled={runOn.value !== 'the'}\n                    data={[\n                      { value: 1, key: 'first', label: i18n._(t`First`) },\n                      {\n                        value: 2,\n                        key: 'second',\n                        label: i18n._(t`Second`),\n                      },\n                      { value: 3, key: 'third', label: i18n._(t`Third`) },\n                      {\n                        value: 4,\n                        key: 'fourth',\n                        label: i18n._(t`Fourth`),\n                      },\n                      { value: 5, key: 'fifth', label: i18n._(t`Fifth`) },\n                      { value: -1, key: 'last', label: i18n._(t`Last`) },\n                    ]}\n                    {...runOnTheOccurrence}\n                  />\n                  <AnsibleSelect\n                    id=\"schedule-run-on-the-day\"\n                    isDisabled={runOn.value !== 'the'}\n                    data={[\n                      {\n                        value: 'sunday',\n                        key: 'sunday',\n                        label: i18n._(t`Sunday`),\n                      },\n                      {\n                        value: 'monday',\n                        key: 'monday',\n                        label: i18n._(t`Monday`),\n                      },\n                      {\n                        value: 'tuesday',\n                        key: 'tuesday',\n                        label: i18n._(t`Tuesday`),\n                      },\n                      {\n                        value: 'wednesday',\n                        key: 'wednesday',\n                        label: i18n._(t`Wednesday`),\n                      },\n                      {\n                        value: 'thursday',\n                        key: 'thursday',\n                        label: i18n._(t`Thursday`),\n                      },\n                      {\n                        value: 'friday',\n                        key: 'friday',\n                        label: i18n._(t`Friday`),\n                      },\n                      {\n                        value: 'saturday',\n                        key: 'saturday',\n                        label: i18n._(t`Saturday`),\n                      },\n                      { value: 'day', key: 'day', label: i18n._(t`Day`) },\n                      {\n                        value: 'weekday',\n                        key: 'weekday',\n                        label: i18n._(t`Weekday`),\n                      },\n                      {\n                        value: 'weekendDay',\n                        key: 'weekendDay',\n                        label: i18n._(t`Weekend day`),\n                      },\n                    ]}\n                    {...runOnTheDay}\n                  />\n                  {frequency?.value === 'year' && (\n                    <>\n                      <span\n                        id=\"of-schedule-run-on-the-month\"\n                        css=\"margin-left: 10px;\"\n                      >\n                        <Trans>of</Trans>\n                      </span>\n                      <AnsibleSelect\n                        id=\"schedule-run-on-the-month\"\n                        isDisabled={runOn.value !== 'the'}\n                        data={monthOptions}\n                        {...runOnTheMonth}\n                      />\n                    </>\n                  )}\n                </div>\n              }\n              value=\"the\"\n              isChecked={runOn.value === 'the'}\n              onChange={(value, event) => {\n                event.target.value = 'the';\n                runOn.onChange(event);\n              }}\n            />\n          </FormGroup>\n        )}\n      <FormGroup\n        name=\"end\"\n        fieldId=\"schedule-end\"\n        helperTextInvalid={endMeta.error}\n        isRequired\n        validated={!endMeta.touched || !endMeta.error ? 'default' : 'error'}\n        label={i18n._(t`End`)}\n      >\n        <Radio\n          id=\"end-never\"\n          name=\"end\"\n          label={i18n._(t`Never`)}\n          value=\"never\"\n          isChecked={end.value === 'never'}\n          onChange={(value, event) => {\n            event.target.value = 'never';\n            end.onChange(event);\n          }}\n        />\n        <Radio\n          id=\"end-after\"\n          name=\"end\"\n          label={i18n._(t`After number of occurrences`)}\n          value=\"after\"\n          isChecked={end.value === 'after'}\n          onChange={(value, event) => {\n            event.target.value = 'after';\n            end.onChange(event);\n          }}\n        />\n        <Radio\n          id=\"end-on-date\"\n          name=\"end\"\n          label={i18n._(t`On date`)}\n          value=\"onDate\"\n          isChecked={end.value === 'onDate'}\n          onChange={(value, event) => {\n            event.target.value = 'onDate';\n            end.onChange(event);\n          }}\n        />\n      </FormGroup>\n      {end?.value === 'after' && (\n        <FormField\n          id=\"schedule-occurrences\"\n          label={i18n._(t`Occurrences`)}\n          name=\"occurrences\"\n          type=\"number\"\n          min=\"1\"\n          step=\"1\"\n          validate={required(null, i18n)}\n          isRequired\n        />\n      )}\n      {end?.value === 'onDate' && (\n        <FormGroup\n          fieldId=\"schedule-end-datetime\"\n          helperTextInvalid={endDateTimeMeta.error}\n          isRequired\n          validated={\n            !endDateTimeMeta.touched || !endDateTimeMeta.error\n              ? 'default'\n              : 'error'\n          }\n          label={i18n._(t`End date/time`)}\n        >\n          <input\n            className=\"pf-c-form-control\"\n            type=\"datetime-local\"\n            id=\"schedule-end-datetime\"\n            step=\"1\"\n            {...endDateTime}\n          />\n        </FormGroup>\n      )}\n    </>\n  );\n  /* eslint-enable no-restricted-globals */\n};\n\nexport default withI18n()(FrequencyDetailSubform);\n","import React, { useEffect, useCallback } from 'react';\nimport { shape, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField } from 'formik';\nimport { RRule } from 'rrule';\nimport { Form, FormGroup, Title } from '@patternfly/react-core';\nimport { Config } from '../../../contexts/Config';\nimport { SchedulesAPI } from '../../../api';\nimport AnsibleSelect from '../../AnsibleSelect';\nimport ContentError from '../../ContentError';\nimport ContentLoading from '../../ContentLoading';\nimport FormActionGroup from '../../FormActionGroup/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../FormField';\nimport { FormColumnLayout, SubFormLayout } from '../../FormLayout';\nimport { dateToInputDateTime, formatDateStringUTC } from '../../../util/dates';\nimport useRequest from '../../../util/useRequest';\nimport { required } from '../../../util/validators';\nimport FrequencyDetailSubform from './FrequencyDetailSubform';\n\nconst generateRunOnTheDay = (days = []) => {\n  if (\n    [\n      RRule.MO,\n      RRule.TU,\n      RRule.WE,\n      RRule.TH,\n      RRule.FR,\n      RRule.SA,\n      RRule.SU,\n    ].every(element => days.indexOf(element) > -1)\n  ) {\n    return 'day';\n  }\n  if (\n    [RRule.MO, RRule.TU, RRule.WE, RRule.TH, RRule.FR].every(\n      element => days.indexOf(element) > -1\n    )\n  ) {\n    return 'weekday';\n  }\n  if ([RRule.SA, RRule.SU].every(element => days.indexOf(element) > -1)) {\n    return 'weekendDay';\n  }\n  if (days.indexOf(RRule.MO) > -1) {\n    return 'monday';\n  }\n  if (days.indexOf(RRule.TU) > -1) {\n    return 'tuesday';\n  }\n  if (days.indexOf(RRule.WE) > -1) {\n    return 'wednesday';\n  }\n  if (days.indexOf(RRule.TH) > -1) {\n    return 'thursday';\n  }\n  if (days.indexOf(RRule.FR) > -1) {\n    return 'friday';\n  }\n  if (days.indexOf(RRule.SA) > -1) {\n    return 'saturday';\n  }\n  if (days.indexOf(RRule.SU) > -1) {\n    return 'sunday';\n  }\n\n  return null;\n};\n\nfunction ScheduleFormFields({ i18n, zoneOptions }) {\n  const [startDateTime, startDateTimeMeta] = useField({\n    name: 'startDateTime',\n    validate: required(\n      i18n._(t`Select a valid date and time for this field`),\n      i18n\n    ),\n  });\n  const [timezone, timezoneMeta] = useField({\n    name: 'timezone',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [frequency, frequencyMeta] = useField({\n    name: 'frequency',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  return (\n    <>\n      <FormField\n        id=\"schedule-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"schedule-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <FormGroup\n        fieldId=\"schedule-start-datetime\"\n        helperTextInvalid={startDateTimeMeta.error}\n        isRequired\n        validated={\n          !startDateTimeMeta.touched || !startDateTimeMeta.error\n            ? 'default'\n            : 'error'\n        }\n        label={i18n._(t`Start date/time`)}\n      >\n        <input\n          className=\"pf-c-form-control\"\n          type=\"datetime-local\"\n          id=\"schedule-start-datetime\"\n          step=\"1\"\n          {...startDateTime}\n        />\n      </FormGroup>\n      <FormGroup\n        name=\"timezone\"\n        fieldId=\"schedule-timezone\"\n        helperTextInvalid={timezoneMeta.error}\n        isRequired\n        validated={\n          !timezoneMeta.touched || !timezoneMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Local time zone`)}\n      >\n        <AnsibleSelect\n          id=\"schedule-timezone\"\n          data={zoneOptions}\n          {...timezone}\n        />\n      </FormGroup>\n      <FormGroup\n        name=\"frequency\"\n        fieldId=\"schedule-requency\"\n        helperTextInvalid={frequencyMeta.error}\n        isRequired\n        validated={\n          !frequencyMeta.touched || !frequencyMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Run frequency`)}\n      >\n        <AnsibleSelect\n          id=\"schedule-frequency\"\n          data={[\n            { value: 'none', key: 'none', label: i18n._(t`None (run once)`) },\n            { value: 'minute', key: 'minute', label: i18n._(t`Minute`) },\n            { value: 'hour', key: 'hour', label: i18n._(t`Hour`) },\n            { value: 'day', key: 'day', label: i18n._(t`Day`) },\n            { value: 'week', key: 'week', label: i18n._(t`Week`) },\n            { value: 'month', key: 'month', label: i18n._(t`Month`) },\n            { value: 'year', key: 'year', label: i18n._(t`Year`) },\n          ]}\n          {...frequency}\n        />\n      </FormGroup>\n      {frequency.value !== 'none' && (\n        <SubFormLayout>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {i18n._(t`Frequency Details`)}\n          </Title>\n          <FormColumnLayout>\n            <FrequencyDetailSubform />\n          </FormColumnLayout>\n        </SubFormLayout>\n      )}\n    </>\n  );\n}\n\nfunction ScheduleForm({\n  handleCancel,\n  handleSubmit,\n  i18n,\n  schedule,\n  submitError,\n  ...rest\n}) {\n  let rruleError;\n  const now = new Date();\n  const closestQuarterHour = new Date(\n    Math.ceil(now.getTime() / 900000) * 900000\n  );\n  const tomorrow = new Date(closestQuarterHour);\n  tomorrow.setDate(tomorrow.getDate() + 1);\n\n  const initialValues = {\n    daysOfWeek: [],\n    description: schedule.description || '',\n    end: 'never',\n    endDateTime: dateToInputDateTime(tomorrow),\n    frequency: 'none',\n    interval: 1,\n    name: schedule.name || '',\n    occurrences: 1,\n    runOn: 'day',\n    runOnDayMonth: 1,\n    runOnDayNumber: 1,\n    runOnTheDay: 'sunday',\n    runOnTheMonth: 1,\n    runOnTheOccurrence: 1,\n    startDateTime: dateToInputDateTime(closestQuarterHour),\n    timezone: schedule.timezone || 'America/New_York',\n  };\n\n  const overriddenValues = {};\n\n  if (Object.keys(schedule).length > 0) {\n    if (schedule.rrule) {\n      try {\n        const {\n          origOptions: {\n            bymonth,\n            bymonthday,\n            bysetpos,\n            byweekday,\n            count,\n            dtstart,\n            freq,\n            interval,\n          },\n        } = RRule.fromString(schedule.rrule.replace(' ', '\\n'));\n\n        if (dtstart) {\n          overriddenValues.startDateTime = dateToInputDateTime(\n            new Date(formatDateStringUTC(dtstart))\n          );\n        }\n\n        if (schedule.until) {\n          overriddenValues.end = 'onDate';\n          overriddenValues.endDateTime = schedule.until;\n        } else if (count) {\n          overriddenValues.end = 'after';\n          overriddenValues.occurrences = count;\n        }\n\n        if (interval) {\n          overriddenValues.interval = interval;\n        }\n\n        if (typeof freq === 'number') {\n          switch (freq) {\n            case RRule.MINUTELY:\n              if (schedule.dtstart !== schedule.dtend) {\n                overriddenValues.frequency = 'minute';\n              }\n              break;\n            case RRule.HOURLY:\n              overriddenValues.frequency = 'hour';\n              break;\n            case RRule.DAILY:\n              overriddenValues.frequency = 'day';\n              break;\n            case RRule.WEEKLY:\n              overriddenValues.frequency = 'week';\n              if (byweekday) {\n                overriddenValues.daysOfWeek = byweekday;\n              }\n              break;\n            case RRule.MONTHLY:\n              overriddenValues.frequency = 'month';\n              if (bymonthday) {\n                overriddenValues.runOnDayNumber = bymonthday;\n              } else if (bysetpos) {\n                overriddenValues.runOn = 'the';\n                overriddenValues.runOnTheOccurrence = bysetpos;\n                overriddenValues.runOnTheDay = generateRunOnTheDay(byweekday);\n              }\n              break;\n            case RRule.YEARLY:\n              overriddenValues.frequency = 'year';\n              if (bymonthday) {\n                overriddenValues.runOnDayNumber = bymonthday;\n                overriddenValues.runOnDayMonth = bymonth;\n              } else if (bysetpos) {\n                overriddenValues.runOn = 'the';\n                overriddenValues.runOnTheOccurrence = bysetpos;\n                overriddenValues.runOnTheDay = generateRunOnTheDay(byweekday);\n                overriddenValues.runOnTheMonth = bymonth;\n              }\n              break;\n            default:\n              break;\n          }\n        }\n      } catch (error) {\n        rruleError = error;\n      }\n    } else {\n      rruleError = new Error(i18n._(t`Schedule is missing rrule`));\n    }\n  }\n\n  const {\n    request: loadZoneInfo,\n    error: contentError,\n    contentLoading,\n    result: zoneOptions,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await SchedulesAPI.readZoneInfo();\n      return data.map(zone => {\n        return {\n          value: zone.name,\n          key: zone.name,\n          label: zone.name,\n        };\n      });\n    }, [])\n  );\n\n  useEffect(() => {\n    loadZoneInfo();\n  }, [loadZoneInfo]);\n\n  if (contentError || rruleError) {\n    return <ContentError error={contentError || rruleError} />;\n  }\n\n  if (contentLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <Config>\n      {() => {\n        return (\n          <Formik\n            initialValues={Object.assign(initialValues, overriddenValues)}\n            onSubmit={handleSubmit}\n            validate={values => {\n              const errors = {};\n              const {\n                end,\n                endDateTime,\n                frequency,\n                runOn,\n                runOnDayNumber,\n                startDateTime,\n              } = values;\n\n              if (\n                end === 'onDate' &&\n                new Date(startDateTime) > new Date(endDateTime)\n              ) {\n                errors.endDateTime = i18n._(\n                  t`Please select an end date/time that comes after the start date/time.`\n                );\n              }\n\n              if (\n                (frequency === 'month' || frequency === 'year') &&\n                runOn === 'day' &&\n                (runOnDayNumber < 1 || runOnDayNumber > 31)\n              ) {\n                errors.runOn = i18n._(\n                  t`Please select a day number between 1 and 31.`\n                );\n              }\n\n              return errors;\n            }}\n          >\n            {formik => (\n              <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n                <FormColumnLayout>\n                  <ScheduleFormFields\n                    i18n={i18n}\n                    zoneOptions={zoneOptions}\n                    {...rest}\n                  />\n                  <FormSubmitError error={submitError} />\n                  <FormActionGroup\n                    onCancel={handleCancel}\n                    onSubmit={formik.handleSubmit}\n                  />\n                </FormColumnLayout>\n              </Form>\n            )}\n          </Formik>\n        );\n      }}\n    </Config>\n  );\n}\n\nScheduleForm.propTypes = {\n  handleCancel: func.isRequired,\n  handleSubmit: func.isRequired,\n  schedule: shape({}),\n  submitError: shape(),\n};\n\nScheduleForm.defaultProps = {\n  schedule: {},\n  submitError: null,\n};\n\nexport default withI18n()(ScheduleForm);\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { RRule } from 'rrule';\nimport { shape } from 'prop-types';\nimport { Card } from '@patternfly/react-core';\nimport { CardBody } from '../../Card';\nimport { SchedulesAPI } from '../../../api';\nimport buildRuleObj from '../shared/buildRuleObj';\nimport ScheduleForm from '../shared/ScheduleForm';\n\nfunction ScheduleEdit({ i18n, schedule }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n  const { pathname } = location;\n  const pathRoot = pathname.substr(0, pathname.indexOf('schedules'));\n\n  const handleSubmit = async values => {\n    try {\n      const rule = new RRule(buildRuleObj(values, i18n));\n      const {\n        data: { id: scheduleId },\n      } = await SchedulesAPI.update(schedule.id, {\n        name: values.name,\n        description: values.description,\n        rrule: rule.toString().replace(/\\n/g, ' '),\n      });\n\n      history.push(`${pathRoot}schedules/${scheduleId}/details`);\n    } catch (err) {\n      setFormSubmitError(err);\n    }\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <ScheduleForm\n          schedule={schedule}\n          handleCancel={() =>\n            history.push(`${pathRoot}schedules/${schedule.id}/details`)\n          }\n          handleSubmit={handleSubmit}\n          submitError={formSubmitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\nScheduleEdit.propTypes = {\n  schedule: shape({}).isRequired,\n};\n\nScheduleEdit.defaultProps = {};\n\nexport default withI18n()(ScheduleEdit);\n","import React, { useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\n\nimport {\n  Switch,\n  Route,\n  Link,\n  Redirect,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport RoutedTabs from '../RoutedTabs';\nimport ContentError from '../ContentError';\nimport ContentLoading from '../ContentLoading';\nimport ScheduleDetail from './ScheduleDetail';\nimport ScheduleEdit from './ScheduleEdit';\nimport { SchedulesAPI } from '../../api';\n\nfunction Schedule({ i18n, setBreadcrumb, unifiedJobTemplate }) {\n  const [schedule, setSchedule] = useState(null);\n  const [contentLoading, setContentLoading] = useState(true);\n  const [contentError, setContentError] = useState(null);\n  const { scheduleId } = useParams();\n  const location = useLocation();\n  const { pathname } = location;\n  const pathRoot = pathname.substr(0, pathname.indexOf('schedules'));\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const { data } = await SchedulesAPI.readDetail(scheduleId);\n        setSchedule(data);\n      } catch (err) {\n        setContentError(err);\n      } finally {\n        setContentLoading(false);\n      }\n    };\n\n    loadData();\n  }, [location.pathname, scheduleId]);\n\n  useEffect(() => {\n    if (schedule) {\n      setBreadcrumb(unifiedJobTemplate, schedule);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [schedule, unifiedJobTemplate]);\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Schedules`)}\n        </>\n      ),\n      link: `${pathRoot}schedules`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${pathRoot}schedules/${schedule && schedule.id}/details`,\n      id: 0,\n    },\n  ];\n\n  if (contentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (\n    schedule.summary_fields.unified_job_template.id !==\n    parseInt(unifiedJobTemplate.id, 10)\n  ) {\n    return (\n      <ContentError>\n        {schedule && (\n          <Link to={`${pathRoot}schedules`}>{i18n._(t`View Schedules`)}</Link>\n        )}\n      </ContentError>\n    );\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  let showCardHeader = true;\n\n  if (\n    !location.pathname.includes('schedules/') ||\n    location.pathname.endsWith('edit')\n  ) {\n    showCardHeader = false;\n  }\n  return (\n    <>\n      {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n      <Switch>\n        <Redirect\n          from={`${pathRoot}schedules/:scheduleId`}\n          to={`${pathRoot}schedules/:scheduleId/details`}\n          exact\n        />\n        {schedule && [\n          <Route key=\"edit\" path={`${pathRoot}schedules/:id/edit`}>\n            <ScheduleEdit schedule={schedule} />\n          </Route>,\n          <Route\n            key=\"details\"\n            path={`${pathRoot}schedules/:scheduleId/details`}\n          >\n            <ScheduleDetail schedule={schedule} />\n          </Route>,\n        ]}\n        <Route key=\"not-found\" path=\"*\">\n          <ContentError>\n            {unifiedJobTemplate && (\n              <Link to={`${pathRoot}details`}>{i18n._(t`View Details`)}</Link>\n            )}\n          </ContentError>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Schedule as _Schedule };\nexport default withI18n()(Schedule);\n","import React, { useState } from 'react';\nimport { func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { RRule } from 'rrule';\nimport { Card } from '@patternfly/react-core';\nimport { CardBody } from '../../Card';\nimport buildRuleObj from '../shared/buildRuleObj';\nimport ScheduleForm from '../shared/ScheduleForm';\n\nfunction ScheduleAdd({ i18n, createSchedule }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n  const location = useLocation();\n  const { pathname } = location;\n  const pathRoot = pathname.substr(0, pathname.indexOf('schedules'));\n\n  const handleSubmit = async values => {\n    try {\n      const rule = new RRule(buildRuleObj(values, i18n));\n      const {\n        data: { id: scheduleId },\n      } = await createSchedule({\n        name: values.name,\n        description: values.description,\n        rrule: rule.toString().replace(/\\n/g, ' '),\n      });\n\n      history.push(`${pathRoot}schedules/${scheduleId}`);\n    } catch (err) {\n      setFormSubmitError(err);\n    }\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <ScheduleForm\n          handleCancel={() => history.push(`${pathRoot}schedules`)}\n          handleSubmit={handleSubmit}\n          submitError={formSubmitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\nScheduleAdd.propTypes = {\n  createSchedule: func.isRequired,\n};\n\nScheduleAdd.defaultProps = {};\n\nexport default withI18n()(ScheduleAdd);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../DataListCell';\nimport { DetailList, Detail } from '../../DetailList';\nimport { ScheduleToggle } from '..';\nimport { Schedule } from '../../../types';\nimport { formatDateString } from '../../../util/dates';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 92px 40px;\n`;\n\nfunction ScheduleListItem({ i18n, isSelected, onSelect, schedule }) {\n  const labelId = `check-action-${schedule.id}`;\n\n  const jobTypeLabels = {\n    inventory_update: i18n._(t`Inventory Sync`),\n    job: i18n._(t`Playbook Run`),\n    project_update: i18n._(t`Source Control Update`),\n    system_job: i18n._(t`Management Job`),\n    workflow_job: i18n._(t`Workflow Job`),\n  };\n\n  let scheduleBaseUrl;\n\n  switch (schedule.summary_fields.unified_job_template.unified_job_type) {\n    case 'inventory_update':\n      scheduleBaseUrl = `/inventories/inventory/${schedule.summary_fields.inventory.id}/sources/${schedule.summary_fields.unified_job_template.id}/schedules/${schedule.id}`;\n      break;\n    case 'job':\n      scheduleBaseUrl = `/templates/job_template/${schedule.summary_fields.unified_job_template.id}/schedules/${schedule.id}`;\n      break;\n    case 'project_update':\n      scheduleBaseUrl = `/projects/${schedule.summary_fields.unified_job_template.id}/schedules/${schedule.id}`;\n      break;\n    case 'system_job':\n      scheduleBaseUrl = `/management_jobs/${schedule.summary_fields.unified_job_template.id}/schedules/${schedule.id}`;\n      break;\n    case 'workflow_job':\n      scheduleBaseUrl = `/templates/workflow_job_template/${schedule.summary_fields.unified_job_template.id}/schedules/${schedule.id}`;\n      break;\n    default:\n      break;\n  }\n\n  return (\n    <DataListItem\n      key={schedule.id}\n      aria-labelledby={labelId}\n      id={`${schedule.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-schedule-${schedule.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${scheduleBaseUrl}/details`}>\n                <b>{schedule.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {\n                jobTypeLabels[\n                  schedule.summary_fields.unified_job_template.unified_job_type\n                ]\n              }\n            </DataListCell>,\n            <DataListCell key=\"next_run\">\n              {schedule.next_run && (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`下一次运行`)}\n                    value={formatDateString(schedule.next_run)}\n                  />\n                </DetailList>\n              )}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n          key=\"actions\"\n        >\n          <ScheduleToggle schedule={schedule} />\n          {schedule.summary_fields.user_capabilities.edit ? (\n            <Tooltip content={i18n._(t`Edit Schedule`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`Edit Schedule`)}\n                css=\"grid-column: 2\"\n                variant=\"plain\"\n                component={Link}\n                to={`${scheduleBaseUrl}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nScheduleListItem.propTypes = {\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n  schedule: Schedule.isRequired,\n};\n\nexport default withI18n()(ScheduleListItem);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { SchedulesAPI } from '../../../api';\nimport AlertModal from '../../AlertModal';\nimport ErrorDetail from '../../ErrorDetail';\nimport DataListToolbar from '../../DataListToolbar';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport ScheduleListItem from './ScheduleListItem';\n\nconst QS_CONFIG = getQSConfig('schedule', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction ScheduleList({\n  i18n,\n  loadSchedules,\n  loadScheduleOptions,\n  hideAddButton,\n}) {\n  const [selected, setSelected] = useState([]);\n\n  const location = useLocation();\n\n  const {\n    result: {\n      schedules,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchSchedules,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { count, results },\n        },\n        scheduleActions,\n      ] = await Promise.all([loadSchedules(params), loadScheduleOptions()]);\n      return {\n        schedules: results,\n        itemCount: count,\n        actions: scheduleActions.data.actions,\n        relatedSearchableKeys: (\n          scheduleActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          scheduleActions.data.actions?.GET || {}\n        ).filter(key => scheduleActions.data.actions?.GET[key].filterable),\n      };\n    }, [location.search, loadSchedules, loadScheduleOptions]),\n    {\n      schedules: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchSchedules();\n  }, [fetchSchedules]);\n\n  const isAllSelected =\n    selected.length === schedules.length && selected.length > 0;\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteJobs,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      return Promise.all(selected.map(({ id }) => SchedulesAPI.destroy(id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchSchedules,\n    }\n  );\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...schedules] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n\n  const handleDelete = async () => {\n    await deleteJobs();\n    setSelected([]);\n  };\n\n  const canAdd =\n    actions &&\n    Object.prototype.hasOwnProperty.call(actions, 'POST') &&\n    !hideAddButton;\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDeleteLoading}\n        items={schedules}\n        itemCount={itemCount}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        renderItem={item => (\n          <ScheduleListItem\n            isSelected={selected.some(row => row.id === item.id)}\n            key={item.id}\n            onSelect={() => handleSelect(item)}\n            schedule={item}\n          />\n        )}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`描述`),\n            key: 'description__icontains',\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n          {\n            name: i18n._(t`下一次运行`),\n            key: 'next_run',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={handleSelectAll}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      linkTo={`${location.pathname}/add`}\n                    />,\n                  ]\n                : []),\n              <ToolbarDeleteButton\n                key=\"delete\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={i18n._(t`计划`)}\n              />,\n            ]}\n          />\n        )}\n      />\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"danger\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more schedules.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nScheduleList.propTypes = {\n  hideAddButton: bool,\n  loadSchedules: func.isRequired,\n  loadScheduleOptions: func.isRequired,\n};\nScheduleList.defaultProps = {\n  hideAddButton: false,\n};\n\nexport default withI18n()(ScheduleList);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { Switch, Route, useRouteMatch } from 'react-router-dom';\nimport Schedule from './Schedule';\nimport ScheduleAdd from './ScheduleAdd';\nimport ScheduleList from './ScheduleList';\n\nfunction Schedules({\n  createSchedule,\n  loadScheduleOptions,\n  loadSchedules,\n  setBreadcrumb,\n  unifiedJobTemplate,\n}) {\n  const match = useRouteMatch();\n\n  return (\n    <Switch>\n      <Route path={`${match.path}/add`}>\n        <ScheduleAdd createSchedule={createSchedule} />\n      </Route>\n      <Route key=\"details\" path={`${match.path}/:scheduleId`}>\n        <Schedule\n          unifiedJobTemplate={unifiedJobTemplate}\n          setBreadcrumb={setBreadcrumb}\n        />\n      </Route>\n      <Route key=\"list\" path={`${match.path}`}>\n        <ScheduleList\n          loadSchedules={loadSchedules}\n          loadScheduleOptions={loadScheduleOptions}\n        />\n      </Route>\n    </Switch>\n  );\n}\n\nexport { Schedules as _Schedules };\nexport default withI18n()(Schedules);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { SyncIcon, MinusCircleIcon } from '@patternfly/react-icons';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail/ErrorDetail';\nimport { InventoryUpdatesAPI, InventorySourcesAPI } from '../../../api';\n\nfunction InventorySourceSyncButton({ source, icon, i18n }) {\n  const {\n    isLoading: startSyncLoading,\n    error: startSyncError,\n    request: startSyncProcess,\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: { status },\n      } = await InventorySourcesAPI.createSyncStart(source.id);\n\n      return status;\n    }, [source.id]),\n    {}\n  );\n\n  const {\n    isLoading: cancelSyncLoading,\n    error: cancelSyncError,\n    request: cancelSyncProcess,\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: {\n          summary_fields: {\n            current_update: { id },\n          },\n        },\n      } = await InventorySourcesAPI.readDetail(source.id);\n\n      await InventoryUpdatesAPI.createSyncCancel(id);\n    }, [source.id])\n  );\n\n  const {\n    error: startError,\n    dismissError: dismissStartError,\n  } = useDismissableError(startSyncError);\n  const {\n    error: cancelError,\n    dismissError: dismissCancelError,\n  } = useDismissableError(cancelSyncError);\n\n  return (\n    <>\n      {['running', 'pending', 'updating'].includes(source.status) ? (\n        <Tooltip content={i18n._(t`Cancel sync process`)} position=\"top\">\n          <Button\n            isDisabled={cancelSyncLoading || startSyncLoading}\n            aria-label={i18n._(t`Cancel sync source`)}\n            variant={icon ? 'plain' : 'secondary'}\n            onClick={cancelSyncProcess}\n          >\n            {icon ? <MinusCircleIcon /> : i18n._(t`Cancel sync`)}\n          </Button>\n        </Tooltip>\n      ) : (\n        <Tooltip content={i18n._(t`Start sync process`)} position=\"top\">\n          <Button\n            isDisabled={cancelSyncLoading || startSyncLoading}\n            aria-label={i18n._(t`开始同步源`)}\n            variant={icon ? 'plain' : 'secondary'}\n            onClick={startSyncProcess}\n          >\n            {icon ? <SyncIcon /> : i18n._(t`同步`)}\n          </Button>\n        </Tooltip>\n      )}\n      {startError && (\n        <AlertModal\n          isOpen={startError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissStartError}\n        >\n          {i18n._(t`Failed to sync inventory source.`)}\n          <ErrorDetail error={startError} />\n        </AlertModal>\n      )}\n      {cancelError && (\n        <AlertModal\n          isOpen={cancelError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissCancelError}\n        >\n          {i18n._(t`Failed to cancel inventory source sync.`)}\n          <ErrorDetail error={cancelError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nInventorySourceSyncButton.defaultProps = {\n  source: {},\n  icon: true,\n};\n\nInventorySourceSyncButton.propTypes = {\n  source: PropTypes.shape({}),\n  icon: PropTypes.bool,\n};\n\nexport default withI18n()(InventorySourceSyncButton);\n","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Button, List, ListItem } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport CredentialChip from '../../../components/CredentialChip';\nimport DeleteButton from '../../../components/DeleteButton';\nimport InventorySourceSyncButton from '../shared/InventorySourceSyncButton';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport Popover from '../../../components/Popover';\nimport useRequest from '../../../util/useRequest';\nimport { InventorySourcesAPI } from '../../../api';\n\nfunction InventorySourceDetail({ inventorySource, i18n }) {\n  const {\n    created,\n    custom_virtualenv,\n    description,\n    id,\n    modified,\n    name,\n    overwrite,\n    overwrite_vars,\n    source,\n    source_path,\n    source_vars,\n    update_cache_timeout,\n    update_on_launch,\n    update_on_project_update,\n    verbosity,\n    enabled_var,\n    enabled_value,\n    host_filter,\n    summary_fields: {\n      created_by,\n      credentials,\n      inventory,\n      modified_by,\n      organization,\n      source_project,\n      user_capabilities,\n    },\n  } = inventorySource;\n  const [deletionError, setDeletionError] = useState(false);\n  const history = useHistory();\n  const isMounted = useRef(null);\n\n  const {\n    result: sourceChoices,\n    error,\n    isLoading,\n    request: fetchSourceChoices,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InventorySourcesAPI.readOptions();\n      return Object.assign(\n        ...data.actions.GET.source.choices.map(([key, val]) => ({ [key]: val }))\n      );\n    }, []),\n    {}\n  );\n\n  useEffect(() => {\n    isMounted.current = true;\n    fetchSourceChoices();\n    return () => {\n      isMounted.current = false;\n    };\n  }, [fetchSourceChoices]);\n\n  const handleDelete = async () => {\n    try {\n      await Promise.all([\n        InventorySourcesAPI.destroyHosts(id),\n        InventorySourcesAPI.destroyGroups(id),\n        InventorySourcesAPI.destroy(id),\n      ]);\n      history.push(`/inventories/inventory/${inventory.id}/sources`);\n    } catch (err) {\n      if (isMounted.current) {\n        setDeletionError(err);\n      }\n    }\n  };\n\n  const VERBOSITY = {\n    0: i18n._(t`0 (Warning)`),\n    1: i18n._(t`1 (Info)`),\n    2: i18n._(t`2 (Debug)`),\n  };\n\n  let optionsList = '';\n  if (\n    overwrite ||\n    overwrite_vars ||\n    update_on_launch ||\n    update_on_project_update\n  ) {\n    optionsList = (\n      <List>\n        {overwrite && (\n          <ListItem>\n            {i18n._(t`Overwrite`)}\n            <Popover\n              content={\n                <>\n                  {i18n._(t`If checked, any hosts and groups that were\n          previously present on the external source but are now removed\n          will be removed from the Tower inventory. Hosts and groups\n          that were not managed by the inventory source will be promoted\n          to the next manually created group or if there is no manually\n          created group to promote them into, they will be left in the \"all\"\n          default group for the inventory.`)}\n                  <br />\n                  <br />\n                  {i18n._(t`When not checked, local child\n          hosts and groups not found on the external source will remain\n          untouched by the inventory update process.`)}\n                </>\n              }\n            />\n          </ListItem>\n        )}\n        {overwrite_vars && (\n          <ListItem>\n            {i18n._(t`Overwrite variables`)}\n            <Popover\n              content={\n                <>\n                  {i18n._(t`If checked, all variables for child groups\n                  and hosts will be removed and replaced by those found\n                  on the external source.`)}\n                  <br />\n                  <br />\n                  {i18n._(t`When not checked, a merge will be performed,\n                  combining local variables with those found on the\n                  external source.`)}\n                </>\n              }\n            />\n          </ListItem>\n        )}\n        {update_on_launch && (\n          <ListItem>\n            {i18n._(t`Update on launch`)}\n            <Popover\n              content={i18n._(t`Each time a job runs using this inventory,\n        refresh the inventory from the selected source before\n        executing job tasks.`)}\n            />\n          </ListItem>\n        )}\n        {update_on_project_update && (\n          <ListItem>\n            {i18n._(t`Update on project update`)}\n            <Popover\n              content={i18n._(t`After every project update where the SCM revision\n        changes, refresh the inventory from the selected source\n        before executing job tasks. This is intended for static content,\n        like the Ansible inventory .ini file format.`)}\n            />\n          </ListItem>\n        )}\n      </List>\n    );\n  }\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail label={i18n._(t`名称`)} value={name} />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail label={i18n._(t`Source`)} value={sourceChoices[source]} />\n        {organization && (\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link to={`/organizations/${organization.id}/details`}>\n                {organization.name}\n              </Link>\n            }\n          />\n        )}\n        <Detail\n          label={i18n._(t`Ansible environment`)}\n          value={custom_virtualenv}\n        />\n        {source_project && (\n          <Detail\n            label={i18n._(t`项目`)}\n            value={\n              <Link to={`/projects/${source_project.id}/details`}>\n                {source_project.name}\n              </Link>\n            }\n          />\n        )}\n        {source === 'scm' ? (\n          <Detail\n            label={i18n._(t`Inventory file`)}\n            value={\n              source_path === '' ? i18n._(t`/ (project root)`) : source_path\n            }\n          />\n        ) : null}\n        <Detail label={i18n._(t`详细程度`)} value={VERBOSITY[verbosity]} />\n        <Detail\n          label={i18n._(t`Cache timeout`)}\n          value={`${update_cache_timeout} ${i18n._(t`seconds`)}`}\n        />\n        <Detail label={i18n._(t`Host Filter`)} value={host_filter} />\n        <Detail label={i18n._(t`Enabled Variable`)} value={enabled_var} />\n        <Detail label={i18n._(t`Enabled Value`)} value={enabled_value} />\n        {credentials?.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Credential`)}\n            value={credentials.map(cred => (\n              <CredentialChip key={cred?.id} credential={cred} isReadOnly />\n            ))}\n          />\n        )}\n        {optionsList && (\n          <Detail fullWidth label={i18n._(t`Options`)} value={optionsList} />\n        )}\n        {source_vars && (\n          <VariablesDetail\n            label={i18n._(t`Source variables`)}\n            rows={4}\n            value={source_vars}\n          />\n        )}\n        <UserDateDetail\n          date={created}\n          label={i18n._(t`已创建`)}\n          user={created_by}\n        />\n        <UserDateDetail\n          date={modified}\n          label={i18n._(t`Last modified`)}\n          user={modified_by}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {user_capabilities?.edit && (\n          <Button\n            component={Link}\n            aria-label={i18n._(t`edit`)}\n            to={`/inventories/inventory/${inventory.id}/sources/${id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {user_capabilities?.start && (\n          <InventorySourceSyncButton source={inventorySource} icon={false} />\n        )}\n        {user_capabilities?.delete && (\n          <DeleteButton\n            name={name}\n            modalTitle={i18n._(t`Delete inventory source`)}\n            onConfirm={handleDelete}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {deletionError && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={deletionError}\n          onClose={() => setDeletionError(false)}\n        >\n          {i18n._(t`Failed to delete inventory source ${name}.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nexport default withI18n()(InventorySourceDetail);\n","import React, { useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { FormGroup } from '@patternfly/react-core';\nimport { minMaxValue, regExp } from '../../../../util/validators';\nimport AnsibleSelect from '../../../../components/AnsibleSelect';\nimport { VariablesField } from '../../../../components/CodeMirrorInput';\nimport FormField, { CheckboxField } from '../../../../components/FormField';\nimport {\n  FormFullWidthLayout,\n  FormCheckboxLayout,\n} from '../../../../components/FormLayout';\nimport Popover from '../../../../components/Popover';\n\nexport const SourceVarsField = withI18n()(({ i18n, popoverContent }) => {\n  const jsonExample = `\n  {\n    \"somevar\": \"somevalue\"\n    \"somepassword\": \"Magic\"\n  }\n`;\n  const yamlExample = `\n  ---\n  somevar: somevalue\n  somepassword: magic\n`;\n  return (\n    <FormFullWidthLayout>\n      <VariablesField\n        id=\"source_vars\"\n        name=\"source_vars\"\n        label={i18n._(t`Source variables`)}\n        tooltip={\n          <div>\n            {popoverContent}\n            <Trans>\n              Enter variables using either JSON or YAML syntax. Use the radio\n              button to toggle between the two.\n            </Trans>\n            <br />\n            <br />\n            <Trans>JSON:</Trans>\n            <pre>{jsonExample}</pre>\n            <br />\n            <Trans>YAML:</Trans>\n            <pre>{yamlExample}</pre>\n            <br />\n            <Trans>\n              View JSON examples at{' '}\n              <a\n                href=\"http://www.json.org\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                www.json.org\n              </a>\n            </Trans>\n            <br />\n            <Trans>\n              View YAML examples at{' '}\n              <a\n                href=\"http://docs.ansible.com/YAMLSyntax.html\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                docs.ansible.com\n              </a>\n            </Trans>\n          </div>\n        }\n      />\n    </FormFullWidthLayout>\n  );\n});\n\nexport const VerbosityField = withI18n()(({ i18n }) => {\n  const [field, meta, helpers] = useField('verbosity');\n  const isValid = !(meta.touched && meta.error);\n  const options = [\n    { value: '0', key: '0', label: i18n._(t`0 (Warning)`) },\n    { value: '1', key: '1', label: i18n._(t`1 (Info)`) },\n    { value: '2', key: '2', label: i18n._(t`2 (Debug)`) },\n  ];\n  return (\n    <FormGroup\n      fieldId=\"verbosity\"\n      validated={isValid ? 'default' : 'error'}\n      label={i18n._(t`详细程度`)}\n      labelIcon={\n        <Popover\n          content={i18n._(t`Control the level of output Ansible\n        will produce for inventory source update jobs.`)}\n        />\n      }\n    >\n      <AnsibleSelect\n        id=\"verbosity\"\n        data={options}\n        {...field}\n        onChange={(event, value) => helpers.setValue(value)}\n      />\n    </FormGroup>\n  );\n});\n\nexport const OptionsField = withI18n()(\n  ({ i18n, showProjectUpdate = false }) => {\n    const [updateOnLaunchField] = useField('update_on_launch');\n    const [, , updateCacheTimeoutHelper] = useField('update_cache_timeout');\n\n    useEffect(() => {\n      if (!updateOnLaunchField.value) {\n        updateCacheTimeoutHelper.setValue(0);\n      }\n    }, [updateOnLaunchField.value]); // eslint-disable-line react-hooks/exhaustive-deps\n\n    return (\n      <>\n        <FormFullWidthLayout>\n          <FormGroup\n            fieldId=\"option-checkboxes\"\n            label={i18n._(t`Update options`)}\n          >\n            <FormCheckboxLayout>\n              <CheckboxField\n                id=\"overwrite\"\n                name=\"overwrite\"\n                label={i18n._(t`Overwrite`)}\n                tooltip={\n                  <>\n                    {i18n._(t`If checked, any hosts and groups that were\n                  previously present on the external source but are now removed\n                  will be removed from the Tower inventory. Hosts and groups\n                  that were not managed by the inventory source will be promoted\n                  to the next manually created group or if there is no manually\n                  created group to promote them into, they will be left in the \"all\"\n                  default group for the inventory.`)}\n                    <br />\n                    <br />\n                    {i18n._(t`When not checked, local child\n                  hosts and groups not found on the external source will remain\n                  untouched by the inventory update process.`)}\n                  </>\n                }\n              />\n              <CheckboxField\n                id=\"overwrite_vars\"\n                name=\"overwrite_vars\"\n                label={i18n._(t`Overwrite variables`)}\n                tooltip={\n                  <>\n                    {i18n._(t`If checked, all variables for child groups\n                  and hosts will be removed and replaced by those found\n                  on the external source.`)}\n                    <br />\n                    <br />\n                    {i18n._(t`When not checked, a merge will be performed,\n                  combining local variables with those found on the\n                  external source.`)}\n                  </>\n                }\n              />\n              <CheckboxField\n                id=\"update_on_launch\"\n                name=\"update_on_launch\"\n                label={i18n._(t`Update on launch`)}\n                tooltip={i18n._(t`Each time a job runs using this inventory,\n            refresh the inventory from the selected source before\n            executing job tasks.`)}\n              />\n              {showProjectUpdate && (\n                <CheckboxField\n                  id=\"update_on_project_update\"\n                  name=\"update_on_project_update\"\n                  label={i18n._(t`Update on project update`)}\n                  tooltip={i18n._(t`After every project update where the SCM revision\n              changes, refresh the inventory from the selected source\n              before executing job tasks. This is intended for static content,\n              like the Ansible inventory .ini file format.`)}\n                />\n              )}\n            </FormCheckboxLayout>\n          </FormGroup>\n        </FormFullWidthLayout>\n        {updateOnLaunchField.value && (\n          <FormField\n            id=\"cache-timeout\"\n            name=\"update_cache_timeout\"\n            type=\"number\"\n            min=\"0\"\n            max=\"2147483647\"\n            validate={minMaxValue(0, 2147483647, i18n)}\n            label={i18n._(t`Cache timeout (seconds)`)}\n            tooltip={i18n._(t`Time in seconds to consider an inventory sync\n              to be current. During job runs and callbacks the task system will\n              evaluate the timestamp of the latest sync. If it is older than\n              Cache Timeout, it is not considered current, and a new\n              inventory sync will be performed.`)}\n          />\n        )}\n      </>\n    );\n  }\n);\n\nexport const EnabledVarField = withI18n()(({ i18n }) => {\n  return (\n    <FormField\n      id=\"inventory-enabled-var\"\n      label={i18n._(t`Enabled Variable`)}\n      tooltip={i18n._(t`Retrieve the enabled state from the given dict of host variables.\n        The enabled variable may be specified using dot notation, e.g: 'foo.bar'`)}\n      name=\"enabled_var\"\n      type=\"text\"\n    />\n  );\n});\n\nexport const EnabledValueField = withI18n()(({ i18n }) => {\n  return (\n    <FormField\n      id=\"inventory-enabled-value\"\n      label={i18n._(t`Enabled Value`)}\n      tooltip={i18n._(\n        t`This field is ignored unless an Enabled Variable is set. If the enabled variable matches this value, the host will be enabled on import.`\n      )}\n      name=\"enabled_value\"\n      type=\"text\"\n    />\n  );\n});\n\nexport const HostFilterField = withI18n()(({ i18n }) => {\n  return (\n    <FormField\n      id=\"host-filter\"\n      label={i18n._(t`Host Filter`)}\n      tooltip={i18n._(\n        t`Regular expression where only matching host names will be imported. The filter is applied as a post-processing step after any inventory plugin filters are applied.`\n      )}\n      name=\"host_filter\"\n      type=\"text\"\n      validate={regExp(i18n)}\n    />\n  );\n});\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst AzureSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/azure/azcollection/azure_rm_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"azure_rm\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                azure_rm\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(AzureSubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\n\nconst EC2SubForm = ({ i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField] = useField('credential');\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/amazon/aws/aws_ec2_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"aws\"\n        label={i18n._(t`Credential`)}\n        value={credentialField.value}\n        onChange={handleCredentialUpdate}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                aws_ec2\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(EC2SubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n  SourceVarsField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst GCESubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/google/cloud/gcp_compute_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"gce\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                gcp_compute\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(GCESubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst OpenStackSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/openstack/cloud/openstack_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"openstack\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                openstack\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(OpenStackSubForm);\n","import React, { useCallback, useEffect } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { FormGroup } from '@patternfly/react-core';\nimport { ProjectsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { required } from '../../../../util/validators';\n\nimport AnsibleSelect from '../../../../components/AnsibleSelect';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport ProjectLookup from '../../../../components/Lookup/ProjectLookup';\nimport Popover from '../../../../components/Popover';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\n\nconst SCMSubForm = ({ autoPopulateProject, i18n }) => {\n  const { setFieldValue, setFieldTouched } = useFormikContext();\n  const [credentialField] = useField('credential');\n  const [projectField, projectMeta, projectHelpers] = useField({\n    name: 'source_project',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [sourcePathField, sourcePathMeta, sourcePathHelpers] = useField({\n    name: 'source_path',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const {\n    error: sourcePathError,\n    request: fetchSourcePath,\n    result: sourcePath,\n  } = useRequest(\n    useCallback(async projectId => {\n      const { data } = await ProjectsAPI.readInventories(projectId);\n      return [...data, '/ (project root)'];\n    }, []),\n    []\n  );\n\n  useEffect(() => {\n    if (projectMeta.initialValue) {\n      fetchSourcePath(projectMeta.initialValue.id);\n      if (sourcePathField.value === '') {\n        sourcePathHelpers.setValue('/ (project root)');\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [fetchSourcePath, projectMeta.initialValue]);\n\n  const handleProjectUpdate = useCallback(\n    value => {\n      setFieldValue('source_project', value);\n      setFieldValue('source_path', '');\n      setFieldTouched('source_path', false);\n      fetchSourcePath(value.id);\n    },\n    [fetchSourcePath, setFieldValue, setFieldTouched]\n  );\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeKind=\"cloud\"\n        label={i18n._(t`Credential`)}\n        value={credentialField.value}\n        onChange={handleCredentialUpdate}\n      />\n      <ProjectLookup\n        value={projectField.value}\n        isValid={!projectMeta.touched || !projectMeta.error}\n        helperTextInvalid={projectMeta.error}\n        onBlur={() => projectHelpers.setTouched()}\n        onChange={handleProjectUpdate}\n        required\n        autoPopulate={autoPopulateProject}\n      />\n      <FormGroup\n        fieldId=\"source_path\"\n        helperTextInvalid={sourcePathError?.message || sourcePathMeta.error}\n        validated={\n          (!sourcePathMeta.error || !sourcePathMeta.touched) &&\n          !sourcePathError?.message\n            ? 'default'\n            : 'error'\n        }\n        isRequired\n        label={i18n._(t`Inventory file`)}\n        labelIcon={\n          <Popover\n            content={i18n._(t`Select the inventory file\n          to be synced by this source. You can select from\n          the dropdown or enter a file within the input.`)}\n          />\n        }\n      >\n        <AnsibleSelect\n          {...sourcePathField}\n          id=\"source_path\"\n          isValid={\n            (!sourcePathMeta.error || !sourcePathMeta.touched) &&\n            !sourcePathError?.message\n          }\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose an inventory file`),\n              isDisabled: true,\n            },\n            ...sourcePath.map(value => ({ value, label: value, key: value })),\n          ]}\n          onChange={(event, value) => {\n            sourcePathHelpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField showProjectUpdate />\n      <SourceVarsField />\n    </>\n  );\n};\n\nexport default withI18n()(SCMSubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst SatelliteSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/theforeman/foreman/foreman_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"satellite6\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                foreman\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(SatelliteSubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n  SourceVarsField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst TowerSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/awx/awx/tower_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"tower\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Tower\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(TowerSubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  SourceVarsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst VMwareSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/community/vmware/vmware_vm_inventory_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"vmware\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                vmware_vm_inventory\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(VMwareSubForm);\n","import React, { useCallback } from 'react';\nimport { useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport {\n  OptionsField,\n  VerbosityField,\n  EnabledVarField,\n  EnabledValueField,\n  HostFilterField,\n  SourceVarsField,\n} from './SharedFields';\nimport { required } from '../../../../util/validators';\n\nconst VirtualizationSubForm = ({ autoPopulateCredential, i18n }) => {\n  const { setFieldValue } = useFormikContext();\n  const [credentialField, credentialMeta, credentialHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('credential', value);\n    },\n    [setFieldValue]\n  );\n\n  const pluginLink =\n    'http://docs.ansible.com/ansible-tower/latest/html/userguide/inventories.html#inventory-plugins';\n  const configLink =\n    'https://docs.ansible.com/ansible/latest/collections/ovirt/ovirt/ovirt_inventory.html';\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeNamespace=\"rhv\"\n        label={i18n._(t`Credential`)}\n        helperTextInvalid={credentialMeta.error}\n        isValid={!credentialMeta.touched || !credentialMeta.error}\n        onBlur={() => credentialHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={credentialField.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <VerbosityField />\n      <HostFilterField />\n      <EnabledVarField />\n      <EnabledValueField />\n      <OptionsField />\n      <SourceVarsField\n        popoverContent={\n          <>\n            <Trans>\n              Enter variables to configure the inventory source. For a detailed\n              description of how to configure this plugin, see{' '}\n              <a href={pluginLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                Inventory Plugins\n              </a>{' '}\n              in the documentation and the{' '}\n              <a href={configLink} target=\"_blank\" rel=\"noopener noreferrer\">\n                ovirt\n              </a>{' '}\n              plugin configuration guide.\n            </Trans>\n            <br />\n            <br />\n          </>\n        }\n      />\n    </>\n  );\n};\n\nexport default withI18n()(VirtualizationSubForm);\n","import React, { useEffect, useCallback, useContext } from 'react';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { func, shape } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form, FormGroup, Title } from '@patternfly/react-core';\nimport { InventorySourcesAPI } from '../../../api';\nimport { ConfigContext } from '../../../contexts/Config';\nimport useRequest from '../../../util/useRequest';\nimport { required } from '../../../util/validators';\n\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport {\n  FormColumnLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport Popover from '../../../components/Popover';\n\nimport {\n  AzureSubForm,\n  EC2SubForm,\n  GCESubForm,\n  OpenStackSubForm,\n  SCMSubForm,\n  SatelliteSubForm,\n  TowerSubForm,\n  VMwareSubForm,\n  VirtualizationSubForm,\n} from './InventorySourceSubForms';\n\nconst buildSourceChoiceOptions = options => {\n  const sourceChoices = options.actions.GET.source.choices.map(\n    ([choice, label]) => ({ label, key: choice, value: choice })\n  );\n  return sourceChoices.filter(({ key }) => key !== 'file');\n};\n\nconst InventorySourceFormFields = ({ source, sourceOptions, i18n }) => {\n  const {\n    values,\n    initialValues,\n    resetForm,\n    setFieldTouched,\n    setFieldValue,\n  } = useFormikContext();\n  const [sourceField, sourceMeta] = useField({\n    name: 'source',\n    validate: required(i18n._(t`Set a value for this field`), i18n),\n  });\n  const { custom_virtualenvs } = useContext(ConfigContext);\n  const [venvField] = useField('custom_virtualenv');\n  const defaultVenv = {\n    label: i18n._(t`Use Default Ansible Environment`),\n    value: '/var/lib/awx/venv/ansible/',\n    key: 'default',\n  };\n\n  const resetSubFormFields = sourceType => {\n    if (sourceType === initialValues.source) {\n      resetForm({\n        values: {\n          ...initialValues,\n          name: values.name,\n          description: values.description,\n          custom_virtualenv: values.custom_virtualenv,\n          source: sourceType,\n        },\n      });\n    } else {\n      const defaults = {\n        credential: null,\n        overwrite: false,\n        overwrite_vars: false,\n        source: sourceType,\n        source_path: '',\n        source_project: null,\n        source_script: null,\n        source_vars: '---\\n',\n        update_cache_timeout: 0,\n        update_on_launch: false,\n        update_on_project_update: false,\n        verbosity: 1,\n        enabled_var: '',\n        enabled_value: '',\n        host_filter: '',\n      };\n      Object.keys(defaults).forEach(label => {\n        setFieldValue(label, defaults[label]);\n        setFieldTouched(label, false);\n      });\n    }\n  };\n\n  return (\n    <>\n      <FormField\n        id=\"name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <FormGroup\n        fieldId=\"source\"\n        helperTextInvalid={sourceMeta.error}\n        isRequired\n        validated={\n          !sourceMeta.touched || !sourceMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Source`)}\n      >\n        <AnsibleSelect\n          {...sourceField}\n          id=\"source\"\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose a source`),\n              isDisabled: true,\n            },\n            ...buildSourceChoiceOptions(sourceOptions),\n          ]}\n          onChange={(event, value) => {\n            resetSubFormFields(value);\n          }}\n        />\n      </FormGroup>\n      {custom_virtualenvs && custom_virtualenvs.length > 1 && (\n        <FormGroup\n          fieldId=\"custom-virtualenv\"\n          label={i18n._(t`Ansible Environment`)}\n          labelIcon={\n            <Popover\n              content={i18n._(t`Select the custom\n            Python virtual environment for this\n            inventory source sync to run on.`)}\n            />\n          }\n        >\n          <AnsibleSelect\n            id=\"custom-virtualenv\"\n            data={[\n              defaultVenv,\n              ...custom_virtualenvs\n                .filter(value => value !== defaultVenv.value)\n                .map(value => ({ value, label: value, key: value })),\n            ]}\n            {...venvField}\n          />\n        </FormGroup>\n      )}\n      {sourceField.value !== '' && (\n        <SubFormLayout>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {i18n._(t`Source details`)}\n          </Title>\n          <FormColumnLayout>\n            {\n              {\n                azure_rm: (\n                  <AzureSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'azure_rm'\n                    }\n                    sourceOptions={sourceOptions}\n                  />\n                ),\n                ec2: <EC2SubForm sourceOptions={sourceOptions} />,\n                gce: (\n                  <GCESubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'gce'\n                    }\n                    sourceOptions={sourceOptions}\n                  />\n                ),\n                openstack: (\n                  <OpenStackSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'openstack'\n                    }\n                  />\n                ),\n                rhv: (\n                  <VirtualizationSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'rhv'\n                    }\n                  />\n                ),\n                satellite6: (\n                  <SatelliteSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'satellite6'\n                    }\n                  />\n                ),\n                scm: (\n                  <SCMSubForm\n                    autoPopulateProject={\n                      !source?.id || source?.source !== 'scm'\n                    }\n                  />\n                ),\n                tower: (\n                  <TowerSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'tower'\n                    }\n                  />\n                ),\n                vmware: (\n                  <VMwareSubForm\n                    autoPopulateCredential={\n                      !source?.id || source?.source !== 'vmware'\n                    }\n                    sourceOptions={sourceOptions}\n                  />\n                ),\n              }[sourceField.value]\n            }\n          </FormColumnLayout>\n        </SubFormLayout>\n      )}\n    </>\n  );\n};\n\nconst InventorySourceForm = ({\n  i18n,\n  onCancel,\n  onSubmit,\n  source,\n  submitError = null,\n}) => {\n  const initialValues = {\n    credential: source?.summary_fields?.credential || null,\n    custom_virtualenv: source?.custom_virtualenv || '',\n    description: source?.description || '',\n    name: source?.name || '',\n    overwrite: source?.overwrite || false,\n    overwrite_vars: source?.overwrite_vars || false,\n    source: source?.source || '',\n    source_path: source?.source_path || '',\n    source_project: source?.summary_fields?.source_project || null,\n    source_script: source?.summary_fields?.source_script || null,\n    source_vars: source?.source_vars || '---\\n',\n    update_cache_timeout: source?.update_cache_timeout || 0,\n    update_on_launch: source?.update_on_launch || false,\n    update_on_project_update: source?.update_on_project_update || false,\n    verbosity: source?.verbosity || 1,\n    enabled_var: source?.enabled_var || '',\n    enabled_value: source?.enabled_value || '',\n    host_filter: source?.host_filter || '',\n  };\n\n  const {\n    isLoading: isSourceOptionsLoading,\n    error: sourceOptionsError,\n    request: fetchSourceOptions,\n    result: sourceOptions,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InventorySourcesAPI.readOptions();\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    fetchSourceOptions();\n  }, [fetchSourceOptions]);\n\n  if (sourceOptionsError) {\n    return <ContentError error={sourceOptionsError} />;\n  }\n\n  if (!sourceOptions || isSourceOptionsLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={values => {\n        onSubmit(values);\n      }}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <InventorySourceFormFields\n              formik={formik}\n              i18n={i18n}\n              source={source}\n              sourceOptions={sourceOptions}\n            />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nInventorySourceForm.propTypes = {\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nInventorySourceForm.defaultProps = {\n  submitError: null,\n};\n\nexport default withI18n()(InventorySourceForm);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport useRequest from '../../../util/useRequest';\nimport { InventorySourcesAPI } from '../../../api';\nimport InventorySourceForm from '../shared/InventorySourceForm';\n\nfunction InventorySourceEdit({ source }) {\n  const history = useHistory();\n  const { id } = useParams();\n  const detailsUrl = `/inventories/inventory/${id}/sources/${source.id}/details`;\n\n  const { error, request, result } = useRequest(\n    useCallback(\n      async values => {\n        const { data } = await InventorySourcesAPI.replace(source.id, values);\n        return data;\n      },\n      [source.id]\n    ),\n    null\n  );\n\n  useEffect(() => {\n    if (result) {\n      history.push(detailsUrl);\n    }\n  }, [result, detailsUrl, history]);\n\n  const handleSubmit = async form => {\n    const {\n      credential,\n      source_path,\n      source_project,\n      source_script,\n      ...remainingForm\n    } = form;\n\n    const sourcePath = {};\n    const sourceProject = {};\n    if (form.source === 'scm') {\n      sourcePath.source_path =\n        source_path === '/ (project root)' ? '' : source_path;\n      sourceProject.source_project = source_project.id;\n    }\n\n    await request({\n      credential: credential?.id || null,\n      inventory: id,\n      source_script: source_script?.id || null,\n      ...sourcePath,\n      ...sourceProject,\n      ...remainingForm,\n    });\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <InventorySourceForm\n          source={source}\n          onCancel={handleCancel}\n          onSubmit={handleSubmit}\n          submitError={error}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default InventorySourceEdit;\n","import React from 'react';\nimport { shape, number, string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport {\n  DataListAction as _DataListAction,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Switch,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport DataListCell from '../DataListCell';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: ${props => `repeat(${props.columns}, max-content)`};\n`;\nconst Label = styled.b`\n  margin-right: 20px;\n`;\n\nfunction NotificationListItem({\n  canToggleNotifications,\n  notification,\n  detailUrl,\n  approvalsTurnedOn,\n  startedTurnedOn,\n  successTurnedOn,\n  errorTurnedOn,\n  toggleNotification,\n  i18n,\n  typeLabels,\n  showApprovalsToggle,\n}) {\n  return (\n    <DataListItem\n      aria-labelledby={`items-list-item-${notification.id}`}\n      key={notification.id}\n      id={`${notification.id}`}\n    >\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link\n                to={{\n                  pathname: detailUrl,\n                }}\n              >\n                <b id={`items-list-item-${notification.id}`}>\n                  {notification.name}\n                </b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              <Label>{i18n._(t`Type `)}</Label>\n              {typeLabels[notification.notification_type]}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={`items-list-item-${notification.id}`}\n          id={`items-list-item-${notification.id}`}\n          columns={showApprovalsToggle ? 4 : 3}\n        >\n          {showApprovalsToggle && (\n            <Switch\n              id={`notification-${notification.id}-approvals-toggle`}\n              label={i18n._(t`Approval`)}\n              labelOff={i18n._(t`Approval`)}\n              isChecked={approvalsTurnedOn}\n              isDisabled={!canToggleNotifications}\n              onChange={() =>\n                toggleNotification(\n                  notification.id,\n                  approvalsTurnedOn,\n                  'approvals'\n                )\n              }\n              aria-label={i18n._(t`Toggle notification approvals`)}\n            />\n          )}\n          <Switch\n            id={`notification-${notification.id}-started-toggle`}\n            label={i18n._(t`Start`)}\n            labelOff={i18n._(t`Start`)}\n            isChecked={startedTurnedOn}\n            isDisabled={!canToggleNotifications}\n            onChange={() =>\n              toggleNotification(notification.id, startedTurnedOn, 'started')\n            }\n            aria-label={i18n._(t`Toggle notification start`)}\n          />\n          <Switch\n            id={`notification-${notification.id}-success-toggle`}\n            label={i18n._(t`Success`)}\n            labelOff={i18n._(t`Success`)}\n            isChecked={successTurnedOn}\n            isDisabled={!canToggleNotifications}\n            onChange={() =>\n              toggleNotification(notification.id, successTurnedOn, 'success')\n            }\n            aria-label={i18n._(t`Toggle notification success`)}\n          />\n          <Switch\n            id={`notification-${notification.id}-error-toggle`}\n            label={i18n._(t`Failure`)}\n            labelOff={i18n._(t`Failure`)}\n            isChecked={errorTurnedOn}\n            isDisabled={!canToggleNotifications}\n            onChange={() =>\n              toggleNotification(notification.id, errorTurnedOn, 'error')\n            }\n            aria-label={i18n._(t`Toggle notification failure`)}\n          />\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nNotificationListItem.propTypes = {\n  notification: shape({\n    id: number.isRequired,\n    name: string.isRequired,\n    notification_type: string.isRequired,\n  }).isRequired,\n  canToggleNotifications: bool.isRequired,\n  detailUrl: string.isRequired,\n  approvalsTurnedOn: bool,\n  errorTurnedOn: bool,\n  startedTurnedOn: bool,\n  successTurnedOn: bool,\n  toggleNotification: func.isRequired,\n  typeLabels: shape().isRequired,\n  showApprovalsToggle: bool,\n};\n\nNotificationListItem.defaultProps = {\n  approvalsTurnedOn: false,\n  errorTurnedOn: false,\n  startedTurnedOn: false,\n  successTurnedOn: false,\n  showApprovalsToggle: false,\n};\n\nexport default withI18n()(NotificationListItem);\n","import React, { useEffect, useCallback, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { number, shape, bool } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport NotificationListItem from './NotificationListItem';\nimport PaginatedDataList from '../PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../util/qs';\nimport useRequest from '../../util/useRequest';\nimport { NotificationTemplatesAPI } from '../../api';\n\nconst QS_CONFIG = getQSConfig('notification', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction NotificationList({\n  apiModel,\n  canToggleNotifications,\n  id,\n  i18n,\n  showApprovalsToggle,\n}) {\n  const location = useLocation();\n  const [loadingToggleIds, setLoadingToggleIds] = useState([]);\n  const [toggleError, setToggleError] = useState(null);\n\n  const {\n    result: fetchNotificationsResults,\n    result: {\n      notifications,\n      itemCount,\n      approvalsTemplateIds,\n      startedTemplateIds,\n      successTemplateIds,\n      errorTemplateIds,\n      typeLabels,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchNotifications,\n    setValue,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { results: notificationsResults, count: notificationsCount },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        NotificationTemplatesAPI.read(params),\n        NotificationTemplatesAPI.readOptions(),\n      ]);\n\n      const labels = actionsResponse.data.actions.GET.notification_type.choices.reduce(\n        (map, notifType) => ({ ...map, [notifType[0]]: notifType[1] }),\n        {}\n      );\n\n      const idMatchParams =\n        notificationsResults.length > 0\n          ? { id__in: notificationsResults.map(n => n.id).join(',') }\n          : {};\n\n      const [\n        { data: startedTemplates },\n        { data: successTemplates },\n        { data: errorTemplates },\n      ] = await Promise.all([\n        apiModel.readNotificationTemplatesStarted(id, idMatchParams),\n        apiModel.readNotificationTemplatesSuccess(id, idMatchParams),\n        apiModel.readNotificationTemplatesError(id, idMatchParams),\n      ]);\n\n      const rtnObj = {\n        notifications: notificationsResults,\n        itemCount: notificationsCount,\n        startedTemplateIds: startedTemplates.results.map(st => st.id),\n        successTemplateIds: successTemplates.results.map(su => su.id),\n        errorTemplateIds: errorTemplates.results.map(e => e.id),\n        typeLabels: labels,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n\n      if (showApprovalsToggle) {\n        const {\n          data: approvalsTemplates,\n        } = await apiModel.readNotificationTemplatesApprovals(\n          id,\n          idMatchParams\n        );\n        rtnObj.approvalsTemplateIds = approvalsTemplates.results.map(\n          st => st.id\n        );\n      } else {\n        rtnObj.approvalsTemplateIds = [];\n      }\n\n      return rtnObj;\n    }, [apiModel, id, location, showApprovalsToggle]),\n    {\n      notifications: [],\n      itemCount: 0,\n      approvalsTemplateIds: [],\n      startedTemplateIds: [],\n      successTemplateIds: [],\n      errorTemplateIds: [],\n      typeLabels: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchNotifications();\n  }, [fetchNotifications]);\n\n  const handleNotificationToggle = async (\n    notificationId,\n    isCurrentlyOn,\n    status\n  ) => {\n    setLoadingToggleIds(loadingToggleIds.concat([notificationId]));\n    try {\n      if (isCurrentlyOn) {\n        await apiModel.disassociateNotificationTemplate(\n          id,\n          notificationId,\n          status\n        );\n        setValue({\n          ...fetchNotificationsResults,\n          [`${status}TemplateIds`]: fetchNotificationsResults[\n            `${status}TemplateIds`\n          ].filter(i => i !== notificationId),\n        });\n      } else {\n        await apiModel.associateNotificationTemplate(\n          id,\n          notificationId,\n          status\n        );\n        setValue({\n          ...fetchNotificationsResults,\n          [`${status}TemplateIds`]: fetchNotificationsResults[\n            `${status}TemplateIds`\n          ].concat(notificationId),\n        });\n      }\n    } catch (err) {\n      setToggleError(err);\n    } finally {\n      setLoadingToggleIds(\n        loadingToggleIds.filter(item => item !== notificationId)\n      );\n    }\n  };\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading}\n        items={notifications}\n        itemCount={itemCount}\n        pluralizedItemName={i18n._(t`Notifications`)}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`描述`),\n            key: 'description__icontains',\n          },\n          {\n            name: i18n._(t`Notification type`),\n            key: 'or__notification_type',\n            options: [\n              ['email', i18n._(t`Email`)],\n              ['grafana', i18n._(t`Grafana`)],\n              ['hipchat', i18n._(t`Hipchat`)],\n              ['irc', i18n._(t`IRC`)],\n              ['mattermost', i18n._(t`Mattermost`)],\n              ['pagerduty', i18n._(t`Pagerduty`)],\n              ['rocketchat', i18n._(t`Rocket.Chat`)],\n              ['slack', i18n._(t`Slack`)],\n              ['twilio', i18n._(t`Twilio`)],\n              ['webhook', i18n._(t`Webhook`)],\n            ],\n          },\n          {\n            name: i18n._(t`创建者`),\n            key: 'created_by__username__icontains',\n          },\n          {\n            name: i18n._(t`修改者`),\n            key: 'modified_by__username__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n          {\n            name: i18n._(t`类型`),\n            key: 'notification_type',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={notification => (\n          <NotificationListItem\n            key={notification.id}\n            notification={notification}\n            detailUrl={`/notification_templates/${notification.id}/details`}\n            canToggleNotifications={\n              canToggleNotifications &&\n              !loadingToggleIds.includes(notification.id)\n            }\n            toggleNotification={handleNotificationToggle}\n            approvalsTurnedOn={approvalsTemplateIds.includes(notification.id)}\n            errorTurnedOn={errorTemplateIds.includes(notification.id)}\n            startedTurnedOn={startedTemplateIds.includes(notification.id)}\n            successTurnedOn={successTemplateIds.includes(notification.id)}\n            typeLabels={typeLabels}\n            showApprovalsToggle={showApprovalsToggle}\n          />\n        )}\n      />\n      {toggleError && (\n        <AlertModal\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          isOpen={loadingToggleIds.length === 0}\n          onClose={() => setToggleError(null)}\n        >\n          {i18n._(t`Failed to toggle notification.`)}\n          <ErrorDetail error={toggleError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nNotificationList.propTypes = {\n  apiModel: shape({}).isRequired,\n  id: number.isRequired,\n  canToggleNotifications: bool.isRequired,\n  showApprovalsToggle: bool,\n};\n\nNotificationList.defaultProps = {\n  showApprovalsToggle: false,\n};\n\nexport default withI18n()(NotificationList);\n","import React, { useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Link,\n  Switch,\n  Route,\n  Redirect,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport useRequest from '../../../util/useRequest';\n\nimport {\n  InventoriesAPI,\n  InventorySourcesAPI,\n  OrganizationsAPI,\n} from '../../../api';\nimport { Schedules } from '../../../components/Schedule';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport RoutedTabs from '../../../components/RoutedTabs';\nimport InventorySourceDetail from '../InventorySourceDetail';\nimport InventorySourceEdit from '../InventorySourceEdit';\nimport NotificationList from '../../../components/NotificationList/NotificationList';\n\nfunction InventorySource({ i18n, inventory, setBreadcrumb, me }) {\n  const location = useLocation();\n  const match = useRouteMatch('/inventories/inventory/:id/sources/:sourceId');\n  const sourceListUrl = `/inventories/inventory/${inventory.id}/sources`;\n\n  const {\n    result: { source, isNotifAdmin },\n    error,\n    isLoading,\n    request: fetchSource,\n  } = useRequest(\n    useCallback(async () => {\n      const [inventorySource, notifAdminRes] = await Promise.all([\n        InventoriesAPI.readSourceDetail(inventory.id, match.params.sourceId),\n        OrganizationsAPI.read({\n          page_size: 1,\n          role_level: 'notification_admin_role',\n        }),\n      ]);\n      return {\n        source: inventorySource,\n        isNotifAdmin: notifAdminRes.data.results.length > 0,\n      };\n    }, [inventory.id, match.params.sourceId]),\n    { source: null, isNotifAdmin: false }\n  );\n\n  useEffect(() => {\n    fetchSource();\n  }, [fetchSource, location.pathname]);\n\n  useEffect(() => {\n    if (inventory && source) {\n      setBreadcrumb(inventory, source);\n    }\n  }, [inventory, source, setBreadcrumb]);\n\n  const loadSchedules = useCallback(\n    params => {\n      return InventorySourcesAPI.readSchedules(source?.id, params);\n    },\n    [source]\n  );\n\n  const createSchedule = data =>\n    InventorySourcesAPI.createSchedule(source?.id, data);\n\n  const loadScheduleOptions = useCallback(() => {\n    return InventorySourcesAPI.readScheduleOptions(source?.id);\n  }, [source]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Sources`)}\n        </>\n      ),\n      link: `${sourceListUrl}`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${match.url}/details`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`计划`),\n      link: `${match.url}/schedules`,\n      id: 2,\n    },\n  ];\n\n  const canToggleNotifications = isNotifAdmin;\n  const canSeeNotificationsTab = me.is_system_auditor || isNotifAdmin;\n\n  if (canSeeNotificationsTab) {\n    tabsArray.push({\n      name: i18n._(t`Notifications`),\n      link: `${match.url}/notifications`,\n      id: 3,\n    });\n  }\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  let showCardHeader = true;\n\n  if (['edit', 'schedules/'].some(name => location.pathname.includes(name))) {\n    showCardHeader = false;\n  }\n\n  return (\n    <>\n      {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n\n      {isLoading && <ContentLoading />}\n\n      {!isLoading && source && (\n        <Switch>\n          <Redirect\n            from=\"/inventories/inventory/:id/sources/:sourceId\"\n            to=\"/inventories/inventory/:id/sources/:sourceId/details\"\n            exact\n          />\n          <Route\n            key=\"details\"\n            path=\"/inventories/inventory/:id/sources/:sourceId/details\"\n          >\n            <InventorySourceDetail inventorySource={source} />\n          </Route>\n          <Route\n            key=\"edit\"\n            path=\"/inventories/inventory/:id/sources/:sourceId/edit\"\n          >\n            <InventorySourceEdit source={source} inventory={inventory} />\n          </Route>\n          <Route\n            key=\"notifications\"\n            path=\"/inventories/inventory/:id/sources/:sourceId/notifications\"\n          >\n            <NotificationList\n              id={Number(match.params.sourceId)}\n              canToggleNotifications={canToggleNotifications}\n              apiModel={InventorySourcesAPI}\n            />\n          </Route>\n          <Route\n            key=\"schedules\"\n            path=\"/inventories/inventory/:id/sources/:sourceId/schedules\"\n          >\n            <Schedules\n              createSchedule={createSchedule}\n              setBreadcrumb={(unifiedJobTemplate, schedule) =>\n                setBreadcrumb(inventory, source, schedule)\n              }\n              unifiedJobTemplate={source}\n              loadSchedules={loadSchedules}\n              loadScheduleOptions={loadScheduleOptions}\n            />\n          </Route>\n          <Route key=\"not-found\" path=\"*\">\n            <ContentError isNotFound>\n              <Link to={`${match.url}/details`}>\n                {i18n._(t`View inventory source details`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(InventorySource);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\nimport { InventorySourcesAPI } from '../../../api';\nimport useRequest from '../../../util/useRequest';\nimport { CardBody } from '../../../components/Card';\nimport InventorySourceForm from '../shared/InventorySourceForm';\n\nfunction InventorySourceAdd() {\n  const history = useHistory();\n  const { id } = useParams();\n\n  const { error, request, result } = useRequest(\n    useCallback(async values => {\n      const { data } = await InventorySourcesAPI.create(values);\n      return data;\n    }, [])\n  );\n\n  useEffect(() => {\n    if (result) {\n      history.push(\n        `/inventories/inventory/${result.inventory}/sources/${result.id}/details`\n      );\n    }\n  }, [result, history]);\n\n  const handleSubmit = async form => {\n    const {\n      credential,\n      source_path,\n      source_project,\n      source_script,\n      ...remainingForm\n    } = form;\n\n    const sourcePath = {};\n    const sourceProject = {};\n    if (form.source === 'scm') {\n      sourcePath.source_path =\n        source_path === '/ (project root)' ? '' : source_path;\n      sourceProject.source_project = source_project.id;\n    }\n\n    await request({\n      credential: credential?.id || null,\n      inventory: id,\n      source_script: source_script?.id || null,\n      ...sourcePath,\n      ...sourceProject,\n      ...remainingForm,\n    });\n  };\n\n  const handleCancel = () => {\n    history.push(`/inventories/inventory/${id}/sources`);\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <InventorySourceForm\n          onCancel={handleCancel}\n          onSubmit={handleSubmit}\n          submitError={error}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default InventorySourceAdd;\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListItem,\n  DataListItemRow,\n  DataListCheck,\n  DataListItemCells,\n  DataListCell,\n  DataListAction,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport StatusIcon from '../../../components/StatusIcon';\nimport InventorySourceSyncButton from '../shared/InventorySourceSyncButton';\n\nfunction InventorySourceListItem({\n  source,\n  isSelected,\n  onSelect,\n  i18n,\n  detailUrl,\n  label,\n}) {\n  const generateLastJobTooltip = job => {\n    return (\n      <>\n        <div>{i18n._(t`MOST RECENT SYNC`)}</div>\n        <div>\n          {i18n._(t`JOB ID:`)} {job.id}\n        </div>\n        <div>\n          {i18n._(t`STATUS:`)} {job.status.toUpperCase()}\n        </div>\n        {job.finished && (\n          <div>\n            {i18n._(t`FINISHED:`)} {job.finished}\n          </div>\n        )}\n      </>\n    );\n  };\n  return (\n    <>\n      <DataListItem aria-labelledby={`check-action-${source.id}`}>\n        <DataListItemRow>\n          <DataListCheck\n            id={`select-source-${source.id}`}\n            checked={isSelected}\n            onChange={onSelect}\n            aria-labelledby={`check-action-${source.id}`}\n          />\n          <DataListItemCells\n            dataListCells={[\n              <DataListCell key=\"status\" isFilled={false}>\n                {source.summary_fields.last_job && (\n                  <Tooltip\n                    position=\"top\"\n                    content={generateLastJobTooltip(\n                      source.summary_fields.last_job\n                    )}\n                    key={source.summary_fields.last_job.id}\n                  >\n                    <Link\n                      to={`/jobs/inventory/${source.summary_fields.last_job.id}`}\n                    >\n                      <StatusIcon\n                        status={source.summary_fields.last_job.status}\n                      />\n                    </Link>\n                  </Tooltip>\n                )}\n              </DataListCell>,\n              <DataListCell aria-label={i18n._(t`name`)} key=\"name\">\n                <span>\n                  <Link to={`${detailUrl}/details`}>\n                    <b>{source.name}</b>\n                  </Link>\n                </span>\n              </DataListCell>,\n              <DataListCell aria-label={i18n._(t`type`)} key=\"type\">\n                {label}\n              </DataListCell>,\n            ]}\n          />\n          <DataListAction\n            id=\"actions\"\n            aria-labelledby=\"actions\"\n            aria-label=\"actions\"\n          >\n            {source.summary_fields.user_capabilities.start && (\n              <InventorySourceSyncButton source={source} />\n            )}\n            {source.summary_fields.user_capabilities.edit && (\n              <Button\n                aria-label={i18n._(t`Edit Source`)}\n                variant=\"plain\"\n                component={Link}\n                to={`${detailUrl}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            )}\n          </DataListAction>\n        </DataListItemRow>\n      </DataListItem>\n    </>\n  );\n}\nexport default withI18n()(InventorySourceListItem);\n","import { useState, useEffect } from 'react';\nimport useWebsocket from '../../../util/useWebsocket';\n\nexport default function useWsInventorySources(initialSources) {\n  const [sources, setSources] = useState(initialSources);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setSources(initialSources);\n  }, [initialSources]);\n\n  useEffect(\n    function parseWsMessage() {\n      if (!lastMessage?.unified_job_id || !lastMessage?.inventory_source_id) {\n        return;\n      }\n\n      const sourceId = lastMessage.inventory_source_id;\n      const index = sources.findIndex(s => s.id === sourceId);\n      if (index > -1) {\n        setSources(updateSource(sources, index, lastMessage));\n      }\n    },\n    [lastMessage] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  return sources;\n}\n\nfunction updateSource(sources, index, message) {\n  const source = {\n    ...sources[index],\n    status: message.status,\n    last_updated: message.finished,\n    summary_fields: {\n      ...sources[index].summary_fields,\n      last_job: {\n        id: message.unified_job_id,\n        status: message.status,\n        finished: message.finished,\n      },\n    },\n  };\n  return [...sources.slice(0, index), source, ...sources.slice(index + 1)];\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Tooltip } from '@patternfly/react-core';\n\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport { InventoriesAPI, InventorySourcesAPI } from '../../../api';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useSelected from '../../../util/useSelected';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport AlertModal from '../../../components/AlertModal/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail/ErrorDetail';\nimport InventorySourceListItem from './InventorySourceListItem';\nimport useWsInventorySources from './useWsInventorySources';\n\nconst QS_CONFIG = getQSConfig('inventory', {\n  not__source: '',\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction InventorySourceList({ i18n }) {\n  const { inventoryType, id } = useParams();\n  const { search } = useLocation();\n\n  const {\n    isLoading,\n    error: fetchError,\n    result: { result, sourceCount, sourceChoices, sourceChoicesOptions },\n    request: fetchSources,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const results = await Promise.all([\n        InventoriesAPI.readSources(id, params),\n        InventorySourcesAPI.readOptions(),\n      ]);\n      return {\n        result: results[0].data.results,\n        sourceCount: results[0].data.count,\n        sourceChoices: results[1].data.actions.GET.source.choices,\n        sourceChoicesOptions: results[1].data.actions,\n      };\n    }, [id, search]),\n    {\n      result: [],\n      sourceCount: 0,\n      sourceChoices: [],\n    }\n  );\n\n  const sources = useWsInventorySources(result);\n\n  const canSyncSources =\n    sources.length > 0 &&\n    sources.every(source => source.summary_fields.user_capabilities.start);\n  const {\n    isLoading: isSyncAllLoading,\n    error: syncAllError,\n    request: syncAll,\n  } = useRequest(\n    useCallback(async () => {\n      if (canSyncSources) {\n        await InventoriesAPI.syncAllSources(id);\n      }\n    }, [id, canSyncSources])\n  );\n\n  useEffect(() => {\n    fetchSources();\n  }, [fetchSources]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    sources\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: handleDeleteSources,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id: sourceId }) =>\n          InventorySourcesAPI.destroy(sourceId)\n        ),\n        []\n      );\n    }, [selected]),\n    {\n      fetchItems: fetchSources,\n      allItemsSelected: isAllSelected,\n      qsConfig: QS_CONFIG,\n    }\n  );\n  const { error: syncError, dismissError } = useDismissableError(syncAllError);\n\n  const deleteRelatedInventoryResources = resourceId => {\n    return [\n      InventorySourcesAPI.destroyHosts(resourceId),\n      InventorySourcesAPI.destroyGroups(resourceId),\n    ];\n  };\n\n  const {\n    isLoading: deleteRelatedResourcesLoading,\n    deletionError: deleteRelatedResourcesError,\n    deleteItems: handleDeleteRelatedResources,\n  } = useDeleteItems(\n    useCallback(async () => {\n      return (\n        Promise.all(\n          selected\n            .map(({ id: resourceId }) =>\n              deleteRelatedInventoryResources(resourceId)\n            )\n            .flat()\n            // eslint-disable-next-line \n        ),\n        []\n      );\n    }, [selected])\n  );\n\n  const handleDelete = async () => {\n    await handleDeleteRelatedResources();\n    if (!deleteRelatedResourcesError) {\n      await handleDeleteSources();\n    }\n    setSelected([]);\n  };\n  const canAdd =\n    sourceChoicesOptions &&\n    Object.prototype.hasOwnProperty.call(sourceChoicesOptions, 'POST');\n  const listUrl = `/inventories/${inventoryType}/${id}/sources/`;\n  return (\n    <>\n      <PaginatedDataList\n        contentError={fetchError}\n        hasContentLoading={\n          isLoading ||\n          isDeleteLoading ||\n          isSyncAllLoading ||\n          deleteRelatedResourcesLoading\n        }\n        items={sources}\n        itemCount={sourceCount}\n        pluralizedItemName={i18n._(t`Inventory Sources`)}\n        qsConfig={QS_CONFIG}\n        renderToolbar={props => (\n          <DatalistToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...sources] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [<ToolbarAddButton key=\"add\" linkTo={`${listUrl}add`} />]\n                : []),\n              <ToolbarDeleteButton\n                key=\"delete\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={i18n._(t`Inventory Sources`)}\n              />,\n              ...(canSyncSources\n                ? [\n                    <Tooltip\n                      key=\"update\"\n                      content={i18n._(t`Sync all sources`)}\n                      position=\"top\"\n                    >\n                      <Button\n                        onClick={syncAll}\n                        aria-label={i18n._(t`Sync all`)}\n                        variant=\"secondary\"\n                      >\n                        {i18n._(t`Sync all`)}\n                      </Button>\n                    </Tooltip>,\n                  ]\n                : []),\n            ]}\n          />\n        )}\n        renderItem={inventorySource => {\n          let label;\n          sourceChoices.forEach(([scMatch, scLabel]) => {\n            if (inventorySource.source === scMatch) {\n              label = scLabel;\n            }\n          });\n          return (\n            <InventorySourceListItem\n              key={inventorySource.id}\n              source={inventorySource}\n              onSelect={() => handleSelect(inventorySource)}\n              label={label}\n              detailUrl={`${listUrl}${inventorySource.id}`}\n              isSelected={selected.some(row => row.id === inventorySource.id)}\n            />\n          );\n        }}\n      />\n      {syncError && (\n        <AlertModal\n          aria-label={i18n._(t`Sync error`)}\n          isOpen={syncError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to sync some or all inventory sources.`)}\n          <ErrorDetail error={syncError} />\n        </AlertModal>\n      )}\n\n      {(deletionError || deleteRelatedResourcesError) && (\n        <AlertModal\n          aria-label={i18n._(t`Delete error`)}\n          isOpen={deletionError || deleteRelatedResourcesError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more inventory sources.`)}\n          <ErrorDetail error={deletionError || deleteRelatedResourcesError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(InventorySourceList);\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport InventorySource from '../InventorySource';\nimport { Config } from '../../../contexts/Config';\nimport InventorySourceAdd from '../InventorySourceAdd';\nimport InventorySourceList from './InventorySourceList';\n\nfunction InventorySources({ inventory, setBreadcrumb }) {\n  return (\n    <Switch>\n      <Route key=\"add\" path=\"/inventories/inventory/:id/sources/add\">\n        <InventorySourceAdd />\n      </Route>\n      <Route path=\"/inventories/inventory/:id/sources/:sourceId\">\n        <Config>\n          {({ me }) => (\n            <InventorySource\n              inventory={inventory}\n              setBreadcrumb={setBreadcrumb}\n              me={me || {}}\n            />\n          )}\n        </Config>\n      </Route>\n      <Route path=\"/inventories/:inventoryType/:id/sources\">\n        <InventorySourceList />\n      </Route>\n    </Switch>\n  );\n}\n\nexport default InventorySources;\n","import React, { useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport JobList from '../../components/JobList';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport InventoryDetail from './InventoryDetail';\nimport InventoryEdit from './InventoryEdit';\nimport InventoryGroups from './InventoryGroups';\nimport InventoryHosts from './InventoryHosts/InventoryHosts';\nimport InventorySources from './InventorySources';\nimport { InventoriesAPI } from '../../api';\n\nfunction Inventory({ i18n, setBreadcrumb }) {\n  const [contentError, setContentError] = useState(null);\n  const [hasContentLoading, setHasContentLoading] = useState(true);\n  const [inventory, setInventory] = useState(null);\n  const location = useLocation();\n  const match = useRouteMatch({\n    path: '/inventories/inventory/:id',\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const { data } = await InventoriesAPI.readDetail(match.params.id);\n        setBreadcrumb(data);\n        setInventory(data);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setHasContentLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [match.params.id, location.pathname, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Inventories`)}\n        </>\n      ),\n      link: `/inventories`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details`, id: 0 },\n    { name: i18n._(t`Access`), link: `${match.url}/access`, id: 1 },\n    { name: i18n._(t`Groups`), link: `${match.url}/groups`, id: 2 },\n    { name: i18n._(t`Hosts`), link: `${match.url}/hosts`, id: 3 },\n    { name: i18n._(t`Sources`), link: `${match.url}/sources`, id: 4 },\n    {\n      name: i18n._(t`Completed Jobs`),\n      link: `${match.url}/completed_jobs`,\n      id: 5,\n    },\n  ];\n\n  if (hasContentLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response?.status === 404 && (\n              <span>\n                {i18n._(t`Inventory not found.`)}{' '}\n                <Link to=\"/inventories\">\n                  {i18n._(t`View all Inventories.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  let showCardHeader = true;\n\n  if (\n    ['edit', 'add', 'groups/', 'hosts/', 'sources/'].some(name =>\n      location.pathname.includes(name)\n    )\n  ) {\n    showCardHeader = false;\n  }\n\n  if (inventory?.kind === 'smart') {\n    return (\n      <Redirect to={`/inventories/smart_inventory/${inventory.id}/details`} />\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect\n            from=\"/inventories/inventory/:id\"\n            to=\"/inventories/inventory/:id/details\"\n            exact\n          />\n          {inventory && [\n            <Route path=\"/inventories/inventory/:id/details\" key=\"details\">\n              <InventoryDetail\n                inventory={inventory}\n                hasInventoryLoading={hasContentLoading}\n              />\n            </Route>,\n            <Route path=\"/inventories/inventory/:id/edit\" key=\"edit\">\n              <InventoryEdit inventory={inventory} />\n            </Route>,\n            <Route path=\"/inventories/inventory/:id/hosts\" key=\"hosts\">\n              <InventoryHosts\n                inventory={inventory}\n                setBreadcrumb={setBreadcrumb}\n              />\n            </Route>,\n            <Route path=\"/inventories/inventory/:id/access\" key=\"access\">\n              <ResourceAccessList\n                resource={inventory}\n                apiModel={InventoriesAPI}\n              />\n            </Route>,\n            <Route path=\"/inventories/inventory/:id/groups\" key=\"groups\">\n              <InventoryGroups\n                inventory={inventory}\n                setBreadcrumb={setBreadcrumb}\n              />\n            </Route>,\n            <Route path=\"/inventories/inventory/:id/sources\" key=\"sources\">\n              <InventorySources\n                inventory={inventory}\n                setBreadcrumb={setBreadcrumb}\n              />\n            </Route>,\n            <Route\n              path=\"/inventories/inventory/:id/completed_jobs\"\n              key=\"completed_jobs\"\n            >\n              <JobList\n                defaultParams={{\n                  or__job__inventory: inventory.id,\n                  or__adhoccommand__inventory: inventory.id,\n                  or__inventoryupdate__inventory_source__inventory:\n                    inventory.id,\n                  or__workflowjob__inventory: inventory.id,\n                }}\n              />\n            </Route>,\n            <Route path=\"*\" key=\"not-found\">\n              <ContentError isNotFound>\n                {match.params.id && (\n                  <Link\n                    to={`/inventories/inventory/${match.params.id}/details`}\n                  >\n                    {i18n._(t`View Inventory Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            </Route>,\n          ]}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { Inventory as _Inventory };\nexport default withI18n()(Inventory);\n","import React, { useCallback, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { shape } from 'prop-types';\nimport { Button, Chip, Label } from '@patternfly/react-core';\n\nimport { Inventory } from '../../../types';\nimport { InventoriesAPI, UnifiedJobsAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ChipGroup from '../../../components/ChipGroup';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport Sparkline from '../../../components/Sparkline';\n\nfunction SmartInventoryDetail({ inventory, i18n }) {\n  const history = useHistory();\n  const {\n    created,\n    description,\n    host_filter,\n    id,\n    modified,\n    name,\n    variables,\n    summary_fields: {\n      created_by,\n      modified_by,\n      organization,\n      user_capabilities,\n    },\n  } = inventory;\n\n  const {\n    error: contentError,\n    isLoading: hasContentLoading,\n    request: fetchData,\n    result: { recentJobs, instanceGroups },\n  } = useRequest(\n    useCallback(async () => {\n      const params = {\n        or__job__inventory: id,\n        or__workflowjob__inventory: id,\n        order_by: '-finished',\n        page_size: 10,\n      };\n      const [{ data: jobData }, { data: igData }] = await Promise.all([\n        UnifiedJobsAPI.read(params),\n        InventoriesAPI.readInstanceGroups(id),\n      ]);\n      return {\n        recentJobs: jobData.results,\n        instanceGroups: igData.results,\n      };\n    }, [id]),\n    {\n      recentJobs: [],\n      instanceGroups: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  const { error: deleteError, isLoading, request: handleDelete } = useRequest(\n    useCallback(async () => {\n      await InventoriesAPI.destroy(id);\n      history.push(`/inventories`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  if (hasContentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  return (\n    <>\n      <CardBody>\n        <DetailList>\n          <Detail label={i18n._(t`名称`)} value={name} />\n          {recentJobs.length > 0 && (\n            <Detail\n              label={i18n._(t`Activity`)}\n              value={<Sparkline jobs={recentJobs} />}\n            />\n          )}\n          <Detail label={i18n._(t`描述`)} value={description} />\n          <Detail label={i18n._(t`类型`)} value={i18n._(t`Smart inventory`)} />\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link to={`/organizations/${organization.id}/details`}>\n                {organization.name}\n              </Link>\n            }\n          />\n          <Detail\n            fullWidth\n            label={i18n._(t`Smart host filter`)}\n            value={<Label variant=\"outline\">{host_filter}</Label>}\n          />\n          {instanceGroups.length > 0 && (\n            <Detail\n              fullWidth\n              label={i18n._(t`Instance groups`)}\n              value={\n                <ChipGroup numChips={5} totalChips={instanceGroups.length}>\n                  {instanceGroups.map(ig => (\n                    <Chip key={ig.id} isReadOnly>\n                      {ig.name}\n                    </Chip>\n                  ))}\n                </ChipGroup>\n              }\n            />\n          )}\n          <VariablesDetail\n            label={i18n._(t`变量`)}\n            value={variables}\n            rows={4}\n          />\n          <UserDateDetail\n            label={i18n._(t`已创建`)}\n            date={created}\n            user={created_by}\n          />\n          <UserDateDetail\n            label={i18n._(t`Last modified`)}\n            date={modified}\n            user={modified_by}\n          />\n        </DetailList>\n        <CardActionsRow>\n          {user_capabilities?.edit && (\n            <Button\n              component={Link}\n              aria-label=\"edit\"\n              to={`/inventories/smart_inventory/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n          {user_capabilities?.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete smart inventory`)}\n              onConfirm={handleDelete}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n        </CardActionsRow>\n      </CardBody>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete smart inventory.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nSmartInventoryDetail.propTypes = {\n  inventory: Inventory.isRequired,\n  i18n: shape({}).isRequired,\n};\n\nexport default withI18n()(SmartInventoryDetail);\n","import React, { useEffect, useCallback } from 'react';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useLocation } from 'react-router-dom';\nimport { func, shape, arrayOf } from 'prop-types';\nimport { Form } from '@patternfly/react-core';\nimport { InstanceGroup } from '../../../types';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../components/FormLayout';\nimport {\n  toHostFilter,\n  toSearchParams,\n} from '../../../components/Lookup/shared/HostFilterUtils';\nimport HostFilterLookup from '../../../components/Lookup/HostFilterLookup';\nimport InstanceGroupsLookup from '../../../components/Lookup/InstanceGroupsLookup';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport useRequest from '../../../util/useRequest';\nimport { required } from '../../../util/validators';\nimport { InventoriesAPI } from '../../../api';\n\nconst SmartInventoryFormFields = withI18n()(({ i18n, inventory }) => {\n  const { setFieldValue } = useFormikContext();\n  const [organizationField, organizationMeta, organizationHelpers] = useField({\n    name: 'organization',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [instanceGroupsField, , instanceGroupsHelpers] = useField({\n    name: 'instance_groups',\n  });\n  const [hostFilterField, hostFilterMeta, hostFilterHelpers] = useField({\n    name: 'host_filter',\n    validate: required(null, i18n),\n  });\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={organizationMeta.error}\n        isValid={!organizationMeta.touched || !organizationMeta.error}\n        onBlur={() => organizationHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={organizationField.value}\n        required\n        autoPopulate={!inventory?.id}\n      />\n      <HostFilterLookup\n        value={hostFilterField.value}\n        organizationId={organizationField.value?.id}\n        helperTextInvalid={hostFilterMeta.error}\n        onChange={value => {\n          hostFilterHelpers.setValue(value);\n        }}\n        onBlur={() => hostFilterHelpers.setTouched()}\n        isValid={!hostFilterMeta.touched || !hostFilterMeta.error}\n        isDisabled={!organizationField.value}\n      />\n      <InstanceGroupsLookup\n        value={instanceGroupsField.value}\n        onChange={value => {\n          instanceGroupsHelpers.setValue(value);\n        }}\n        tooltip={i18n._(\n          t`Select the Instance Groups for this Inventory to run on.`\n        )}\n      />\n      <FormFullWidthLayout>\n        <VariablesField\n          id=\"variables\"\n          name=\"variables\"\n          label={i18n._(t`变量`)}\n          tooltip={i18n._(\n            t`Enter inventory variables using either JSON or YAML syntax.\n            Use the radio button to toggle between the two. Refer to the\n            Ansible Tower documentation for example syntax.`\n          )}\n        />\n      </FormFullWidthLayout>\n    </>\n  );\n});\n\nfunction SmartInventoryForm({\n  inventory,\n  instanceGroups,\n  onSubmit,\n  onCancel,\n  submitError,\n}) {\n  const { search } = useLocation();\n  const queryParams = new URLSearchParams(search);\n  const hostFilterFromParams = queryParams.get('host_filter');\n\n  const initialValues = {\n    description: inventory.description || '',\n    host_filter:\n      inventory.host_filter ||\n      (hostFilterFromParams\n        ? toHostFilter(toSearchParams(hostFilterFromParams))\n        : ''),\n    instance_groups: instanceGroups || [],\n    kind: 'smart',\n    name: inventory.name || '',\n    organization: inventory.summary_fields?.organization || null,\n    variables: inventory.variables || '---',\n  };\n\n  const {\n    isLoading,\n    error: optionsError,\n    request: fetchOptions,\n    result: options,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InventoriesAPI.readOptions();\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    fetchOptions();\n  }, [fetchOptions]);\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (optionsError) {\n    return <ContentError error={optionsError} />;\n  }\n\n  return (\n    <Formik\n      initialValues={initialValues}\n      onSubmit={values => {\n        onSubmit(values);\n      }}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <SmartInventoryFormFields inventory={inventory} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n              submitDisabled={!options?.actions?.POST}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nSmartInventoryForm.propTypes = {\n  instanceGroups: arrayOf(InstanceGroup),\n  inventory: shape({}),\n  onCancel: func.isRequired,\n  onSubmit: func.isRequired,\n  submitError: shape({}),\n};\n\nSmartInventoryForm.defaultProps = {\n  instanceGroups: [],\n  inventory: {},\n  submitError: null,\n};\n\nexport default withI18n()(SmartInventoryForm);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Inventory } from '../../../types';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport useRequest from '../../../util/useRequest';\nimport { InventoriesAPI } from '../../../api';\nimport { CardBody } from '../../../components/Card';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport SmartInventoryForm from '../shared/SmartInventoryForm';\n\nfunction SmartInventoryEdit({ inventory }) {\n  const history = useHistory();\n  const detailsUrl = `/inventories/smart_inventory/${inventory.id}/details`;\n\n  const {\n    error: contentError,\n    isLoading: hasContentLoading,\n    request: fetchInstanceGroups,\n    result: instanceGroups,\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: { results },\n      } = await InventoriesAPI.readInstanceGroups(inventory.id);\n      return results;\n    }, [inventory.id]),\n    []\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  const {\n    error: submitError,\n    request: submitRequest,\n    result: submitResult,\n  } = useRequest(\n    useCallback(\n      async (values, groupsToAssociate, groupsToDisassociate) => {\n        const { data } = await InventoriesAPI.update(inventory.id, values);\n        await Promise.all(\n          groupsToAssociate.map(id =>\n            InventoriesAPI.associateInstanceGroup(inventory.id, id)\n          )\n        );\n        await Promise.all(\n          groupsToDisassociate.map(id =>\n            InventoriesAPI.disassociateInstanceGroup(inventory.id, id)\n          )\n        );\n        return data;\n      },\n      [inventory.id]\n    )\n  );\n\n  useEffect(() => {\n    if (submitResult) {\n      history.push({\n        pathname: detailsUrl,\n        search: '',\n      });\n    }\n  }, [submitResult, detailsUrl, history]);\n\n  const handleSubmit = async form => {\n    const { instance_groups, organization, ...remainingForm } = form;\n\n    const { added, removed } = getAddedAndRemoved(\n      instanceGroups,\n      instance_groups\n    );\n    const addedIds = added.map(({ id }) => id);\n    const removedIds = removed.map(({ id }) => id);\n\n    await submitRequest(\n      {\n        organization: organization?.id,\n        ...remainingForm,\n      },\n      addedIds,\n      removedIds\n    );\n  };\n\n  const handleCancel = () => {\n    history.push({\n      pathname: detailsUrl,\n      search: '',\n    });\n  };\n\n  if (hasContentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  return (\n    <CardBody>\n      <SmartInventoryForm\n        inventory={inventory}\n        instanceGroups={instanceGroups}\n        onCancel={handleCancel}\n        onSubmit={handleSubmit}\n        submitError={submitError}\n      />\n    </CardBody>\n  );\n}\n\nSmartInventoryEdit.propTypes = {\n  inventory: Inventory.isRequired,\n};\n\nexport default SmartInventoryEdit;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport 'styled-components/macro';\n\nimport {\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n} from '@patternfly/react-core';\nimport DataListCell from '../../../components/DataListCell';\nimport Sparkline from '../../../components/Sparkline';\nimport { Host } from '../../../types';\n\nfunction SmartInventoryHostListItem({\n  i18n,\n  detailUrl,\n  host,\n  isSelected,\n  onSelect,\n}) {\n  const recentPlaybookJobs = host.summary_fields.recent_jobs.map(job => ({\n    ...job,\n    type: 'job',\n  }));\n\n  const labelId = `check-action-${host.id}`;\n\n  return (\n    <DataListItem key={host.id} aria-labelledby={labelId} id={`${host.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-host-${host.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`${detailUrl}`}>\n                <b>{host.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"recentJobs\">\n              <Sparkline jobs={recentPlaybookJobs} />\n            </DataListCell>,\n            <DataListCell key=\"inventory\">\n              <>\n                <b css=\"margin-right: 24px\">{i18n._(t`清单`)}</b>\n                <Link\n                  to={`/inventories/inventory/${host.summary_fields.inventory.id}/details`}\n                >\n                  {host.summary_fields.inventory.name}\n                </Link>\n              </>\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nSmartInventoryHostListItem.propTypes = {\n  detailUrl: string.isRequired,\n  host: Host.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(SmartInventoryHostListItem);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport SmartInventoryHostListItem from './SmartInventoryHostListItem';\nimport useRequest from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport { InventoriesAPI } from '../../../api';\nimport { Inventory } from '../../../types';\nimport AdHocCommands from '../../../components/AdHocCommands/AdHocCommands';\n\nconst QS_CONFIG = getQSConfig('host', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction SmartInventoryHostList({ i18n, inventory }) {\n  const location = useLocation();\n\n  const {\n    result: { hosts, count },\n    error: contentError,\n    isLoading,\n    request: fetchHosts,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const {\n        data: { results, count: hostCount },\n      } = await InventoriesAPI.readHosts(inventory.id, params);\n\n      return {\n        hosts: results,\n        count: hostCount,\n      };\n    }, [location.search, inventory.id]),\n    {\n      hosts: [],\n      count: 0,\n    }\n  );\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    hosts\n  );\n\n  useEffect(() => {\n    fetchHosts();\n  }, [fetchHosts]);\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading}\n        items={hosts}\n        itemCount={count}\n        pluralizedItemName={i18n._(t`Hosts`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`Created by (username)`),\n            key: 'created_by__username',\n          },\n          {\n            name: i18n._(t`Modified by (username)`),\n            key: 'modified_by__username',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name',\n          },\n        ]}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...hosts] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={\n              inventory?.summary_fields?.user_capabilities?.adhoc\n                ? [\n                    <AdHocCommands\n                      adHocItems={selected}\n                      hasListItems={count > 0}\n                    />,\n                  ]\n                : []\n            }\n          />\n        )}\n        renderItem={host => (\n          <SmartInventoryHostListItem\n            key={host.id}\n            host={host}\n            detailUrl={`/inventories/smart_inventory/${inventory.id}/hosts/${host.id}/details`}\n            isSelected={selected.some(row => row.id === host.id)}\n            onSelect={() => handleSelect(host)}\n          />\n        )}\n      />\n    </>\n  );\n}\n\nSmartInventoryHostList.propTypes = {\n  inventory: Inventory.isRequired,\n};\n\nexport default withI18n()(SmartInventoryHostList);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Host } from '../../../types';\nimport { CardBody } from '../../../components/Card';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport Sparkline from '../../../components/Sparkline';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\n\nfunction SmartInventoryHostDetail({ host, i18n }) {\n  const {\n    created,\n    description,\n    enabled,\n    modified,\n    name,\n    variables,\n    summary_fields: { inventory, recent_jobs, created_by, modified_by },\n  } = host;\n\n  const recentPlaybookJobs = recent_jobs?.map(job => ({ ...job, type: 'job' }));\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} />\n        {recentPlaybookJobs?.length > 0 && (\n          <Detail\n            label={i18n._(t`Activity`)}\n            value={<Sparkline jobs={recentPlaybookJobs} />}\n          />\n        )}\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail\n          label={i18n._(t`清单`)}\n          value={\n            <Link to={`/inventories/inventory/${inventory?.id}/details`}>\n              {inventory?.name}\n            </Link>\n          }\n        />\n        <Detail\n          label={i18n._(t`Enabled`)}\n          value={enabled ? i18n._(t`On`) : i18n._(t`Off`)}\n        />\n        <UserDateDetail\n          date={created}\n          label={i18n._(t`已创建`)}\n          user={created_by}\n        />\n        <UserDateDetail\n          date={modified}\n          label={i18n._(t`Last modified`)}\n          user={modified_by}\n        />\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          rows={4}\n          value={variables}\n        />\n      </DetailList>\n    </CardBody>\n  );\n}\n\nSmartInventoryHostDetail.propTypes = {\n  host: Host.isRequired,\n};\n\nexport default withI18n()(SmartInventoryHostDetail);\n","import React, { useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, Redirect, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport RoutedTabs from '../../../components/RoutedTabs';\nimport SmartInventoryHostDetail from '../SmartInventoryHostDetail';\nimport useRequest from '../../../util/useRequest';\nimport { InventoriesAPI } from '../../../api';\n\nfunction SmartInventoryHost({ i18n, inventory, setBreadcrumb }) {\n  const { params, path, url } = useRouteMatch(\n    '/inventories/smart_inventory/:id/hosts/:hostId'\n  );\n\n  const { result: host, error, isLoading, request: fetchHost } = useRequest(\n    useCallback(async () => {\n      const response = await InventoriesAPI.readHostDetail(\n        inventory.id,\n        params.hostId\n      );\n      return response;\n    }, [inventory.id, params.hostId]),\n    null\n  );\n\n  useEffect(() => {\n    fetchHost();\n  }, [fetchHost]);\n\n  useEffect(() => {\n    if (inventory && host) {\n      setBreadcrumb(inventory, host);\n    }\n  }, [inventory, host, setBreadcrumb]);\n\n  if (error) {\n    return <ContentError error={error} />;\n  }\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Hosts`)}\n        </>\n      ),\n      link: `/inventories/smart_inventory/${inventory.id}/hosts`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${url}/details`,\n      id: 1,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n\n      {isLoading && <ContentLoading />}\n\n      {!isLoading && host && (\n        <Switch>\n          <Redirect\n            from=\"/inventories/smart_inventory/:id/hosts/:hostId\"\n            to={`${path}/details`}\n            exact\n          />\n          <Route key=\"details\" path={`${path}/details`}>\n            <SmartInventoryHostDetail host={host} />\n          </Route>\n          <Route key=\"not-found\" path=\"*\">\n            <ContentError isNotFound>\n              <Link to={`${url}/details`}>\n                {i18n._(t`View smart inventory host details`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(SmartInventoryHost);\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport SmartInventoryHostList from './SmartInventoryHostList';\nimport SmartInventoryHost from '../SmartInventoryHost';\nimport { Inventory } from '../../../types';\n\nfunction SmartInventoryHosts({ inventory, setBreadcrumb }) {\n  return (\n    <Switch>\n      <Route key=\"host\" path=\"/inventories/smart_inventory/:id/hosts/:hostId\">\n        <SmartInventoryHost\n          setBreadcrumb={setBreadcrumb}\n          inventory={inventory}\n        />\n      </Route>\n      <Route key=\"host-list\" path=\"/inventories/smart_inventory/:id/hosts\">\n        <SmartInventoryHostList inventory={inventory} />\n      </Route>\n    </Switch>\n  );\n}\n\nSmartInventoryHosts.propTypes = {\n  inventory: Inventory.isRequired,\n};\n\nexport default SmartInventoryHosts;\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Link,\n  Switch,\n  Route,\n  Redirect,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport useRequest from '../../util/useRequest';\nimport { InventoriesAPI } from '../../api';\n\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport JobList from '../../components/JobList';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport SmartInventoryDetail from './SmartInventoryDetail';\nimport SmartInventoryEdit from './SmartInventoryEdit';\nimport SmartInventoryHosts from './SmartInventoryHosts';\n\nfunction SmartInventory({ i18n, setBreadcrumb }) {\n  const location = useLocation();\n  const match = useRouteMatch('/inventories/smart_inventory/:id');\n\n  const {\n    result: { inventory },\n    error: contentError,\n    isLoading: hasContentLoading,\n    request: fetchInventory,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await InventoriesAPI.readDetail(match.params.id);\n      return {\n        inventory: data,\n      };\n    }, [match.params.id]),\n    {\n      inventory: null,\n    }\n  );\n\n  useEffect(() => {\n    fetchInventory();\n  }, [fetchInventory]);\n\n  useEffect(() => {\n    if (inventory) {\n      setBreadcrumb(inventory);\n    }\n  }, [inventory, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Inventories`)}\n        </>\n      ),\n      link: `/inventories`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details`, id: 0 },\n    { name: i18n._(t`Access`), link: `${match.url}/access`, id: 1 },\n    { name: i18n._(t`Hosts`), link: `${match.url}/hosts`, id: 2 },\n    {\n      name: i18n._(t`Completed jobs`),\n      link: `${match.url}/completed_jobs`,\n      id: 3,\n    },\n  ];\n\n  if (hasContentLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError?.response?.status === 404 && (\n              <span>\n                {i18n._(t`Smart Inventory not found.`)}{' '}\n                <Link to=\"/inventories\">\n                  {i18n._(t`View all Inventories.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (inventory?.kind === '') {\n    return <Redirect to={`/inventories/inventory/${inventory.id}/details`} />;\n  }\n\n  let showCardHeader = true;\n\n  if (['edit', 'hosts/'].some(name => location.pathname.includes(name))) {\n    showCardHeader = false;\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect\n            from=\"/inventories/smart_inventory/:id\"\n            to=\"/inventories/smart_inventory/:id/details\"\n            exact\n          />\n          {inventory && [\n            <Route\n              key=\"details\"\n              path=\"/inventories/smart_inventory/:id/details\"\n            >\n              <SmartInventoryDetail\n                isLoading={hasContentLoading}\n                inventory={inventory}\n              />\n            </Route>,\n            <Route key=\"edit\" path=\"/inventories/smart_inventory/:id/edit\">\n              <SmartInventoryEdit inventory={inventory} />\n            </Route>,\n            <Route key=\"access\" path=\"/inventories/smart_inventory/:id/access\">\n              <ResourceAccessList\n                resource={inventory}\n                apiModel={InventoriesAPI}\n              />\n            </Route>,\n            <Route key=\"hosts\" path=\"/inventories/smart_inventory/:id/hosts\">\n              <SmartInventoryHosts\n                inventory={inventory}\n                setBreadcrumb={setBreadcrumb}\n              />\n            </Route>,\n            <Route\n              key=\"completed_jobs\"\n              path=\"/inventories/smart_inventory/:id/completed_jobs\"\n            >\n              <JobList\n                defaultParams={{\n                  or__job__inventory: inventory.id,\n                  or__adhoccommand__inventory: inventory.id,\n                  or__inventoryupdate__inventory_source__inventory:\n                    inventory.id,\n                  or__workflowjob__inventory: inventory.id,\n                }}\n              />\n            </Route>,\n            <Route key=\"not-found\" path=\"*\">\n              {!hasContentLoading && (\n                <ContentError isNotFound>\n                  {match.params.id && (\n                    <Link\n                      to={`/inventories/smart_inventory/${match.params.id}/details`}\n                    >\n                      {i18n._(t`View Inventory Details`)}\n                    </Link>\n                  )}\n                </ContentError>\n              )}\n            </Route>,\n          ]}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { SmartInventory as _SmartInventory };\nexport default withI18n()(SmartInventory);\n","import React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport ContentLoading from '../../../components/ContentLoading';\n\nimport { InventoriesAPI, CredentialTypesAPI } from '../../../api';\nimport InventoryForm from '../shared/InventoryForm';\n\nfunction InventoryAdd() {\n  const [error, setError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [credentialTypeId, setCredentialTypeId] = useState(null);\n  const history = useHistory();\n\n  useEffect(() => {\n    const loadData = async () => {\n      try {\n        const {\n          data: { results: loadedCredentialTypeId },\n        } = await CredentialTypesAPI.read({ kind: 'insights' });\n        setCredentialTypeId(loadedCredentialTypeId[0].id);\n      } catch (err) {\n        setError(err);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    loadData();\n  }, [isLoading, credentialTypeId]);\n\n  const handleCancel = () => {\n    history.push('/inventories');\n  };\n\n  const handleSubmit = async values => {\n    const {\n      instanceGroups,\n      organization,\n      insights_credential,\n      ...remainingValues\n    } = values;\n    try {\n      const {\n        data: { id: inventoryId },\n      } = await InventoriesAPI.create({\n        organization: organization.id,\n        insights_credential: insights_credential\n          ? insights_credential.id\n          : null,\n        ...remainingValues,\n      });\n      if (instanceGroups) {\n        const associatePromises = instanceGroups.map(async ig =>\n          InventoriesAPI.associateInstanceGroup(inventoryId, ig.id)\n        );\n        await Promise.all(associatePromises);\n      }\n      const url = history.location.pathname.startsWith(\n        '/inventories/smart_inventory'\n      )\n        ? `/inventories/smart_inventory/${inventoryId}/details`\n        : `/inventories/inventory/${inventoryId}/details`;\n\n      history.push(`${url}`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <InventoryForm\n            onCancel={handleCancel}\n            onSubmit={handleSubmit}\n            credentialTypeId={credentialTypeId}\n            submitError={error}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { InventoryAdd as _InventoryAdd };\nexport default InventoryAdd;\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport SmartInventoryForm from '../shared/SmartInventoryForm';\nimport useRequest from '../../../util/useRequest';\nimport { InventoriesAPI } from '../../../api';\n\nfunction SmartInventoryAdd() {\n  const history = useHistory();\n\n  const {\n    error: submitError,\n    request: submitRequest,\n    result: inventoryId,\n  } = useRequest(\n    useCallback(async (values, groupsToAssociate) => {\n      const {\n        data: { id: invId },\n      } = await InventoriesAPI.create(values);\n\n      await Promise.all(\n        groupsToAssociate.map(({ id }) =>\n          InventoriesAPI.associateInstanceGroup(invId, id)\n        )\n      );\n      return invId;\n    }, [])\n  );\n\n  const handleSubmit = async form => {\n    const { instance_groups, organization, ...remainingForm } = form;\n\n    await submitRequest(\n      {\n        organization: organization?.id,\n        ...remainingForm,\n      },\n      instance_groups\n    );\n  };\n\n  const handleCancel = () => {\n    history.push({\n      pathname: '/inventories',\n      search: '',\n    });\n  };\n\n  useEffect(() => {\n    if (inventoryId) {\n      history.push({\n        pathname: `/inventories/smart_inventory/${inventoryId}/details`,\n        search: '',\n      });\n    }\n  }, [inventoryId, history]);\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <SmartInventoryForm\n            onCancel={handleCancel}\n            onSubmit={handleSubmit}\n            submitError={submitError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default SmartInventoryAdd;\n","import React, { useState, useCallback, useRef } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Route, Switch } from 'react-router-dom';\n\nimport { Config } from '../../contexts/Config';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\nimport { InventoryList } from './InventoryList';\nimport Inventory from './Inventory';\nimport SmartInventory from './SmartInventory';\nimport InventoryAdd from './InventoryAdd';\nimport SmartInventoryAdd from './SmartInventoryAdd';\n\nfunction Inventories({ i18n }) {\n  const initScreenHeader = useRef({\n    '/inventories': i18n._(t`Inventories`),\n    '/inventories/inventory/add': i18n._(t`Create new inventory`),\n    '/inventories/smart_inventory/add': i18n._(t`Create new smart inventory`),\n  });\n\n  const [breadcrumbConfig, setScreenHeader] = useState(\n    initScreenHeader.current\n  );\n\n  const [inventory, setInventory] = useState();\n  const [nestedObject, setNestedGroup] = useState();\n  const [schedule, setSchedule] = useState();\n\n  const setBreadcrumbConfig = useCallback(\n    (passedInventory, passedNestedObject, passedSchedule) => {\n      if (passedInventory && passedInventory.name !== inventory?.name) {\n        setInventory(passedInventory);\n      }\n      if (\n        passedNestedObject &&\n        passedNestedObject.name !== nestedObject?.name\n      ) {\n        setNestedGroup(passedNestedObject);\n      }\n      if (passedSchedule && passedSchedule.name !== schedule?.name) {\n        setSchedule(passedSchedule);\n      }\n      if (!inventory) {\n        return;\n      }\n\n      const inventoryKind =\n        inventory.kind === 'smart' ? 'smart_inventory' : 'inventory';\n\n      const inventoryPath = `/inventories/${inventoryKind}/${inventory.id}`;\n      const inventoryHostsPath = `${inventoryPath}/hosts`;\n      const inventoryGroupsPath = `${inventoryPath}/groups`;\n      const inventorySourcesPath = `${inventoryPath}/sources`;\n\n      setScreenHeader({\n        ...initScreenHeader.current,\n        [inventoryPath]: `${inventory.name}`,\n        [`${inventoryPath}/access`]: i18n._(t`Access`),\n        [`${inventoryPath}/completed_jobs`]: i18n._(t`Completed jobs`),\n        [`${inventoryPath}/details`]: i18n._(t`Details`),\n        [`${inventoryPath}/edit`]: i18n._(t`Edit details`),\n\n        [inventoryHostsPath]: i18n._(t`Hosts`),\n        [`${inventoryHostsPath}/add`]: i18n._(t`Create new host`),\n        [`${inventoryHostsPath}/${nestedObject?.id}`]: `${nestedObject?.name}`,\n        [`${inventoryHostsPath}/${nestedObject?.id}/edit`]: i18n._(\n          t`Edit details`\n        ),\n        [`${inventoryHostsPath}/${nestedObject?.id}/details`]: i18n._(\n          t`Host details`\n        ),\n        [`${inventoryHostsPath}/${nestedObject?.id}/completed_jobs`]: i18n._(\n          t`Completed jobs`\n        ),\n        [`${inventoryHostsPath}/${nestedObject?.id}/facts`]: i18n._(t`Facts`),\n        [`${inventoryHostsPath}/${nestedObject?.id}/groups`]: i18n._(t`Groups`),\n\n        [inventoryGroupsPath]: i18n._(t`Groups`),\n        [`${inventoryGroupsPath}/add`]: i18n._(t`Create new group`),\n        [`${inventoryGroupsPath}/${nestedObject?.id}`]: `${nestedObject?.name}`,\n        [`${inventoryGroupsPath}/${nestedObject?.id}/edit`]: i18n._(\n          t`Edit details`\n        ),\n        [`${inventoryGroupsPath}/${nestedObject?.id}/details`]: i18n._(\n          t`Group details`\n        ),\n        [`${inventoryGroupsPath}/${nestedObject?.id}/nested_hosts`]: i18n._(\n          t`Hosts`\n        ),\n        [`${inventoryGroupsPath}/${nestedObject?.id}/nested_hosts/add`]: i18n._(\n          t`Create new host`\n        ),\n        [`${inventoryGroupsPath}/${nestedObject?.id}/nested_groups`]: i18n._(\n          t`Related Groups`\n        ),\n        [`${inventoryGroupsPath}/${nestedObject?.id}/nested_groups/add`]: i18n._(\n          t`Create new group`\n        ),\n\n        [`${inventorySourcesPath}`]: i18n._(t`Sources`),\n        [`${inventorySourcesPath}/add`]: i18n._(t`Create new source`),\n        [`${inventorySourcesPath}/${nestedObject?.id}`]: `${nestedObject?.name}`,\n        [`${inventorySourcesPath}/${nestedObject?.id}/details`]: i18n._(\n          t`Details`\n        ),\n        [`${inventorySourcesPath}/${nestedObject?.id}/edit`]: i18n._(\n          t`Edit details`\n        ),\n        [`${inventorySourcesPath}/${nestedObject?.id}/schedules`]: i18n._(\n          t`Schedules`\n        ),\n        [`${inventorySourcesPath}/${nestedObject?.id}/schedules/${schedule?.id}`]: `${schedule?.name}`,\n        [`${inventorySourcesPath}/${nestedObject?.id}/schedules/add`]: i18n._(\n          t`Create New Schedule`\n        ),\n        [`${inventorySourcesPath}/${nestedObject?.id}/schedules/${schedule?.id}/details`]: i18n._(\n          t`Schedule details`\n        ),\n        [`${inventorySourcesPath}/${nestedObject?.id}/notifications`]: i18n._(\n          t`Notifcations`\n        ),\n      });\n    },\n    [i18n, inventory, nestedObject, schedule]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"inventory\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/inventories/inventory/add\">\n          <InventoryAdd />\n        </Route>\n        <Route path=\"/inventories/smart_inventory/add\">\n          <SmartInventoryAdd />\n        </Route>\n        <Route path=\"/inventories/inventory/:id\">\n          <Config>\n            {({ me }) => (\n              <Inventory setBreadcrumb={setBreadcrumbConfig} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path=\"/inventories/smart_inventory/:id\">\n          <SmartInventory setBreadcrumb={setBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/inventories\">\n          <InventoryList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Inventories as _Inventories };\nexport default withI18n()(Inventories);\n","import 'styled-components/macro';\nimport React, { useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Chip, Label } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nimport AlertModal from '../../../components/AlertModal';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ChipGroup from '../../../components/ChipGroup';\nimport CredentialChip from '../../../components/CredentialChip';\nimport { VariablesInput as _VariablesInput } from '../../../components/CodeMirrorInput';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport LaunchButton from '../../../components/LaunchButton';\nimport StatusIcon from '../../../components/StatusIcon';\nimport { toTitleCase } from '../../../util/strings';\nimport { formatDateString } from '../../../util/dates';\nimport { Job } from '../../../types';\nimport {\n  JobsAPI,\n  ProjectUpdatesAPI,\n  SystemJobsAPI,\n  WorkflowJobsAPI,\n  InventoriesAPI,\n  AdHocCommandsAPI,\n} from '../../../api';\n\nconst VariablesInput = styled(_VariablesInput)`\n  .pf-c-form__label {\n    --pf-c-form__label--FontWeight: var(--pf-global--FontWeight--bold);\n  }\n`;\n\nconst StatusDetailValue = styled.div`\n  align-items: center;\n  display: inline-grid;\n  grid-gap: 10px;\n  grid-template-columns: auto auto;\n`;\n\nconst VERBOSITY = {\n  0: '0 (Normal)',\n  1: '1 (Verbose)',\n  2: '2 (More Verbose)',\n  3: '3 (Debug)',\n  4: '4 (Connection Debug)',\n};\n\nconst getLaunchedByDetails = ({ summary_fields = {}, related = {} }) => {\n  const {\n    created_by: createdBy,\n    job_template: jobTemplate,\n    schedule,\n  } = summary_fields;\n  const { schedule: relatedSchedule } = related;\n\n  if (!createdBy && !schedule) {\n    return null;\n  }\n\n  let link;\n  let value;\n\n  if (createdBy) {\n    link = `/users/${createdBy.id}`;\n    value = createdBy.username;\n  } else if (relatedSchedule && jobTemplate) {\n    link = `/templates/job_template/${jobTemplate.id}/schedules/${schedule.id}`;\n    value = schedule.name;\n  } else {\n    link = null;\n    value = schedule.name;\n  }\n\n  return { link, value };\n};\n\nfunction JobDetail({ job, i18n }) {\n  const {\n    created_by,\n    credential,\n    credentials,\n    instance_group: instanceGroup,\n    inventory,\n    job_template: jobTemplate,\n    workflow_job_template: workflowJobTemplate,\n    labels,\n    project,\n  } = job.summary_fields;\n  const [errorMsg, setErrorMsg] = useState();\n  const history = useHistory();\n\n  const jobTypes = {\n    project_update: i18n._(t`Source Control Update`),\n    inventory_update: i18n._(t`Inventory Sync`),\n    job: i18n._(t`Playbook Run`),\n    ad_hoc_command: i18n._(t`Command`),\n    management_job: i18n._(t`Management Job`),\n    workflow_job: i18n._(t`Workflow Job`),\n  };\n\n  const { value: launchedByValue, link: launchedByLink } =\n    getLaunchedByDetails(job) || {};\n\n  const deleteJob = async () => {\n    try {\n      switch (job.type) {\n        case 'project_update':\n          await ProjectUpdatesAPI.destroy(job.id);\n          break;\n        case 'system_job':\n          await SystemJobsAPI.destroy(job.id);\n          break;\n        case 'workflow_job':\n          await WorkflowJobsAPI.destroy(job.id);\n          break;\n        case 'ad_hoc_command':\n          await AdHocCommandsAPI.destroy(job.id);\n          break;\n        case 'inventory_update':\n          await InventoriesAPI.destroy(job.id);\n          break;\n        default:\n          await JobsAPI.destroy(job.id);\n      }\n      history.push('/jobs');\n    } catch (err) {\n      setErrorMsg(err);\n    }\n  };\n\n  const isIsolatedInstanceGroup = item => {\n    if (item.is_isolated) {\n      return (\n        <>\n          <Link to={`/instance_groups/${item.id}`}>{item.name}</Link>\n          <span css=\"margin-left: 12px\">\n            <Label aria-label={i18n._(t`isolated instance`)}>\n              {i18n._(t`Isolated`)}\n            </Label>\n          </span>\n        </>\n      );\n    }\n    return <Link to={`/instance_groups/${item.id}`}>{item.name}</Link>;\n  };\n\n  return (\n    <CardBody>\n      <DetailList>\n        {/* TODO: hookup status to websockets */}\n        <Detail\n          label={i18n._(t`状态`)}\n          value={\n            <StatusDetailValue>\n              {job.status && <StatusIcon status={job.status} />}\n              {toTitleCase(job.status)}\n            </StatusDetailValue>\n          }\n        />\n        <Detail\n          label={i18n._(t`开始时间`)}\n          value={formatDateString(job.started)}\n        />\n        <Detail\n          label={i18n._(t`结束时间`)}\n          value={formatDateString(job.finished)}\n        />\n        {jobTemplate && (\n          <Detail\n            label={i18n._(t`作业模板`)}\n            value={\n              <Link to={`/templates/job_template/${jobTemplate.id}`}>\n                {jobTemplate.name}\n              </Link>\n            }\n          />\n        )}\n        {workflowJobTemplate && (\n          <Detail\n            label={i18n._(t`Workflow Job Template`)}\n            value={\n              <Link\n                to={`/templates/workflow_job_template/${workflowJobTemplate.id}`}\n              >\n                {workflowJobTemplate.name}\n              </Link>\n            }\n          />\n        )}\n        <Detail label={i18n._(t`作业类型`)} value={jobTypes[job.type]} />\n        <Detail\n          label={i18n._(t`发起者`)}\n          value={\n            launchedByLink ? (\n              <Link to={`${launchedByLink}`}>{launchedByValue}</Link>\n            ) : (\n              launchedByValue\n            )\n          }\n        />\n        {inventory && (\n          <Detail\n            label={i18n._(t`清单`)}\n            value={\n              <Link\n                to={\n                  inventory.kind === 'smart'\n                    ? `/inventories/smart_inventory/${inventory.id}`\n                    : `/inventories/inventory/${inventory.id}`\n                }\n              >\n                {inventory.name}\n              </Link>\n            }\n          />\n        )}\n        {project && (\n          <Detail\n            label={i18n._(t`项目`)}\n            value={\n              <StatusDetailValue>\n                {project.status && <StatusIcon status={project.status} />}\n                <Link to={`/projects/${project.id}`}>{project.name}</Link>\n              </StatusDetailValue>\n            }\n          />\n        )}\n        <Detail label={i18n._(t`Revision`)} value={job.scm_revision} />\n        <Detail label={i18n._(t`剧本`)} value={job.playbook} />\n        <Detail label={i18n._(t`范围`)} value={job.limit} />\n        <Detail label={i18n._(t`详细程度`)} value={VERBOSITY[job.verbosity]} />\n        <Detail label={i18n._(t`运行环境`)} value={job.custom_virtualenv} />\n        <Detail label={i18n._(t`执行节点`)} value={job.execution_node} />\n        {instanceGroup && (\n          <Detail\n            label={i18n._(t`实例组`)}\n            value={isIsolatedInstanceGroup(instanceGroup)}\n          />\n        )}\n        {typeof job.job_slice_number === 'number' &&\n          typeof job.job_slice_count === 'number' && (\n            <Detail\n              label={i18n._(t`作业分片`)}\n              value={`${job.job_slice_number}/${job.job_slice_count}`}\n            />\n          )}\n        {credential && (\n          <Detail\n            label={i18n._(t`Machine Credential`)}\n            value={\n              <ChipGroup numChips={5} totalChips={1}>\n                <CredentialChip\n                  key={credential.id}\n                  credential={credential}\n                  isReadOnly\n                />\n              </ChipGroup>\n            }\n          />\n        )}\n        {credentials && credentials.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Credentials`)}\n            value={\n              <ChipGroup numChips={5} totalChips={credentials.length}>\n                {credentials.map(c => (\n                  <CredentialChip key={c.id} credential={c} isReadOnly />\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {labels && labels.count > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Labels`)}\n            value={\n              <ChipGroup numChips={5} totalChips={labels.results.length}>\n                {labels.results.map(l => (\n                  <Chip key={l.id} isReadOnly>\n                    {l.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={job.created}\n          user={created_by}\n        />\n        <UserDateDetail label={i18n._(t`上次修改时间`)} date={job.modified} />\n      </DetailList>\n      {job.extra_vars && (\n        <VariablesInput\n          css=\"margin: 20px 0\"\n          id=\"job-variables\"\n          readOnly\n          value={job.extra_vars}\n          rows={4}\n          label={i18n._(t`变量`)}\n        />\n      )}\n      {job.artifacts && (\n        <VariablesInput\n          css=\"margin: 20px 0\"\n          id=\"job-artifacts\"\n          readOnly\n          value={JSON.stringify(job.artifacts)}\n          rows={4}\n          label={i18n._(t`构件`)}\n        />\n      )}\n      <CardActionsRow>\n        {job.type !== 'system_job' &&\n          job.summary_fields.user_capabilities.start && (\n            <LaunchButton resource={job} aria-label={i18n._(t`重运行`)}>\n              {({ handleRelaunch }) => (\n                <Button type=\"submit\" onClick={handleRelaunch}>\n                  {i18n._(t`重运行`)}\n                </Button>\n              )}\n            </LaunchButton>\n          )}\n        {job.summary_fields.user_capabilities.delete && (\n          <DeleteButton\n            name={job.name}\n            modalTitle={i18n._(t`Delete Job`)}\n            onConfirm={deleteJob}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {errorMsg && (\n        <AlertModal\n          isOpen={errorMsg}\n          variant=\"error\"\n          onClose={() => setErrorMsg()}\n          title={i18n._(t`Job Delete Error`)}\n        >\n          <ErrorDetail error={errorMsg} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nJobDetail.propTypes = {\n  job: Job.isRequired,\n};\n\nexport default withI18n()(JobDetail);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Badge, Tooltip } from '@patternfly/react-core';\n\nconst BarWrapper = styled.div`\n  background-color: #d7d7d7;\n  display: flex;\n  height: 5px;\n  margin: 24px 0;\n  width: 100%;\n`;\n\nconst BarSegment = styled.div`\n  background-color: ${props => props.color || 'inherit'};\n  flex-grow: ${props => props.count || 0};\n`;\nBarSegment.displayName = 'BarSegment';\n\nconst TooltipContent = styled.div`\n  align-items: center;\n  display: flex;\n\n  span.pf-c-badge {\n    margin-left: 10px;\n  }\n`;\n\nconst HostStatusBar = ({ i18n, counts = {} }) => {\n  const noData = Object.keys(counts).length === 0;\n  const hostStatus = {\n    ok: {\n      color: '#4CB140',\n      label: i18n._(t`OK`),\n    },\n    skipped: {\n      color: '#73BCF7',\n      label: i18n._(t`Skipped`),\n    },\n    changed: {\n      color: '#F0AB00',\n      label: i18n._(t`Changed`),\n    },\n    failures: {\n      color: '#C9190B',\n      label: i18n._(t`Failed`),\n    },\n    dark: {\n      color: '#8F4700',\n      label: i18n._(t`Unreachable`),\n    },\n  };\n\n  const barSegments = Object.keys(hostStatus).map(key => {\n    const count = counts[key] || 0;\n    return (\n      <Tooltip\n        key={key}\n        content={\n          <TooltipContent>\n            {hostStatus[key].label}\n            <Badge isRead>{count}</Badge>\n          </TooltipContent>\n        }\n      >\n        <BarSegment key={key} color={hostStatus[key].color} count={count} />\n      </Tooltip>\n    );\n  });\n\n  if (noData) {\n    return (\n      <BarWrapper>\n        <Tooltip\n          content={i18n._(\n            t`Host status information for this job is unavailable.`\n          )}\n        >\n          <BarSegment count={1} />\n        </Tooltip>\n      </BarWrapper>\n    );\n  }\n\n  return <BarWrapper>{barSegments}</BarWrapper>;\n};\n\nexport default withI18n()(HostStatusBar);\n","import styled from 'styled-components';\n\nexport default styled.div`\n  display: flex;\n\n  &:hover {\n    background-color: white;\n    cursor: ${props => (props.isClickable ? 'pointer' : 'default')};\n  }\n\n  &:hover div {\n    background-color: white;\n  }\n\n  &--hidden {\n    display: none;\n  }\n  ${({ isFirst }) => (isFirst ? 'padding-top: 10px;' : '')}\n`;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  background-color: #ebebeb;\n  color: #646972;\n  display: flex;\n  flex: 0 0 30px;\n  font-size: 18px;\n  justify-content: center;\n  line-height: 12px;\n\n  & > i {\n    cursor: pointer;\n  }\n\n  user-select: none;\n`;\n","import styled from 'styled-components';\n\nconst JobEventLineNumber = styled.div`\n  color: #161b1f;\n  background-color: #ebebeb;\n  flex: 0 0 45px;\n  text-align: right;\n  vertical-align: top;\n  padding-right: 5px;\n  border-right: 1px solid #d7d7d7;\n  user-select: none;\n`;\n\nJobEventLineNumber.displayName = 'JobEventLineNumber';\n\nexport default JobEventLineNumber;\n","import styled from 'styled-components';\n\nconst JobEventLineText = styled.div`\n  padding: 0 15px;\n  white-space: pre-wrap;\n  word-break: break-all;\n  word-wrap: break-word;\n\n  .time {\n    font-size: 14px;\n    font-weight: 600;\n    user-select: none;\n    background-color: #ebebeb;\n    border-radius: 12px;\n    padding: 2px 10px;\n    margin-left: 15px;\n  }\n\n  .content {\n    background: var(--pf-global--disabled-color--200);\n    background: linear-gradient(\n      to right,\n      #f5f5f5 10%,\n      #e8e8e8 18%,\n      #f5f5f5 33%\n    );\n    border-radius: 5px;\n  }\n`;\n\nJobEventLineText.displayName = 'JobEventLineText';\n\nexport default JobEventLineText;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { shape, func } from 'prop-types';\nimport {\n  DownloadIcon,\n  RocketIcon,\n  TrashAltIcon,\n} from '@patternfly/react-icons';\nimport { Badge as PFBadge, Button, Tooltip } from '@patternfly/react-core';\nimport DeleteButton from '../../../../components/DeleteButton';\nimport LaunchButton from '../../../../components/LaunchButton';\n\nconst BadgeGroup = styled.div`\n  margin-left: 20px;\n  height: 18px;\n  display: inline-flex;\n`;\n\nconst Badge = styled(PFBadge)`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n  ${props =>\n    props.color\n      ? `\n  background-color: ${props.color}\n  color: white;\n  `\n      : null}\n`;\n\nconst Wrapper = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: row wrap;\n  font-size: 14px;\n`;\n\nconst toHHMMSS = elapsed => {\n  const sec_num = parseInt(elapsed, 10);\n  const hours = Math.floor(sec_num / 3600);\n  const minutes = Math.floor(sec_num / 60) % 60;\n  const seconds = sec_num % 60;\n\n  const stampHours = hours < 10 ? `0${hours}` : hours;\n  const stampMinutes = minutes < 10 ? `0${minutes}` : minutes;\n  const stampSeconds = seconds < 10 ? `0${seconds}` : seconds;\n\n  return `${stampHours}:${stampMinutes}:${stampSeconds}`;\n};\n\nconst OUTPUT_NO_COUNT_JOB_TYPES = [\n  'ad_hoc_command',\n  'system_job',\n  'inventory_update',\n];\n\nconst OutputToolbar = ({ i18n, job, onDelete }) => {\n  const hideCounts = OUTPUT_NO_COUNT_JOB_TYPES.includes(job.type);\n\n  const playCount = job?.playbook_counts?.play_count;\n  const taskCount = job?.playbook_counts?.task_count;\n  const darkCount = job?.host_status_counts?.dark;\n  const failureCount = job?.host_status_counts?.failures;\n  const totalHostCount = Object.keys(job?.host_status_counts || {}).reduce(\n    (sum, key) => sum + job?.host_status_counts[key],\n    0\n  );\n\n  return (\n    <Wrapper>\n      {!hideCounts && (\n        <>\n          {playCount > 0 && (\n            <BadgeGroup aria-label={i18n._(t`Play Count`)}>\n              <div>{i18n._(t`Plays`)}</div>\n              <Badge isRead>{playCount}</Badge>\n            </BadgeGroup>\n          )}\n          {taskCount > 0 && (\n            <BadgeGroup aria-label={i18n._(t`Task Count`)}>\n              <div>{i18n._(t`Tasks`)}</div>\n              <Badge isRead>{taskCount}</Badge>\n            </BadgeGroup>\n          )}\n          {totalHostCount > 0 && (\n            <BadgeGroup aria-label={i18n._(t`Host Count`)}>\n              <div>{i18n._(t`Hosts`)}</div>\n              <Badge isRead>{totalHostCount}</Badge>\n            </BadgeGroup>\n          )}\n          {darkCount > 0 && (\n            <BadgeGroup aria-label={i18n._(t`Unreachable Host Count`)}>\n              <div>{i18n._(t`Unreachable`)}</div>\n              <Tooltip content={i18n._(t`Unreachable Hosts`)}>\n                <Badge color=\"#470000\" isRead>\n                  {darkCount}\n                </Badge>\n              </Tooltip>\n            </BadgeGroup>\n          )}\n          {failureCount > 0 && (\n            <BadgeGroup aria-label={i18n._(t`Failed Host Count`)}>\n              <div>{i18n._(t`Failed`)}</div>\n              <Tooltip content={i18n._(t`Failed Hosts`)}>\n                <Badge color=\"#C9190B\" isRead>\n                  {failureCount}\n                </Badge>\n              </Tooltip>\n            </BadgeGroup>\n          )}\n        </>\n      )}\n\n      <BadgeGroup aria-label={i18n._(t`Elapsed Time`)}>\n        <div>{i18n._(t`Elapsed`)}</div>\n        <Tooltip content={i18n._(t`Elapsed time that the job ran`)}>\n          <Badge isRead>{toHHMMSS(job.elapsed)}</Badge>\n        </Tooltip>\n      </BadgeGroup>\n\n      {job.type !== 'system_job' &&\n        job.summary_fields.user_capabilities?.start && (\n          <Tooltip content={i18n._(t`Relaunch Job`)}>\n            <LaunchButton resource={job} aria-label={i18n._(t`重运行`)}>\n              {({ handleRelaunch }) => (\n                <Button\n                  variant=\"plain\"\n                  onClick={handleRelaunch}\n                  aria-label={i18n._(t`重运行`)}\n                >\n                  <RocketIcon />\n                </Button>\n              )}\n            </LaunchButton>\n          </Tooltip>\n        )}\n\n      {job.related?.stdout && (\n        <Tooltip content={i18n._(t`Download Output`)}>\n          <a href={`${job.related.stdout}?format=txt_download`}>\n            <Button variant=\"plain\" aria-label={i18n._(t`Download Output`)}>\n              <DownloadIcon />\n            </Button>\n          </a>\n        </Tooltip>\n      )}\n\n      {job.summary_fields.user_capabilities.delete && (\n        <Tooltip content={i18n._(t`Delete Job`)}>\n          <DeleteButton\n            name={job.name}\n            modalTitle={i18n._(t`Delete Job`)}\n            onConfirm={onDelete}\n            variant=\"plain\"\n          >\n            <TrashAltIcon />\n          </DeleteButton>\n        </Tooltip>\n      )}\n    </Wrapper>\n  );\n};\n\nOutputToolbar.propTypes = {\n  job: shape({}).isRequired,\n  onDelete: func.isRequired,\n};\n\nexport default withI18n()(OutputToolbar);\n","import React from 'react';\nimport {\n  JobEventLine,\n  JobEventLineToggle,\n  JobEventLineNumber,\n  JobEventLineText,\n} from './shared';\n\nfunction JobEvent({\n  counter,\n  stdout,\n  style,\n  type,\n  lineTextHtml,\n  isClickable,\n  onJobEventClick,\n}) {\n  return !stdout ? null : (\n    <div style={style} type={type}>\n      {lineTextHtml.map(\n        ({ lineNumber, html }) =>\n          lineNumber >= 0 && (\n            <JobEventLine\n              onClick={isClickable ? onJobEventClick : undefined}\n              key={`${counter}-${lineNumber}`}\n              isFirst={lineNumber === 0}\n              isClickable={isClickable}\n            >\n              <JobEventLineToggle />\n              <JobEventLineNumber>{lineNumber}</JobEventLineNumber>\n              <JobEventLineText\n                type=\"job_event_line_text\"\n                dangerouslySetInnerHTML={{\n                  __html: html,\n                }}\n              />\n            </JobEventLine>\n          )\n      )}\n    </div>\n  );\n}\n\nexport default JobEvent;\n","import React from 'react';\nimport {\n  JobEventLine,\n  JobEventLineToggle,\n  JobEventLineNumber,\n  JobEventLineText,\n} from './shared';\n\nfunction JobEventSkeletonContent({ contentLength }) {\n  return (\n    <JobEventLineText>\n      <span className=\"content\">{' '.repeat(contentLength)}</span>\n    </JobEventLineText>\n  );\n}\n\nfunction JobEventSkeleton({ counter, contentLength, style }) {\n  return (\n    counter > 1 && (\n      <div style={style}>\n        <JobEventLine key={counter}>\n          <JobEventLineToggle />\n          <JobEventLineNumber />\n          <JobEventSkeletonContent contentLength={contentLength} />\n        </JobEventLine>\n      </div>\n    )\n  );\n}\n\nexport default JobEventSkeleton;\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button as PFButton } from '@patternfly/react-core';\nimport {\n  PlusIcon,\n  AngleDoubleUpIcon,\n  AngleDoubleDownIcon,\n  AngleUpIcon,\n  AngleDownIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.div`\n  display: flex;\n  height: 35px;\n  outline: 1px solid #d7d7d7;\n  width: 100%;\n`;\n\nconst Button = styled(PFButton)`\n  position: relative;\n  z-index: 1;\n`;\n\nconst PageControls = ({\n  i18n,\n  onScrollFirst,\n  onScrollLast,\n  onScrollNext,\n  onScrollPrevious,\n}) => (\n  <Wrapper>\n    <Button\n      aria-label={i18n._(t`Toggle expand/collapse event lines`)}\n      variant=\"plain\"\n      css=\"margin-right: auto\"\n    >\n      <PlusIcon />\n    </Button>\n    <Button\n      aria-label={i18n._(t`Scroll previous`)}\n      onClick={onScrollPrevious}\n      variant=\"plain\"\n    >\n      <AngleUpIcon />\n    </Button>\n    <Button\n      aria-label={i18n._(t`Scroll next`)}\n      onClick={onScrollNext}\n      variant=\"plain\"\n    >\n      <AngleDownIcon />\n    </Button>\n    <Button\n      aria-label={i18n._(t`Scroll first`)}\n      onClick={onScrollFirst}\n      variant=\"plain\"\n    >\n      <AngleDoubleUpIcon />\n    </Button>\n    <Button\n      aria-label={i18n._(t`Scroll last`)}\n      onClick={onScrollLast}\n      variant=\"plain\"\n    >\n      <AngleDoubleDownIcon />\n    </Button>\n  </Wrapper>\n);\n\nexport default withI18n()(PageControls);\n","import React, { useEffect, useState } from 'react';\nimport { Modal, Tab, Tabs, TabTitleText } from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { AllHtmlEntities } from 'html-entities';\nimport StatusIcon from '../../../components/StatusIcon';\nimport { DetailList, Detail } from '../../../components/DetailList';\nimport ContentEmpty from '../../../components/ContentEmpty';\nimport CodeMirrorInput from '../../../components/CodeMirrorInput';\n\nconst entities = new AllHtmlEntities();\n\nconst HostNameDetailValue = styled.div`\n  align-items: center;\n  display: inline-grid;\n  grid-gap: 10px;\n  grid-template-columns: auto auto;\n`;\n\nconst processEventStatus = event => {\n  let status = null;\n  if (event.event === 'runner_on_unreachable') {\n    status = 'unreachable';\n  }\n  // equiv to 'runner_on_error' && 'runner_on_failed'\n  if (event.failed) {\n    status = 'failed';\n  }\n  if (\n    event.event === 'runner_on_ok' ||\n    event.event === 'runner_on_async_ok' ||\n    event.event === 'runner_item_on_ok'\n  ) {\n    status = 'ok';\n  }\n  // if 'ok' and 'changed' are both true, show 'changed'\n  if (event.changed) {\n    status = 'changed';\n  }\n  if (event.event === 'runner_on_skipped') {\n    status = 'skipped';\n  }\n  return status;\n};\n\nconst processCodeMirrorValue = value => {\n  let codeMirrorValue;\n  if (value === undefined) {\n    codeMirrorValue = false;\n  } else if (value === '') {\n    codeMirrorValue = ' ';\n  } else if (typeof value === 'string') {\n    codeMirrorValue = entities.encode(value);\n  } else {\n    codeMirrorValue = value;\n  }\n  return codeMirrorValue;\n};\n\nconst processStdOutValue = hostEvent => {\n  const taskAction = hostEvent?.event_data?.taskAction;\n  const res = hostEvent?.event_data?.res;\n\n  let stdOut;\n  if (taskAction === 'debug' && res.result && res.result.stdout) {\n    stdOut = res.result.stdout;\n  } else if (\n    taskAction === 'yum' &&\n    res.results &&\n    Array.isArray(res.results)\n  ) {\n    [stdOut] = res.results;\n  } else if (res) {\n    stdOut = res.stdout;\n  }\n  return stdOut;\n};\n\nfunction HostEventModal({ onClose, hostEvent = {}, isOpen = false, i18n }) {\n  const [hostStatus, setHostStatus] = useState(null);\n  const [activeTabKey, setActiveTabKey] = useState(0);\n\n  useEffect(() => {\n    setHostStatus(processEventStatus(hostEvent));\n  }, [setHostStatus, hostEvent]);\n\n  const handleTabClick = (event, tabIndex) => {\n    setActiveTabKey(tabIndex);\n  };\n\n  const jsonObj = processCodeMirrorValue(hostEvent?.event_data?.res);\n  const stdErr = processCodeMirrorValue(hostEvent?.event_data?.res?.stderr);\n  const stdOut = processCodeMirrorValue(processStdOutValue(hostEvent));\n\n  return (\n    <Modal\n      isOpen={isOpen}\n      onClose={onClose}\n      title={i18n._(t`Host Details`)}\n      aria-label={i18n._(t`Host details modal`)}\n      width=\"75%\"\n    >\n      <Tabs\n        aria-label={i18n._(t`Tabs`)}\n        activeKey={activeTabKey}\n        onSelect={handleTabClick}\n      >\n        <Tab\n          aria-label={i18n._(t`Details tab`)}\n          eventKey={0}\n          title={<TabTitleText>{i18n._(t`Details`)}</TabTitleText>}\n        >\n          <DetailList\n            style={{ alignItems: 'center', marginTop: '20px' }}\n            gutter=\"sm\"\n          >\n            <Detail\n              label={i18n._(t`Host Name`)}\n              value={\n                <HostNameDetailValue>\n                  {hostStatus ? <StatusIcon status={hostStatus} /> : null}\n                  {hostEvent.host_name}\n                </HostNameDetailValue>\n              }\n            />\n            <Detail label={i18n._(t`Play`)} value={hostEvent.play} />\n            <Detail label={i18n._(t`Task`)} value={hostEvent.task} />\n            <Detail\n              label={i18n._(t`Module`)}\n              value={\n                hostEvent.event_data.task_action || i18n._(t`No result found`)\n              }\n            />\n            <Detail\n              label={i18n._(t`Command`)}\n              value={hostEvent?.event_data?.res?.cmd}\n            />\n          </DetailList>\n        </Tab>\n        <Tab\n          eventKey={1}\n          title={<TabTitleText>{i18n._(t`JSON`)}</TabTitleText>}\n          aria-label={i18n._(t`JSON tab`)}\n        >\n          {activeTabKey === 1 && jsonObj ? (\n            <CodeMirrorInput\n              mode=\"javascript\"\n              readOnly\n              value={JSON.stringify(jsonObj, null, 2)}\n              onChange={() => {}}\n              rows={20}\n              hasErrors={false}\n            />\n          ) : (\n            <ContentEmpty title={i18n._(t`No JSON Available`)} />\n          )}\n        </Tab>\n        <Tab\n          eventKey={2}\n          title={<TabTitleText>{i18n._(t`Standard Out`)}</TabTitleText>}\n          aria-label={i18n._(t`Standard out tab`)}\n        >\n          {activeTabKey === 2 && stdOut ? (\n            <CodeMirrorInput\n              mode=\"javascript\"\n              readOnly\n              value={stdOut}\n              onChange={() => {}}\n              rows={20}\n              hasErrors={false}\n            />\n          ) : (\n            <ContentEmpty title={i18n._(t`No Standard Out Available`)} />\n          )}\n        </Tab>\n        <Tab\n          eventKey={3}\n          title={<TabTitleText>{i18n._(t`Standard Error`)}</TabTitleText>}\n          aria-label={i18n._(t`Standard error tab`)}\n        >\n          {activeTabKey === 3 && stdErr ? (\n            <CodeMirrorInput\n              mode=\"javascript\"\n              readOnly\n              onChange={() => {}}\n              value={stdErr}\n              hasErrors={false}\n              rows={20}\n            />\n          ) : (\n            <ContentEmpty title={i18n._(t`No Standard Error Available`)} />\n          )}\n        </Tab>\n      </Tabs>\n    </Modal>\n  );\n}\n\nexport default withI18n()(HostEventModal);\n\nHostEventModal.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  hostEvent: PropTypes.shape({}),\n  isOpen: PropTypes.bool,\n};\n\nHostEventModal.defaultProps = {\n  hostEvent: null,\n  isOpen: false,\n};\n","import React, { Component, Fragment } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { I18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport {\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache,\n  InfiniteLoader,\n  List,\n} from 'react-virtualized';\nimport Ansi from 'ansi-to-html';\nimport hasAnsi from 'has-ansi';\nimport { AllHtmlEntities } from 'html-entities';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody } from '../../../components/Card';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport StatusIcon from '../../../components/StatusIcon';\n\nimport JobEvent from './JobEvent';\nimport JobEventSkeleton from './JobEventSkeleton';\nimport PageControls from './PageControls';\nimport HostEventModal from './HostEventModal';\nimport { HostStatusBar, OutputToolbar } from './shared';\nimport {\n  JobsAPI,\n  ProjectUpdatesAPI,\n  SystemJobsAPI,\n  WorkflowJobsAPI,\n  InventoriesAPI,\n  AdHocCommandsAPI,\n} from '../../../api';\n\nconst EVENT_START_TASK = 'playbook_on_task_start';\nconst EVENT_START_PLAY = 'playbook_on_play_start';\nconst EVENT_STATS_PLAY = 'playbook_on_stats';\nconst TIME_EVENTS = [EVENT_START_TASK, EVENT_START_PLAY, EVENT_STATS_PLAY];\n\nconst ansi = new Ansi({\n  stream: true,\n  colors: {\n    0: '#000',\n    1: '#A30000',\n    2: '#486B00',\n    3: '#795600',\n    4: '#00A',\n    5: '#A0A',\n    6: '#004368',\n    7: '#AAA',\n    8: '#555',\n    9: '#F55',\n    10: '#5F5',\n    11: '#FF5',\n    12: '#55F',\n    13: '#F5F',\n    14: '#5FF',\n    15: '#FFF',\n  },\n});\nconst entities = new AllHtmlEntities();\n\nfunction getTimestamp({ created }) {\n  const date = new Date(created);\n\n  const dateHours = date.getHours();\n  const dateMinutes = date.getMinutes();\n  const dateSeconds = date.getSeconds();\n\n  const stampHours = dateHours < 10 ? `0${dateHours}` : dateHours;\n  const stampMinutes = dateMinutes < 10 ? `0${dateMinutes}` : dateMinutes;\n  const stampSeconds = dateSeconds < 10 ? `0${dateSeconds}` : dateSeconds;\n\n  return `${stampHours}:${stampMinutes}:${stampSeconds}`;\n}\n\nconst styleAttrPattern = new RegExp('style=\"[^\"]*\"', 'g');\n\nfunction createStyleAttrHash(styleAttr) {\n  let hash = 0;\n  for (let i = 0; i < styleAttr.length; i++) {\n    hash = (hash << 5) - hash; // eslint-disable-line no-bitwise\n    hash += styleAttr.charCodeAt(i);\n    hash &= hash; // eslint-disable-line no-bitwise\n  }\n  return `${hash}`;\n}\n\nfunction replaceStyleAttrs(html) {\n  const allStyleAttrs = [...new Set(html.match(styleAttrPattern))];\n  const cssMap = {};\n  let result = html;\n  for (let i = 0; i < allStyleAttrs.length; i++) {\n    const styleAttr = allStyleAttrs[i];\n    const cssClassName = `output-${createStyleAttrHash(styleAttr)}`;\n\n    cssMap[cssClassName] = styleAttr.replace('style=\"', '').slice(0, -1);\n    result = result.split(styleAttr).join(`class=\"${cssClassName}\"`);\n  }\n  return { cssMap, result };\n}\n\nfunction getLineTextHtml({ created, event, start_line, stdout }) {\n  const sanitized = entities.encode(stdout);\n  let lineCssMap = {};\n  const lineTextHtml = [];\n\n  sanitized.split('\\r\\n').forEach((lineText, index) => {\n    let html;\n    if (hasAnsi(lineText)) {\n      const { cssMap, result } = replaceStyleAttrs(ansi.toHtml(lineText));\n      html = result;\n      lineCssMap = { ...lineCssMap, ...cssMap };\n    } else {\n      html = lineText;\n    }\n\n    if (index === 1 && TIME_EVENTS.includes(event)) {\n      const time = getTimestamp({ created });\n      html += `<span class=\"time\">${time}</span>`;\n    }\n\n    lineTextHtml.push({\n      lineNumber: start_line + index,\n      html,\n    });\n  });\n\n  return {\n    lineCssMap,\n    lineTextHtml,\n  };\n}\n\nconst HeaderTitle = styled.div`\n  display: inline-flex;\n  align-items: center;\n  h1 {\n    margin-left: 10px;\n    font-weight: var(--pf-global--FontWeight--bold);\n  }\n`;\n\nconst OutputHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nconst OutputWrapper = styled.div`\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  font-family: monospace;\n  font-size: 15px;\n  height: calc(100vh - 350px);\n  outline: 1px solid #d7d7d7;\n  ${({ cssMap }) =>\n    Object.keys(cssMap).map(className => `.${className}{${cssMap[className]}}`)}\n`;\n\nconst OutputFooter = styled.div`\n  background-color: #ebebeb;\n  border-right: 1px solid #d7d7d7;\n  width: 75px;\n  flex: 1;\n`;\n\nlet ws;\nfunction connectJobSocket({ type, id }, onMessage) {\n  ws = new WebSocket(\n    `${window.location.protocol === 'http:' ? 'ws:' : 'wss:'}//${\n      window.location.host\n    }/websocket/`\n  );\n\n  ws.onopen = () => {\n    const xrftoken = `; ${document.cookie}`\n      .split('; csrftoken=')\n      .pop()\n      .split(';')\n      .shift();\n    const eventGroup = `${type}_events`;\n    ws.send(\n      JSON.stringify({\n        xrftoken,\n        groups: { jobs: ['summary', 'status_changed'], [eventGroup]: [id] },\n      })\n    );\n  };\n\n  ws.onmessage = e => {\n    onMessage(JSON.parse(e.data));\n  };\n\n  ws.onclose = e => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket closed. Reconnecting...', e);\n    setTimeout(() => {\n      connectJobSocket({ type, id }, onMessage);\n    }, 1000);\n  };\n\n  ws.onerror = err => {\n    // eslint-disable-next-line no-console\n    console.debug('Socket error: ', err, 'Disconnecting...');\n    ws.close();\n  };\n}\n\nfunction range(low, high) {\n  const numbers = [];\n  for (let n = low; n <= high; n++) {\n    numbers.push(n);\n  }\n  return numbers;\n}\n\nclass JobOutput extends Component {\n  constructor(props) {\n    super(props);\n    this.listRef = React.createRef();\n    this.state = {\n      contentError: null,\n      deletionError: null,\n      hasContentLoading: true,\n      results: {},\n      currentlyLoading: [],\n      remoteRowCount: 0,\n      isHostModalOpen: false,\n      hostEvent: {},\n      cssMap: {},\n    };\n\n    this.cache = new CellMeasurerCache({\n      fixedWidth: true,\n      defaultHeight: 25,\n    });\n\n    this._isMounted = false;\n    this.loadJobEvents = this.loadJobEvents.bind(this);\n    this.handleDeleteJob = this.handleDeleteJob.bind(this);\n    this.rowRenderer = this.rowRenderer.bind(this);\n    this.handleHostEventClick = this.handleHostEventClick.bind(this);\n    this.handleHostModalClose = this.handleHostModalClose.bind(this);\n    this.handleScrollFirst = this.handleScrollFirst.bind(this);\n    this.handleScrollLast = this.handleScrollLast.bind(this);\n    this.handleScrollNext = this.handleScrollNext.bind(this);\n    this.handleScrollPrevious = this.handleScrollPrevious.bind(this);\n    this.handleResize = this.handleResize.bind(this);\n    this.isRowLoaded = this.isRowLoaded.bind(this);\n    this.loadMoreRows = this.loadMoreRows.bind(this);\n    this.scrollToRow = this.scrollToRow.bind(this);\n    this.monitorJobSocketCounter = this.monitorJobSocketCounter.bind(this);\n  }\n\n  componentDidMount() {\n    const { job } = this.props;\n    this._isMounted = true;\n    this.loadJobEvents();\n\n    connectJobSocket(job, data => {\n      if (data.counter && data.counter > this.jobSocketCounter) {\n        this.jobSocketCounter = data.counter;\n      } else if (data.final_counter && data.unified_job_id === job.id) {\n        this.jobSocketCounter = data.final_counter;\n      }\n    });\n    this.interval = setInterval(() => this.monitorJobSocketCounter(), 5000);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // recompute row heights for any job events that have transitioned\n    // from loading to loaded\n    const { currentlyLoading, cssMap } = this.state;\n    let shouldRecomputeRowHeights = false;\n    prevState.currentlyLoading\n      .filter(n => !currentlyLoading.includes(n))\n      .forEach(n => {\n        shouldRecomputeRowHeights = true;\n        this.cache.clear(n);\n      });\n    if (Object.keys(cssMap).length !== Object.keys(prevState.cssMap).length) {\n      shouldRecomputeRowHeights = true;\n    }\n    if (shouldRecomputeRowHeights) {\n      if (this.listRef.recomputeRowHeights) {\n        this.listRef.recomputeRowHeights();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    if (ws) {\n      ws.close();\n    }\n    clearInterval(this.interval);\n    this._isMounted = false;\n  }\n\n  monitorJobSocketCounter() {\n    const { remoteRowCount } = this.state;\n    if (this.jobSocketCounter >= remoteRowCount) {\n      this._isMounted &&\n        this.setState({ remoteRowCount: this.jobSocketCounter + 1 });\n    }\n  }\n\n  async loadJobEvents() {\n    const { job, type } = this.props;\n\n    const loadRange = range(1, 50);\n    this._isMounted &&\n      this.setState(({ currentlyLoading }) => ({\n        hasContentLoading: true,\n        currentlyLoading: currentlyLoading.concat(loadRange),\n      }));\n    try {\n      const {\n        data: { results: newResults = [], count },\n      } = await JobsAPI.readEvents(job.id, type, {\n        page_size: 50,\n        order_by: 'start_line',\n      });\n      this._isMounted &&\n        this.setState(({ results }) => {\n          newResults.forEach(jobEvent => {\n            results[jobEvent.counter] = jobEvent;\n          });\n          return { results, remoteRowCount: count + 1 };\n        });\n    } catch (err) {\n      this.setState({ contentError: err });\n    } finally {\n      this._isMounted &&\n        this.setState(({ currentlyLoading }) => ({\n          hasContentLoading: false,\n          currentlyLoading: currentlyLoading.filter(\n            n => !loadRange.includes(n)\n          ),\n        }));\n    }\n  }\n\n  async handleDeleteJob() {\n    const { job, history } = this.props;\n    try {\n      switch (job.type) {\n        case 'project_update':\n          await ProjectUpdatesAPI.destroy(job.id);\n          break;\n        case 'system_job':\n          await SystemJobsAPI.destroy(job.id);\n          break;\n        case 'workflow_job':\n          await WorkflowJobsAPI.destroy(job.id);\n          break;\n        case 'ad_hoc_command':\n          await AdHocCommandsAPI.destroy(job.id);\n          break;\n        case 'inventory_update':\n          await InventoriesAPI.destroy(job.id);\n          break;\n        default:\n          await JobsAPI.destroy(job.id);\n      }\n      history.push('/jobs');\n    } catch (err) {\n      this.setState({ deletionError: err });\n    }\n  }\n\n  isRowLoaded({ index }) {\n    const { results, currentlyLoading } = this.state;\n    if (results[index]) {\n      return true;\n    }\n    return currentlyLoading.includes(index);\n  }\n\n  handleHostEventClick(hostEvent) {\n    this.setState({\n      isHostModalOpen: true,\n      hostEvent,\n    });\n  }\n\n  handleHostModalClose() {\n    this.setState({\n      isHostModalOpen: false,\n    });\n  }\n\n  rowRenderer({ index, parent, key, style }) {\n    const { results } = this.state;\n\n    const isHostEvent = jobEvent => {\n      const { event, event_data, host, type } = jobEvent;\n      let isHost;\n      if (typeof host === 'number' || (event_data && event_data.res)) {\n        isHost = true;\n      } else if (\n        type === 'project_update_event' &&\n        event !== 'runner_on_skipped' &&\n        event_data.host\n      ) {\n        isHost = true;\n      } else {\n        isHost = false;\n      }\n      return isHost;\n    };\n\n    let actualLineTextHtml = [];\n    if (results[index]) {\n      const { lineTextHtml, lineCssMap } = getLineTextHtml(results[index]);\n      this.setState(({ cssMap }) => ({ cssMap: { ...cssMap, ...lineCssMap } }));\n      actualLineTextHtml = lineTextHtml;\n    }\n\n    return (\n      <CellMeasurer\n        key={key}\n        cache={this.cache}\n        parent={parent}\n        rowIndex={index}\n        columnIndex={0}\n      >\n        {results[index] ? (\n          <JobEvent\n            isClickable={isHostEvent(results[index])}\n            onJobEventClick={() => this.handleHostEventClick(results[index])}\n            className=\"row\"\n            style={style}\n            lineTextHtml={actualLineTextHtml}\n            {...results[index]}\n          />\n        ) : (\n          <JobEventSkeleton\n            className=\"row\"\n            style={style}\n            counter={index}\n            contentLength={80}\n          />\n        )}\n      </CellMeasurer>\n    );\n  }\n\n  loadMoreRows({ startIndex, stopIndex }) {\n    if (startIndex === 0 && stopIndex === 0) {\n      return Promise.resolve(null);\n    }\n    const { job, type } = this.props;\n\n    const loadRange = range(startIndex, stopIndex);\n    this._isMounted &&\n      this.setState(({ currentlyLoading }) => ({\n        currentlyLoading: currentlyLoading.concat(loadRange),\n      }));\n    const params = {\n      counter__gte: startIndex,\n      counter__lte: stopIndex,\n      order_by: 'start_line',\n    };\n\n    return JobsAPI.readEvents(job.id, type, params).then(response => {\n      this._isMounted &&\n        this.setState(({ results, currentlyLoading }) => {\n          response.data.results.forEach(jobEvent => {\n            results[jobEvent.counter] = jobEvent;\n          });\n          return {\n            results,\n            currentlyLoading: currentlyLoading.filter(\n              n => !loadRange.includes(n)\n            ),\n          };\n        });\n    });\n  }\n\n  scrollToRow(rowIndex) {\n    this.listRef.scrollToRow(rowIndex);\n  }\n\n  handleScrollPrevious() {\n    const startIndex = this.listRef.Grid._renderedRowStartIndex;\n    const stopIndex = this.listRef.Grid._renderedRowStopIndex;\n    const scrollRange = stopIndex - startIndex + 1;\n    this.scrollToRow(Math.max(0, startIndex - scrollRange));\n  }\n\n  handleScrollNext() {\n    const stopIndex = this.listRef.Grid._renderedRowStopIndex;\n    this.scrollToRow(stopIndex - 1);\n  }\n\n  handleScrollFirst() {\n    this.scrollToRow(0);\n  }\n\n  handleScrollLast() {\n    const { remoteRowCount } = this.state;\n    this.scrollToRow(remoteRowCount - 1);\n  }\n\n  handleResize({ width }) {\n    if (width !== this._previousWidth) {\n      this.cache.clearAll();\n      if (this.listRef?.recomputeRowHeights) {\n        this.listRef.recomputeRowHeights();\n      }\n    }\n    this._previousWidth = width;\n  }\n\n  render() {\n    const { job } = this.props;\n\n    const {\n      contentError,\n      deletionError,\n      hasContentLoading,\n      hostEvent,\n      isHostModalOpen,\n      remoteRowCount,\n      cssMap,\n    } = this.state;\n\n    if (hasContentLoading) {\n      return <ContentLoading />;\n    }\n\n    if (contentError) {\n      return <ContentError error={contentError} />;\n    }\n\n    return (\n      <Fragment>\n        <CardBody>\n          {isHostModalOpen && (\n            <HostEventModal\n              onClose={this.handleHostModalClose}\n              isOpen={isHostModalOpen}\n              hostEvent={hostEvent}\n            />\n          )}\n          <OutputHeader>\n            <HeaderTitle>\n              <StatusIcon status={job.status} />\n              <h1>{job.name}</h1>\n            </HeaderTitle>\n            <OutputToolbar job={job} onDelete={this.handleDeleteJob} />\n          </OutputHeader>\n          <HostStatusBar counts={job.host_status_counts} />\n          <PageControls\n            onScrollFirst={this.handleScrollFirst}\n            onScrollLast={this.handleScrollLast}\n            onScrollNext={this.handleScrollNext}\n            onScrollPrevious={this.handleScrollPrevious}\n          />\n          <OutputWrapper cssMap={cssMap}>\n            <InfiniteLoader\n              isRowLoaded={this.isRowLoaded}\n              loadMoreRows={this.loadMoreRows}\n              rowCount={remoteRowCount}\n            >\n              {({ onRowsRendered, registerChild }) => (\n                <AutoSizer nonce={window.NONCE_ID} onResize={this.handleResize}>\n                  {({ width, height }) => {\n                    return (\n                      <List\n                        ref={ref => {\n                          this.listRef = ref;\n                          registerChild(ref);\n                        }}\n                        deferredMeasurementCache={this.cache}\n                        height={height || 1}\n                        onRowsRendered={onRowsRendered}\n                        rowCount={remoteRowCount}\n                        rowHeight={this.cache.rowHeight}\n                        rowRenderer={this.rowRenderer}\n                        scrollToAlignment=\"start\"\n                        width={width || 1}\n                        overscanRowCount={20}\n                      />\n                    );\n                  }}\n                </AutoSizer>\n              )}\n            </InfiniteLoader>\n            <OutputFooter />\n          </OutputWrapper>\n        </CardBody>\n        {deletionError && (\n          <>\n            <I18n>\n              {({ i18n }) => (\n                <AlertModal\n                  isOpen={deletionError}\n                  variant=\"danger\"\n                  onClose={() => this.setState({ deletionError: null })}\n                  title={i18n._(t`Job Delete Error`)}\n                  label={i18n._(t`Job Delete Error`)}\n                >\n                  <ErrorDetail error={deletionError} />\n                </AlertModal>\n              )}\n            </I18n>\n          </>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nexport { JobOutput as _JobOutput };\nexport default withRouter(JobOutput);\n","import React from 'react';\n\n// eslint-disable-next-line import/prefer-default-export\nexport const WorkflowDispatchContext = React.createContext(null);\nexport const WorkflowStateContext = React.createContext(null);\n","/* eslint-disable import/prefer-default-export */\nimport * as d3 from 'd3';\nimport * as dagre from 'dagre';\n\nconst normalizeY = (nodePositions, y) => y - nodePositions[1].y;\n\nexport const constants = {\n  nodeW: 180,\n  nodeH: 60,\n  rootW: 72,\n  rootH: 40,\n};\n\nexport function getScaleAndOffsetToFit(\n  gBoundingClientRect,\n  svgBoundingClientRect,\n  gBBoxDimensions,\n  currentScale\n) {\n  gBoundingClientRect.height /= currentScale;\n  gBoundingClientRect.width /= currentScale;\n\n  // For some reason the root width needs to be added?\n  gBoundingClientRect.width += constants.rootW;\n\n  const scaleNeededForMaxHeight =\n    svgBoundingClientRect.height / gBoundingClientRect.height;\n  const scaleNeededForMaxWidth =\n    svgBoundingClientRect.width / gBoundingClientRect.width;\n  const lowerScale = Math.min(scaleNeededForMaxHeight, scaleNeededForMaxWidth);\n\n  let scaleToFit;\n  let yTranslate;\n  if (lowerScale < 0.1 || lowerScale > 2) {\n    scaleToFit = lowerScale < 0.1 ? 0.1 : 2;\n    yTranslate =\n      svgBoundingClientRect.height / 2 - (constants.nodeH * scaleToFit) / 2;\n  } else {\n    scaleToFit = Math.floor(lowerScale * 1000) / 1000;\n    yTranslate =\n      (svgBoundingClientRect.height - gBoundingClientRect.height * scaleToFit) /\n        2 -\n      (gBBoxDimensions.y / currentScale) * scaleToFit;\n  }\n\n  return [scaleToFit, yTranslate];\n}\n\nexport function generateLine(points) {\n  const line = d3\n    .line()\n    .x(d => {\n      return d.x;\n    })\n    .y(d => {\n      return d.y;\n    });\n\n  return line(points);\n}\n\nexport function getLinePoints(link, nodePositions) {\n  const sourceX =\n    nodePositions[link.source.id].x + nodePositions[link.source.id].width + 1;\n  let sourceY =\n    normalizeY(nodePositions, nodePositions[link.source.id].y) +\n    nodePositions[link.source.id].height / 2;\n  const targetX = nodePositions[link.target.id].x - 1;\n  const targetY =\n    normalizeY(nodePositions, nodePositions[link.target.id].y) +\n    nodePositions[link.target.id].height / 2;\n\n  // There's something off with the math on the root node...\n  if (link.source.id === 1) {\n    sourceY += 10;\n  }\n\n  return [\n    {\n      x: sourceX,\n      y: sourceY,\n    },\n    {\n      x: targetX,\n      y: targetY,\n    },\n  ];\n}\n\nexport function getLinkOverlayPoints(link, nodePositions) {\n  const sourceX =\n    nodePositions[link.source.id].x + nodePositions[link.source.id].width + 1;\n  let sourceY =\n    normalizeY(nodePositions, nodePositions[link.source.id].y) +\n    nodePositions[link.source.id].height / 2;\n  const targetX = nodePositions[link.target.id].x - 1;\n  const targetY =\n    normalizeY(nodePositions, nodePositions[link.target.id].y) +\n    nodePositions[link.target.id].height / 2;\n\n  // There's something off with the math on the root node...\n  if (link.source.id === 1) {\n    sourceY += 10;\n  }\n  const slope = (targetY - sourceY) / (targetX - sourceX);\n  const yIntercept = targetY - slope * targetX;\n  const orthogonalDistance = 8;\n\n  const pt1 = [\n    targetX,\n    slope * targetX +\n      yIntercept +\n      orthogonalDistance * Math.sqrt(1 + slope * slope),\n  ].join(',');\n  const pt2 = [\n    sourceX,\n    slope * sourceX +\n      yIntercept +\n      orthogonalDistance * Math.sqrt(1 + slope * slope),\n  ].join(',');\n  const pt3 = [\n    sourceX,\n    slope * sourceX +\n      yIntercept -\n      orthogonalDistance * Math.sqrt(1 + slope * slope),\n  ].join(',');\n  const pt4 = [\n    targetX,\n    slope * targetX +\n      yIntercept -\n      orthogonalDistance * Math.sqrt(1 + slope * slope),\n  ].join(',');\n\n  return [pt1, pt2, pt3, pt4].join(' ');\n}\n\nexport function layoutGraph(nodes, links) {\n  const g = new dagre.graphlib.Graph();\n  g.setGraph({ rankdir: 'LR', nodesep: 30, ranksep: 120 });\n\n  // This is needed for Dagre\n  g.setDefaultEdgeLabel(() => {\n    return {};\n  });\n\n  nodes.forEach(node => {\n    if (node.id === 1) {\n      g.setNode(node.id, {\n        label: '',\n        width: constants.rootW,\n        height: constants.rootH,\n      });\n    } else {\n      g.setNode(node.id, {\n        label: '',\n        width: constants.nodeW,\n        height: constants.nodeH,\n      });\n    }\n  });\n\n  links.forEach(link => {\n    g.setEdge(link.source.id, link.target.id);\n  });\n\n  dagre.layout(g);\n\n  return g;\n}\n\nexport function getTranslatePointsForZoom(\n  svgBoundingClientRect,\n  currentScaleAndOffset,\n  newScale\n) {\n  const origScale = currentScaleAndOffset.k;\n  const unscaledOffsetX =\n    (currentScaleAndOffset.x +\n      (svgBoundingClientRect.width * origScale - svgBoundingClientRect.width) /\n        2) /\n    origScale;\n  const unscaledOffsetY =\n    (currentScaleAndOffset.y +\n      (svgBoundingClientRect.height * origScale -\n        svgBoundingClientRect.height) /\n        2) /\n    origScale;\n  const translateX =\n    unscaledOffsetX * newScale -\n    (newScale * svgBoundingClientRect.width - svgBoundingClientRect.width) / 2;\n  const translateY =\n    unscaledOffsetY * newScale -\n    (newScale * svgBoundingClientRect.height - svgBoundingClientRect.height) /\n      2;\n  return [translateX, translateY];\n}\n","import { t } from '@lingui/macro';\n\nexport function initReducer() {\n  return {\n    addLinkSourceNode: null,\n    addLinkTargetNode: null,\n    addNodeSource: null,\n    addNodeTarget: null,\n    addingLink: false,\n    contentError: null,\n    isLoading: true,\n    linkToDelete: null,\n    linkToEdit: null,\n    links: [],\n    nextNodeId: 0,\n    nodePositions: null,\n    nodes: [],\n    nodeToDelete: null,\n    nodeToEdit: null,\n    nodeToView: null,\n    showDeleteAllNodesModal: false,\n    showLegend: false,\n    showTools: false,\n    showUnsavedChangesModal: false,\n    unsavedChanges: false,\n  };\n}\n\nexport default function visualizerReducer(state, action) {\n  switch (action.type) {\n    case 'CREATE_LINK':\n      return createLink(state, action.linkType);\n    case 'CREATE_NODE':\n      return createNode(state, action.node);\n    case 'CANCEL_LINK':\n    case 'CANCEL_LINK_MODAL':\n      return cancelLink(state);\n    case 'CANCEL_NODE_MODAL':\n      return {\n        ...state,\n        addNodeSource: null,\n        addNodeTarget: null,\n        nodeToEdit: null,\n      };\n    case 'DELETE_ALL_NODES':\n      return deleteAllNodes(state);\n    case 'DELETE_LINK':\n      return deleteLink(state);\n    case 'DELETE_NODE':\n      return deleteNode(state);\n    case 'GENERATE_NODES_AND_LINKS':\n      return generateNodesAndLinks(state, action.nodes, action.i18n);\n    case 'RESET':\n      return initReducer();\n    case 'SELECT_SOURCE_FOR_LINKING':\n      return selectSourceForLinking(state, action.node);\n    case 'SET_ADD_LINK_TARGET_NODE':\n      return {\n        ...state,\n        addLinkTargetNode: action.value,\n      };\n    case 'SET_CONTENT_ERROR':\n      return {\n        ...state,\n        contentError: action.value,\n      };\n    case 'SET_IS_LOADING':\n      return {\n        ...state,\n        isLoading: action.value,\n      };\n    case 'SET_LINK_TO_DELETE':\n      return {\n        ...state,\n        linkToDelete: action.value,\n      };\n    case 'SET_LINK_TO_EDIT':\n      return {\n        ...state,\n        linkToEdit: action.value,\n      };\n    case 'SET_NODES':\n      return {\n        ...state,\n        nodes: action.value,\n      };\n    case 'SET_NODE_POSITIONS':\n      return {\n        ...state,\n        nodePositions: action.value,\n      };\n    case 'SET_NODE_TO_DELETE':\n      return {\n        ...state,\n        nodeToDelete: action.value,\n      };\n    case 'SET_NODE_TO_EDIT':\n      return {\n        ...state,\n        nodeToEdit: action.value,\n      };\n    case 'SET_NODE_TO_VIEW':\n      return {\n        ...state,\n        nodeToView: action.value,\n      };\n    case 'SET_SHOW_DELETE_ALL_NODES_MODAL':\n      return {\n        ...state,\n        showDeleteAllNodesModal: action.value,\n      };\n    case 'START_ADD_NODE':\n      return {\n        ...state,\n        addNodeSource: action.sourceNodeId,\n        addNodeTarget: action.targetNodeId || null,\n      };\n    case 'START_DELETE_LINK':\n      return startDeleteLink(state, action.link);\n    case 'TOGGLE_DELETE_ALL_NODES_MODAL':\n      return toggleDeleteAllNodesModal(state);\n    case 'TOGGLE_LEGEND':\n      return toggleLegend(state);\n    case 'TOGGLE_TOOLS':\n      return toggleTools(state);\n    case 'TOGGLE_UNSAVED_CHANGES_MODAL':\n      return toggleUnsavedChangesModal(state);\n    case 'UPDATE_LINK':\n      return updateLink(state, action.linkType);\n    case 'UPDATE_NODE':\n      return updateNode(state, action.node);\n    case 'REFRESH_NODE':\n      return refreshNode(state, action.node);\n    default:\n      throw new Error(`Unrecognized action type: ${action.type}`);\n  }\n}\n\nfunction createLink(state, linkType) {\n  const { addLinkSourceNode, addLinkTargetNode, links, nodes } = state;\n  const newLinks = [...links];\n  const newNodes = [...nodes];\n\n  newNodes.forEach(node => {\n    node.isInvalidLinkTarget = false;\n  });\n\n  newLinks.push({\n    source: {\n      id: addLinkSourceNode.id,\n    },\n    target: {\n      id: addLinkTargetNode.id,\n    },\n    linkType,\n  });\n\n  newLinks.forEach((link, index) => {\n    if (link.source.id === 1 && link.target.id === addLinkTargetNode.id) {\n      newLinks.splice(index, 1);\n    }\n  });\n\n  return {\n    ...state,\n    addLinkSourceNode: null,\n    addLinkTargetNode: null,\n    addingLink: false,\n    linkToEdit: null,\n    links: newLinks,\n    nodes: newNodes,\n    unsavedChanges: true,\n  };\n}\n\nfunction createNode(state, node) {\n  const { addNodeSource, addNodeTarget, links, nodes, nextNodeId } = state;\n  const newNodes = [...nodes];\n  const newLinks = [...links];\n\n  newNodes.push({\n    id: nextNodeId,\n    fullUnifiedJobTemplate: node.nodeResource,\n    isInvalidLinkTarget: false,\n    promptValues: node.promptValues,\n  });\n\n  // Ensures that root nodes appear to always run\n  // after \"START\"\n  if (addNodeSource === 1) {\n    node.linkType = 'always';\n  }\n\n  newLinks.push({\n    source: {\n      id: addNodeSource,\n    },\n    target: {\n      id: nextNodeId,\n    },\n    linkType: node.linkType,\n  });\n\n  if (addNodeTarget) {\n    newLinks.forEach(linkToCompare => {\n      if (\n        linkToCompare.source.id === addNodeSource &&\n        linkToCompare.target.id === addNodeTarget\n      ) {\n        linkToCompare.source = {\n          id: nextNodeId,\n        };\n      }\n    });\n  }\n\n  return {\n    ...state,\n    addNodeSource: null,\n    addNodeTarget: null,\n    links: newLinks,\n    nextNodeId: nextNodeId + 1,\n    nodes: newNodes,\n    unsavedChanges: true,\n  };\n}\n\nfunction cancelLink(state) {\n  const { nodes } = state;\n  const newNodes = [...nodes];\n\n  newNodes.forEach(node => {\n    node.isInvalidLinkTarget = false;\n  });\n\n  return {\n    ...state,\n    addLinkSourceNode: null,\n    addLinkTargetNode: null,\n    addingLink: false,\n    linkToEdit: null,\n    nodes: newNodes,\n  };\n}\n\nfunction deleteAllNodes(state) {\n  const { nodes } = state;\n  return {\n    ...state,\n    addLinkSourceNode: null,\n    addLinkTargetNode: null,\n    addingLink: false,\n    links: [],\n    nodes: nodes.map(node => {\n      if (node.id !== 1) {\n        node.isDeleted = true;\n      }\n\n      return node;\n    }),\n    showDeleteAllNodesModal: false,\n    unsavedChanges: true,\n  };\n}\n\nfunction deleteLink(state) {\n  const { links, linkToDelete } = state;\n  const newLinks = [...links];\n\n  for (let i = newLinks.length; i--; ) {\n    const link = newLinks[i];\n\n    if (\n      link.source.id === linkToDelete.source.id &&\n      link.target.id === linkToDelete.target.id\n    ) {\n      newLinks.splice(i, 1);\n    }\n  }\n\n  if (!linkToDelete.isConvergenceLink) {\n    // Add a new link from the start node to the orphaned node\n    newLinks.push({\n      source: {\n        id: 1,\n      },\n      target: {\n        id: linkToDelete.target.id,\n      },\n      linkType: 'always',\n    });\n  }\n\n  return {\n    ...state,\n    links: newLinks,\n    linkToDelete: null,\n    unsavedChanges: true,\n  };\n}\n\nfunction addLinksFromParentsToChildren(\n  parents,\n  children,\n  newLinks,\n  linkParentMapping\n) {\n  parents.forEach(parentId => {\n    children.forEach(child => {\n      if (parentId === 1) {\n        // We only want to create a link from the start node to this node if it\n        // doesn't have any other parents\n        if (linkParentMapping[child.id].length === 1) {\n          newLinks.push({\n            source: {\n              id: parentId,\n            },\n            target: {\n              id: child.id,\n            },\n            linkType: 'always',\n          });\n        }\n      } else if (!linkParentMapping[child.id].includes(parentId)) {\n        newLinks.push({\n          source: {\n            id: parentId,\n          },\n          target: {\n            id: child.id,\n          },\n          linkType: child.linkType,\n        });\n      }\n    });\n  });\n}\n\nfunction removeLinksFromDeletedNode(\n  nodeId,\n  newLinks,\n  linkParentMapping,\n  children,\n  parents\n) {\n  for (let i = newLinks.length; i--; ) {\n    const link = newLinks[i];\n\n    if (!linkParentMapping[link.target.id]) {\n      linkParentMapping[link.target.id] = [];\n    }\n\n    linkParentMapping[link.target.id].push(link.source.id);\n\n    if (link.source.id === nodeId || link.target.id === nodeId) {\n      if (link.source.id === nodeId) {\n        children.push({\n          id: link.target.id,\n          linkType: link.linkType,\n        });\n      } else if (link.target.id === nodeId) {\n        parents.push(link.source.id);\n      }\n      newLinks.splice(i, 1);\n    }\n  }\n}\n\nfunction deleteNode(state) {\n  const { links, nodes, nodeToDelete } = state;\n\n  const nodeId = nodeToDelete.id;\n  const newNodes = [...nodes];\n  const newLinks = [...links];\n\n  newNodes.find(node => node.id === nodeToDelete.id).isDeleted = true;\n\n  // Update the links\n  const parents = [];\n  const children = [];\n  const linkParentMapping = {};\n\n  removeLinksFromDeletedNode(\n    nodeId,\n    newLinks,\n    linkParentMapping,\n    children,\n    parents\n  );\n\n  addLinksFromParentsToChildren(parents, children, newLinks, linkParentMapping);\n\n  return {\n    ...state,\n    links: newLinks,\n    nodeToDelete: null,\n    nodes: newNodes,\n    unsavedChanges: true,\n  };\n}\n\nfunction generateNodes(workflowNodes, i18n) {\n  const allNodeIds = [];\n  const chartNodeIdToIndexMapping = {};\n  const nodeIdToChartNodeIdMapping = {};\n  let nodeIdCounter = 2;\n  const arrayOfNodesForChart = [\n    {\n      id: 1,\n      fullUnifiedJobTemplate: {\n        name: i18n._(t`START`),\n      },\n    },\n  ];\n  workflowNodes.forEach(node => {\n    node.workflowMakerNodeId = nodeIdCounter;\n\n    const nodeObj = {\n      id: nodeIdCounter,\n      originalNodeObject: node,\n    };\n\n    if (\n      node.summary_fields?.unified_job_template?.unified_job_type ===\n      'workflow_approval'\n    ) {\n      nodeObj.fullUnifiedJobTemplate = {\n        ...node.summary_fields.unified_job_template,\n        type: 'workflow_approval_template',\n      };\n    }\n\n    arrayOfNodesForChart.push(nodeObj);\n    allNodeIds.push(node.id);\n    nodeIdToChartNodeIdMapping[node.id] = node.workflowMakerNodeId;\n    chartNodeIdToIndexMapping[nodeIdCounter] = nodeIdCounter - 1;\n    nodeIdCounter++;\n  });\n\n  return [\n    arrayOfNodesForChart,\n    allNodeIds,\n    nodeIdToChartNodeIdMapping,\n    chartNodeIdToIndexMapping,\n    nodeIdCounter,\n  ];\n}\n\nfunction generateLinks(\n  workflowNodes,\n  chartNodeIdToIndexMapping,\n  nodeIdToChartNodeIdMapping,\n  arrayOfNodesForChart\n) {\n  const arrayOfLinksForChart = [];\n  const nonRootNodeIds = [];\n  workflowNodes.forEach(node => {\n    const sourceIndex = chartNodeIdToIndexMapping[node.workflowMakerNodeId];\n    node.success_nodes.forEach(nodeId => {\n      const targetIndex =\n        chartNodeIdToIndexMapping[nodeIdToChartNodeIdMapping[nodeId]];\n      arrayOfLinksForChart.push({\n        source: arrayOfNodesForChart[sourceIndex],\n        target: arrayOfNodesForChart[targetIndex],\n        linkType: 'success',\n      });\n      nonRootNodeIds.push(nodeId);\n    });\n    node.failure_nodes.forEach(nodeId => {\n      const targetIndex =\n        chartNodeIdToIndexMapping[nodeIdToChartNodeIdMapping[nodeId]];\n      arrayOfLinksForChart.push({\n        source: arrayOfNodesForChart[sourceIndex],\n        target: arrayOfNodesForChart[targetIndex],\n        linkType: 'failure',\n      });\n      nonRootNodeIds.push(nodeId);\n    });\n    node.always_nodes.forEach(nodeId => {\n      const targetIndex =\n        chartNodeIdToIndexMapping[nodeIdToChartNodeIdMapping[nodeId]];\n      arrayOfLinksForChart.push({\n        source: arrayOfNodesForChart[sourceIndex],\n        target: arrayOfNodesForChart[targetIndex],\n        linkType: 'always',\n      });\n      nonRootNodeIds.push(nodeId);\n    });\n  });\n\n  return [arrayOfLinksForChart, nonRootNodeIds];\n}\n\n// TODO: check to make sure passing i18n into this reducer\n// actually works the way we want it to.  If not we may\n// have to explore other options\nfunction generateNodesAndLinks(state, workflowNodes, i18n) {\n  const [\n    arrayOfNodesForChart,\n    allNodeIds,\n    nodeIdToChartNodeIdMapping,\n    chartNodeIdToIndexMapping,\n    nodeIdCounter,\n  ] = generateNodes(workflowNodes, i18n);\n  const [arrayOfLinksForChart, nonRootNodeIds] = generateLinks(\n    workflowNodes,\n    chartNodeIdToIndexMapping,\n    nodeIdToChartNodeIdMapping,\n    arrayOfNodesForChart\n  );\n\n  const uniqueNonRootNodeIds = Array.from(new Set(nonRootNodeIds));\n\n  const rootNodes = allNodeIds.filter(\n    nodeId => !uniqueNonRootNodeIds.includes(nodeId)\n  );\n\n  rootNodes.forEach(rootNodeId => {\n    const targetIndex =\n      chartNodeIdToIndexMapping[nodeIdToChartNodeIdMapping[rootNodeId]];\n    arrayOfLinksForChart.push({\n      source: arrayOfNodesForChart[0],\n      target: arrayOfNodesForChart[targetIndex],\n      linkType: 'always',\n    });\n  });\n\n  return {\n    ...state,\n    links: arrayOfLinksForChart,\n    nodes: arrayOfNodesForChart,\n    nextNodeId: nodeIdCounter,\n  };\n}\n\nfunction selectSourceForLinking(state, sourceNode) {\n  const { links, nodes } = state;\n  const newNodes = [...nodes];\n  const parentMap = {};\n  const invalidLinkTargetIds = [];\n  // Find and mark any ancestors as disabled to prevent cycles\n  links.forEach(link => {\n    // id=1 is our artificial root node so we don't care about that\n    if (link.source.id === 1) {\n      return;\n    }\n    if (link.source.id === sourceNode.id) {\n      // Disables direct children from the add link process\n      invalidLinkTargetIds.push(link.target.id);\n    }\n    if (!parentMap[link.target.id]) {\n      parentMap[link.target.id] = [];\n    }\n    parentMap[link.target.id].push(link.source.id);\n  });\n\n  const getAncestors = id => {\n    if (parentMap[id]) {\n      parentMap[id].forEach(parentId => {\n        invalidLinkTargetIds.push(parentId);\n        getAncestors(parentId);\n      });\n    }\n  };\n\n  getAncestors(sourceNode.id);\n\n  // Filter out the duplicates\n  invalidLinkTargetIds\n    .filter((element, index, array) => index === array.indexOf(element))\n    .forEach(ancestorId => {\n      newNodes.forEach(node => {\n        if (node.id === ancestorId) {\n          node.isInvalidLinkTarget = true;\n        }\n      });\n    });\n\n  return {\n    ...state,\n    addLinkSourceNode: sourceNode,\n    addingLink: true,\n    nodes: newNodes,\n  };\n}\n\nfunction startDeleteLink(state, link) {\n  const { links } = state;\n  const parentMap = {};\n  links.forEach(existingLink => {\n    if (!parentMap[existingLink.target.id]) {\n      parentMap[existingLink.target.id] = [];\n    }\n    parentMap[existingLink.target.id].push(existingLink.source.id);\n  });\n\n  link.isConvergenceLink = parentMap[link.target.id].length > 1;\n\n  return {\n    ...state,\n    linkToDelete: link,\n  };\n}\n\nfunction toggleDeleteAllNodesModal(state) {\n  const { showDeleteAllNodesModal } = state;\n  return {\n    ...state,\n    showDeleteAllNodesModal: !showDeleteAllNodesModal,\n  };\n}\n\nfunction toggleLegend(state) {\n  const { showLegend } = state;\n  return {\n    ...state,\n    showLegend: !showLegend,\n  };\n}\n\nfunction toggleTools(state) {\n  const { showTools } = state;\n  return {\n    ...state,\n    showTools: !showTools,\n  };\n}\n\nfunction toggleUnsavedChangesModal(state) {\n  const { showUnsavedChangesModal } = state;\n  return {\n    ...state,\n    showUnsavedChangesModal: !showUnsavedChangesModal,\n  };\n}\n\nfunction updateLink(state, linkType) {\n  const { linkToEdit, links } = state;\n  const newLinks = [...links];\n\n  newLinks.forEach(link => {\n    if (\n      link.source.id === linkToEdit.source.id &&\n      link.target.id === linkToEdit.target.id\n    ) {\n      link.linkType = linkType;\n    }\n  });\n\n  return {\n    ...state,\n    linkToEdit: null,\n    links: newLinks,\n    unsavedChanges: true,\n  };\n}\n\nfunction updateNode(state, editedNode) {\n  const { nodeToEdit, nodes } = state;\n  const { nodeResource, launchConfig, promptValues } = editedNode;\n  const newNodes = [...nodes];\n\n  const matchingNode = newNodes.find(node => node.id === nodeToEdit.id);\n  matchingNode.fullUnifiedJobTemplate = nodeResource;\n  matchingNode.isEdited = true;\n  matchingNode.launchConfig = launchConfig;\n\n  if (promptValues) {\n    matchingNode.promptValues = promptValues;\n  } else {\n    delete matchingNode.promptValues;\n  }\n\n  return {\n    ...state,\n    nodeToEdit: null,\n    nodes: newNodes,\n    unsavedChanges: true,\n  };\n}\n\nfunction refreshNode(state, refreshedNode) {\n  const { nodeToView, nodes } = state;\n  const newNodes = [...nodes];\n\n  const matchingNode = newNodes.find(node => node.id === nodeToView.id);\n\n  if (refreshedNode.fullUnifiedJobTemplate) {\n    matchingNode.fullUnifiedJobTemplate = refreshedNode.fullUnifiedJobTemplate;\n  }\n\n  if (refreshedNode.originalNodeCredentials) {\n    matchingNode.originalNodeCredentials =\n      refreshedNode.originalNodeCredentials;\n  }\n\n  return {\n    ...state,\n    nodes: newNodes,\n    nodeToView: matchingNode,\n  };\n}\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport { func, shape } from 'prop-types';\nimport { WorkflowStateContext } from '../../../contexts/Workflow';\nimport {\n  generateLine,\n  getLinePoints,\n  getLinkOverlayPoints,\n} from '../../../components/Workflow/WorkflowUtils';\n\nfunction WorkflowOutputLink({ link, mouseEnter, mouseLeave }) {\n  const ref = useRef(null);\n  const [hovering, setHovering] = useState(false);\n  const [pathD, setPathD] = useState();\n  const [pathStroke, setPathStroke] = useState('#CCCCCC');\n  const { nodePositions } = useContext(WorkflowStateContext);\n\n  const handleLinkMouseEnter = () => {\n    ref.current.parentNode.appendChild(ref.current);\n    setHovering(true);\n    mouseEnter();\n  };\n\n  const handleLinkMouseLeave = () => {\n    ref.current.parentNode.prepend(ref.current);\n    setHovering(null);\n    mouseLeave();\n  };\n\n  useEffect(() => {\n    if (link.linkType === 'failure') {\n      setPathStroke('#d9534f');\n    }\n    if (link.linkType === 'success') {\n      setPathStroke('#5cb85c');\n    }\n    if (link.linkType === 'always') {\n      setPathStroke('#337ab7');\n    }\n  }, [link.linkType]);\n\n  useEffect(() => {\n    const linePoints = getLinePoints(link, nodePositions);\n    setPathD(generateLine(linePoints));\n  }, [link, nodePositions]);\n\n  return (\n    <g\n      ref={ref}\n      id={`link-${link.source.id}-${link.target.id}`}\n      onMouseEnter={handleLinkMouseEnter}\n      onMouseLeave={handleLinkMouseLeave}\n    >\n      <polygon\n        fill=\"#E1E1E1\"\n        id={`link-${link.source.id}-${link.target.id}-overlay`}\n        opacity={hovering ? '1' : '0'}\n        points={getLinkOverlayPoints(link, nodePositions)}\n      />\n      <path d={pathD} stroke={pathStroke} strokeWidth=\"2px\" />\n      <polygon\n        onMouseEnter={() => mouseEnter()}\n        onMouseLeave={() => mouseLeave()}\n        opacity=\"0\"\n        points={getLinkOverlayPoints(link, nodePositions)}\n      />\n    </g>\n  );\n}\n\nWorkflowOutputLink.propTypes = {\n  link: shape().isRequired,\n  mouseEnter: func.isRequired,\n  mouseLeave: func.isRequired,\n};\n\nexport default WorkflowOutputLink;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { node, number } from 'prop-types';\n\nconst TooltipContents = styled.div`\n  display: flex;\n`;\n\nconst TooltipArrow = styled.div`\n  width: 10px;\n`;\n\nconst TooltipArrowOuter = styled.div`\n  border-bottom: 10px solid transparent;\n  border-right: 10px solid #c4c4c4;\n  border-top: 10px solid transparent;\n  height: 0;\n  margin: auto;\n  position: absolute;\n  top: calc(50% - 10px);\n  width: 0;\n`;\n\nconst TooltipArrowInner = styled.div`\n  border-bottom: 10px solid transparent;\n  border-right: 10px solid white;\n  border-top: 10px solid transparent;\n  height: 0;\n  left: 2px;\n  margin: auto;\n  position: absolute;\n  top: calc(50% - 10px);\n  width: 0;\n`;\n\nconst TooltipActions = styled.div`\n  background-color: white;\n  border-radius: 2px;\n  border: 1px solid #c4c4c4;\n  padding: 5px;\n`;\n\nfunction WorkflowActionTooltip({ actions, pointX, pointY }) {\n  const tipHeight = 25 * actions.length + 5 * actions.length - 1 + 10;\n  return (\n    <foreignObject\n      x={pointX}\n      y={Number(pointY) - tipHeight / 2}\n      width=\"52\"\n      height={tipHeight}\n    >\n      <TooltipContents>\n        <TooltipArrow>\n          <TooltipArrowOuter />\n          <TooltipArrowInner />\n        </TooltipArrow>\n        <TooltipActions>{actions}</TooltipActions>\n      </TooltipContents>\n    </foreignObject>\n  );\n}\n\nWorkflowActionTooltip.propTypes = {\n  actions: node.isRequired,\n  pointX: number.isRequired,\n  pointY: number.isRequired,\n};\n\nexport default WorkflowActionTooltip;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { func, string } from 'prop-types';\n\nconst TooltipItem = styled.div`\n  align-items: center;\n  border-radius: 2px;\n  cursor: pointer;\n  display: flex;\n  font-size: 12px;\n  height: 25px;\n  justify-content: center;\n  width: 25px;\n\n  &:hover {\n    color: white;\n    background-color: #c4c4c4;\n  }\n\n  &:not(:last-of-type) {\n    margin-bottom: 5px;\n  }\n`;\n\nfunction WorkflowActionTooltipItem({\n  children,\n  id,\n  onClick,\n  onMouseEnter,\n  onMouseLeave,\n}) {\n  return (\n    <TooltipItem\n      id={id}\n      onClick={onClick}\n      onMouseEnter={onMouseEnter}\n      onMouseLeave={onMouseLeave}\n    >\n      {children}\n    </TooltipItem>\n  );\n}\n\nWorkflowActionTooltipItem.propTypes = {\n  id: string.isRequired,\n  onClick: func,\n  onMouseEnter: func,\n  onMouseLeave: func,\n};\n\nWorkflowActionTooltipItem.defaultProps = {\n  onClick: () => {},\n  onMouseEnter: () => {},\n  onMouseLeave: () => {},\n};\n\nexport default WorkflowActionTooltipItem;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Outer = styled.div`\n  height: 0;\n  pointer-events: none;\n  position: relative;\n`;\n\nconst Inner = styled.div`\n  background-color: #383f44;\n  border-radius: 2px;\n  color: white;\n  left: 10px;\n  max-width: 300px;\n  padding: 5px 10px;\n  position: absolute;\n  top: 10px;\n`;\n\nfunction WorkflowHelp({ children }) {\n  return (\n    <Outer>\n      <Inner>{children}</Inner>\n    </Outer>\n  );\n}\n\nexport default WorkflowHelp;\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport {\n  ExclamationTriangleIcon,\n  PauseIcon,\n  TimesIcon,\n} from '@patternfly/react-icons';\nimport { WorkflowDispatchContext } from '../../contexts/Workflow';\n\nconst Wrapper = styled.div`\n  background-color: white;\n  border: 1px solid #c7c7c7;\n  margin-left: 20px;\n  min-width: 100px;\n  position: relative;\n`;\n\nconst Header = styled.div`\n  border-bottom: 1px solid #c7c7c7;\n  padding: 10px;\n  position: relative;\n`;\n\nconst Legend = styled.ul`\n  padding: 5px 10px;\n\n  li {\n    align-items: center;\n    display: flex;\n    padding: 5px 0px;\n  }\n`;\n\nconst NodeTypeLetter = styled.div`\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  height: 20px;\n  line-height: 20px;\n  margin-right: 10px;\n  text-align: center;\n  width: 20px;\n`;\n\nconst StyledExclamationTriangleIcon = styled(ExclamationTriangleIcon)`\n  color: #f0ad4d;\n  height: 20px;\n  margin-right: 10px;\n  width: 20px;\n`;\n\nconst Link = styled.div`\n  height: 5px;\n  margin-right: 10px;\n  width: 20px;\n`;\n\nconst SuccessLink = styled(Link)`\n  background-color: #5cb85c;\n`;\n\nconst FailureLink = styled(Link)`\n  background-color: #d9534f;\n`;\n\nconst AlwaysLink = styled(Link)`\n  background-color: #337ab7;\n`;\n\nconst Close = styled(TimesIcon)`\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 15px;\n`;\n\nfunction WorkflowLegend({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n\n  return (\n    <Wrapper>\n      <Header>\n        <b>{i18n._(t`Legend`)}</b>\n        <Close onClick={() => dispatch({ type: 'TOGGLE_LEGEND' })} />\n      </Header>\n      <Legend>\n        <li>\n          <NodeTypeLetter>JT</NodeTypeLetter>\n          <span>{i18n._(t`作业模板`)}</span>\n        </li>\n        <li>\n          <NodeTypeLetter>W</NodeTypeLetter>\n          <span>{i18n._(t`Workflow`)}</span>\n        </li>\n        <li>\n          <NodeTypeLetter>I</NodeTypeLetter>\n          <span>{i18n._(t`Inventory Sync`)}</span>\n        </li>\n        <li>\n          <NodeTypeLetter>P</NodeTypeLetter>\n          <span>{i18n._(t`Project Sync`)}</span>\n        </li>\n        <li>\n          <NodeTypeLetter>\n            <PauseIcon />\n          </NodeTypeLetter>\n          <span>{i18n._(t`Approval`)}</span>\n        </li>\n        <li>\n          <StyledExclamationTriangleIcon />\n          <span>{i18n._(t`Warning`)}</span>\n        </li>\n        <li>\n          <SuccessLink />\n          <span>{i18n._(t`On Success`)}</span>\n        </li>\n        <li>\n          <FailureLink />\n          <span>{i18n._(t`On Failure`)}</span>\n        </li>\n        <li>\n          <AlwaysLink />\n          <span>{i18n._(t`Always`)}</span>\n        </li>\n      </Legend>\n    </Wrapper>\n  );\n}\n\nexport default withI18n()(WorkflowLegend);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\n\nconst GridDL = styled.dl`\n  column-gap: 15px;\n  display: grid;\n  grid-template-columns: max-content;\n  row-gap: 0px;\n  dt {\n    grid-column-start: 1;\n  }\n  dd {\n    grid-column-start: 2;\n  }\n`;\n\nfunction WorkflowLinkHelp({ link, i18n }) {\n  let linkType;\n  switch (link.linkType) {\n    case 'always':\n      linkType = i18n._(t`Always`);\n      break;\n    case 'success':\n      linkType = i18n._(t`On Success`);\n      break;\n    case 'failure':\n      linkType = i18n._(t`On Failure`);\n      break;\n    default:\n      linkType = '';\n  }\n\n  return (\n    <GridDL>\n      <dt>\n        <b>{i18n._(t`Run`)}</b>\n      </dt>\n      <dd id=\"workflow-link-help-type\">{linkType}</dd>\n    </GridDL>\n  );\n}\n\nWorkflowLinkHelp.propTypes = {\n  link: shape().isRequired,\n};\n\nexport default withI18n()(WorkflowLinkHelp);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { ExclamationTriangleIcon } from '@patternfly/react-icons';\nimport { shape } from 'prop-types';\nimport { secondsToHHMMSS } from '../../util/dates';\n\nconst GridDL = styled.dl`\n  column-gap: 15px;\n  display: grid;\n  grid-template-columns: max-content;\n  row-gap: 0px;\n  dt {\n    grid-column-start: 1;\n  }\n  dd {\n    grid-column-start: 2;\n  }\n`;\n\nconst ResourceDeleted = styled.p`\n  margin-bottom: ${props => (props.job ? '10px' : '0px')};\n`;\n\nconst StyledExclamationTriangleIcon = styled(ExclamationTriangleIcon)`\n  color: #f0ad4d;\n  height: 20px;\n  margin-right: 10px;\n  width: 20px;\n`;\n\nfunction WorkflowNodeHelp({ node, i18n }) {\n  let nodeType;\n  const job = node?.originalNodeObject?.summary_fields?.job;\n  const unifiedJobTemplate =\n    node?.fullUnifiedJobTemplate ||\n    node?.originalNodeObject?.summary_fields?.unified_job_template;\n  if (unifiedJobTemplate || job) {\n    const type = unifiedJobTemplate\n      ? unifiedJobTemplate.unified_job_type || unifiedJobTemplate.type\n      : job.type;\n    switch (type) {\n      case 'job_template':\n      case 'job':\n        nodeType = i18n._(t`作业模板`);\n        break;\n      case 'workflow_job_template':\n      case 'workflow_job':\n        nodeType = i18n._(t`Workflow Job Template`);\n        break;\n      case 'project':\n      case 'project_update':\n        nodeType = i18n._(t`Project Update`);\n        break;\n      case 'inventory_source':\n      case 'inventory_update':\n        nodeType = i18n._(t`Inventory Update`);\n        break;\n      case 'workflow_approval_template':\n      case 'workflow_approval':\n        nodeType = i18n._(t`Workflow Approval`);\n        break;\n      default:\n        nodeType = '';\n    }\n  }\n\n  let jobStatus;\n  if (job) {\n    switch (job.status) {\n      case 'new':\n        jobStatus = i18n._(t`New`);\n        break;\n      case 'pending':\n        jobStatus = i18n._(t`Pending`);\n        break;\n      case 'waiting':\n        jobStatus = i18n._(t`Waiting`);\n        break;\n      case 'running':\n        jobStatus = i18n._(t`Running`);\n        break;\n      case 'successful':\n        jobStatus = i18n._(t`Successful`);\n        break;\n      case 'failed':\n        jobStatus = i18n._(t`Failed`);\n        break;\n      case 'error':\n        jobStatus = i18n._(t`Error`);\n        break;\n      case 'canceled':\n        jobStatus = i18n._(t`Canceled`);\n        break;\n      case 'never updated':\n        jobStatus = i18n._(t`Never Updated`);\n        break;\n      case 'ok':\n        jobStatus = i18n._(t`OK`);\n        break;\n      case 'missing':\n        jobStatus = i18n._(t`Missing`);\n        break;\n      case 'none':\n        jobStatus = i18n._(t`None`);\n        break;\n      case 'updating':\n        jobStatus = i18n._(t`Updating`);\n        break;\n      default:\n        jobStatus = '';\n    }\n  }\n\n  return (\n    <>\n      {!unifiedJobTemplate && (!job || job.type !== 'workflow_approval') && (\n        <>\n          <ResourceDeleted job={job}>\n            <StyledExclamationTriangleIcon />\n            <Trans>\n              The resource associated with this node has been deleted.\n            </Trans>\n          </ResourceDeleted>\n        </>\n      )}\n      {job && (\n        <GridDL>\n          <dt>\n            <b>{i18n._(t`名称`)}</b>\n          </dt>\n          <dd id=\"workflow-node-help-name\">{job.name}</dd>\n          <dt>\n            <b>{i18n._(t`类型`)}</b>\n          </dt>\n          <dd id=\"workflow-node-help-type\">{nodeType}</dd>\n          <dt>\n            <b>{i18n._(t`Job Status`)}</b>\n          </dt>\n          <dd id=\"workflow-node-help-status\">{jobStatus}</dd>\n          {typeof job.elapsed === 'number' && (\n            <>\n              <dt>\n                <b>{i18n._(t`Elapsed`)}</b>\n              </dt>\n              <dd id=\"workflow-node-help-elapsed\">\n                {secondsToHHMMSS(job.elapsed)}\n              </dd>\n            </>\n          )}\n        </GridDL>\n      )}\n      {unifiedJobTemplate && !job && (\n        <GridDL>\n          <dt>\n            <b>{i18n._(t`名称`)}</b>\n          </dt>\n          <dd id=\"workflow-node-help-name\">{unifiedJobTemplate.name}</dd>\n          <dt>\n            <b>{i18n._(t`类型`)}</b>\n          </dt>\n          <dd id=\"workflow-node-help-type\">{nodeType}</dd>\n        </GridDL>\n      )}\n      {job && job.type !== 'workflow_approval' && (\n        <p css=\"margin-top: 10px\">{i18n._(t`Click to view job details`)}</p>\n      )}\n    </>\n  );\n}\n\nWorkflowNodeHelp.propTypes = {\n  node: shape().isRequired,\n};\n\nexport default withI18n()(WorkflowNodeHelp);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\nimport { PauseIcon } from '@patternfly/react-icons';\n\nconst NodeTypeLetter = styled.div`\n  background-color: #393f43;\n  border-radius: 50%;\n  color: white;\n  font-size: 10px;\n  line-height: 20px;\n  text-align: center;\n  height: 20px;\n  width: 20px;\n`;\n\nconst CenteredPauseIcon = styled(PauseIcon)`\n  vertical-align: middle !important;\n`;\n\nfunction WorkflowNodeTypeLetter({ node }) {\n  if (\n    !node?.fullUnifiedJobTemplate &&\n    !node?.originalNodeObject?.summary_fields?.unified_job_template\n  ) {\n    return null;\n  }\n\n  const unifiedJobTemplate =\n    node?.fullUnifiedJobTemplate ||\n    node?.originalNodeObject?.summary_fields?.unified_job_template;\n\n  let nodeTypeLetter;\n  if (\n    unifiedJobTemplate.type ||\n    unifiedJobTemplate.unified_job_type ||\n    node?.job?.type\n  ) {\n    const ujtType =\n      unifiedJobTemplate.type ||\n      unifiedJobTemplate.unified_job_type ||\n      node.job.type;\n    switch (ujtType) {\n      case 'job_template':\n      case 'job':\n        nodeTypeLetter = 'JT';\n        break;\n      case 'project':\n      case 'project_update':\n        nodeTypeLetter = 'P';\n        break;\n      case 'inventory_source':\n      case 'inventory_update':\n        nodeTypeLetter = 'I';\n        break;\n      case 'workflow_job_template':\n      case 'workflow_job':\n        nodeTypeLetter = 'W';\n        break;\n      case 'workflow_approval_template':\n      case 'workflow_approval':\n        nodeTypeLetter = <CenteredPauseIcon />;\n        break;\n      default:\n        nodeTypeLetter = '';\n    }\n  }\n\n  return (\n    <foreignObject y=\"50\" x=\"-10\" height=\"20\" width=\"20\">\n      <NodeTypeLetter id={`node-${node.id}-type-letter`}>\n        {nodeTypeLetter}\n      </NodeTypeLetter>\n    </foreignObject>\n  );\n}\n\nWorkflowNodeTypeLetter.propTypes = {\n  node: shape().isRequired,\n};\n\nexport default WorkflowNodeTypeLetter;\n","import React, { useContext, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { bool, func } from 'prop-types';\nimport { PlusIcon } from '@patternfly/react-icons';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../contexts/Workflow';\nimport { constants as wfConstants } from './WorkflowUtils';\nimport WorkflowActionTooltip from './WorkflowActionTooltip';\nimport WorkflowActionTooltipItem from './WorkflowActionTooltipItem';\n\nconst StartG = styled.g`\n  pointer-events: ${props => (props.ignorePointerEvents ? 'none' : 'auto')};\n`;\n\nfunction WorkflowStartNode({ i18n, onUpdateHelpText, showActionTooltip }) {\n  const ref = useRef(null);\n  const [hovering, setHovering] = useState(false);\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { addingLink, nodePositions } = useContext(WorkflowStateContext);\n\n  const handleNodeMouseEnter = () => {\n    ref.current.parentNode.appendChild(ref.current);\n    setHovering(true);\n  };\n\n  return (\n    <StartG\n      id=\"node-1\"\n      ignorePointerEvents={addingLink}\n      onMouseEnter={handleNodeMouseEnter}\n      onMouseLeave={() => setHovering(false)}\n      ref={ref}\n      transform={`translate(${nodePositions[1].x},0)`}\n    >\n      <rect\n        fill=\"#0279BC\"\n        height={wfConstants.rootH}\n        rx=\"2\"\n        ry=\"2\"\n        width={wfConstants.rootW}\n        y=\"10\"\n      />\n      {/* TODO: We need to be able to handle translated text here */}\n      <text x=\"13\" y=\"30\" dy=\".35em\" fill=\"white\">\n        START\n      </text>\n      {showActionTooltip && hovering && (\n        <WorkflowActionTooltip\n          actions={[\n            <WorkflowActionTooltipItem\n              id=\"node-add\"\n              key=\"add\"\n              onMouseEnter={() => onUpdateHelpText(i18n._(t`Add a new node`))}\n              onMouseLeave={() => onUpdateHelpText(null)}\n              onClick={() => {\n                onUpdateHelpText(null);\n                setHovering(false);\n                dispatch({ type: 'START_ADD_NODE', sourceNodeId: 1 });\n              }}\n            >\n              <PlusIcon />\n            </WorkflowActionTooltipItem>,\n          ]}\n          pointX={wfConstants.rootW}\n          pointY={wfConstants.rootH / 2 + 10}\n        />\n      )}\n    </StartG>\n  );\n}\n\nWorkflowStartNode.propTypes = {\n  showActionTooltip: bool.isRequired,\n  onUpdateHelpText: func,\n};\n\nWorkflowStartNode.defaultProps = {\n  onUpdateHelpText: () => {},\n};\n\nexport default withI18n()(WorkflowStartNode);\n","import 'styled-components/macro';\nimport React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { func, number } from 'prop-types';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport {\n  CaretDownIcon,\n  CaretLeftIcon,\n  CaretRightIcon,\n  CaretUpIcon,\n  DesktopIcon,\n  HomeIcon,\n  MinusIcon,\n  PlusIcon,\n  TimesIcon,\n} from '@patternfly/react-icons';\nimport { WorkflowDispatchContext } from '../../contexts/Workflow';\n\nconst Wrapper = styled.div`\n  background-color: white;\n  border: 1px solid #c7c7c7;\n  height: 215px;\n  position: relative;\n`;\n\nconst Header = styled.div`\n  border-bottom: 1px solid #c7c7c7;\n  padding: 10px;\n`;\n\nconst Pan = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst PanCenter = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Tools = styled.div`\n  align-items: center;\n  display: flex;\n  padding: 20px;\n`;\n\nconst Close = styled(TimesIcon)`\n  cursor: pointer;\n  position: absolute;\n  right: 10px;\n  top: 15px;\n`;\n\nfunction WorkflowTools({\n  i18n,\n  onFitGraph,\n  onPan,\n  onPanToMiddle,\n  onZoomChange,\n  zoomPercentage,\n}) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const zoomIn = () => {\n    const newScale =\n      Math.ceil((zoomPercentage + 10) / 10) * 10 < 200\n        ? Math.ceil((zoomPercentage + 10) / 10) * 10\n        : 200;\n    onZoomChange(newScale / 100);\n  };\n\n  const zoomOut = () => {\n    const newScale =\n      Math.floor((zoomPercentage - 10) / 10) * 10 > 10\n        ? Math.floor((zoomPercentage - 10) / 10) * 10\n        : 10;\n    onZoomChange(newScale / 100);\n  };\n\n  return (\n    <Wrapper>\n      <Header>\n        <b>{i18n._(t`Tools`)}</b>\n        <Close onClick={() => dispatch({ type: 'TOGGLE_TOOLS' })} />\n      </Header>\n      <Tools>\n        <Tooltip\n          content={i18n._(t`Fit the graph to the available screen size`)}\n          position=\"bottom\"\n        >\n          <Button\n            variant=\"tertiary\"\n            css=\"margin-right: 30px;\"\n            onClick={() => onFitGraph()}\n          >\n            <DesktopIcon />\n          </Button>\n        </Tooltip>\n        <Tooltip content={i18n._(t`Zoom Out`)} position=\"bottom\">\n          <Button\n            variant=\"tertiary\"\n            css=\"margin-right: 10px;\"\n            onClick={() => zoomOut()}\n          >\n            <MinusIcon />\n          </Button>\n        </Tooltip>\n        <input\n          id=\"zoom-slider\"\n          max=\"200\"\n          min=\"10\"\n          onChange={event =>\n            onZoomChange(parseInt(event.target.value, 10) / 100)\n          }\n          step=\"10\"\n          type=\"range\"\n          value={zoomPercentage}\n        />\n        <Tooltip content={i18n._(t`Zoom In`)} position=\"bottom\">\n          <Button\n            variant=\"tertiary\"\n            css=\"margin: 0px 25px 0px 10px;\"\n            onClick={() => zoomIn()}\n          >\n            <PlusIcon />\n          </Button>\n        </Tooltip>\n        <Pan>\n          <Tooltip content={i18n._(t`Pan Left`)} position=\"left\">\n            <Button\n              variant=\"tertiary\"\n              css=\"margin-right: 10px;\"\n              onClick={() => onPan('left')}\n            >\n              <CaretLeftIcon />\n            </Button>\n          </Tooltip>\n          <PanCenter>\n            <Tooltip content={i18n._(t`Pan Up`)} position=\"top\">\n              <Button\n                variant=\"tertiary\"\n                css=\"margin-bottom: 10px;\"\n                onClick={() => onPan('up')}\n              >\n                <CaretUpIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip\n              content={i18n._(t`Set zoom to 100% and center graph`)}\n              position=\"top\"\n            >\n              <Button variant=\"tertiary\" onClick={() => onPanToMiddle()}>\n                <HomeIcon />\n              </Button>\n            </Tooltip>\n            <Tooltip content={i18n._(t`Pan Down`)} position=\"bottom\">\n              <Button\n                variant=\"tertiary\"\n                css=\"margin-top: 10px;\"\n                onClick={() => onPan('down')}\n              >\n                <CaretDownIcon />\n              </Button>\n            </Tooltip>\n          </PanCenter>\n          <Tooltip content={i18n._(t`Pan Right`)} position=\"right\">\n            <Button\n              variant=\"tertiary\"\n              css=\"margin-left: 10px;\"\n              onClick={() => onPan('right')}\n            >\n              <CaretRightIcon />\n            </Button>\n          </Tooltip>\n        </Pan>\n      </Tools>\n    </Wrapper>\n  );\n}\n\nWorkflowTools.propTypes = {\n  onFitGraph: func.isRequired,\n  onPan: func.isRequired,\n  onPanToMiddle: func.isRequired,\n  onZoomChange: func.isRequired,\n  zoomPercentage: number.isRequired,\n};\n\nexport default withI18n()(WorkflowTools);\n","import React, { useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { func, shape } from 'prop-types';\nimport { WorkflowStateContext } from '../../../contexts/Workflow';\nimport StatusIcon from '../../../components/StatusIcon';\nimport { WorkflowNodeTypeLetter } from '../../../components/Workflow';\nimport { secondsToHHMMSS } from '../../../util/dates';\nimport { constants as wfConstants } from '../../../components/Workflow/WorkflowUtils';\n\nconst NodeG = styled.g`\n  cursor: ${props =>\n    props.job && props.job.type !== 'workflow_approval'\n      ? 'pointer'\n      : 'default'};\n`;\n\nconst JobTopLine = styled.div`\n  align-items: center;\n  display: flex;\n  margin-top: 5px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  p {\n    margin-left: 10px;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`;\n\nconst Elapsed = styled.div`\n  margin-top: 5px;\n  text-align: center;\n\n  span {\n    font-size: 12px;\n    font-weight: bold;\n    background-color: #ededed;\n    padding: 3px 12px;\n    border-radius: 14px;\n  }\n`;\n\nconst NodeContents = styled.div`\n  font-size: 13px;\n  padding: 0px 10px;\n`;\n\nconst NodeDefaultLabel = styled.p`\n  margin-top: 20px;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\n\nElapsed.displayName = 'Elapsed';\n\nfunction WorkflowOutputNode({ i18n, mouseEnter, mouseLeave, node }) {\n  const history = useHistory();\n  const { nodePositions } = useContext(WorkflowStateContext);\n  const job = node?.originalNodeObject?.summary_fields?.job;\n  const jobName =\n    node?.originalNodeObject?.summary_fields?.unified_job_template?.name ||\n    node?.unifiedJobTemplate?.name;\n\n  let borderColor = '#93969A';\n\n  if (job) {\n    if (\n      job.status === 'failed' ||\n      job.status === 'error' ||\n      job.status === 'canceled'\n    ) {\n      borderColor = '#d9534f';\n    }\n    if (job.status === 'successful' || job.status === 'ok') {\n      borderColor = '#5cb85c';\n    }\n  }\n\n  const handleNodeClick = () => {\n    if (job && job.type !== 'workflow_aproval') {\n      history.push(`/jobs/${job.id}/details`);\n    }\n  };\n\n  return (\n    <NodeG\n      id={`node-${node.id}`}\n      transform={`translate(${nodePositions[node.id].x},${nodePositions[node.id]\n        .y - nodePositions[1].y})`}\n      job={job}\n      onClick={handleNodeClick}\n      onMouseEnter={mouseEnter}\n      onMouseLeave={mouseLeave}\n    >\n      <rect\n        fill=\"#FFFFFF\"\n        height={wfConstants.nodeH}\n        rx=\"2\"\n        ry=\"2\"\n        stroke={borderColor}\n        strokeWidth=\"2px\"\n        width={wfConstants.nodeW}\n      />\n      <foreignObject height=\"58\" width=\"178\" x=\"1\" y=\"1\">\n        <NodeContents>\n          {job ? (\n            <>\n              <JobTopLine>\n                {job.status !== 'pending' && <StatusIcon status={job.status} />}\n                <p>{jobName}</p>\n              </JobTopLine>\n              {!!job?.elapsed && (\n                <Elapsed>{secondsToHHMMSS(job.elapsed)}</Elapsed>\n              )}\n            </>\n          ) : (\n            <NodeDefaultLabel>{jobName || i18n._(t`DELETED`)}</NodeDefaultLabel>\n          )}\n        </NodeContents>\n      </foreignObject>\n      {(node.unifiedJobTemplate || job) && (\n        <WorkflowNodeTypeLetter node={node} />\n      )}\n    </NodeG>\n  );\n}\n\nWorkflowOutputNode.propTypes = {\n  mouseEnter: func.isRequired,\n  mouseLeave: func.isRequired,\n  node: shape().isRequired,\n};\n\nexport default withI18n()(WorkflowOutputNode);\n","import 'styled-components/macro';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport * as d3 from 'd3';\nimport { WorkflowStateContext } from '../../../contexts/Workflow';\nimport {\n  getScaleAndOffsetToFit,\n  getTranslatePointsForZoom,\n} from '../../../components/Workflow/WorkflowUtils';\nimport WorkflowOutputLink from './WorkflowOutputLink';\nimport WorkflowOutputNode from './WorkflowOutputNode';\nimport {\n  WorkflowHelp,\n  WorkflowLegend,\n  WorkflowLinkHelp,\n  WorkflowNodeHelp,\n  WorkflowStartNode,\n  WorkflowTools,\n} from '../../../components/Workflow';\n\nfunction WorkflowOutputGraph() {\n  const [linkHelp, setLinkHelp] = useState();\n  const [nodeHelp, setNodeHelp] = useState();\n  const [zoomPercentage, setZoomPercentage] = useState(100);\n  const svgRef = useRef(null);\n  const gRef = useRef(null);\n\n  const { links, nodePositions, nodes, showLegend, showTools } = useContext(\n    WorkflowStateContext\n  );\n\n  // This is the zoom function called by using the mousewheel/click and drag\n  const zoom = () => {\n    const translation = [d3.event.transform.x, d3.event.transform.y];\n    d3.select(gRef.current).attr(\n      'transform',\n      `translate(${translation}) scale(${d3.event.transform.k})`\n    );\n\n    setZoomPercentage(d3.event.transform.k * 100);\n  };\n\n  const handlePan = direction => {\n    const transform = d3.zoomTransform(d3.select(svgRef.current).node());\n\n    let { x: xPos, y: yPos } = transform;\n    const { k: currentScale } = transform;\n\n    switch (direction) {\n      case 'up':\n        yPos -= 50;\n        break;\n      case 'down':\n        yPos += 50;\n        break;\n      case 'left':\n        xPos -= 50;\n        break;\n      case 'right':\n        xPos += 50;\n        break;\n      default:\n        // Throw an error?\n        break;\n    }\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(xPos, yPos).scale(currentScale)\n    );\n  };\n\n  const handlePanToMiddle = () => {\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity\n        .translate(0, svgBoundingClientRect.height / 2 - 30)\n        .scale(1)\n    );\n\n    setZoomPercentage(100);\n  };\n\n  const handleZoomChange = newScale => {\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n    const currentScaleAndOffset = d3.zoomTransform(\n      d3.select(svgRef.current).node()\n    );\n\n    const [translateX, translateY] = getTranslatePointsForZoom(\n      svgBoundingClientRect,\n      currentScaleAndOffset,\n      newScale\n    );\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(translateX, translateY).scale(newScale)\n    );\n    setZoomPercentage(newScale * 100);\n  };\n\n  const handleFitGraph = () => {\n    const { k: currentScale } = d3.zoomTransform(\n      d3.select(svgRef.current).node()\n    );\n    const gBoundingClientRect = d3\n      .select(gRef.current)\n      .node()\n      .getBoundingClientRect();\n\n    const gBBoxDimensions = d3\n      .select(gRef.current)\n      .node()\n      .getBBox();\n\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n\n    const [scaleToFit, yTranslate] = getScaleAndOffsetToFit(\n      gBoundingClientRect,\n      svgBoundingClientRect,\n      gBBoxDimensions,\n      currentScale\n    );\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(0, yTranslate).scale(scaleToFit)\n    );\n\n    setZoomPercentage(scaleToFit * 100);\n  };\n\n  const zoomRef = d3\n    .zoom()\n    .scaleExtent([0.1, 2])\n    .on('zoom', zoom);\n\n  // Initialize the zoom\n  useEffect(() => {\n    d3.select(svgRef.current).call(zoomRef);\n  }, [zoomRef]);\n\n  // Attempt to zoom the graph to fit the available screen space\n  useEffect(() => {\n    handleFitGraph();\n    // We only want this to run once (when the component mounts)\n    // Including handleFitGraph in the deps array will cause this to\n    // run very frequently.\n    // Discussion: https://github.com/facebook/create-react-app/issues/6880\n    // and https://github.com/facebook/react/issues/15865 amongst others\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {(nodeHelp || linkHelp) && (\n        <WorkflowHelp>\n          {nodeHelp && <WorkflowNodeHelp node={nodeHelp} />}\n          {linkHelp && <WorkflowLinkHelp link={linkHelp} />}\n        </WorkflowHelp>\n      )}\n      <svg\n        id=\"workflow-svg\"\n        ref={svgRef}\n        css=\"display: flex; height: 100%; background-color: #f6f6f6;\"\n      >\n        <g id=\"workflow-g\" ref={gRef}>\n          {nodePositions && [\n            <WorkflowStartNode key=\"start\" showActionTooltip={false} />,\n            links.map(link => (\n              <WorkflowOutputLink\n                key={`link-${link.source.id}-${link.target.id}`}\n                link={link}\n                mouseEnter={() => setLinkHelp(link)}\n                mouseLeave={() => setLinkHelp(null)}\n              />\n            )),\n            nodes.map(node => {\n              if (node.id > 1) {\n                return (\n                  <WorkflowOutputNode\n                    key={`node-${node.id}`}\n                    mouseEnter={() => setNodeHelp(node)}\n                    mouseLeave={() => setNodeHelp(null)}\n                    node={node}\n                  />\n                );\n              }\n              return null;\n            }),\n          ]}\n        </g>\n      </svg>\n      <div css=\"position: absolute; top: 75px;right: 20px;display: flex;\">\n        {showTools && (\n          <WorkflowTools\n            onFitGraph={handleFitGraph}\n            onPan={handlePan}\n            onPanToMiddle={handlePanToMiddle}\n            onZoomChange={handleZoomChange}\n            zoomPercentage={zoomPercentage}\n          />\n        )}\n        {showLegend && <WorkflowLegend />}\n      </div>\n    </>\n  );\n}\n\nexport default WorkflowOutputGraph;\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { shape } from 'prop-types';\nimport { Badge as PFBadge, Button, Tooltip } from '@patternfly/react-core';\nimport { CompassIcon, WrenchIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport StatusIcon from '../../../components/StatusIcon';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\n\nconst Toolbar = styled.div`\n  align-items: center;\n  border-bottom: 1px solid grey;\n  display: flex;\n  height: 56px;\n`;\n\nconst ToolbarJob = styled.div`\n  align-items: center;\n  display: flex;\n`;\n\nconst ToolbarActions = styled.div`\n  align-items: center;\n  display: flex;\n  flex: 1;\n  justify-content: flex-end;\n`;\n\nconst Badge = styled(PFBadge)`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n`;\n\nconst ActionButton = styled(Button)`\n  border: none;\n  margin: 0px 6px;\n  padding: 6px 10px;\n  &:hover {\n    background-color: #0066cc;\n    color: white;\n  }\n\n  &.pf-m-active {\n    background-color: #0066cc;\n    color: white;\n  }\n`;\n\nconst StatusIconWithMargin = styled(StatusIcon)`\n  margin-right: 20px;\n`;\n\nfunction WorkflowOutputToolbar({ i18n, job }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n\n  const { nodes, showLegend, showTools } = useContext(WorkflowStateContext);\n\n  const totalNodes = nodes.reduce((n, node) => n + !node.isDeleted, 0) - 1;\n\n  return (\n    <Toolbar id=\"workflow-output-toolbar\">\n      <ToolbarJob>\n        <StatusIconWithMargin status={job.status} />\n        <b>{job.name}</b>\n      </ToolbarJob>\n      <ToolbarActions>\n        <div>{i18n._(t`Total Nodes`)}</div>\n        <Badge isRead>{totalNodes}</Badge>\n        <Tooltip content={i18n._(t`Toggle Legend`)} position=\"bottom\">\n          <ActionButton\n            id=\"workflow-output-toggle-legend\"\n            isActive={showLegend}\n            onClick={() => dispatch({ type: 'TOGGLE_LEGEND' })}\n            variant=\"plain\"\n          >\n            <CompassIcon />\n          </ActionButton>\n        </Tooltip>\n        <Tooltip content={i18n._(t`Toggle Tools`)} position=\"bottom\">\n          <ActionButton\n            id=\"workflow-output-toggle-tools\"\n            isActive={showTools}\n            onClick={() => dispatch({ type: 'TOGGLE_TOOLS' })}\n            variant=\"plain\"\n          >\n            <WrenchIcon />\n          </ActionButton>\n        </Tooltip>\n      </ToolbarActions>\n    </Toolbar>\n  );\n}\n\nWorkflowOutputToolbar.propTypes = {\n  job: shape().isRequired,\n};\n\nexport default withI18n()(WorkflowOutputToolbar);\n","import { useState, useEffect } from 'react';\nimport useWebsocket from '../../../util/useWebsocket';\nimport { WorkflowJobsAPI } from '../../../api';\n\nconst fetchWorkflowNodes = async (jobId, pageNo = 1, nodes = []) => {\n  const { data } = await WorkflowJobsAPI.readNodes(jobId, {\n    page_size: 200,\n    page: pageNo,\n  });\n\n  if (data.next) {\n    return fetchWorkflowNodes(jobId, pageNo + 1, nodes.concat(data.results));\n  }\n  return nodes.concat(data.results);\n};\n\nexport default function useWsWorkflowOutput(workflowJobId, initialNodes) {\n  const [nodes, setNodes] = useState(initialNodes);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setNodes(initialNodes);\n  }, [initialNodes]);\n\n  useEffect(\n    function parseWsMessage() {\n      async function refreshNodeObjects() {\n        const refreshedNodes = [];\n        const updatedNodeObjects = await fetchWorkflowNodes(workflowJobId);\n        const updatedNodeObjectsMap = updatedNodeObjects.reduce((map, node) => {\n          map[node.id] = node;\n          return map;\n        }, {});\n        nodes.forEach(node => {\n          if (node.id === 1) {\n            // This is our artificial start node\n            refreshedNodes.push({\n              ...node,\n            });\n          } else {\n            refreshedNodes.push({\n              ...node,\n              originalNodeObject:\n                updatedNodeObjectsMap[node.originalNodeObject.id],\n            });\n          }\n        });\n        setNodes(refreshedNodes);\n      }\n\n      if (\n        lastMessage?.unified_job_id === workflowJobId &&\n        ['successful', 'failed', 'error', 'cancelled'].includes(\n          lastMessage.status\n        )\n      ) {\n        refreshNodeObjects();\n      } else {\n        if (\n          !nodes ||\n          nodes.length === 0 ||\n          lastMessage?.workflow_job_id !== workflowJobId\n        ) {\n          return;\n        }\n\n        const index = nodes.findIndex(\n          node => node?.originalNodeObject?.id === lastMessage.workflow_node_id\n        );\n\n        if (index > -1) {\n          setNodes(updateNode(nodes, index, lastMessage));\n        }\n      }\n    },\n    [lastMessage] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  return nodes;\n}\n\nfunction updateNode(nodes, index, message) {\n  const node = {\n    ...nodes[index],\n    originalNodeObject: {\n      ...nodes[index]?.originalNodeObject,\n      job: message.unified_job_id,\n      summary_fields: {\n        ...nodes[index]?.originalNodeObject?.summary_fields,\n        job: {\n          ...nodes[index]?.originalNodeObject?.summary_fields?.job,\n          id: message.unified_job_id,\n          status: message.status,\n          type: message.type,\n        },\n      },\n    },\n    job: {\n      ...nodes[index]?.job,\n      id: message.unified_job_id,\n      name: nodes[index]?.job?.name || nodes[index]?.unifiedJobTemplate?.name,\n      status: message.status,\n      type: message.type,\n    },\n  };\n\n  return [...nodes.slice(0, index), node, ...nodes.slice(index + 1)];\n}\n","import React, { useEffect, useReducer } from 'react';\nimport { withI18n } from '@lingui/react';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\nimport { CardBody as PFCardBody } from '@patternfly/react-core';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\nimport { layoutGraph } from '../../../components/Workflow/WorkflowUtils';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport workflowReducer, {\n  initReducer,\n} from '../../../components/Workflow/workflowReducer';\nimport { WorkflowJobsAPI } from '../../../api';\nimport WorkflowOutputGraph from './WorkflowOutputGraph';\nimport WorkflowOutputToolbar from './WorkflowOutputToolbar';\nimport useWsWorkflowOutput from './useWsWorkflowOutput';\n\nconst CardBody = styled(PFCardBody)`\n  display: flex;\n  flex-direction: column;\n  height: calc(100vh - 240px);\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  position: relative;\n`;\n\nconst fetchWorkflowNodes = async (jobId, pageNo = 1, nodes = []) => {\n  const { data } = await WorkflowJobsAPI.readNodes(jobId, {\n    page_size: 200,\n    page: pageNo,\n  });\n\n  if (data.next) {\n    return fetchWorkflowNodes(jobId, pageNo + 1, nodes.concat(data.results));\n  }\n  return nodes.concat(data.results);\n};\n\nfunction WorkflowOutput({ job, i18n }) {\n  const [state, dispatch] = useReducer(workflowReducer, {}, initReducer);\n  const { contentError, isLoading, links, nodePositions, nodes } = state;\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const workflowNodes = await fetchWorkflowNodes(job.id);\n        dispatch({\n          type: 'GENERATE_NODES_AND_LINKS',\n          nodes: workflowNodes,\n          i18n,\n        });\n      } catch (error) {\n        dispatch({ type: 'SET_CONTENT_ERROR', value: error });\n      } finally {\n        dispatch({ type: 'SET_IS_LOADING', value: false });\n      }\n    }\n    dispatch({ type: 'RESET' });\n    fetchData();\n  }, [job.id, i18n]);\n\n  // Update positions of nodes/links\n  useEffect(() => {\n    if (nodes) {\n      const newNodePositions = {};\n      const g = layoutGraph(nodes, links);\n\n      g.nodes().forEach(node => {\n        newNodePositions[node] = g.node(node);\n      });\n\n      dispatch({ type: 'SET_NODE_POSITIONS', value: newNodePositions });\n    }\n  }, [job.id, links, nodes]);\n\n  const updatedNodes = useWsWorkflowOutput(job.id, nodes);\n\n  useEffect(() => {\n    dispatch({ type: 'SET_NODES', value: updatedNodes });\n  }, [updatedNodes]);\n\n  if (isLoading) {\n    return (\n      <CardBody>\n        <ContentLoading />\n      </CardBody>\n    );\n  }\n\n  if (contentError) {\n    return (\n      <CardBody>\n        <ContentError error={contentError} />\n      </CardBody>\n    );\n  }\n\n  return (\n    <WorkflowStateContext.Provider value={state}>\n      <WorkflowDispatchContext.Provider value={dispatch}>\n        <CardBody>\n          <Wrapper>\n            <WorkflowOutputToolbar job={job} />\n            {nodePositions && <WorkflowOutputGraph />}\n          </Wrapper>\n        </CardBody>\n      </WorkflowDispatchContext.Provider>\n    </WorkflowStateContext.Provider>\n  );\n}\n\nWorkflowOutput.propTypes = {\n  job: shape().isRequired,\n};\n\nexport default withI18n()(WorkflowOutput);\n","import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport useWebsocket from '../../util/useWebsocket';\nimport { JobsAPI } from '../../api';\n\nexport default function useWsJob(initialJob) {\n  const { type } = useParams();\n  const [job, setJob] = useState(initialJob);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setJob(initialJob);\n  }, [initialJob]);\n\n  useEffect(\n    function parseWsMessage() {\n      async function fetchJob() {\n        const { data } = await JobsAPI.readDetail(job.id, type);\n        setJob(data);\n      }\n\n      if (!job || lastMessage?.unified_job_id !== job.id) {\n        return;\n      }\n\n      if (\n        ['successful', 'failed', 'error', 'cancelled'].includes(\n          lastMessage.status\n        )\n      ) {\n        fetchJob();\n      } else {\n        setJob(updateJob(job, lastMessage));\n      }\n    },\n    [lastMessage] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  return job;\n}\n\nfunction updateJob(job, message) {\n  return {\n    ...job,\n    finished: message.finished,\n    status: message.status,\n  };\n}\n","import React, { useEffect, useCallback } from 'react';\nimport {\n  Route,\n  withRouter,\n  Switch,\n  Redirect,\n  Link,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { JobsAPI } from '../../api';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport useRequest from '../../util/useRequest';\nimport JobDetail from './JobDetail';\nimport JobOutput from './JobOutput';\nimport { WorkflowOutput } from './WorkflowOutput';\nimport useWsJob from './useWsJob';\n\nfunction Job({ i18n, setBreadcrumb }) {\n  const { id, type } = useParams();\n  const match = useRouteMatch();\n\n  const { isLoading, error, request: fetchJob, result } = useRequest(\n    useCallback(async () => {\n      const { data } = await JobsAPI.readDetail(id, type);\n      if (\n        data?.summary_fields?.credentials?.find(cred => cred.kind === 'vault')\n      ) {\n        const {\n          data: { results },\n        } = await JobsAPI.readCredentials(data.id, type);\n\n        data.summary_fields.credentials = results;\n      }\n      setBreadcrumb(data);\n      return data;\n    }, [id, type, setBreadcrumb])\n  );\n\n  useEffect(() => {\n    fetchJob();\n  }, [fetchJob]);\n\n  const job = useWsJob(result);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Jobs`)}\n        </>\n      ),\n      link: `/jobs`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details`, id: 0 },\n    { name: i18n._(t`Output`), link: `${match.url}/output`, id: 1 },\n  ];\n\n  if (isLoading) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response.status === 404 && (\n              <span>\n                {i18n._(t`The page you requested could not be found.`)}{' '}\n                <Link to=\"/jobs\">{i18n._(t`View all Jobs.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        <RoutedTabs tabsArray={tabsArray} />\n        <Switch>\n          <Redirect from=\"/jobs/:type/:id\" to=\"/jobs/:type/:id/output\" exact />\n          {job &&\n            job.type === 'workflow_job' && [\n              <Route key=\"workflow-details\" path=\"/jobs/workflow/:id/details\">\n                <JobDetail type={match.params.type} job={job} />\n              </Route>,\n              <Route key=\"workflow-output\" path=\"/jobs/workflow/:id/output\">\n                <WorkflowOutput job={job} />\n              </Route>,\n            ]}\n          {job &&\n            job.type !== 'workflow_job' && [\n              <Route key=\"details\" path=\"/jobs/:type/:id/details\">\n                <JobDetail type={type} job={job} />\n              </Route>,\n              <Route key=\"output\" path=\"/jobs/:type/:id/output\">\n                <JobOutput type={type} job={job} />\n              </Route>,\n              <Route key=\"not-found\" path=\"*\">\n                <ContentError isNotFound>\n                  <Link to={`/jobs/${type}/${id}/details`}>\n                    {i18n._(t`View Job Details`)}\n                  </Link>\n                </ContentError>\n              </Route>,\n            ]}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(withRouter(Job));\nexport { Job as _Job };\n","import React, { useCallback, useEffect } from 'react';\nimport { Redirect, Link } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport useRequest from '../../util/useRequest';\nimport { UnifiedJobsAPI } from '../../api';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport { JOB_TYPE_URL_SEGMENTS } from '../../constants';\n\nconst NOT_FOUND = 'not found';\n\nfunction JobTypeRedirect({ id, path, view, i18n }) {\n  const {\n    isLoading,\n    error,\n    result: { job },\n    request: loadJob,\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: { results },\n      } = await UnifiedJobsAPI.read({ id });\n      const [item] = results;\n      return { job: item };\n    }, [id]),\n    { job: {} }\n  );\n  useEffect(() => {\n    loadJob();\n  }, [loadJob]);\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          {error === NOT_FOUND ? (\n            <ContentError isNotFound>\n              <Link to=\"/jobs\">{i18n._(t`View all Jobs`)}</Link>\n            </ContentError>\n          ) : (\n            <ContentError error={error} />\n          )}\n        </Card>\n      </PageSection>\n    );\n  }\n  if (isLoading || !job?.id) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n  const type = JOB_TYPE_URL_SEGMENTS[job.type];\n  return <Redirect from={path} to={`/jobs/${type}/${job.id}/${view}`} />;\n}\n\nJobTypeRedirect.defaultProps = {\n  view: 'output',\n};\nexport default withI18n()(JobTypeRedirect);\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch, useParams, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection } from '@patternfly/react-core';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\nimport Job from './Job';\nimport JobTypeRedirect from './JobTypeRedirect';\nimport JobList from '../../components/JobList';\nimport { JOB_TYPE_URL_SEGMENTS } from '../../constants';\n\nfunction Jobs({ i18n }) {\n  const match = useRouteMatch();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/jobs': i18n._(t`作业`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    job => {\n      if (!job) {\n        return;\n      }\n\n      const type = JOB_TYPE_URL_SEGMENTS[job.type];\n      setBreadcrumbConfig({\n        '/jobs': i18n._(t`作业`),\n        [`/jobs/${type}/${job.id}`]: `${job.name}`,\n        [`/jobs/${type}/${job.id}/output`]: i18n._(t`Output`),\n        [`/jobs/${type}/${job.id}/details`]: i18n._(t`Details`),\n      });\n    },\n    [i18n]\n  );\n\n  function TypeRedirect({ view }) {\n    const { id } = useParams();\n    const { path } = useRouteMatch();\n    return <JobTypeRedirect id={id} path={path} view={view} />;\n  }\n\n  return (\n    <>\n      <ScreenHeader streamType=\"job\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route exact path={match.path}>\n          <PageSection>\n            <JobList showTypeColumn />\n          </PageSection>\n        </Route>\n        <Route path={`${match.path}/:id/details`}>\n          <TypeRedirect view=\"details\" />\n        </Route>\n        <Route path={`${match.path}/:id/output`}>\n          <TypeRedirect view=\"output\" />\n        </Route>\n        <Route path={`${match.path}/:type/:id`}>\n          <Job setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <TypeRedirect />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Jobs as _Jobs };\nexport default withI18n()(Jobs);\n","import React, { Fragment } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport ScreenHeader from '../../components/ScreenHeader';\n\nfunction ManagementJobs({ i18n }) {\n  return (\n    <Fragment>\n      <ScreenHeader\n        streamType=\"none\"\n        breadcrumbConfig={{ '/management_jobs': i18n._(t`Management Jobs`) }}\n      />\n    </Fragment>\n  );\n}\n\nexport default withI18n()(ManagementJobs);\n","/* eslint-disable-next-line import/prefer-default-export */\nexport const NOTIFICATION_TYPES = {\n  email: 'Email',\n  grafana: 'Grafana',\n  irc: 'IRC',\n  mattermost: 'Mattermost',\n  pagerduty: 'Pagerduty',\n  rocketchat: 'Rocket.Chat',\n  slack: 'Slack',\n  twilio: 'Twilio',\n  webhook: 'Webhook',\n};\n","import 'styled-components/macro';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { PencilAltIcon, BellIcon } from '@patternfly/react-icons';\nimport { timeOfDay } from '../../../util/dates';\nimport { NotificationTemplatesAPI, NotificationsAPI } from '../../../api';\nimport DataListCell from '../../../components/DataListCell';\nimport StatusLabel from '../../../components/StatusLabel';\nimport CopyButton from '../../../components/CopyButton';\nimport useRequest from '../../../util/useRequest';\nimport { NOTIFICATION_TYPES } from '../constants';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(3, 40px);\n`;\n\nconst NUM_RETRIES = 25;\nconst RETRY_TIMEOUT = 5000;\n\nfunction NotificationTemplateListItem({\n  template,\n  detailUrl,\n  fetchTemplates,\n  isSelected,\n  onSelect,\n  i18n,\n}) {\n  const recentNotifications = template.summary_fields?.recent_notifications;\n  const latestStatus = recentNotifications\n    ? recentNotifications[0]?.status\n    : null;\n  const [status, setStatus] = useState(latestStatus);\n  const [isCopyDisabled, setIsCopyDisabled] = useState(false);\n\n  const copyTemplate = useCallback(async () => {\n    await NotificationTemplatesAPI.copy(template.id, {\n      name: `${template.name} @ ${timeOfDay()}`,\n    });\n    await fetchTemplates();\n  }, [template.id, template.name, fetchTemplates]);\n\n  const handleCopyStart = useCallback(() => {\n    setIsCopyDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsCopyDisabled(false);\n  }, []);\n\n  useEffect(() => {\n    setStatus(latestStatus);\n  }, [latestStatus]);\n\n  const { request: sendTestNotification, isLoading, error } = useRequest(\n    useCallback(async () => {\n      const request = NotificationTemplatesAPI.test(template.id);\n      setStatus('running');\n      let retries = NUM_RETRIES;\n      const {\n        data: { notification: notificationId },\n      } = await request;\n\n      async function pollForStatusChange() {\n        const { data: notification } = await NotificationsAPI.readDetail(\n          notificationId\n        );\n        if (notification.status !== 'pending') {\n          setStatus(notification.status);\n          return;\n        }\n        retries--;\n        if (retries > 0) {\n          setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n        }\n      }\n\n      setTimeout(pollForStatusChange, RETRY_TIMEOUT);\n    }, [template.id])\n  );\n\n  useEffect(() => {\n    if (error) {\n      setStatus('error');\n    }\n  }, [error]);\n\n  const labelId = `template-name-${template.id}`;\n\n  return (\n    <DataListItem key={template.id} aria-labelledby={labelId} id={template.id}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-template-${template.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" id={labelId}>\n              <Link to={detailUrl}>\n                <b>{template.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"status\">\n              {status && <StatusLabel status={status} />}\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              <strong>{i18n._(t`Type:`)}</strong>{' '}\n              {NOTIFICATION_TYPES[template.notification_type] ||\n                template.notification_type}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction aria-label=\"actions\" aria-labelledby={labelId}>\n          <Tooltip content={i18n._(t`Test Notification`)} position=\"top\">\n            <Button\n              aria-label={i18n._(t`Test Notification`)}\n              variant=\"plain\"\n              onClick={sendTestNotification}\n              isDisabled={isLoading || status === 'running'}\n            >\n              <BellIcon />\n            </Button>\n          </Tooltip>\n          {template.summary_fields.user_capabilities.edit ? (\n            <Tooltip\n              content={i18n._(t`Edit Notification Template`)}\n              position=\"top\"\n            >\n              <Button\n                aria-label={i18n._(t`Edit Notification Template`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/notification_templates/${template.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            <div />\n          )}\n          {template.summary_fields.user_capabilities.copy && (\n            <CopyButton\n              copyItem={copyTemplate}\n              isCopyDisabled={isCopyDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              helperText={{\n                tooltip: i18n._(t`Copy Notification Template`),\n                errorMessage: i18n._(t`Failed to copy template.`),\n              }}\n            />\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(NotificationTemplateListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { NotificationTemplatesAPI } from '../../../api';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport NotificationTemplateListItem from './NotificationTemplateListItem';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\n\nconst QS_CONFIG = getQSConfig('notification-templates', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction NotificationTemplatesList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const addUrl = `${match.url}/add`;\n\n  const {\n    result: {\n      templates,\n      count,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading: isTemplatesLoading,\n    request: fetchTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        NotificationTemplatesAPI.read(params),\n        NotificationTemplatesAPI.readOptions(),\n      ]);\n      return {\n        templates: response.data.results,\n        count: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      templates: [],\n      count: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [fetchTemplates]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    templates\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTemplates,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id }) => NotificationTemplatesAPI.destroy(id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTemplates,\n    }\n  );\n\n  const handleDelete = async () => {\n    await deleteTemplates();\n    setSelected([]);\n  };\n\n  const canAdd = actions && actions.POST;\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={isTemplatesLoading || isDeleteLoading}\n            items={templates}\n            itemCount={count}\n            pluralizedItemName={i18n._(t`Notification Templates`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n              {\n                name: i18n._(t`Notification type`),\n                key: 'or__notification_type',\n                options: [\n                  ['email', i18n._(t`Email`)],\n                  ['grafana', i18n._(t`Grafana`)],\n                  ['hipchat', i18n._(t`Hipchat`)],\n                  ['irc', i18n._(t`IRC`)],\n                  ['mattermost', i18n._(t`Mattermost`)],\n                  ['pagerduty', i18n._(t`Pagerduty`)],\n                  ['rocketchat', i18n._(t`Rocket.Chat`)],\n                  ['slack', i18n._(t`Slack`)],\n                  ['twilio', i18n._(t`Twilio`)],\n                  ['webhook', i18n._(t`Webhook`)],\n                ],\n              },\n              {\n                name: i18n._(t`Created by (username)`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`Modified by (username)`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n              {\n                name: i18n._(t`类型`),\n                key: 'notification_type',\n              },\n            ]}\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={set => setSelected(set ? [...templates] : [])}\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [<ToolbarAddButton key=\"add\" linkTo={addUrl} />]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`Notification Templates`)}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={template => (\n              <NotificationTemplateListItem\n                key={template.id}\n                fetchTemplates={fetchTemplates}\n                template={template}\n                detailUrl={`${match.url}/${template.id}`}\n                isSelected={selected.some(row => row.id === template.id)}\n                onSelect={() => handleSelect(template)}\n              />\n            )}\n            emptyStateControls={\n              canAdd ? <ToolbarAddButton key=\"add\" linkTo={addUrl} /> : null\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more notification template.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(NotificationTemplatesList);\n","import NotificationTemplateList from './NotificationTemplateList';\n\nexport default NotificationTemplateList;\nexport { default as NotificationTemplateListItem } from './NotificationTemplateListItem';\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { FormGroup, Title } from '@patternfly/react-core';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport FormField, {\n  PasswordField,\n  CheckboxField,\n  ArrayTextField,\n} from '../../../components/FormField';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport { CodeMirrorField } from '../../../components/CodeMirrorInput';\nimport {\n  combine,\n  required,\n  requiredEmail,\n  url,\n  minMaxValue,\n} from '../../../util/validators';\nimport { NotificationType } from '../../../types';\n\nconst TypeFields = {\n  email: EmailFields,\n  grafana: GrafanaFields,\n  irc: IRCFields,\n  mattermost: MattermostFields,\n  pagerduty: PagerdutyFields,\n  rocketchat: RocketChatFields,\n  slack: SlackFields,\n  twilio: TwilioFields,\n  webhook: WebhookFields,\n};\n\nfunction TypeInputsSubForm({ type, i18n }) {\n  const Fields = TypeFields[type];\n  return (\n    <SubFormLayout>\n      <Title size=\"md\" headingLevel=\"h4\">\n        {i18n._(t`Type Details`)}\n      </Title>\n      <FormColumnLayout>\n        <Fields i18n={i18n} />\n      </FormColumnLayout>\n    </SubFormLayout>\n  );\n}\nTypeInputsSubForm.propTypes = {\n  type: NotificationType.isRequired,\n};\n\nexport default withI18n()(TypeInputsSubForm);\n\nfunction EmailFields({ i18n }) {\n  const [optionsField, optionsMeta] = useField({\n    name: 'emailOptions',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  return (\n    <>\n      <FormField\n        id=\"email-username\"\n        label={i18n._(t`Username`)}\n        name=\"notification_configuration.username\"\n        type=\"text\"\n      />\n      <PasswordField\n        id=\"email-password\"\n        label={i18n._(t`Password`)}\n        name=\"notification_configuration.password\"\n      />\n      <FormField\n        id=\"email-host\"\n        label={i18n._(t`Host`)}\n        name=\"notification_configuration.host\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <ArrayTextField\n        id=\"email-recipients\"\n        label={i18n._(t`Recipient list`)}\n        name=\"notification_configuration.recipients\"\n        type=\"textarea\"\n        validate={required(null, i18n)}\n        isRequired\n        rows={3}\n        tooltip={i18n._(t`Enter one email address per line to create a recipient\n          list for this type of notification.`)}\n      />\n      <FormField\n        id=\"email-sender\"\n        label={i18n._(t`Sender e-mail`)}\n        name=\"notification_configuration.sender\"\n        type=\"text\"\n        validate={requiredEmail(i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"email-port\"\n        label={i18n._(t`Port`)}\n        name=\"notification_configuration.port\"\n        type=\"number\"\n        validate={combine([required(null, i18n), minMaxValue(1, 65535, i18n)])}\n        isRequired\n        min=\"0\"\n        max=\"65535\"\n      />\n      <FormField\n        id=\"email-timeout\"\n        label={i18n._(t`Timeout`)}\n        name=\"notification_configuration.timeout\"\n        type=\"number\"\n        validate={combine([required(null, i18n), minMaxValue(1, 120, i18n)])}\n        isRequired\n        min=\"1\"\n        max=\"120\"\n        tooltip={i18n._(t`The amount of time (in seconds) before the email\n          notification stops trying to reach the host and times out. Ranges\n          from 1 to 120 seconds.`)}\n      />\n      <FormGroup\n        fieldId=\"email-options\"\n        helperTextInvalid={optionsMeta.error}\n        isRequired\n        validated={\n          !optionsMeta.touched || !optionsMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`E-mail options`)}\n      >\n        <AnsibleSelect\n          {...optionsField}\n          id=\"email-options\"\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose an email option`),\n              isDisabled: true,\n            },\n            { value: 'tls', key: 'tls', label: i18n._(t`Use TLS`) },\n            { value: 'ssl', key: 'ssl', label: i18n._(t`Use SSL`) },\n          ]}\n        />\n      </FormGroup>\n    </>\n  );\n}\n\nfunction GrafanaFields({ i18n }) {\n  return (\n    <>\n      <FormField\n        id=\"grafana-url\"\n        label={i18n._(t`Grafana URL`)}\n        name=\"notification_configuration.grafana_url\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n        tooltip={i18n._(t`The base URL of the Grafana server - the\n        /api/annotations endpoint will be added automatically to the base\n        Grafana URL.`)}\n      />\n      <PasswordField\n        id=\"grafana-key\"\n        label={i18n._(t`Grafana API key`)}\n        name=\"notification_configuration.grafana_key\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"grafana-dashboard-id\"\n        label={i18n._(t`ID of the dashboard (optional)`)}\n        name=\"notification_configuration.dashboardId\"\n        type=\"text\"\n      />\n      <FormField\n        id=\"grafana-panel-id\"\n        label={i18n._(t`ID of the panel (optional)`)}\n        name=\"notification_configuration.panelId\"\n        type=\"text\"\n      />\n      <ArrayTextField\n        id=\"grafana-tags\"\n        label={i18n._(t`Tags for the annotation (optional)`)}\n        name=\"notification_configuration.annotation_tags\"\n        type=\"textarea\"\n        rows={3}\n        tooltip={i18n._(t`Enter one Annotation Tag per line, without commas.`)}\n      />\n      <CheckboxField\n        id=\"grafana-ssl\"\n        label={i18n._(t`Disable SSL verification`)}\n        name=\"notification_configuration.grafana_no_verify_ssl\"\n      />\n    </>\n  );\n}\n\nfunction IRCFields({ i18n }) {\n  return (\n    <>\n      <PasswordField\n        id=\"irc-password\"\n        label={i18n._(t`IRC server password`)}\n        name=\"notification_configuration.password\"\n      />\n      <FormField\n        id=\"irc-port\"\n        label={i18n._(t`IRC server port`)}\n        name=\"notification_configuration.port\"\n        type=\"number\"\n        validate={required(null, i18n)}\n        isRequired\n        min=\"0\"\n      />\n      <FormField\n        id=\"irc-server\"\n        label={i18n._(t`IRC server address`)}\n        name=\"notification_configuration.server\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"irc-nickname\"\n        label={i18n._(t`IRC nick`)}\n        name=\"notification_configuration.nickname\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <ArrayTextField\n        id=\"irc-targets\"\n        label={i18n._(t`Destination channels or users`)}\n        name=\"notification_configuration.targets\"\n        type=\"textarea\"\n        validate={required(null, i18n)}\n        isRequired\n        tooltip={i18n._(t`Enter one IRC channel or username per line. The pound\n          symbol (#) for channels, and the at (@) symbol for users, are not\n          required.`)}\n      />\n      <CheckboxField\n        id=\"grafana-ssl\"\n        label={i18n._(t`Disable SSL verification`)}\n        name=\"notification_configuration.use_ssl\"\n      />\n    </>\n  );\n}\n\nfunction MattermostFields({ i18n }) {\n  return (\n    <>\n      <FormField\n        id=\"mattermost-url\"\n        label={i18n._(t`Target URL`)}\n        name=\"notification_configuration.mattermost_url\"\n        type=\"text\"\n        validate={combine([required(null, i18n), url(i18n)])}\n        isRequired\n      />\n      <FormField\n        id=\"mattermost-username\"\n        label={i18n._(t`Username`)}\n        name=\"notification_configuration.mattermost_username\"\n        type=\"text\"\n      />\n      <FormField\n        id=\"mattermost-channel\"\n        label={i18n._(t`Channel`)}\n        name=\"notification_configuration.mattermost_channel\"\n        type=\"text\"\n      />\n      <FormField\n        id=\"mattermost-icon\"\n        label={i18n._(t`Icon URL`)}\n        name=\"notification_configuration.mattermost_icon_url\"\n        type=\"text\"\n        validate={url(i18n)}\n      />\n      <CheckboxField\n        id=\"mattermost-ssl\"\n        label={i18n._(t`Disable SSL verification`)}\n        name=\"notification_configuration.mattermost_no_verify_ssl\"\n      />\n    </>\n  );\n}\n\nfunction PagerdutyFields({ i18n }) {\n  return (\n    <>\n      <PasswordField\n        id=\"pagerduty-token\"\n        label={i18n._(t`API Token`)}\n        name=\"notification_configuration.token\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"pagerduty-subdomain\"\n        label={i18n._(t`Pagerduty subdomain`)}\n        name=\"notification_configuration.subdomain\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"pagerduty-service-key\"\n        label={i18n._(t`API service/integration key`)}\n        name=\"notification_configuration.service_key\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"pagerduty-identifier\"\n        label={i18n._(t`Client identifier`)}\n        name=\"notification_configuration.client_name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n    </>\n  );\n}\n\nfunction RocketChatFields({ i18n }) {\n  return (\n    <>\n      <FormField\n        id=\"rocketchat-url\"\n        label={i18n._(t`Target URL`)}\n        name=\"notification_configuration.rocketchat_url\"\n        type=\"text\"\n        validate={combine([required(null, i18n), url(i18n)])}\n        isRequired\n      />\n      <FormField\n        id=\"rocketchat-username\"\n        label={i18n._(t`Username`)}\n        name=\"notification_configuration.rocketchat_username\"\n        type=\"text\"\n      />\n      <FormField\n        id=\"rocketchat-icon-url\"\n        label={i18n._(t`Icon URL`)}\n        name=\"notification_configuration.rocketchat_icon_url\"\n        type=\"text\"\n        validate={url(i18n)}\n      />\n      <CheckboxField\n        id=\"rocketchat-ssl\"\n        label={i18n._(t`Disable SSL verification`)}\n        name=\"notification_configuration.rocketchat_no_verify_ssl\"\n      />\n    </>\n  );\n}\n\nfunction SlackFields({ i18n }) {\n  return (\n    <>\n      <ArrayTextField\n        id=\"slack-channels\"\n        label={i18n._(t`Destination channels`)}\n        name=\"notification_configuration.channels\"\n        type=\"textarea\"\n        validate={required(null, i18n)}\n        isRequired\n        tooltip={i18n._(t`Enter one Slack channel per line. The pound symbol (#)\n          is required for channels.`)}\n      />\n      <PasswordField\n        id=\"slack-token\"\n        label={i18n._(t`Token`)}\n        name=\"notification_configuration.token\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"slack-color\"\n        label={i18n._(t`Notification color`)}\n        name=\"notification_configuration.hex_color\"\n        type=\"text\"\n        tooltip={i18n._(t`Specify a notification color. Acceptable colors are hex\n          color code (example: #3af or #789abc).`)}\n      />\n    </>\n  );\n}\n\nfunction TwilioFields({ i18n }) {\n  return (\n    <>\n      <PasswordField\n        id=\"twilio-token\"\n        label={i18n._(t`Account token`)}\n        name=\"notification_configuration.account_token\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"twilio-from-phone\"\n        label={i18n._(t`Source phone number`)}\n        name=\"notification_configuration.from_number\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n        tooltip={i18n._(t`Enter the number associated with the \"Messaging\n          Service\" in Twilio in the format +18005550199.`)}\n      />\n      <ArrayTextField\n        id=\"twilio-destination-numbers\"\n        label={i18n._(t`Destination SMS number(s)`)}\n        name=\"notification_configuration.to_numbers\"\n        type=\"textarea\"\n        validate={required(null, i18n)}\n        isRequired\n        tooltip={i18n._(t`Enter one phone number per line to specify where to\n          route SMS messages.`)}\n      />\n      <FormField\n        id=\"twilio-account-sid\"\n        label={i18n._(t`Account SID`)}\n        name=\"notification_configuration.account_sid\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n    </>\n  );\n}\n\nfunction WebhookFields({ i18n }) {\n  const [methodField, methodMeta] = useField({\n    name: 'notification_configuration.http_method',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  return (\n    <>\n      <FormField\n        id=\"webhook-username\"\n        label={i18n._(t`Username`)}\n        name=\"notification_configuration.username\"\n        type=\"text\"\n      />\n      <PasswordField\n        id=\"webhook-password\"\n        label={i18n._(t`Basic auth password`)}\n        name=\"notification_configuration.password\"\n      />\n      <FormField\n        id=\"webhook-url\"\n        label={i18n._(t`Target URL`)}\n        name=\"notification_configuration.url\"\n        type=\"text\"\n        validate={combine([required(null, i18n), url(i18n)])}\n        isRequired\n      />\n      <CheckboxField\n        id=\"webhook-ssl\"\n        label={i18n._(t`Disable SSL verification`)}\n        name=\"notification_configuration.disable_ssl_verification\"\n      />\n      <FormFullWidthLayout>\n        <CodeMirrorField\n          id=\"webhook-headers\"\n          name=\"notification_configuration.headers\"\n          label={i18n._(t`HTTP Headers`)}\n          mode=\"javascript\"\n          tooltip={i18n._(t`Specify HTTP Headers in JSON format. Refer to\n        the Ansible Tower documentation for example syntax.`)}\n          rows={5}\n        />\n      </FormFullWidthLayout>\n      <FormGroup\n        fieldId=\"webhook-http-method\"\n        helperTextInvalid={methodMeta.error}\n        isRequired\n        validated={\n          !methodMeta.touched || !methodMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`HTTP Method`)}\n      >\n        <AnsibleSelect\n          {...methodField}\n          id=\"webhook-http-method\"\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose an HTTP method`),\n              isDisabled: true,\n            },\n            { value: 'POST', key: 'post', label: i18n._(t`POST`) },\n            { value: 'PUT', key: 'put', label: i18n._(t`PUT`) },\n          ]}\n        />\n      </FormGroup>\n    </>\n  );\n}\n","import 'styled-components/macro';\nimport React, { useEffect, useRef } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField, useFormikContext } from 'formik';\nimport { Switch, Text } from '@patternfly/react-core';\nimport {\n  FormFullWidthLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport CodeMirrorField from '../../../components/CodeMirrorInput/CodeMirrorField';\n\nfunction CustomMessagesSubForm({ defaultMessages, type, i18n }) {\n  const [useCustomField, , useCustomHelpers] = useField('useCustomMessages');\n  const showMessages = type !== 'webhook';\n  const showBodies = ['email', 'pagerduty', 'webhook'].includes(type);\n\n  const { setFieldValue } = useFormikContext();\n  const mountedRef = useRef(null);\n  useEffect(\n    function resetToDefaultMessages() {\n      if (!mountedRef.current) {\n        mountedRef.current = true;\n        return;\n      }\n      const defs = defaultMessages[type];\n\n      const resetFields = (name, defaults) => {\n        setFieldValue(`${name}.message`, defaults.message || '');\n        setFieldValue(`${name}.body`, defaults.body || '');\n      };\n\n      resetFields('messages.started', defs.started);\n      resetFields('messages.success', defs.success);\n      resetFields('messages.error', defs.error);\n      resetFields(\n        'messages.workflow_approval.approved',\n        defs.workflow_approval.approved\n      );\n      resetFields(\n        'messages.workflow_approval.denied',\n        defs.workflow_approval.denied\n      );\n      resetFields(\n        'messages.workflow_approval.running',\n        defs.workflow_approval.running\n      );\n      resetFields(\n        'messages.workflow_approval.timed_out',\n        defs.workflow_approval.timed_out\n      );\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [type, setFieldValue]\n  );\n\n  return (\n    <>\n      <Switch\n        id=\"toggle-custom-messages\"\n        label={i18n._(t`Customize messages…`)}\n        isChecked={!!useCustomField.value}\n        onChange={() => useCustomHelpers.setValue(!useCustomField.value)}\n      />\n      {useCustomField.value && (\n        <SubFormLayout>\n          <Text\n            className=\"pf-c-content\"\n            css=\"margin-bottom: var(--pf-c-content--MarginBottom)\"\n          >\n            <small>\n              Use custom messages to change the content of notifications sent\n              when a job starts, succeeds, or fails. Use curly braces to access\n              information about the job:{' '}\n              <code>\n                {'{{'} job_friendly_name {'}}'}\n              </code>\n              ,{' '}\n              <code>\n                {'{{'} url {'}}'}\n              </code>\n              , or attributes of the job such as{' '}\n              <code>\n                {'{{'} job.status {'}}'}\n              </code>\n              . You may apply a number of possible variables in the message.\n              Refer to the{' '}\n              <a\n                href=\"https://docs.ansible.com/ansible-tower/latest/html/userguide/notifications.html#create-custom-notifications\"\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              >\n                Ansible Tower documentation\n              </a>{' '}\n              for more details.\n            </small>\n          </Text>\n          <FormFullWidthLayout>\n            {showMessages && (\n              <CodeMirrorField\n                id=\"start-message\"\n                name=\"messages.started.message\"\n                label={i18n._(t`Start message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"start-body\"\n                name=\"messages.started.body\"\n                label={i18n._(t`Start message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"success-message\"\n                name=\"messages.success.message\"\n                label={i18n._(t`Success message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"success-body\"\n                name=\"messages.success.body\"\n                label={i18n._(t`Success message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"error-message\"\n                name=\"messages.error.message\"\n                label={i18n._(t`Error message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"error-body\"\n                name=\"messages.error.body\"\n                label={i18n._(t`Error message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"wf-approved-message\"\n                name=\"messages.workflow_approval.approved.message\"\n                label={i18n._(t`Workflow approved message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"wf-approved-body\"\n                name=\"messages.workflow_approval.approved.body\"\n                label={i18n._(t`Workflow approved message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"wf-denied-message\"\n                name=\"messages.workflow_approval.denied.message\"\n                label={i18n._(t`Workflow denied message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"wf-denied-body\"\n                name=\"messages.workflow_approval.denied.body\"\n                label={i18n._(t`Workflow denied message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"wf-running-message\"\n                name=\"messages.workflow_approval.running.message\"\n                label={i18n._(t`Workflow pending message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"wf-running-body\"\n                name=\"messages.workflow_approval.running.body\"\n                label={i18n._(t`Workflow pending message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n            {showMessages && (\n              <CodeMirrorField\n                id=\"wf-timed-out-message\"\n                name=\"messages.workflow_approval.timed_out.message\"\n                label={i18n._(t`Workflow timed out message`)}\n                mode=\"jinja2\"\n                rows={2}\n              />\n            )}\n            {showBodies && (\n              <CodeMirrorField\n                id=\"wf-timed-out-body\"\n                name=\"messages.workflow_approval.timed_out.body\"\n                label={i18n._(t`Workflow timed out message body`)}\n                mode=\"jinja2\"\n                rows={6}\n              />\n            )}\n          </FormFullWidthLayout>\n        </SubFormLayout>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(CustomMessagesSubForm);\n","export default function hasCustomMessages(messages, defaults) {\n  if (!messages) {\n    return false;\n  }\n\n  return (\n    isCustomized(messages.started, defaults.started) ||\n    isCustomized(messages.success, defaults.success) ||\n    isCustomized(messages.error, defaults.error) ||\n    isCustomized(\n      messages.workflow_approval?.approved,\n      defaults.workflow_approval.approved\n    ) ||\n    isCustomized(\n      messages.workflow_approval?.denied,\n      defaults.workflow_approval.denied\n    ) ||\n    isCustomized(\n      messages.workflow_approval?.running,\n      defaults.workflow_approval.running\n    ) ||\n    isCustomized(\n      messages.workflow_approval?.timed_out,\n      defaults.workflow_approval.timed_out\n    )\n  );\n}\n\nfunction isCustomized(message, defaultMessage) {\n  if (!message) {\n    return false;\n  }\n  if (message.message && message.message !== defaultMessage.message) {\n    return true;\n  }\n  if (message.body && message.body !== defaultMessage.body) {\n    return true;\n  }\n  return false;\n}\n","const typeFieldNames = {\n  email: [\n    'username',\n    'password',\n    'host',\n    'recipients',\n    'sender',\n    'port',\n    'timeout',\n  ],\n  grafana: [\n    'grafana_url',\n    'grafana_key',\n    'dashboardId',\n    'panelId',\n    'annotation_tags',\n    'grafana_no_verify_ssl',\n  ],\n  irc: ['password', 'port', 'server', 'nickname', 'targets', 'use_ssl'],\n  mattermost: [\n    'mattermost_url',\n    'mattermost_username',\n    'mattermost_channel',\n    'mattermost_icon_url',\n    'mattermost_no_verify_ssl',\n  ],\n  pagerduty: ['token', 'subdomain', 'service_key', 'client_name'],\n  rocketchat: [\n    'rocketchat_url',\n    'rocketchat_username',\n    'rocketchat_icon_url',\n    'rocketchat_no_verify_ssl',\n  ],\n  slack: ['channels', 'token', 'hex_color'],\n  twilio: ['account_token', 'from_number', 'to_numbers', 'account_sid'],\n  webhook: [\n    'username',\n    'password',\n    'url',\n    'disable_ssl_verification',\n    'headers',\n    'http_method',\n  ],\n};\n\nexport default typeFieldNames;\n\nconst initialConfigValues = {};\nObject.keys(typeFieldNames).forEach(key => {\n  typeFieldNames[key].forEach(fieldName => {\n    const isBoolean = fieldName.includes('_ssl');\n    initialConfigValues[fieldName] = isBoolean ? false : '';\n  });\n});\n\nexport { initialConfigValues };\n","import React, { useCallback } from 'react';\nimport { shape, func } from 'prop-types';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form, FormGroup } from '@patternfly/react-core';\n\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport { OrganizationLookup } from '../../../components/Lookup';\nimport { required } from '../../../util/validators';\nimport { FormColumnLayout } from '../../../components/FormLayout';\nimport TypeInputsSubForm from './TypeInputsSubForm';\nimport CustomMessagesSubForm from './CustomMessagesSubForm';\nimport hasCustomMessages from './hasCustomMessages';\nimport typeFieldNames, { initialConfigValues } from './typeFieldNames';\n\nfunction NotificationTemplateFormFields({ i18n, defaultMessages, template }) {\n  const { setFieldValue } = useFormikContext();\n  const [orgField, orgMeta, orgHelpers] = useField('organization');\n  const [typeField, typeMeta] = useField({\n    name: 'notification_type',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"notification-name\"\n        name=\"name\"\n        type=\"text\"\n        label={i18n._(t`名称`)}\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"notification-description\"\n        name=\"description\"\n        type=\"text\"\n        label={i18n._(t`描述`)}\n      />\n      <OrganizationLookup\n        helperTextInvalid={orgMeta.error}\n        isValid={!orgMeta.touched || !orgMeta.error}\n        onBlur={() => orgHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={orgField.value}\n        touched={orgMeta.touched}\n        error={orgMeta.error}\n        required\n        autoPopulate={!template?.id}\n      />\n      <FormGroup\n        fieldId=\"notification-type\"\n        helperTextInvalid={typeMeta.error}\n        isRequired\n        validated={!typeMeta.touched || !typeMeta.error ? 'default' : 'error'}\n        label={i18n._(t`类型`)}\n      >\n        <AnsibleSelect\n          {...typeField}\n          id=\"notification-type\"\n          isValid={!typeMeta.touched || !typeMeta.error}\n          data={[\n            {\n              value: '',\n              key: 'none',\n              label: i18n._(t`Choose a Notification Type`),\n              isDisabled: true,\n            },\n            { value: 'email', key: 'email', label: i18n._(t`E-mail`) },\n            { value: 'grafana', key: 'grafana', label: 'Grafana' },\n            { value: 'irc', key: 'irc', label: 'IRC' },\n            { value: 'mattermost', key: 'mattermost', label: 'Mattermost' },\n            { value: 'pagerduty', key: 'pagerduty', label: 'Pagerduty' },\n            { value: 'rocketchat', key: 'rocketchat', label: 'Rocket.Chat' },\n            { value: 'slack', key: 'slack', label: 'Slack' },\n            { value: 'twilio', key: 'twilio', label: 'Twilio' },\n            { value: 'webhook', key: 'webhook', label: 'Webhook' },\n          ]}\n        />\n      </FormGroup>\n      {typeField.value && <TypeInputsSubForm type={typeField.value} />}\n      <CustomMessagesSubForm\n        defaultMessages={defaultMessages}\n        type={typeField.value}\n      />\n    </>\n  );\n}\n\nfunction NotificationTemplateForm({\n  template,\n  defaultMessages,\n  onSubmit,\n  onCancel,\n  submitError,\n  i18n,\n}) {\n  const handleSubmit = values => {\n    onSubmit(\n      normalizeFields(\n        {\n          ...values,\n          organization: values.organization?.id,\n        },\n        defaultMessages\n      )\n    );\n  };\n\n  let emailOptions = '';\n  if (template.notification_type === 'email') {\n    emailOptions = template.notification_configuration?.use_ssl ? 'ssl' : 'tls';\n  }\n  const messages = template.messages || { workflow_approval: {} };\n  const defs = defaultMessages[template.notification_type || 'email'];\n  const mergeDefaultMessages = (templ = {}, def) => {\n    return {\n      message: templ?.message || def.message || '',\n      body: templ?.body || def.body || '',\n    };\n  };\n\n  const { headers } = template?.notification_configuration || {};\n\n  return (\n    <Formik\n      initialValues={{\n        name: template.name,\n        description: template.description,\n        notification_type: template.notification_type,\n        notification_configuration: {\n          ...initialConfigValues,\n          ...template.notification_configuration,\n          headers: headers ? JSON.stringify(headers, null, 2) : null,\n        },\n        emailOptions,\n        organization: template.summary_fields?.organization,\n        messages: {\n          started: { ...mergeDefaultMessages(messages.started, defs.started) },\n          success: { ...mergeDefaultMessages(messages.success, defs.success) },\n          error: { ...mergeDefaultMessages(messages.error, defs.error) },\n          workflow_approval: {\n            approved: {\n              ...mergeDefaultMessages(\n                messages.workflow_approval?.approved,\n                defs.workflow_approval.approved\n              ),\n            },\n            denied: {\n              ...mergeDefaultMessages(\n                messages.workflow_approval?.denied,\n                defs.workflow_approval.denied\n              ),\n            },\n            running: {\n              ...mergeDefaultMessages(\n                messages.workflow_approval?.running,\n                defs.workflow_approval.running\n              ),\n            },\n            timed_out: {\n              ...mergeDefaultMessages(\n                messages.workflow_approval?.timed_out,\n                defs.workflow_approval.timed_out\n              ),\n            },\n          },\n        },\n        useCustomMessages: hasCustomMessages(messages, defs),\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <NotificationTemplateFormFields\n              i18n={i18n}\n              defaultMessages={defaultMessages}\n              template={template}\n            />\n            <FormSubmitError error={submitError} />\n            <FormActionGroup\n              onCancel={onCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nNotificationTemplateForm.propTypes = {\n  template: shape(),\n  defaultMessages: shape().isRequired,\n  onSubmit: func.isRequired,\n  onCancel: func.isRequired,\n  submitError: shape(),\n};\n\nNotificationTemplateForm.defaultProps = {\n  template: {\n    name: '',\n    description: '',\n    notification_type: '',\n  },\n  submitError: null,\n};\n\nexport default withI18n()(NotificationTemplateForm);\n\nfunction normalizeFields(values, defaultMessages) {\n  return normalizeTypeFields(normalizeMessageFields(values, defaultMessages));\n}\n\n/* If the user filled in some of the Type Details fields, then switched\n * to a different notification type, unecessary fields may be set in the\n * notification_configuration — this function strips them off */\nfunction normalizeTypeFields(values) {\n  const stripped = {};\n  const fields = typeFieldNames[values.notification_type];\n\n  fields.forEach(fieldName => {\n    if (typeof values.notification_configuration[fieldName] !== 'undefined') {\n      stripped[fieldName] = values.notification_configuration[fieldName];\n    }\n  });\n  if (values.notification_type === 'email') {\n    stripped.use_ssl = values.emailOptions === 'ssl';\n    stripped.use_tls = !stripped.use_ssl;\n  }\n  if (values.notification_type === 'webhook') {\n    stripped.headers = stripped.headers ? JSON.parse(stripped.headers) : {};\n  }\n  const { emailOptions, ...rest } = values;\n\n  return {\n    ...rest,\n    notification_configuration: stripped,\n  };\n}\n\nfunction normalizeMessageFields(values, defaults) {\n  const { useCustomMessages, ...rest } = values;\n  if (!useCustomMessages) {\n    return {\n      ...rest,\n      messages: null,\n    };\n  }\n  const { messages } = values;\n  const defs = defaults[values.notification_type];\n\n  const nullIfDefault = (m, d) => {\n    return {\n      message: m.message === d.message ? null : m.message,\n      body: m.body === d.body ? null : m.body,\n    };\n  };\n\n  const nonDefaultMessages = {\n    started: nullIfDefault(messages.started, defs.started),\n    success: nullIfDefault(messages.success, defs.success),\n    error: nullIfDefault(messages.error, defs.error),\n    workflow_approval: {\n      approved: nullIfDefault(\n        messages.workflow_approval.approved,\n        defs.workflow_approval.approved\n      ),\n      denied: nullIfDefault(\n        messages.workflow_approval.denied,\n        defs.workflow_approval.denied\n      ),\n      running: nullIfDefault(\n        messages.workflow_approval.running,\n        defs.workflow_approval.running\n      ),\n      timed_out: nullIfDefault(\n        messages.workflow_approval.timed_out,\n        defs.workflow_approval.timed_out\n      ),\n    },\n  };\n\n  return {\n    ...rest,\n    messages: nonDefaultMessages,\n  };\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory, Link } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../components/Card';\nimport { NotificationTemplatesAPI } from '../../api';\nimport useRequest from '../../util/useRequest';\nimport ContentError from '../../components/ContentError';\nimport NotificationTemplateForm from './shared/NotificationTemplateForm';\n\nfunction NotificationTemplateAdd({ i18n }) {\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n  const {\n    result: defaultMessages,\n    error,\n    request: fetchDefaultMessages,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await NotificationTemplatesAPI.readOptions();\n      return data.actions.POST.messages;\n    }, [])\n  );\n\n  useEffect(() => {\n    fetchDefaultMessages();\n  }, [fetchDefaultMessages]);\n\n  const handleSubmit = async values => {\n    try {\n      const { data } = await NotificationTemplatesAPI.create(values);\n      history.push(`/notification_templates/${data.id}`);\n    } catch (err) {\n      setFormError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push('/notification_templates');\n  };\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response.status === 404 && (\n              <span>\n                {i18n._(t`Notification Template not found.`)}{' '}\n                <Link to=\"/notification_templates\">\n                  {i18n._(t`View all Notification Templates.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          {defaultMessages && (\n            <NotificationTemplateForm\n              defaultMessages={defaultMessages}\n              onSubmit={handleSubmit}\n              onCancel={handleCancel}\n              submitError={formError}\n            />\n          )}\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nNotificationTemplateAdd.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport { NotificationTemplateAdd as _NotificationTemplateAdd };\nexport default withI18n()(NotificationTemplateAdd);\n","import 'styled-components/macro';\nimport React from 'react';\nimport {\n  arrayOf,\n  oneOf,\n  oneOfType,\n  node,\n  number,\n  shape,\n  string,\n} from 'prop-types';\nimport { TextListItemVariants } from '@patternfly/react-core';\nimport { DetailName, DetailValue } from './Detail';\nimport CodeMirrorInput from '../CodeMirrorInput';\nimport Popover from '../Popover';\n\nfunction CodeDetail({\n  value,\n  label,\n  mode,\n  rows,\n  fullHeight,\n  helpText,\n  dataCy,\n}) {\n  const labelCy = dataCy ? `${dataCy}-label` : null;\n  const valueCy = dataCy ? `${dataCy}-value` : null;\n\n  return (\n    <>\n      <DetailName\n        component={TextListItemVariants.dt}\n        fullWidth\n        css=\"grid-column: 1 / -1\"\n        data-cy={labelCy}\n      >\n        <div className=\"pf-c-form__label\">\n          <span\n            className=\"pf-c-form__label-text\"\n            css=\"font-weight: var(--pf-global--FontWeight--bold)\"\n          >\n            {label}\n          </span>\n          {helpText && (\n            <Popover header={label} content={helpText} id={dataCy} />\n          )}\n        </div>\n      </DetailName>\n      <DetailValue\n        component={TextListItemVariants.dd}\n        fullWidth\n        css=\"grid-column: 1 / -1; margin-top: -20px\"\n        data-cy={valueCy}\n      >\n        <CodeMirrorInput\n          mode={mode}\n          value={value}\n          readOnly\n          rows={rows}\n          fullHeight={fullHeight}\n          css=\"margin-top: 10px\"\n        />\n      </DetailValue>\n    </>\n  );\n}\nCodeDetail.propTypes = {\n  value: oneOfType([shape({}), arrayOf(string), string]).isRequired,\n  label: node.isRequired,\n  dataCy: string,\n  helpText: string,\n  rows: number,\n  mode: oneOf(['javascript', 'yaml', 'jinja2']).isRequired,\n};\nCodeDetail.defaultProps = {\n  rows: null,\n  helpText: '',\n  dataCy: '',\n};\n\nexport default CodeDetail;\n","import React, { useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { Button } from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport {\n  Detail,\n  ArrayDetail,\n  DetailList,\n  DeletedDetail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport CodeDetail from '../../../components/DetailList/CodeDetail';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { NotificationTemplatesAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport hasCustomMessages from '../shared/hasCustomMessages';\nimport { NOTIFICATION_TYPES } from '../constants';\n\nfunction NotificationTemplateDetail({ i18n, template, defaultMessages }) {\n  const history = useHistory();\n\n  const {\n    created,\n    modified,\n    notification_configuration: configuration,\n    summary_fields,\n    messages,\n  } = template;\n\n  const { request: deleteTemplate, isLoading, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await NotificationTemplatesAPI.destroy(template.id);\n      history.push(`/notification_templates`);\n    }, [template.id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n  const typeMessageDefaults = defaultMessages[template.notification_type];\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail\n          label={i18n._(t`名称`)}\n          value={template.name}\n          dataCy=\"nt-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`描述`)}\n          value={template.description}\n          dataCy=\"nt-detail-description\"\n        />\n        {summary_fields.organization ? (\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={i18n._(t`组织`)} />\n        )}\n        <Detail\n          label={i18n._(t`Notification Type`)}\n          value={\n            NOTIFICATION_TYPES[template.notification_type] ||\n            template.notification_type\n          }\n          dataCy=\"nt-detail-type\"\n        />\n        {template.notification_type === 'email' && (\n          <>\n            <Detail\n              label={i18n._(t`Username`)}\n              value={configuration.username}\n              dataCy=\"nt-detail-username\"\n            />\n            <Detail\n              label={i18n._(t`Host`)}\n              value={configuration.host}\n              dataCy=\"nt-detail-host\"\n            />\n            <ArrayDetail\n              label={i18n._(t`Recipient List`)}\n              value={configuration.recipients}\n              dataCy=\"nt-detail-recipients\"\n            />\n            <Detail\n              label={i18n._(t`Sender Email`)}\n              value={configuration.sender}\n              dataCy=\"nt-detail-sender\"\n            />\n            <Detail\n              label={i18n._(t`Port`)}\n              value={configuration.port}\n              dataCy=\"nt-detail-port\"\n            />\n            <Detail\n              label={i18n._(t`Timeout`)}\n              value={configuration.timeout}\n              dataCy=\"nt-detail-timeout\"\n            />\n            <Detail\n              label={i18n._(t`Email Options`)}\n              value={\n                configuration.use_ssl ? i18n._(t`Use SSL`) : i18n._(t`Use TLS`)\n              }\n              dataCy=\"nt-detail-email-options\"\n            />\n          </>\n        )}\n        {template.notification_type === 'grafana' && (\n          <>\n            <Detail\n              label={i18n._(t`Grafana URL`)}\n              value={configuration.grafana_url}\n              dataCy=\"nt-detail-grafana-url\"\n            />\n            <Detail\n              label={i18n._(t`ID of the Dashboard`)}\n              value={configuration.dashboardId}\n              dataCy=\"nt-detail-dashboard-id\"\n            />\n            <Detail\n              label={i18n._(t`ID of the Panel`)}\n              value={configuration.panelId}\n              dataCy=\"nt-detail-panel-id\"\n            />\n            <ArrayDetail\n              label={i18n._(t`Tags for the Annotation`)}\n              value={configuration.annotation_tags}\n              dataCy=\"nt-detail-\"\n            />\n            <Detail\n              label={i18n._(t`Disable SSL Verification`)}\n              value={\n                configuration.grafana_no_verify_ssl\n                  ? i18n._(t`True`)\n                  : i18n._(t`False`)\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'irc' && (\n          <>\n            <Detail\n              label={i18n._(t`IRC Server Port`)}\n              value={configuration.port}\n              dataCy=\"nt-detail-irc-port\"\n            />\n            <Detail\n              label={i18n._(t`IRC Server Address`)}\n              value={configuration.server}\n              dataCy=\"nt-detail-irc-server\"\n            />\n            <Detail\n              label={i18n._(t`IRC Nick`)}\n              value={configuration.nickname}\n              dataCy=\"nt-detail-irc-nickname\"\n            />\n            <ArrayDetail\n              label={i18n._(t`Destination Channels or Users`)}\n              value={configuration.targets}\n              dataCy=\"nt-detail-channels\"\n            />\n            <Detail\n              label={i18n._(t`SSL Connection`)}\n              value={configuration.use_ssl ? i18n._(t`True`) : i18n._(t`False`)}\n              dataCy=\"nt-detail-irc-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'mattermost' && (\n          <>\n            <Detail\n              label={i18n._(t`Target URL`)}\n              value={configuration.mattermost_url}\n              dataCy=\"nt-detail-mattermost-url\"\n            />\n            <Detail\n              label={i18n._(t`Username`)}\n              value={configuration.mattermost_username}\n              dataCy=\"nt-detail-mattermost-username\"\n            />\n            <Detail\n              label={i18n._(t`Channel`)}\n              value={configuration.mattermost_channel}\n              dataCy=\"nt-detail-mattermost_channel\"\n            />\n            <Detail\n              label={i18n._(t`Icon URL`)}\n              value={configuration.mattermost_icon_url}\n              dataCy=\"nt-detail-mattermost-icon-url\"\n            />\n            <Detail\n              label={i18n._(t`Disable SSL Verification`)}\n              value={\n                configuration.mattermost_no_verify_ssl\n                  ? i18n._(t`True`)\n                  : i18n._(t`False`)\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'pagerduty' && (\n          <>\n            <Detail\n              label={i18n._(t`Pagerduty Subdomain`)}\n              value={configuration.subdomain}\n              dataCy=\"nt-detail-pagerduty-subdomain\"\n            />\n            <Detail\n              label={i18n._(t`API Service/Integration Key`)}\n              value={configuration.service_key}\n              dataCy=\"nt-detail-pagerduty-service-key\"\n            />\n            <Detail\n              label={i18n._(t`Client Identifier`)}\n              value={configuration.client_name}\n              dataCy=\"nt-detail-pagerduty-client-name\"\n            />\n          </>\n        )}\n        {template.notification_type === 'rocketchat' && (\n          <>\n            <Detail\n              label={i18n._(t`Target URL`)}\n              value={configuration.rocketchat_url}\n              dataCy=\"nt-detail-rocketchat-url\"\n            />\n            <Detail\n              label={i18n._(t`Username`)}\n              value={configuration.rocketchat_username}\n              dataCy=\"nt-detail-rocketchat-username\"\n            />\n            <Detail\n              label={i18n._(t`Icon URL`)}\n              value={configuration.rocketchat_icon_url}\n              dataCy=\"nt-detail-rocketchat-icon-url\"\n            />\n            <Detail\n              label={i18n._(t`Disable SSL Verification`)}\n              value={\n                configuration.rocketchat_no_verify_ssl\n                  ? i18n._(t`True`)\n                  : i18n._(t`False`)\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n          </>\n        )}\n        {template.notification_type === 'slack' && (\n          <>\n            <ArrayDetail\n              label={i18n._(t`Destination Channels`)}\n              value={configuration.channels}\n              dataCy=\"nt-detail-slack-channels\"\n            />\n            <Detail\n              label={i18n._(t`Notification Color`)}\n              value={configuration.hex_color}\n              dataCy=\"nt-detail-slack-color\"\n            />\n          </>\n        )}\n        {template.notification_type === 'twilio' && (\n          <>\n            <Detail\n              label={i18n._(t`Source Phone Number`)}\n              value={configuration.from_number}\n              dataCy=\"nt-detail-twilio-source-phone\"\n            />\n            <ArrayDetail\n              label={i18n._(t`Destination SMS Number(s)`)}\n              value={configuration.to_numbers}\n              dataCy=\"nt-detail-twilio-destination-numbers\"\n            />\n            <Detail\n              label={i18n._(t`Account SID`)}\n              value={configuration.account_sid}\n              dataCy=\"nt-detail-twilio-account-sid\"\n            />\n          </>\n        )}\n        {template.notification_type === 'webhook' && (\n          <>\n            <Detail\n              label={i18n._(t`Username`)}\n              value={configuration.username}\n              dataCy=\"nt-detail-webhook-password\"\n            />\n            <Detail\n              label={i18n._(t`Target URL`)}\n              value={configuration.url}\n              dataCy=\"nt-detail-webhook-url\"\n            />\n            <Detail\n              label={i18n._(t`Disable SSL Verification`)}\n              value={\n                configuration.disable_ssl_verification\n                  ? i18n._(t`True`)\n                  : i18n._(t`False`)\n              }\n              dataCy=\"nt-detail-disable-ssl\"\n            />\n            <Detail\n              label={i18n._(t`HTTP Method`)}\n              value={configuration.http_method}\n              dataCy=\"nt-detail-webhook-http-method\"\n            />\n            <CodeDetail\n              label={i18n._(t`HTTP Headers`)}\n              value={JSON.stringify(configuration.headers)}\n              mode=\"json\"\n              rows=\"6\"\n              dataCy=\"nt-detail-webhook-headers\"\n            />\n          </>\n        )}\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields?.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields?.modified_by}\n        />\n        {hasCustomMessages(messages, typeMessageDefaults) && (\n          <CustomMessageDetails\n            messages={messages}\n            defaults={typeMessageDefaults}\n            type={template.notification_type}\n            i18n={i18n}\n          />\n        )}\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              component={Link}\n              to={`/notification_templates/${template.id}/edit`}\n              aria-label={i18n._(t`Edit`)}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={template.name}\n              modalTitle={i18n._(t`Delete Notification`)}\n              onConfirm={deleteTemplate}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete notification.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nfunction CustomMessageDetails({ messages, defaults, type, i18n }) {\n  const showMessages = type !== 'webhook';\n  const showBodies = ['email', 'pagerduty', 'webhook'].includes(type);\n\n  return (\n    <>\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Start message`)}\n          value={messages.started.message || defaults.started.message}\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Start message body`)}\n          value={messages.started.body || defaults.started.body}\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Success message`)}\n          value={messages.success.message || defaults.success.message}\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Success message body`)}\n          value={messages.success.body || defaults.success.body}\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Error message`)}\n          value={messages.error.message || defaults.error.message}\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Error message body`)}\n          value={messages.error.body || defaults.error.body}\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Workflow approved message`)}\n          value={\n            messages.workflow_approval?.approved?.message ||\n            defaults.workflow_approval.approved.message\n          }\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Workflow approved message body`)}\n          value={\n            messages.workflow_approval?.approved?.body ||\n            defaults.workflow_approval.approved.body\n          }\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Workflow denied message`)}\n          value={\n            messages.workflow_approval?.denied?.message ||\n            defaults.workflow_approval.denied.message\n          }\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Workflow denied message body`)}\n          value={\n            messages.workflow_approval?.denied?.body ||\n            defaults.workflow_approval.denied.body\n          }\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Workflow pending message`)}\n          value={\n            messages.workflow_approval?.running?.message ||\n            defaults.workflow_approval.running.message\n          }\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Workflow pending message body`)}\n          value={\n            messages.workflow_approval?.running?.body ||\n            defaults.workflow_approval.running.body\n          }\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n      {showMessages && (\n        <CodeDetail\n          label={i18n._(t`Workflow timed out message`)}\n          value={\n            messages.workflow_approval?.timed_out?.message ||\n            defaults.workflow_approval.timed_out.message\n          }\n          mode=\"jinja2\"\n          rows=\"2\"\n          fullWidth\n        />\n      )}\n      {showBodies && (\n        <CodeDetail\n          label={i18n._(t`Workflow timed out message body`)}\n          value={\n            messages.workflow_approval?.timed_out?.body ||\n            defaults.workflow_approval.timed_out.body\n          }\n          mode=\"jinja2\"\n          rows=\"6\"\n          fullWidth\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(NotificationTemplateDetail);\n","import NotificationTemplateDetail from './NotificationTemplateDetail';\n\nexport default NotificationTemplateDetail;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport { NotificationTemplatesAPI } from '../../../api';\nimport NotificationTemplateForm from '../shared/NotificationTemplateForm';\n\nfunction NotificationTemplateEdit({ template, defaultMessages }) {\n  const detailsUrl = `/notification_templates/${template.id}/details`;\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n\n  const handleSubmit = async values => {\n    try {\n      await NotificationTemplatesAPI.update(template.id, values);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <NotificationTemplateForm\n        template={template}\n        defaultMessages={defaultMessages}\n        onSubmit={handleSubmit}\n        onCancel={handleCancel}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nNotificationTemplateEdit.propTypes = {\n  template: PropTypes.shape().isRequired,\n};\n\nNotificationTemplateEdit.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport { NotificationTemplateEdit as _NotificationTemplateEdit };\nexport default NotificationTemplateEdit;\n","import NotificationTemplateEdit from './NotificationTemplateEdit';\n\nexport default NotificationTemplateEdit;\n","import React, { useEffect, useCallback } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport {\n  Link,\n  Switch,\n  Route,\n  Redirect,\n  useParams,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport useRequest from '../../util/useRequest';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport { NotificationTemplatesAPI } from '../../api';\nimport NotificationTemplateDetail from './NotificationTemplateDetail';\nimport NotificationTemplateEdit from './NotificationTemplateEdit';\nimport ContentLoading from '../../components/ContentLoading';\n\nfunction NotificationTemplate({ setBreadcrumb, i18n }) {\n  const { id: templateId } = useParams();\n  const match = useRouteMatch();\n  const location = useLocation();\n  const {\n    result: { template, defaultMessages },\n    isLoading,\n    error,\n    request: fetchTemplate,\n  } = useRequest(\n    useCallback(async () => {\n      const [detail, options] = await Promise.all([\n        NotificationTemplatesAPI.readDetail(templateId),\n        NotificationTemplatesAPI.readOptions(),\n      ]);\n      setBreadcrumb(detail.data);\n      return {\n        template: detail.data,\n        defaultMessages: options.data.actions.POST.messages,\n      };\n    }, [templateId, setBreadcrumb]),\n    { template: null, defaultMessages: null }\n  );\n\n  useEffect(() => {\n    fetchTemplate();\n  }, [fetchTemplate, location.pathname]);\n\n  if (!isLoading && error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response.status === 404 && (\n              <span>\n                {i18n._(t`Notification Template not found.`)}{' '}\n                <Link to=\"/notification_templates\">\n                  {i18n._(t`View all Notification Templates.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  const showCardHeader = !location.pathname.endsWith('edit');\n  const tabs = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Notifications`)}\n        </>\n      ),\n      link: `/notification_templates`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${match.url}/details`,\n      id: 0,\n    },\n  ];\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabs} />}\n        <Switch>\n          <Redirect\n            from=\"/notification_templates/:id\"\n            to=\"/notification_templates/:id/details\"\n            exact\n          />\n          {isLoading && <ContentLoading />}\n          {template && (\n            <>\n              <Route path=\"/notification_templates/:id/edit\">\n                <NotificationTemplateEdit\n                  template={template}\n                  defaultMessages={defaultMessages}\n                />\n              </Route>\n              <Route path=\"/notification_templates/:id/details\">\n                <NotificationTemplateDetail\n                  template={template}\n                  defaultMessages={defaultMessages}\n                />\n              </Route>\n            </>\n          )}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(NotificationTemplate);\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport NotificationTemplateList from './NotificationTemplateList';\nimport NotificationTemplateAdd from './NotificationTemplateAdd';\nimport NotificationTemplate from './NotificationTemplate';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\n\nfunction NotificationTemplates({ i18n }) {\n  const match = useRouteMatch();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/notification_templates': i18n._(t`Notification Templates`),\n    '/notification_templates/add': i18n._(t`Create New Notification Template`),\n  });\n\n  const updateBreadcrumbConfig = useCallback(\n    notification => {\n      const { id } = notification;\n      setBreadcrumbConfig({\n        '/notification_templates': i18n._(t`Notification Templates`),\n        '/notification_templates/add': i18n._(\n          t`Create New Notification Template`\n        ),\n        [`/notification_templates/${id}`]: notification.name,\n        [`/notification_templates/${id}/edit`]: i18n._(t`Edit Details`),\n        [`/notification_templates/${id}/details`]: i18n._(t`Details`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"notification_template\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path={`${match.url}/add`}>\n          <NotificationTemplateAdd />\n        </Route>\n        <Route path={`${match.url}/:id`}>\n          <NotificationTemplate setBreadcrumb={updateBreadcrumbConfig} />\n        </Route>\n        <Route path={`${match.url}`}>\n          <NotificationTemplateList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(NotificationTemplates);\n","import React from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { Tr, Td } from '@patternfly/react-table';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport { ActionsTd, ActionItem } from '../../../components/PaginatedTable';\n\nimport { Organization } from '../../../types';\n\nfunction OrganizationListItem({\n  organization,\n  isSelected,\n  onSelect,\n  rowIndex,\n  detailUrl,\n  i18n,\n}) {\n  const labelId = `check-action-${organization.id}`;\n  return (\n    <Tr id={`org-row-${organization.id}`}>\n      <Td\n        select={{\n          rowIndex,\n          isSelected,\n          onSelect,\n          disable: false,\n        }}\n        dataLabel={i18n._(t`已选择`)}\n      />\n      <Td id={labelId} dataLabel={i18n._(t`名称`)}>\n        <Link to={`${detailUrl}`}>\n          <b>{organization.name}</b>\n        </Link>\n      </Td>\n      <Td dataLabel={i18n._(t`Members`)}>\n        {organization.summary_fields.related_field_counts.users}\n      </Td>\n      <Td dataLabel={i18n._(t`团队`)}>\n        {organization.summary_fields.related_field_counts.teams}\n      </Td>\n      <ActionsTd dataLabel={i18n._(t`Actions`)}>\n        <ActionItem\n          visible={organization.summary_fields.user_capabilities.edit}\n          tooltip={i18n._(t`编辑组织`)}\n        >\n          <Button\n            aria-label={i18n._(t`编辑组织`)}\n            variant=\"plain\"\n            component={Link}\n            to={`/organizations/${organization.id}/edit`}\n          >\n            <PencilAltIcon />\n          </Button>\n        </ActionItem>\n      </ActionsTd>\n    </Tr>\n  );\n}\n\nOrganizationListItem.propTypes = {\n  organization: Organization.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(OrganizationListItem);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { OrganizationsAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport PaginatedTable, {\n  HeaderRow,\n  HeaderCell,\n} from '../../../components/PaginatedTable';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport OrganizationListItem from './OrganizationListItem';\n\nconst QS_CONFIG = getQSConfig('organization', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction OrganizationsList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const [selected, setSelected] = useState([]);\n\n  const addUrl = `${match.url}/add`;\n\n  const {\n    result: {\n      organizations,\n      organizationCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading: isOrgsLoading,\n    request: fetchOrganizations,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [orgs, orgActions] = await Promise.all([\n        OrganizationsAPI.read(params),\n        OrganizationsAPI.readOptions(),\n      ]);\n      return {\n        organizations: orgs.data.results,\n        organizationCount: orgs.data.count,\n        actions: orgActions.data.actions,\n        relatedSearchableKeys: (\n          orgActions?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(orgActions.data.actions?.GET || {}).filter(\n          key => orgActions.data.actions?.GET[key].filterable\n        ),\n      };\n    }, [location]),\n    {\n      organizations: [],\n      organizationCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchOrganizations();\n  }, [fetchOrganizations]);\n\n  const isAllSelected =\n    selected.length === organizations.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteOrganizations,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id }) => OrganizationsAPI.destroy(id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchOrganizations,\n    }\n  );\n\n  const handleOrgDelete = async () => {\n    await deleteOrganizations();\n    setSelected([]);\n  };\n\n  const hasContentLoading = isDeleteLoading || isOrgsLoading;\n  const canAdd = actions && actions.POST;\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...organizations] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedTable\n            contentError={contentError}\n            hasContentLoading={hasContentLoading}\n            items={organizations}\n            itemCount={organizationCount}\n            pluralizedItemName={i18n._(t`Organizations`)}\n            qsConfig={QS_CONFIG}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            headerRow={\n              <HeaderRow qsConfig={QS_CONFIG}>\n                <HeaderCell sortKey=\"name\">{i18n._(t`名称`)}</HeaderCell>\n                <HeaderCell>{i18n._(t`Members`)}</HeaderCell>\n                <HeaderCell>{i18n._(t`团队`)}</HeaderCell>\n                <HeaderCell>{i18n._(t`Actions`)}</HeaderCell>\n              </HeaderRow>\n            }\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={handleSelectAll}\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [<ToolbarAddButton key=\"add\" linkTo={addUrl} />]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleOrgDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName=\"Organizations\"\n                  />,\n                ]}\n              />\n            )}\n            renderRow={(o, index) => (\n              <OrganizationListItem\n                key={o.id}\n                organization={o}\n                rowIndex={index}\n                detailUrl={`${match.url}/${o.id}`}\n                isSelected={selected.some(row => row.id === o.id)}\n                onSelect={() => handleSelect(o)}\n              />\n            )}\n            emptyStateControls={\n              canAdd ? <ToolbarAddButton key=\"add\" linkTo={addUrl} /> : null\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more organizations.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport { OrganizationsList as _OrganizationsList };\nexport default withI18n()(OrganizationsList);\n","import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form, FormGroup } from '@patternfly/react-core';\n\nimport { OrganizationsAPI } from '../../../api';\nimport { ConfigContext, useConfig } from '../../../contexts/Config';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport { InstanceGroupsLookup } from '../../../components/Lookup';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport { required, minMaxValue } from '../../../util/validators';\nimport { FormColumnLayout } from '../../../components/FormLayout';\nimport CredentialLookup from '../../../components/Lookup/CredentialLookup';\n\nfunction OrganizationFormFields({ i18n, instanceGroups, setInstanceGroups }) {\n  const { setFieldValue } = useFormikContext();\n  const [venvField] = useField('custom_virtualenv');\n  const { license_info = {}, me = {} } = useConfig();\n\n  const [\n    galaxyCredentialsField,\n    galaxyCredentialsMeta,\n    galaxyCredentialsHelpers,\n  ] = useField('galaxy_credentials');\n\n  const defaultVenv = {\n    label: i18n._(t`Use Default Ansible Environment`),\n    value: '/var/lib/awx/venv/ansible/',\n    key: 'default',\n  };\n  const { custom_virtualenvs } = useContext(ConfigContext);\n\n  const handleCredentialUpdate = useCallback(\n    value => {\n      setFieldValue('galaxy_credentials', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"org-name\"\n        name=\"name\"\n        type=\"text\"\n        label={i18n._(t`名称`)}\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"org-description\"\n        name=\"description\"\n        type=\"text\"\n        label={i18n._(t`描述`)}\n      />\n      {license_info?.license_type !== 'open' && (\n        <FormField\n          id=\"org-max_hosts\"\n          name=\"max_hosts\"\n          type=\"number\"\n          label={i18n._(t`Max Hosts`)}\n          tooltip={i18n._(\n            t`The maximum number of hosts allowed to be managed by this organization.\n            Value defaults to 0 which means no limit. Refer to the Ansible\n            documentation for more details.`\n          )}\n          validate={minMaxValue(0, Number.MAX_SAFE_INTEGER, i18n)}\n          me={me}\n          isDisabled={!me.is_superuser}\n        />\n      )}\n\n      {custom_virtualenvs && custom_virtualenvs.length > 1 && (\n        <FormGroup\n          fieldId=\"org-custom-virtualenv\"\n          label={i18n._(t`Ansible Environment`)}\n        >\n          <AnsibleSelect\n            id=\"org-custom-virtualenv\"\n            data={[\n              defaultVenv,\n              ...custom_virtualenvs\n                .filter(value => value !== defaultVenv.value)\n                .map(value => ({ value, label: value, key: value })),\n            ]}\n            {...venvField}\n          />\n        </FormGroup>\n      )}\n      <InstanceGroupsLookup\n        value={instanceGroups}\n        onChange={setInstanceGroups}\n        tooltip={i18n._(\n          t`Select the Instance Groups for this Organization to run on.`\n        )}\n      />\n      <CredentialLookup\n        credentialTypeNamespace=\"galaxy_api_token\"\n        label={i18n._(t`Galaxy Credentials`)}\n        helperTextInvalid={galaxyCredentialsMeta.error}\n        isValid={!galaxyCredentialsMeta.touched || !galaxyCredentialsMeta.error}\n        onBlur={() => galaxyCredentialsHelpers.setTouched()}\n        onChange={handleCredentialUpdate}\n        value={galaxyCredentialsField.value}\n        multiple\n      />\n    </>\n  );\n}\n\nfunction OrganizationForm({\n  organization,\n  onCancel,\n  onSubmit,\n  submitError,\n  ...rest\n}) {\n  const [contentError, setContentError] = useState(null);\n  const [hasContentLoading, setHasContentLoading] = useState(true);\n  const [initialInstanceGroups, setInitialInstanceGroups] = useState([]);\n  const [instanceGroups, setInstanceGroups] = useState([]);\n\n  const handleCancel = () => {\n    onCancel();\n  };\n\n  const handleSubmit = values => {\n    const { added, removed } = getAddedAndRemoved(\n      initialInstanceGroups,\n      instanceGroups\n    );\n    const addedIds = added.map(({ id }) => id);\n    const removedIds = removed.map(({ id }) => id);\n    if (\n      typeof values.max_hosts !== 'number' ||\n      values.max_hosts === 'undefined'\n    ) {\n      values.max_hosts = 0;\n    }\n    onSubmit(values, addedIds, removedIds);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const { id } = organization;\n      if (!id) {\n        setHasContentLoading(false);\n        return;\n      }\n      setContentError(null);\n      setHasContentLoading(true);\n      try {\n        const {\n          data: { results = [] },\n        } = await OrganizationsAPI.readInstanceGroups(id);\n        setInitialInstanceGroups(results);\n        setInstanceGroups(results);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setHasContentLoading(false);\n      }\n    })();\n  }, [organization]);\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  if (hasContentLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        name: organization.name,\n        description: organization.description,\n        custom_virtualenv: organization.custom_virtualenv || '',\n        max_hosts: organization.max_hosts || '0',\n        galaxy_credentials: organization.galaxy_credentials || [],\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <OrganizationFormFields\n              instanceGroups={instanceGroups}\n              setInstanceGroups={setInstanceGroups}\n              {...rest}\n            />\n            <FormSubmitError error={submitError} />\n            <FormActionGroup\n              onCancel={handleCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nOrganizationForm.propTypes = {\n  organization: PropTypes.shape(),\n  onSubmit: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired,\n  submitError: PropTypes.shape(),\n};\n\nOrganizationForm.defaultProps = {\n  organization: {\n    name: '',\n    description: '',\n    max_hosts: '0',\n    custom_virtualenv: '',\n  },\n  submitError: null,\n};\n\nOrganizationForm.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport { OrganizationForm as _OrganizationForm };\nexport default withI18n()(OrganizationForm);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\n\nimport { OrganizationsAPI } from '../../../api';\nimport { CardBody } from '../../../components/Card';\nimport OrganizationForm from '../shared/OrganizationForm';\n\nfunction OrganizationAdd() {\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n\n  const handleSubmit = async (values, groupsToAssociate) => {\n    try {\n      const { data: response } = await OrganizationsAPI.create(values);\n      await Promise.all(\n        groupsToAssociate\n          .map(id => OrganizationsAPI.associateInstanceGroup(response.id, id))\n          .concat(\n            values.galaxy_credentials.map(({ id: credId }) =>\n              OrganizationsAPI.associateGalaxyCredential(response.id, credId)\n            )\n          )\n      );\n      history.push(`/organizations/${response.id}`);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push('/organizations');\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <OrganizationForm\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            submitError={formError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nOrganizationAdd.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport { OrganizationAdd as _OrganizationAdd };\nexport default OrganizationAdd;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport { Link, useHistory, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Chip } from '@patternfly/react-core';\nimport { OrganizationsAPI } from '../../../api';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport AlertModal from '../../../components/AlertModal';\nimport ChipGroup from '../../../components/ChipGroup';\nimport CredentialChip from '../../../components/CredentialChip';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { useConfig } from '../../../contexts/Config';\n\nfunction OrganizationDetail({ i18n, organization }) {\n  const {\n    params: { id },\n  } = useRouteMatch();\n  const {\n    name,\n    description,\n    custom_virtualenv,\n    max_hosts,\n    created,\n    modified,\n    summary_fields,\n    galaxy_credentials,\n  } = organization;\n  const [contentError, setContentError] = useState(null);\n  const [hasContentLoading, setHasContentLoading] = useState(true);\n  const [instanceGroups, setInstanceGroups] = useState([]);\n  const history = useHistory();\n  const { license_info = {} } = useConfig();\n\n  useEffect(() => {\n    (async () => {\n      setContentError(null);\n      setHasContentLoading(true);\n      try {\n        const {\n          data: { results = [] },\n        } = await OrganizationsAPI.readInstanceGroups(id);\n        setInstanceGroups(results);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setHasContentLoading(false);\n      }\n    })();\n  }, [id]);\n\n  const {\n    request: deleteOrganization,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await OrganizationsAPI.destroy(id);\n      history.push(`/organizations`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  if (hasContentLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={name}\n          dataCy=\"organization-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        {license_info?.license_type !== 'open' && (\n          <Detail label={i18n._(t`Max Hosts`)} value={`${max_hosts}`} />\n        )}\n        <Detail\n          label={i18n._(t`Ansible Environment`)}\n          value={custom_virtualenv}\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n        {instanceGroups && instanceGroups.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Instance Groups`)}\n            value={\n              <ChipGroup numChips={5} totalChips={instanceGroups.length}>\n                {instanceGroups.map(ig => (\n                  <Chip key={ig.id} isReadOnly>\n                    {ig.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {galaxy_credentials && galaxy_credentials.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Galaxy Credentials`)}\n            value={\n              <ChipGroup numChips={5} totalChips={galaxy_credentials.length}>\n                {galaxy_credentials.map(credential => (\n                  <CredentialChip\n                    credential={credential}\n                    key={credential.id}\n                    isReadOnly\n                  />\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities.edit && (\n          <Button\n            aria-label={i18n._(t`Edit`)}\n            component={Link}\n            to={`/organizations/${id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete Organization`)}\n              onConfirm={deleteOrganization}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {/* Update delete modal to show dependencies https://github.com/ansible/awx/issues/5546 */}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete organization.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(OrganizationDetail);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport { OrganizationsAPI } from '../../../api';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport OrganizationForm from '../shared/OrganizationForm';\n\nfunction OrganizationEdit({ organization }) {\n  const detailsUrl = `/organizations/${organization.id}/details`;\n  const history = useHistory();\n  const [formError, setFormError] = useState(null);\n\n  const handleSubmit = async (\n    values,\n    groupsToAssociate,\n    groupsToDisassociate\n  ) => {\n    try {\n      const {\n        added: addedCredentials,\n        removed: removedCredentials,\n      } = getAddedAndRemoved(\n        organization.galaxy_credentials,\n        values.galaxy_credentials\n      );\n\n      const addedCredentialIds = addedCredentials.map(({ id }) => id);\n      const removedCredentialIds = removedCredentials.map(({ id }) => id);\n\n      await OrganizationsAPI.update(organization.id, values);\n      await Promise.all(\n        groupsToAssociate\n          .map(id =>\n            OrganizationsAPI.associateInstanceGroup(organization.id, id)\n          )\n          .concat(\n            addedCredentialIds.map(id =>\n              OrganizationsAPI.associateGalaxyCredential(organization.id, id)\n            )\n          )\n      );\n      await Promise.all(\n        groupsToDisassociate\n          .map(id =>\n            OrganizationsAPI.disassociateInstanceGroup(organization.id, id)\n          )\n          .concat(\n            removedCredentialIds.map(id =>\n              OrganizationsAPI.disassociateGalaxyCredential(organization.id, id)\n            )\n          )\n      );\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(detailsUrl);\n  };\n\n  return (\n    <CardBody>\n      <OrganizationForm\n        organization={organization}\n        onSubmit={handleSubmit}\n        onCancel={handleCancel}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n\nOrganizationEdit.propTypes = {\n  organization: PropTypes.shape().isRequired,\n};\n\nOrganizationEdit.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport { OrganizationEdit as _OrganizationEdit };\nexport default OrganizationEdit;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport {\n  Button,\n  DataListAction,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\n\nfunction OrganizationTeamListItem({ i18n, team, detailUrl }) {\n  const labelId = `check-action-${team.id}`;\n\n  return (\n    <DataListItem aria-labelledby={labelId} id={`${team.id}`}>\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"divider\">\n              <span>\n                <Link to={`${detailUrl}/details`}>\n                  <b aria-label={i18n._(t`team name`)}>{team.name}</b>\n                </Link>\n              </span>\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {team.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑团队`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑团队`)}\n                css=\"grid-column: 2\"\n                variant=\"plain\"\n                component={Link}\n                to={`${detailUrl}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nOrganizationTeamListItem.propTypes = {\n  team: PropTypes.shape({ id: PropTypes.number, name: PropTypes.string })\n    .isRequired,\n  detailUrl: PropTypes.string.isRequired,\n};\n\nexport default withI18n()(OrganizationTeamListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { OrganizationsAPI } from '../../../api';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useRequest from '../../../util/useRequest';\nimport OrganizationTeamListItem from './OrganizationTeamListItem';\n\nconst QS_CONFIG = getQSConfig('team', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction OrganizationTeamList({ id, i18n }) {\n  const location = useLocation();\n\n  const {\n    result: { teams, count, relatedSearchableKeys, searchableKeys },\n    error,\n    isLoading,\n    request: fetchTeams,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        OrganizationsAPI.readTeams(id, params),\n        OrganizationsAPI.readTeamsOptions(id),\n      ]);\n      return {\n        teams: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [id, location]),\n    {\n      teams: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTeams();\n  }, [fetchTeams]);\n\n  return (\n    <PaginatedDataList\n      contentError={error}\n      hasContentLoading={isLoading}\n      items={teams}\n      itemCount={count}\n      pluralizedItemName={i18n._(t`团队`)}\n      qsConfig={QS_CONFIG}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`Created by (username)`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`Modified by (username)`),\n          key: 'modified_by__username__icontains',\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n      renderItem={item => (\n        <OrganizationTeamListItem\n          key={item.id}\n          value={item.name}\n          team={item}\n          detailUrl={`/teams/${item.id}`}\n        />\n      )}\n    />\n  );\n}\n\nOrganizationTeamList.propTypes = {\n  id: PropTypes.number.isRequired,\n};\n\nexport { OrganizationTeamList as _OrganizationTeamList };\nexport default withI18n()(OrganizationTeamList);\n","import React, { useCallback, useEffect, useRef } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Switch,\n  Route,\n  withRouter,\n  Redirect,\n  Link,\n  useLocation,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport useRequest from '../../util/useRequest';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport NotificationList from '../../components/NotificationList/NotificationList';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport OrganizationDetail from './OrganizationDetail';\nimport OrganizationEdit from './OrganizationEdit';\nimport OrganizationTeams from './OrganizationTeams';\nimport { OrganizationsAPI } from '../../api';\n\nfunction Organization({ i18n, setBreadcrumb, me }) {\n  const location = useLocation();\n  const { id: organizationId } = useParams();\n  const match = useRouteMatch();\n  const initialUpdate = useRef(true);\n\n  const {\n    result: { organization },\n    isLoading: organizationLoading,\n    error: organizationError,\n    request: loadOrganization,\n  } = useRequest(\n    useCallback(async () => {\n      const [{ data }, credentialsRes] = await Promise.all([\n        OrganizationsAPI.readDetail(organizationId),\n        OrganizationsAPI.readGalaxyCredentials(organizationId),\n      ]);\n      data.galaxy_credentials = credentialsRes.data.results;\n      setBreadcrumb(data);\n\n      return {\n        organization: data,\n      };\n    }, [setBreadcrumb, organizationId]),\n    {\n      organization: null,\n    }\n  );\n\n  const {\n    result: { isNotifAdmin, isAuditorOfThisOrg, isAdminOfThisOrg },\n    isLoading: rolesLoading,\n    error: rolesError,\n    request: loadRoles,\n  } = useRequest(\n    useCallback(async () => {\n      const [notifAdminRes, auditorRes, adminRes] = await Promise.all([\n        OrganizationsAPI.read({\n          page_size: 1,\n          role_level: 'notification_admin_role',\n        }),\n        OrganizationsAPI.read({\n          id: organizationId,\n          role_level: 'auditor_role',\n        }),\n        OrganizationsAPI.read({\n          id: organizationId,\n          role_level: 'admin_role',\n        }),\n      ]);\n\n      return {\n        isNotifAdmin: notifAdminRes.data.results.length > 0,\n        isAuditorOfThisOrg: auditorRes.data.results.length > 0,\n        isAdminOfThisOrg: adminRes.data.results.length > 0,\n      };\n    }, [organizationId]),\n    {\n      isNotifAdmin: false,\n      isAuditorOfThisOrg: false,\n      isAdminOfThisOrg: false,\n    }\n  );\n  useEffect(() => {\n    loadOrganization();\n    loadRoles();\n  }, [loadOrganization, loadRoles]);\n\n  useEffect(() => {\n    if (initialUpdate.current) {\n      initialUpdate.current = false;\n      return;\n    }\n\n    if (location.pathname === `/organizations/${organizationId}/details`) {\n      loadOrganization();\n    }\n  }, [loadOrganization, organizationId, location.pathname]);\n\n  const canSeeNotificationsTab =\n    me.is_system_auditor || isNotifAdmin || isAuditorOfThisOrg;\n  const canToggleNotifications =\n    isNotifAdmin &&\n    (me.is_system_auditor || isAuditorOfThisOrg || isAdminOfThisOrg);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Organizations`)}\n        </>\n      ),\n      link: `/organizations`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details`, id: 0 },\n    { name: i18n._(t`Access`), link: `${match.url}/access`, id: 1 },\n    { name: i18n._(t`团队`), link: `${match.url}/teams`, id: 2 },\n  ];\n\n  if (canSeeNotificationsTab) {\n    tabsArray.push({\n      name: i18n._(t`Notifications`),\n      link: `${match.url}/notifications`,\n      id: 3,\n    });\n  }\n\n  let showCardHeader = true;\n\n  if (location.pathname.endsWith('edit')) {\n    showCardHeader = false;\n  }\n\n  if (!organizationLoading && organizationError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={organizationError}>\n            {organizationError.response.status === 404 && (\n              <span>\n                {i18n._(t`Organization not found.`)}{' '}\n                <Link to=\"/organizations\">\n                  {i18n._(t`View all Organizations.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (!rolesLoading && rolesError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={rolesError} />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect\n            from=\"/organizations/:id\"\n            to=\"/organizations/:id/details\"\n            exact\n          />\n          {organization && (\n            <Route path=\"/organizations/:id/edit\">\n              <OrganizationEdit organization={organization} />\n            </Route>\n          )}\n          {organization && (\n            <Route path=\"/organizations/:id/details\">\n              <OrganizationDetail organization={organization} />\n            </Route>\n          )}\n          {organization && (\n            <Route path=\"/organizations/:id/access\">\n              <ResourceAccessList\n                resource={organization}\n                apiModel={OrganizationsAPI}\n              />\n            </Route>\n          )}\n          <Route path=\"/organizations/:id/teams\">\n            <OrganizationTeams id={Number(match.params.id)} />\n          </Route>\n          {canSeeNotificationsTab && (\n            <Route path=\"/organizations/:id/notifications\">\n              <NotificationList\n                id={Number(match.params.id)}\n                canToggleNotifications={canToggleNotifications}\n                apiModel={OrganizationsAPI}\n                showApprovalsToggle\n              />\n            </Route>\n          )}\n          <Route key=\"not-found\" path=\"*\">\n            {!organizationLoading && !rolesLoading && (\n              <ContentError isNotFound>\n                {match.params.id && (\n                  <Link to={`/organizations/${match.params.id}/details`}>\n                    {i18n._(t`View Organization Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            )}\n          </Route>\n          ,\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(withRouter(Organization));\nexport { Organization as _Organization };\n","import React, { useCallback, useState, Fragment } from 'react';\nimport { Route, withRouter, Switch, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Config } from '../../contexts/Config';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\n\nimport OrganizationsList from './OrganizationList/OrganizationList';\nimport OrganizationAdd from './OrganizationAdd/OrganizationAdd';\nimport Organization from './Organization';\n\nfunction Organizations({ i18n }) {\n  const match = useRouteMatch();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/organizations': i18n._(t`Organizations`),\n    '/organizations/add': i18n._(t`Create New Organization`),\n  });\n\n  const setBreadcrumb = useCallback(\n    organization => {\n      if (!organization) {\n        return;\n      }\n\n      const breadcrumb = {\n        '/organizations': i18n._(t`Organizations`),\n        '/organizations/add': i18n._(t`Create New Organization`),\n        [`/organizations/${organization.id}`]: `${organization.name}`,\n        [`/organizations/${organization.id}/edit`]: i18n._(t`Edit Details`),\n        [`/organizations/${organization.id}/details`]: i18n._(t`Details`),\n        [`/organizations/${organization.id}/access`]: i18n._(t`Access`),\n        [`/organizations/${organization.id}/teams`]: i18n._(t`团队`),\n        [`/organizations/${organization.id}/notifications`]: i18n._(\n          t`Notifications`\n        ),\n      };\n      setBreadcrumbConfig(breadcrumb);\n    },\n    [i18n]\n  );\n\n  return (\n    <Fragment>\n      <ScreenHeader\n        streamType=\"organization\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path={`${match.path}/add`}>\n          <OrganizationAdd />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <Config>\n            {({ me }) => (\n              <Organization setBreadcrumb={setBreadcrumb} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path={`${match.path}`}>\n          <OrganizationsList />\n        </Route>\n      </Switch>\n    </Fragment>\n  );\n}\n\nexport { Organizations as _Organizations };\nexport default withI18n()(withRouter(Organizations));\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport { CopyIcon } from '@patternfly/react-icons';\n\nexport const clipboardCopyFunc = (event, text) => {\n  const clipboard = event.currentTarget.parentElement;\n  const el = document.createElement('input');\n  el.value = text;\n  clipboard.appendChild(el);\n  el.select();\n  document.execCommand('copy');\n  clipboard.removeChild(el);\n};\n\nclass ClipboardCopyButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      copied: false,\n    };\n\n    this.handleCopyClick = this.handleCopyClick.bind(this);\n  }\n\n  handleCopyClick = event => {\n    const { stringToCopy, switchDelay } = this.props;\n    if (this.timer) {\n      window.clearTimeout(this.timer);\n      this.setState({ copied: false });\n    }\n    clipboardCopyFunc(event, stringToCopy);\n    this.setState({ copied: true }, () => {\n      this.timer = window.setTimeout(() => {\n        this.setState({ copied: false });\n        this.timer = null;\n      }, switchDelay);\n    });\n  };\n\n  render() {\n    const {\n      copyTip,\n      entryDelay,\n      exitDelay,\n      copiedSuccessTip,\n      isDisabled,\n    } = this.props;\n    const { copied } = this.state;\n\n    return (\n      <Tooltip\n        entryDelay={entryDelay}\n        exitDelay={exitDelay}\n        trigger=\"mouseenter focus click\"\n        content={copied ? copiedSuccessTip : copyTip}\n      >\n        <Button\n          isDisabled={isDisabled}\n          variant=\"plain\"\n          onClick={this.handleCopyClick}\n          aria-label={copyTip}\n        >\n          <CopyIcon />\n        </Button>\n      </Tooltip>\n    );\n  }\n}\n\nClipboardCopyButton.propTypes = {\n  copyTip: PropTypes.string.isRequired,\n  entryDelay: PropTypes.number,\n  exitDelay: PropTypes.number,\n  copiedSuccessTip: PropTypes.string.isRequired,\n  stringToCopy: PropTypes.string.isRequired,\n  switchDelay: PropTypes.number,\n  isDisabled: PropTypes.bool.isRequired,\n};\n\nClipboardCopyButton.defaultProps = {\n  entryDelay: 100,\n  exitDelay: 1600,\n  switchDelay: 2000,\n};\n\nexport default ClipboardCopyButton;\n","import React, { useCallback } from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\nimport { SyncIcon } from '@patternfly/react-icons';\n\nimport { number } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { ProjectsAPI } from '../../../api';\n\nfunction ProjectSyncButton({ i18n, projectId }) {\n  const match = useRouteMatch();\n\n  const { request: handleSync, error: syncError } = useRequest(\n    useCallback(async () => {\n      await ProjectsAPI.sync(projectId);\n    }, [projectId]),\n    null\n  );\n\n  const { error, dismissError } = useDismissableError(syncError);\n  const isDetailsView = match.url.endsWith('/details');\n  return (\n    <>\n      <Button\n        aria-label={i18n._(t`同步项目`)}\n        variant={isDetailsView ? 'secondary' : 'plain'}\n        onClick={handleSync}\n      >\n        {match.url.endsWith('/details') ? i18n._(t`同步`) : <SyncIcon />}\n      </Button>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to sync project.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nProjectSyncButton.propTypes = {\n  projectId: number.isRequired,\n};\n\nexport default withI18n()(ProjectSyncButton);\n","import 'styled-components/macro';\nimport React, { Fragment, useState, useCallback } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { t } from '@lingui/macro';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport { formatDateString, timeOfDay } from '../../../util/dates';\nimport { ProjectsAPI } from '../../../api';\nimport ClipboardCopyButton from '../../../components/ClipboardCopyButton';\nimport StatusIcon from '../../../components/StatusIcon';\nimport DataListCell from '../../../components/DataListCell';\nimport { toTitleCase } from '../../../util/strings';\nimport CopyButton from '../../../components/CopyButton';\nimport ProjectSyncButton from '../shared/ProjectSyncButton';\nimport { Project } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(3, 40px);\n`;\n\nconst Label = styled.span`\n  color: var(--pf-global--disabled-color--100);\n`;\n\nfunction ProjectListItem({\n  project,\n  isSelected,\n  onSelect,\n  detailUrl,\n  i18n,\n  fetchProjects,\n}) {\n  const [isDisabled, setIsDisabled] = useState(false);\n  ProjectListItem.propTypes = {\n    project: Project.isRequired,\n    detailUrl: string.isRequired,\n    isSelected: bool.isRequired,\n    onSelect: func.isRequired,\n  };\n\n  const copyProject = useCallback(async () => {\n    await ProjectsAPI.copy(project.id, {\n      name: `${project.name} @ ${timeOfDay()}`,\n    });\n    await fetchProjects();\n  }, [project.id, project.name, fetchProjects]);\n\n  const generateLastJobTooltip = job => {\n    return (\n      <Fragment>\n        <div>{i18n._(t`MOST RECENT SYNC`)}</div>\n        <div>\n          {i18n._(t`JOB ID:`)} {job.id}\n        </div>\n        <div>\n          {i18n._(t`STATUS:`)} {job.status.toUpperCase()}\n        </div>\n        {job.finished && (\n          <div>\n            {i18n._(t`FINISHED:`)} {formatDateString(job.finished)}\n          </div>\n        )}\n      </Fragment>\n    );\n  };\n\n  const handleCopyStart = useCallback(() => {\n    setIsDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsDisabled(false);\n  }, []);\n\n  const labelId = `check-action-${project.id}`;\n  return (\n    <DataListItem\n      key={project.id}\n      aria-labelledby={labelId}\n      id={`${project.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-project-${project.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"status\" isFilled={false}>\n              {project.summary_fields.last_job && (\n                <Tooltip\n                  position=\"top\"\n                  content={generateLastJobTooltip(\n                    project.summary_fields.last_job\n                  )}\n                  key={project.summary_fields.last_job.id}\n                >\n                  <Link\n                    to={`/jobs/project/${project.summary_fields.last_job.id}`}\n                  >\n                    <StatusIcon\n                      status={project.summary_fields.last_job.status}\n                    />\n                  </Link>\n                </Tooltip>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"name\">\n              <Link id={labelId} to={`${detailUrl}`}>\n                <b>{project.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {project.scm_type === ''\n                ? i18n._(t`Manual`)\n                : toTitleCase(project.scm_type)}\n            </DataListCell>,\n            <DataListCell key=\"revision\">\n              {project.scm_revision.substring(0, 7)}\n              {!project.scm_revision && (\n                <Label aria-label={i18n._(t`copy to clipboard disabled`)}>\n                  {i18n._(t`Sync for revision`)}\n                </Label>\n              )}\n              <ClipboardCopyButton\n                isDisabled={!project.scm_revision}\n                stringToCopy={project.scm_revision}\n                copyTip={i18n._(t`Copy full revision to clipboard.`)}\n                copiedSuccessTip={i18n._(t`Successfully copied to clipboard!`)}\n              />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {project.summary_fields.user_capabilities.start && (\n            <Tooltip content={i18n._(t`同步项目`)} position=\"top\">\n              <ProjectSyncButton projectId={project.id} />\n            </Tooltip>\n          )}\n          {project.summary_fields.user_capabilities.edit ? (\n            <Tooltip content={i18n._(t`编辑项目`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`编辑项目`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/projects/${project.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n          {project.summary_fields.user_capabilities.copy && (\n            <CopyButton\n              copyItem={copyProject}\n              isDisabled={isDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              helperText={{\n                tooltip: i18n._(t`复制项目`),\n                errorMessage: i18n._(t`Failed to copy project.`),\n              }}\n            />\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\nexport default withI18n()(ProjectListItem);\n","import React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { ProjectsAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useWsProjects from './useWsProjects';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\n\nimport ProjectListItem from './ProjectListItem';\n\nconst QS_CONFIG = getQSConfig('project', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction ProjectList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n  const [selected, setSelected] = useState([]);\n\n  const {\n    result: {\n      results,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchProjects,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        ProjectsAPI.read(params),\n        ProjectsAPI.readOptions(),\n      ]);\n      return {\n        results: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      results: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n\n  const projects = useWsProjects(results);\n\n  const isAllSelected =\n    selected.length === projects.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteProjects,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(({ id }) => ProjectsAPI.destroy(id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchProjects,\n    }\n  );\n\n  const handleProjectDelete = async () => {\n    await deleteProjects();\n    setSelected([]);\n  };\n\n  const hasContentLoading = isDeleteLoading || isLoading;\n  const canAdd = actions && actions.POST;\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...projects] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n\n  return (\n    <Fragment>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={hasContentLoading}\n            items={projects}\n            itemCount={itemCount}\n            pluralizedItemName={i18n._(t`Projects`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n              {\n                name: i18n._(t`类型`),\n                key: 'or__scm_type',\n                options: [\n                  [``, i18n._(t`Manual`)],\n                  [`git`, i18n._(t`Git`)],\n                  [`svn`, i18n._(t`Subversion`)],\n                  [`archive`, i18n._(t`Remote Archive`)],\n                  [`insights`, i18n._(t`Red Hat Insights`)],\n                ],\n              },\n              {\n                name: i18n._(t`Source Control URL`),\n                key: 'scm_url__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={handleSelectAll}\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [\n                        <ToolbarAddButton\n                          key=\"add\"\n                          linkTo={`${match.url}/add`}\n                        />,\n                      ]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleProjectDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`Projects`)}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={o => (\n              <ProjectListItem\n                fetchProjects={fetchProjects}\n                key={o.id}\n                project={o}\n                detailUrl={`${match.url}/${o.id}`}\n                isSelected={selected.some(row => row.id === o.id)}\n                onSelect={() => handleSelect(o)}\n              />\n            )}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n              ) : null\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        aria-label={i18n._(t`Deletion Error`)}\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more projects.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(ProjectList);\n","import { useState, useEffect } from 'react';\nimport useWebsocket from '../../../util/useWebsocket';\n\nexport default function useWsProjects(initialProjects) {\n  const [projects, setProjects] = useState(initialProjects);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setProjects(initialProjects);\n  }, [initialProjects]);\n\n  useEffect(() => {\n    if (!lastMessage?.unified_job_id || lastMessage.type !== 'project_update') {\n      return;\n    }\n    const index = projects.findIndex(p => p.id === lastMessage.project_id);\n    if (index === -1) {\n      return;\n    }\n\n    const project = projects[index];\n    const updatedProject = {\n      ...project,\n      summary_fields: {\n        ...project.summary_fields,\n        last_job: {\n          id: lastMessage.unified_job_id,\n          status: lastMessage.status,\n          finished: lastMessage.finished,\n        },\n      },\n    };\n    setProjects([\n      ...projects.slice(0, index),\n      updatedProject,\n      ...projects.slice(index + 1),\n    ]);\n  }, [lastMessage]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  return projects;\n}\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useFormikContext } from 'formik';\nimport { FormGroup, Title } from '@patternfly/react-core';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport FormField, { CheckboxField } from '../../../../components/FormField';\nimport { required } from '../../../../util/validators';\nimport {\n  FormCheckboxLayout,\n  FormFullWidthLayout,\n} from '../../../../components/FormLayout';\n\nexport const UrlFormField = withI18n()(({ i18n, tooltip }) => (\n  <FormField\n    id=\"project-scm-url\"\n    isRequired\n    label={i18n._(t`Source Control URL`)}\n    name=\"scm_url\"\n    tooltip={tooltip}\n    tooltipMaxWidth=\"350px\"\n    type=\"text\"\n    validate={required(null, i18n)}\n  />\n));\n\nexport const BranchFormField = withI18n()(({ i18n, label }) => (\n  <FormField\n    id=\"project-scm-branch\"\n    name=\"scm_branch\"\n    type=\"text\"\n    label={label}\n    tooltip={i18n._(t`Branch to checkout. In addition to branches,\n        you can input tags, commit hashes, and arbitrary refs. Some\n        commit hashes and refs may not be available unless you also\n        provide a custom refspec.`)}\n  />\n));\n\nexport const ScmCredentialFormField = withI18n()(\n  ({ i18n, credential, onCredentialSelection }) => {\n    const { setFieldValue } = useFormikContext();\n\n    const onCredentialChange = useCallback(\n      value => {\n        onCredentialSelection('scm', value);\n        setFieldValue('credential', value ? value.id : '');\n      },\n      [onCredentialSelection, setFieldValue]\n    );\n\n    return (\n      <CredentialLookup\n        credentialTypeId={credential.typeId}\n        label={i18n._(t`Source Control Credential`)}\n        value={credential.value}\n        onChange={onCredentialChange}\n      />\n    );\n  }\n);\n\nexport const ScmTypeOptions = withI18n()(\n  ({ i18n, scmUpdateOnLaunch, hideAllowOverride }) => (\n    <FormFullWidthLayout>\n      <FormGroup fieldId=\"project-option-checkboxes\" label={i18n._(t`Options`)}>\n        <FormCheckboxLayout>\n          <CheckboxField\n            id=\"option-scm-clean\"\n            name=\"scm_clean\"\n            label={i18n._(t`Clean`)}\n            tooltip={i18n._(\n              t`Remove any local modifications prior to performing an update.`\n            )}\n          />\n          <CheckboxField\n            id=\"option-scm-delete-on-update\"\n            name=\"scm_delete_on_update\"\n            label={i18n._(t`删除`)}\n            tooltip={i18n._(\n              t`Delete the local repository in its entirety prior to\n                  performing an update. Depending on the size of the\n                  repository this may significantly increase the amount\n                  of time required to complete an update.`\n            )}\n          />\n          <CheckboxField\n            id=\"option-scm-update-on-launch\"\n            name=\"scm_update_on_launch\"\n            label={i18n._(t`Update Revision on Launch`)}\n            tooltip={i18n._(\n              t`Each time a job runs using this project, update the\n                  revision of the project prior to starting the job.`\n            )}\n          />\n          {!hideAllowOverride && (\n            <CheckboxField\n              id=\"option-allow-override\"\n              name=\"allow_override\"\n              label={i18n._(t`Allow Branch Override`)}\n              tooltip={i18n._(\n                t`Allow changing the Source Control branch or revision in a job\n                    template that uses this project.`\n              )}\n            />\n          )}\n        </FormCheckboxLayout>\n      </FormGroup>\n\n      {scmUpdateOnLaunch && (\n        <>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {i18n._(t`Option Details`)}\n          </Title>\n          <FormField\n            id=\"project-cache-timeout\"\n            name=\"scm_update_cache_timeout\"\n            type=\"number\"\n            min=\"0\"\n            label={i18n._(t`Cache Timeout`)}\n            tooltip={i18n._(t`Time in seconds to consider a project\n                    to be current. During job runs and callbacks the task\n                    system will evaluate the timestamp of the latest project\n                    update. If it is older than Cache Timeout, it is not\n                    considered current, and a new project update will be\n                    performed.`)}\n          />\n        </>\n      )}\n    </FormFullWidthLayout>\n  )\n);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport FormField from '../../../../components/FormField';\nimport {\n  UrlFormField,\n  BranchFormField,\n  ScmCredentialFormField,\n  ScmTypeOptions,\n} from './SharedFields';\n\nconst GitSubForm = ({\n  i18n,\n  credential,\n  onCredentialSelection,\n  scmUpdateOnLaunch,\n}) => (\n  <>\n    <UrlFormField\n      i18n={i18n}\n      tooltip={\n        <span>\n          {i18n._(t`Example URLs for GIT Source Control include:`)}\n          <ul css=\"margin: 10px 0 10px 20px\">\n            <li>https://github.com/ansible/ansible.git</li>\n            <li>git@github.com:ansible/ansible.git</li>\n            <li>git://servername.example.com/ansible.git</li>\n          </ul>\n          {i18n._(t`Note: When using SSH protocol for GitHub or\n            Bitbucket, enter an SSH key only, do not enter a username\n            (other than git). Additionally, GitHub and Bitbucket do\n            not support password authentication when using SSH. GIT\n            read only protocol (git://) does not use username or\n            password information.`)}\n        </span>\n      }\n    />\n    <BranchFormField\n      i18n={i18n}\n      label={i18n._(t`Source Control Branch/Tag/Commit`)}\n    />\n    <FormField\n      id=\"project-scm-refspec\"\n      label={i18n._(t`Source Control Refspec`)}\n      name=\"scm_refspec\"\n      type=\"text\"\n      tooltipMaxWidth=\"400px\"\n      tooltip={\n        <span>\n          {i18n._(t`A refspec to fetch (passed to the Ansible git\n            module). This parameter allows access to references via\n            the branch field not otherwise available.`)}\n          <br />\n          <br />\n          {i18n._(t`Note: This field assumes the remote name is \"origin\".`)}\n          <br />\n          <br />\n          {i18n._(t`Examples include:`)}\n          <ul css={{ margin: '10px 0 10px 20px' }}>\n            <li>refs/*:refs/remotes/origin/*</li>\n            <li>refs/pull/62/head:refs/remotes/origin/pull/62/head</li>\n          </ul>\n          {i18n._(t`The first fetches all references. The second\n            fetches the Github pull request number 62, in this example\n            the branch needs to be \"pull/62/head\".`)}\n          <br />\n          <br />\n          {i18n._(t`For more information, refer to the`)}{' '}\n          <a\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            href=\"https://docs.ansible.com/ansible-tower/latest/html/userguide/projects.html#manage-playbooks-using-source-control\"\n          >\n            {i18n._(t`Ansible Tower Documentation.`)}\n          </a>\n        </span>\n      }\n    />\n    <ScmCredentialFormField\n      credential={credential}\n      onCredentialSelection={onCredentialSelection}\n    />\n    <ScmTypeOptions scmUpdateOnLaunch={scmUpdateOnLaunch} />\n  </>\n);\n\nexport default withI18n()(GitSubForm);\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField, useFormikContext } from 'formik';\nimport CredentialLookup from '../../../../components/Lookup/CredentialLookup';\nimport { required } from '../../../../util/validators';\nimport { ScmTypeOptions } from './SharedFields';\n\nconst InsightsSubForm = ({\n  i18n,\n  credential,\n  onCredentialSelection,\n  scmUpdateOnLaunch,\n  autoPopulateCredential,\n}) => {\n  const { setFieldValue } = useFormikContext();\n  const [, credMeta, credHelpers] = useField({\n    name: 'credential',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const onCredentialChange = useCallback(\n    value => {\n      onCredentialSelection('insights', value);\n      setFieldValue('credential', value.id);\n    },\n    [onCredentialSelection, setFieldValue]\n  );\n\n  return (\n    <>\n      <CredentialLookup\n        credentialTypeId={credential.typeId}\n        label={i18n._(t`Insights Credential`)}\n        helperTextInvalid={credMeta.error}\n        isValid={!credMeta.touched || !credMeta.error}\n        onBlur={() => credHelpers.setTouched()}\n        onChange={onCredentialChange}\n        value={credential.value}\n        required\n        autoPopulate={autoPopulateCredential}\n      />\n      <ScmTypeOptions hideAllowOverride scmUpdateOnLaunch={scmUpdateOnLaunch} />\n    </>\n  );\n};\n\nexport default withI18n()(InsightsSubForm);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { FormGroup, Alert } from '@patternfly/react-core';\nimport { required } from '../../../../util/validators';\nimport AnsibleSelect from '../../../../components/AnsibleSelect';\nimport FormField from '../../../../components/FormField';\nimport Popover from '../../../../components/Popover';\nimport { BrandName } from '../../../../variables';\n\n// Setting BrandName to a variable here is necessary to get the jest tests\n// passing.  Attempting to use BrandName in the template literal results\n// in failing tests.\nconst brandName = BrandName;\n\nconst ManualSubForm = ({\n  i18n,\n  localPath,\n  project_base_dir,\n  project_local_paths,\n}) => {\n  const localPaths = [...new Set([...project_local_paths, localPath])];\n  const options = [\n    {\n      value: '',\n      key: '',\n      label: i18n._(t`Choose a Playbook Directory`),\n    },\n    ...localPaths\n      .filter(path => path)\n      .map(path => ({\n        value: path,\n        key: path,\n        label: path,\n      })),\n  ];\n  const [pathField, pathMeta, pathHelpers] = useField({\n    name: 'local_path',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  return (\n    <>\n      {options.length === 1 && (\n        <Alert\n          title={i18n._(t`WARNING: `)}\n          css=\"grid-column: 1/-1\"\n          variant=\"warning\"\n          isInline\n        >\n          {i18n._(t`\n            There are no available playbook directories in ${project_base_dir}.\n            Either that directory is empty, or all of the contents are already\n            assigned to other projects. Create a new directory there and make\n            sure the playbook files can be read by the \"awx\" system user,\n            or have ${brandName} directly retrieve your playbooks from\n            source control using the Source Control Type option above.`)}\n        </Alert>\n      )}\n      <FormField\n        id=\"project-base-dir\"\n        label={i18n._(t`Project Base Path`)}\n        name=\"base_dir\"\n        type=\"text\"\n        isReadOnly\n        tooltip={\n          <span>\n            {i18n._(t`Base path used for locating playbooks. Directories\n              found inside this path will be listed in the playbook directory drop-down.\n              Together the base path and selected playbook directory provide the full\n              path used to locate playbooks.`)}\n            <br />\n            <br />\n            {i18n._(t`Change PROJECTS_ROOT when deploying\n              ${brandName} to change this location.`)}\n          </span>\n        }\n      />\n      <FormGroup\n        fieldId=\"project-local-path\"\n        helperTextInvalid={pathMeta.error}\n        isRequired\n        validated={!pathMeta.touched || !pathMeta.error ? 'default' : 'error'}\n        label={i18n._(t`Playbook Directory`)}\n        labelIcon={\n          <Popover\n            content={i18n._(t`Select from the list of directories found in\n          the Project Base Path. Together the base path and the playbook\n          directory provide the full path used to locate playbooks.`)}\n          />\n        }\n      >\n        <AnsibleSelect\n          {...pathField}\n          id=\"local_path\"\n          data={options}\n          onChange={(event, value) => {\n            pathHelpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n    </>\n  );\n};\n\nexport default withI18n()(ManualSubForm);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  UrlFormField,\n  BranchFormField,\n  ScmCredentialFormField,\n  ScmTypeOptions,\n} from './SharedFields';\n\nconst SvnSubForm = ({\n  i18n,\n  credential,\n  onCredentialSelection,\n  scmUpdateOnLaunch,\n}) => (\n  <>\n    <UrlFormField\n      i18n={i18n}\n      tooltip={\n        <span>\n          {i18n._(t`Example URLs for Subversion Source Control include:`)}\n          <ul css={{ margin: '10px 0 10px 20px' }}>\n            <li>https://github.com/ansible/ansible</li>\n            <li>svn://servername.example.com/path</li>\n            <li>svn+ssh://servername.example.com/path</li>\n          </ul>\n        </span>\n      }\n    />\n    <BranchFormField i18n={i18n} label={i18n._(t`Revision #`)} />\n    <ScmCredentialFormField\n      credential={credential}\n      onCredentialSelection={onCredentialSelection}\n    />\n    <ScmTypeOptions scmUpdateOnLaunch={scmUpdateOnLaunch} />\n  </>\n);\n\nexport default withI18n()(SvnSubForm);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  UrlFormField,\n  ScmCredentialFormField,\n  ScmTypeOptions,\n} from './SharedFields';\n\nconst ArchiveSubForm = ({\n  i18n,\n  credential,\n  onCredentialSelection,\n  scmUpdateOnLaunch,\n}) => (\n  <>\n    <UrlFormField\n      i18n={i18n}\n      tooltip={\n        <span>\n          {i18n._(t`Example URLs for Remote Archive Source Control include:`)}\n          <ul css={{ margin: '10px 0 10px 20px' }}>\n            <li>https://github.com/username/project/archive/v0.0.1.tar.gz</li>\n            <li>https://github.com/username/project/archive/v0.0.2.zip</li>\n          </ul>\n        </span>\n      }\n    />\n    <ScmCredentialFormField\n      credential={credential}\n      onCredentialSelection={onCredentialSelection}\n    />\n    <ScmTypeOptions scmUpdateOnLaunch={scmUpdateOnLaunch} />\n  </>\n);\n\nexport default withI18n()(ArchiveSubForm);\n","/* eslint no-nested-ternary: 0 */\nimport React, { useCallback, useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { Form, FormGroup, Title } from '@patternfly/react-core';\nimport { Config } from '../../../contexts/Config';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport { CredentialTypesAPI, ProjectsAPI } from '../../../api';\nimport { required } from '../../../util/validators';\nimport {\n  FormColumnLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport Popover from '../../../components/Popover';\nimport {\n  GitSubForm,\n  SvnSubForm,\n  ArchiveSubForm,\n  InsightsSubForm,\n  ManualSubForm,\n} from './ProjectSubForms';\n\nconst fetchCredentials = async credential => {\n  const [\n    {\n      data: {\n        results: [scmCredentialType],\n      },\n    },\n    {\n      data: {\n        results: [insightsCredentialType],\n      },\n    },\n  ] = await Promise.all([\n    CredentialTypesAPI.read({ kind: 'scm' }),\n    CredentialTypesAPI.read({ name: 'Insights' }),\n  ]);\n\n  if (!credential) {\n    return {\n      scm: { typeId: scmCredentialType.id },\n      insights: { typeId: insightsCredentialType.id },\n    };\n  }\n\n  const { credential_type_id } = credential;\n  return {\n    scm: {\n      typeId: scmCredentialType.id,\n      value: credential_type_id === scmCredentialType.id ? credential : null,\n    },\n    insights: {\n      typeId: insightsCredentialType.id,\n      value:\n        credential_type_id === insightsCredentialType.id ? credential : null,\n    },\n  };\n};\n\nfunction ProjectFormFields({\n  project,\n  project_base_dir,\n  project_local_paths,\n  formik,\n  i18n,\n  setCredentials,\n  credentials,\n  scmTypeOptions,\n  setScmSubFormState,\n  scmSubFormState,\n}) {\n  const scmFormFields = {\n    scm_url: '',\n    scm_branch: '',\n    scm_refspec: '',\n    credential: '',\n    scm_clean: false,\n    scm_delete_on_update: false,\n    scm_update_on_launch: false,\n    allow_override: false,\n    scm_update_cache_timeout: 0,\n  };\n\n  const { setFieldValue } = useFormikContext();\n\n  const [scmTypeField, scmTypeMeta, scmTypeHelpers] = useField({\n    name: 'scm_type',\n    validate: required(i18n._(t`Set a value for this field`), i18n),\n  });\n  const [venvField] = useField('custom_virtualenv');\n  const [organizationField, organizationMeta, organizationHelpers] = useField({\n    name: 'organization',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  /* Save current scm subform field values to state */\n  const saveSubFormState = form => {\n    const currentScmFormFields = { ...scmFormFields };\n\n    Object.keys(currentScmFormFields).forEach(label => {\n      currentScmFormFields[label] = form.values[label];\n    });\n\n    setScmSubFormState(currentScmFormFields);\n  };\n\n  /**\n   * If scm type is !== the initial scm type value,\n   * reset scm subform field values to defaults.\n   * If scm type is === the initial scm type value,\n   * reset scm subform field values to scmSubFormState.\n   */\n  const resetScmTypeFields = (value, form) => {\n    if (form.values.scm_type === form.initialValues.scm_type) {\n      saveSubFormState(formik);\n    }\n\n    Object.keys(scmFormFields).forEach(label => {\n      if (value === form.initialValues.scm_type) {\n        form.setFieldValue(label, scmSubFormState[label]);\n      } else {\n        form.setFieldValue(label, scmFormFields[label]);\n      }\n      form.setFieldTouched(label, false);\n    });\n  };\n\n  const handleCredentialSelection = useCallback(\n    (type, value) => {\n      setCredentials({\n        ...credentials,\n        [type]: {\n          ...credentials[type],\n          value,\n        },\n      });\n    },\n    [credentials, setCredentials]\n  );\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"project-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"project-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={organizationMeta.error}\n        isValid={!organizationMeta.touched || !organizationMeta.error}\n        onBlur={() => organizationHelpers.setTouched()}\n        onChange={onOrganizationChange}\n        value={organizationField.value}\n        required\n        autoPopulate={!project?.id}\n      />\n      <FormGroup\n        fieldId=\"project-scm-type\"\n        helperTextInvalid={scmTypeMeta.error}\n        isRequired\n        validated={\n          !scmTypeMeta.touched || !scmTypeMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`Source Control Credential Type`)}\n      >\n        <AnsibleSelect\n          {...scmTypeField}\n          id=\"scm_type\"\n          data={[\n            {\n              value: '',\n              key: '',\n              label: i18n._(t`Choose a Source Control Type`),\n              isDisabled: true,\n            },\n            ...scmTypeOptions.map(([value, label]) => {\n              if (label === 'Manual') {\n                value = 'manual';\n              }\n              return {\n                label,\n                value,\n                key: value,\n              };\n            }),\n          ]}\n          onChange={(event, value) => {\n            scmTypeHelpers.setValue(value);\n            resetScmTypeFields(value, formik);\n          }}\n        />\n      </FormGroup>\n      {formik.values.scm_type !== '' && (\n        <SubFormLayout>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {i18n._(t`Type Details`)}\n          </Title>\n          <FormColumnLayout>\n            {\n              {\n                manual: (\n                  <ManualSubForm\n                    localPath={formik.initialValues.local_path}\n                    project_base_dir={project_base_dir}\n                    project_local_paths={project_local_paths}\n                  />\n                ),\n                git: (\n                  <GitSubForm\n                    credential={credentials.scm}\n                    onCredentialSelection={handleCredentialSelection}\n                    scmUpdateOnLaunch={formik.values.scm_update_on_launch}\n                  />\n                ),\n                svn: (\n                  <SvnSubForm\n                    credential={credentials.scm}\n                    onCredentialSelection={handleCredentialSelection}\n                    scmUpdateOnLaunch={formik.values.scm_update_on_launch}\n                  />\n                ),\n                archive: (\n                  <ArchiveSubForm\n                    credential={credentials.scm}\n                    onCredentialSelection={handleCredentialSelection}\n                    scmUpdateOnLaunch={formik.values.scm_update_on_launch}\n                  />\n                ),\n                insights: (\n                  <InsightsSubForm\n                    credential={credentials.insights}\n                    onCredentialSelection={handleCredentialSelection}\n                    scmUpdateOnLaunch={formik.values.scm_update_on_launch}\n                    autoPopulateCredential={\n                      !project?.id || project?.scm_type !== 'insights'\n                    }\n                  />\n                ),\n              }[formik.values.scm_type]\n            }\n          </FormColumnLayout>\n        </SubFormLayout>\n      )}\n      <Config>\n        {({ custom_virtualenvs }) =>\n          custom_virtualenvs &&\n          custom_virtualenvs.length > 1 && (\n            <FormGroup\n              fieldId=\"project-custom-virtualenv\"\n              label={i18n._(t`Ansible Environment`)}\n              labelIcon={\n                <Popover\n                  content={i18n._(t`Select the playbook to be executed by\n                this job.`)}\n                />\n              }\n            >\n              <AnsibleSelect\n                id=\"project-custom-virtualenv\"\n                data={[\n                  {\n                    label: i18n._(t`Use Default Ansible Environment`),\n                    value: '/var/lib/awx/venv/ansible/',\n                    key: 'default',\n                  },\n                  ...custom_virtualenvs\n                    .filter(datum => datum !== '/var/lib/awx/venv/ansible/')\n                    .map(datum => ({\n                      label: datum,\n                      value: datum,\n                      key: datum,\n                    })),\n                ]}\n                {...venvField}\n              />\n            </FormGroup>\n          )\n        }\n      </Config>\n    </>\n  );\n}\n\nfunction ProjectForm({ i18n, project, submitError, ...props }) {\n  const { handleCancel, handleSubmit } = props;\n  const { summary_fields = {} } = project;\n  const [contentError, setContentError] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const [scmSubFormState, setScmSubFormState] = useState({\n    scm_url: '',\n    scm_branch: '',\n    scm_refspec: '',\n    credential: '',\n    scm_clean: false,\n    scm_delete_on_update: false,\n    scm_update_on_launch: false,\n    allow_override: false,\n    scm_update_cache_timeout: 0,\n  });\n  const [scmTypeOptions, setScmTypeOptions] = useState(null);\n  const [credentials, setCredentials] = useState({\n    scm: { typeId: null, value: null },\n    insights: { typeId: null, value: null },\n  });\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const credentialResponse = fetchCredentials(summary_fields.credential);\n        const {\n          data: {\n            actions: {\n              GET: {\n                scm_type: { choices },\n              },\n            },\n          },\n        } = await ProjectsAPI.readOptions();\n\n        setCredentials(await credentialResponse);\n        setScmTypeOptions(choices);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n\n    fetchData();\n  }, [summary_fields.credential]);\n\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError) {\n    return <ContentError error={contentError} />;\n  }\n\n  return (\n    <Config>\n      {({ project_base_dir, project_local_paths }) => (\n        <Formik\n          initialValues={{\n            allow_override: project.allow_override || false,\n            base_dir: project_base_dir || '',\n            credential: project.credential || '',\n            custom_virtualenv: project.custom_virtualenv || '',\n            description: project.description || '',\n            local_path: project.local_path || '',\n            name: project.name || '',\n            organization: project.summary_fields?.organization || null,\n            scm_branch: project.scm_branch || '',\n            scm_clean: project.scm_clean || false,\n            scm_delete_on_update: project.scm_delete_on_update || false,\n            scm_refspec: project.scm_refspec || '',\n            scm_type:\n              project.scm_type === ''\n                ? 'manual'\n                : project.scm_type === undefined\n                ? ''\n                : project.scm_type,\n            scm_update_cache_timeout: project.scm_update_cache_timeout || 0,\n            scm_update_on_launch: project.scm_update_on_launch || false,\n            scm_url: project.scm_url || '',\n          }}\n          onSubmit={handleSubmit}\n        >\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <ProjectFormFields\n                  project={project}\n                  project_base_dir={project_base_dir}\n                  project_local_paths={project_local_paths}\n                  formik={formik}\n                  i18n={i18n}\n                  setCredentials={setCredentials}\n                  credentials={credentials}\n                  scmTypeOptions={scmTypeOptions}\n                  setScmSubFormState={setScmSubFormState}\n                  scmSubFormState={scmSubFormState}\n                />\n                <FormSubmitError error={submitError} />\n                <FormActionGroup\n                  onCancel={handleCancel}\n                  onSubmit={formik.handleSubmit}\n                />\n              </FormColumnLayout>\n            </Form>\n          )}\n        </Formik>\n      )}\n    </Config>\n  );\n}\n\nProjectForm.propTypes = {\n  handleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  project: PropTypes.shape({}),\n  submitError: PropTypes.shape({}),\n};\n\nProjectForm.defaultProps = {\n  project: {},\n  submitError: null,\n};\n\nexport default withI18n()(ProjectForm);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport ProjectForm from '../shared/ProjectForm';\nimport { ProjectsAPI } from '../../../api';\n\nfunction ProjectAdd() {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    if (values.scm_type === 'manual') {\n      values.scm_type = '';\n    }\n    if (!values.credential) {\n      // Depending on the permissions of the user submitting the form,\n      // the API might throw an unexpected error if our creation request\n      // has a zero-length string as its credential field. As a work-around,\n      // normalize falsey credential fields by deleting them.\n      delete values.credential;\n    }\n    setFormSubmitError(null);\n    try {\n      const {\n        data: { id },\n      } = await ProjectsAPI.create({\n        ...values,\n        organization: values.organization.id,\n      });\n      history.push(`/projects/${id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/projects`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <ProjectForm\n            handleCancel={handleCancel}\n            handleSubmit={handleSubmit}\n            submitError={formSubmitError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default ProjectAdd;\n","import React, { useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, List, ListItem } from '@patternfly/react-core';\nimport { Project } from '../../../types';\nimport { Config } from '../../../contexts/Config';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport CredentialChip from '../../../components/CredentialChip';\nimport { ProjectsAPI } from '../../../api';\nimport { toTitleCase } from '../../../util/strings';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport ProjectSyncButton from '../shared/ProjectSyncButton';\n\nfunction ProjectDetail({ project, i18n }) {\n  const {\n    allow_override,\n    created,\n    custom_virtualenv,\n    description,\n    id,\n    local_path,\n    modified,\n    name,\n    scm_branch,\n    scm_clean,\n    scm_delete_on_update,\n    scm_refspec,\n    scm_type,\n    scm_update_on_launch,\n    scm_update_cache_timeout,\n    scm_url,\n    summary_fields,\n  } = project;\n  const history = useHistory();\n\n  const { request: deleteProject, isLoading, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await ProjectsAPI.destroy(id);\n      history.push(`/projects`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  let optionsList = '';\n  if (\n    scm_clean ||\n    scm_delete_on_update ||\n    scm_update_on_launch ||\n    allow_override\n  ) {\n    optionsList = (\n      <List>\n        {scm_clean && <ListItem>{i18n._(t`Clean`)}</ListItem>}\n        {scm_delete_on_update && (\n          <ListItem>{i18n._(t`Delete on Update`)}</ListItem>\n        )}\n        {scm_update_on_launch && (\n          <ListItem>{i18n._(t`Update Revision on Launch`)}</ListItem>\n        )}\n        {allow_override && (\n          <ListItem>{i18n._(t`Allow Branch Override`)}</ListItem>\n        )}\n      </List>\n    );\n  }\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail\n          label={i18n._(t`名称`)}\n          value={name}\n          dataCy=\"project-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        {summary_fields.organization && (\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        )}\n        <Detail\n          label={i18n._(t`Source Control Type`)}\n          value={\n            scm_type === '' ? i18n._(t`Manual`) : toTitleCase(project.scm_type)\n          }\n        />\n        <Detail label={i18n._(t`Source Control URL`)} value={scm_url} />\n        <Detail label={i18n._(t`Source Control Branch`)} value={scm_branch} />\n        <Detail label={i18n._(t`Source Control Refspec`)} value={scm_refspec} />\n        {summary_fields.credential && (\n          <Detail\n            label={i18n._(t`Source Control Credential`)}\n            value={\n              <CredentialChip\n                key={summary_fields.credential.id}\n                credential={summary_fields.credential}\n                isReadOnly\n              />\n            }\n          />\n        )}\n        {optionsList && (\n          <Detail label={i18n._(t`Options`)} value={optionsList} />\n        )}\n        <Detail\n          label={i18n._(t`Cache Timeout`)}\n          value={`${scm_update_cache_timeout} ${i18n._(t`Seconds`)}`}\n        />\n        <Detail\n          label={i18n._(t`Ansible Environment`)}\n          value={custom_virtualenv}\n        />\n        <Config>\n          {({ project_base_dir }) => (\n            <Detail\n              label={i18n._(t`Project Base Path`)}\n              value={project_base_dir}\n            />\n          )}\n        </Config>\n        <Detail label={i18n._(t`Playbook Directory`)} value={local_path} />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities?.edit && (\n          <Button\n            aria-label={i18n._(t`edit`)}\n            component={Link}\n            to={`/projects/${id}/edit`}\n          >\n            {i18n._(t`Edit`)}\n          </Button>\n        )}\n        {summary_fields.user_capabilities?.start && (\n          <ProjectSyncButton projectId={project.id} />\n        )}\n        {summary_fields.user_capabilities?.delete && (\n          <DeleteButton\n            name={name}\n            modalTitle={i18n._(t`Delete Project`)}\n            onConfirm={deleteProject}\n            isDisabled={isLoading}\n          >\n            {i18n._(t`删除`)}\n          </DeleteButton>\n        )}\n      </CardActionsRow>\n      {/* Update delete modal to show dependencies https://github.com/ansible/awx/issues/5546 */}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete project.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nProjectDetail.propTypes = {\n  project: Project.isRequired,\n};\n\nexport default withI18n()(ProjectDetail);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport ProjectForm from '../shared/ProjectForm';\nimport { ProjectsAPI } from '../../../api';\n\nfunction ProjectEdit({ project }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    if (values.scm_type === 'manual') {\n      values.scm_type = '';\n    }\n    if (!values.credential) {\n      // Depending on the permissions of the user submitting the form,\n      // the API might throw an unexpected error if our creation request\n      // has a zero-length string as its credential field. As a work-around,\n      // normalize falsey credential fields by deleting them.\n      delete values.credential;\n    }\n    try {\n      const {\n        data: { id },\n      } = await ProjectsAPI.update(project.id, {\n        ...values,\n        organization: values.organization.id,\n      });\n      history.push(`/projects/${id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/projects/${project.id}/details`);\n  };\n\n  return (\n    <Card>\n      <CardBody>\n        <ProjectForm\n          project={project}\n          handleCancel={handleCancel}\n          handleSubmit={handleSubmit}\n          submitError={formSubmitError}\n        />\n      </CardBody>\n    </Card>\n  );\n}\n\nexport default ProjectEdit;\n","import 'styled-components/macro';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  ExclamationTriangleIcon,\n  PencilAltIcon,\n  RocketIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport LaunchButton from '../../../components/LaunchButton';\nimport Sparkline from '../../../components/Sparkline';\nimport { toTitleCase } from '../../../util/strings';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(2, 40px);\n`;\n\nfunction ProjectJobTemplateListItem({\n  i18n,\n  template,\n  isSelected,\n  onSelect,\n  detailUrl,\n}) {\n  const labelId = `check-action-${template.id}`;\n  const canLaunch = template.summary_fields.user_capabilities.start;\n\n  const missingResourceIcon =\n    template.type === 'job_template' &&\n    (!template.summary_fields.project ||\n      (!template.summary_fields.inventory &&\n        !template.ask_inventory_on_launch));\n\n  return (\n    <DataListItem aria-labelledby={labelId} id={`${template.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-jobTemplate-${template.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"divider\">\n              <span>\n                <Link to={`${detailUrl}`}>\n                  <b>{template.name}</b>\n                </Link>\n              </span>\n              {missingResourceIcon && (\n                <span>\n                  <Tooltip\n                    content={i18n._(\n                      t`Resources are missing from this template.`\n                    )}\n                    position=\"right\"\n                  >\n                    <ExclamationTriangleIcon css=\"color: #c9190b; margin-left: 20px;\" />\n                  </Tooltip>\n                </span>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {toTitleCase(template.type)}\n            </DataListCell>,\n            <DataListCell key=\"sparkline\">\n              <Sparkline jobs={template.summary_fields.recent_jobs} />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {canLaunch && template.type === 'job_template' && (\n            <Tooltip content={i18n._(t`运行模板`)} position=\"top\">\n              <LaunchButton resource={template}>\n                {({ handleLaunch }) => (\n                  <Button\n                    css=\"grid-column: 1\"\n                    variant=\"plain\"\n                    onClick={handleLaunch}\n                  >\n                    <RocketIcon />\n                  </Button>\n                )}\n              </LaunchButton>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑模板`)} position=\"top\">\n              <Button\n                css=\"grid-column: 2\"\n                variant=\"plain\"\n                component={Link}\n                to={`/templates/${template.type}/${template.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport { ProjectJobTemplateListItem as _ProjectJobTemplateListItem };\nexport default withI18n()(ProjectJobTemplateListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card } from '@patternfly/react-core';\nimport { JobTemplatesAPI } from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useSelected from '../../../util/useSelected';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport ProjectTemplatesListItem from './ProjectJobTemplatesListItem';\n\nconst QS_CONFIG = getQSConfig('template', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction ProjectJobTemplatesList({ i18n }) {\n  const { id: projectId } = useParams();\n  const location = useLocation();\n\n  const {\n    result: {\n      jobTemplates,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      params.project = projectId;\n      const [response, actionsResponse] = await Promise.all([\n        JobTemplatesAPI.read(params),\n        JobTemplatesAPI.readOptions(),\n      ]);\n      return {\n        jobTemplates: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location, projectId]),\n    {\n      jobTemplates: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [fetchTemplates]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    jobTemplates\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTemplates,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(template => JobTemplatesAPI.destroy(template.id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTemplates,\n    }\n  );\n\n  const handleTemplateDelete = async () => {\n    await deleteTemplates();\n    setSelected([]);\n  };\n\n  const canAddJT =\n    actions && Object.prototype.hasOwnProperty.call(actions, 'POST');\n\n  const addButton = (\n    <ToolbarAddButton key=\"add\" linkTo=\"/templates/job_template/add/\" />\n  );\n\n  return (\n    <>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isDeleteLoading || isLoading}\n          items={jobTemplates}\n          itemCount={itemCount}\n          pluralizedItemName={i18n._(t`Job templates`)}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`清单`),\n              key: 'job_template__inventory__id',\n            },\n            {\n              name: i18n._(t`Last job run`),\n              key: 'last_job_run',\n            },\n            {\n              name: i18n._(t`更改`),\n              key: 'modified',\n            },\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n            {\n              name: i18n._(t`项目`),\n              key: 'jobtemplate__project__id',\n            },\n            {\n              name: i18n._(t`类型`),\n              key: 'type',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          renderToolbar={props => (\n            <DatalistToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={isSelected =>\n                setSelected(isSelected ? [...jobTemplates] : [])\n              }\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAddJT ? [addButton] : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleTemplateDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName={i18n._(t`Job templates`)}\n                />,\n              ]}\n            />\n          )}\n          renderItem={template => (\n            <ProjectTemplatesListItem\n              key={template.id}\n              value={template.name}\n              template={template}\n              detailUrl={`/templates/${template.type}/${template.id}/details`}\n              onSelect={() => handleSelect(template)}\n              isSelected={selected.some(row => row.id === template.id)}\n            />\n          )}\n          emptyStateControls={canAddJT && addButton}\n        />\n      </Card>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"danger\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more job templates.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </>\n  );\n}\n\nexport default withI18n()(ProjectJobTemplatesList);\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Switch,\n  Route,\n  withRouter,\n  Redirect,\n  Link,\n  useParams,\n  useLocation,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { useConfig } from '../../contexts/Config';\nimport useRequest from '../../util/useRequest';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport NotificationList from '../../components/NotificationList';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport { Schedules } from '../../components/Schedule';\nimport ProjectDetail from './ProjectDetail';\nimport ProjectEdit from './ProjectEdit';\nimport ProjectJobTemplatesList from './ProjectJobTemplatesList';\nimport { OrganizationsAPI, ProjectsAPI } from '../../api';\n\nfunction Project({ i18n, setBreadcrumb }) {\n  const { me = {} } = useConfig();\n  const { id } = useParams();\n  const location = useLocation();\n\n  const {\n    request: fetchProjectAndRoles,\n    result: { project, isNotifAdmin },\n    isLoading: hasContentLoading,\n    error: contentError,\n  } = useRequest(\n    useCallback(async () => {\n      const [{ data }, notifAdminRes] = await Promise.all([\n        ProjectsAPI.readDetail(id),\n        OrganizationsAPI.read({\n          page_size: 1,\n          role_level: 'notification_admin_role',\n        }),\n      ]);\n\n      if (data.summary_fields.credentials) {\n        const params = {\n          page: 1,\n          page_size: 200,\n          order_by: 'name',\n        };\n        const {\n          data: { results },\n        } = await ProjectsAPI.readCredentials(data.id, params);\n\n        data.summary_fields.credentials = results;\n      }\n      return {\n        project: data,\n        isNotifAdmin: notifAdminRes.data.results.length > 0,\n      };\n    }, [id]),\n    {\n      project: null,\n      notifAdminRes: null,\n    }\n  );\n\n  useEffect(() => {\n    fetchProjectAndRoles();\n  }, [fetchProjectAndRoles, location.pathname]);\n\n  useEffect(() => {\n    if (project) {\n      setBreadcrumb(project);\n    }\n  }, [project, setBreadcrumb]);\n\n  function createSchedule(data) {\n    return ProjectsAPI.createSchedule(project.id, data);\n  }\n\n  const loadScheduleOptions = useCallback(() => {\n    return ProjectsAPI.readScheduleOptions(project.id);\n  }, [project]);\n\n  const loadSchedules = useCallback(\n    params => {\n      return ProjectsAPI.readSchedules(project.id, params);\n    },\n    [project]\n  );\n\n  const canSeeNotificationsTab = me.is_system_auditor || isNotifAdmin;\n  const canToggleNotifications = isNotifAdmin;\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Projects`)}\n        </>\n      ),\n      link: `/projects`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `/projects/${id}/details` },\n    { name: i18n._(t`Access`), link: `/projects/${id}/access` },\n  ];\n\n  if (canSeeNotificationsTab) {\n    tabsArray.push({\n      name: i18n._(t`Notifications`),\n      link: `/projects/${id}/notifications`,\n    });\n  }\n\n  tabsArray.push({\n    name: i18n._(t`Job Templates`),\n    link: `/projects/${id}/job_templates`,\n  });\n\n  if (project?.scm_type) {\n    tabsArray.push({\n      name: i18n._(t`计划`),\n      link: `/projects/${id}/schedules`,\n    });\n  }\n\n  tabsArray.forEach((tab, n) => {\n    tab.id = n;\n  });\n\n  if (contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response.status === 404 && (\n              <span>\n                {i18n._(t`Project not found.`)}{' '}\n                <Link to=\"/projects\">{i18n._(t`View all Projects.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  const showCardHeader = !(\n    location.pathname.endsWith('edit') ||\n    location.pathname.includes('schedules/')\n  );\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        {hasContentLoading && <ContentLoading />}\n        {!hasContentLoading && project && (\n          <Switch>\n            <Redirect from=\"/projects/:id\" to=\"/projects/:id/details\" exact />\n            <Route path=\"/projects/:id/edit\">\n              <ProjectEdit project={project} />\n            </Route>\n            <Route path=\"/projects/:id/details\">\n              <ProjectDetail project={project} />\n            </Route>\n            <Route path=\"/projects/:id/access\">\n              <ResourceAccessList resource={project} apiModel={ProjectsAPI} />\n            </Route>\n            {canSeeNotificationsTab && (\n              <Route path=\"/projects/:id/notifications\">\n                <NotificationList\n                  id={Number(id)}\n                  canToggleNotifications={canToggleNotifications}\n                  apiModel={ProjectsAPI}\n                />\n              </Route>\n            )}\n            <Route path=\"/projects/:id/job_templates\">\n              <ProjectJobTemplatesList />\n            </Route>\n            {project?.scm_type && project.scm_type !== '' && (\n              <Route path=\"/projects/:id/schedules\">\n                <Schedules\n                  setBreadcrumb={setBreadcrumb}\n                  unifiedJobTemplate={project}\n                  createSchedule={createSchedule}\n                  loadSchedules={loadSchedules}\n                  loadScheduleOptions={loadScheduleOptions}\n                />\n              </Route>\n            )}\n            <Route key=\"not-found\" path=\"*\">\n              <ContentError isNotFound>\n                {id && (\n                  <Link to={`/projects/${id}/details`}>\n                    {i18n._(t`View Project Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            </Route>\n          </Switch>\n        )}\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(withRouter(Project));\nexport { Project as _Project };\n","import React, { useState, useCallback } from 'react';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\n\nimport ProjectsList from './ProjectList/ProjectList';\nimport ProjectAdd from './ProjectAdd/ProjectAdd';\nimport Project from './Project';\n\nfunction Projects({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/projects': i18n._(t`Projects`),\n    '/projects/add': i18n._(t`Create New Project`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    (project, nested) => {\n      if (!project) {\n        return;\n      }\n      const projectSchedulesPath = `/projects/${project.id}/schedules`;\n      setBreadcrumbConfig({\n        '/projects': i18n._(t`Projects`),\n        '/projects/add': i18n._(t`Create New Project`),\n        [`/projects/${project.id}`]: `${project.name}`,\n        [`/projects/${project.id}/edit`]: i18n._(t`Edit Details`),\n        [`/projects/${project.id}/details`]: i18n._(t`Details`),\n        [`/projects/${project.id}/access`]: i18n._(t`Access`),\n        [`/projects/${project.id}/notifications`]: i18n._(t`Notifications`),\n        [`/projects/${project.id}/job_templates`]: i18n._(t`Job Templates`),\n\n        [`${projectSchedulesPath}`]: i18n._(t`计划`),\n        [`${projectSchedulesPath}/add`]: i18n._(t`Create New Schedule`),\n        [`${projectSchedulesPath}/${nested?.id}`]: `${nested?.name}`,\n        [`${projectSchedulesPath}/${nested?.id}/details`]: i18n._(\n          t`Schedule Details`\n        ),\n        [`${projectSchedulesPath}/${nested?.id}/edit`]: i18n._(t`Edit Details`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader streamType=\"project\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path=\"/projects/add\">\n          <ProjectAdd />\n        </Route>\n        <Route path=\"/projects/:id\">\n          <Project setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/projects\">\n          <ProjectsList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Projects as _Projects };\nexport default withI18n()(withRouter(Projects));\n","import React, { useCallback } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport { ScheduleList } from '../../components/Schedule';\nimport { SchedulesAPI } from '../../api';\n\nfunction AllSchedules({ i18n }) {\n  const loadScheduleOptions = useCallback(() => {\n    return SchedulesAPI.readOptions();\n  }, []);\n\n  const loadSchedules = useCallback(params => {\n    return SchedulesAPI.read(params);\n  }, []);\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"schedule\"\n        breadcrumbConfig={{\n          '/schedules': i18n._(t`计划`),\n        }}\n      />\n      <Switch>\n        <Route path=\"/schedules\">\n          <PageSection>\n            <Card>\n              <ScheduleList\n                loadSchedules={loadSchedules}\n                loadScheduleOptions={loadScheduleOptions}\n                hideAddButton\n              />\n            </Card>\n          </PageSection>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(AllSchedules);\n","import React, { useContext } from 'react';\n\nexport const SettingsContext = React.createContext({});\nexport const SettingsProvider = SettingsContext.Provider;\n\nexport const useSettings = () => useContext(SettingsContext);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport {\n  Alert,\n  AlertActionCloseButton,\n  AlertGroup,\n} from '@patternfly/react-core';\n\nfunction LoggingTestAlert({ i18n, successResponse, errorResponse, onClose }) {\n  let testMessage = null;\n  if (successResponse) {\n    testMessage = i18n._(t`Log aggregator test sent successfully.`);\n  }\n\n  let errorData = null;\n  if (errorResponse) {\n    testMessage = i18n._(t`There was an error testing the log aggregator.`);\n    if (\n      errorResponse?.response?.statusText &&\n      errorResponse?.response?.status\n    ) {\n      testMessage = i18n._(\n        t`${errorResponse.response.statusText}: ${errorResponse.response.status}`\n      );\n      errorData = i18n._(t`${errorResponse.response?.data?.error}`);\n    }\n  }\n\n  return (\n    <AlertGroup isToast>\n      {testMessage && (\n        <Alert\n          actionClose={<AlertActionCloseButton onClose={onClose} />}\n          ouiaId=\"logging-test-alert\"\n          title={successResponse ? i18n._(t`Success`) : i18n._(t`Error`)}\n          variant={successResponse ? 'success' : 'danger'}\n        >\n          <b id=\"test-message\">{testMessage}</b>\n          <p id=\"test-error\">{errorData}</p>\n        </Alert>\n      )}\n    </AlertGroup>\n  );\n}\n\nLoggingTestAlert.propTypes = {\n  successResponse: shape({}),\n  errorResponse: shape({}),\n  onClose: func,\n};\n\nLoggingTestAlert.defaultProps = {\n  successResponse: null,\n  errorResponse: null,\n  onClose: () => {},\n};\n\nexport default withI18n()(LoggingTestAlert);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Detail } from '../../../components/DetailList';\nimport CodeDetail from '../../../components/DetailList/CodeDetail';\n\nexport default withI18n()(\n  ({ i18n, helpText, id, label, type, unit = '', value }) => {\n    const dataType = value === '$encrypted$' ? 'encrypted' : type;\n    let detail = null;\n\n    switch (dataType) {\n      case 'nested object':\n        detail = (\n          <CodeDetail\n            dataCy={id}\n            helpText={helpText}\n            label={label}\n            mode=\"javascript\"\n            rows={4}\n            value={JSON.stringify(value || {}, undefined, 2)}\n          />\n        );\n        break;\n      case 'list':\n        detail = (\n          <CodeDetail\n            dataCy={id}\n            helpText={helpText}\n            label={label}\n            mode=\"javascript\"\n            rows={4}\n            value={JSON.stringify(value || [], undefined, 2)}\n          />\n        );\n        break;\n      case 'image':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            isNotConfigured={!value}\n            label={label}\n            value={\n              !value ? (\n                i18n._(t`Not configured`)\n              ) : (\n                <img src={value} alt={label} height=\"40\" width=\"40\" />\n              )\n            }\n          />\n        );\n        break;\n      case 'encrypted':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            isEncrypted\n            label={label}\n            value={i18n._(t`Encrypted`)}\n          />\n        );\n        break;\n      case 'boolean':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            label={label}\n            value={value ? i18n._(t`On`) : i18n._(t`Off`)}\n          />\n        );\n        break;\n      case 'choice':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            isNotConfigured={!value}\n            label={label}\n            value={!value ? i18n._(t`Not configured`) : value}\n          />\n        );\n        break;\n      case 'integer':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            label={label}\n            value={unit ? `${value} ${unit}` : `${value}`}\n          />\n        );\n        break;\n      case 'string':\n        detail = (\n          <Detail\n            alwaysVisible\n            dataCy={id}\n            helpText={helpText}\n            isNotConfigured={!value}\n            label={label}\n            value={!value ? i18n._(t`Not configured`) : value}\n          />\n        );\n        break;\n      default:\n        detail = null;\n    }\n    return detail;\n  }\n);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\n\nfunction RevertAllAlert({ i18n, onClose, onRevertAll }) {\n  return (\n    <AlertModal\n      isOpen\n      title={i18n._(t`Revert settings`)}\n      variant=\"info\"\n      onClose={onClose}\n      ouiaId=\"revert-all-modal\"\n      actions={[\n        <Button\n          key=\"revert\"\n          variant=\"primary\"\n          aria-label={i18n._(t`Confirm revert all`)}\n          onClick={onRevertAll}\n          ouiaId=\"confirm-revert-all-button\"\n        >\n          {i18n._(t`Revert all`)}\n        </Button>,\n        <Button\n          key=\"cancel\"\n          variant=\"secondary\"\n          aria-label={i18n._(t`Cancel revert`)}\n          onClick={onClose}\n          ouiaId=\"cancel-revert-all-button\"\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      {i18n._(t`This will revert all configuration values on this page to\n      their factory defaults. Are you sure you want to proceed?`)}\n    </AlertModal>\n  );\n}\n\nexport default withI18n()(RevertAllAlert);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { ActionGroup, Button } from '@patternfly/react-core';\nimport { FormFullWidthLayout } from '../../../components/FormLayout';\n\nconst RevertFormActionGroup = ({\n  children,\n  onCancel,\n  onRevert,\n  onSubmit,\n  i18n,\n}) => {\n  return (\n    <FormFullWidthLayout>\n      <ActionGroup>\n        <Button\n          aria-label={i18n._(t`Save`)}\n          variant=\"primary\"\n          type=\"button\"\n          onClick={onSubmit}\n          ouiaId=\"save-button\"\n        >\n          {i18n._(t`Save`)}\n        </Button>\n        <Button\n          aria-label={i18n._(t`Revert all to default`)}\n          variant=\"secondary\"\n          type=\"button\"\n          onClick={onRevert}\n          ouiaId=\"revert-all-button\"\n        >\n          {i18n._(t`Revert all to default`)}\n        </Button>\n        {children}\n        <Button\n          aria-label={i18n._(t`取消`)}\n          variant=\"secondary\"\n          type=\"button\"\n          onClick={onCancel}\n          ouiaId=\"cancel-button\"\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </ActionGroup>\n    </FormFullWidthLayout>\n  );\n};\n\nRevertFormActionGroup.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  onRevert: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default withI18n()(RevertFormActionGroup);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport { Button, Tooltip } from '@patternfly/react-core';\nimport styled from 'styled-components';\n\nconst ButtonWrapper = styled.div`\n  margin-left: auto;\n  &&& {\n    --pf-c-button--FontSize: var(--pf-c-button--m-small--FontSize);\n  }\n`;\n\nfunction RevertButton({ i18n, id, defaultValue, isDisabled = false }) {\n  const [field, meta, helpers] = useField(id);\n  const initialValue = meta.initialValue ?? '';\n  const currentValue = field.value;\n  let isRevertable = true;\n  let isMatch = false;\n\n  if (currentValue === defaultValue && currentValue !== initialValue) {\n    isRevertable = false;\n  }\n\n  if (currentValue === defaultValue && currentValue === initialValue) {\n    isMatch = true;\n  }\n\n  function handleConfirm() {\n    helpers.setValue(isRevertable ? defaultValue : initialValue);\n  }\n\n  const revertTooltipContent = isRevertable\n    ? i18n._(t`Revert to factory default.`)\n    : i18n._(t`Restore initial value.`);\n  const tooltipContent =\n    isDisabled || isMatch\n      ? i18n._(t`Setting matches factory default.`)\n      : revertTooltipContent;\n\n  return (\n    <Tooltip entryDelay={700} content={tooltipContent}>\n      <ButtonWrapper>\n        <Button\n          aria-label={isRevertable ? i18n._(t`Revert`) : i18n._(t`Undo`)}\n          ouiaId={`${id}-revert`}\n          isInline\n          isSmall\n          onClick={handleConfirm}\n          type=\"button\"\n          variant=\"link\"\n          isDisabled={isDisabled || isMatch}\n        >\n          {isRevertable ? i18n._(t`Revert`) : i18n._(t`Undo`)}\n        </Button>\n      </ButtonWrapper>\n    </Tooltip>\n  );\n}\n\nRevertButton.propTypes = {\n  id: PropTypes.string.isRequired,\n};\n\nexport default withI18n()(RevertButton);\n","import React from 'react';\nimport { bool, oneOf, shape, string } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport {\n  FormGroup as PFFormGroup,\n  InputGroup,\n  TextInput,\n  Switch,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport CodeMirrorInput from '../../../components/CodeMirrorInput';\nimport { PasswordInput } from '../../../components/FormField';\nimport { FormFullWidthLayout } from '../../../components/FormLayout';\nimport Popover from '../../../components/Popover';\nimport {\n  combine,\n  integer,\n  minMaxValue,\n  required,\n  url,\n} from '../../../util/validators';\nimport RevertButton from './RevertButton';\n\nconst FormGroup = styled(PFFormGroup)`\n  .pf-c-form__group-label {\n    display: inline-flex;\n    align-items: center;\n    width: 100%;\n  }\n`;\n\nconst SettingGroup = withI18n()(\n  ({\n    i18n,\n    children,\n    defaultValue,\n    fieldId,\n    helperTextInvalid,\n    isDisabled,\n    isRequired,\n    label,\n    popoverContent,\n    validated,\n  }) => (\n    <FormGroup\n      fieldId={fieldId}\n      helperTextInvalid={helperTextInvalid}\n      id={`${fieldId}-field`}\n      isRequired={isRequired}\n      label={label}\n      validated={validated}\n      labelIcon={\n        <>\n          <Popover\n            content={popoverContent}\n            ariaLabel={`${i18n._(t`More information for`)} ${label}`}\n          />\n          <RevertButton\n            id={fieldId}\n            defaultValue={defaultValue}\n            isDisabled={isDisabled}\n          />\n        </>\n      }\n    >\n      {children}\n    </FormGroup>\n  )\n);\n\nconst BooleanField = withI18n()(\n  ({ i18n, ariaLabel = '', name, config, disabled = false }) => {\n    const [field, meta, helpers] = useField(name);\n    return config ? (\n      <SettingGroup\n        defaultValue={config.default ?? false}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isDisabled={disabled}\n        label={config.label}\n        popoverContent={config.help_text}\n      >\n        <Switch\n          id={name}\n          ouiaId={name}\n          isChecked={field.value}\n          isDisabled={disabled}\n          label={i18n._(t`On`)}\n          labelOff={i18n._(t`Off`)}\n          onChange={checked => helpers.setValue(checked)}\n          aria-label={ariaLabel || config.label}\n        />\n      </SettingGroup>\n    ) : null;\n  }\n);\nBooleanField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n  ariaLabel: string,\n  disabled: bool,\n};\n\nconst ChoiceField = withI18n()(({ i18n, name, config, isRequired = false }) => {\n  const validate = isRequired ? required(null, i18n) : null;\n  const [field, meta] = useField({ name, validate });\n  const isValid = !meta.error || !meta.touched;\n\n  return config ? (\n    <SettingGroup\n      defaultValue={config.default ?? ''}\n      fieldId={name}\n      helperTextInvalid={meta.error}\n      isRequired={isRequired}\n      label={config.label}\n      popoverContent={config.help_text}\n      validated={isValid ? 'default' : 'error'}\n    >\n      <AnsibleSelect\n        id={name}\n        {...field}\n        data={[\n          ...config.choices.map(([value, label], index) => ({\n            label,\n            value: value ?? '',\n            key: value ?? index,\n          })),\n        ]}\n      />\n    </SettingGroup>\n  ) : null;\n});\nChoiceField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n  isRequired: bool,\n};\n\nconst EncryptedField = withI18n()(\n  ({ i18n, name, config, isRequired = false }) => {\n    const validate = isRequired ? required(null, i18n) : null;\n    const [, meta] = useField({ name, validate });\n    const isValid = !(meta.touched && meta.error);\n\n    return config ? (\n      <SettingGroup\n        defaultValue={config.default ?? ''}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isRequired={isRequired}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <InputGroup>\n          <PasswordInput\n            id={name}\n            name={name}\n            label={config.label}\n            validate={validate}\n            isRequired={isRequired}\n          />\n        </InputGroup>\n      </SettingGroup>\n    ) : null;\n  }\n);\nEncryptedField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n  isRequired: bool,\n};\n\nconst InputField = withI18n()(\n  ({ i18n, name, config, type = 'text', isRequired = false }) => {\n    const min_value = config?.min_value ?? Number.MIN_SAFE_INTEGER;\n    const max_value = config?.max_value ?? Number.MAX_SAFE_INTEGER;\n    const validators = [\n      ...(isRequired ? [required(null, i18n)] : []),\n      ...(type === 'url' ? [url(i18n)] : []),\n      ...(type === 'number'\n        ? [integer(i18n), minMaxValue(min_value, max_value, i18n)]\n        : []),\n    ];\n    const [field, meta] = useField({ name, validate: combine(validators) });\n    const isValid = !(meta.touched && meta.error);\n\n    return config ? (\n      <SettingGroup\n        defaultValue={config.default || ''}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isRequired={isRequired}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <TextInput\n          id={name}\n          isRequired={isRequired}\n          placeholder={config.placeholder}\n          validated={isValid ? 'default' : 'error'}\n          value={field.value}\n          onBlur={field.onBlur}\n          onChange={(value, event) => {\n            field.onChange(event);\n          }}\n        />\n      </SettingGroup>\n    ) : null;\n  }\n);\nInputField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n  type: oneOf(['text', 'number', 'url']),\n  isRequired: bool,\n};\n\nconst ObjectField = withI18n()(({ i18n, name, config, isRequired = false }) => {\n  const validate = isRequired ? required(null, i18n) : null;\n  const [field, meta, helpers] = useField({ name, validate });\n  const isValid = !(meta.touched && meta.error);\n\n  const emptyDefault = config?.type === 'list' ? '[]' : '{}';\n  const defaultRevertValue = config?.default\n    ? JSON.stringify(config.default, null, 2)\n    : emptyDefault;\n\n  return config ? (\n    <FormFullWidthLayout>\n      <SettingGroup\n        defaultValue={defaultRevertValue}\n        fieldId={name}\n        helperTextInvalid={meta.error}\n        isRequired={isRequired}\n        label={config.label}\n        popoverContent={config.help_text}\n        validated={isValid ? 'default' : 'error'}\n      >\n        <CodeMirrorInput\n          {...field}\n          fullHeight\n          id={name}\n          mode=\"javascript\"\n          onChange={value => {\n            helpers.setValue(value);\n          }}\n          placeholder={JSON.stringify(config?.placeholder, null, 2)}\n        />\n      </SettingGroup>\n    </FormFullWidthLayout>\n  ) : null;\n});\nObjectField.propTypes = {\n  name: string.isRequired,\n  config: shape({}).isRequired,\n  isRequired: bool,\n};\n\nexport { BooleanField, ChoiceField, EncryptedField, InputField, ObjectField };\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport useRequest from '../../../../util/useRequest';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingsAPI } from '../../../../api';\nimport { SettingDetail } from '../../shared';\n\nfunction ActivityStreamDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: activityStream } = useRequest(\n    useCallback(async () => {\n      const {\n        data: {\n          ACTIVITY_STREAM_ENABLED,\n          ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC,\n        },\n      } = await SettingsAPI.readCategory('system');\n      return {\n        ACTIVITY_STREAM_ENABLED,\n        ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC,\n      };\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/activity_stream/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && activityStream && (\n          <DetailList>\n            {Object.keys(activityStream).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={activityStream?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/activity_stream/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(ActivityStreamDetail);\n","import { useState } from 'react';\n\n/**\n * useModal hook provides a way to read and update modal visibility\n * Param: boolean that sets initial modal state\n * Returns: {\n *  isModalOpen: boolean that indicates if modal is open\n *  toggleModal: function that toggles the modal open and close\n *  closeModal: function that closes modal\n * }\n */\n\nexport default function useModal(isOpen = false) {\n  const [isModalOpen, setIsModalOpen] = useState(isOpen);\n\n  function toggleModal() {\n    setIsModalOpen(!isModalOpen);\n  }\n\n  function closeModal() {\n    setIsModalOpen(false);\n  }\n\n  return {\n    isModalOpen,\n    toggleModal,\n    closeModal,\n  };\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport {\n  BooleanField,\n  RevertAllAlert,\n  RevertFormActionGroup,\n} from '../../shared';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction ActivityStreamEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const {\n    isLoading,\n    error,\n    request,\n    result: {\n      ACTIVITY_STREAM_ENABLED,\n      ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('system');\n      return {\n        ACTIVITY_STREAM_ENABLED: {\n          ...options.ACTIVITY_STREAM_ENABLED,\n          value: data.ACTIVITY_STREAM_ENABLED,\n        },\n        ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC: {\n          ...options.ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC,\n          value: data.ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC,\n        },\n      };\n    }, [options]),\n    {}\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/activity_stream/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm(form);\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/activity_stream/details');\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = {\n      ACTIVITY_STREAM_ENABLED: ACTIVITY_STREAM_ENABLED.default,\n      ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC:\n        ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC.default,\n    };\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && ACTIVITY_STREAM_ENABLED && (\n        <Formik\n          initialValues={{\n            ACTIVITY_STREAM_ENABLED: ACTIVITY_STREAM_ENABLED.value,\n            ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC:\n              ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC.value,\n          }}\n          onSubmit={handleSubmit}\n        >\n          {formik => {\n            return (\n              <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n                <FormColumnLayout>\n                  <BooleanField\n                    name=\"ACTIVITY_STREAM_ENABLED\"\n                    config={ACTIVITY_STREAM_ENABLED}\n                  />\n                  <BooleanField\n                    name=\"ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC\"\n                    config={ACTIVITY_STREAM_ENABLED_FOR_INVENTORY_SYNC}\n                  />\n                  {submitError && <FormSubmitError error={submitError} />}\n                </FormColumnLayout>\n                <RevertFormActionGroup\n                  onCancel={handleCancel}\n                  onSubmit={formik.handleSubmit}\n                  onRevert={toggleModal}\n                />\n                {isModalOpen && (\n                  <RevertAllAlert\n                    onClose={closeModal}\n                    onRevertAll={handleRevertAll}\n                  />\n                )}\n              </Form>\n            );\n          }}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default ActivityStreamEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport { useConfig } from '../../../contexts/Config';\nimport ActivityStreamDetail from './ActivityStreamDetail';\nimport ActivityStreamEdit from './ActivityStreamEdit';\n\nfunction ActivityStream({ i18n }) {\n  const baseURL = '/settings/activity_stream';\n  const { me } = useConfig();\n\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <ActivityStreamDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            {me?.is_superuser ? (\n              <ActivityStreamEdit />\n            ) : (\n              <Redirect to={`${baseURL}/details`} />\n            )}\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Activity Stream settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(ActivityStream);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\nimport { SettingDetail } from '../../shared';\n\nfunction AzureADDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: azure } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('azuread-oauth2');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/azure/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && azure && (\n          <DetailList>\n            {Object.keys(azure).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={azure?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/azure/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(AzureADDetail);\n","import { isJsonString } from '../../../util/yaml';\n\nexport function sortNestedDetails(obj = {}) {\n  const nestedTypes = ['nested object', 'list', 'boolean'];\n  const notNested = Object.entries(obj).filter(\n    ([, value]) => !nestedTypes.includes(value.type)\n  );\n  const booleanList = Object.entries(obj).filter(\n    ([, value]) => value.type === 'boolean'\n  );\n  const nestedList = Object.entries(obj).filter(\n    ([, value]) => value.type === 'list'\n  );\n  const nestedObject = Object.entries(obj).filter(\n    ([, value]) => value.type === 'nested object'\n  );\n  return [...notNested, ...booleanList, ...nestedList, ...nestedObject];\n}\n\nexport function pluck(sourceObject, ...keys) {\n  return Object.assign({}, ...keys.map(key => ({ [key]: sourceObject[key] })));\n}\n\nexport function formatJson(jsonString) {\n  if (!jsonString) {\n    return null;\n  }\n  return isJsonString(jsonString) ? JSON.parse(jsonString) : jsonString;\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction AzureADEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchAzureAD, result: azure } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('azuread-oauth2');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchAzureAD();\n  }, [fetchAzureAD]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/azure/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP: formatJson(\n        form.SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP\n      ),\n      SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP: formatJson(\n        form.SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP\n      ),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(azure).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/azure/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && azure && (\n        <Formik initialValues={initialValues(azure)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"SOCIAL_AUTH_AZUREAD_OAUTH2_KEY\"\n                  config={azure.SOCIAL_AUTH_AZUREAD_OAUTH2_KEY}\n                />\n                <EncryptedField\n                  name=\"SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET\"\n                  config={azure.SOCIAL_AUTH_AZUREAD_OAUTH2_SECRET}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP\"\n                  config={azure.SOCIAL_AUTH_AZUREAD_OAUTH2_ORGANIZATION_MAP}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP\"\n                  config={azure.SOCIAL_AUTH_AZUREAD_OAUTH2_TEAM_MAP}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default AzureADEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport AzureADDetail from './AzureADDetail';\nimport AzureADEdit from './AzureADEdit';\n\nfunction AzureAD({ i18n }) {\n  const baseURL = '/settings/azure';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <AzureADDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <AzureADEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Azure AD settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(AzureAD);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link, Redirect, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\nimport { SettingDetail } from '../../shared';\n\nfunction GitHubDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const baseURL = '/settings/github';\n  const {\n    path,\n    params: { category },\n  } = useRouteMatch(`${baseURL}/:category/details`);\n\n  const { isLoading, error, request, result: gitHubDetails } = useRequest(\n    useCallback(async () => {\n      const [\n        { data: gitHubDefault },\n        { data: gitHubOrganization },\n        { data: gitHubTeam },\n      ] = await Promise.all([\n        SettingsAPI.readCategory('github'),\n        SettingsAPI.readCategory('github-org'),\n        SettingsAPI.readCategory('github-team'),\n      ]);\n      return {\n        default: gitHubDefault,\n        organization: gitHubOrganization,\n        team: gitHubTeam,\n      };\n    }, []),\n    {\n      default: null,\n      organization: null,\n      team: null,\n    }\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`GitHub Default`),\n      link: `${baseURL}/default/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`GitHub Organization`),\n      link: `${baseURL}/organization/details`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`GitHub Team`),\n      link: `${baseURL}/team/details`,\n      id: 2,\n    },\n  ];\n\n  if (!Object.keys(gitHubDetails).includes(category)) {\n    return <Redirect from={path} to={`${baseURL}/default/details`} exact />;\n  }\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && !Object.values(gitHubDetails)?.includes(null) && (\n          <DetailList>\n            {Object.keys(gitHubDetails[category]).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={gitHubDetails[category][key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to={`${baseURL}/${category}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(GitHubDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction GitHubEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchGithub, result: github } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('github');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchGithub();\n  }, [fetchGithub]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/github/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP: formatJson(\n        form.SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP\n      ),\n      SOCIAL_AUTH_GITHUB_TEAM_MAP: formatJson(form.SOCIAL_AUTH_GITHUB_TEAM_MAP),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(github).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/github/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && github && (\n        <Formik initialValues={initialValues(github)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"SOCIAL_AUTH_GITHUB_KEY\"\n                  config={github.SOCIAL_AUTH_GITHUB_KEY}\n                />\n                <EncryptedField\n                  name=\"SOCIAL_AUTH_GITHUB_SECRET\"\n                  config={github.SOCIAL_AUTH_GITHUB_SECRET}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORGANIZATION_MAP}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_MAP}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default GitHubEdit;\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction GitHubOrgEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchGithub, result: github } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('github-org');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchGithub();\n  }, [fetchGithub]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/github/organization/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP: formatJson(\n        form.SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP\n      ),\n      SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP: formatJson(\n        form.SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP\n      ),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(github).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/github/organization/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && github && (\n        <Formik initialValues={initialValues(github)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"SOCIAL_AUTH_GITHUB_ORG_KEY\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORG_KEY}\n                />\n                <EncryptedField\n                  name=\"SOCIAL_AUTH_GITHUB_ORG_SECRET\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORG_SECRET}\n                />\n                <InputField\n                  name=\"SOCIAL_AUTH_GITHUB_ORG_NAME\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORG_NAME}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORG_ORGANIZATION_MAP}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_ORG_TEAM_MAP}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default GitHubOrgEdit;\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction GitHubTeamEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchGithub, result: github } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('github-team');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchGithub();\n  }, [fetchGithub]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/github/team/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP: formatJson(\n        form.SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP\n      ),\n      SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP: formatJson(\n        form.SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP\n      ),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(github).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/github/team/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && github && (\n        <Formik initialValues={initialValues(github)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_KEY\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_KEY}\n                />\n                <EncryptedField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_SECRET\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_SECRET}\n                />\n                <InputField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_ID\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_ID}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_ORGANIZATION_MAP}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP\"\n                  config={github.SOCIAL_AUTH_GITHUB_TEAM_TEAM_MAP}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default GitHubTeamEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport GitHubDetail from './GitHubDetail';\nimport GitHubEdit from './GitHubEdit';\nimport GitHubOrgEdit from './GitHubOrgEdit';\nimport GitHubTeamEdit from './GitHubTeamEdit';\n\nfunction GitHub({ i18n }) {\n  const baseURL = '/settings/github';\n  const baseRoute = useRouteMatch({ path: '/settings/github', exact: true });\n  const categoryRoute = useRouteMatch({\n    path: '/settings/github/:category',\n    exact: true,\n  });\n\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          {baseRoute && <Redirect to={`${baseURL}/default/details`} exact />}\n          {categoryRoute && (\n            <Redirect\n              to={`${baseURL}/${categoryRoute.params.category}/details`}\n              exact\n            />\n          )}\n          <Route path={`${baseURL}/:category/details`}>\n            <GitHubDetail />\n          </Route>\n          <Route path={`${baseURL}/default/edit`}>\n            <GitHubEdit />\n          </Route>\n          <Route path={`${baseURL}/organization/edit`}>\n            <GitHubOrgEdit />\n          </Route>\n          <Route path={`${baseURL}/team/edit`}>\n            <GitHubTeamEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/default/details`}>\n                {i18n._(t`View GitHub Settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(GitHub);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\n\nfunction GoogleOAuth2Detail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: googleOAuth2 } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('google-oauth2');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/google_oauth2/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && googleOAuth2 && (\n          <DetailList>\n            {Object.keys(googleOAuth2).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={googleOAuth2?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/google_oauth2/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(GoogleOAuth2Detail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction GoogleOAuth2Edit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const {\n    isLoading,\n    error,\n    request: fetchGoogleOAuth2,\n    result: googleOAuth2,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('google-oauth2');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchGoogleOAuth2();\n  }, [fetchGoogleOAuth2]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/google_oauth2/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS: formatJson(\n        form.SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS\n      ),\n      SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS: formatJson(\n        form.SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS\n      ),\n      SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP: formatJson(\n        form.SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP\n      ),\n      SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP: formatJson(\n        form.SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP\n      ),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(googleOAuth2).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/google_oauth2/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && googleOAuth2 && (\n        <Formik\n          initialValues={initialValues(googleOAuth2)}\n          onSubmit={handleSubmit}\n        >\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_KEY\"\n                  config={googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_KEY}\n                />\n                <EncryptedField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET\"\n                  config={googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_SECRET}\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS\"\n                  config={\n                    googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_WHITELISTED_DOMAINS\n                  }\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS\"\n                  config={\n                    googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_AUTH_EXTRA_ARGUMENTS\n                  }\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP\"\n                  config={\n                    googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_ORGANIZATION_MAP\n                  }\n                />\n                <ObjectField\n                  name=\"SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP\"\n                  config={googleOAuth2.SOCIAL_AUTH_GOOGLE_OAUTH2_TEAM_MAP}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default GoogleOAuth2Edit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport GoogleOAuth2Detail from './GoogleOAuth2Detail';\nimport GoogleOAuth2Edit from './GoogleOAuth2Edit';\n\nfunction GoogleOAuth2({ i18n }) {\n  const baseURL = '/settings/google_oauth2';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <GoogleOAuth2Detail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <GoogleOAuth2Edit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Google OAuth 2.0 settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(GoogleOAuth2);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport useRequest from '../../../../util/useRequest';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingsAPI } from '../../../../api';\nimport { sortNestedDetails } from '../../shared/settingUtils';\nimport { SettingDetail } from '../../shared';\n\nfunction JobsDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: jobs } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('jobs');\n\n      const {\n        ALLOW_JINJA_IN_EXTRA_VARS,\n        AWX_ISOLATED_KEY_GENERATION,\n        AWX_ISOLATED_PRIVATE_KEY,\n        AWX_ISOLATED_PUBLIC_KEY,\n        STDOUT_MAX_BYTES_DISPLAY,\n        EVENT_STDOUT_MAX_BYTES_DISPLAY,\n        ...jobsData\n      } = data;\n\n      const mergedData = {};\n      Object.keys(jobsData).forEach(key => {\n        mergedData[key] = options[key];\n        mergedData[key].value = jobsData[key];\n      });\n\n      return sortNestedDetails(mergedData);\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/jobs/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && jobs && (\n          <DetailList>\n            {jobs.map(([key, detail]) => {\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={detail?.help_text}\n                  label={detail?.label}\n                  type={detail?.type}\n                  unit={detail?.unit}\n                  value={detail?.value}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/jobs/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(JobsDetail);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\n\nfunction JobsEdit({ i18n }) {\n  return (\n    <CardBody>\n      {i18n._(t`Edit form coming soon :)`)}\n      <CardActionsRow>\n        <Button\n          aria-label={i18n._(t`取消`)}\n          component={Link}\n          to=\"/settings/jobs/details\"\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </CardActionsRow>\n    </CardBody>\n  );\n}\n\nexport default withI18n()(JobsEdit);\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport JobsDetail from './JobsDetail';\nimport JobsEdit from './JobsEdit';\n\nfunction Jobs({ i18n }) {\n  const baseURL = '/settings/jobs';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <JobsDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <JobsEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Jobs settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(Jobs);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link, Redirect, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\nimport { sortNestedDetails } from '../../shared/settingUtils';\n\nfunction filterByPrefix(data, prefix) {\n  return Object.keys(data)\n    .filter(key => key.includes(prefix))\n    .reduce((obj, key) => {\n      obj[key] = data[key];\n      return obj;\n    }, {});\n}\n\nfunction LDAPDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n  const {\n    path,\n    params: { category },\n  } = useRouteMatch('/settings/ldap/:category/details');\n\n  const { isLoading, error, request, result: LDAPDetails } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('ldap');\n\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (key.includes('_CONNECTION_OPTIONS')) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n\n      const ldap1 = filterByPrefix(mergedData, 'AUTH_LDAP_1_');\n      const ldap2 = filterByPrefix(mergedData, 'AUTH_LDAP_2_');\n      const ldap3 = filterByPrefix(mergedData, 'AUTH_LDAP_3_');\n      const ldap4 = filterByPrefix(mergedData, 'AUTH_LDAP_4_');\n      const ldap5 = filterByPrefix(mergedData, 'AUTH_LDAP_5_');\n      const ldapDefault = Object.assign({}, mergedData);\n      Object.keys({ ...ldap1, ...ldap2, ...ldap3, ...ldap4, ...ldap5 }).forEach(\n        keyToOmit => {\n          delete ldapDefault[keyToOmit];\n        }\n      );\n\n      return {\n        default: sortNestedDetails(ldapDefault),\n        1: sortNestedDetails(ldap1),\n        2: sortNestedDetails(ldap2),\n        3: sortNestedDetails(ldap3),\n        4: sortNestedDetails(ldap4),\n        5: sortNestedDetails(ldap5),\n      };\n    }, [options]),\n    {\n      default: null,\n      1: null,\n      2: null,\n      3: null,\n      4: null,\n      5: null,\n    }\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const baseURL = '/settings/ldap';\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Default`),\n      link: `${baseURL}/default/details`,\n      id: 0,\n    },\n    {\n      name: i18n._(t`LDAP1`),\n      link: `${baseURL}/1/details`,\n      id: 1,\n    },\n    {\n      name: i18n._(t`LDAP2`),\n      link: `${baseURL}/2/details`,\n      id: 2,\n    },\n    {\n      name: i18n._(t`LDAP3`),\n      link: `${baseURL}/3/details`,\n      id: 3,\n    },\n    {\n      name: i18n._(t`LDAP4`),\n      link: `${baseURL}/4/details`,\n      id: 4,\n    },\n    {\n      name: i18n._(t`LDAP5`),\n      link: `${baseURL}/5/details`,\n      id: 5,\n    },\n  ];\n\n  if (!Object.keys(LDAPDetails).includes(category)) {\n    return <Redirect from={path} to={`${baseURL}/default/details`} exact />;\n  }\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        <>\n          {isLoading && <ContentLoading />}\n          {!isLoading && error && <ContentError error={error} />}\n          {!isLoading && !Object.values(LDAPDetails)?.includes(null) && (\n            <DetailList>\n              {LDAPDetails[category].map(([key, detail]) => {\n                return (\n                  <SettingDetail\n                    key={key}\n                    id={key}\n                    helpText={detail?.help_text}\n                    label={detail?.label}\n                    type={detail?.type}\n                    unit={detail?.unit}\n                    value={detail?.value}\n                  />\n                );\n              })}\n            </DetailList>\n          )}\n        </>\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to={`${baseURL}/${category}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(LDAPDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n} from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  BooleanField,\n  ChoiceField,\n  EncryptedField,\n  InputField,\n  ObjectField,\n} from '../../shared/SharedFields';\nimport { formatJson } from '../../shared/settingUtils';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction filterByPrefix(data, prefix) {\n  return Object.keys(data)\n    .filter(key => key.includes(prefix))\n    .reduce((obj, key) => {\n      obj[key] = data[key];\n      return obj;\n    }, {});\n}\n\nfunction LDAPEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n  const {\n    params: { category },\n  } = useRouteMatch('/settings/ldap/:category/edit');\n  const ldapCategory =\n    category === 'default' ? 'AUTH_LDAP_' : `AUTH_LDAP_${category}_`;\n\n  const { isLoading, error, request: fetchLDAP, result: ldap } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('ldap');\n\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n\n      const allCategories = {\n        AUTH_LDAP_1_: filterByPrefix(mergedData, 'AUTH_LDAP_1_'),\n        AUTH_LDAP_2_: filterByPrefix(mergedData, 'AUTH_LDAP_2_'),\n        AUTH_LDAP_3_: filterByPrefix(mergedData, 'AUTH_LDAP_3_'),\n        AUTH_LDAP_4_: filterByPrefix(mergedData, 'AUTH_LDAP_4_'),\n        AUTH_LDAP_5_: filterByPrefix(mergedData, 'AUTH_LDAP_5_'),\n        AUTH_LDAP_: Object.assign({}, mergedData),\n      };\n      Object.keys({\n        ...allCategories.AUTH_LDAP_1_,\n        ...allCategories.AUTH_LDAP_2_,\n        ...allCategories.AUTH_LDAP_3_,\n        ...allCategories.AUTH_LDAP_4_,\n        ...allCategories.AUTH_LDAP_5_,\n      }).forEach(keyToOmit => {\n        delete allCategories.AUTH_LDAP_[keyToOmit];\n      });\n\n      return allCategories[ldapCategory];\n    }, [options, ldapCategory]),\n    null\n  );\n\n  useEffect(() => {\n    fetchLDAP();\n  }, [fetchLDAP]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push(`/settings/ldap/${category}/details`);\n      },\n      [history, category]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      [`${ldapCategory}BIND_DN`]: form[`${ldapCategory}BIND_DN`],\n      [`${ldapCategory}BIND_PASSWORD`]: form[`${ldapCategory}BIND_PASSWORD`],\n      [`${ldapCategory}DENY_GROUP`]: form[`${ldapCategory}DENY_GROUP`],\n      [`${ldapCategory}GROUP_TYPE`]: form[`${ldapCategory}GROUP_TYPE`],\n      [`${ldapCategory}REQUIRE_GROUP`]: form[`${ldapCategory}REQUIRE_GROUP`],\n      [`${ldapCategory}SERVER_URI`]: form[`${ldapCategory}SERVER_URI`],\n      [`${ldapCategory}START_TLS`]: form[`${ldapCategory}START_TLS`],\n      [`${ldapCategory}USER_DN_TEMPLATE`]: form[\n        `${ldapCategory}USER_DN_TEMPLATE`\n      ],\n      [`${ldapCategory}GROUP_SEARCH`]: formatJson(\n        form[`${ldapCategory}GROUP_SEARCH`]\n      ),\n      [`${ldapCategory}GROUP_TYPE_PARAMS`]: formatJson(\n        form[`${ldapCategory}GROUP_TYPE_PARAMS`]\n      ),\n      [`${ldapCategory}ORGANIZATION_MAP`]: formatJson(\n        form[`${ldapCategory}ORGANIZATION_MAP`]\n      ),\n      [`${ldapCategory}TEAM_MAP`]: formatJson(form[`${ldapCategory}TEAM_MAP`]),\n      [`${ldapCategory}USER_ATTR_MAP`]: formatJson(\n        form[`${ldapCategory}USER_ATTR_MAP`]\n      ),\n      [`${ldapCategory}USER_FLAGS_BY_GROUP`]: formatJson(\n        form[`${ldapCategory}USER_FLAGS_BY_GROUP`]\n      ),\n      [`${ldapCategory}USER_SEARCH`]: formatJson(\n        form[`${ldapCategory}USER_SEARCH`]\n      ),\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(ldap).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push(`/settings/ldap/${category}/details`);\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list' || fields[key].type === 'nested object') {\n        const emptyDefault = fields[key].type === 'list' ? '[]' : '{}';\n        acc[key] = fields[key].value\n          ? JSON.stringify(fields[key].value, null, 2)\n          : emptyDefault;\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && ldap && (\n        <Formik initialValues={initialValues(ldap)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name={`${ldapCategory}SERVER_URI`}\n                  config={ldap[`${ldapCategory}SERVER_URI`]}\n                />\n                <EncryptedField\n                  name={`${ldapCategory}BIND_PASSWORD`}\n                  config={ldap[`${ldapCategory}BIND_PASSWORD`]}\n                />\n                <ChoiceField\n                  name={`${ldapCategory}GROUP_TYPE`}\n                  config={ldap[`${ldapCategory}GROUP_TYPE`]}\n                />\n                <BooleanField\n                  name={`${ldapCategory}START_TLS`}\n                  config={ldap[`${ldapCategory}START_TLS`]}\n                />\n                <FormFullWidthLayout>\n                  <InputField\n                    name={`${ldapCategory}BIND_DN`}\n                    config={ldap[`${ldapCategory}BIND_DN`]}\n                  />\n                  <InputField\n                    name={`${ldapCategory}USER_DN_TEMPLATE`}\n                    config={ldap[`${ldapCategory}USER_DN_TEMPLATE`]}\n                  />\n                  <InputField\n                    name={`${ldapCategory}REQUIRE_GROUP`}\n                    config={ldap[`${ldapCategory}REQUIRE_GROUP`]}\n                  />\n                  <InputField\n                    name={`${ldapCategory}DENY_GROUP`}\n                    config={ldap[`${ldapCategory}DENY_GROUP`]}\n                  />\n                </FormFullWidthLayout>\n                <ObjectField\n                  name={`${ldapCategory}USER_SEARCH`}\n                  config={ldap[`${ldapCategory}USER_SEARCH`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}GROUP_SEARCH`}\n                  config={ldap[`${ldapCategory}GROUP_SEARCH`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}USER_ATTR_MAP`}\n                  config={ldap[`${ldapCategory}USER_ATTR_MAP`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}GROUP_TYPE_PARAMS`}\n                  config={ldap[`${ldapCategory}GROUP_TYPE_PARAMS`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}USER_FLAGS_BY_GROUP`}\n                  config={ldap[`${ldapCategory}USER_FLAGS_BY_GROUP`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}ORGANIZATION_MAP`}\n                  config={ldap[`${ldapCategory}ORGANIZATION_MAP`]}\n                />\n                <ObjectField\n                  name={`${ldapCategory}TEAM_MAP`}\n                  config={ldap[`${ldapCategory}TEAM_MAP`]}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default LDAPEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport LDAPDetail from './LDAPDetail';\nimport LDAPEdit from './LDAPEdit';\n\nfunction LDAP({ i18n }) {\n  const baseURL = '/settings/ldap';\n  const baseRoute = useRouteMatch({ path: '/settings/ldap', exact: true });\n  const categoryRoute = useRouteMatch({\n    path: '/settings/ldap/:category',\n    exact: true,\n  });\n\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          {baseRoute && <Redirect to={`${baseURL}/default/details`} exact />}\n          {categoryRoute && (\n            <Redirect\n              to={`${baseURL}/${categoryRoute.params.category}/details`}\n              exact\n            />\n          )}\n          <Route path={`${baseURL}/:category/details`}>\n            <LDAPDetail />\n          </Route>\n          <Route path={`${baseURL}/:category/edit`}>\n            <LDAPEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/default/details`}>\n                {i18n._(t`View LDAP Settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(LDAP);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\n\nfunction LicenseDetail({ i18n }) {\n  return (\n    <CardBody>\n      {i18n._(t`Detail coming soon :)`)}\n      <CardActionsRow>\n        <Button\n          aria-label={i18n._(t`Edit`)}\n          component={Link}\n          ouiaId=\"edit-button\"\n          to=\"/settings/license/edit\"\n        >\n          {i18n._(t`Edit`)}\n        </Button>\n      </CardActionsRow>\n    </CardBody>\n  );\n}\n\nexport default withI18n()(LicenseDetail);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\n\nfunction LicenseEdit({ i18n }) {\n  return (\n    <CardBody>\n      {i18n._(t`Edit form coming soon :)`)}\n      <CardActionsRow>\n        <Button\n          aria-label={i18n._(t`取消`)}\n          component={Link}\n          to=\"/settings/license/details\"\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </CardActionsRow>\n    </CardBody>\n  );\n}\n\nexport default withI18n()(LicenseEdit);\n","import React from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport LicenseDetail from './LicenseDetail';\nimport LicenseEdit from './LicenseEdit';\n\nfunction License({ i18n }) {\n  const baseUrl = '/settings/license';\n\n  return (\n    <PageSection>\n      <Card>\n        {i18n._(t`License settings`)}\n        <Switch>\n          <Redirect from={baseUrl} to={`${baseUrl}/details`} exact />\n          <Route path={`${baseUrl}/details`}>\n            <LicenseDetail />\n          </Route>\n          <Route path={`${baseUrl}/edit`}>\n            <LicenseEdit />\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(License);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\nimport { sortNestedDetails, pluck } from '../../shared/settingUtils';\n\nfunction LoggingDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: logging } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('logging');\n\n      const loggingData = pluck(\n        data,\n        'LOG_AGGREGATOR_ENABLED',\n        'LOG_AGGREGATOR_HOST',\n        'LOG_AGGREGATOR_INDIVIDUAL_FACTS',\n        'LOG_AGGREGATOR_LEVEL',\n        'LOG_AGGREGATOR_LOGGERS',\n        'LOG_AGGREGATOR_PASSWORD',\n        'LOG_AGGREGATOR_PORT',\n        'LOG_AGGREGATOR_PROTOCOL',\n        'LOG_AGGREGATOR_TCP_TIMEOUT',\n        'LOG_AGGREGATOR_TYPE',\n        'LOG_AGGREGATOR_USERNAME',\n        'LOG_AGGREGATOR_VERIFY_CERT'\n      );\n\n      const mergedData = {};\n      Object.keys(loggingData).forEach(key => {\n        mergedData[key] = options[key];\n        mergedData[key].value = loggingData[key];\n      });\n\n      return sortNestedDetails(mergedData);\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/logging/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && logging && (\n          <DetailList>\n            {logging.map(([key, detail]) => (\n              <SettingDetail\n                key={key}\n                id={key}\n                helpText={detail?.help_text}\n                label={detail?.label}\n                type={detail?.type}\n                unit={detail?.unit}\n                value={detail?.value}\n              />\n            ))}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/logging/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(LoggingDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik } from 'formik';\nimport { Button, Form, Tooltip } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport {\n  BooleanField,\n  ChoiceField,\n  EncryptedField,\n  InputField,\n  ObjectField,\n  RevertAllAlert,\n  RevertFormActionGroup,\n  LoggingTestAlert,\n} from '../../shared';\nimport useModal from '../../../../util/useModal';\nimport useRequest, { useDismissableError } from '../../../../util/useRequest';\nimport { formatJson } from '../../shared/settingUtils';\nimport { SettingsAPI } from '../../../../api';\n\nfunction LoggingEdit({ i18n }) {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const {\n    isLoading,\n    error,\n    request: fetchLogging,\n    result: logging,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('logging');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        if (!options[key]) {\n          return;\n        }\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchLogging();\n  }, [fetchLogging]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/logging/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm({\n      ...form,\n      LOG_AGGREGATOR_LOGGERS: formatJson(form.LOG_AGGREGATOR_LOGGERS),\n      LOG_AGGREGATOR_HOST: form.LOG_AGGREGATOR_HOST || null,\n      LOG_AGGREGATOR_TYPE: form.LOG_AGGREGATOR_TYPE || null,\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = {};\n    Object.entries(logging).forEach(([key, value]) => {\n      defaultValues[key] = value.default;\n    });\n\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const {\n    error: testLoggingError,\n    request: testLogging,\n    result: testSuccess,\n    setValue: setTestLogging,\n  } = useRequest(\n    useCallback(async () => {\n      const result = await SettingsAPI.createTest('logging', {});\n      return result;\n    }, []),\n    null\n  );\n\n  const {\n    error: testError,\n    dismissError: dismissTestError,\n  } = useDismissableError(testLoggingError);\n\n  const handleTest = async () => {\n    await testLogging();\n  };\n\n  const handleCloseAlert = () => {\n    setTestLogging(null);\n    dismissTestError();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/logging/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list') {\n        acc[key] = JSON.stringify(fields[key].value, null, 2);\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && logging && (\n        <Formik initialValues={initialValues(logging)} onSubmit={handleSubmit}>\n          {formik => {\n            return (\n              <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n                <FormColumnLayout>\n                  <BooleanField\n                    name=\"LOG_AGGREGATOR_ENABLED\"\n                    config={{\n                      ...logging.LOG_AGGREGATOR_ENABLED,\n                      help_text: (\n                        <>\n                          {logging.LOG_AGGREGATOR_ENABLED.help_text}\n                          {!formik.values.LOG_AGGREGATOR_ENABLED &&\n                            (!formik.values.LOG_AGGREGATOR_HOST ||\n                              !formik.values.LOG_AGGREGATOR_TYPE) && (\n                              <>\n                                <br />\n                                <br />\n                                {i18n._(\n                                  t`Cannot enable log aggregator without providing\n                                  logging aggregator host and logging aggregator type.`\n                                )}\n                              </>\n                            )}\n                        </>\n                      ),\n                    }}\n                    ariaLabel={i18n._(t`Enable external logging`)}\n                    disabled={\n                      !formik.values.LOG_AGGREGATOR_ENABLED &&\n                      (!formik.values.LOG_AGGREGATOR_HOST ||\n                        !formik.values.LOG_AGGREGATOR_TYPE)\n                    }\n                  />\n                  <InputField\n                    name=\"LOG_AGGREGATOR_HOST\"\n                    config={logging.LOG_AGGREGATOR_HOST}\n                    isRequired={Boolean(formik.values.LOG_AGGREGATOR_ENABLED)}\n                  />\n                  <InputField\n                    name=\"LOG_AGGREGATOR_PORT\"\n                    config={logging.LOG_AGGREGATOR_PORT}\n                    type=\"number\"\n                  />\n                  <ChoiceField\n                    name=\"LOG_AGGREGATOR_TYPE\"\n                    config={logging.LOG_AGGREGATOR_TYPE}\n                    isRequired={Boolean(formik.values.LOG_AGGREGATOR_ENABLED)}\n                  />\n                  <InputField\n                    name=\"LOG_AGGREGATOR_USERNAME\"\n                    config={logging.LOG_AGGREGATOR_USERNAME}\n                  />\n                  <EncryptedField\n                    name=\"LOG_AGGREGATOR_PASSWORD\"\n                    config={logging.LOG_AGGREGATOR_PASSWORD}\n                  />\n                  <BooleanField\n                    name=\"LOG_AGGREGATOR_INDIVIDUAL_FACTS\"\n                    ariaLabel={i18n._(\n                      t`Enable log system tracking facts individually`\n                    )}\n                    config={logging.LOG_AGGREGATOR_INDIVIDUAL_FACTS}\n                  />\n                  <ChoiceField\n                    name=\"LOG_AGGREGATOR_PROTOCOL\"\n                    config={logging.LOG_AGGREGATOR_PROTOCOL}\n                  />\n                  <ChoiceField\n                    name=\"LOG_AGGREGATOR_LEVEL\"\n                    config={logging.LOG_AGGREGATOR_LEVEL}\n                  />\n                  {['tcp', 'https'].includes(\n                    formik.values.LOG_AGGREGATOR_PROTOCOL\n                  ) && (\n                    <InputField\n                      name=\"LOG_AGGREGATOR_TCP_TIMEOUT\"\n                      config={logging.LOG_AGGREGATOR_TCP_TIMEOUT}\n                      type=\"number\"\n                      isRequired\n                    />\n                  )}\n                  {formik.values.LOG_AGGREGATOR_PROTOCOL === 'https' && (\n                    <BooleanField\n                      name=\"LOG_AGGREGATOR_VERIFY_CERT\"\n                      ariaLabel={i18n._(\n                        t`Enable HTTPS certificate verification`\n                      )}\n                      config={logging.LOG_AGGREGATOR_VERIFY_CERT}\n                    />\n                  )}\n                  <ObjectField\n                    name=\"LOG_AGGREGATOR_LOGGERS\"\n                    config={logging.LOG_AGGREGATOR_LOGGERS}\n                  />\n                  {submitError && <FormSubmitError error={submitError} />}\n                  <RevertFormActionGroup\n                    onCancel={handleCancel}\n                    onSubmit={formik.handleSubmit}\n                    onRevert={toggleModal}\n                  >\n                    <Tooltip\n                      content={\n                        formik.dirty || !formik.values.LOG_AGGREGATOR_ENABLED\n                          ? i18n._(\n                              t`Save and enable log aggregation before testing the log aggregator.`\n                            )\n                          : i18n._(\n                              t`Send a test log message to the configured log aggregator.`\n                            )\n                      }\n                    >\n                      <div>\n                        <Button\n                          aria-label={i18n._(t`Test logging`)}\n                          ouiaId=\"test-logging-button\"\n                          variant=\"secondary\"\n                          type=\"button\"\n                          onClick={handleTest}\n                          isDisabled={\n                            formik.dirty ||\n                            !formik.values.LOG_AGGREGATOR_ENABLED ||\n                            testSuccess ||\n                            testError\n                          }\n                        >\n                          {i18n._(t`Test`)}\n                        </Button>\n                      </div>\n                    </Tooltip>\n                  </RevertFormActionGroup>\n                </FormColumnLayout>\n                {isModalOpen && (\n                  <RevertAllAlert\n                    onClose={closeModal}\n                    onRevertAll={handleRevertAll}\n                  />\n                )}\n                {(testSuccess || testError) && (\n                  <LoggingTestAlert\n                    successResponse={testSuccess}\n                    errorResponse={testError}\n                    onClose={handleCloseAlert}\n                  />\n                )}\n              </Form>\n            );\n          }}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(LoggingEdit);\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport { useConfig } from '../../../contexts/Config';\nimport LoggingDetail from './LoggingDetail';\nimport LoggingEdit from './LoggingEdit';\n\nfunction Logging({ i18n }) {\n  const baseURL = '/settings/logging';\n  const { me } = useConfig();\n\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <LoggingDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            {me?.is_superuser ? (\n              <LoggingEdit />\n            ) : (\n              <Redirect to={`${baseURL}/details`} />\n            )}\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Logging settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(Logging);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { DetailList } from '../../../../components/DetailList';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\nimport { sortNestedDetails, pluck } from '../../shared/settingUtils';\n\nfunction MiscSystemDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: allOptions } = useSettings();\n\n  const { isLoading, error, request, result: system } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('all');\n\n      const {\n        OAUTH2_PROVIDER: {\n          ACCESS_TOKEN_EXPIRE_SECONDS,\n          REFRESH_TOKEN_EXPIRE_SECONDS,\n          AUTHORIZATION_CODE_EXPIRE_SECONDS,\n        },\n        ...pluckedSystemData\n      } = pluck(\n        data,\n        'ALLOW_OAUTH2_FOR_EXTERNAL_USERS',\n        'AUTH_BASIC_ENABLED',\n        'AUTOMATION_ANALYTICS_GATHER_INTERVAL',\n        'AUTOMATION_ANALYTICS_URL',\n        'CUSTOM_VENV_PATHS',\n        'INSIGHTS_TRACKING_STATE',\n        'LOGIN_REDIRECT_OVERRIDE',\n        'MANAGE_ORGANIZATION_AUTH',\n        'OAUTH2_PROVIDER',\n        'ORG_ADMINS_CAN_SEE_ALL_USERS',\n        'REDHAT_PASSWORD',\n        'REDHAT_USERNAME',\n        'REMOTE_HOST_HEADERS',\n        'SESSIONS_PER_USER',\n        'SESSION_COOKIE_AGE',\n        'TOWER_URL_BASE'\n      );\n\n      const systemData = {\n        ...pluckedSystemData,\n        ACCESS_TOKEN_EXPIRE_SECONDS,\n        REFRESH_TOKEN_EXPIRE_SECONDS,\n        AUTHORIZATION_CODE_EXPIRE_SECONDS,\n      };\n\n      const {\n        OAUTH2_PROVIDER: OAUTH2_PROVIDER_OPTIONS,\n        ...options\n      } = allOptions;\n\n      const systemOptions = {\n        ...options,\n        ACCESS_TOKEN_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Access Token Expiration`),\n        },\n        REFRESH_TOKEN_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Refresh Token Expiration`),\n        },\n        AUTHORIZATION_CODE_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Authorization Code Expiration`),\n        },\n      };\n\n      const mergedData = {};\n      Object.keys(systemData).forEach(key => {\n        mergedData[key] = systemOptions[key];\n        mergedData[key].value = systemData[key];\n      });\n      return sortNestedDetails(mergedData);\n    }, [allOptions, i18n]),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/miscellaneous_system/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && system && (\n          <DetailList>\n            {system.map(([key, detail]) => (\n              <SettingDetail\n                key={key}\n                id={key}\n                helpText={detail?.help_text}\n                label={detail?.label}\n                type={detail?.type}\n                unit={detail?.unit}\n                value={detail?.value}\n              />\n            ))}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/miscellaneous_system/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(MiscSystemDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport {\n  BooleanField,\n  EncryptedField,\n  InputField,\n  ObjectField,\n  RevertAllAlert,\n  RevertFormActionGroup,\n} from '../../shared';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\nimport { pluck, formatJson } from '../../shared/settingUtils';\n\nfunction MiscSystemEdit({ i18n }) {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchSystem, result: system } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('all');\n      const {\n        OAUTH2_PROVIDER: {\n          ACCESS_TOKEN_EXPIRE_SECONDS,\n          REFRESH_TOKEN_EXPIRE_SECONDS,\n          AUTHORIZATION_CODE_EXPIRE_SECONDS,\n        },\n        ...pluckedSystemData\n      } = pluck(\n        data,\n        'ALLOW_OAUTH2_FOR_EXTERNAL_USERS',\n        'AUTH_BASIC_ENABLED',\n        'AUTOMATION_ANALYTICS_GATHER_INTERVAL',\n        'AUTOMATION_ANALYTICS_URL',\n        'CUSTOM_VENV_PATHS',\n        'INSIGHTS_TRACKING_STATE',\n        'LOGIN_REDIRECT_OVERRIDE',\n        'MANAGE_ORGANIZATION_AUTH',\n        'OAUTH2_PROVIDER',\n        'ORG_ADMINS_CAN_SEE_ALL_USERS',\n        'REDHAT_PASSWORD',\n        'REDHAT_USERNAME',\n        'REMOTE_HOST_HEADERS',\n        'SESSIONS_PER_USER',\n        'SESSION_COOKIE_AGE',\n        'TOWER_URL_BASE'\n      );\n\n      const systemData = {\n        ...pluckedSystemData,\n        ACCESS_TOKEN_EXPIRE_SECONDS,\n        REFRESH_TOKEN_EXPIRE_SECONDS,\n        AUTHORIZATION_CODE_EXPIRE_SECONDS,\n      };\n\n      const {\n        OAUTH2_PROVIDER: OAUTH2_PROVIDER_OPTIONS,\n        ...restOptions\n      } = options;\n\n      const systemOptions = {\n        ...restOptions,\n        ACCESS_TOKEN_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          default: OAUTH2_PROVIDER_OPTIONS.default.ACCESS_TOKEN_EXPIRE_SECONDS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Access Token Expiration`),\n        },\n        REFRESH_TOKEN_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          default: OAUTH2_PROVIDER_OPTIONS.default.REFRESH_TOKEN_EXPIRE_SECONDS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Refresh Token Expiration`),\n        },\n        AUTHORIZATION_CODE_EXPIRE_SECONDS: {\n          ...OAUTH2_PROVIDER_OPTIONS,\n          default:\n            OAUTH2_PROVIDER_OPTIONS.default.AUTHORIZATION_CODE_EXPIRE_SECONDS,\n          type: OAUTH2_PROVIDER_OPTIONS.child.type,\n          label: i18n._(t`Authorization Code Expiration`),\n        },\n      };\n\n      const mergedData = {};\n      Object.keys(systemData).forEach(key => {\n        if (!systemOptions[key]) {\n          return;\n        }\n        mergedData[key] = systemOptions[key];\n        mergedData[key].value = systemData[key];\n      });\n      return mergedData;\n    }, [options, i18n]),\n    null\n  );\n\n  useEffect(() => {\n    fetchSystem();\n  }, [fetchSystem]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/miscellaneous_system/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    const {\n      ACCESS_TOKEN_EXPIRE_SECONDS,\n      REFRESH_TOKEN_EXPIRE_SECONDS,\n      AUTHORIZATION_CODE_EXPIRE_SECONDS,\n      ...formData\n    } = form;\n    await submitForm({\n      ...formData,\n      CUSTOM_VENV_PATHS: formatJson(formData.CUSTOM_VENV_PATHS),\n      REMOTE_HOST_HEADERS: formatJson(formData.REMOTE_HOST_HEADERS),\n      OAUTH2_PROVIDER: {\n        ACCESS_TOKEN_EXPIRE_SECONDS,\n        REFRESH_TOKEN_EXPIRE_SECONDS,\n        AUTHORIZATION_CODE_EXPIRE_SECONDS,\n      },\n    });\n  };\n\n  const handleRevertAll = async () => {\n    const {\n      ACCESS_TOKEN_EXPIRE_SECONDS,\n      REFRESH_TOKEN_EXPIRE_SECONDS,\n      AUTHORIZATION_CODE_EXPIRE_SECONDS,\n      ...systemData\n    } = system;\n\n    const defaultValues = {};\n    Object.entries(systemData).forEach(([key, value]) => {\n      defaultValues[key] = value.default;\n    });\n\n    await submitForm({\n      ...defaultValues,\n      OAUTH2_PROVIDER: {\n        ACCESS_TOKEN_EXPIRE_SECONDS: ACCESS_TOKEN_EXPIRE_SECONDS.default,\n        REFRESH_TOKEN_EXPIRE_SECONDS: REFRESH_TOKEN_EXPIRE_SECONDS.default,\n        AUTHORIZATION_CODE_EXPIRE_SECONDS:\n          AUTHORIZATION_CODE_EXPIRE_SECONDS.default,\n      },\n    });\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/miscellaneous_system/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      if (fields[key].type === 'list') {\n        acc[key] = JSON.stringify(fields[key].value, null, 2);\n      } else {\n        acc[key] = fields[key].value ?? '';\n      }\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && system && (\n        <Formik initialValues={initialValues(system)} onSubmit={handleSubmit}>\n          {formik => {\n            return (\n              <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n                <FormColumnLayout>\n                  <InputField\n                    name=\"TOWER_URL_BASE\"\n                    config={system.TOWER_URL_BASE}\n                    isRequired\n                    type=\"url\"\n                  />\n                  <BooleanField\n                    name=\"ORG_ADMINS_CAN_SEE_ALL_USERS\"\n                    config={system.ORG_ADMINS_CAN_SEE_ALL_USERS}\n                  />\n                  <BooleanField\n                    name=\"MANAGE_ORGANIZATION_AUTH\"\n                    config={system.MANAGE_ORGANIZATION_AUTH}\n                  />\n                  <InputField\n                    name=\"SESSION_COOKIE_AGE\"\n                    config={system.SESSION_COOKIE_AGE}\n                    type=\"number\"\n                    isRequired\n                  />\n                  <InputField\n                    name=\"SESSIONS_PER_USER\"\n                    config={system.SESSIONS_PER_USER}\n                    type=\"number\"\n                    isRequired\n                  />\n                  <BooleanField\n                    name=\"AUTH_BASIC_ENABLED\"\n                    config={system.AUTH_BASIC_ENABLED}\n                  />\n                  <BooleanField\n                    name=\"ALLOW_OAUTH2_FOR_EXTERNAL_USERS\"\n                    config={system.ALLOW_OAUTH2_FOR_EXTERNAL_USERS}\n                  />\n                  <InputField\n                    name=\"LOGIN_REDIRECT_OVERRIDE\"\n                    config={system.LOGIN_REDIRECT_OVERRIDE}\n                    type=\"url\"\n                  />\n                  <InputField\n                    name=\"ACCESS_TOKEN_EXPIRE_SECONDS\"\n                    config={system.ACCESS_TOKEN_EXPIRE_SECONDS}\n                    type=\"number\"\n                  />\n                  <InputField\n                    name=\"REFRESH_TOKEN_EXPIRE_SECONDS\"\n                    config={system.REFRESH_TOKEN_EXPIRE_SECONDS}\n                    type=\"number\"\n                  />\n                  <InputField\n                    name=\"AUTHORIZATION_CODE_EXPIRE_SECONDS\"\n                    config={system.AUTHORIZATION_CODE_EXPIRE_SECONDS}\n                    type=\"number\"\n                  />\n                  <BooleanField\n                    name=\"INSIGHTS_TRACKING_STATE\"\n                    config={system.INSIGHTS_TRACKING_STATE}\n                  />\n                  <InputField\n                    name=\"REDHAT_USERNAME\"\n                    config={system.REDHAT_USERNAME}\n                  />\n                  <EncryptedField\n                    name=\"REDHAT_PASSWORD\"\n                    config={system.REDHAT_PASSWORD}\n                  />\n                  <InputField\n                    name=\"AUTOMATION_ANALYTICS_URL\"\n                    config={system.AUTOMATION_ANALYTICS_URL}\n                    type=\"url\"\n                  />\n                  <InputField\n                    name=\"AUTOMATION_ANALYTICS_GATHER_INTERVAL\"\n                    config={system.AUTOMATION_ANALYTICS_GATHER_INTERVAL}\n                    type=\"number\"\n                    isRequired\n                  />\n                  <ObjectField\n                    name=\"REMOTE_HOST_HEADERS\"\n                    config={system.REMOTE_HOST_HEADERS}\n                    isRequired\n                  />\n                  <ObjectField\n                    name=\"CUSTOM_VENV_PATHS\"\n                    config={system.CUSTOM_VENV_PATHS}\n                  />\n                  {submitError && <FormSubmitError error={submitError} />}\n                </FormColumnLayout>\n                <RevertFormActionGroup\n                  onCancel={handleCancel}\n                  onSubmit={formik.handleSubmit}\n                  onRevert={toggleModal}\n                />\n                {isModalOpen && (\n                  <RevertAllAlert\n                    onClose={closeModal}\n                    onRevertAll={handleRevertAll}\n                  />\n                )}\n              </Form>\n            );\n          }}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(MiscSystemEdit);\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport { useConfig } from '../../../contexts/Config';\nimport MiscSystemDetail from './MiscSystemDetail';\nimport MiscSystemEdit from './MiscSystemEdit';\n\nfunction MiscSystem({ i18n }) {\n  const baseURL = '/settings/miscellaneous_system';\n  const { me } = useConfig();\n\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <MiscSystemDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            {me?.is_superuser ? (\n              <MiscSystemEdit />\n            ) : (\n              <Redirect to={`${baseURL}/details`} />\n            )}\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View Miscellaneous System settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(MiscSystem);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\n\nfunction RADIUSDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: radius } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('radius');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/radius/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && radius && (\n          <DetailList>\n            {Object.keys(radius).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={radius?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/radius/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(RADIUSDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport { EncryptedField, InputField } from '../../shared/SharedFields';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction RADIUSEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchRadius, result: radius } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('radius');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchRadius();\n  }, [fetchRadius]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/radius/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm(form);\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(radius).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/radius/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      acc[key] = fields[key].value ?? '';\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && radius && (\n        <Formik initialValues={initialValues(radius)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"RADIUS_SERVER\"\n                  config={radius.RADIUS_SERVER}\n                />\n                <InputField name=\"RADIUS_PORT\" config={radius.RADIUS_PORT} />\n                <EncryptedField\n                  name=\"RADIUS_SECRET\"\n                  config={radius.RADIUS_SECRET}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default RADIUSEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport RADIUSDetail from './RADIUSDetail';\nimport RADIUSEdit from './RADIUSEdit';\n\nfunction RADIUS({ i18n }) {\n  const baseURL = '/settings/radius';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <RADIUSDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <RADIUSEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View RADIUS settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(RADIUS);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\n\nfunction SAMLDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: saml } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('saml');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/saml/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && saml && (\n          <DetailList>\n            {Object.keys(saml).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={saml?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              ouiaId=\"edit-button\"\n              to=\"/settings/saml/edit\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(SAMLDetail);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\n\nfunction SAMLEdit({ i18n }) {\n  return (\n    <CardBody>\n      {i18n._(t`Edit form coming soon :)`)}\n      <CardActionsRow>\n        <Button\n          aria-label={i18n._(t`取消`)}\n          component={Link}\n          to=\"/settings/saml/details\"\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </CardActionsRow>\n    </CardBody>\n  );\n}\n\nexport default withI18n()(SAMLEdit);\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport SAMLDetail from './SAMLDetail';\nimport SAMLEdit from './SAMLEdit';\n\nfunction SAML({ i18n }) {\n  const baseURL = '/settings/saml';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <SAMLDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <SAMLEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View SAML settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(SAML);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Card as _Card,\n  CardHeader as _CardHeader,\n  CardTitle,\n  DataList,\n  DataListItem,\n  DataListCell,\n  DataListItemCells,\n  DataListItemRow,\n  PageSection,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { BrandName } from '../../variables';\nimport { useConfig } from '../../contexts/Config';\nimport ContentLoading from '../../components/ContentLoading/ContentLoading';\n\n// Setting BrandName to a variable here is necessary to get the jest tests\n// passing.  Attempting to use BrandName in the template literal results\n// in failing tests.\nconst brandName = BrandName;\n\nconst SplitLayout = styled(PageSection)`\n  column-count: 1;\n  column-gap: 24px;\n  @media (min-width: 576px) {\n    column-count: 2;\n  }\n`;\nconst Card = styled(_Card)`\n  display: inline-block;\n  margin-bottom: 24px;\n  width: 100%;\n`;\nconst CardHeader = styled(_CardHeader)`\n  align-items: flex-start;\n  display: flex;\n  flex-flow: column nowrap;\n  && > * {\n    padding: 0;\n  }\n`;\nconst CardDescription = styled.div`\n  color: var(--pf-global--palette--black-600);\n  font-size: var(--pf-global--FontSize--xs);\n`;\n\nfunction SettingList({ i18n }) {\n  const config = useConfig();\n  const settingRoutes = [\n    {\n      header: i18n._(t`Authentication`),\n      description: i18n._(\n        t`Enable simplified login for your ${brandName} applications`\n      ),\n      id: 'authentication',\n      routes: [\n        {\n          title: i18n._(t`Azure AD settings`),\n          path: '/settings/azure',\n        },\n        {\n          title: i18n._(t`GitHub settings`),\n          path: '/settings/github',\n        },\n        {\n          title: i18n._(t`Google OAuth 2 settings`),\n          path: '/settings/google_oauth2',\n        },\n        {\n          title: i18n._(t`LDAP settings`),\n          path: '/settings/ldap',\n        },\n        {\n          title: i18n._(t`RADIUS settings`),\n          path: '/settings/radius',\n        },\n        {\n          title: i18n._(t`SAML settings`),\n          path: '/settings/saml',\n        },\n        {\n          title: i18n._(t`TACACS+ settings`),\n          path: '/settings/tacacs',\n        },\n      ],\n    },\n    {\n      header: i18n._(t`作业`),\n      description: i18n._(\n        t`Update settings pertaining to Jobs within ${brandName}`\n      ),\n      id: 'jobs',\n      routes: [\n        {\n          title: i18n._(t`Jobs settings`),\n          path: '/settings/jobs',\n        },\n      ],\n    },\n    {\n      header: i18n._(t`System`),\n      description: i18n._(t`Define system-level features and functions`),\n      id: 'system',\n      routes: [\n        {\n          title: i18n._(t`Miscellaneous System settings`),\n          path: '/settings/miscellaneous_system',\n        },\n        {\n          title: i18n._(t`Activity Stream settings`),\n          path: '/settings/activity_stream',\n        },\n        {\n          title: i18n._(t`Logging settings`),\n          path: '/settings/logging',\n        },\n      ],\n    },\n    {\n      header: i18n._(t`User Interface`),\n      description: i18n._(\n        t`Set preferences for data collection, logos, and logins`\n      ),\n      id: 'ui',\n      routes: [\n        {\n          title: i18n._(t`User Interface settings`),\n          path: '/settings/ui',\n        },\n      ],\n    },\n    {\n      header: i18n._(t`License`),\n      description: i18n._(t`View and edit your license information`),\n      id: 'license',\n      routes: [\n        {\n          title: i18n._(t`License settings`),\n          path: '/settings/license',\n        },\n      ],\n    },\n  ];\n\n  if (Object.keys(config).length === 0) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <SplitLayout>\n      {settingRoutes.map(({ description, header, id, routes }) => {\n        if (id === 'license' && config?.license_info?.license_type === 'open') {\n          return null;\n        }\n        return (\n          <Card isCompact key={header}>\n            <CardHeader>\n              <CardTitle>{header}</CardTitle>\n              <CardDescription>{description}</CardDescription>\n            </CardHeader>\n            <DataList aria-label={`${id}-settings`} isCompact>\n              {routes.map(({ title, path }) => (\n                <DataListItem key={title}>\n                  <DataListItemRow>\n                    <DataListItemCells\n                      dataListCells={[\n                        <DataListCell key={title}>\n                          <Link to={path}>{title}</Link>\n                        </DataListCell>,\n                      ]}\n                    />\n                  </DataListItemRow>\n                </DataListItem>\n              ))}\n            </DataList>\n          </Card>\n        );\n      })}\n    </SplitLayout>\n  );\n}\n\nexport default withI18n()(SettingList);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { SettingDetail } from '../../shared';\n\nfunction TACACSDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: tacacs } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('tacacsplus');\n      return data;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/tacacs/details`,\n      id: 0,\n    },\n  ];\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && tacacs && (\n          <DetailList>\n            {Object.keys(tacacs).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={tacacs?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              to=\"/settings/tacacs/edit\"\n              ouiaId=\"edit-button\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(TACACSDetail);\n","import React, { useCallback, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Formik } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport { CardBody } from '../../../../components/Card';\nimport ContentError from '../../../../components/ContentError';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport { FormSubmitError } from '../../../../components/FormField';\nimport { FormColumnLayout } from '../../../../components/FormLayout';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { RevertAllAlert, RevertFormActionGroup } from '../../shared';\nimport {\n  ChoiceField,\n  EncryptedField,\n  InputField,\n} from '../../shared/SharedFields';\nimport useModal from '../../../../util/useModal';\nimport useRequest from '../../../../util/useRequest';\nimport { SettingsAPI } from '../../../../api';\n\nfunction TACACSEdit() {\n  const history = useHistory();\n  const { isModalOpen, toggleModal, closeModal } = useModal();\n  const { PUT: options } = useSettings();\n\n  const { isLoading, error, request: fetchTACACS, result: tacacs } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('tacacsplus');\n      const mergedData = {};\n      Object.keys(data).forEach(key => {\n        mergedData[key] = options[key];\n        mergedData[key].value = data[key];\n      });\n      return mergedData;\n    }, [options]),\n    null\n  );\n\n  useEffect(() => {\n    fetchTACACS();\n  }, [fetchTACACS]);\n\n  const { error: submitError, request: submitForm } = useRequest(\n    useCallback(\n      async values => {\n        await SettingsAPI.updateAll(values);\n        history.push('/settings/tacacs/details');\n      },\n      [history]\n    ),\n    null\n  );\n\n  const handleSubmit = async form => {\n    await submitForm(form);\n  };\n\n  const handleRevertAll = async () => {\n    const defaultValues = Object.assign(\n      ...Object.entries(tacacs).map(([key, value]) => ({\n        [key]: value.default,\n      }))\n    );\n    await submitForm(defaultValues);\n    closeModal();\n  };\n\n  const handleCancel = () => {\n    history.push('/settings/tacacs/details');\n  };\n\n  const initialValues = fields =>\n    Object.keys(fields).reduce((acc, key) => {\n      acc[key] = fields[key].value ?? '';\n      return acc;\n    }, {});\n\n  return (\n    <CardBody>\n      {isLoading && <ContentLoading />}\n      {!isLoading && error && <ContentError error={error} />}\n      {!isLoading && tacacs && (\n        <Formik initialValues={initialValues(tacacs)} onSubmit={handleSubmit}>\n          {formik => (\n            <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n              <FormColumnLayout>\n                <InputField\n                  name=\"TACACSPLUS_HOST\"\n                  config={tacacs.TACACSPLUS_HOST}\n                />\n                <InputField\n                  name=\"TACACSPLUS_PORT\"\n                  config={tacacs.TACACSPLUS_PORT}\n                  type=\"number\"\n                />\n                <EncryptedField\n                  name=\"TACACSPLUS_SECRET\"\n                  config={tacacs.TACACSPLUS_SECRET}\n                />\n                <InputField\n                  name=\"TACACSPLUS_SESSION_TIMEOUT\"\n                  config={tacacs.TACACSPLUS_SESSION_TIMEOUT}\n                  type=\"number\"\n                />\n                <ChoiceField\n                  name=\"TACACSPLUS_AUTH_PROTOCOL\"\n                  config={tacacs.TACACSPLUS_AUTH_PROTOCOL}\n                />\n                {submitError && <FormSubmitError error={submitError} />}\n              </FormColumnLayout>\n              <RevertFormActionGroup\n                onCancel={handleCancel}\n                onSubmit={formik.handleSubmit}\n                onRevert={toggleModal}\n              />\n              {isModalOpen && (\n                <RevertAllAlert\n                  onClose={closeModal}\n                  onRevertAll={handleRevertAll}\n                />\n              )}\n            </Form>\n          )}\n        </Formik>\n      )}\n    </CardBody>\n  );\n}\n\nexport default TACACSEdit;\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport TACACSDetail from './TACACSDetail';\nimport TACACSEdit from './TACACSEdit';\n\nfunction TACACS({ i18n }) {\n  const baseURL = '/settings/tacacs';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <TACACSDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <TACACSEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View TACACS+ settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(TACACS);\n","import React, { useEffect, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\nimport ContentLoading from '../../../../components/ContentLoading';\nimport ContentError from '../../../../components/ContentError';\nimport RoutedTabs from '../../../../components/RoutedTabs';\nimport { SettingsAPI } from '../../../../api';\nimport useRequest from '../../../../util/useRequest';\nimport { DetailList } from '../../../../components/DetailList';\nimport { useConfig } from '../../../../contexts/Config';\nimport { useSettings } from '../../../../contexts/Settings';\nimport { pluck } from '../../shared/settingUtils';\nimport { SettingDetail } from '../../shared';\n\nfunction UIDetail({ i18n }) {\n  const { me } = useConfig();\n  const { GET: options } = useSettings();\n\n  const { isLoading, error, request, result: ui } = useRequest(\n    useCallback(async () => {\n      const { data } = await SettingsAPI.readCategory('ui');\n\n      const uiData = pluck(\n        data,\n        'PENDO_TRACKING_STATE',\n        'CUSTOM_LOGO',\n        'CUSTOM_LOGIN_INFO'\n      );\n\n      return uiData;\n    }, []),\n    null\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Settings`)}\n        </>\n      ),\n      link: `/settings`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/settings/ui/details`,\n      id: 0,\n    },\n  ];\n\n  // Change CUSTOM_LOGO type from string to image\n  // to help SettingDetail render it as an <img>\n  if (options?.CUSTOM_LOGO) {\n    options.CUSTOM_LOGO.type = 'image';\n  }\n\n  return (\n    <>\n      <RoutedTabs tabsArray={tabsArray} />\n      <CardBody>\n        {isLoading && <ContentLoading />}\n        {!isLoading && error && <ContentError error={error} />}\n        {!isLoading && ui && (\n          <DetailList>\n            {Object.keys(ui).map(key => {\n              const record = options?.[key];\n              return (\n                <SettingDetail\n                  key={key}\n                  id={key}\n                  helpText={record?.help_text}\n                  label={record?.label}\n                  type={record?.type}\n                  unit={record?.unit}\n                  value={ui?.[key]}\n                />\n              );\n            })}\n          </DetailList>\n        )}\n        {me?.is_superuser && (\n          <CardActionsRow>\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              to=\"/settings/ui/edit\"\n              ouiaId=\"edit-button\"\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          </CardActionsRow>\n        )}\n      </CardBody>\n    </>\n  );\n}\n\nexport default withI18n()(UIDetail);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\nimport { CardBody, CardActionsRow } from '../../../../components/Card';\n\nfunction UIEdit({ i18n }) {\n  return (\n    <CardBody>\n      {i18n._(t`Edit form coming soon :)`)}\n      <CardActionsRow>\n        <Button\n          aria-label={i18n._(t`取消`)}\n          component={Link}\n          to=\"/settings/ui/details\"\n        >\n          {i18n._(t`取消`)}\n        </Button>\n      </CardActionsRow>\n    </CardBody>\n  );\n}\n\nexport default withI18n()(UIEdit);\n","import React from 'react';\nimport { Link, Redirect, Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport UIDetail from './UIDetail';\nimport UIEdit from './UIEdit';\n\nfunction UI({ i18n }) {\n  const baseURL = '/settings/ui';\n  return (\n    <PageSection>\n      <Card>\n        <Switch>\n          <Redirect from={baseURL} to={`${baseURL}/details`} exact />\n          <Route path={`${baseURL}/details`}>\n            <UIDetail />\n          </Route>\n          <Route path={`${baseURL}/edit`}>\n            <UIEdit />\n          </Route>\n          <Route key=\"not-found\" path={`${baseURL}/*`}>\n            <ContentError isNotFound>\n              <Link to={`${baseURL}/details`}>\n                {i18n._(t`View User Interface settings`)}\n              </Link>\n            </ContentError>\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(UI);\n","import React, { useCallback, useEffect } from 'react';\nimport { Link, Route, Switch, Redirect } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { PageSection, Card } from '@patternfly/react-core';\nimport ContentError from '../../components/ContentError';\nimport ContentLoading from '../../components/ContentLoading';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport ActivityStream from './ActivityStream';\nimport AzureAD from './AzureAD';\nimport GitHub from './GitHub';\nimport GoogleOAuth2 from './GoogleOAuth2';\nimport Jobs from './Jobs';\nimport LDAP from './LDAP';\nimport License from './License';\nimport Logging from './Logging';\nimport MiscSystem from './MiscSystem';\nimport RADIUS from './RADIUS';\nimport SAML from './SAML';\nimport SettingList from './SettingList';\nimport TACACS from './TACACS';\nimport UI from './UI';\nimport { SettingsProvider } from '../../contexts/Settings';\nimport { useConfig } from '../../contexts/Config';\nimport { SettingsAPI } from '../../api';\nimport useRequest from '../../util/useRequest';\n\nfunction Settings({ i18n }) {\n  const { license_info = {}, me } = useConfig();\n\n  const { request, result, isLoading, error } = useRequest(\n    useCallback(async () => {\n      const response = await SettingsAPI.readAllOptions();\n      return response.data.actions;\n    }, [])\n  );\n\n  useEffect(() => {\n    request();\n  }, [request]);\n\n  const breadcrumbConfig = {\n    '/settings': i18n._(t`Settings`),\n    '/settings/activity_stream': i18n._(t`活动流`),\n    '/settings/activity_stream/details': i18n._(t`Details`),\n    '/settings/activity_stream/edit': i18n._(t`Edit Details`),\n    '/settings/azure': i18n._(t`Azure AD`),\n    '/settings/azure/details': i18n._(t`Details`),\n    '/settings/azure/edit': i18n._(t`Edit Details`),\n    '/settings/github': null,\n    '/settings/github/default': i18n._(t`GitHub Default`),\n    '/settings/github/default/details': i18n._(t`Details`),\n    '/settings/github/default/edit': i18n._(t`Edit Details`),\n    '/settings/github/organization': i18n._(t`GitHub Organization`),\n    '/settings/github/organization/details': i18n._(t`Details`),\n    '/settings/github/organization/edit': i18n._(t`Edit Details`),\n    '/settings/github/team': i18n._(t`GitHub Team`),\n    '/settings/github/team/details': i18n._(t`Details`),\n    '/settings/github/team/edit': i18n._(t`Edit Details`),\n    '/settings/google_oauth2': i18n._(t`Google OAuth2`),\n    '/settings/google_oauth2/details': i18n._(t`Details`),\n    '/settings/google_oauth2/edit': i18n._(t`Edit Details`),\n    '/settings/jobs': i18n._(t`作业`),\n    '/settings/jobs/details': i18n._(t`Details`),\n    '/settings/jobs/edit': i18n._(t`Edit Details`),\n    '/settings/ldap': null,\n    '/settings/ldap/default': i18n._(t`LDAP Default`),\n    '/settings/ldap/1': i18n._(t`LDAP 1`),\n    '/settings/ldap/2': i18n._(t`LDAP 2`),\n    '/settings/ldap/3': i18n._(t`LDAP 3`),\n    '/settings/ldap/4': i18n._(t`LDAP 4`),\n    '/settings/ldap/5': i18n._(t`LDAP 5`),\n    '/settings/ldap/default/details': i18n._(t`Details`),\n    '/settings/ldap/1/details': i18n._(t`Details`),\n    '/settings/ldap/2/details': i18n._(t`Details`),\n    '/settings/ldap/3/details': i18n._(t`Details`),\n    '/settings/ldap/4/details': i18n._(t`Details`),\n    '/settings/ldap/5/details': i18n._(t`Details`),\n    '/settings/ldap/default/edit': i18n._(t`Edit Details`),\n    '/settings/ldap/1/edit': i18n._(t`Edit Details`),\n    '/settings/ldap/2/edit': i18n._(t`Edit Details`),\n    '/settings/ldap/3/edit': i18n._(t`Edit Details`),\n    '/settings/ldap/4/edit': i18n._(t`Edit Details`),\n    '/settings/ldap/5/edit': i18n._(t`Edit Details`),\n    '/settings/license': i18n._(t`License`),\n    '/settings/logging': i18n._(t`Logging`),\n    '/settings/logging/details': i18n._(t`Details`),\n    '/settings/logging/edit': i18n._(t`Edit Details`),\n    '/settings/miscellaneous_system': i18n._(t`Miscellaneous System`),\n    '/settings/miscellaneous_system/details': i18n._(t`Details`),\n    '/settings/miscellaneous_system/edit': i18n._(t`Edit Details`),\n    '/settings/radius': i18n._(t`RADIUS`),\n    '/settings/radius/details': i18n._(t`Details`),\n    '/settings/radius/edit': i18n._(t`Edit Details`),\n    '/settings/saml': i18n._(t`SAML`),\n    '/settings/saml/details': i18n._(t`Details`),\n    '/settings/saml/edit': i18n._(t`Edit Details`),\n    '/settings/tacacs': i18n._(t`TACACS+`),\n    '/settings/tacacs/details': i18n._(t`Details`),\n    '/settings/tacacs/edit': i18n._(t`Edit Details`),\n    '/settings/ui': i18n._(t`User Interface`),\n    '/settings/ui/details': i18n._(t`Details`),\n    '/settings/ui/edit': i18n._(t`Edit Details`),\n  };\n\n  if (error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error} />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (isLoading || !result || !me) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentLoading />\n        </Card>\n      </PageSection>\n    );\n  }\n\n  if (!me?.is_superuser && !me?.is_system_auditor) {\n    return <Redirect to=\"/\" />;\n  }\n\n  return (\n    <SettingsProvider value={result}>\n      <ScreenHeader streamType=\"setting\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path=\"/settings/activity_stream\">\n          <ActivityStream />\n        </Route>\n        <Route path=\"/settings/azure\">\n          <AzureAD />\n        </Route>\n        <Route path=\"/settings/github\">\n          <GitHub />\n        </Route>\n        <Route path=\"/settings/google_oauth2\">\n          <GoogleOAuth2 />\n        </Route>\n        <Route path=\"/settings/jobs\">\n          <Jobs />\n        </Route>\n        <Route path=\"/settings/ldap\">\n          <LDAP />\n        </Route>\n        <Route path=\"/settings/license\">\n          {license_info?.license_type === 'open' ? (\n            <License />\n          ) : (\n            <Redirect to=\"/settings\" />\n          )}\n        </Route>\n        <Route path=\"/settings/logging\">\n          <Logging />\n        </Route>\n        <Route path=\"/settings/miscellaneous_system\">\n          <MiscSystem />\n        </Route>\n        <Route path=\"/settings/radius\">\n          <RADIUS />\n        </Route>\n        <Route path=\"/settings/saml\">\n          <SAML />\n        </Route>\n        <Route path=\"/settings/tacacs\">\n          <TACACS />\n        </Route>\n        <Route path=\"/settings/ui\">\n          <UI />\n        </Route>\n        <Route path=\"/settings\" exact>\n          <SettingList />\n        </Route>\n        <Route key=\"not-found\" path=\"*\">\n          <PageSection>\n            <Card>\n              <ContentError isNotFound>\n                <Link to=\"/settings\">{i18n._(t`View all settings`)}</Link>\n              </ContentError>\n            </Card>\n          </PageSection>\n        </Route>\n      </Switch>\n    </SettingsProvider>\n  );\n}\n\nexport default withI18n()(Settings);\n","import 'styled-components/macro';\nimport React, { Fragment } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\n\nimport { Team } from '../../../types';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: 40px;\n`;\n\nfunction TeamListItem({ team, isSelected, onSelect, detailUrl, i18n }) {\n  TeamListItem.propTypes = {\n    team: Team.isRequired,\n    detailUrl: string.isRequired,\n    isSelected: bool.isRequired,\n    onSelect: func.isRequired,\n  };\n\n  const labelId = `check-action-${team.id}`;\n\n  return (\n    <DataListItem key={team.id} aria-labelledby={labelId} id={`${team.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-team-${team.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link id={labelId} to={`${detailUrl}`}>\n                <b>{team.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"organization\">\n              {team.summary_fields.organization && (\n                <Fragment>\n                  <b>{i18n._(t`组织`)}</b>{' '}\n                  <Link\n                    to={`/organizations/${team.summary_fields.organization.id}/details`}\n                  >\n                    <b>{team.summary_fields.organization.name}</b>\n                  </Link>\n                </Fragment>\n              )}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {team.summary_fields.user_capabilities.edit ? (\n            <Tooltip content={i18n._(t`编辑团队`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑团队`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/teams/${team.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          ) : (\n            ''\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\nexport default withI18n()(TeamListItem);\n","import React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\n\nimport { TeamsAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\n\nimport TeamListItem from './TeamListItem';\n\nconst QS_CONFIG = getQSConfig('team', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction TeamList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n  const [selected, setSelected] = useState([]);\n\n  const {\n    result: {\n      teams,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTeams,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        TeamsAPI.read(params),\n        TeamsAPI.readOptions(),\n      ]);\n      return {\n        teams: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      teams: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTeams();\n  }, [fetchTeams]);\n\n  const isAllSelected = selected.length === teams.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTeams,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(team => TeamsAPI.destroy(team.id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTeams,\n    }\n  );\n\n  const handleTeamDelete = async () => {\n    await deleteTeams();\n    setSelected([]);\n  };\n\n  const hasContentLoading = isDeleteLoading || isLoading;\n  const canAdd = actions && actions.POST;\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...teams] : []);\n  };\n\n  const handleSelect = row => {\n    if (selected.some(s => s.id === row.id)) {\n      setSelected(selected.filter(s => s.id !== row.id));\n    } else {\n      setSelected(selected.concat(row));\n    }\n  };\n\n  return (\n    <Fragment>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={hasContentLoading}\n            items={teams}\n            itemCount={itemCount}\n            pluralizedItemName={i18n._(t`团队`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n              {\n                name: i18n._(t`Organization Name`),\n                key: 'organization__name__icontains',\n              },\n              {\n                name: i18n._(t`创建者`),\n                key: 'created_by__username__icontains',\n              },\n              {\n                name: i18n._(t`修改者`),\n                key: 'modified_by__username__icontains',\n              },\n            ]}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={handleSelectAll}\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [\n                        <ToolbarAddButton\n                          key=\"add\"\n                          linkTo={`${match.url}/add`}\n                        />,\n                      ]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleTeamDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`团队`)}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={o => (\n              <TeamListItem\n                key={o.id}\n                team={o}\n                detailUrl={`${match.url}/${o.id}`}\n                isSelected={selected.some(row => row.id === o.id)}\n                onSelect={() => handleSelect(o)}\n              />\n            )}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n              ) : null\n            }\n          />\n        </Card>\n      </PageSection>\n      <AlertModal\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more teams.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(TeamList);\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { Form } from '@patternfly/react-core';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport { required } from '../../../util/validators';\nimport { FormColumnLayout } from '../../../components/FormLayout';\n\nfunction TeamFormFields({ team, i18n }) {\n  const { setFieldValue } = useFormikContext();\n  const [organization, setOrganization] = useState(\n    team.summary_fields ? team.summary_fields.organization : null\n  );\n  const [, orgMeta, orgHelpers] = useField({\n    name: 'organization',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value.id);\n      setOrganization(value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"team-name\"\n        label={i18n._(t`名称`)}\n        name=\"name\"\n        type=\"text\"\n        validate={required(null, i18n)}\n        isRequired\n      />\n      <FormField\n        id=\"team-description\"\n        label={i18n._(t`描述`)}\n        name=\"description\"\n        type=\"text\"\n      />\n      <OrganizationLookup\n        helperTextInvalid={orgMeta.error}\n        isValid={!orgMeta.touched || !orgMeta.error}\n        onBlur={() => orgHelpers.setTouched('organization')}\n        onChange={onOrganizationChange}\n        value={organization}\n        required\n        autoPopulate={!team?.id}\n      />\n    </>\n  );\n}\n\nfunction TeamForm(props) {\n  const { team, handleCancel, handleSubmit, submitError, ...rest } = props;\n\n  return (\n    <Formik\n      initialValues={{\n        description: team.description || '',\n        name: team.name || '',\n        organization: team.organization || '',\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <TeamFormFields team={team} {...rest} />\n            <FormSubmitError error={submitError} />\n            <FormActionGroup\n              onCancel={handleCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nTeamForm.propTypes = {\n  handleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  team: PropTypes.shape({}),\n  submitError: PropTypes.shape(),\n};\n\nTeamForm.defaultProps = {\n  team: {},\n  submitError: null,\n};\n\nexport default withI18n()(TeamForm);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { PageSection, Card } from '@patternfly/react-core';\n\nimport { TeamsAPI } from '../../../api';\nimport { Config } from '../../../contexts/Config';\nimport { CardBody } from '../../../components/Card';\nimport TeamForm from '../shared/TeamForm';\n\nclass TeamAdd extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleCancel = this.handleCancel.bind(this);\n    this.state = { error: null };\n  }\n\n  async handleSubmit(values) {\n    const { history } = this.props;\n    try {\n      const { data: response } = await TeamsAPI.create(values);\n      history.push(`/teams/${response.id}`);\n    } catch (error) {\n      this.setState({ error });\n    }\n  }\n\n  handleCancel() {\n    const { history } = this.props;\n    history.push('/teams');\n  }\n\n  render() {\n    const { error } = this.state;\n\n    return (\n      <PageSection>\n        <Card>\n          <CardBody>\n            <Config>\n              {({ me }) => (\n                <TeamForm\n                  handleSubmit={this.handleSubmit}\n                  handleCancel={this.handleCancel}\n                  me={me || {}}\n                  submitError={error}\n                />\n              )}\n            </Config>\n          </CardBody>\n        </Card>\n      </PageSection>\n    );\n  }\n}\n\nexport { TeamAdd as _TeamAdd };\nexport default withRouter(TeamAdd);\n","import React, { useCallback } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button } from '@patternfly/react-core';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport { DetailList, Detail } from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { formatDateString } from '../../../util/dates';\nimport { TeamsAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nfunction TeamDetail({ team, i18n }) {\n  const { name, description, created, modified, summary_fields } = team;\n  const history = useHistory();\n  const { id } = useParams();\n\n  const { request: deleteTeam, isLoading, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await TeamsAPI.destroy(id);\n      history.push(`/teams`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`名称`)}\n          value={name}\n          dataCy=\"team-detail-name\"\n        />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail\n          label={i18n._(t`组织`)}\n          value={\n            <Link to={`/organizations/${summary_fields.organization.id}`}>\n              {summary_fields.organization.name}\n            </Link>\n          }\n        />\n        <Detail label={i18n._(t`已创建`)} value={formatDateString(created)} />\n        <Detail\n          label={i18n._(t`上次修改时间`)}\n          value={formatDateString(modified)}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              aria-label={i18n._(t`Edit`)}\n              component={Link}\n              to={`/teams/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete Team`)}\n              onConfirm={deleteTeam}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete team.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(TeamDetail);\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useHistory } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\n\nimport { TeamsAPI } from '../../../api';\nimport { Config } from '../../../contexts/Config';\n\nimport TeamForm from '../shared/TeamForm';\n\nfunction TeamEdit({ team }) {\n  const history = useHistory();\n  const [error, setError] = useState(null);\n\n  const handleSubmit = async values => {\n    try {\n      await TeamsAPI.update(team.id, values);\n      history.push(`/teams/${team.id}/details`);\n    } catch (err) {\n      setError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/teams/${team.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <Config>\n        {({ me }) => (\n          <TeamForm\n            team={team}\n            handleSubmit={handleSubmit}\n            handleCancel={handleCancel}\n            me={me || {}}\n            submitError={error}\n          />\n        )}\n      </Config>\n    </CardBody>\n  );\n}\n\nTeamEdit.propTypes = {\n  team: PropTypes.shape().isRequired,\n};\n\nTeamEdit.contextTypes = {\n  custom_virtualenvs: PropTypes.arrayOf(PropTypes.string),\n};\n\nexport default TeamEdit;\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Chip,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { DetailList, Detail } from '../../../components/DetailList';\nimport DataListCell from '../../../components/DataListCell';\n\nfunction TeamRoleListItem({ role, i18n, detailUrl, onSelect }) {\n  const labelId = `teamRole-${role.id}`;\n  return (\n    <DataListItem key={role.id} aria-labelledby={labelId} id={`${role.id}`}>\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" aria-label={i18n._(t`resource name`)}>\n              <Link to={`${detailUrl}`} id={labelId}>\n                <b>{role.summary_fields.resource_name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"type\" aria-label={i18n._(t`resource type`)}>\n              {role.summary_fields && (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`类型`)}\n                    value={role.summary_fields.resource_type_display_name}\n                  />\n                </DetailList>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"role\" aria-label={i18n._(t`resource role`)}>\n              {role.name && (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`Role`)}\n                    value={\n                      <Chip\n                        key={role.name}\n                        aria-label={role.name}\n                        onClick={() => onSelect(role)}\n                        isReadOnly={\n                          !role.summary_fields.user_capabilities.unattach\n                        }\n                      >\n                        {role.name}\n                      </Chip>\n                    }\n                  />\n                </DetailList>\n              )}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\nexport default withI18n()(TeamRoleListItem);\n","import { t } from '@lingui/macro';\nimport {\n  JobTemplatesAPI,\n  WorkflowJobTemplatesAPI,\n  CredentialsAPI,\n  InventoriesAPI,\n  ProjectsAPI,\n  OrganizationsAPI,\n} from '../../api';\n\nexport default function getResourceAccessConfig(i18n) {\n  return [\n    {\n      selectedResource: 'jobTemplate',\n      label: i18n._(t`Job templates`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`剧本名称`),\n          key: 'playbook__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => JobTemplatesAPI.read(queryParams),\n      fetchOptions: () => JobTemplatesAPI.readOptions(),\n    },\n    {\n      selectedResource: 'workflowJobTemplate',\n      label: i18n._(t`Workflow job templates`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`剧本名称`),\n          key: 'playbook__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => WorkflowJobTemplatesAPI.read(queryParams),\n      fetchOptions: () => WorkflowJobTemplatesAPI.readOptions(),\n    },\n    {\n      selectedResource: 'credential',\n      label: i18n._(t`Credentials`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`类型`),\n          key: 'or__scm_type',\n          options: [\n            [``, i18n._(t`Manual`)],\n            [`git`, i18n._(t`Git`)],\n            [`svn`, i18n._(t`Subversion`)],\n            [`archive`, i18n._(t`Remote Archive`)],\n            [`insights`, i18n._(t`Red Hat Insights`)],\n          ],\n        },\n        {\n          name: i18n._(t`Source Control URL`),\n          key: 'scm_url__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => CredentialsAPI.read(queryParams),\n      fetchOptions: () => CredentialsAPI.readOptions(),\n    },\n    {\n      selectedResource: 'inventory',\n      label: i18n._(t`Inventories`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => InventoriesAPI.read(queryParams),\n      fetchOptions: () => InventoriesAPI.readOptions(),\n    },\n    {\n      selectedResource: 'project',\n      label: i18n._(t`Projects`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`类型`),\n          key: 'or__scm_type',\n          options: [\n            [``, i18n._(t`Manual`)],\n            [`git`, i18n._(t`Git`)],\n            [`svn`, i18n._(t`Subversion`)],\n            [`archive`, i18n._(t`Remote Archive`)],\n            [`insights`, i18n._(t`Red Hat Insights`)],\n          ],\n        },\n        {\n          name: i18n._(t`Source Control URL`),\n          key: 'scm_url__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => ProjectsAPI.read(queryParams),\n      fetchOptions: () => ProjectsAPI.readOptions(),\n    },\n    {\n      selectedResource: 'organization',\n      label: i18n._(t`Organizations`),\n      searchColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ],\n      sortColumns: [\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ],\n      fetchItems: queryParams => OrganizationsAPI.read(queryParams),\n      fetchOptions: () => OrganizationsAPI.readOptions(),\n    },\n  ];\n}\n","import React, { useState, useCallback, useEffect, useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Button, DropdownItem } from '@patternfly/react-core';\nimport { KebabifiedContext } from '../../contexts/Kebabified';\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport SelectableCard from '../SelectableCard';\nimport AlertModal from '../AlertModal';\nimport ErrorDetail from '../ErrorDetail';\nimport Wizard from '../Wizard/Wizard';\nimport useSelected from '../../util/useSelected';\nimport SelectResourceStep from '../AddRole/SelectResourceStep';\nimport SelectRoleStep from '../AddRole/SelectRoleStep';\nimport getResourceAccessConfig from './getResourceAccessConfig';\n\nconst Grid = styled.div`\n  display: grid;\n  grid-gap: 20px;\n  grid-template-columns: 33% 33% 33%;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n`;\n\nfunction UserAndTeamAccessAdd({ i18n, title, onFetchData, apiModel }) {\n  const [selectedResourceType, setSelectedResourceType] = useState(null);\n  const [isWizardOpen, setIsWizardOpen] = useState(false);\n  const [stepIdReached, setStepIdReached] = useState(1);\n  const { id: userId } = useParams();\n  const { isKebabified, onKebabModalChange } = useContext(KebabifiedContext);\n  const {\n    selected: resourcesSelected,\n    handleSelect: handleResourceSelect,\n  } = useSelected([]);\n  useEffect(() => {\n    if (isKebabified) {\n      onKebabModalChange(isWizardOpen);\n    }\n  }, [isKebabified, isWizardOpen, onKebabModalChange]);\n\n  const {\n    selected: rolesSelected,\n    handleSelect: handleRoleSelect,\n  } = useSelected([]);\n\n  const { request: handleWizardSave, error: saveError } = useRequest(\n    useCallback(async () => {\n      const roleRequests = [];\n      const resourceRolesTypes = resourcesSelected.flatMap(resource =>\n        Object.values(resource.summary_fields.object_roles)\n      );\n\n      rolesSelected.map(role =>\n        resourceRolesTypes.forEach(rolename => {\n          if (rolename.name === role.name) {\n            roleRequests.push(apiModel.associateRole(userId, rolename.id));\n          }\n        })\n      );\n\n      await Promise.all(roleRequests);\n      onFetchData();\n      setIsWizardOpen(false);\n    }, [onFetchData, rolesSelected, apiModel, userId, resourcesSelected]),\n    {}\n  );\n\n  const { error, dismissError } = useDismissableError(saveError);\n\n  const steps = [\n    {\n      id: 1,\n      name: i18n._(t`Add resource type`),\n      component: (\n        <Grid>\n          {getResourceAccessConfig(i18n).map(resource => (\n            <SelectableCard\n              key={resource.selectedResource}\n              isSelected={\n                resource.selectedResource ===\n                selectedResourceType?.selectedResource\n              }\n              label={resource.label}\n              dataCy={`add-role-${resource.selectedResource}`}\n              onClick={() => setSelectedResourceType(resource)}\n            />\n          ))}\n        </Grid>\n      ),\n      enableNext: selectedResourceType !== null,\n    },\n    {\n      id: 2,\n      name: i18n._(t`Select items from list`),\n      component: selectedResourceType && (\n        <SelectResourceStep\n          searchColumns={selectedResourceType.searchColumns}\n          sortColumns={selectedResourceType.sortColumns}\n          displayKey=\"name\"\n          onRowClick={handleResourceSelect}\n          fetchItems={selectedResourceType.fetchItems}\n          fetchOptions={selectedResourceType.fetchOptions}\n          selectedLabel={i18n._(t`已选择`)}\n          selectedResourceRows={resourcesSelected}\n          sortedColumnKey=\"username\"\n        />\n      ),\n      enableNext: resourcesSelected.length > 0,\n      canJumpTo: stepIdReached >= 2,\n    },\n    {\n      id: 3,\n      name: i18n._(t`Select roles to apply`),\n      component: resourcesSelected?.length > 0 && (\n        <SelectRoleStep\n          onRolesClick={handleRoleSelect}\n          roles={resourcesSelected[0].summary_fields.object_roles}\n          selectedListKey={\n            selectedResourceType === 'users' ? 'username' : 'name'\n          }\n          selectedListLabel={i18n._(t`已选择`)}\n          selectedResourceRows={resourcesSelected}\n          selectedRoleRows={rolesSelected}\n        />\n      ),\n      nextButtonText: i18n._(t`Save`),\n      canJumpTo: stepIdReached >= 3,\n    },\n  ];\n\n  if (error) {\n    return (\n      <AlertModal\n        aria-label={i18n._(t`Associate role error`)}\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={dismissError}\n      >\n        {i18n._(t`Failed to associate role`)}\n        <ErrorDetail error={error} />\n      </AlertModal>\n    );\n  }\n\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"add\"\n          component=\"button\"\n          aria-label={i18n._(t`添加`)}\n          onClick={() => setIsWizardOpen(true)}\n        >\n          {i18n._(t`添加`)}\n        </DropdownItem>\n      ) : (\n        <Button\n          variant=\"primary\"\n          aria-label={i18n._(t`添加`)}\n          onClick={() => setIsWizardOpen(true)}\n          key=\"add\"\n        >\n          {i18n._(t`添加`)}\n        </Button>\n      )}\n      {isWizardOpen && (\n        <Wizard\n          isOpen={isWizardOpen}\n          title={title}\n          steps={steps}\n          onClose={() => setIsWizardOpen(false)}\n          onNext={({ id }) =>\n            setStepIdReached(stepIdReached < id ? id : stepIdReached)\n          }\n          onSave={handleWizardSave}\n        />\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(UserAndTeamAccessAdd);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\nimport { TeamsAPI, RolesAPI, UsersAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\nimport TeamRoleListItem from './TeamRoleListItem';\nimport UserAndTeamAccessAdd from '../../../components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';\n\nconst QS_CONFIG = getQSConfig('roles', {\n  page: 1,\n  page_size: 20,\n  order_by: 'id',\n});\n\nfunction TeamRolesList({ i18n, me, team }) {\n  const { search } = useLocation();\n  const [roleToDisassociate, setRoleToDisassociate] = useState(null);\n\n  const {\n    isLoading,\n    request: fetchRoles,\n    contentError,\n    result: {\n      roleCount,\n      roles,\n      isAdminOfOrg,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const [\n        {\n          data: { results, count },\n        },\n        { count: orgAdminCount },\n        actionsResponse,\n      ] = await Promise.all([\n        TeamsAPI.readRoles(team.id, params),\n        UsersAPI.readAdminOfOrganizations(me.id, {\n          id: team.organization,\n        }),\n        TeamsAPI.readRoleOptions(team.id),\n      ]);\n      return {\n        roleCount: count,\n        roles: results,\n        isAdminOfOrg: orgAdminCount > 0,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [me.id, team.id, team.organization, search]),\n    {\n      roles: [],\n      roleCount: 0,\n      isAdminOfOrg: false,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchRoles();\n  }, [fetchRoles]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateRole,\n    deletionError: disassociationError,\n    clearDeletionError: clearDisassociationError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      setRoleToDisassociate(null);\n      await RolesAPI.disassociateTeamRole(\n        roleToDisassociate.id,\n        parseInt(team.id, 10)\n      );\n    }, [roleToDisassociate, team.id]),\n    { qsConfig: QS_CONFIG, fetchItems: fetchRoles }\n  );\n\n  const canAdd = team?.summary_fields?.user_capabilities?.edit || isAdminOfOrg;\n  const detailUrl = role => {\n    const { resource_id, resource_type } = role.summary_fields;\n\n    if (!role || !resource_type) {\n      return null;\n    }\n\n    if (resource_type?.includes('template')) {\n      return `/templates/${resource_type}/${resource_id}/details`;\n    }\n    if (resource_type?.includes('inventory')) {\n      return `/inventories/${resource_type}/${resource_id}/details`;\n    }\n    return `/${resource_type}s/${resource_id}/details`;\n  };\n\n  const isSysAdmin = roles.some(role => role.name === 'System Administrator');\n  if (isSysAdmin) {\n    return (\n      <EmptyState variant=\"full\">\n        <EmptyStateIcon icon={CubesIcon} />\n        <Title headingLevel=\"h5\" size=\"lg\">\n          {i18n._(t`System Administrator`)}\n        </Title>\n        <EmptyStateBody>\n          {i18n._(\n            t`System administrators have unrestricted access to all resources.`\n          )}\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  }\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={roles}\n        itemCount={roleCount}\n        pluralizedItemName={i18n._(t`Team Roles`)}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`Role`),\n            key: 'role_field__icontains',\n            isDefault: true,\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`ID`),\n            key: 'id',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <UserAndTeamAccessAdd\n                      apiModel={TeamsAPI}\n                      onFetchData={fetchRoles}\n                      title={i18n._(t`Add team permissions`)}\n                    />,\n                  ]\n                : []),\n            ]}\n          />\n        )}\n        renderItem={role => (\n          <TeamRoleListItem\n            key={role.id}\n            role={role}\n            detailUrl={detailUrl(role)}\n            onSelect={item => {\n              setRoleToDisassociate(item);\n            }}\n          />\n        )}\n      />\n\n      {roleToDisassociate && (\n        <AlertModal\n          aria-label={i18n._(t`Disassociate role`)}\n          isOpen={roleToDisassociate}\n          variant=\"error\"\n          title={i18n._(t`Disassociate role!`)}\n          onClose={() => setRoleToDisassociate(null)}\n          actions={[\n            <Button\n              key=\"disassociate\"\n              variant=\"danger\"\n              aria-label={i18n._(t`confirm disassociate`)}\n              onClick={() => disassociateRole()}\n            >\n              {i18n._(t`Disassociate`)}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"secondary\"\n              aria-label={i18n._(t`取消`)}\n              onClick={() => setRoleToDisassociate(null)}\n            >\n              {i18n._(t`取消`)}\n            </Button>,\n          ]}\n        >\n          <div>\n            {i18n._(\n              t`This action will disassociate the following role from ${roleToDisassociate.summary_fields.resource_name}:`\n            )}\n            <br />\n            <strong>{roleToDisassociate.name}</strong>\n          </div>\n        </AlertModal>\n      )}\n      {disassociationError && (\n        <AlertModal\n          isOpen={disassociationError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDisassociationError}\n        >\n          {i18n._(t`Failed to delete role.`)}\n          <ErrorDetail error={disassociationError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(TeamRolesList);\n","import React, { useState, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Link,\n  Redirect,\n  Route,\n  Switch,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { Config } from '../../contexts/Config';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport TeamDetail from './TeamDetail';\nimport TeamEdit from './TeamEdit';\nimport { TeamsAPI } from '../../api';\nimport TeamRolesList from './TeamRoles';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\n\nfunction Team({ i18n, setBreadcrumb }) {\n  const [team, setTeam] = useState(null);\n  const [contentError, setContentError] = useState(null);\n  const [hasContentLoading, setHasContentLoading] = useState(true);\n  const location = useLocation();\n  const { id } = useParams();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await TeamsAPI.readDetail(id);\n        setBreadcrumb(data);\n        setTeam(data);\n      } catch (error) {\n        setContentError(error);\n      } finally {\n        setHasContentLoading(false);\n      }\n    })();\n  }, [id, setBreadcrumb, location]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Teams`)}\n        </>\n      ),\n      link: `/teams`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `/teams/${id}/details`, id: 0 },\n    { name: i18n._(t`Access`), link: `/teams/${id}/access`, id: 1 },\n    { name: i18n._(t`Roles`), link: `/teams/${id}/roles`, id: 2 },\n  ];\n\n  let showCardHeader = true;\n\n  if (location.pathname.endsWith('edit')) {\n    showCardHeader = false;\n  }\n\n  if (!hasContentLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response.status === 404 && (\n              <span>\n                {i18n._(t`Team not found.`)}{' '}\n                <Link to=\"/teams\">{i18n._(t`View all Teams.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect from=\"/teams/:id\" to=\"/teams/:id/details\" exact />\n          {team && (\n            <Route path=\"/teams/:id/details\">\n              <TeamDetail team={team} />\n            </Route>\n          )}\n          {team && (\n            <Route path=\"/teams/:id/edit\">\n              <TeamEdit team={team} />\n            </Route>\n          )}\n          {team && (\n            <Route path=\"/teams/:id/access\">\n              <ResourceAccessList resource={team} apiModel={TeamsAPI} />\n            </Route>\n          )}\n          {team && (\n            <Route path=\"/teams/:id/roles\">\n              <Config>\n                {({ me }) => <>{me && <TeamRolesList me={me} team={team} />}</>}\n              </Config>\n            </Route>\n          )}\n          <Route key=\"not-found\" path=\"*\">\n            {!hasContentLoading && (\n              <ContentError isNotFound>\n                {id && (\n                  <Link to={`/teams/${id}/details`}>\n                    {i18n._(t`View Team Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            )}\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(Team);\nexport { Team as _Team };\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Config } from '../../contexts/Config';\nimport ScreenHeader from '../../components/ScreenHeader';\nimport TeamList from './TeamList';\nimport TeamAdd from './TeamAdd';\nimport Team from './Team';\n\nfunction Teams({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/teams': i18n._(t`团队`),\n    '/teams/add': i18n._(t`Create New Team`),\n  });\n\n  const buildBreadcrumbConfig = useCallback(\n    team => {\n      if (!team) {\n        return;\n      }\n\n      setBreadcrumbConfig({\n        '/teams': i18n._(t`团队`),\n        '/teams/add': i18n._(t`Create New Team`),\n        [`/teams/${team.id}`]: `${team.name}`,\n        [`/teams/${team.id}/edit`]: i18n._(t`Edit Details`),\n        [`/teams/${team.id}/details`]: i18n._(t`Details`),\n        [`/teams/${team.id}/users`]: i18n._(t`用户`),\n        [`/teams/${team.id}/access`]: i18n._(t`Access`),\n        [`/teams/${team.id}/roles`]: i18n._(t`Roles`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader streamType=\"team\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path=\"/teams/add\">\n          <TeamAdd />\n        </Route>\n        <Route path=\"/teams/:id\">\n          <Team setBreadcrumb={buildBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/teams\">\n          <Config>\n            {({ me }) => <TeamList path=\"/teams\" me={me || {}} />}\n          </Config>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Teams as _Teams };\nexport default withI18n()(Teams);\n","import 'styled-components/macro';\nimport React, { useState, useCallback } from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemRow,\n  DataListItemCells,\n  Tooltip,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  ExclamationTriangleIcon,\n  PencilAltIcon,\n  ProjectDiagramIcon,\n  RocketIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\n\nimport { timeOfDay } from '../../../util/dates';\n\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from '../../../api';\nimport LaunchButton from '../../../components/LaunchButton';\nimport Sparkline from '../../../components/Sparkline';\nimport { toTitleCase } from '../../../util/strings';\nimport CopyButton from '../../../components/CopyButton';\n\nconst DataListAction = styled(_DataListAction)`\n  align-items: center;\n  display: grid;\n  grid-gap: 16px;\n  grid-template-columns: repeat(4, 40px);\n`;\n\nfunction TemplateListItem({\n  i18n,\n  template,\n  isSelected,\n  onSelect,\n  detailUrl,\n  fetchTemplates,\n}) {\n  const [isDisabled, setIsDisabled] = useState(false);\n  const labelId = `check-action-${template.id}`;\n\n  const copyTemplate = useCallback(async () => {\n    if (template.type === 'job_template') {\n      await JobTemplatesAPI.copy(template.id, {\n        name: `${template.name} @ ${timeOfDay()}`,\n      });\n    } else {\n      await WorkflowJobTemplatesAPI.copy(template.id, {\n        name: `${template.name} @ ${timeOfDay()}`,\n      });\n    }\n    await fetchTemplates();\n  }, [fetchTemplates, template.id, template.name, template.type]);\n\n  const handleCopyStart = useCallback(() => {\n    setIsDisabled(true);\n  }, []);\n\n  const handleCopyFinish = useCallback(() => {\n    setIsDisabled(false);\n  }, []);\n\n  const missingResourceIcon =\n    template.type === 'job_template' &&\n    (!template.summary_fields.project ||\n      (!template.summary_fields.inventory &&\n        !template.ask_inventory_on_launch));\n  return (\n    <DataListItem aria-labelledby={labelId} id={`${template.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          isDisabled={isDisabled}\n          id={`select-jobTemplate-${template.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" id={labelId}>\n              <span>\n                <Link to={`${detailUrl}`}>\n                  <b>{template.name}</b>\n                </Link>\n              </span>\n              {missingResourceIcon && (\n                <span>\n                  <Tooltip\n                    content={i18n._(\n                      t`Resources are missing from this template.`\n                    )}\n                    position=\"right\"\n                  >\n                    <ExclamationTriangleIcon css=\"color: #c9190b; margin-left: 20px;\" />\n                  </Tooltip>\n                </span>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"type\">\n              {toTitleCase(template.type)}\n            </DataListCell>,\n            <DataListCell key=\"sparkline\">\n              <Sparkline jobs={template.summary_fields.recent_jobs} />\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction aria-label=\"actions\" aria-labelledby={labelId}>\n          {template.type === 'workflow_job_template' && (\n            <Tooltip content={i18n._(t`可视化`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`可视化`)}\n                css=\"grid-column: 1\"\n                variant=\"plain\"\n                component={Link}\n                to={`/templates/workflow_job_template/${template.id}/visualizer`}\n              >\n                <ProjectDiagramIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.start && (\n            <Tooltip content={i18n._(t`运行模板`)} position=\"top\">\n              <LaunchButton resource={template}>\n                {({ handleLaunch }) => (\n                  <Button\n                    isDisabled={isDisabled}\n                    aria-label={i18n._(t`Launch template`)}\n                    css=\"grid-column: 2\"\n                    variant=\"plain\"\n                    onClick={handleLaunch}\n                  >\n                    <RocketIcon />\n                  </Button>\n                )}\n              </LaunchButton>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑模板`)} position=\"top\">\n              <Button\n                isDisabled={isDisabled}\n                aria-label={i18n._(t`编辑模板`)}\n                css=\"grid-column: 3\"\n                variant=\"plain\"\n                component={Link}\n                to={`/templates/${template.type}/${template.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n          {template.summary_fields.user_capabilities.copy && (\n            <CopyButton\n              helperText={{\n                tooltip: i18n._(t`复制模板`),\n                errorMessage: i18n._(t`Failed to copy template.`),\n              }}\n              isDisabled={isDisabled}\n              onCopyStart={handleCopyStart}\n              onCopyFinish={handleCopyFinish}\n              copyItem={copyTemplate}\n            />\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport { TemplateListItem as _TemplateListItem };\nexport default withI18n()(TemplateListItem);\n","import React, { Fragment, useEffect, useState, useCallback } from 'react';\nimport { useLocation, Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, DropdownItem } from '@patternfly/react-core';\nimport {\n  JobTemplatesAPI,\n  UnifiedJobTemplatesAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useWsTemplates from '../../../util/useWsTemplates';\nimport AddDropDownButton from '../../../components/AddDropDownButton';\nimport TemplateListItem from './TemplateListItem';\n\n// The type value in const QS_CONFIG below does not have a space between job_template and\n// workflow_job_template so the params sent to the API match what the api expects.\nconst QS_CONFIG = getQSConfig('template', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n  type: 'job_template,workflow_job_template',\n});\n\nfunction TemplateList({ i18n }) {\n  const location = useLocation();\n  const [selected, setSelected] = useState([]);\n\n  const {\n    result: {\n      results,\n      count,\n      jtActions,\n      wfjtActions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const responses = await Promise.all([\n        UnifiedJobTemplatesAPI.read(params),\n        JobTemplatesAPI.readOptions(),\n        WorkflowJobTemplatesAPI.readOptions(),\n        UnifiedJobTemplatesAPI.readOptions(),\n      ]);\n      return {\n        results: responses[0].data.results,\n        count: responses[0].data.count,\n        jtActions: responses[1].data.actions,\n        wfjtActions: responses[2].data.actions,\n        relatedSearchableKeys: (\n          responses[3]?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          responses[3].data.actions?.GET || {}\n        ).filter(key => responses[3].data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      results: [],\n      count: 0,\n      jtActions: {},\n      wfjtActions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTemplates();\n  }, [fetchTemplates]);\n\n  const templates = useWsTemplates(results);\n\n  const isAllSelected =\n    selected.length === templates.length && selected.length > 0;\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTemplates,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ type, id }) => {\n          if (type === 'job_template') {\n            return JobTemplatesAPI.destroy(id);\n          }\n          if (type === 'workflow_job_template') {\n            return WorkflowJobTemplatesAPI.destroy(id);\n          }\n          return false;\n        })\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTemplates,\n    }\n  );\n\n  const handleTemplateDelete = async () => {\n    await deleteTemplates();\n    setSelected([]);\n  };\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...templates] : []);\n  };\n\n  const handleSelect = template => {\n    if (selected.some(s => s.id === template.id)) {\n      setSelected(selected.filter(s => s.id !== template.id));\n    } else {\n      setSelected(selected.concat(template));\n    }\n  };\n\n  const canAddJT =\n    jtActions && Object.prototype.hasOwnProperty.call(jtActions, 'POST');\n  const canAddWFJT =\n    wfjtActions && Object.prototype.hasOwnProperty.call(wfjtActions, 'POST');\n\n  const addTemplate = i18n._(t`Add job template`);\n  const addWFTemplate = i18n._(t`Add workflow template`);\n  const addDropDownButton = [];\n  if (canAddJT) {\n    addDropDownButton.push(\n      <DropdownItem\n        key={addTemplate}\n        component={Link}\n        to=\"/templates/job_template/add/\"\n        aria-label={addTemplate}\n      >\n        {addTemplate}\n      </DropdownItem>\n    );\n  }\n  if (canAddWFJT) {\n    addDropDownButton.push(\n      <DropdownItem\n        component={Link}\n        to=\"/templates/workflow_job_template/add/\"\n        key={addWFTemplate}\n        aria-label={addWFTemplate}\n      >\n        {addWFTemplate}\n      </DropdownItem>\n    );\n  }\n  const addButton = (\n    <AddDropDownButton key=\"add\" dropdownItems={addDropDownButton} />\n  );\n\n  return (\n    <Fragment>\n      <Card>\n        <PaginatedDataList\n          contentError={contentError}\n          hasContentLoading={isLoading || isDeleteLoading}\n          items={templates}\n          itemCount={count}\n          pluralizedItemName={i18n._(t`Templates`)}\n          qsConfig={QS_CONFIG}\n          onRowClick={handleSelect}\n          toolbarSearchColumns={[\n            {\n              name: i18n._(t`名称`),\n              key: 'name__icontains',\n              isDefault: true,\n            },\n            {\n              name: i18n._(t`描述`),\n              key: 'description__icontains',\n            },\n            {\n              name: i18n._(t`类型`),\n              key: 'or__type',\n              options: [\n                [`job_template`, i18n._(t`作业模板`)],\n                [`workflow_job_template`, i18n._(t`Workflow Template`)],\n              ],\n            },\n            {\n              name: i18n._(t`剧本名称`),\n              key: 'job_template__playbook__icontains',\n            },\n            {\n              name: i18n._(t`创建者`),\n              key: 'created_by__username__icontains',\n            },\n            {\n              name: i18n._(t`修改者`),\n              key: 'modified_by__username__icontains',\n            },\n          ]}\n          toolbarSortColumns={[\n            {\n              name: i18n._(t`清单`),\n              key: 'job_template__inventory__id',\n            },\n            {\n              name: i18n._(t`最后运行`),\n              key: 'last_job_run',\n            },\n            {\n              name: i18n._(t`更改`),\n              key: 'modified',\n            },\n            {\n              name: i18n._(t`名称`),\n              key: 'name',\n            },\n            {\n              name: i18n._(t`项目`),\n              key: 'jobtemplate__project__id',\n            },\n            {\n              name: i18n._(t`类型`),\n              key: 'type',\n            },\n          ]}\n          toolbarSearchableKeys={searchableKeys}\n          toolbarRelatedSearchableKeys={relatedSearchableKeys}\n          renderToolbar={props => (\n            <DatalistToolbar\n              {...props}\n              showSelectAll\n              isAllSelected={isAllSelected}\n              onSelectAll={handleSelectAll}\n              qsConfig={QS_CONFIG}\n              additionalControls={[\n                ...(canAddJT || canAddWFJT ? [addButton] : []),\n                <ToolbarDeleteButton\n                  key=\"delete\"\n                  onDelete={handleTemplateDelete}\n                  itemsToDelete={selected}\n                  pluralizedItemName=\"Templates\"\n                />,\n              ]}\n            />\n          )}\n          renderItem={template => (\n            <TemplateListItem\n              key={template.id}\n              value={template.name}\n              template={template}\n              detailUrl={`/templates/${template.type}/${template.id}`}\n              onSelect={() => handleSelect(template)}\n              isSelected={selected.some(row => row.id === template.id)}\n              fetchTemplates={fetchTemplates}\n            />\n          )}\n          emptyStateControls={(canAddJT || canAddWFJT) && addButton}\n        />\n      </Card>\n      <AlertModal\n        aria-label={i18n._(t`Deletion Error`)}\n        isOpen={deletionError}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={clearDeletionError}\n      >\n        {i18n._(t`Failed to delete one or more templates.`)}\n        <ErrorDetail error={deletionError} />\n      </AlertModal>\n    </Fragment>\n  );\n}\n\nexport default withI18n()(TemplateList);\n","import React, { Fragment, useCallback, useEffect } from 'react';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport {\n  Button,\n  Chip,\n  TextList,\n  TextListItem,\n  TextListItemVariants,\n  TextListVariants,\n  Label,\n} from '@patternfly/react-core';\nimport { t } from '@lingui/macro';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ChipGroup from '../../../components/ChipGroup';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport CredentialChip from '../../../components/CredentialChip';\nimport {\n  Detail,\n  DetailList,\n  DeletedDetail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport DeleteButton from '../../../components/DeleteButton';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport LaunchButton from '../../../components/LaunchButton';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport { JobTemplatesAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nfunction JobTemplateDetail({ i18n, template }) {\n  const {\n    ask_inventory_on_launch,\n    allow_simultaneous,\n    become_enabled,\n    created,\n    description,\n    diff_mode,\n    extra_vars,\n    forks,\n    host_config_key,\n    job_slice_count,\n    job_tags,\n    job_type,\n    name,\n    limit,\n    modified,\n    playbook,\n    skip_tags,\n    timeout,\n    summary_fields,\n    use_fact_cache,\n    url,\n    verbosity,\n    webhook_service,\n    related: { webhook_receiver },\n    webhook_key,\n  } = template;\n  const { id: templateId } = useParams();\n  const history = useHistory();\n\n  const {\n    isLoading: isLoadingInstanceGroups,\n    request: fetchInstanceGroups,\n    error: instanceGroupsError,\n    result: { instanceGroups },\n  } = useRequest(\n    useCallback(async () => {\n      const {\n        data: { results },\n      } = await JobTemplatesAPI.readInstanceGroups(templateId);\n      return { instanceGroups: results };\n    }, [templateId]),\n    { instanceGroups: [] }\n  );\n\n  useEffect(() => {\n    fetchInstanceGroups();\n  }, [fetchInstanceGroups]);\n\n  const {\n    request: deleteJobTemplate,\n    isLoading: isDeleteLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await JobTemplatesAPI.destroy(templateId);\n      history.push(`/templates`);\n    }, [templateId, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const canLaunch =\n    summary_fields.user_capabilities && summary_fields.user_capabilities.start;\n  const verbosityOptions = [\n    { verbosity: 0, details: i18n._(t`0 (Normal)`) },\n    { verbosity: 1, details: i18n._(t`1 (Verbose)`) },\n    { verbosity: 2, details: i18n._(t`2 (More Verbose)`) },\n    { verbosity: 3, details: i18n._(t`3 (Debug)`) },\n    { verbosity: 4, details: i18n._(t`4 (Connection Debug)`) },\n    { verbosity: 5, details: i18n._(t`5 (WinRM Debug)`) },\n  ];\n  const verbosityDetails = verbosityOptions.filter(\n    option => option.verbosity === verbosity\n  );\n  const generateCallBackUrl = `${window.location.origin + url}callback/`;\n  const renderOptionsField =\n    become_enabled || host_config_key || allow_simultaneous || use_fact_cache;\n\n  const renderOptions = (\n    <TextList component={TextListVariants.ul}>\n      {become_enabled && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`Enable Privilege Escalation`)}\n        </TextListItem>\n      )}\n      {host_config_key && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`Allow Provisioning Callbacks`)}\n        </TextListItem>\n      )}\n      {allow_simultaneous && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`Enable Concurrent Jobs`)}\n        </TextListItem>\n      )}\n      {use_fact_cache && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`Use Fact Storage`)}\n        </TextListItem>\n      )}\n    </TextList>\n  );\n\n  const inventoryValue = (kind, id) => {\n    const inventorykind = kind === 'smart' ? 'smart_inventory' : 'inventory';\n\n    return ask_inventory_on_launch ? (\n      <Fragment>\n        <Link to={`/inventories/${inventorykind}/${id}/details`}>\n          {summary_fields.inventory.name}\n        </Link>\n        <span> {i18n._(t`(Prompt on launch)`)}</span>\n      </Fragment>\n    ) : (\n      <Link to={`/inventories/${inventorykind}/${id}/details`}>\n        {summary_fields.inventory.name}\n      </Link>\n    );\n  };\n\n  if (instanceGroupsError) {\n    return <ContentError error={instanceGroupsError} />;\n  }\n\n  if (isLoadingInstanceGroups || isDeleteLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} dataCy=\"jt-detail-name\" />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        <Detail label={i18n._(t`作业类型`)} value={job_type} />\n        {summary_fields.organization ? (\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                {summary_fields.organization.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={i18n._(t`组织`)} />\n        )}\n        {summary_fields.inventory ? (\n          <Detail\n            label={i18n._(t`清单`)}\n            value={inventoryValue(\n              summary_fields.inventory.kind,\n              summary_fields.inventory.id\n            )}\n          />\n        ) : (\n          !ask_inventory_on_launch && (\n            <DeletedDetail label={i18n._(t`清单`)} />\n          )\n        )}\n        {summary_fields.project ? (\n          <Detail\n            label={i18n._(t`项目`)}\n            value={\n              <Link to={`/projects/${summary_fields.project.id}/details`}>\n                {summary_fields.project.name}\n              </Link>\n            }\n          />\n        ) : (\n          <DeletedDetail label={i18n._(t`项目`)} />\n        )}\n        <Detail\n          label={i18n._(t`Source Control Branch`)}\n          value={template.scm_branch}\n        />\n        <Detail label={i18n._(t`剧本`)} value={playbook} />\n        <Detail label={i18n._(t`Forks`)} value={forks || '0'} />\n        <Detail label={i18n._(t`范围`)} value={limit} />\n        <Detail\n          label={i18n._(t`详细程度`)}\n          value={verbosityDetails[0].details}\n        />\n        <Detail label={i18n._(t`Timeout`)} value={timeout || '0'} />\n        <Detail\n          label={i18n._(t`Show Changes`)}\n          value={diff_mode ? i18n._(t`On`) : i18n._(t`Off`)}\n        />\n        <Detail label={i18n._(t`Job Slicing`)} value={job_slice_count} />\n        {host_config_key && (\n          <React.Fragment>\n            <Detail\n              label={i18n._(t`Host Config Key`)}\n              value={host_config_key}\n            />\n            <Detail\n              label={i18n._(t`Provisioning Callback URL`)}\n              value={generateCallBackUrl}\n            />\n          </React.Fragment>\n        )}\n        {webhook_service && (\n          <Detail\n            label={i18n._(t`Webhook Service`)}\n            value={\n              webhook_service === 'github'\n                ? i18n._(t`GitHub`)\n                : i18n._(t`GitLab`)\n            }\n          />\n        )}\n        {webhook_receiver && (\n          <Detail\n            label={i18n._(t`Webhook URL`)}\n            value={`${document.location.origin}${webhook_receiver}`}\n          />\n        )}\n        <Detail label={i18n._(t`Webhook Key`)} value={webhook_key} />\n        {summary_fields.webhook_credential && (\n          <Detail\n            label={i18n._(t`Webhook Credential`)}\n            value={\n              <Link\n                to={`/credentials/${summary_fields.webhook_credential.id}/details`}\n              >\n                <Label>{summary_fields.webhook_credential.name}</Label>\n              </Link>\n            }\n          />\n        )}\n        {renderOptionsField && (\n          <Detail label={i18n._(t`Options`)} value={renderOptions} />\n        )}\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n        {summary_fields.credentials && summary_fields.credentials.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Credentials`)}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={summary_fields.credentials.length}\n              >\n                {summary_fields.credentials.map(c => (\n                  <CredentialChip key={c.id} credential={c} isReadOnly />\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {summary_fields.labels && summary_fields.labels.results.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Labels`)}\n            value={\n              <ChipGroup\n                numChips={5}\n                totalChips={summary_fields.labels.results.length}\n              >\n                {summary_fields.labels.results.map(l => (\n                  <Chip key={l.id} isReadOnly>\n                    {l.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {instanceGroups.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Instance Groups`)}\n            value={\n              <ChipGroup numChips={5} totalChips={instanceGroups.length}>\n                {instanceGroups.map(ig => (\n                  <Chip key={ig.id} isReadOnly>\n                    {ig.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {job_tags && job_tags.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Job Tags`)}\n            value={\n              <ChipGroup numChips={5} totalChips={job_tags.split(',').length}>\n                {job_tags.split(',').map(jobTag => (\n                  <Chip key={jobTag} isReadOnly>\n                    {jobTag}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        {skip_tags && skip_tags.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Skip Tags`)}\n            value={\n              <ChipGroup numChips={5} totalChips={skip_tags.split(',').length}>\n                {skip_tags.split(',').map(skipTag => (\n                  <Chip key={skipTag} isReadOnly>\n                    {skipTag}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        <VariablesDetail\n          value={extra_vars}\n          rows={4}\n          label={i18n._(t`变量`)}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              component={Link}\n              to={`/templates/job_template/${templateId}/edit`}\n              aria-label={i18n._(t`Edit`)}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {canLaunch && (\n          <LaunchButton resource={template} aria-label={i18n._(t`运行`)}>\n            {({ handleLaunch }) => (\n              <Button variant=\"secondary\" type=\"submit\" onClick={handleLaunch}>\n                {i18n._(t`运行`)}\n              </Button>\n            )}\n          </LaunchButton>\n        )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete Job Template`)}\n              onConfirm={deleteJobTemplate}\n              isDisabled={isDeleteLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {/* Update delete modal to show dependencies https://github.com/ansible/awx/issues/5546 */}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete job template.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport { JobTemplateDetail as _JobTemplateDetail };\nexport default withI18n()(JobTemplateDetail);\n","import React, { useState, useEffect } from 'react';\nimport { func, arrayOf, number, shape, string, oneOfType } from 'prop-types';\nimport { Select, SelectOption, SelectVariant } from '@patternfly/react-core';\nimport { LabelsAPI } from '../../../api';\nimport { useSyncedSelectValue } from '../../../components/MultiSelect';\n\nasync function loadLabelOptions(setLabels, onError) {\n  let labels;\n  try {\n    const { data } = await LabelsAPI.read({\n      page: 1,\n      page_size: 200,\n      order_by: 'name',\n    });\n    labels = data.results;\n    setLabels(labels);\n    if (data.next && data.next.includes('page=2')) {\n      const {\n        data: { results },\n      } = await LabelsAPI.read({\n        page: 2,\n        page_size: 200,\n        order_by: 'name',\n      });\n      setLabels(labels.concat(results));\n    }\n  } catch (err) {\n    onError(err);\n  }\n}\n\nfunction LabelSelect({ value, placeholder, onChange, onError, createText }) {\n  const [isLoading, setIsLoading] = useState(true);\n  const { selections, onSelect, options, setOptions } = useSyncedSelectValue(\n    value,\n    onChange\n  );\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  const toggleExpanded = toggleValue => {\n    setIsExpanded(toggleValue);\n  };\n\n  useEffect(() => {\n    (async () => {\n      await loadLabelOptions(setOptions, onError);\n      setIsLoading(false);\n    })();\n    /* eslint-disable-next-line react-hooks/exhaustive-deps */\n  }, []);\n\n  const renderOptions = opts => {\n    return opts.map(option => (\n      <SelectOption key={option.id} aria-label={option.name} value={option}>\n        {option.name}\n      </SelectOption>\n    ));\n  };\n\n  return (\n    <Select\n      variant={SelectVariant.typeaheadMulti}\n      onToggle={toggleExpanded}\n      onSelect={(e, item) => {\n        if (typeof item === 'string') {\n          item = { id: item, name: item };\n        }\n        onSelect(e, item);\n      }}\n      onClear={() => onChange([])}\n      onFilter={event => {\n        const str = event.target.value.toLowerCase();\n        const matches = options.filter(o => o.name.toLowerCase().includes(str));\n        return renderOptions(matches);\n      }}\n      isCreatable\n      onCreateOption={label => {\n        label = label.trim();\n        if (!options.includes(label)) {\n          setOptions(options.concat({ name: label, id: label }));\n        }\n        return label;\n      }}\n      isDisabled={isLoading}\n      selections={selections}\n      isOpen={isExpanded}\n      aria-labelledby=\"label-select\"\n      placeholderText={placeholder}\n      createText={createText}\n    >\n      {renderOptions(options)}\n    </Select>\n  );\n}\nLabelSelect.propTypes = {\n  value: arrayOf(\n    shape({\n      id: oneOfType([number, string]).isRequired,\n      name: string.isRequired,\n    })\n  ).isRequired,\n  placeholder: string,\n  onChange: func.isRequired,\n  onError: func.isRequired,\n};\nLabelSelect.defaultProps = {\n  placeholder: '',\n};\n\nexport default LabelSelect;\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { number, string, oneOfType } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport { ProjectsAPI } from '../../../api';\nimport useRequest from '../../../util/useRequest';\n\nfunction PlaybookSelect({ projectId, isValid, field, onBlur, onError, i18n }) {\n  const [isDisabled, setIsDisabled] = useState(false);\n  const {\n    result: options,\n    request: fetchOptions,\n    isLoading,\n    error,\n  } = useRequest(\n    useCallback(async () => {\n      if (!projectId) {\n        return [];\n      }\n      const { data } = await ProjectsAPI.readPlaybooks(projectId);\n\n      const opts = (data || []).map(playbook => ({\n        value: playbook,\n        key: playbook,\n        label: playbook,\n        isDisabled: false,\n      }));\n\n      opts.unshift({\n        value: '',\n        key: '',\n        label: i18n._(t`Choose a playbook`),\n        isDisabled: false,\n      });\n      return opts;\n    }, [projectId, i18n]),\n    []\n  );\n\n  useEffect(() => {\n    fetchOptions();\n  }, [fetchOptions]);\n\n  useEffect(() => {\n    if (error) {\n      if (error.response.status === 403) {\n        setIsDisabled(true);\n      } else {\n        onError(error);\n      }\n    }\n  }, [error, onError]);\n\n  const isDisabledData = [\n    {\n      value: field.value || '',\n      label: field.value || '',\n      key: 1,\n      isDisabled: true,\n    },\n  ];\n  return (\n    <AnsibleSelect\n      id=\"template-playbook\"\n      data={isDisabled ? isDisabledData : options}\n      isValid={isValid}\n      {...field}\n      onBlur={onBlur}\n      isDisabled={isLoading || isDisabled}\n    />\n  );\n}\nPlaybookSelect.propTypes = {\n  projectId: oneOfType([number, string]),\n};\nPlaybookSelect.defaultProps = {\n  projectId: null,\n};\n\nexport { PlaybookSelect as _PlaybookSelect };\nexport default withI18n()(PlaybookSelect);\n","import React, { useEffect, useCallback } from 'react';\nimport { SyncAltIcon } from '@patternfly/react-icons';\nimport { useParams, useLocation } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport {\n  FormGroup,\n  TextInput,\n  InputGroup,\n  Button,\n} from '@patternfly/react-core';\nimport { useField, useFormikContext } from 'formik';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport useRequest from '../../../util/useRequest';\nimport { FormColumnLayout } from '../../../components/FormLayout';\nimport { CredentialLookup } from '../../../components/Lookup';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport Popover from '../../../components/Popover';\nimport {\n  JobTemplatesAPI,\n  WorkflowJobTemplatesAPI,\n  CredentialTypesAPI,\n} from '../../../api';\n\nfunction WebhookSubForm({ i18n, templateType }) {\n  const { setFieldValue } = useFormikContext();\n  const { id } = useParams();\n  const { pathname } = useLocation();\n  const { origin } = document.location;\n\n  const [\n    webhookServiceField,\n    webhookServiceMeta,\n    webhookServiceHelpers,\n  ] = useField('webhook_service');\n  const [webhookUrlField, , webhookUrlHelpers] = useField('webhook_url');\n  const [webhookKeyField, webhookKeyMeta, webhookKeyHelpers] = useField(\n    'webhook_key'\n  );\n  const [\n    webhookCredentialField,\n    webhookCredentialMeta,\n    webhookCredentialHelpers,\n  ] = useField('webhook_credential');\n\n  const {\n    request: loadCredentialType,\n    error,\n    isLoading,\n    result: credTypeId,\n  } = useRequest(\n    useCallback(async () => {\n      let results;\n      if (webhookServiceField.value) {\n        results = await CredentialTypesAPI.read({\n          namespace: `${webhookServiceField.value}_token`,\n        });\n        // TODO: Consider how to handle the situation where the results returns\n        // and empty array, or any of the other values is undefined or null (data, results, id)\n      }\n      return results?.data?.results[0]?.id;\n    }, [webhookServiceField.value])\n  );\n\n  useEffect(() => {\n    loadCredentialType();\n  }, [loadCredentialType]);\n\n  const { request: fetchWebhookKey, error: webhookKeyError } = useRequest(\n    useCallback(async () => {\n      const updateWebhookKey =\n        templateType === 'job_template'\n          ? JobTemplatesAPI.updateWebhookKey(id)\n          : WorkflowJobTemplatesAPI.updateWebhookKey(id);\n      const {\n        data: { webhook_key: key },\n      } = await updateWebhookKey;\n      webhookKeyHelpers.setValue(key);\n    }, [webhookKeyHelpers, id, templateType])\n  );\n\n  const changeWebhookKey = async () => {\n    await fetchWebhookKey();\n  };\n\n  const onCredentialChange = useCallback(\n    value => {\n      setFieldValue('webhook_credential', value || null);\n    },\n    [setFieldValue]\n  );\n\n  const isUpdateKeyDisabled =\n    pathname.endsWith('/add') ||\n    webhookKeyMeta.initialValue ===\n      'A NEW WEBHOOK KEY WILL BE GENERATED ON SAVE.';\n  const webhookServiceOptions = [\n    {\n      value: '',\n      key: '',\n      label: i18n._(t`Choose a Webhook Service`),\n      isDisabled: true,\n    },\n    {\n      value: 'github',\n      key: 'github',\n      label: i18n._(t`GitHub`),\n      isDisabled: false,\n    },\n    {\n      value: 'gitlab',\n      key: 'gitlab',\n      label: i18n._(t`GitLab`),\n      isDisabled: false,\n    },\n  ];\n\n  if (error || webhookKeyError) {\n    return <ContentError error={error} />;\n  }\n  if (isLoading) {\n    return <ContentLoading />;\n  }\n  return (\n    <FormColumnLayout>\n      <FormGroup\n        name=\"webhook_service\"\n        fieldId=\"webhook_service\"\n        helperTextInvalid={webhookServiceMeta.error}\n        label={i18n._(t`Webhook Service`)}\n        labelIcon={<Popover content={i18n._(t`Select a webhook service.`)} />}\n      >\n        <AnsibleSelect\n          {...webhookServiceField}\n          id=\"webhook_service\"\n          data={webhookServiceOptions}\n          onChange={(event, val) => {\n            webhookServiceHelpers.setValue(val);\n            webhookUrlHelpers.setValue(\n              pathname.endsWith('/add')\n                ? i18n\n                    ._(t`a new webhook url will be generated on save.`)\n                    .toUpperCase()\n                : `${origin}/api/v2/${templateType}s/${id}/${val}/`\n            );\n            if (val === webhookServiceMeta.initialValue || val === '') {\n              webhookKeyHelpers.setValue(webhookKeyMeta.initialValue);\n              webhookCredentialHelpers.setValue(\n                webhookCredentialMeta.initialValue\n              );\n            } else {\n              webhookKeyHelpers.setValue(\n                i18n\n                  ._(t`a new webhook key will be generated on save.`)\n                  .toUpperCase()\n              );\n              webhookCredentialHelpers.setValue(null);\n            }\n          }}\n        />\n      </FormGroup>\n      <>\n        <FormGroup\n          type=\"text\"\n          fieldId=\"jt-webhookURL\"\n          label={i18n._(t`Webhook URL`)}\n          labelIcon={\n            <Popover\n              content={i18n._(\n                t`Webhook services can launch jobs with this workflow job template by making a POST request to this URL.`\n              )}\n            />\n          }\n          name=\"webhook_url\"\n        >\n          <TextInput\n            id=\"t-webhookURL\"\n            aria-label={i18n._(t`Webhook URL`)}\n            value={webhookUrlField.value}\n            isReadOnly\n          />\n        </FormGroup>\n        <FormGroup\n          label={i18n._(t`Webhook Key`)}\n          labelIcon={\n            <Popover\n              content={i18n._(\n                t`Webhook services can use this as a shared secret.`\n              )}\n            />\n          }\n          fieldId=\"template-webhook_key\"\n        >\n          <InputGroup>\n            <TextInput\n              id=\"template-webhook_key\"\n              isReadOnly\n              aria-label=\"wfjt-webhook-key\"\n              value={webhookKeyField.value}\n            />\n            <Button\n              isDisabled={isUpdateKeyDisabled}\n              variant=\"tertiary\"\n              aria-label={i18n._(t`Update webhook key`)}\n              onClick={changeWebhookKey}\n            >\n              <SyncAltIcon />\n            </Button>\n          </InputGroup>\n        </FormGroup>\n      </>\n\n      {credTypeId && (\n        <CredentialLookup\n          label={i18n._(t`Webhook Credential`)}\n          tooltip={i18n._(\n            t`Optionally select the credential to use to send status updates back to the webhook service.`\n          )}\n          credentialTypeId={credTypeId}\n          onChange={onCredentialChange}\n          isValid={!webhookCredentialMeta.error}\n          helperTextInvalid={webhookCredentialMeta.error}\n          value={webhookCredentialField.value}\n        />\n      )}\n    </FormColumnLayout>\n  );\n}\nexport default withI18n()(WebhookSubForm);\n","import React, { useState, useEffect, useCallback } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { withFormik, useField } from 'formik';\nimport {\n  Form,\n  FormGroup,\n  Switch,\n  Checkbox,\n  TextInput,\n  Title,\n} from '@patternfly/react-core';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport { TagMultiSelect } from '../../../components/MultiSelect';\nimport useRequest from '../../../util/useRequest';\n\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport FormField, {\n  CheckboxField,\n  FormSubmitError,\n} from '../../../components/FormField';\nimport FieldWithPrompt from '../../../components/FieldWithPrompt';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n  FormCheckboxLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport { required } from '../../../util/validators';\nimport { JobTemplate } from '../../../types';\nimport {\n  InventoryLookup,\n  InstanceGroupsLookup,\n  ProjectLookup,\n  MultiCredentialsLookup,\n} from '../../../components/Lookup';\nimport Popover from '../../../components/Popover';\nimport { JobTemplatesAPI } from '../../../api';\nimport LabelSelect from './LabelSelect';\nimport PlaybookSelect from './PlaybookSelect';\nimport WebhookSubForm from './WebhookSubForm';\n\nconst { origin } = document.location;\n\nfunction JobTemplateForm({\n  template,\n  handleCancel,\n  handleSubmit,\n  setFieldValue,\n  submitError,\n  i18n,\n  isOverrideDisabledLookup,\n}) {\n  const [contentError, setContentError] = useState(false);\n  const [inventory, setInventory] = useState(\n    template?.summary_fields?.inventory\n  );\n  const [allowCallbacks, setAllowCallbacks] = useState(\n    Boolean(template?.host_config_key)\n  );\n  const [enableWebhooks, setEnableWebhooks] = useState(\n    Boolean(template.webhook_service)\n  );\n\n  const [askInventoryOnLaunchField] = useField('ask_inventory_on_launch');\n  const [jobTypeField, jobTypeMeta, jobTypeHelpers] = useField({\n    name: 'job_type',\n    validate: required(null, i18n),\n  });\n  const [, inventoryMeta, inventoryHelpers] = useField('inventory');\n  const [projectField, projectMeta, projectHelpers] = useField({\n    name: 'project',\n    validate: project => handleProjectValidation(project),\n  });\n  const [scmField, , scmHelpers] = useField('scm_branch');\n  const [playbookField, playbookMeta, playbookHelpers] = useField({\n    name: 'playbook',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n  const [credentialField, , credentialHelpers] = useField('credentials');\n  const [labelsField, , labelsHelpers] = useField('labels');\n  const [limitField, limitMeta, limitHelpers] = useField('limit');\n  const [verbosityField] = useField('verbosity');\n  const [diffModeField, , diffModeHelpers] = useField('diff_mode');\n  const [instanceGroupsField, , instanceGroupsHelpers] = useField(\n    'instanceGroups'\n  );\n  const [jobTagsField, , jobTagsHelpers] = useField('job_tags');\n  const [skipTagsField, , skipTagsHelpers] = useField('skip_tags');\n\n  const [, webhookServiceMeta, webhookServiceHelpers] = useField(\n    'webhook_service'\n  );\n  const [, webhookUrlMeta, webhookUrlHelpers] = useField('webhook_url');\n  const [, webhookKeyMeta, webhookKeyHelpers] = useField('webhook_key');\n  const [, webhookCredentialMeta, webhookCredentialHelpers] = useField(\n    'webhook_credential'\n  );\n\n  const {\n    request: loadRelatedInstanceGroups,\n    error: instanceGroupError,\n    contentLoading: instanceGroupLoading,\n  } = useRequest(\n    useCallback(async () => {\n      if (!template?.id) {\n        return;\n      }\n      const { data } = await JobTemplatesAPI.readInstanceGroups(template.id);\n      setFieldValue('initialInstanceGroups', data.results);\n      setFieldValue('instanceGroups', [...data.results]);\n    }, [setFieldValue, template])\n  );\n\n  useEffect(() => {\n    loadRelatedInstanceGroups();\n  }, [loadRelatedInstanceGroups]);\n\n  useEffect(() => {\n    if (enableWebhooks) {\n      webhookServiceHelpers.setValue(webhookServiceMeta.initialValue);\n      webhookUrlHelpers.setValue(webhookUrlMeta.initialValue);\n      webhookKeyHelpers.setValue(webhookKeyMeta.initialValue);\n      webhookCredentialHelpers.setValue(webhookCredentialMeta.initialValue);\n    } else {\n      webhookServiceHelpers.setValue('');\n      webhookUrlHelpers.setValue('');\n      webhookKeyHelpers.setValue('');\n      webhookCredentialHelpers.setValue(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enableWebhooks]);\n\n  const handleProjectValidation = project => {\n    if (!project && projectMeta.touched) {\n      return i18n._(t`Select a value for this field`);\n    }\n    if (project?.value?.status === 'never updated') {\n      return i18n._(t`This project needs to be updated`);\n    }\n    return undefined;\n  };\n\n  const handleProjectUpdate = useCallback(\n    value => {\n      setFieldValue('playbook', 0);\n      setFieldValue('scm_branch', '');\n      setFieldValue('project', value);\n    },\n    [setFieldValue]\n  );\n\n  const jobTypeOptions = [\n    {\n      value: '',\n      key: '',\n      label: i18n._(t`Choose a job type`),\n      isDisabled: true,\n    },\n    { value: 'run', key: 'run', label: i18n._(t`Run`), isDisabled: false },\n    {\n      value: 'check',\n      key: 'check',\n      label: i18n._(t`Check`),\n      isDisabled: false,\n    },\n  ];\n  const verbosityOptions = [\n    { value: '0', key: '0', label: i18n._(t`0 (Normal)`) },\n    { value: '1', key: '1', label: i18n._(t`1 (Verbose)`) },\n    { value: '2', key: '2', label: i18n._(t`2 (More Verbose)`) },\n    { value: '3', key: '3', label: i18n._(t`3 (Debug)`) },\n    { value: '4', key: '4', label: i18n._(t`4 (Connection Debug)`) },\n  ];\n  let callbackUrl;\n  if (template?.related) {\n    const path = template.related.callback || `${template.url}callback`;\n    callbackUrl = `${origin}${path}`;\n  }\n\n  if (instanceGroupLoading) {\n    return <ContentLoading />;\n  }\n\n  if (contentError || instanceGroupError) {\n    return <ContentError error={contentError || instanceGroupError} />;\n  }\n\n  return (\n    <Form autoComplete=\"off\" onSubmit={handleSubmit}>\n      <FormColumnLayout>\n        <FormField\n          id=\"template-name\"\n          name=\"name\"\n          type=\"text\"\n          label={i18n._(t`名称`)}\n          validate={required(null, i18n)}\n          isRequired\n        />\n        <FormField\n          id=\"template-description\"\n          name=\"description\"\n          type=\"text\"\n          label={i18n._(t`描述`)}\n        />\n        <FieldWithPrompt\n          fieldId=\"template-job-type\"\n          isRequired\n          label={i18n._(t`作业类型`)}\n          promptId=\"template-ask-job-type-on-launch\"\n          promptName=\"ask_job_type_on_launch\"\n          tooltip={i18n._(t`For job templates, select run to execute\n            the playbook. Select check to only check playbook syntax,\n            test environment setup, and report problems without\n            executing the playbook.`)}\n        >\n          <AnsibleSelect\n            {...jobTypeField}\n            isValid={!jobTypeMeta.touched || !jobTypeMeta.error}\n            id=\"template-job-type\"\n            data={jobTypeOptions}\n            onChange={(event, value) => {\n              jobTypeHelpers.setValue(value);\n            }}\n          />\n        </FieldWithPrompt>\n        <FormGroup\n          fieldId=\"inventory-lookup\"\n          validated={\n            !(inventoryMeta.touched || askInventoryOnLaunchField.value) ||\n            !inventoryMeta.error\n              ? 'default'\n              : 'error'\n          }\n          helperTextInvalid={inventoryMeta.error}\n          isRequired={!askInventoryOnLaunchField.value}\n        >\n          <InventoryLookup\n            fieldId=\"template-inventory\"\n            value={inventory}\n            promptId=\"template-ask-inventory-on-launch\"\n            promptName=\"ask_inventory_on_launch\"\n            isPromptableField\n            tooltip={i18n._(t`Select the inventory containing the hosts\n            you want this job to manage.`)}\n            onBlur={() => inventoryHelpers.setTouched()}\n            onChange={value => {\n              inventoryHelpers.setValue(value ? value.id : null);\n              setInventory(value);\n            }}\n            required={!askInventoryOnLaunchField.value}\n            touched={inventoryMeta.touched}\n            error={inventoryMeta.error}\n            isOverrideDisabled={isOverrideDisabledLookup}\n          />\n        </FormGroup>\n        <ProjectLookup\n          value={projectField.value}\n          onBlur={() => projectHelpers.setTouched()}\n          tooltip={i18n._(t`Select the project containing the playbook\n                  you want this job to execute.`)}\n          isValid={!projectMeta.touched || !projectMeta.error}\n          helperTextInvalid={projectMeta.error}\n          onChange={handleProjectUpdate}\n          required\n          autoPopulate={!template?.id}\n          isOverrideDisabled={isOverrideDisabledLookup}\n        />\n        {projectField.value?.allow_override && (\n          <FieldWithPrompt\n            fieldId=\"template-scm-branch\"\n            label={i18n._(t`Source Control Branch`)}\n            promptId=\"template-ask-scm-branch-on-launch\"\n            promptName=\"ask_scm_branch_on_launch\"\n            tooltip={i18n._(\n              t`Select a branch for the job template. This branch is applied to\n              all job template nodes that prompt for a branch.`\n            )}\n          >\n            <TextInput\n              id=\"template-scm-branch\"\n              {...scmField}\n              onChange={value => {\n                scmHelpers.setValue(value);\n              }}\n            />\n          </FieldWithPrompt>\n        )}\n        <FormGroup\n          fieldId=\"template-playbook\"\n          helperTextInvalid={playbookMeta.error}\n          validated={\n            !playbookMeta.touched || !playbookMeta.error ? 'default' : 'error'\n          }\n          isRequired\n          label={i18n._(t`剧本`)}\n          labelIcon={\n            <Popover\n              content={i18n._(\n                t`Select the playbook to be executed by this job.`\n              )}\n            />\n          }\n        >\n          <PlaybookSelect\n            projectId={projectField.value?.id}\n            isValid={!playbookMeta.touched || !playbookMeta.error}\n            field={playbookField}\n            onBlur={() => playbookHelpers.setTouched()}\n            onError={setContentError}\n          />\n        </FormGroup>\n        <FormFullWidthLayout>\n          <FieldWithPrompt\n            fieldId=\"template-credentials\"\n            label={i18n._(t`Credentials`)}\n            promptId=\"template-ask-credential-on-launch\"\n            promptName=\"ask_credential_on_launch\"\n            tooltip={i18n._(t`Select credentials that allow Tower to access the nodes this job will be ran\n                against. You can only select one credential of each type. For machine credentials (SSH),\n                checking \"Prompt on launch\" without selecting credentials will require you to select a machine\n                credential at run time. If you select credentials and check \"Prompt on launch\", the selected\n                credential(s) become the defaults that can be updated at run time.`)}\n          >\n            <MultiCredentialsLookup\n              value={credentialField.value}\n              onChange={newCredentials =>\n                credentialHelpers.setValue(newCredentials)\n              }\n              onError={setContentError}\n            />\n          </FieldWithPrompt>\n          <FormGroup\n            label={i18n._(t`Labels`)}\n            labelIcon={\n              <Popover\n                content={i18n._(t`Optional labels that describe this job template,\n                      such as 'dev' or 'test'. Labels can be used to group and filter\n                      job templates and completed jobs.`)}\n              />\n            }\n            fieldId=\"template-labels\"\n          >\n            <LabelSelect\n              value={labelsField.value}\n              onChange={labels => labelsHelpers.setValue(labels)}\n              onError={setContentError}\n              createText={i18n._(t`Create`)}\n            />\n          </FormGroup>\n          <VariablesField\n            id=\"template-variables\"\n            name=\"extra_vars\"\n            label={i18n._(t`变量`)}\n            promptId=\"template-ask-variables-on-launch\"\n            tooltip={i18n._(\n              t`Pass extra command line variables to the playbook. This is the\n              -e or --extra-vars command line parameter for ansible-playbook.\n              Provide key/value pairs using either YAML or JSON. Refer to the\n              Ansible Tower documentation for example syntax.`\n            )}\n          />\n          <FormColumnLayout>\n            <FormField\n              id=\"template-forks\"\n              name=\"forks\"\n              type=\"number\"\n              min=\"0\"\n              label={i18n._(t`Forks`)}\n              tooltip={\n                <span>\n                  {i18n._(t`The number of parallel or simultaneous\n                    processes to use while executing the playbook. An empty value,\n                    or a value less than 1 will use the Ansible default which is\n                    usually 5. The default number of forks can be overwritten\n                    with a change to`)}{' '}\n                  <code>ansible.cfg</code>.{' '}\n                  {i18n._(t`Refer to the Ansible documentation for details\n                        about the configuration file.`)}\n                </span>\n              }\n            />\n            <FieldWithPrompt\n              fieldId=\"template-limit\"\n              label={i18n._(t`范围`)}\n              promptId=\"template-ask-limit-on-launch\"\n              promptName=\"ask_limit_on_launch\"\n              tooltip={i18n._(t`Provide a host pattern to further constrain\n                  the list of hosts that will be managed or affected by the\n                  playbook. Multiple patterns are allowed. Refer to Ansible\n                  documentation for more information and examples on patterns.`)}\n            >\n              <TextInput\n                id=\"template-limit\"\n                {...limitField}\n                validated={\n                  !limitMeta.touched || !limitMeta.error ? 'default' : 'error'\n                }\n                onChange={value => {\n                  limitHelpers.setValue(value);\n                }}\n              />\n            </FieldWithPrompt>\n            <FieldWithPrompt\n              fieldId=\"template-verbosity\"\n              label={i18n._(t`详细程度`)}\n              promptId=\"template-ask-verbosity-on-launch\"\n              promptName=\"ask_verbosity_on_launch\"\n              tooltip={i18n._(t`Control the level of output ansible will\n                produce as the playbook executes.`)}\n            >\n              <AnsibleSelect\n                id=\"template-verbosity\"\n                data={verbosityOptions}\n                {...verbosityField}\n              />\n            </FieldWithPrompt>\n            <FormField\n              id=\"template-job-slicing\"\n              name=\"job_slice_count\"\n              type=\"number\"\n              min=\"1\"\n              label={i18n._(t`Job Slicing`)}\n              tooltip={i18n._(t`Divide the work done by this job template\n                  into the specified number of job slices, each running the\n                  same tasks against a portion of the inventory.`)}\n            />\n            <FormField\n              id=\"template-timeout\"\n              name=\"timeout\"\n              type=\"number\"\n              min=\"0\"\n              label={i18n._(t`Timeout`)}\n              tooltip={i18n._(t`The amount of time (in seconds) to run\n                  before the job is canceled. Defaults to 0 for no job\n                  timeout.`)}\n            />\n            <FieldWithPrompt\n              fieldId=\"template-diff-mode\"\n              label={i18n._(t`Show Changes`)}\n              promptId=\"template-ask-diff-mode-on-launch\"\n              promptName=\"ask_diff_mode_on_launch\"\n              tooltip={i18n._(t`If enabled, show the changes made by\n                Ansible tasks, where supported. This is equivalent\n                to Ansible's --diff mode.`)}\n            >\n              <Switch\n                id=\"template-show-changes\"\n                label={diffModeField.value ? i18n._(t`On`) : i18n._(t`Off`)}\n                isChecked={diffModeField.value}\n                onChange={checked => diffModeHelpers.setValue(checked)}\n              />\n            </FieldWithPrompt>\n            <FormFullWidthLayout>\n              <InstanceGroupsLookup\n                value={instanceGroupsField.value}\n                onChange={value => instanceGroupsHelpers.setValue(value)}\n                tooltip={i18n._(t`Select the Instance Groups for this Organization\n                        to run on.`)}\n              />\n              <FieldWithPrompt\n                fieldId=\"template-tags\"\n                label={i18n._(t`Job Tags`)}\n                promptId=\"template-ask-tags-on-launch\"\n                promptName=\"ask_tags_on_launch\"\n                tooltip={i18n._(t`Tags are useful when you have a large\n                    playbook, and you want to run a specific part of a\n                    play or task. Use commas to separate multiple tags.\n                    Refer to Ansible Tower documentation for details on\n                    the usage of tags.`)}\n              >\n                <TagMultiSelect\n                  value={jobTagsField.value}\n                  onChange={value => jobTagsHelpers.setValue(value)}\n                />\n              </FieldWithPrompt>\n              <FieldWithPrompt\n                fieldId=\"template-skip-tags\"\n                label={i18n._(t`Skip Tags`)}\n                promptId=\"template-ask-skip-tags-on-launch\"\n                promptName=\"ask_skip_tags_on_launch\"\n                tooltip={i18n._(t`Skip tags are useful when you have a\n                    large playbook, and you want to skip specific parts of a\n                    play or task. Use commas to separate multiple tags. Refer\n                    to Ansible Tower documentation for details on the usage\n                    of tags.`)}\n              >\n                <TagMultiSelect\n                  value={skipTagsField.value}\n                  onChange={value => skipTagsHelpers.setValue(value)}\n                />\n              </FieldWithPrompt>\n              <FormGroup\n                fieldId=\"template-option-checkboxes\"\n                label={i18n._(t`Options`)}\n              >\n                <FormCheckboxLayout>\n                  <CheckboxField\n                    id=\"option-privilege-escalation\"\n                    name=\"become_enabled\"\n                    label={i18n._(t`Privilege Escalation`)}\n                    tooltip={i18n._(t`If enabled, run this playbook as an\n                        administrator.`)}\n                  />\n                  <Checkbox\n                    aria-label={i18n._(t`Provisioning Callbacks`)}\n                    label={\n                      <span>\n                        {i18n._(t`Provisioning Callbacks`)}\n                        &nbsp;\n                        <Popover\n                          content={i18n._(t`Enables creation of a provisioning\n                              callback URL. Using the URL a host can contact BRAND_NAME\n                              and request a configuration update using this job\n                              template.`)}\n                        />\n                      </span>\n                    }\n                    id=\"option-callbacks\"\n                    isChecked={allowCallbacks}\n                    onChange={checked => {\n                      setAllowCallbacks(checked);\n                    }}\n                  />\n                  <Checkbox\n                    aria-label={i18n._(t`Enable Webhook`)}\n                    label={\n                      <span>\n                        {i18n._(t`Enable Webhook`)}\n                        &nbsp;\n                        <Popover\n                          content={i18n._(t`Enable webhook for this template.`)}\n                        />\n                      </span>\n                    }\n                    id=\"wfjt-enabled-webhooks\"\n                    isChecked={enableWebhooks}\n                    onChange={checked => {\n                      setEnableWebhooks(checked);\n                    }}\n                  />\n                  <CheckboxField\n                    id=\"option-concurrent\"\n                    name=\"allow_simultaneous\"\n                    label={i18n._(t`Concurrent Jobs`)}\n                    tooltip={i18n._(t`If enabled, simultaneous runs of this job\n                        template will be allowed.`)}\n                  />\n                  <CheckboxField\n                    id=\"option-fact-cache\"\n                    name=\"use_fact_cache\"\n                    label={i18n._(t`Enable Fact Storage`)}\n                    tooltip={i18n._(\n                      t`If enabled, this will store gathered facts so they can\n                      be viewed at the host level. Facts are persisted and\n                      injected into the fact cache at runtime.`\n                    )}\n                  />\n                </FormCheckboxLayout>\n              </FormGroup>\n            </FormFullWidthLayout>\n\n            {(allowCallbacks || enableWebhooks) && (\n              <>\n                <SubFormLayout>\n                  {allowCallbacks && (\n                    <>\n                      <Title size=\"md\" headingLevel=\"h4\">\n                        {i18n._(t`Provisioning Callback details`)}\n                      </Title>\n                      <FormColumnLayout>\n                        {callbackUrl && (\n                          <FormGroup\n                            label={i18n._(t`Provisioning Callback URL`)}\n                            fieldId=\"template-callback-url\"\n                          >\n                            <TextInput\n                              id=\"template-callback-url\"\n                              isDisabled\n                              value={callbackUrl}\n                            />\n                          </FormGroup>\n                        )}\n                        <FormField\n                          id=\"template-host-config-key\"\n                          name=\"host_config_key\"\n                          label={i18n._(t`Host Config Key`)}\n                          validate={\n                            allowCallbacks ? required(null, i18n) : null\n                          }\n                          isRequired={allowCallbacks}\n                        />\n                      </FormColumnLayout>\n                    </>\n                  )}\n\n                  {allowCallbacks && enableWebhooks && <br />}\n\n                  {enableWebhooks && (\n                    <>\n                      <Title size=\"md\" headingLevel=\"h4\">\n                        {i18n._(t`Webhook details`)}\n                      </Title>\n                      <FormColumnLayout>\n                        <WebhookSubForm templateType={template.type} />\n                      </FormColumnLayout>\n                    </>\n                  )}\n                </SubFormLayout>\n              </>\n            )}\n          </FormColumnLayout>\n        </FormFullWidthLayout>\n        <FormSubmitError error={submitError} />\n        <FormActionGroup onCancel={handleCancel} onSubmit={handleSubmit} />\n      </FormColumnLayout>\n    </Form>\n  );\n}\nJobTemplateForm.propTypes = {\n  template: JobTemplate,\n  handleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  submitError: PropTypes.shape({}),\n  isOverrideDisabledLookup: PropTypes.bool,\n};\n\nJobTemplateForm.defaultProps = {\n  template: {\n    name: '',\n    description: '',\n    job_type: 'run',\n    inventory: undefined,\n    project: undefined,\n    playbook: '',\n    summary_fields: {\n      inventory: null,\n      labels: { results: [] },\n      project: null,\n      credentials: [],\n    },\n    isNew: true,\n  },\n  submitError: null,\n  isOverrideDisabledLookup: false,\n};\n\nconst FormikApp = withFormik({\n  mapPropsToValues({ template = {}, i18n }) {\n    const {\n      summary_fields = {\n        labels: { results: [] },\n        inventory: { organization: null },\n      },\n    } = template;\n\n    return {\n      allow_callbacks: template.allow_callbacks || false,\n      allow_simultaneous: template.allow_simultaneous || false,\n      ask_credential_on_launch: template.ask_credential_on_launch || false,\n      ask_diff_mode_on_launch: template.ask_diff_mode_on_launch || false,\n      ask_inventory_on_launch: template.ask_inventory_on_launch || false,\n      ask_job_type_on_launch: template.ask_job_type_on_launch || false,\n      ask_limit_on_launch: template.ask_limit_on_launch || false,\n      ask_scm_branch_on_launch: template.ask_scm_branch_on_launch || false,\n      ask_skip_tags_on_launch: template.ask_skip_tags_on_launch || false,\n      ask_tags_on_launch: template.ask_tags_on_launch || false,\n      ask_variables_on_launch: template.ask_variables_on_launch || false,\n      ask_verbosity_on_launch: template.ask_verbosity_on_launch || false,\n      become_enabled: template.become_enabled || false,\n      credentials: summary_fields.credentials || [],\n      description: template.description || '',\n      diff_mode: template.diff_mode || false,\n      extra_vars: template.extra_vars || '---\\n',\n      forks: template.forks || 0,\n      host_config_key: template.host_config_key || '',\n      initialInstanceGroups: [],\n      instanceGroups: [],\n      inventory: template.inventory || null,\n      job_slice_count: template.job_slice_count || 1,\n      job_tags: template.job_tags || '',\n      job_type: template.job_type || 'run',\n      labels: summary_fields.labels.results || [],\n      limit: template.limit || '',\n      name: template.name || '',\n      playbook: template.playbook || '',\n      project: summary_fields?.project || null,\n      scm_branch: template.scm_branch || '',\n      skip_tags: template.skip_tags || '',\n      timeout: template.timeout || 0,\n      use_fact_cache: template.use_fact_cache || false,\n      verbosity: template.verbosity || '0',\n      webhook_service: template.webhook_service || '',\n      webhook_url: template?.related?.webhook_receiver\n        ? `${origin}${template.related.webhook_receiver}`\n        : i18n._(t`a new webhook url will be generated on save.`).toUpperCase(),\n      webhook_key:\n        template.webhook_key ||\n        i18n._(t`a new webhook key will be generated on save.`).toUpperCase(),\n      webhook_credential: template?.summary_fields?.webhook_credential || null,\n    };\n  },\n  handleSubmit: async (values, { props, setErrors }) => {\n    try {\n      await props.handleSubmit(values);\n    } catch (errors) {\n      setErrors(errors);\n    }\n  },\n  validate: (values, { i18n }) => {\n    const errors = {};\n\n    if (\n      (!values.inventory || values.inventory === '') &&\n      !values.ask_inventory_on_launch\n    ) {\n      errors.inventory = i18n._(\n        t`Please select an Inventory or check the Prompt on Launch option.`\n      );\n    }\n\n    return errors;\n  },\n})(JobTemplateForm);\n\nexport { JobTemplateForm as _JobTemplateForm };\nexport default withI18n()(FormikApp);\n","/* eslint react/no-unused-state: 0 */\nimport React, { useState, useCallback, useEffect } from 'react';\nimport { Redirect, useHistory } from 'react-router-dom';\n\nimport { JobTemplate } from '../../../types';\nimport { JobTemplatesAPI, ProjectsAPI } from '../../../api';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport useRequest from '../../../util/useRequest';\nimport JobTemplateForm from '../shared/JobTemplateForm';\nimport ContentLoading from '../../../components/ContentLoading';\nimport { CardBody } from '../../../components/Card';\n\nfunction JobTemplateEdit({ template }) {\n  const history = useHistory();\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isDisabled, setIsDisabled] = useState(false);\n\n  const detailsUrl = `/templates/${template.type}/${template.id}/details`;\n\n  const {\n    request: fetchProject,\n    error: fetchProjectError,\n    isLoading: projectLoading,\n  } = useRequest(\n    useCallback(async () => {\n      await ProjectsAPI.readDetail(template.project);\n    }, [template.project])\n  );\n\n  useEffect(() => {\n    fetchProject();\n  }, [fetchProject]);\n\n  useEffect(() => {\n    if (fetchProjectError) {\n      if (fetchProjectError.response.status === 403) {\n        setIsDisabled(true);\n      }\n    }\n  }, [fetchProjectError]);\n\n  const handleSubmit = async values => {\n    const {\n      labels,\n      instanceGroups,\n      initialInstanceGroups,\n      credentials,\n      webhook_credential,\n      webhook_key,\n      webhook_url,\n      ...remainingValues\n    } = values;\n\n    setFormSubmitError(null);\n    setIsLoading(true);\n    remainingValues.project = values.project.id;\n    remainingValues.webhook_credential = webhook_credential?.id || null;\n    try {\n      await JobTemplatesAPI.update(template.id, remainingValues);\n      await Promise.all([\n        submitLabels(labels, template?.organization),\n        submitInstanceGroups(instanceGroups, initialInstanceGroups),\n        submitCredentials(credentials),\n      ]);\n      history.push(detailsUrl);\n    } catch (error) {\n      setFormSubmitError(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const submitLabels = async (labels = [], orgId) => {\n    const { added, removed } = getAddedAndRemoved(\n      template.summary_fields.labels.results,\n      labels\n    );\n\n    const disassociationPromises = removed.map(label =>\n      JobTemplatesAPI.disassociateLabel(template.id, label)\n    );\n    const associationPromises = added.map(label => {\n      return JobTemplatesAPI.associateLabel(template.id, label, orgId);\n    });\n\n    const results = await Promise.all([\n      ...disassociationPromises,\n      ...associationPromises,\n    ]);\n    return results;\n  };\n\n  const submitInstanceGroups = async (groups, initialGroups) => {\n    const { added, removed } = getAddedAndRemoved(initialGroups, groups);\n    const disassociatePromises = await removed.map(group =>\n      JobTemplatesAPI.disassociateInstanceGroup(template.id, group.id)\n    );\n    const associatePromises = await added.map(group =>\n      JobTemplatesAPI.associateInstanceGroup(template.id, group.id)\n    );\n    return Promise.all([...disassociatePromises, ...associatePromises]);\n  };\n\n  const submitCredentials = async newCredentials => {\n    const { added, removed } = getAddedAndRemoved(\n      template.summary_fields.credentials,\n      newCredentials\n    );\n    const disassociateCredentials = removed.map(cred =>\n      JobTemplatesAPI.disassociateCredentials(template.id, cred.id)\n    );\n    const disassociatePromise = await Promise.all(disassociateCredentials);\n    const associateCredentials = added.map(cred =>\n      JobTemplatesAPI.associateCredentials(template.id, cred.id)\n    );\n    const associatePromise = await Promise.all(associateCredentials);\n    return Promise.all([disassociatePromise, associatePromise]);\n  };\n\n  const handleCancel = () => history.push(detailsUrl);\n\n  const canEdit = template?.summary_fields?.user_capabilities?.edit;\n\n  if (!canEdit) {\n    return <Redirect to={detailsUrl} />;\n  }\n  if (isLoading || projectLoading) {\n    return <ContentLoading />;\n  }\n\n  return (\n    <CardBody>\n      <JobTemplateForm\n        template={template}\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n        submitError={formSubmitError}\n        isOverrideDisabledLookup={!isDisabled}\n      />\n    </CardBody>\n  );\n}\n\nJobTemplateEdit.propTypes = {\n  template: JobTemplate.isRequired,\n};\nexport default JobTemplateEdit;\n","import 'styled-components/macro';\nimport React from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { Link } from 'react-router-dom';\nimport {\n  Button as _Button,\n  Chip,\n  DataListAction as _DataListAction,\n  DataListCheck,\n  DataListItemCells,\n  DataListItemRow,\n  DataListItem,\n  Stack,\n  StackItem,\n} from '@patternfly/react-core';\nimport { CaretDownIcon, CaretUpIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\nimport ChipGroup from '../../../components/ChipGroup';\n\nconst DataListAction = styled(_DataListAction)`\n  margin-left: 0;\n  margin-right: 20px;\n  padding-top: 15px;\n  padding-bottom: 15px;\n`;\nconst Button = styled(_Button)`\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 0;\n`;\nconst Required = styled.span`\n  color: var(--pf-global--danger-color--100);\n  margin-left: var(--pf-global--spacer--xs);\n`;\n\nconst Label = styled.b`\n  margin-right: 20px;\n`;\n\nfunction SurveyListItem({\n  canEdit,\n  question,\n  i18n,\n  isLast,\n  isFirst,\n  isChecked,\n  onSelect,\n  onMoveUp,\n  onMoveDown,\n}) {\n  return (\n    <DataListItem\n      aria-labelledby={i18n._(t`Survey questions`)}\n      id={`survey-list-item-${question.variable}`}\n    >\n      <DataListItemRow css=\"padding-left:16px\">\n        <DataListAction\n          id=\"sortQuestions\"\n          aria-labelledby={i18n._(t`Sort question order`)}\n          aria-label={i18n._(t`Sort question order`)}\n        >\n          <Stack>\n            <StackItem>\n              <Button\n                variant=\"plain\"\n                aria-label={i18n._(t`move up`)}\n                isDisabled={isFirst || !canEdit}\n                onClick={() => onMoveUp(question)}\n              >\n                <CaretUpIcon />\n              </Button>\n            </StackItem>\n            <StackItem>\n              <Button\n                variant=\"plain\"\n                aria-label={i18n._(t`move down`)}\n                isDisabled={isLast || !canEdit}\n                onClick={() => onMoveDown(question)}\n              >\n                <CaretDownIcon />\n              </Button>\n            </StackItem>\n          </Stack>\n        </DataListAction>\n        <DataListCheck\n          isDisabled={!canEdit}\n          checked={isChecked}\n          onChange={onSelect}\n          aria-labelledby=\"survey check\"\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <>\n                <Link to={`survey/edit?question_variable=${question.variable}`}>\n                  {question.question_name}\n                </Link>\n                {question.required && (\n                  <Required\n                    aria-label={i18n._(t`Required`)}\n                    className=\"pf-c-form__label-required\"\n                    aria-hidden=\"true\"\n                  >\n                    *\n                  </Required>\n                )}\n              </>\n            </DataListCell>,\n\n            <DataListCell key=\"type\">\n              <Label>{i18n._(t`类型`)}</Label>\n              {question.type}\n            </DataListCell>,\n            <DataListCell key=\"default\">\n              <Label>{i18n._(t`Default`)}</Label>\n              {[question.type].includes('password') && (\n                <span>{i18n._(t`encrypted`).toUpperCase()}</span>\n              )}\n              {[question.type].includes('multiselect') &&\n                question.default.length > 0 && (\n                  <ChipGroup\n                    numChips={5}\n                    totalChips={question.default.split('\\n').length}\n                  >\n                    {question.default.split('\\n').map(chip => (\n                      <Chip key={chip} isReadOnly>\n                        {chip}\n                      </Chip>\n                    ))}\n                  </ChipGroup>\n                )}\n              {![question.type].includes('password') &&\n                ![question.type].includes('multiselect') && (\n                  <span>{question.default}</span>\n                )}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(SurveyListItem);\n","import React from 'react';\nimport { useRouteMatch } from 'react-router-dom';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport styled from 'styled-components';\n\nimport {\n  Switch,\n  Checkbox,\n  Button,\n  Toolbar as _Toolbar,\n  ToolbarContent,\n  ToolbarGroup,\n  ToolbarItem,\n} from '@patternfly/react-core';\nimport { ToolbarAddButton } from '../../../components/PaginatedDataList';\n\nconst Toolbar = styled(_Toolbar)`\n  margin-left: 52px;\n`;\n\nfunction SurveyToolbar({\n  canEdit,\n  isAllSelected,\n  onSelectAll,\n  i18n,\n  surveyEnabled,\n  onToggleSurvey,\n  isDeleteDisabled,\n  onToggleDeleteModal,\n}) {\n  isDeleteDisabled = !canEdit || isDeleteDisabled;\n  const match = useRouteMatch();\n  return (\n    <Toolbar id=\"survey-toolbar\">\n      <ToolbarContent>\n        <ToolbarItem>\n          <Checkbox\n            isDisabled={!canEdit}\n            isChecked={isAllSelected}\n            onChange={isChecked => {\n              onSelectAll(isChecked);\n            }}\n            aria-label={i18n._(t`Select all`)}\n            id=\"select-all\"\n          />\n        </ToolbarItem>\n        <ToolbarItem>\n          <Switch\n            aria-label={i18n._(t`Survey Toggle`)}\n            id=\"survey-toggle\"\n            label={i18n._(t`On`)}\n            labelOff={i18n._(t`Off`)}\n            isChecked={surveyEnabled}\n            isDisabled={!canEdit}\n            onChange={() => onToggleSurvey(!surveyEnabled)}\n          />\n        </ToolbarItem>\n        <ToolbarGroup>\n          <ToolbarItem>\n            <ToolbarAddButton\n              isDisabled={!canEdit}\n              linkTo={`${match.url}/add`}\n            />\n          </ToolbarItem>\n          <ToolbarItem>\n            <Button\n              variant=\"secondary\"\n              isDisabled={isDeleteDisabled}\n              onClick={() => onToggleDeleteModal(true)}\n            >\n              {i18n._(t`删除`)}\n            </Button>\n          </ToolbarItem>\n        </ToolbarGroup>\n      </ToolbarContent>\n    </Toolbar>\n  );\n}\n\nexport default withI18n()(SurveyToolbar);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik } from 'formik';\n\nimport {\n  Form,\n  FormGroup,\n  Modal,\n  TextInput,\n  TextArea,\n  Select,\n  SelectOption,\n  SelectVariant,\n} from '@patternfly/react-core';\nimport { PasswordField } from '../../../components/FormField';\n\nfunction SurveyPreviewModal({\n  questions,\n  isPreviewModalOpen,\n  onToggleModalOpen,\n  i18n,\n}) {\n  const initialValues = {};\n  questions.forEach(q => {\n    initialValues[q.variable] = q.default;\n    return initialValues;\n  });\n\n  return (\n    <Modal\n      title={i18n._(t`Survey Preview`)}\n      aria-label={i18n._(t`Survey preview modal`)}\n      isOpen={isPreviewModalOpen}\n      onClose={() => onToggleModalOpen(false)}\n      variant=\"small\"\n    >\n      <Formik initialValues={initialValues}>\n        {() => (\n          <Form>\n            {questions.map(q => (\n              <div key={q.variable}>\n                {['text', 'integer', 'float'].includes(q.type) && (\n                  <FormGroup\n                    fieldId={`survey-preview-text-${q.variable}`}\n                    label={q.question_name}\n                    isRequired={q.required}\n                  >\n                    <TextInput\n                      id={`survey-preview-text-${q.variable}`}\n                      value={q.default}\n                      isDisabled\n                      aria-label={i18n._(t`Text`)}\n                    />\n                  </FormGroup>\n                )}\n                {['textarea'].includes(q.type) && (\n                  <FormGroup\n                    fieldId={`survey-preview-textArea-${q.variable}`}\n                    label={q.question_name}\n                    isRequired={q.required}\n                  >\n                    <TextArea\n                      id={`survey-preview-textArea-${q.variable}`}\n                      type={`survey-preview-textArea-${q.variable}`}\n                      value={q.default}\n                      aria-label={i18n._(t`Text Area`)}\n                      isDisabled\n                    />\n                  </FormGroup>\n                )}\n                {['password'].includes(q.type) && (\n                  <PasswordField\n                    id={`survey-preview-password-${q.variable}`}\n                    label={q.question_name}\n                    name={q.variable}\n                    isDisabled\n                    isRequired={q.required}\n                  />\n                )}\n                {['multiplechoice'].includes(q.type) && (\n                  <FormGroup\n                    fieldId={`survey-preview-multipleChoice-${q.variable}`}\n                    label={q.question_name}\n                    isRequired={q.required}\n                  >\n                    <Select\n                      id={`survey-preview-multipleChoice-${q.variable}`}\n                      isDisabled\n                      aria-label={i18n._(t`Multiple Choice`)}\n                      placeholderText={q.default}\n                      onToggle={() => {}}\n                    />\n                  </FormGroup>\n                )}\n                {['multiselect'].includes(q.type) && (\n                  <FormGroup\n                    fieldId={`survey-preview-multiSelect-${q.variable}`}\n                    label={q.question_name}\n                    isRequired={q.required}\n                  >\n                    <Select\n                      isDisabled\n                      isReadOnly\n                      variant={SelectVariant.typeaheadMulti}\n                      isOpen={false}\n                      selections={\n                        q.default.length > 0 ? q.default.split('\\n') : []\n                      }\n                      onToggle={() => {}}\n                      aria-label={i18n._(t`Multi-Select`)}\n                      id={`survey-preview-multiSelect-${q.variable}`}\n                    >\n                      {q.choices.length > 0 &&\n                        q.choices\n                          .split('\\n')\n                          .map(option => (\n                            <SelectOption key={option} value={option} />\n                          ))}\n                    </Select>\n                  </FormGroup>\n                )}\n              </div>\n            ))}\n          </Form>\n        )}\n      </Formik>\n    </Modal>\n  );\n}\nexport default withI18n()(SurveyPreviewModal);\n","import React, { useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { useRouteMatch } from 'react-router-dom';\nimport {\n  DataList,\n  Button as _Button,\n  Title,\n  EmptyState,\n  EmptyStateIcon,\n  EmptyStateBody,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport ContentLoading from '../../../components/ContentLoading';\nimport AlertModal from '../../../components/AlertModal';\nimport { ToolbarAddButton } from '../../../components/PaginatedDataList';\n\nimport SurveyListItem from './SurveyListItem';\nimport SurveyToolbar from './SurveyToolbar';\nimport SurveyPreviewModal from './SurveyPreviewModal';\n\nconst Button = styled(_Button)`\n  margin: 20px;\n`;\n\nfunction SurveyList({\n  isLoading,\n  survey,\n  surveyEnabled,\n  toggleSurvey,\n  updateSurvey,\n  deleteSurvey,\n  canEdit,\n  i18n,\n}) {\n  const match = useRouteMatch();\n\n  const questions = survey?.spec || [];\n  const [selected, setSelected] = useState([]);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [isPreviewModalOpen, setIsPreviewModalOpen] = useState(false);\n  const isAllSelected =\n    selected.length === questions?.length && selected.length > 0;\n\n  const handleSelectAll = isSelected => {\n    setSelected(isSelected ? [...questions] : []);\n  };\n\n  const handleSelect = item => {\n    if (selected.some(q => q.variable === item.variable)) {\n      setSelected(selected.filter(q => q.variable !== item.variable));\n    } else {\n      setSelected(selected.concat(item));\n    }\n  };\n\n  const handleDelete = async () => {\n    if (isAllSelected) {\n      await deleteSurvey();\n    } else {\n      await updateSurvey(questions.filter(q => !selected.includes(q)));\n    }\n    setIsDeleteModalOpen(false);\n    setSelected([]);\n  };\n\n  const moveUp = question => {\n    const index = questions.indexOf(question);\n    if (index < 1) {\n      return;\n    }\n    const beginning = questions.slice(0, index - 1);\n    const swapWith = questions[index - 1];\n    const end = questions.slice(index + 1);\n    updateSurvey([...beginning, question, swapWith, ...end]);\n  };\n  const moveDown = question => {\n    const index = questions.indexOf(question);\n    if (index === -1 || index > questions.length - 1) {\n      return;\n    }\n    const beginning = questions.slice(0, index);\n    const swapWith = questions[index + 1];\n    const end = questions.slice(index + 2);\n    updateSurvey([...beginning, swapWith, question, ...end]);\n  };\n  const deleteModal = (\n    <AlertModal\n      variant=\"danger\"\n      title={\n        isAllSelected ? i18n._(t`Delete Survey`) : i18n._(t`Delete Questions`)\n      }\n      isOpen={isDeleteModalOpen}\n      onClose={() => {\n        setIsDeleteModalOpen(false);\n        setSelected([]);\n      }}\n      actions={[\n        <Button\n          key=\"delete\"\n          variant=\"danger\"\n          aria-label={i18n._(t`确认删除`)}\n          onClick={handleDelete}\n        >\n          {i18n._(t`删除`)}\n        </Button>,\n        <Button\n          key=\"cancel\"\n          variant=\"secondary\"\n          aria-label={i18n._(t`取消删除`)}\n          onClick={() => {\n            setIsDeleteModalOpen(false);\n            setSelected([]);\n          }}\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      <div>{i18n._(t`This action will delete the following:`)}</div>\n      {selected.map(question => (\n        <span key={question.variable}>\n          <strong>{question.question_name}</strong>\n          <br />\n        </span>\n      ))}\n    </AlertModal>\n  );\n\n  let content;\n  if (isLoading) {\n    content = <ContentLoading />;\n  } else {\n    content = (\n      <DataList aria-label={i18n._(t`Survey List`)}>\n        {questions?.map((question, index) => (\n          <SurveyListItem\n            key={question.variable}\n            isLast={index === questions.length - 1}\n            isFirst={index === 0}\n            question={question}\n            isChecked={selected.some(q => q.variable === question.variable)}\n            onSelect={() => handleSelect(question)}\n            onMoveUp={moveUp}\n            onMoveDown={moveDown}\n            canEdit={canEdit}\n          />\n        ))}\n        {isDeleteModalOpen && deleteModal}\n        {isPreviewModalOpen && (\n          <SurveyPreviewModal\n            isPreviewModalOpen={isPreviewModalOpen}\n            onToggleModalOpen={() => setIsPreviewModalOpen(false)}\n            questions={questions}\n          />\n        )}\n        <Button\n          onClick={() => setIsPreviewModalOpen(true)}\n          variant=\"primary\"\n          aria-label={i18n._(t`Preview`)}\n        >\n          {i18n._(t`Preview`)}\n        </Button>\n      </DataList>\n    );\n  }\n\n  if ((!questions || questions?.length <= 0) && !isLoading) {\n    return (\n      <EmptyState variant=\"full\">\n        <EmptyStateIcon icon={CubesIcon} />\n        <Title size=\"lg\" headingLevel=\"h3\">\n          {i18n._(t`No survey questions found.`)}\n        </Title>\n        <EmptyStateBody>\n          {i18n._(t`Please add survey questions.`)}\n        </EmptyStateBody>\n        <ToolbarAddButton isDisabled={!canEdit} linkTo={`${match.url}/add`} />\n      </EmptyState>\n    );\n  }\n  return (\n    <>\n      <SurveyToolbar\n        isAllSelected={isAllSelected}\n        onSelectAll={handleSelectAll}\n        surveyEnabled={surveyEnabled}\n        onToggleSurvey={toggleSurvey}\n        isDeleteDisabled={selected?.length === 0}\n        canEdit={canEdit}\n        onToggleDeleteModal={() => setIsDeleteModalOpen(true)}\n      />\n      {content}\n    </>\n  );\n}\n\nexport default withI18n()(SurveyList);\n","import React from 'react';\nimport { func, string, bool, number, shape } from 'prop-types';\nimport { Formik, useField } from 'formik';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport { FormColumnLayout } from '../../../components/FormLayout';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, {\n  CheckboxField,\n  PasswordField,\n  FormSubmitError,\n} from '../../../components/FormField';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport Popover from '../../../components/Popover';\nimport {\n  required,\n  noWhiteSpace,\n  combine,\n  maxLength,\n  integer,\n  number as numberValidator,\n} from '../../../util/validators';\n\nfunction AnswerTypeField({ i18n }) {\n  const [field] = useField({\n    name: 'type',\n    validate: required(i18n._(t`Select a value for this field`), i18n),\n  });\n\n  return (\n    <FormGroup\n      label={i18n._(t`Answer type`)}\n      labelIcon={\n        <Popover\n          content={i18n._(\n            t`Choose an answer type or format you want as the prompt for the user.\n          Refer to the Ansible Tower Documentation for more additional\n          information about each option.`\n          )}\n        />\n      }\n      isRequired\n      fieldId=\"question-answer-type\"\n    >\n      <AnsibleSelect\n        id=\"question-type\"\n        {...field}\n        data={[\n          { key: 'text', value: 'text', label: i18n._(t`Text`) },\n          { key: 'textarea', value: 'textarea', label: i18n._(t`Textarea`) },\n          { key: 'password', value: 'password', label: i18n._(t`Password`) },\n          {\n            key: 'multiplechoice',\n            value: 'multiplechoice',\n            label: i18n._(t`Multiple Choice (single select)`),\n          },\n          {\n            key: 'multiselect',\n            value: 'multiselect',\n            label: i18n._(t`Multiple Choice (multiple select)`),\n          },\n          { key: 'integer', value: 'integer', label: i18n._(t`Integer`) },\n          { key: 'float', value: 'float', label: i18n._(t`Float`) },\n        ]}\n      />\n    </FormGroup>\n  );\n}\n\nfunction SurveyQuestionForm({\n  question,\n  handleSubmit,\n  handleCancel,\n  submitError,\n  i18n,\n}) {\n  const defaultIsNotAvailable = choices => {\n    return defaultValue => {\n      let errorMessage;\n      const found = [...defaultValue].every(dA => choices.indexOf(dA) > -1);\n\n      if (!found) {\n        errorMessage = i18n._(\n          t`Default choice must be answered from the choices listed.`\n        );\n      }\n      return errorMessage;\n    };\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      initialValues={{\n        question_name: question?.question_name || '',\n        question_description: question?.question_description || '',\n        required: question ? question?.required : true,\n        type: question?.type || 'text',\n        variable: question?.variable || '',\n        min: question?.min || 0,\n        max: question?.max || 1024,\n        default: question?.default || '',\n        choices: question?.choices || '',\n        new_question: !question,\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <FormField\n              id=\"question-name\"\n              name=\"question_name\"\n              type=\"text\"\n              label={i18n._(t`Question`)}\n              validate={required(null, i18n)}\n              isRequired\n            />\n            <FormField\n              id=\"question-description\"\n              name=\"question_description\"\n              type=\"text\"\n              label={i18n._(t`描述`)}\n            />\n            <FormField\n              id=\"question-variable\"\n              name=\"variable\"\n              type=\"text\"\n              label={i18n._(t`Answer variable name`)}\n              validate={combine([noWhiteSpace(i18n), required(null, i18n)])}\n              isRequired\n              tooltip={i18n._(\n                t`The suggested format for variable names is lowercase and\n                underscore-separated (for example, foo_bar, user_id, host_name,\n                etc.). Variable names with spaces are not allowed.`\n              )}\n            />\n            <AnswerTypeField i18n={i18n} />\n            <CheckboxField\n              id=\"question-required\"\n              name=\"required\"\n              label={i18n._(t`Required`)}\n            />\n          </FormColumnLayout>\n          <FormColumnLayout>\n            {['text', 'textarea', 'password'].includes(formik.values.type) && (\n              <>\n                <FormField\n                  id=\"question-min\"\n                  name=\"min\"\n                  type=\"number\"\n                  label={i18n._(t`Minimum length`)}\n                />\n                <FormField\n                  id=\"question-max\"\n                  name=\"max\"\n                  type=\"number\"\n                  label={i18n._(t`Maximum length`)}\n                />\n              </>\n            )}\n            {['integer', 'float'].includes(formik.values.type) && (\n              <>\n                <FormField\n                  id=\"question-min\"\n                  name=\"min\"\n                  type=\"number\"\n                  label={i18n._(t`Minimum`)}\n                />\n                <FormField\n                  id=\"question-max\"\n                  name=\"max\"\n                  type=\"number\"\n                  label={i18n._(t`Maximum`)}\n                />\n              </>\n            )}\n            {['text', 'integer', 'float'].includes(formik.values.type) && (\n              <FormField\n                id=\"question-default\"\n                name=\"default\"\n                validate={\n                  {\n                    text: maxLength(formik.values.max, i18n),\n                    integer: integer(i18n),\n                    float: numberValidator(i18n),\n                  }[formik.values.type]\n                }\n                min={formik.values.min}\n                max={formik.values.max}\n                type={formik.values.type === 'text' ? 'text' : 'number'}\n                label={i18n._(t`Default answer`)}\n              />\n            )}\n            {formik.values.type === 'textarea' && (\n              <FormField\n                id=\"question-default\"\n                name=\"default\"\n                type=\"textarea\"\n                label={i18n._(t`Default answer`)}\n              />\n            )}\n            {formik.values.type === 'password' && (\n              <PasswordField\n                id=\"question-default\"\n                name=\"default\"\n                label={i18n._(t`Default answer`)}\n              />\n            )}\n            {['multiplechoice', 'multiselect'].includes(formik.values.type) && (\n              <>\n                <FormField\n                  id=\"question-options\"\n                  name=\"choices\"\n                  type=\"textarea\"\n                  label={i18n._(t`Multiple Choice Options`)}\n                  validate={required(null, i18n)}\n                  tooltip={i18n._(\n                    t`Each answer choice must be on a separate line.`\n                  )}\n                  isRequired\n                  rows=\"10\"\n                />\n                <FormField\n                  id=\"question-default\"\n                  name=\"default\"\n                  validate={defaultIsNotAvailable(formik.values.choices, i18n)}\n                  type={\n                    formik.values.type === 'multiplechoice'\n                      ? 'text'\n                      : 'textarea'\n                  }\n                  label={i18n._(t`Default answer`)}\n                />\n              </>\n            )}\n          </FormColumnLayout>\n          <FormSubmitError error={submitError} />\n          <FormActionGroup\n            onCancel={handleCancel}\n            onSubmit={formik.handleSubmit}\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nSurveyQuestionForm.propTypes = {\n  question: shape({\n    question_name: string.isRequired,\n    question_description: string.isRequired,\n    required: bool,\n    type: string.isRequired,\n    min: number,\n    max: number,\n  }),\n  handleSubmit: func.isRequired,\n  handleCancel: func.isRequired,\n  submitError: shape({}),\n};\n\nSurveyQuestionForm.defaultProps = {\n  question: null,\n  submitError: null,\n};\n\nexport default withI18n()(SurveyQuestionForm);\n","import React, { useState } from 'react';\nimport { useHistory, useRouteMatch } from 'react-router-dom';\nimport { CardBody } from '../../../components/Card';\nimport SurveyQuestionForm from './SurveyQuestionForm';\n\nexport default function SurveyQuestionAdd({ survey, updateSurvey }) {\n  const [formError, setFormError] = useState(null);\n  const history = useHistory();\n  const match = useRouteMatch();\n\n  const handleSubmit = async question => {\n    try {\n      if (survey.spec?.some(q => q.variable === question.variable)) {\n        setFormError(\n          new Error(\n            `Survey already contains a question with variable named “${question.variable}”`\n          )\n        );\n        return;\n      }\n      if (question.type === 'multiselect') {\n        question.default = question.default\n          .split('\\n')\n          .filter(v => v !== '' || '\\n')\n          .map(v => v.trim())\n          .join('\\n');\n      }\n      const newSpec = survey.spec ? survey.spec.concat(question) : [question];\n      await updateSurvey(newSpec);\n      history.push(match.url.replace('/add', ''));\n    } catch (err) {\n      setFormError(err);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(match.url.replace('/add', ''));\n  };\n\n  return (\n    <CardBody>\n      <SurveyQuestionForm\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n","import React, { useState } from 'react';\nimport {\n  Redirect,\n  useHistory,\n  useLocation,\n  useRouteMatch,\n} from 'react-router-dom';\nimport ContentLoading from '../../../components/ContentLoading';\nimport { CardBody } from '../../../components/Card';\nimport SurveyQuestionForm from './SurveyQuestionForm';\n\nexport default function SurveyQuestionEdit({ survey, updateSurvey }) {\n  const [formError, setFormError] = useState(null);\n  const history = useHistory();\n  const match = useRouteMatch();\n  const { search } = useLocation();\n  const queryParams = new URLSearchParams(search);\n  const questionVariable = queryParams.get('question_variable');\n\n  if (!survey) {\n    return <ContentLoading />;\n  }\n\n  const question = survey.spec.find(q => q.variable === questionVariable);\n\n  if (!question) {\n    return (\n      <Redirect\n        to={`/templates/${match.params.templateType}/${match.params.id}/survey`}\n      />\n    );\n  }\n\n  const navigateToList = () => {\n    const index = match.url.indexOf('/edit');\n    history.push(match.url.substr(0, index));\n  };\n\n  const handleSubmit = async formData => {\n    try {\n      if (\n        formData.variable !== question.variable &&\n        survey.spec.find(q => q.variable === formData.variable)\n      ) {\n        setFormError(\n          new Error(\n            `Survey already contains a question with variable named “${formData.variable}”`\n          )\n        );\n        return;\n      }\n      const questionIndex = survey.spec.findIndex(\n        q => q.variable === questionVariable\n      );\n      if (questionIndex === -1) {\n        throw new Error('Question not found in spec');\n      }\n      if (formData.type === 'multiselect') {\n        formData.default = formData.default\n          .split('\\n')\n          .filter(v => v !== '' || '\\n')\n          .map(v => v.trim())\n          .join('\\n');\n      }\n      await updateSurvey([\n        ...survey.spec.slice(0, questionIndex),\n        formData,\n        ...survey.spec.slice(questionIndex + 1),\n      ]);\n      navigateToList();\n    } catch (err) {\n      setFormError(err);\n    }\n  };\n\n  return (\n    <CardBody>\n      <SurveyQuestionForm\n        question={question}\n        handleSubmit={handleSubmit}\n        handleCancel={navigateToList}\n        submitError={formError}\n      />\n    </CardBody>\n  );\n}\n","import React, { useState, useEffect, useCallback } from 'react';\nimport { Switch, Route, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from '../../api';\nimport ContentError from '../../components/ContentError';\nimport AlertModal from '../../components/AlertModal';\nimport ErrorDetail from '../../components/ErrorDetail';\nimport useRequest, { useDismissableError } from '../../util/useRequest';\nimport { SurveyList, SurveyQuestionAdd, SurveyQuestionEdit } from './Survey';\n\nfunction TemplateSurvey({ template, canEdit, i18n }) {\n  const [surveyEnabled, setSurveyEnabled] = useState(template.survey_enabled);\n\n  const { templateType, id: templateId } = useParams();\n\n  const {\n    result: survey,\n    request: fetchSurvey,\n    isLoading,\n    error: loadingError,\n    setValue: setSurvey,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } =\n        templateType === 'workflow_job_template'\n          ? await WorkflowJobTemplatesAPI.readSurvey(templateId)\n          : await JobTemplatesAPI.readSurvey(templateId);\n      return data;\n    }, [templateId, templateType])\n  );\n\n  useEffect(() => {\n    fetchSurvey();\n  }, [fetchSurvey]);\n\n  const {\n    request: updateSurvey,\n    error: updateError,\n    isLoading: updateLoading,\n  } = useRequest(\n    useCallback(\n      async updatedSurvey => {\n        if (templateType === 'workflow_job_template') {\n          await WorkflowJobTemplatesAPI.updateSurvey(templateId, updatedSurvey);\n        } else {\n          await JobTemplatesAPI.updateSurvey(templateId, updatedSurvey);\n        }\n        setSurvey(updatedSurvey);\n      },\n      [templateId, setSurvey, templateType]\n    )\n  );\n  const updateSurveySpec = spec => {\n    updateSurvey({\n      name: survey.name || '',\n      description: survey.description || '',\n      spec,\n    });\n  };\n\n  const { request: deleteSurvey, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await JobTemplatesAPI.destroySurvey(templateId);\n      setSurvey(null);\n    }, [templateId, setSurvey])\n  );\n\n  const { request: toggleSurvey, error: toggleError } = useRequest(\n    useCallback(async () => {\n      if (templateType === 'workflow_job_template') {\n        await WorkflowJobTemplatesAPI.update(templateId, {\n          survey_enabled: !surveyEnabled,\n        });\n      } else {\n        await JobTemplatesAPI.update(templateId, {\n          survey_enabled: !surveyEnabled,\n        });\n      }\n      setSurveyEnabled(!surveyEnabled);\n    }, [templateId, templateType, surveyEnabled])\n  );\n\n  const { error, dismissError } = useDismissableError(\n    updateError || deleteError || toggleError\n  );\n\n  if (loadingError) {\n    return <ContentError error={loadingError} />;\n  }\n  return (\n    <>\n      <Switch>\n        {canEdit && (\n          <Route path=\"/templates/:templateType/:id/survey/add\">\n            <SurveyQuestionAdd\n              survey={survey}\n              updateSurvey={updateSurveySpec}\n            />\n          </Route>\n        )}\n        {canEdit && (\n          <Route path=\"/templates/:templateType/:id/survey/edit\">\n            <SurveyQuestionEdit\n              survey={survey}\n              updateSurvey={updateSurveySpec}\n            />\n          </Route>\n        )}\n        <Route path=\"/templates/:templateType/:id/survey\" exact>\n          <SurveyList\n            isLoading={isLoading || updateLoading}\n            survey={survey}\n            surveyEnabled={surveyEnabled}\n            toggleSurvey={toggleSurvey}\n            updateSurvey={updateSurveySpec}\n            deleteSurvey={deleteSurvey}\n            canEdit={canEdit}\n          />\n        </Route>\n      </Switch>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to update survey.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(TemplateSurvey);\n","import React, { useEffect, useCallback } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useLocation,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport { useConfig } from '../../contexts/Config';\nimport useRequest from '../../util/useRequest';\nimport ContentError from '../../components/ContentError';\nimport JobList from '../../components/JobList';\nimport NotificationList from '../../components/NotificationList';\nimport { Schedules } from '../../components/Schedule';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport JobTemplateDetail from './JobTemplateDetail';\nimport JobTemplateEdit from './JobTemplateEdit';\nimport { JobTemplatesAPI, OrganizationsAPI } from '../../api';\nimport TemplateSurvey from './TemplateSurvey';\n\nfunction Template({ i18n, setBreadcrumb }) {\n  const match = useRouteMatch();\n  const location = useLocation();\n  const { id: templateId } = useParams();\n  const { me = {} } = useConfig();\n\n  const {\n    result: { isNotifAdmin, template },\n    isLoading,\n    error: contentError,\n    request: loadTemplateAndRoles,\n  } = useRequest(\n    useCallback(async () => {\n      const [{ data }, actions, notifAdminRes] = await Promise.all([\n        JobTemplatesAPI.readDetail(templateId),\n        JobTemplatesAPI.readTemplateOptions(templateId),\n        OrganizationsAPI.read({\n          page_size: 1,\n          role_level: 'notification_admin_role',\n        }),\n      ]);\n      if (data.summary_fields.credentials) {\n        const params = {\n          page: 1,\n          page_size: 200,\n          order_by: 'name',\n        };\n        const {\n          data: { results },\n        } = await JobTemplatesAPI.readCredentials(data.id, params);\n\n        data.summary_fields.credentials = results;\n      }\n\n      if (actions.data.actions.PUT) {\n        if (data.webhook_service && data?.related?.webhook_key) {\n          const {\n            data: { webhook_key },\n          } = await JobTemplatesAPI.readWebhookKey(templateId);\n\n          data.webhook_key = webhook_key;\n        }\n      }\n      return {\n        template: data,\n        isNotifAdmin: notifAdminRes.data.results.length > 0,\n      };\n    }, [templateId]),\n    { isNotifAdmin: false, template: null }\n  );\n\n  useEffect(() => {\n    loadTemplateAndRoles();\n  }, [loadTemplateAndRoles, location.pathname]);\n\n  useEffect(() => {\n    if (template) {\n      setBreadcrumb(template);\n    }\n  }, [template, setBreadcrumb]);\n\n  const createSchedule = data => {\n    return JobTemplatesAPI.createSchedule(template.id, data);\n  };\n\n  const loadScheduleOptions = useCallback(() => {\n    return JobTemplatesAPI.readScheduleOptions(templateId);\n  }, [templateId]);\n\n  const loadSchedules = useCallback(\n    params => {\n      return JobTemplatesAPI.readSchedules(templateId, params);\n    },\n    [templateId]\n  );\n\n  const canSeeNotificationsTab = me?.is_system_auditor || isNotifAdmin;\n  const canAddAndEditSurvey =\n    template?.summary_fields?.user_capabilities.edit ||\n    template?.summary_fields?.user_capabilities.delete;\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Templates`)}\n        </>\n      ),\n      link: `/templates`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details` },\n    { name: i18n._(t`Access`), link: `${match.url}/access` },\n  ];\n\n  if (canSeeNotificationsTab) {\n    tabsArray.push({\n      name: i18n._(t`Notifications`),\n      link: `${match.url}/notifications`,\n    });\n  }\n\n  if (template) {\n    tabsArray.push({\n      name: i18n._(t`计划`),\n      link: `${match.url}/schedules`,\n    });\n  }\n\n  tabsArray.push(\n    {\n      name: i18n._(t`Completed Jobs`),\n      link: `${match.url}/completed_jobs`,\n    },\n    {\n      name: canAddAndEditSurvey ? i18n._(t`Survey`) : i18n._(t`View Survey`),\n      link: `${match.url}/survey`,\n    }\n  );\n\n  tabsArray.forEach((tab, n) => {\n    tab.id = n;\n  });\n\n  if (contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response?.status === 404 && (\n              <span>\n                {i18n._(t`Template not found.`)}{' '}\n                <Link to=\"/templates\">{i18n._(t`View all Templates.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  const showCardHeader = !(\n    location.pathname.endsWith('edit') ||\n    location.pathname.includes('schedules/')\n  );\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        {template && (\n          <Switch>\n            <Redirect\n              from=\"/templates/:templateType/:id\"\n              to=\"/templates/:templateType/:id/details\"\n              exact\n            />\n            <Route key=\"details\" path=\"/templates/:templateType/:id/details\">\n              <JobTemplateDetail\n                hasTemplateLoading={isLoading}\n                template={template}\n              />\n            </Route>\n            <Route key=\"edit\" path=\"/templates/:templateType/:id/edit\">\n              <JobTemplateEdit template={template} />\n            </Route>\n            <Route key=\"access\" path=\"/templates/:templateType/:id/access\">\n              <ResourceAccessList\n                resource={template}\n                apiModel={JobTemplatesAPI}\n              />\n            </Route>\n            <Route\n              key=\"schedules\"\n              path=\"/templates/:templateType/:id/schedules\"\n            >\n              <Schedules\n                createSchedule={createSchedule}\n                setBreadcrumb={setBreadcrumb}\n                unifiedJobTemplate={template}\n                loadSchedules={loadSchedules}\n                loadScheduleOptions={loadScheduleOptions}\n              />\n            </Route>\n            {canSeeNotificationsTab && (\n              <Route path=\"/templates/:templateType/:id/notifications\">\n                <NotificationList\n                  id={Number(templateId)}\n                  canToggleNotifications={isNotifAdmin}\n                  apiModel={JobTemplatesAPI}\n                />\n              </Route>\n            )}\n            <Route path=\"/templates/:templateType/:id/completed_jobs\">\n              <JobList defaultParams={{ job__job_template: template.id }} />\n            </Route>\n            <Route path=\"/templates/:templateType/:id/survey\">\n              <TemplateSurvey\n                template={template}\n                canEdit={canAddAndEditSurvey}\n              />\n            </Route>\n            {!isLoading && (\n              <Route key=\"not-found\" path=\"*\">\n                <ContentError isNotFound>\n                  {match.params.id && (\n                    <Link\n                      to={`/templates/${match?.params?.templateType}/${templateId}/details`}\n                    >\n                      {i18n._(t`View Template Details`)}\n                    </Link>\n                  )}\n                </ContentError>\n              </Route>\n            )}\n          </Switch>\n        )}\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { Template as _Template };\nexport default withI18n()(Template);\n","import { Component } from 'react';\nimport ReactDOM from 'react-dom';\n\nclass AppendBody extends Component {\n  constructor(props) {\n    super(props);\n    this.el = document.createElement('div');\n  }\n\n  componentDidMount() {\n    document.body.appendChild(this.el);\n  }\n\n  componentWillUnmount() {\n    document.body.removeChild(this.el);\n  }\n\n  render() {\n    const { children } = this.props;\n    return ReactDOM.createPortal(children, this.el);\n  }\n}\n\nexport default AppendBody;\n","import styled from 'styled-components';\n\nexport default styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  background-color: white;\n  z-index: 300;\n`;\n","import React, { useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Chip,\n  Button,\n  TextList,\n  TextListItem,\n  TextListVariants,\n  TextListItemVariants,\n  Label,\n} from '@patternfly/react-core';\nimport { WorkflowJobTemplatesAPI } from '../../../api';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport ChipGroup from '../../../components/ChipGroup';\nimport { VariablesDetail } from '../../../components/CodeMirrorInput';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport LaunchButton from '../../../components/LaunchButton';\nimport Sparkline from '../../../components/Sparkline';\nimport { toTitleCase } from '../../../util/strings';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nfunction WorkflowJobTemplateDetail({ template, i18n }) {\n  const {\n    id,\n    ask_inventory_on_launch,\n    name,\n    description,\n    type,\n    extra_vars,\n    created,\n    modified,\n    summary_fields,\n    related,\n    webhook_credential,\n    webhook_key,\n  } = template;\n\n  const urlOrigin = window.location.origin;\n  const history = useHistory();\n\n  const renderOptionsField =\n    template.allow_simultaneous || template.webhook_service;\n\n  const renderOptions = (\n    <TextList component={TextListVariants.ul}>\n      {template.allow_simultaneous && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`- Enable Concurrent Jobs`)}\n        </TextListItem>\n      )}\n      {template.webhook_service && (\n        <TextListItem component={TextListItemVariants.li}>\n          {i18n._(t`- Enable Webhooks`)}\n        </TextListItem>\n      )}\n    </TextList>\n  );\n\n  const {\n    request: deleteWorkflowJobTemplate,\n    isLoading,\n    error: deleteError,\n  } = useRequest(\n    useCallback(async () => {\n      await WorkflowJobTemplatesAPI.destroy(id);\n      history.push(`/templates`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  const inventoryValue = (kind, inventoryId) => {\n    const inventorykind = kind === 'smart' ? 'smart_inventory' : 'inventory';\n\n    return ask_inventory_on_launch ? (\n      <>\n        <Link to={`/inventories/${inventorykind}/${inventoryId}/details`}>\n          <Label>{summary_fields.inventory.name}</Label>\n        </Link>\n        <span> {i18n._(t`(Prompt on launch)`)}</span>\n      </>\n    ) : (\n      <Link to={`/inventories/${inventorykind}/${inventoryId}/details`}>\n        <Label>{summary_fields.inventory.name}</Label>\n      </Link>\n    );\n  };\n\n  const canLaunch = summary_fields?.user_capabilities?.start;\n  const recentPlaybookJobs = summary_fields.recent_jobs.map(job => ({\n    ...job,\n    type: 'workflow_job',\n  }));\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail label={i18n._(t`名称`)} value={name} dataCy=\"jt-detail-name\" />\n        <Detail label={i18n._(t`描述`)} value={description} />\n        {summary_fields.recent_jobs?.length > 0 && (\n          <Detail\n            value={<Sparkline jobs={recentPlaybookJobs} />}\n            label={i18n._(t`Activity`)}\n          />\n        )}\n        {summary_fields.organization && (\n          <Detail\n            label={i18n._(t`组织`)}\n            value={\n              <Link\n                to={`/organizations/${summary_fields.organization.id}/details`}\n              >\n                <Label>{summary_fields.organization.name}</Label>\n              </Link>\n            }\n          />\n        )}\n        <Detail label={i18n._(t`作业类型`)} value={toTitleCase(type)} />\n        {summary_fields.inventory && (\n          <Detail\n            label={i18n._(t`清单`)}\n            value={inventoryValue(\n              summary_fields.inventory.kind,\n              summary_fields.inventory.id\n            )}\n          />\n        )}\n        <Detail\n          label={i18n._(t`Webhook Service`)}\n          value={toTitleCase(template.webhook_service)}\n        />\n        {related.webhook_receiver && (\n          <Detail\n            label={i18n._(t`Webhook URL`)}\n            value={`${urlOrigin}${template.related.webhook_receiver}`}\n          />\n        )}\n        <Detail label={i18n._(t`Webhook Key`)} value={webhook_key} />\n        {webhook_credential && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Webhook Credentials`)}\n            value={\n              <Link\n                to={`/credentials/${summary_fields.webhook_credential.id}/details`}\n              >\n                <Label>{summary_fields.webhook_credential.name}</Label>\n              </Link>\n            }\n          />\n        )}\n        {renderOptionsField && (\n          <Detail label={i18n._(t`Options`)} value={renderOptions} />\n        )}\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.created_by}\n        />\n        <UserDateDetail\n          label={i18n._(t`更改`)}\n          date={modified}\n          user={summary_fields.modified_by}\n        />\n        {summary_fields.labels?.results?.length > 0 && (\n          <Detail\n            fullWidth\n            label={i18n._(t`Labels`)}\n            value={\n              <ChipGroup\n                numChips={3}\n                totalChips={summary_fields.labels.results.length}\n              >\n                {summary_fields.labels.results.map(l => (\n                  <Chip key={l.id} isReadOnly>\n                    {l.name}\n                  </Chip>\n                ))}\n              </ChipGroup>\n            }\n          />\n        )}\n        <VariablesDetail\n          label={i18n._(t`变量`)}\n          value={extra_vars}\n          rows={4}\n        />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              component={Link}\n              to={`/templates/workflow_job_template/${id}/edit`}\n              aria-label={i18n._(t`Edit`)}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {canLaunch && (\n          <LaunchButton resource={template} aria-label={i18n._(t`运行`)}>\n            {({ handleLaunch }) => (\n              <Button variant=\"secondary\" type=\"submit\" onClick={handleLaunch}>\n                {i18n._(t`运行`)}\n              </Button>\n            )}\n          </LaunchButton>\n        )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={name}\n              modalTitle={i18n._(t`Delete Workflow Job Template`)}\n              onConfirm={deleteWorkflowJobTemplate}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete workflow job template.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\nexport { WorkflowJobTemplateDetail as _WorkflowJobTemplateDetail };\nexport default withI18n()(WorkflowJobTemplateDetail);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { t } from '@lingui/macro';\nimport PropTypes, { shape } from 'prop-types';\n\nimport { withI18n } from '@lingui/react';\nimport { useField, useFormikContext, withFormik } from 'formik';\nimport {\n  Form,\n  FormGroup,\n  Checkbox,\n  TextInput,\n  Title,\n} from '@patternfly/react-core';\nimport { required } from '../../../util/validators';\n\nimport FieldWithPrompt from '../../../components/FieldWithPrompt';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport {\n  FormColumnLayout,\n  FormFullWidthLayout,\n  FormCheckboxLayout,\n  SubFormLayout,\n} from '../../../components/FormLayout';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport { InventoryLookup } from '../../../components/Lookup';\nimport { VariablesField } from '../../../components/CodeMirrorInput';\nimport FormActionGroup from '../../../components/FormActionGroup';\nimport ContentError from '../../../components/ContentError';\nimport CheckboxField from '../../../components/FormField/CheckboxField';\nimport Popover from '../../../components/Popover';\nimport LabelSelect from './LabelSelect';\nimport WebhookSubForm from './WebhookSubForm';\nimport { WorkFlowJobTemplate } from '../../../types';\n\nconst urlOrigin = window.location.origin;\n\nfunction WorkflowJobTemplateForm({\n  template,\n  handleSubmit,\n  handleCancel,\n  i18n,\n  submitError,\n}) {\n  const { setFieldValue } = useFormikContext();\n  const [enableWebhooks, setEnableWebhooks] = useState(\n    Boolean(template.webhook_service)\n  );\n  const [hasContentError, setContentError] = useState(null);\n  const [askInventoryOnLaunchField] = useField('ask_inventory_on_launch');\n  const [inventoryField, inventoryMeta, inventoryHelpers] = useField(\n    'inventory'\n  );\n  const [labelsField, , labelsHelpers] = useField('labels');\n  const [limitField, limitMeta, limitHelpers] = useField('limit');\n  const [organizationField, organizationMeta] = useField('organization');\n  const [scmField, , scmHelpers] = useField('scm_branch');\n  const [, webhookServiceMeta, webhookServiceHelpers] = useField(\n    'webhook_service'\n  );\n  const [, webhookUrlMeta, webhookUrlHelpers] = useField('webhook_url');\n  const [, webhookKeyMeta, webhookKeyHelpers] = useField('webhook_key');\n  const [, webhookCredentialMeta, webhookCredentialHelpers] = useField(\n    'webhook_credential'\n  );\n\n  useEffect(() => {\n    if (enableWebhooks) {\n      webhookServiceHelpers.setValue(webhookServiceMeta.initialValue);\n      webhookUrlHelpers.setValue(webhookUrlMeta.initialValue);\n      webhookKeyHelpers.setValue(webhookKeyMeta.initialValue);\n      webhookCredentialHelpers.setValue(webhookCredentialMeta.initialValue);\n    } else {\n      webhookServiceHelpers.setValue('');\n      webhookUrlHelpers.setValue('');\n      webhookKeyHelpers.setValue('');\n      webhookCredentialHelpers.setValue(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enableWebhooks]);\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value);\n    },\n    [setFieldValue]\n  );\n\n  if (hasContentError) {\n    return <ContentError error={hasContentError} />;\n  }\n\n  return (\n    <Form autoComplete=\"off\" onSubmit={handleSubmit}>\n      <FormColumnLayout>\n        <FormField\n          id=\"wfjt-name\"\n          name=\"name\"\n          type=\"text\"\n          label={i18n._(t`名称`)}\n          validate={required(null, i18n)}\n          isRequired\n        />\n        <FormField\n          id=\"wfjt-description\"\n          name=\"description\"\n          type=\"text\"\n          label={i18n._(t`描述`)}\n        />\n        <OrganizationLookup\n          helperTextInvalid={organizationMeta.error}\n          onChange={onOrganizationChange}\n          value={organizationField.value}\n          isValid={!organizationMeta.error}\n        />\n        <>\n          <InventoryLookup\n            promptId=\"wfjt-ask-inventory-on-launch\"\n            promptName=\"ask_inventory_on_launch\"\n            tooltip={i18n._(\n              t`Select an inventory for the workflow. This inventory is applied to all job template nodes that prompt for an inventory.`\n            )}\n            fieldId=\"wfjt-inventory\"\n            isPromptableField\n            value={inventoryField.value}\n            onBlur={() => inventoryHelpers.setTouched()}\n            onChange={value => {\n              inventoryHelpers.setValue(value);\n            }}\n            touched={inventoryMeta.touched}\n            error={inventoryMeta.error}\n          />\n          {(inventoryMeta.touched || askInventoryOnLaunchField.value) &&\n            inventoryMeta.error && (\n              <div\n                className=\"pf-c-form__helper-text pf-m-error\"\n                aria-live=\"polite\"\n              >\n                {inventoryMeta.error}\n              </div>\n            )}\n        </>\n        <FieldWithPrompt\n          fieldId=\"wjft-limit\"\n          label={i18n._(t`范围`)}\n          promptId=\"template-ask-limit-on-launch\"\n          promptName=\"ask_limit_on_launch\"\n          tooltip={i18n._(t`Provide a host pattern to further constrain\n                  the list of hosts that will be managed or affected by the\n                  playbook. Multiple patterns are allowed. Refer to Ansible\n                  documentation for more information and examples on patterns.`)}\n        >\n          <TextInput\n            id=\"text-wfjt-limit\"\n            {...limitField}\n            validated={\n              !limitMeta.touched || !limitMeta.error ? 'default' : 'error'\n            }\n            onChange={value => {\n              limitHelpers.setValue(value);\n            }}\n          />\n        </FieldWithPrompt>\n\n        <FieldWithPrompt\n          fieldId=\"wfjt-scm-branch\"\n          label={i18n._(t`Source control branch`)}\n          promptId=\"wfjt-ask-scm-branch-on-launch\"\n          promptName=\"ask_scm_branch_on_launch\"\n          tooltip={i18n._(\n            t`Select a branch for the workflow. This branch is applied to all job template nodes that prompt for a branch.`\n          )}\n        >\n          <TextInput\n            id=\"text-wfjt-scm-branch\"\n            {...scmField}\n            onChange={value => {\n              scmHelpers.setValue(value);\n            }}\n          />\n        </FieldWithPrompt>\n      </FormColumnLayout>\n      <FormFullWidthLayout>\n        <FormGroup\n          label={i18n._(t`Labels`)}\n          labelIcon={\n            <Popover\n              content={i18n._(t`Optional labels that describe this job template,\n                    such as 'dev' or 'test'. Labels can be used to group and filter\n                    job templates and completed jobs.`)}\n            />\n          }\n          fieldId=\"template-labels\"\n        >\n          <LabelSelect\n            value={labelsField.value}\n            onChange={labels => labelsHelpers.setValue(labels)}\n            onError={setContentError}\n            createText={i18n._(t`Create`)}\n          />\n        </FormGroup>\n      </FormFullWidthLayout>\n      <FormFullWidthLayout>\n        <VariablesField\n          id=\"wfjt-variables\"\n          name=\"extra_vars\"\n          label={i18n._(t`变量`)}\n          promptId=\"template-ask-variables-on-launch\"\n          tooltip={i18n._(\n            t`Pass extra command line variables to the playbook. This is the -e or --extra-vars command line parameter for ansible-playbook. Provide key/value pairs using either YAML or JSON. Refer to the Ansible Tower documentation for example syntax.`\n          )}\n        />\n      </FormFullWidthLayout>\n      <FormGroup fieldId=\"options\" label={i18n._(t`Options`)}>\n        <FormCheckboxLayout isInline>\n          <Checkbox\n            aria-label={i18n._(t`Enable Webhook`)}\n            label={\n              <span>\n                {i18n._(t`Enable Webhook`)}\n                &nbsp;\n                <Popover\n                  content={i18n._(\n                    t`Enable Webhook for this workflow job template.`\n                  )}\n                />\n              </span>\n            }\n            id=\"wfjt-enabled-webhooks\"\n            isChecked={enableWebhooks}\n            onChange={checked => {\n              setEnableWebhooks(checked);\n            }}\n          />\n          <CheckboxField\n            name=\"allow_simultaneous\"\n            id=\"allow_simultaneous\"\n            tooltip={i18n._(\n              t`If enabled, simultaneous runs of this workflow job template will be allowed.`\n            )}\n            label={i18n._(t`Enable Concurrent Jobs`)}\n          />\n        </FormCheckboxLayout>\n      </FormGroup>\n\n      {enableWebhooks && (\n        <SubFormLayout>\n          <Title size=\"md\" headingLevel=\"h4\">\n            {i18n._(t`Webhook details`)}\n          </Title>\n          <WebhookSubForm templateType={template.type} />\n        </SubFormLayout>\n      )}\n\n      {submitError && <FormSubmitError error={submitError} />}\n      <FormActionGroup onCancel={handleCancel} onSubmit={handleSubmit} />\n    </Form>\n  );\n}\n\nWorkflowJobTemplateForm.propTypes = {\n  template: WorkFlowJobTemplate,\n  handleSubmit: PropTypes.func.isRequired,\n  handleCancel: PropTypes.func.isRequired,\n  submitError: shape({}),\n};\n\nWorkflowJobTemplateForm.defaultProps = {\n  submitError: null,\n  template: {\n    name: '',\n    description: '',\n    inventory: undefined,\n    project: undefined,\n  },\n};\n\nconst FormikApp = withFormik({\n  mapPropsToValues({ template = {} }) {\n    return {\n      name: template.name || '',\n      description: template.description || '',\n      inventory: template?.summary_fields?.inventory || null,\n      organization: template?.summary_fields?.organization || null,\n      labels: template.summary_fields?.labels?.results || [],\n      extra_vars: template.extra_vars || '---',\n      limit: template.limit || '',\n      scm_branch: template.scm_branch || '',\n      allow_simultaneous: template.allow_simultaneous || false,\n      webhook_credential: template?.summary_fields?.webhook_credential || null,\n      webhook_service: template.webhook_service || '',\n      ask_limit_on_launch: template.ask_limit_on_launch || false,\n      ask_inventory_on_launch: template.ask_inventory_on_launch || false,\n      ask_variables_on_launch: template.ask_variables_on_launch || false,\n      ask_scm_branch_on_launch: template.ask_scm_branch_on_launch || false,\n      webhook_url: template?.related?.webhook_receiver\n        ? `${urlOrigin}${template.related.webhook_receiver}`\n        : '',\n      webhook_key: template.webhook_key || '',\n    };\n  },\n  handleSubmit: async (values, { props, setErrors }) => {\n    try {\n      await props.handleSubmit(values);\n    } catch (errors) {\n      setErrors(errors);\n    }\n  },\n})(WorkflowJobTemplateForm);\n\nexport { WorkflowJobTemplateForm as _WorkflowJobTemplateForm };\nexport default withI18n()(FormikApp);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { CardBody } from '../../../components/Card';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport { WorkflowJobTemplatesAPI, OrganizationsAPI } from '../../../api';\nimport { WorkflowJobTemplateForm } from '../shared';\n\nfunction WorkflowJobTemplateEdit({ template }) {\n  const history = useHistory();\n  const [formSubmitError, setFormSubmitError] = useState(null);\n\n  const handleSubmit = async values => {\n    const {\n      labels,\n      inventory,\n      organization,\n      webhook_credential,\n      webhook_key,\n      ...templatePayload\n    } = values;\n    templatePayload.inventory = inventory?.id || null;\n    templatePayload.organization = organization?.id;\n    templatePayload.webhook_credential = webhook_credential?.id || null;\n\n    const formOrgId =\n      organization?.id || inventory?.summary_fields?.organization.id || null;\n    try {\n      await Promise.all(\n        await submitLabels(labels, formOrgId, template.organization)\n      );\n      await WorkflowJobTemplatesAPI.update(template.id, templatePayload);\n      history.push(`/templates/workflow_job_template/${template.id}/details`);\n    } catch (err) {\n      setFormSubmitError(err);\n    }\n  };\n\n  const submitLabels = async (labels = [], formOrgId, templateOrgId) => {\n    const { added, removed } = getAddedAndRemoved(\n      template.summary_fields.labels.results,\n      labels\n    );\n    let orgId = formOrgId || templateOrgId;\n    if (!orgId) {\n      try {\n        const {\n          data: { results },\n        } = await OrganizationsAPI.read();\n        orgId = results[0].id;\n      } catch (err) {\n        throw err;\n      }\n    }\n\n    const disassociationPromises = await removed.map(label =>\n      WorkflowJobTemplatesAPI.disassociateLabel(template.id, label)\n    );\n    const associationPromises = await added.map(label =>\n      WorkflowJobTemplatesAPI.associateLabel(template.id, label, orgId)\n    );\n    const results = [...disassociationPromises, ...associationPromises];\n    return results;\n  };\n\n  const handleCancel = () => {\n    history.push(`/templates/workflow_job_template/${template.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <WorkflowJobTemplateForm\n        handleSubmit={handleSubmit}\n        handleCancel={handleCancel}\n        template={template}\n        submitError={formSubmitError}\n      />\n    </CardBody>\n  );\n}\nexport default WorkflowJobTemplateEdit;\n","import React, { useContext } from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { WorkflowDispatchContext } from '../../../../contexts/Workflow';\nimport AlertModal from '../../../../components/AlertModal';\n\nfunction DeleteAllNodesModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  return (\n    <AlertModal\n      actions={[\n        <Button\n          id=\"confirm-delete-all-nodes\"\n          key=\"remove\"\n          variant=\"danger\"\n          aria-label={i18n._(t`Confirm removal of all nodes`)}\n          onClick={() => dispatch({ type: 'DELETE_ALL_NODES' })}\n        >\n          {i18n._(t`Remove`)}\n        </Button>,\n        <Button\n          id=\"cancel-delete-all-nodes\"\n          key=\"cancel\"\n          variant=\"secondary\"\n          aria-label={i18n._(t`Cancel node removal`)}\n          onClick={() => dispatch({ type: 'TOGGLE_DELETE_ALL_NODES_MODAL' })}\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n      isOpen\n      onClose={() => dispatch({ type: 'TOGGLE_DELETE_ALL_NODES_MODAL' })}\n      title={i18n._(t`Remove All Nodes`)}\n      variant=\"danger\"\n    >\n      <p>\n        {i18n._(\n          t`Are you sure you want to remove all the nodes in this workflow?`\n        )}\n      </p>\n    </AlertModal>\n  );\n}\n\nexport default withI18n()(DeleteAllNodesModal);\n","import React, { useContext } from 'react';\nimport { Button, Modal } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport { func } from 'prop-types';\nimport { WorkflowDispatchContext } from '../../../../contexts/Workflow';\n\nfunction UnsavedChangesModal({ i18n, onSaveAndExit, onExit }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  return (\n    <Modal\n      width={600}\n      isOpen\n      title={i18n._(t`Warning: Unsaved Changes`)}\n      aria-label={i18n._(t`Unsaved changes modal`)}\n      onClose={() => dispatch({ type: 'TOGGLE_UNSAVED_CHANGES_MODAL' })}\n      actions={[\n        <Button\n          id=\"confirm-exit-without-saving\"\n          key=\"exit\"\n          variant=\"danger\"\n          aria-label={i18n._(t`Exit Without Saving`)}\n          onClick={onExit}\n        >\n          {i18n._(t`Exit Without Saving`)}\n        </Button>,\n        <Button\n          id=\"confirm-save-and-exit\"\n          key=\"save\"\n          variant=\"primary\"\n          aria-label={i18n._(t`Save & Exit`)}\n          onClick={onSaveAndExit}\n        >\n          {i18n._(t`Save & Exit`)}\n        </Button>,\n      ]}\n    >\n      <p>\n        <Trans>\n          Are you sure you want to exit the Workflow Creator without saving your\n          changes?\n        </Trans>\n      </p>\n    </Modal>\n  );\n}\n\nUnsavedChangesModal.propTypes = {\n  onExit: func.isRequired,\n  onSaveAndExit: func.isRequired,\n};\n\nexport default withI18n()(UnsavedChangesModal);\n","import React, { Fragment, useContext } from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\nimport AlertModal from '../../../../../components/AlertModal';\n\nfunction LinkDeleteModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { linkToDelete } = useContext(WorkflowStateContext);\n  return (\n    <AlertModal\n      variant=\"danger\"\n      title=\"Remove Link\"\n      isOpen={linkToDelete}\n      onClose={() => dispatch({ type: 'SET_LINK_TO_DELETE', value: null })}\n      actions={[\n        <Button\n          id=\"confirm-link-removal\"\n          aria-label={i18n._(t`Confirm link removal`)}\n          key=\"remove\"\n          onClick={() => dispatch({ type: 'DELETE_LINK' })}\n          variant=\"danger\"\n        >\n          {i18n._(t`Remove`)}\n        </Button>,\n        <Button\n          id=\"cancel-link-removal\"\n          aria-label={i18n._(t`Cancel link removal`)}\n          key=\"cancel\"\n          onClick={() => dispatch({ type: 'SET_LINK_TO_DELETE', value: null })}\n          variant=\"secondary\"\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      <p>{i18n._(t`Are you sure you want to remove this link?`)}</p>\n      {!linkToDelete.isConvergenceLink && (\n        <Fragment>\n          <br />\n          <p>\n            {i18n._(\n              t`Removing this link will orphan the rest of the branch and cause it to be executed immediately on launch.`\n            )}\n          </p>\n        </Fragment>\n      )}\n    </AlertModal>\n  );\n}\n\nexport default withI18n()(LinkDeleteModal);\n","import React, { useContext, useState } from 'react';\nimport { Button, FormGroup, Modal } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func } from 'prop-types';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\nimport AnsibleSelect from '../../../../../components/AnsibleSelect';\n\nfunction LinkModal({ header, i18n, onConfirm }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { linkToEdit } = useContext(WorkflowStateContext);\n  const [linkType, setLinkType] = useState(\n    linkToEdit ? linkToEdit.linkType : 'success'\n  );\n  return (\n    <Modal\n      width={600}\n      header={header}\n      isOpen\n      title={i18n._(t`Workflow Link`)}\n      aria-label={i18n._(t`Workflow link modal`)}\n      onClose={() => dispatch({ type: 'CANCEL_LINK_MODAL' })}\n      actions={[\n        <Button\n          id=\"link-confirm\"\n          key=\"save\"\n          variant=\"primary\"\n          aria-label={i18n._(t`Save link changes`)}\n          onClick={() => onConfirm(linkType)}\n        >\n          {i18n._(t`Save`)}\n        </Button>,\n        <Button\n          id=\"link-cancel\"\n          key=\"cancel\"\n          variant=\"secondary\"\n          aria-label={i18n._(t`Cancel link changes`)}\n          onClick={() => dispatch({ type: 'CANCEL_LINK_MODAL' })}\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      <FormGroup fieldId=\"link-select\" label={i18n._(t`Run`)}>\n        <AnsibleSelect\n          id=\"link-select\"\n          name=\"linkType\"\n          value={linkType}\n          data={[\n            {\n              value: 'always',\n              key: 'always',\n              label: i18n._(t`Always`),\n            },\n            {\n              value: 'success',\n              key: 'success',\n              label: i18n._(t`On Success`),\n            },\n            {\n              value: 'failure',\n              key: 'failure',\n              label: i18n._(t`On Failure`),\n            },\n          ]}\n          onChange={(event, value) => {\n            setLinkType(value);\n          }}\n        />\n      </FormGroup>\n    </Modal>\n  );\n}\n\nLinkModal.propTypes = {\n  onConfirm: func.isRequired,\n};\n\nexport default withI18n()(LinkModal);\n","import React, { useContext } from 'react';\nimport { Title } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { WorkflowDispatchContext } from '../../../../../contexts/Workflow';\nimport LinkModal from './LinkModal';\n\nfunction LinkAddModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  return (\n    <LinkModal\n      header={\n        <Title headingLevel=\"h1\" size=\"xl\">\n          {i18n._(t`Add Link`)}\n        </Title>\n      }\n      onConfirm={linkType => dispatch({ type: 'CREATE_LINK', linkType })}\n    />\n  );\n}\n\nexport default withI18n()(LinkAddModal);\n","import React, { useContext } from 'react';\nimport { Title } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { WorkflowDispatchContext } from '../../../../../contexts/Workflow';\nimport LinkModal from './LinkModal';\n\nfunction LinkEditModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  return (\n    <LinkModal\n      header={\n        <Title headingLevel=\"h1\" size=\"xl\">\n          {i18n._(t`Edit Link`)}\n        </Title>\n      }\n      onConfirm={linkType => dispatch({ type: 'UPDATE_LINK', linkType })}\n    />\n  );\n}\n\nexport default withI18n()(LinkEditModal);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport { InventorySourcesAPI } from '../../../../../../api';\nimport { getQSConfig, parseQueryString } from '../../../../../../util/qs';\nimport useRequest from '../../../../../../util/useRequest';\nimport PaginatedDataList from '../../../../../../components/PaginatedDataList';\nimport DataListToolbar from '../../../../../../components/DataListToolbar';\nimport CheckboxListItem from '../../../../../../components/CheckboxListItem';\n\nconst QS_CONFIG = getQSConfig('inventory-sources', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction InventorySourcesList({ i18n, nodeResource, onUpdateNodeResource }) {\n  const location = useLocation();\n\n  const {\n    result: { inventorySources, count, relatedSearchableKeys, searchableKeys },\n    error,\n    isLoading,\n    request: fetchInventorySources,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        InventorySourcesAPI.read(params),\n        InventorySourcesAPI.readOptions(),\n      ]);\n      return {\n        inventorySources: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      inventorySources: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchInventorySources();\n  }, [fetchInventorySources]);\n\n  return (\n    <PaginatedDataList\n      contentError={error}\n      hasContentLoading={isLoading}\n      itemCount={count}\n      items={inventorySources}\n      onRowClick={row => onUpdateNodeResource(row)}\n      qsConfig={QS_CONFIG}\n      showPageSizeOptions={false}\n      renderItem={item => (\n        <CheckboxListItem\n          isSelected={!!(nodeResource && nodeResource.id === item.id)}\n          itemId={item.id}\n          key={item.id}\n          name={item.name}\n          label={item.name}\n          onSelect={() => onUpdateNodeResource(item)}\n          onDeselect={() => onUpdateNodeResource(null)}\n          isRadio\n        />\n      )}\n      renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`Source`),\n          key: 'or__source',\n          options: [\n            [`file`, i18n._(t`File, directory or script`)],\n            [`scm`, i18n._(t`Sourced from a project`)],\n            [`ec2`, i18n._(t`Amazon EC2`)],\n            [`gce`, i18n._(t`Google Compute Engine`)],\n            [`azure_rm`, i18n._(t`Microsoft Azure Resource Manager`)],\n            [`vmware`, i18n._(t`VMware vCenter`)],\n            [`satellite6`, i18n._(t`Red Hat Satellite 6`)],\n            [`openstack`, i18n._(t`OpenStack`)],\n            [`rhv`, i18n._(t`Red Hat Virtualization`)],\n            [`tower`, i18n._(t`Ansible Tower`)],\n          ],\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n    />\n  );\n}\n\nInventorySourcesList.propTypes = {\n  nodeResource: shape(),\n  onUpdateNodeResource: func.isRequired,\n};\n\nInventorySourcesList.defaultProps = {\n  nodeResource: null,\n};\n\nexport default withI18n()(InventorySourcesList);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport { JobTemplatesAPI } from '../../../../../../api';\nimport { getQSConfig, parseQueryString } from '../../../../../../util/qs';\nimport useRequest from '../../../../../../util/useRequest';\nimport PaginatedDataList from '../../../../../../components/PaginatedDataList';\nimport DataListToolbar from '../../../../../../components/DataListToolbar';\nimport CheckboxListItem from '../../../../../../components/CheckboxListItem';\n\nconst QS_CONFIG = getQSConfig('job-templates', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction JobTemplatesList({ i18n, nodeResource, onUpdateNodeResource }) {\n  const location = useLocation();\n\n  const {\n    result: { jobTemplates, count, relatedSearchableKeys, searchableKeys },\n    error,\n    isLoading,\n    request: fetchJobTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        JobTemplatesAPI.read(params, {\n          role_level: 'execute_role',\n        }),\n        JobTemplatesAPI.readOptions(),\n      ]);\n      return {\n        jobTemplates: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      jobTemplates: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchJobTemplates();\n  }, [fetchJobTemplates]);\n\n  return (\n    <PaginatedDataList\n      contentError={error}\n      hasContentLoading={isLoading}\n      itemCount={count}\n      items={jobTemplates}\n      onRowClick={row => onUpdateNodeResource(row)}\n      qsConfig={QS_CONFIG}\n      renderItem={item => (\n        <CheckboxListItem\n          isSelected={!!(nodeResource && nodeResource.id === item.id)}\n          itemId={item.id}\n          key={item.id}\n          name={item.name}\n          label={item.name}\n          onSelect={() => onUpdateNodeResource(item)}\n          onDeselect={() => onUpdateNodeResource(null)}\n          isRadio\n        />\n      )}\n      renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n      showPageSizeOptions={false}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`剧本名称`),\n          key: 'playbook__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n    />\n  );\n}\n\nJobTemplatesList.propTypes = {\n  nodeResource: shape(),\n  onUpdateNodeResource: func.isRequired,\n};\n\nJobTemplatesList.defaultProps = {\n  nodeResource: null,\n};\n\nexport default withI18n()(JobTemplatesList);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport { ProjectsAPI } from '../../../../../../api';\nimport { getQSConfig, parseQueryString } from '../../../../../../util/qs';\nimport useRequest from '../../../../../../util/useRequest';\nimport PaginatedDataList from '../../../../../../components/PaginatedDataList';\nimport DataListToolbar from '../../../../../../components/DataListToolbar';\nimport CheckboxListItem from '../../../../../../components/CheckboxListItem';\n\nconst QS_CONFIG = getQSConfig('projects', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction ProjectsList({ i18n, nodeResource, onUpdateNodeResource }) {\n  const location = useLocation();\n\n  const {\n    result: { projects, count, relatedSearchableKeys, searchableKeys },\n    error,\n    isLoading,\n    request: fetchProjects,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        ProjectsAPI.read(params),\n        ProjectsAPI.readOptions(),\n      ]);\n      return {\n        projects: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      projects: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchProjects();\n  }, [fetchProjects]);\n\n  return (\n    <PaginatedDataList\n      contentError={error}\n      hasContentLoading={isLoading}\n      itemCount={count}\n      items={projects}\n      onRowClick={row => onUpdateNodeResource(row)}\n      qsConfig={QS_CONFIG}\n      renderItem={item => (\n        <CheckboxListItem\n          isSelected={!!(nodeResource && nodeResource.id === item.id)}\n          itemId={item.id}\n          key={item.id}\n          name={item.name}\n          label={item.name}\n          onSelect={() => onUpdateNodeResource(item)}\n          onDeselect={() => onUpdateNodeResource(null)}\n          isRadio\n        />\n      )}\n      renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n      showPageSizeOptions={false}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`类型`),\n          key: 'or__scm_type',\n          options: [\n            [``, i18n._(t`Manual`)],\n            [`git`, i18n._(t`Git`)],\n            [`svn`, i18n._(t`Subversion`)],\n            [`archive`, i18n._(t`Remote Archive`)],\n            [`insights`, i18n._(t`Red Hat Insights`)],\n          ],\n        },\n        {\n          name: i18n._(t`Source Control URL`),\n          key: 'scm_url__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n    />\n  );\n}\n\nProjectsList.propTypes = {\n  nodeResource: shape(),\n  onUpdateNodeResource: func.isRequired,\n};\n\nProjectsList.defaultProps = {\n  nodeResource: null,\n};\n\nexport default withI18n()(ProjectsList);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { func, shape } from 'prop-types';\nimport { WorkflowJobTemplatesAPI } from '../../../../../../api';\nimport { getQSConfig, parseQueryString } from '../../../../../../util/qs';\nimport useRequest from '../../../../../../util/useRequest';\nimport PaginatedDataList from '../../../../../../components/PaginatedDataList';\nimport DataListToolbar from '../../../../../../components/DataListToolbar';\nimport CheckboxListItem from '../../../../../../components/CheckboxListItem';\n\nconst QS_CONFIG = getQSConfig('workflow-job-templates', {\n  page: 1,\n  page_size: 5,\n  order_by: 'name',\n});\n\nfunction WorkflowJobTemplatesList({\n  i18n,\n  nodeResource,\n  onUpdateNodeResource,\n}) {\n  const location = useLocation();\n\n  const {\n    result: {\n      workflowJobTemplates,\n      count,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error,\n    isLoading,\n    request: fetchWorkflowJobTemplates,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        WorkflowJobTemplatesAPI.read(params, {\n          role_level: 'execute_role',\n        }),\n        WorkflowJobTemplatesAPI.readOptions(),\n      ]);\n      return {\n        workflowJobTemplates: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      workflowJobTemplates: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchWorkflowJobTemplates();\n  }, [fetchWorkflowJobTemplates]);\n\n  return (\n    <PaginatedDataList\n      contentError={error}\n      hasContentLoading={isLoading}\n      itemCount={count}\n      items={workflowJobTemplates}\n      onRowClick={row => onUpdateNodeResource(row)}\n      qsConfig={QS_CONFIG}\n      renderItem={item => (\n        <CheckboxListItem\n          isSelected={!!(nodeResource && nodeResource.id === item.id)}\n          itemId={item.id}\n          key={item.id}\n          name={item.name}\n          label={item.name}\n          onSelect={() => onUpdateNodeResource(item)}\n          onDeselect={() => onUpdateNodeResource(null)}\n          isRadio\n        />\n      )}\n      renderToolbar={props => <DataListToolbar {...props} fillWidth />}\n      showPageSizeOptions={false}\n      toolbarSearchColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name__icontains',\n          isDefault: true,\n        },\n        {\n          name: i18n._(t`Organization (Name)`),\n          key: 'organization__name__icontains',\n        },\n        {\n          name: i18n._(t`Inventory (Name)`),\n          key: 'inventory__name__icontains',\n        },\n        {\n          name: i18n._(t`创建者`),\n          key: 'created_by__username__icontains',\n        },\n        {\n          name: i18n._(t`修改者`),\n          key: 'modified_by__username__icontains',\n        },\n      ]}\n      toolbarSortColumns={[\n        {\n          name: i18n._(t`名称`),\n          key: 'name',\n        },\n      ]}\n      toolbarSearchableKeys={searchableKeys}\n      toolbarRelatedSearchableKeys={relatedSearchableKeys}\n    />\n  );\n}\n\nWorkflowJobTemplatesList.propTypes = {\n  nodeResource: shape(),\n  onUpdateNodeResource: func.isRequired,\n};\n\nWorkflowJobTemplatesList.defaultProps = {\n  nodeResource: null,\n};\n\nexport default withI18n()(WorkflowJobTemplatesList);\n","import 'styled-components/macro';\nimport React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t, Trans } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { useField } from 'formik';\nimport { Form, FormGroup, TextInput } from '@patternfly/react-core';\nimport { required } from '../../../../../../util/validators';\n\nimport { FormFullWidthLayout } from '../../../../../../components/FormLayout';\nimport AnsibleSelect from '../../../../../../components/AnsibleSelect';\nimport InventorySourcesList from './InventorySourcesList';\nimport JobTemplatesList from './JobTemplatesList';\nimport ProjectsList from './ProjectsList';\nimport WorkflowJobTemplatesList from './WorkflowJobTemplatesList';\nimport FormField from '../../../../../../components/FormField';\n\nconst TimeoutInput = styled(TextInput)`\n  width: 200px;\n  :not(:first-of-type) {\n    margin-left: 20px;\n  }\n`;\nTimeoutInput.displayName = 'TimeoutInput';\n\nconst TimeoutLabel = styled.p`\n  margin-left: 10px;\n`;\n\nfunction NodeTypeStep({ i18n }) {\n  const [nodeTypeField, , nodeTypeHelpers] = useField('nodeType');\n  const [nodeResourceField, , nodeResourceHelpers] = useField('nodeResource');\n  const [, approvalNameMeta, approvalNameHelpers] = useField('approvalName');\n  const [, , approvalDescriptionHelpers] = useField('approvalDescription');\n  const [timeoutMinutesField, , timeoutMinutesHelpers] = useField(\n    'timeoutMinutes'\n  );\n  const [timeoutSecondsField, , timeoutSecondsHelpers] = useField(\n    'timeoutSeconds'\n  );\n\n  const isValid = !approvalNameMeta.touched || !approvalNameMeta.error;\n  return (\n    <>\n      <div css=\"display: flex; align-items: center; margin-bottom: 20px;\">\n        <b css=\"margin-right: 24px\">{i18n._(t`Node Type`)}</b>\n        <div>\n          <AnsibleSelect\n            id=\"nodeResource-select\"\n            label={i18n._(t`Select a Node Type`)}\n            data={[\n              {\n                key: 'workflow_approval_template',\n                value: 'workflow_approval_template',\n                label: i18n._(t`Approval`),\n                isDisabled: false,\n              },\n              {\n                key: 'inventory_source',\n                value: 'inventory_source',\n                label: i18n._(t`Inventory Source Sync`),\n                isDisabled: false,\n              },\n              {\n                key: 'job_template',\n                value: 'job_template',\n                label: i18n._(t`作业模板`),\n                isDisabled: false,\n              },\n              {\n                key: 'project',\n                value: 'project',\n                label: i18n._(t`Project Sync`),\n                isDisabled: false,\n              },\n              {\n                key: 'workflow_job_template',\n                value: 'workflow_job_template',\n                label: i18n._(t`Workflow Job Template`),\n                isDisabled: false,\n              },\n            ]}\n            value={nodeTypeField.value}\n            onChange={(e, val) => {\n              nodeTypeHelpers.setValue(val);\n              nodeResourceHelpers.setValue(null);\n              approvalNameHelpers.setValue('');\n              approvalDescriptionHelpers.setValue('');\n              timeoutMinutesHelpers.setValue(0);\n              timeoutSecondsHelpers.setValue(0);\n            }}\n          />\n        </div>\n      </div>\n      {nodeTypeField.value === 'job_template' && (\n        <JobTemplatesList\n          nodeResource={nodeResourceField.value}\n          onUpdateNodeResource={nodeResourceHelpers.setValue}\n        />\n      )}\n      {nodeTypeField.value === 'project' && (\n        <ProjectsList\n          nodeResource={nodeResourceField.value}\n          onUpdateNodeResource={nodeResourceHelpers.setValue}\n        />\n      )}\n      {nodeTypeField.value === 'inventory_source' && (\n        <InventorySourcesList\n          nodeResource={nodeResourceField.value}\n          onUpdateNodeResource={nodeResourceHelpers.setValue}\n        />\n      )}\n      {nodeTypeField.value === 'workflow_job_template' && (\n        <WorkflowJobTemplatesList\n          nodeResource={nodeResourceField.value}\n          onUpdateNodeResource={nodeResourceHelpers.setValue}\n        />\n      )}\n      {nodeTypeField.value === 'workflow_approval_template' && (\n        <Form css=\"margin-top: 20px;\">\n          <FormFullWidthLayout>\n            <FormField\n              name=\"approvalName\"\n              id=\"approval-name\"\n              isRequired\n              validate={required(null, i18n)}\n              validated={isValid ? 'default' : 'error'}\n              label={i18n._(t`名称`)}\n            />\n            <FormField\n              name=\"approvalDescription\"\n              id=\"approval-description\"\n              label={i18n._(t`描述`)}\n            />\n            <FormGroup\n              label={i18n._(t`Timeout`)}\n              fieldId=\"approval-timeout\"\n              name=\"timeout\"\n            >\n              <div css=\"display: flex;align-items: center;\">\n                <TimeoutInput\n                  {...timeoutMinutesField}\n                  aria-label={i18n._(t`Timeout minutes`)}\n                  id=\"approval-timeout-minutes\"\n                  min=\"0\"\n                  onChange={(value, event) => {\n                    timeoutMinutesField.onChange(event);\n                  }}\n                  step=\"1\"\n                  type=\"number\"\n                />\n                <TimeoutLabel>\n                  <Trans>min</Trans>\n                </TimeoutLabel>\n                <TimeoutInput\n                  {...timeoutSecondsField}\n                  aria-label={i18n._(t`Timeout seconds`)}\n                  id=\"approval-timeout-seconds\"\n                  min=\"0\"\n                  onChange={(value, event) => {\n                    timeoutSecondsField.onChange(event);\n                  }}\n                  step=\"1\"\n                  type=\"number\"\n                />\n                <TimeoutLabel>\n                  <Trans>sec</Trans>\n                </TimeoutLabel>\n              </div>\n            </FormGroup>\n          </FormFullWidthLayout>\n        </Form>\n      )}\n    </>\n  );\n}\nexport default withI18n()(NodeTypeStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport NodeTypeStep from './NodeTypeStep';\nimport StepName from '../../../../../../components/LaunchPrompt/steps/StepName';\n\nconst STEP_ID = 'nodeType';\n\nexport default function useNodeTypeStep(i18n) {\n  const [, meta] = useField('nodeType');\n  const [approvalNameField] = useField('approvalName');\n  const [nodeTypeField, ,] = useField('nodeType');\n  const [nodeResourceField] = useField('nodeResource');\n\n  return {\n    step: getStep(i18n, nodeTypeField, approvalNameField, nodeResourceField),\n    initialValues: getInitialValues(),\n    isReady: true,\n    contentError: null,\n    hasError: !!meta.error,\n    setTouched: setFieldTouched => {\n      setFieldTouched('nodeType', true, false);\n    },\n    validate: () => {},\n  };\n}\nfunction getStep(i18n, nodeTypeField, approvalNameField, nodeResourceField) {\n  const isEnabled = () => {\n    if (\n      (nodeTypeField.value !== 'workflow_approval_template' &&\n        nodeResourceField.value === null) ||\n      (nodeTypeField.value === 'workflow_approval_template' &&\n        approvalNameField.value === undefined)\n    ) {\n      return false;\n    }\n    return true;\n  };\n  return {\n    id: STEP_ID,\n    name: (\n      <StepName hasErrors={false} id=\"node-type-step\">\n        {i18n._(t`Node type`)}\n      </StepName>\n    ),\n    component: <NodeTypeStep i18n={i18n} />,\n    enableNext: isEnabled(),\n  };\n}\n\nfunction getInitialValues() {\n  return {\n    approvalName: '',\n    approvalDescription: '',\n    timeoutMinutes: 0,\n    timeoutSeconds: 0,\n    nodeType: 'job_template',\n  };\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useField } from 'formik';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Title } from '@patternfly/react-core';\nimport SelectableCard from '../../../../../components/SelectableCard';\n\nconst Grid = styled.div`\n  display: grid;\n  grid-auto-rows: 100px;\n  grid-gap: 20px;\n  grid-template-columns: 33% 33% 33%;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  margin: 20px 0px;\n  width: 100%;\n`;\n\nfunction RunStep({ i18n }) {\n  const [field, , helpers] = useField('linkType');\n  return (\n    <>\n      <Title headingLevel=\"h1\" size=\"xl\">\n        {i18n._(t`Run`)}\n      </Title>\n      <p>\n        {i18n._(\n          t`Specify the conditions under which this node should be executed`\n        )}\n      </p>\n      <Grid>\n        <SelectableCard\n          id=\"link-type-success\"\n          isSelected={field.value === 'success'}\n          label={i18n._(t`On Success`)}\n          description={i18n._(\n            t`Execute when the parent node results in a successful state.`\n          )}\n          onClick={() => helpers.setValue('success')}\n        />\n        <SelectableCard\n          id=\"link-type-failure\"\n          isSelected={field.value === 'failure'}\n          label={i18n._(t`On Failure`)}\n          description={i18n._(\n            t`Execute when the parent node results in a failure state.`\n          )}\n          onClick={() => helpers.setValue('failure')}\n        />\n        <SelectableCard\n          id=\"link-type-always\"\n          isSelected={field.value === 'always'}\n          label={i18n._(t`Always`)}\n          description={i18n._(\n            t`Execute regardless of the parent node's final state.`\n          )}\n          onClick={() => helpers.setValue('always')}\n        />\n      </Grid>\n    </>\n  );\n}\nexport default withI18n()(RunStep);\n","import React from 'react';\nimport { t } from '@lingui/macro';\nimport { useField } from 'formik';\nimport RunStep from './RunStep';\nimport StepName from '../../../../../components/LaunchPrompt/steps/StepName';\n\nconst STEP_ID = 'runType';\n\nexport default function useRunTypeStep(i18n, askLinkType) {\n  const [, meta] = useField('linkType');\n\n  return {\n    step: getStep(askLinkType, meta, i18n),\n    initialValues: askLinkType ? { linkType: 'success' } : {},\n    isReady: true,\n    contentError: null,\n    hasError: !!meta.error,\n    setTouched: setFieldTouched => {\n      setFieldTouched('linkType', true, false);\n    },\n    validate: () => {},\n  };\n}\nfunction getStep(askLinkType, meta, i18n) {\n  if (!askLinkType) {\n    return null;\n  }\n  return {\n    id: STEP_ID,\n    name: (\n      <StepName hasErrors={false} id=\"run-type-step\">\n        {i18n._(t`Run type`)}\n      </StepName>\n    ),\n    component: <RunStep />,\n    enableNext: meta.value !== '',\n  };\n}\n","import { useContext, useState, useEffect } from 'react';\nimport { useFormikContext } from 'formik';\nimport useInventoryStep from '../../../../../components/LaunchPrompt/steps/useInventoryStep';\nimport useCredentialsStep from '../../../../../components/LaunchPrompt/steps/useCredentialsStep';\nimport useOtherPromptsStep from '../../../../../components/LaunchPrompt/steps/useOtherPromptsStep';\nimport useSurveyStep from '../../../../../components/LaunchPrompt/steps/useSurveyStep';\nimport usePreviewStep from '../../../../../components/LaunchPrompt/steps/usePreviewStep';\nimport { WorkflowStateContext } from '../../../../../contexts/Workflow';\nimport { jsonToYaml } from '../../../../../util/yaml';\nimport useNodeTypeStep from './NodeTypeStep/useNodeTypeStep';\nimport useRunTypeStep from './useRunTypeStep';\n\nfunction showPreviewStep(nodeType, launchConfig) {\n  if (\n    !['workflow_job_template', 'job_template'].includes(nodeType) ||\n    Object.keys(launchConfig).length === 0\n  ) {\n    return false;\n  }\n  return (\n    !launchConfig.can_start_without_user_input ||\n    launchConfig.ask_inventory_on_launch ||\n    launchConfig.ask_variables_on_launch ||\n    launchConfig.ask_limit_on_launch ||\n    launchConfig.ask_scm_branch_on_launch ||\n    launchConfig.survey_enabled ||\n    (launchConfig.variables_needed_to_start &&\n      launchConfig.variables_needed_to_start.length > 0)\n  );\n}\n\nconst getNodeToEditDefaultValues = (launchConfig, surveyConfig, nodeToEdit) => {\n  const initialValues = {\n    nodeResource: nodeToEdit?.fullUnifiedJobTemplate || null,\n    nodeType: nodeToEdit?.fullUnifiedJobTemplate?.type || 'job_template',\n  };\n\n  if (\n    nodeToEdit?.fullUnifiedJobTemplate?.type === 'workflow_approval_template'\n  ) {\n    const timeout = nodeToEdit.fullUnifiedJobTemplate.timeout || 0;\n    initialValues.approvalName = nodeToEdit.fullUnifiedJobTemplate.name || '';\n    initialValues.approvalDescription =\n      nodeToEdit.fullUnifiedJobTemplate.description || '';\n    initialValues.timeoutMinutes = Math.floor(timeout / 60);\n    initialValues.timeoutSeconds = timeout - Math.floor(timeout / 60) * 60;\n\n    return initialValues;\n  }\n\n  if (!launchConfig || launchConfig === {}) {\n    return initialValues;\n  }\n\n  if (launchConfig.ask_inventory_on_launch) {\n    // We also need to handle the case where the UJT has been deleted.\n    if (nodeToEdit?.promptValues) {\n      initialValues.inventory = nodeToEdit?.promptValues?.inventory;\n    } else if (nodeToEdit?.originalNodeObject?.summary_fields?.inventory) {\n      initialValues.inventory =\n        nodeToEdit?.originalNodeObject?.summary_fields?.inventory;\n    } else {\n      initialValues.inventory = null;\n    }\n  }\n\n  if (launchConfig.ask_credential_on_launch) {\n    if (nodeToEdit?.promptValues?.credentials) {\n      initialValues.credentials = nodeToEdit?.promptValues?.credentials;\n    } else if (nodeToEdit?.originalNodeCredentials) {\n      const defaultCredsWithoutOverrides = [];\n\n      const credentialHasScheduleOverride = templateDefaultCred => {\n        let credentialHasOverride = false;\n        nodeToEdit.originalNodeCredentials.forEach(scheduleCred => {\n          if (\n            templateDefaultCred.credential_type === scheduleCred.credential_type\n          ) {\n            if (\n              (!templateDefaultCred.vault_id &&\n                !scheduleCred.inputs.vault_id) ||\n              (templateDefaultCred.vault_id &&\n                scheduleCred.inputs.vault_id &&\n                templateDefaultCred.vault_id === scheduleCred.inputs.vault_id)\n            ) {\n              credentialHasOverride = true;\n            }\n          }\n        });\n\n        return credentialHasOverride;\n      };\n\n      if (nodeToEdit?.fullUnifiedJobTemplate?.summary_fields?.credentials) {\n        nodeToEdit.fullUnifiedJobTemplate.summary_fields.credentials.forEach(\n          defaultCred => {\n            if (!credentialHasScheduleOverride(defaultCred)) {\n              defaultCredsWithoutOverrides.push(defaultCred);\n            }\n          }\n        );\n      }\n\n      initialValues.credentials = nodeToEdit.originalNodeCredentials.concat(\n        defaultCredsWithoutOverrides\n      );\n    } else {\n      initialValues.credentials = [];\n    }\n  }\n\n  const sourceOfValues =\n    nodeToEdit?.promptValues || nodeToEdit.originalNodeObject;\n\n  if (launchConfig.ask_job_type_on_launch) {\n    initialValues.job_type = sourceOfValues?.job_type || '';\n  }\n  if (launchConfig.ask_limit_on_launch) {\n    initialValues.limit = sourceOfValues?.limit || '';\n  }\n  if (launchConfig.ask_verbosity_on_launch) {\n    initialValues.verbosity = sourceOfValues?.verbosity || 0;\n  }\n  if (launchConfig.ask_tags_on_launch) {\n    initialValues.job_tags = sourceOfValues?.job_tags || '';\n  }\n  if (launchConfig.ask_skip_tags_on_launch) {\n    initialValues.skip_tags = sourceOfValues?.skip_tags || '';\n  }\n  if (launchConfig.ask_scm_branch_on_launch) {\n    initialValues.scm_branch = sourceOfValues?.scm_branch || '';\n  }\n  if (launchConfig.ask_diff_mode_on_launch) {\n    initialValues.diff_mode = sourceOfValues?.diff_mode || false;\n  }\n\n  if (launchConfig.ask_variables_on_launch) {\n    const newExtraData = { ...sourceOfValues.extra_data };\n    if (launchConfig.survey_enabled && surveyConfig.spec) {\n      surveyConfig.spec.forEach(question => {\n        if (\n          Object.prototype.hasOwnProperty.call(newExtraData, question.variable)\n        ) {\n          delete newExtraData[question.variable];\n        }\n      });\n    }\n    initialValues.extra_vars = jsonToYaml(JSON.stringify(newExtraData));\n  }\n\n  if (surveyConfig?.spec) {\n    surveyConfig.spec.forEach(question => {\n      if (question.type === 'multiselect') {\n        initialValues[`survey_${question.variable}`] = question.default.split(\n          '\\n'\n        );\n      } else {\n        initialValues[`survey_${question.variable}`] = question.default;\n      }\n      if (sourceOfValues?.extra_data) {\n        Object.entries(sourceOfValues?.extra_data).forEach(([key, value]) => {\n          if (key === question.variable) {\n            if (question.type === 'multiselect') {\n              initialValues[`survey_${question.variable}`] = value;\n            } else {\n              initialValues[`survey_${question.variable}`] = value;\n            }\n          }\n        });\n      }\n    });\n  }\n\n  return initialValues;\n};\n\nexport default function useWorkflowNodeSteps(\n  launchConfig,\n  surveyConfig,\n  i18n,\n  resource,\n  askLinkType\n) {\n  const { nodeToEdit } = useContext(WorkflowStateContext);\n  const { resetForm, values: formikValues } = useFormikContext();\n  const [visited, setVisited] = useState({});\n\n  const steps = [\n    useRunTypeStep(i18n, askLinkType),\n    useNodeTypeStep(i18n),\n    useInventoryStep(launchConfig, resource, i18n, visited),\n    useCredentialsStep(launchConfig, resource, i18n),\n    useOtherPromptsStep(launchConfig, resource, i18n),\n    useSurveyStep(launchConfig, surveyConfig, resource, i18n, visited),\n  ];\n\n  const hasErrors = steps.some(step => step.hasError);\n\n  steps.push(\n    usePreviewStep(\n      launchConfig,\n      i18n,\n      resource,\n      surveyConfig,\n      hasErrors,\n      showPreviewStep(formikValues.nodeType, launchConfig)\n    )\n  );\n\n  const pfSteps = steps.map(s => s.step).filter(s => s != null);\n  const isReady = !steps.some(s => !s.isReady);\n\n  useEffect(() => {\n    if (launchConfig && surveyConfig && isReady) {\n      let initialValues = {};\n\n      if (\n        nodeToEdit &&\n        nodeToEdit?.fullUnifiedJobTemplate &&\n        nodeToEdit?.fullUnifiedJobTemplate?.id === formikValues.nodeResource?.id\n      ) {\n        initialValues = getNodeToEditDefaultValues(\n          launchConfig,\n          surveyConfig,\n          nodeToEdit\n        );\n      } else {\n        initialValues = steps.reduce((acc, cur) => {\n          return {\n            ...acc,\n            ...cur.initialValues,\n          };\n        }, {});\n      }\n\n      resetForm({\n        values: {\n          ...initialValues,\n          nodeResource: formikValues.nodeResource,\n          nodeType: formikValues.nodeType,\n          linkType: formikValues.linkType,\n          verbosity: initialValues?.verbosity?.toString(),\n        },\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [launchConfig, surveyConfig, isReady]);\n\n  const stepWithError = steps.find(s => s.contentError);\n  const contentError = stepWithError ? stepWithError.contentError : null;\n\n  return {\n    steps: pfSteps,\n    validateStep: stepId => {\n      steps.find(s => s?.step?.id === stepId).validate();\n    },\n    visitStep: (prevStepId, setFieldTouched) => {\n      setVisited({\n        ...visited,\n        [prevStepId]: true,\n      });\n      steps.find(s => s?.step?.id === prevStepId).setTouched(setFieldTouched);\n    },\n    visitAllSteps: setFieldTouched => {\n      setVisited({\n        inventory: true,\n        credentials: true,\n        other: true,\n        survey: true,\n        preview: true,\n      });\n      steps.forEach(s => s.setTouched(setFieldTouched));\n    },\n    contentError,\n  };\n}\n","import React, { useEffect } from 'react';\nimport { func, oneOfType, number, shape, string } from 'prop-types';\nimport { Button } from '@patternfly/react-core';\n\nfunction NodeNextButton({\n  activeStep,\n  buttonText,\n  onClick,\n  onNext,\n  triggerNext,\n  isDisabled,\n}) {\n  useEffect(() => {\n    if (!triggerNext) {\n      return;\n    }\n    onNext();\n  }, [onNext, triggerNext]);\n\n  return (\n    <Button\n      id=\"next-node-modal\"\n      variant=\"primary\"\n      type=\"submit\"\n      onClick={() => onClick(activeStep)}\n      isDisabled={isDisabled || !activeStep.enableNext}\n    >\n      {buttonText}\n    </Button>\n  );\n}\n\nNodeNextButton.propTypes = {\n  activeStep: shape().isRequired,\n  buttonText: string.isRequired,\n  onClick: func.isRequired,\n  onNext: func.isRequired,\n  triggerNext: oneOfType([string, number]).isRequired,\n};\n\nexport default NodeNextButton;\n","import 'styled-components/macro';\nimport React, { useContext, useState, useEffect, useCallback } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useFormikContext } from 'formik';\nimport yaml from 'js-yaml';\nimport { bool, node, func } from 'prop-types';\nimport {\n  Button,\n  WizardContextConsumer,\n  WizardFooter,\n  Form,\n} from '@patternfly/react-core';\nimport ContentError from '../../../../../components/ContentError';\nimport ContentLoading from '../../../../../components/ContentLoading';\n\nimport useRequest, {\n  useDismissableError,\n} from '../../../../../util/useRequest';\nimport mergeExtraVars from '../../../../../util/prompt/mergeExtraVars';\nimport getSurveyValues from '../../../../../util/prompt/getSurveyValues';\nimport { parseVariableField } from '../../../../../util/yaml';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from '../../../../../api';\nimport Wizard from '../../../../../components/Wizard';\nimport useWorkflowNodeSteps from './useWorkflowNodeSteps';\nimport AlertModal from '../../../../../components/AlertModal';\n\nimport NodeNextButton from './NodeNextButton';\n\nfunction NodeModalForm({\n  askLinkType,\n  i18n,\n  onSave,\n  title,\n  credentialError,\n  launchConfig,\n  surveyConfig,\n  isLaunchLoading,\n}) {\n  const history = useHistory();\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { values, setFieldTouched } = useFormikContext();\n\n  const [triggerNext, setTriggerNext] = useState(0);\n\n  const clearQueryParams = () => {\n    const parts = history.location.search.replace(/^\\?/, '').split('&');\n    const otherParts = parts.filter(param =>\n      /^!(job_templates\\.|projects\\.|inventory_sources\\.|workflow_job_templates\\.)/.test(\n        param\n      )\n    );\n    history.replace(`${history.location.pathname}?${otherParts.join('&')}`);\n  };\n\n  const {\n    steps: promptSteps,\n    validateStep,\n    visitStep,\n    visitAllSteps,\n    contentError,\n  } = useWorkflowNodeSteps(\n    launchConfig,\n    surveyConfig,\n    i18n,\n    values.nodeResource,\n    askLinkType\n  );\n\n  const handleSaveNode = () => {\n    clearQueryParams();\n    if (values.nodeType !== 'workflow_approval_template') {\n      delete values.approvalName;\n      delete values.approvalDescription;\n      delete values.timeoutMinutes;\n      delete values.timeoutSeconds;\n    }\n\n    if (\n      ['job_template', 'workflow_job_template'].includes(values.nodeType) &&\n      (launchConfig.ask_variables_on_launch || launchConfig.survey_enabled)\n    ) {\n      let extraVars;\n      const surveyValues = getSurveyValues(values);\n      const initialExtraVars =\n        launchConfig.ask_variables_on_launch && (values.extra_vars || '---');\n      if (surveyConfig?.spec) {\n        extraVars = yaml.safeDump(\n          mergeExtraVars(initialExtraVars, surveyValues)\n        );\n      } else {\n        extraVars = yaml.safeDump(mergeExtraVars(initialExtraVars, {}));\n      }\n      values.extra_data = extraVars && parseVariableField(extraVars);\n      delete values.extra_vars;\n    }\n\n    onSave(values, launchConfig);\n  };\n\n  const handleCancel = () => {\n    clearQueryParams();\n    dispatch({ type: 'CANCEL_NODE_MODAL' });\n  };\n\n  const { error, dismissError } = useDismissableError(\n    contentError || credentialError\n  );\n\n  const nextButtonText = activeStep =>\n    activeStep.id === promptSteps[promptSteps?.length - 1]?.id ||\n    activeStep.name === 'Preview'\n      ? i18n._(t`Save`)\n      : i18n._(t`Next`);\n\n  const CustomFooter = (\n    <WizardFooter>\n      <WizardContextConsumer>\n        {({ activeStep, onNext, onBack }) => (\n          <>\n            <NodeNextButton\n              isDisabled={isLaunchLoading}\n              triggerNext={triggerNext}\n              activeStep={activeStep}\n              aria-label={nextButtonText(activeStep)}\n              onNext={onNext}\n              onClick={() => setTriggerNext(triggerNext + 1)}\n              buttonText={nextButtonText(activeStep)}\n            />\n            {activeStep && activeStep.id !== promptSteps[0]?.id && (\n              <Button\n                id=\"back-node-modal\"\n                variant=\"secondary\"\n                aria-label={i18n._(t`返回`)}\n                onClick={onBack}\n              >\n                {i18n._(t`返回`)}\n              </Button>\n            )}\n            <Button\n              id=\"cancel-node-modal\"\n              variant=\"link\"\n              aria-label={i18n._(t`取消`)}\n              onClick={handleCancel}\n            >\n              {i18n._(t`取消`)}\n            </Button>\n          </>\n        )}\n      </WizardContextConsumer>\n    </WizardFooter>\n  );\n\n  if (error) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n\n  if (error && !isLaunchLoading) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n  return (\n    <Wizard\n      footer={CustomFooter}\n      isOpen={!error}\n      onClose={handleCancel}\n      onSave={() => {\n        handleSaveNode();\n      }}\n      onBack={async nextStep => {\n        validateStep(nextStep.id);\n      }}\n      onGoToStep={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n      steps={promptSteps}\n      css=\"overflow: scroll\"\n      title={title}\n      onNext={async (nextStep, prevStep) => {\n        if (nextStep.id === 'preview') {\n          visitAllSteps(setFieldTouched);\n        } else {\n          visitStep(prevStep.prevId, setFieldTouched);\n          validateStep(nextStep.id);\n        }\n      }}\n    />\n  );\n}\n\nconst NodeModalInner = ({ i18n, title, ...rest }) => {\n  const { values } = useFormikContext();\n\n  const wizardTitle = values.nodeResource\n    ? `${title} | ${values.nodeResource.name}`\n    : title;\n\n  const {\n    request: readLaunchConfigs,\n    error: launchConfigError,\n    result: { launchConfig, surveyConfig },\n    isLoading,\n  } = useRequest(\n    useCallback(async () => {\n      const readLaunch = (type, id) =>\n        type === 'workflow_job_template'\n          ? WorkflowJobTemplatesAPI.readLaunch(id)\n          : JobTemplatesAPI.readLaunch(id);\n      if (\n        !values.nodeResource ||\n        !['job_template', 'workflow_job_template'].includes(values?.nodeType) ||\n        !['job_template', 'workflow_job_template'].includes(\n          values.nodeResource?.type\n        )\n      ) {\n        return {\n          launchConfig: {},\n          surveyConfig: {},\n        };\n      }\n\n      const { data: launch } = await readLaunch(\n        values.nodeType,\n        values?.nodeResource?.id\n      );\n\n      let survey = {};\n\n      if (launch.survey_enabled) {\n        const { data } = launch?.workflow_job_template_data\n          ? await WorkflowJobTemplatesAPI.readSurvey(\n              launch?.workflow_job_template_data?.id\n            )\n          : await JobTemplatesAPI.readSurvey(launch?.job_template_data?.id);\n\n        survey = data;\n      }\n\n      return {\n        launchConfig: launch,\n        surveyConfig: survey,\n      };\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [values.nodeResource, values.nodeType]),\n    {}\n  );\n\n  useEffect(() => {\n    readLaunchConfigs();\n  }, [readLaunchConfigs, values.nodeResource]);\n\n  const { error, dismissError } = useDismissableError(launchConfigError);\n\n  if (error) {\n    return (\n      <AlertModal\n        isOpen={error}\n        variant=\"error\"\n        title={i18n._(t`Error!`)}\n        onClose={() => {\n          dismissError();\n        }}\n      >\n        <ContentError error={error} />\n      </AlertModal>\n    );\n  }\n\n  if (!launchConfig || !surveyConfig) {\n    return (\n      <Wizard\n        isOpen\n        steps={[\n          {\n            name: i18n._(t`Loading`),\n            component: <ContentLoading />,\n          },\n        ]}\n        title={wizardTitle}\n        footer={<></>}\n      />\n    );\n  }\n\n  return (\n    <NodeModalForm\n      {...rest}\n      launchConfig={launchConfig}\n      surveyConfig={surveyConfig}\n      isLaunchLoading={isLoading}\n      title={wizardTitle}\n      i18n={i18n}\n    />\n  );\n};\n\nconst NodeModal = ({ onSave, i18n, askLinkType, title }) => {\n  const { nodeToEdit } = useContext(WorkflowStateContext);\n  const onSaveForm = (values, config) => {\n    onSave(values, config);\n  };\n\n  return (\n    <Formik\n      initialValues={{\n        approvalName: '',\n        approvalDescription: '',\n        timeoutMinutes: 0,\n        timeoutSeconds: 0,\n        linkType: 'success',\n        nodeResource: nodeToEdit?.fullUnifiedJobTemplate || null,\n        nodeType: nodeToEdit?.fullUnifiedJobTemplate?.type || 'job_template',\n      }}\n      onSave={() => onSaveForm}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <NodeModalInner\n            onSave={onSaveForm}\n            i18n={i18n}\n            title={title}\n            askLinkType={askLinkType}\n          />\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nNodeModal.propTypes = {\n  askLinkType: bool.isRequired,\n  onSave: func.isRequired,\n  title: node.isRequired,\n};\n\nexport default withI18n()(NodeModal);\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\nimport NodeModal from './NodeModal';\nimport { getAddedAndRemoved } from '../../../../../util/lists';\n\nfunction NodeAddModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { addNodeSource } = useContext(WorkflowStateContext);\n\n  const addNode = (values, config) => {\n    const {\n      approvalName,\n      approvalDescription,\n      timeoutMinutes,\n      timeoutSeconds,\n      linkType,\n    } = values;\n\n    if (values) {\n      const { added, removed } = getAddedAndRemoved(\n        config?.defaults?.credentials,\n        values?.credentials\n      );\n\n      values.addedCredentials = added;\n      values.removedCredentials = removed;\n    }\n\n    const node = {\n      linkType,\n    };\n\n    delete values.linkType;\n\n    if (values.nodeType === 'workflow_approval_template') {\n      node.nodeResource = {\n        description: approvalDescription,\n        name: approvalName,\n        timeout: Number(timeoutMinutes) * 60 + Number(timeoutSeconds),\n        type: 'workflow_approval_template',\n      };\n    } else {\n      node.nodeResource = values.nodeResource;\n      if (\n        values?.nodeType === 'job_template' ||\n        values?.nodeType === 'workflow_job_template'\n      ) {\n        node.promptValues = values;\n      }\n    }\n    dispatch({\n      type: 'CREATE_NODE',\n      node,\n    });\n  };\n\n  return (\n    <NodeModal\n      askLinkType={addNodeSource !== 1}\n      onSave={addNode}\n      title={i18n._(t`Add Node`)}\n    />\n  );\n}\n\nexport default withI18n()(NodeAddModal);\n","import 'styled-components/macro';\nimport React, { Fragment, useContext } from 'react';\nimport { Button } from '@patternfly/react-core';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\nimport AlertModal from '../../../../../components/AlertModal';\n\nfunction NodeDeleteModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { nodeToDelete } = useContext(WorkflowStateContext);\n  return (\n    <AlertModal\n      variant=\"danger\"\n      title={i18n._(t`Remove Node`)}\n      isOpen={nodeToDelete}\n      onClose={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n      actions={[\n        <Button\n          id=\"confirm-node-removal\"\n          key=\"remove\"\n          variant=\"danger\"\n          aria-label={i18n._(t`Confirm node removal`)}\n          onClick={() => dispatch({ type: 'DELETE_NODE' })}\n        >\n          {i18n._(t`Remove`)}\n        </Button>,\n        <Button\n          id=\"cancel-node-removal\"\n          key=\"cancel\"\n          variant=\"secondary\"\n          aria-label={i18n._(t`Cancel node removal`)}\n          onClick={() => dispatch({ type: 'SET_NODE_TO_DELETE', value: null })}\n        >\n          {i18n._(t`取消`)}\n        </Button>,\n      ]}\n    >\n      {nodeToDelete && nodeToDelete.unifiedJobTemplate ? (\n        <Fragment>\n          <p>{i18n._(t`Are you sure you want to remove the node below:`)}</p>\n          <br />\n          <strong css=\"color: var(--pf-global--danger-color--100)\">\n            {nodeToDelete.unifiedJobTemplate.name}\n          </strong>\n        </Fragment>\n      ) : (\n        <p>{i18n._(t`Are you sure you want to remove this node?`)}</p>\n      )}\n    </AlertModal>\n  );\n}\n\nexport default withI18n()(NodeDeleteModal);\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { WorkflowDispatchContext } from '../../../../../contexts/Workflow';\nimport NodeModal from './NodeModal';\n\nfunction NodeEditModal({ i18n }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n\n  const updateNode = (values, config) => {\n    const {\n      approvalName,\n      approvalDescription,\n      credentials,\n      linkType,\n      nodeResource,\n      nodeType,\n      timeoutMinutes,\n      timeoutSeconds,\n      ...rest\n    } = values;\n    let node;\n    if (values.nodeType === 'workflow_approval_template') {\n      node = {\n        nodeResource: {\n          description: approvalDescription,\n          name: approvalName,\n          timeout: Number(timeoutMinutes) * 60 + Number(timeoutSeconds),\n          type: 'workflow_approval_template',\n        },\n      };\n    } else {\n      node = {\n        nodeResource,\n      };\n      if (nodeType === 'job_template' || nodeType === 'workflow_job_template') {\n        node.promptValues = {\n          ...rest,\n          credentials,\n        };\n\n        node.launchConfig = config;\n      }\n    }\n\n    dispatch({\n      type: 'UPDATE_NODE',\n      node,\n    });\n  };\n\n  return (\n    <NodeModal\n      askLinkType={false}\n      onSave={updateNode}\n      title={i18n._(t`Edit Node`)}\n    />\n  );\n}\n\nexport default withI18n()(NodeEditModal);\n","import {\n  InventorySourcesAPI,\n  JobTemplatesAPI,\n  ProjectsAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../../../api';\n\nexport default function getNodeType(node) {\n  const ujtType = node?.type || node?.unified_job_type;\n  switch (ujtType) {\n    case 'job_template':\n    case 'job':\n      return ['job_template', JobTemplatesAPI];\n    case 'project':\n    case 'project_update':\n      return ['project_sync', ProjectsAPI];\n    case 'inventory_source':\n    case 'inventory_update':\n      return ['inventory_source_sync', InventorySourcesAPI];\n    case 'workflow_job_template':\n    case 'workflow_job':\n      return ['workflow_job_template', WorkflowJobTemplatesAPI];\n    case 'workflow_approval_template':\n    case 'workflow_approval':\n      return ['approval', null];\n    default:\n      return [null, null];\n  }\n}\n","import React, { useContext, useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button, Modal } from '@patternfly/react-core';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../../../contexts/Workflow';\n\nimport ContentError from '../../../../../components/ContentError';\nimport ContentLoading from '../../../../../components/ContentLoading';\nimport PromptDetail from '../../../../../components/PromptDetail';\nimport useRequest from '../../../../../util/useRequest';\nimport { jsonToYaml } from '../../../../../util/yaml';\nimport { JobTemplatesAPI, WorkflowJobTemplatesAPI } from '../../../../../api';\nimport getNodeType from '../../shared/WorkflowJobTemplateVisualizerUtils';\n\nfunction NodeViewModal({ i18n, readOnly }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { nodeToView } = useContext(WorkflowStateContext);\n  const {\n    fullUnifiedJobTemplate,\n    originalNodeCredentials,\n    originalNodeObject,\n    promptValues,\n  } = nodeToView;\n  const [nodeType, nodeAPI] = getNodeType(\n    fullUnifiedJobTemplate ||\n      originalNodeObject?.summary_fields?.unified_job_template\n  );\n\n  const id =\n    fullUnifiedJobTemplate?.id ||\n    originalNodeObject?.summary_fields?.unified_job_template.id;\n\n  const {\n    result: launchConfig,\n    isLoading: isLaunchConfigLoading,\n    error: launchConfigError,\n    request: fetchLaunchConfig,\n  } = useRequest(\n    useCallback(async () => {\n      const readLaunch =\n        nodeType === 'workflow_job_template'\n          ? WorkflowJobTemplatesAPI.readLaunch(id)\n          : JobTemplatesAPI.readLaunch(id);\n      const { data } = await readLaunch;\n      return data;\n    }, [nodeType, id]),\n    {}\n  );\n\n  const {\n    result: relatedData,\n    isLoading: isRelatedDataLoading,\n    error: relatedDataError,\n    request: fetchRelatedData,\n  } = useRequest(\n    useCallback(async () => {\n      const related = {};\n      if (\n        nodeType === 'job_template' &&\n        !fullUnifiedJobTemplate.instance_groups\n      ) {\n        const {\n          data: { results = [] },\n        } = await JobTemplatesAPI.readInstanceGroups(fullUnifiedJobTemplate.id);\n        related.instance_groups = results;\n      }\n\n      if (\n        fullUnifiedJobTemplate?.related?.webhook_receiver &&\n        !fullUnifiedJobTemplate.webhook_key\n      ) {\n        const {\n          data: { webhook_key },\n        } = await nodeAPI?.readWebhookKey(fullUnifiedJobTemplate.id);\n        related.webhook_key = webhook_key;\n      }\n\n      return related;\n    }, [nodeAPI, fullUnifiedJobTemplate, nodeType]),\n    null\n  );\n\n  useEffect(() => {\n    if (nodeType === 'workflow_job_template' || nodeType === 'job_template') {\n      fetchLaunchConfig();\n    }\n\n    if (\n      fullUnifiedJobTemplate &&\n      ((nodeType === 'job_template' &&\n        !fullUnifiedJobTemplate.instance_groups) ||\n        (fullUnifiedJobTemplate?.related?.webhook_receiver &&\n          !fullUnifiedJobTemplate.webhook_key))\n    ) {\n      fetchRelatedData();\n    }\n  }, []); // eslint-disable-line react-hooks/exhaustive-deps\n\n  useEffect(() => {\n    if (relatedData) {\n      dispatch({\n        type: 'REFRESH_NODE',\n        node: {\n          fullUnifiedJobTemplate: { ...fullUnifiedJobTemplate, ...relatedData },\n        },\n      });\n    }\n  }, [relatedData]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleEdit = () => {\n    dispatch({ type: 'SET_NODE_TO_VIEW', value: null });\n    dispatch({ type: 'SET_NODE_TO_EDIT', value: nodeToView });\n  };\n\n  let Content;\n  if (isLaunchConfigLoading || isRelatedDataLoading) {\n    Content = <ContentLoading />;\n  } else if (launchConfigError || relatedDataError) {\n    Content = <ContentError error={launchConfigError || relatedDataError} />;\n  } else if (!fullUnifiedJobTemplate) {\n    Content = (\n      <p>\n        {i18n._(t`The resource associated with this node has been deleted.`)}\n        &nbsp;&nbsp;\n        {!readOnly\n          ? i18n._(t`Click the Edit button below to reconfigure the node.`)\n          : ''}\n      </p>\n    );\n  } else {\n    let overrides = {};\n\n    if (promptValues) {\n      overrides = promptValues;\n\n      if (launchConfig.ask_variables_on_launch || launchConfig.survey_enabled) {\n        overrides.extra_vars = jsonToYaml(\n          JSON.stringify(promptValues.extra_data)\n        );\n      }\n    } else if (\n      fullUnifiedJobTemplate.id === originalNodeObject?.unified_job_template\n    ) {\n      if (launchConfig.ask_inventory_on_launch) {\n        overrides.inventory = originalNodeObject.summary_fields.inventory;\n      }\n      if (launchConfig.ask_scm_branch_on_launch) {\n        overrides.scm_branch = originalNodeObject.scm_branch;\n      }\n      if (launchConfig.ask_variables_on_launch || launchConfig.survey_enabled) {\n        overrides.extra_vars = jsonToYaml(\n          JSON.stringify(originalNodeObject.extra_data)\n        );\n      }\n      if (launchConfig.ask_tags_on_launch) {\n        overrides.job_tags = originalNodeObject.job_tags;\n      }\n      if (launchConfig.ask_diff_mode_on_launch) {\n        overrides.diff_mode = originalNodeObject.diff_mode;\n      }\n      if (launchConfig.ask_skip_tags_on_launch) {\n        overrides.skip_tags = originalNodeObject.skip_tags;\n      }\n      if (launchConfig.ask_job_type_on_launch) {\n        overrides.job_type = originalNodeObject.job_type;\n      }\n      if (launchConfig.ask_limit_on_launch) {\n        overrides.limit = originalNodeObject.limit;\n      }\n      if (launchConfig.ask_verbosity_on_launch) {\n        overrides.verbosity = originalNodeObject.verbosity.toString();\n      }\n      if (launchConfig.ask_credential_on_launch) {\n        overrides.credentials = originalNodeCredentials || [];\n      }\n    }\n\n    Content = (\n      <PromptDetail\n        launchConfig={launchConfig}\n        resource={fullUnifiedJobTemplate}\n        overrides={overrides}\n      />\n    );\n  }\n\n  return (\n    <Modal\n      variant=\"large\"\n      isOpen\n      title={fullUnifiedJobTemplate?.name || i18n._(t`Resource deleted`)}\n      aria-label={i18n._(t`Workflow node view modal`)}\n      onClose={() => dispatch({ type: 'SET_NODE_TO_VIEW', value: null })}\n      actions={\n        readOnly\n          ? []\n          : [\n              <Button\n                id=\"node-view-edit-button\"\n                key=\"edit\"\n                aria-label={i18n._(t`Edit Node`)}\n                onClick={handleEdit}\n              >\n                {i18n._(t`Edit`)}\n              </Button>,\n            ]\n      }\n    >\n      {Content}\n    </Modal>\n  );\n}\n\nexport default withI18n()(NodeViewModal);\n","import React, { useContext, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { bool, func, shape } from 'prop-types';\nimport { PencilAltIcon, PlusIcon, TrashAltIcon } from '@patternfly/react-icons';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\nimport {\n  generateLine,\n  getLinePoints,\n  getLinkOverlayPoints,\n} from '../../../components/Workflow/WorkflowUtils';\nimport {\n  WorkflowActionTooltip,\n  WorkflowActionTooltipItem,\n} from '../../../components/Workflow';\n\nconst LinkG = styled.g`\n  pointer-events: ${props => (props.ignorePointerEvents ? 'none' : 'auto')};\n`;\n\nfunction VisualizerLink({\n  i18n,\n  link,\n  updateLinkHelp,\n  readOnly,\n  updateHelpText,\n}) {\n  const ref = useRef(null);\n  const [hovering, setHovering] = useState(false);\n  const [pathD, setPathD] = useState();\n  const [pathStroke, setPathStroke] = useState('#CCCCCC');\n  const [tooltipX, setTooltipX] = useState();\n  const [tooltipY, setTooltipY] = useState();\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { addingLink, nodePositions } = useContext(WorkflowStateContext);\n\n  const addNodeAction = (\n    <WorkflowActionTooltipItem\n      id=\"link-add-node\"\n      key=\"add\"\n      onClick={() => {\n        updateHelpText(null);\n        setHovering(false);\n        dispatch({\n          type: 'START_ADD_NODE',\n          sourceNodeId: link.source.id,\n          targetNodeId: link.target.id,\n        });\n      }}\n      onMouseEnter={() =>\n        updateHelpText(i18n._(t`Add a new node between these two nodes`))\n      }\n      onMouseLeave={() => updateHelpText(null)}\n    >\n      <PlusIcon />\n    </WorkflowActionTooltipItem>\n  );\n\n  const tooltipActions =\n    link.source.id === 1\n      ? [addNodeAction]\n      : [\n          addNodeAction,\n          <WorkflowActionTooltipItem\n            id=\"link-edit\"\n            key=\"edit\"\n            onClick={() => {\n              updateHelpText(null);\n              setHovering(false);\n              dispatch({ type: 'SET_LINK_TO_EDIT', value: link });\n            }}\n            onMouseEnter={() => updateHelpText(i18n._(t`Edit this link`))}\n            onMouseLeave={() => updateHelpText(null)}\n          >\n            <PencilAltIcon />\n          </WorkflowActionTooltipItem>,\n          <WorkflowActionTooltipItem\n            id=\"link-delete\"\n            key=\"delete\"\n            onClick={() => {\n              updateHelpText(null);\n              setHovering(false);\n              dispatch({ type: 'START_DELETE_LINK', link });\n            }}\n            onMouseEnter={() => updateHelpText(i18n._(t`Delete this link`))}\n            onMouseLeave={() => updateHelpText(null)}\n          >\n            <TrashAltIcon />\n          </WorkflowActionTooltipItem>,\n        ];\n\n  const handleLinkMouseEnter = () => {\n    ref.current.parentNode.appendChild(ref.current);\n    setHovering(true);\n  };\n\n  const handleLinkMouseLeave = () => {\n    ref.current.parentNode.prepend(ref.current);\n    setHovering(null);\n  };\n\n  useEffect(() => {\n    if (link.linkType === 'failure') {\n      setPathStroke('#d9534f');\n    }\n    if (link.linkType === 'success') {\n      setPathStroke('#5cb85c');\n    }\n    if (link.linkType === 'always') {\n      setPathStroke('#337ab7');\n    }\n  }, [link.linkType]);\n\n  useEffect(() => {\n    const linePoints = getLinePoints(link, nodePositions);\n    setPathD(generateLine(linePoints));\n    setTooltipX((linePoints[0].x + linePoints[1].x) / 2);\n    setTooltipY((linePoints[0].y + linePoints[1].y) / 2);\n  }, [link, nodePositions]);\n\n  return (\n    <LinkG\n      id={`link-${link.source.id}-${link.target.id}`}\n      ignorePointerEvents={addingLink}\n      onMouseEnter={handleLinkMouseEnter}\n      onMouseLeave={handleLinkMouseLeave}\n      ref={ref}\n    >\n      <polygon\n        fill=\"#E1E1E1\"\n        id={`link-${link.source.id}-${link.target.id}-background`}\n        opacity={hovering ? '1' : '0'}\n        points={getLinkOverlayPoints(link, nodePositions)}\n      />\n      <path d={pathD} stroke={pathStroke} strokeWidth=\"2px\" />\n      <polygon\n        id={`link-${link.source.id}-${link.target.id}-overlay`}\n        onMouseEnter={() => updateLinkHelp(link)}\n        onMouseLeave={() => updateLinkHelp(null)}\n        opacity=\"0\"\n        points={getLinkOverlayPoints(link, nodePositions)}\n      />\n      {!readOnly && hovering && (\n        <WorkflowActionTooltip\n          actions={tooltipActions}\n          pointX={tooltipX}\n          pointY={tooltipY}\n        />\n      )}\n    </LinkG>\n  );\n}\n\nVisualizerLink.propTypes = {\n  link: shape().isRequired,\n  readOnly: bool.isRequired,\n  updateHelpText: func.isRequired,\n  updateLinkHelp: func.isRequired,\n};\n\nexport default withI18n()(VisualizerLink);\n","import React, { useContext, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { bool, func, shape } from 'prop-types';\nimport {\n  InfoIcon,\n  LinkIcon,\n  PencilAltIcon,\n  PlusIcon,\n  TrashAltIcon,\n} from '@patternfly/react-icons';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { WorkflowJobTemplateNodesAPI } from '../../../api';\nimport { constants as wfConstants } from '../../../components/Workflow/WorkflowUtils';\nimport {\n  WorkflowActionTooltip,\n  WorkflowActionTooltipItem,\n  WorkflowNodeTypeLetter,\n} from '../../../components/Workflow';\nimport getNodeType from './shared/WorkflowJobTemplateVisualizerUtils';\n\nconst NodeG = styled.g`\n  pointer-events: ${props => (props.noPointerEvents ? 'none' : 'initial')};\n  cursor: ${props => (props.job ? 'pointer' : 'default')};\n`;\n\nconst NodeContents = styled.div`\n  font-size: 13px;\n  padding: 0px 10px;\n  background-color: ${props =>\n    props.isInvalidLinkTarget ? '#D7D7D7' : '#FFFFFF'};\n`;\n\nconst NodeResourceName = styled.p`\n  margin-top: 20px;\n  overflow: hidden;\n  text-align: center;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n`;\nNodeResourceName.displayName = 'NodeResourceName';\n\nfunction VisualizerNode({\n  i18n,\n  node,\n  onMouseOver,\n  readOnly,\n  updateHelpText,\n  updateNodeHelp,\n}) {\n  const ref = useRef(null);\n  const [hovering, setHovering] = useState(false);\n  const [credentialsError, setCredentialsError] = useState(null);\n  const [detailError, setDetailError] = useState(null);\n  const dispatch = useContext(WorkflowDispatchContext);\n  const { addingLink, addLinkSourceNode, nodePositions, nodes } = useContext(\n    WorkflowStateContext\n  );\n  const isAddLinkSourceNode =\n    addLinkSourceNode && addLinkSourceNode.id === node.id;\n\n  const handleCredentialsErrorClose = () => setCredentialsError(null);\n  const handleDetailErrorClose = () => setDetailError(null);\n\n  const updateNode = async () => {\n    const updatedNodes = [...nodes];\n    const updatedNode = updatedNodes.find(n => n.id === node.id);\n    if (\n      !node.fullUnifiedJobTemplate &&\n      node?.originalNodeObject?.summary_fields?.unified_job_template\n    ) {\n      const [, nodeAPI] = getNodeType(\n        node.originalNodeObject.summary_fields.unified_job_template\n      );\n      try {\n        const { data: fullUnifiedJobTemplate } = await nodeAPI.readDetail(\n          node.originalNodeObject.unified_job_template\n        );\n        updatedNode.fullUnifiedJobTemplate = fullUnifiedJobTemplate;\n      } catch (err) {\n        setDetailError(err);\n        return null;\n      }\n    }\n\n    if (\n      node?.originalNodeObject?.summary_fields?.unified_job_template\n        ?.unified_job_type === 'job' &&\n      !node?.originalNodeCredentials\n    ) {\n      try {\n        const {\n          data: { results },\n        } = await WorkflowJobTemplateNodesAPI.readCredentials(\n          node.originalNodeObject.id\n        );\n        updatedNode.originalNodeCredentials = results;\n      } catch (err) {\n        setCredentialsError(err);\n        return null;\n      }\n    }\n\n    dispatch({\n      type: 'SET_NODES',\n      value: updatedNodes,\n    });\n\n    return updatedNode;\n  };\n\n  const handleEditClick = async () => {\n    updateHelpText(null);\n    setHovering(false);\n    const nodeToEdit = await updateNode();\n\n    if (nodeToEdit) {\n      dispatch({ type: 'SET_NODE_TO_EDIT', value: nodeToEdit });\n    }\n  };\n\n  const handleViewClick = async () => {\n    updateHelpText(null);\n    setHovering(false);\n    const nodeToView = await updateNode();\n\n    if (nodeToView) {\n      dispatch({ type: 'SET_NODE_TO_VIEW', value: nodeToView });\n    }\n  };\n\n  const handleNodeMouseEnter = () => {\n    ref.current.parentNode.appendChild(ref.current);\n    setHovering(true);\n    if (addingLink) {\n      updateHelpText(\n        node.isInvalidLinkTarget\n          ? i18n._(\n              t`Invalid link target.  Unable to link to children or ancestor nodes.  Graph cycles are not supported.`\n            )\n          : i18n._(t`Click to create a new link to this node.`)\n      );\n      onMouseOver(node);\n    }\n  };\n\n  const handleNodeMouseLeave = () => {\n    setHovering(false);\n    if (addingLink) {\n      updateHelpText(null);\n    }\n  };\n\n  const handleNodeClick = () => {\n    if (addingLink && !node.isInvalidLinkTarget && !isAddLinkSourceNode) {\n      dispatch({ type: 'SET_ADD_LINK_TARGET_NODE', value: node });\n    }\n  };\n\n  const viewDetailsAction = (\n    <WorkflowActionTooltipItem\n      id=\"node-details\"\n      key=\"details\"\n      onClick={handleViewClick}\n      onMouseEnter={() => updateHelpText(i18n._(t`View node details`))}\n      onMouseLeave={() => updateHelpText(null)}\n    >\n      <InfoIcon />\n    </WorkflowActionTooltipItem>\n  );\n\n  const tooltipActions = readOnly\n    ? [viewDetailsAction]\n    : [\n        <WorkflowActionTooltipItem\n          id=\"node-add\"\n          key=\"add\"\n          onClick={() => {\n            updateHelpText(null);\n            setHovering(false);\n            dispatch({ type: 'START_ADD_NODE', sourceNodeId: node.id });\n          }}\n          onMouseEnter={() => updateHelpText(i18n._(t`Add a new node`))}\n          onMouseLeave={() => updateHelpText(null)}\n        >\n          <PlusIcon />\n        </WorkflowActionTooltipItem>,\n        viewDetailsAction,\n        <WorkflowActionTooltipItem\n          id=\"node-edit\"\n          key=\"edit\"\n          onClick={handleEditClick}\n          onMouseEnter={() => updateHelpText(i18n._(t`Edit this node`))}\n          onMouseLeave={() => updateHelpText(null)}\n        >\n          <PencilAltIcon />\n        </WorkflowActionTooltipItem>,\n        <WorkflowActionTooltipItem\n          id=\"node-link\"\n          key=\"link\"\n          onClick={() => {\n            updateHelpText(null);\n            setHovering(false);\n            dispatch({ type: 'SELECT_SOURCE_FOR_LINKING', node });\n          }}\n          onMouseEnter={() =>\n            updateHelpText(i18n._(t`Link to an available node`))\n          }\n          onMouseLeave={() => updateHelpText(null)}\n        >\n          <LinkIcon />\n        </WorkflowActionTooltipItem>,\n        <WorkflowActionTooltipItem\n          id=\"node-delete\"\n          key=\"delete\"\n          onClick={() => {\n            updateHelpText(null);\n            setHovering(false);\n            dispatch({ type: 'SET_NODE_TO_DELETE', value: node });\n          }}\n          onMouseEnter={() => updateHelpText(i18n._(t`Delete this node`))}\n          onMouseLeave={() => updateHelpText(null)}\n        >\n          <TrashAltIcon />\n        </WorkflowActionTooltipItem>,\n      ];\n\n  return (\n    <>\n      <NodeG\n        id={`node-${node.id}`}\n        job={node.job}\n        noPointerEvents={isAddLinkSourceNode}\n        onMouseEnter={handleNodeMouseEnter}\n        onMouseLeave={handleNodeMouseLeave}\n        ref={ref}\n        transform={`translate(${nodePositions[node.id].x},${nodePositions[\n          node.id\n        ].y - nodePositions[1].y})`}\n      >\n        <rect\n          fill=\"#FFFFFF\"\n          height={wfConstants.nodeH}\n          rx=\"2\"\n          ry=\"2\"\n          stroke={\n            hovering && addingLink && !node.isInvalidLinkTarget\n              ? '#007ABC'\n              : '#93969A'\n          }\n          strokeWidth=\"2px\"\n          width={wfConstants.nodeW}\n        />\n        <foreignObject\n          height=\"58\"\n          {...(!addingLink && {\n            onMouseEnter: () => updateNodeHelp(node),\n            onMouseLeave: () => updateNodeHelp(null),\n          })}\n          onClick={() => handleNodeClick()}\n          width=\"178\"\n          x=\"1\"\n          y=\"1\"\n        >\n          <NodeContents isInvalidLinkTarget={node.isInvalidLinkTarget}>\n            <NodeResourceName id={`node-${node.id}-name`}>\n              {node?.fullUnifiedJobTemplate?.name ||\n                node?.originalNodeObject?.summary_fields?.unified_job_template\n                  ?.name ||\n                i18n._(t`DELETED`)}\n            </NodeResourceName>\n          </NodeContents>\n        </foreignObject>\n        <WorkflowNodeTypeLetter node={node} />\n        {hovering && !addingLink && (\n          <WorkflowActionTooltip\n            pointX={wfConstants.nodeW}\n            pointY={wfConstants.nodeH / 2}\n            actions={tooltipActions}\n          />\n        )}\n      </NodeG>\n      {detailError && (\n        <AlertModal\n          isOpen={detailError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={handleDetailErrorClose}\n        >\n          {i18n._(t`Failed to retrieve full node resource object.`)}\n          <ErrorDetail error={detailError} />\n        </AlertModal>\n      )}\n      {credentialsError && (\n        <AlertModal\n          isOpen={credentialsError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={handleCredentialsErrorClose}\n        >\n          {i18n._(t`Failed to retrieve node credentials.`)}\n          <ErrorDetail error={credentialsError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nVisualizerNode.propTypes = {\n  node: shape().isRequired,\n  onMouseOver: func,\n  readOnly: bool.isRequired,\n  updateHelpText: func.isRequired,\n  updateNodeHelp: func.isRequired,\n};\n\nVisualizerNode.defaultProps = {\n  onMouseOver: () => {},\n};\n\nexport default withI18n()(VisualizerNode);\n","import 'styled-components/macro';\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { bool } from 'prop-types';\nimport * as d3 from 'd3';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\nimport {\n  getScaleAndOffsetToFit,\n  constants as wfConstants,\n  getTranslatePointsForZoom,\n} from '../../../components/Workflow/WorkflowUtils';\nimport {\n  WorkflowHelp,\n  WorkflowLegend,\n  WorkflowLinkHelp,\n  WorkflowNodeHelp,\n  WorkflowStartNode,\n  WorkflowTools,\n} from '../../../components/Workflow';\nimport VisualizerLink from './VisualizerLink';\nimport VisualizerNode from './VisualizerNode';\n\nconst PotentialLink = styled.polyline`\n  pointer-events: none;\n`;\n\nconst WorkflowSVG = styled.svg`\n  background-color: #f6f6f6;\n  display: flex;\n  height: 100%;\n`;\n\nfunction VisualizerGraph({ i18n, readOnly }) {\n  const [helpText, setHelpText] = useState(null);\n  const [linkHelp, setLinkHelp] = useState();\n  const [nodeHelp, setNodeHelp] = useState();\n  const [zoomPercentage, setZoomPercentage] = useState(100);\n  const svgRef = useRef(null);\n  const gRef = useRef(null);\n\n  const {\n    addLinkSourceNode,\n    addingLink,\n    links,\n    nodePositions,\n    nodes,\n    showLegend,\n    showTools,\n  } = useContext(WorkflowStateContext);\n\n  const dispatch = useContext(WorkflowDispatchContext);\n\n  const drawPotentialLinkToNode = node => {\n    if (node.id !== addLinkSourceNode.id) {\n      const sourceNodeX = nodePositions[addLinkSourceNode.id].x;\n      const sourceNodeY =\n        nodePositions[addLinkSourceNode.id].y - nodePositions[1].y;\n      const targetNodeX = nodePositions[node.id].x;\n      const targetNodeY = nodePositions[node.id].y - nodePositions[1].y;\n      const startX = sourceNodeX + wfConstants.nodeW;\n      const startY = sourceNodeY + wfConstants.nodeH / 2;\n      const finishX = targetNodeX;\n      const finishY = targetNodeY + wfConstants.nodeH / 2;\n\n      d3.select('#workflow-potentialLink')\n        .attr('points', `${startX},${startY} ${finishX},${finishY}`)\n        .raise();\n    }\n  };\n\n  const handleBackgroundClick = () => {\n    setHelpText(null);\n    dispatch({ type: 'CANCEL_LINK' });\n  };\n\n  const drawPotentialLinkToCursor = e => {\n    const currentTransform = d3.zoomTransform(d3.select(gRef.current).node());\n    const rect = e.target.getBoundingClientRect();\n    const mouseX = e.clientX - rect.left;\n    const mouseY = e.clientY - rect.top;\n    const sourceNodeX = nodePositions[addLinkSourceNode.id].x;\n    const sourceNodeY =\n      nodePositions[addLinkSourceNode.id].y - nodePositions[1].y;\n    const startX = sourceNodeX + wfConstants.nodeW;\n    const startY = sourceNodeY + wfConstants.nodeH / 2;\n\n    d3.select('#workflow-potentialLink')\n      .attr(\n        'points',\n        `${startX},${startY} ${mouseX / currentTransform.k -\n          currentTransform.x / currentTransform.k},${mouseY /\n          currentTransform.k -\n          currentTransform.y / currentTransform.k}`\n      )\n      .raise();\n  };\n\n  // This is the zoom function called by using the mousewheel/click and drag\n  const zoom = () => {\n    const translation = [d3.event.transform.x, d3.event.transform.y];\n    d3.select(gRef.current).attr(\n      'transform',\n      `translate(${translation}) scale(${d3.event.transform.k})`\n    );\n\n    setZoomPercentage(d3.event.transform.k * 100);\n  };\n\n  const handlePan = direction => {\n    const transform = d3.zoomTransform(d3.select(svgRef.current).node());\n\n    let { x: xPos, y: yPos } = transform;\n    const { k: currentScale } = transform;\n\n    switch (direction) {\n      case 'up':\n        yPos -= 50;\n        break;\n      case 'down':\n        yPos += 50;\n        break;\n      case 'left':\n        xPos -= 50;\n        break;\n      case 'right':\n        xPos += 50;\n        break;\n      default:\n        // Throw an error?\n        break;\n    }\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(xPos, yPos).scale(currentScale)\n    );\n  };\n\n  const handlePanToMiddle = () => {\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity\n        .translate(0, svgBoundingClientRect.height / 2 - 30)\n        .scale(1)\n    );\n\n    setZoomPercentage(100);\n  };\n\n  const handleZoomChange = newScale => {\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n    const currentScaleAndOffset = d3.zoomTransform(\n      d3.select(svgRef.current).node()\n    );\n\n    const [translateX, translateY] = getTranslatePointsForZoom(\n      svgBoundingClientRect,\n      currentScaleAndOffset,\n      newScale\n    );\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(translateX, translateY).scale(newScale)\n    );\n    setZoomPercentage(newScale * 100);\n  };\n\n  const handleFitGraph = () => {\n    const { k: currentScale } = d3.zoomTransform(\n      d3.select(svgRef.current).node()\n    );\n    const gBoundingClientRect = d3\n      .select(gRef.current)\n      .node()\n      .getBoundingClientRect();\n\n    const gBBoxDimensions = d3\n      .select(gRef.current)\n      .node()\n      .getBBox();\n\n    const svgBoundingClientRect = svgRef.current.getBoundingClientRect();\n\n    const [scaleToFit, yTranslate] = getScaleAndOffsetToFit(\n      gBoundingClientRect,\n      svgBoundingClientRect,\n      gBBoxDimensions,\n      currentScale\n    );\n\n    d3.select(svgRef.current).call(\n      zoomRef.transform,\n      d3.zoomIdentity.translate(0, yTranslate).scale(scaleToFit)\n    );\n\n    setZoomPercentage(scaleToFit * 100);\n  };\n\n  const zoomRef = d3\n    .zoom()\n    .scaleExtent([0.1, 2])\n    .on('zoom', zoom);\n\n  // Initialize the zoom\n  useEffect(() => {\n    d3.select(svgRef.current).call(zoomRef);\n  }, [zoomRef]);\n\n  // Attempt to zoom the graph to fit the available screen space\n  useEffect(() => {\n    handleFitGraph();\n    // We only want this to run once (when the component mounts)\n    // Including handleFitGraph in the deps array will cause this to\n    // run very frequently.\n    // Discussion: https://github.com/facebook/create-react-app/issues/6880\n    // and https://github.com/facebook/react/issues/15865 amongst others\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <>\n      {(helpText || nodeHelp || linkHelp) && (\n        <WorkflowHelp>\n          {helpText && <p>{helpText}</p>}\n          {nodeHelp && <WorkflowNodeHelp node={nodeHelp} />}\n          {linkHelp && <WorkflowLinkHelp link={linkHelp} />}\n        </WorkflowHelp>\n      )}\n      <WorkflowSVG id=\"workflow-svg\" ref={svgRef}>\n        <defs>\n          <marker\n            className=\"WorkflowChart-noPointerEvents\"\n            id=\"workflow-triangle\"\n            markerHeight=\"6\"\n            markerUnits=\"strokeWidth\"\n            markerWidth=\"6\"\n            orient=\"auto\"\n            refX=\"10\"\n            viewBox=\"0 -5 10 10\"\n          >\n            <path d=\"M0,-5L10,0L0,5\" fill=\"#93969A\" />\n          </marker>\n        </defs>\n        <rect\n          height=\"100%\"\n          id=\"workflow-backround\"\n          opacity=\"0\"\n          width=\"100%\"\n          {...(addingLink && {\n            onMouseMove: e => drawPotentialLinkToCursor(e),\n            onMouseOver: () =>\n              setHelpText(\n                i18n._(\n                  t`Click an available node to create a new link.  Click outside the graph to cancel.`\n                )\n              ),\n            onMouseOut: () => setHelpText(null),\n            onClick: () => handleBackgroundClick(),\n          })}\n        />\n        <g id=\"workflow-g\" ref={gRef}>\n          {nodePositions && [\n            <WorkflowStartNode\n              key=\"start\"\n              showActionTooltip={!readOnly}\n              onUpdateHelpText={setHelpText}\n              readOnly={readOnly}\n            />,\n            links.map(link => {\n              if (\n                nodePositions[link.source.id] &&\n                nodePositions[link.target.id]\n              ) {\n                return (\n                  <VisualizerLink\n                    key={`link-${link.source.id}-${link.target.id}`}\n                    link={link}\n                    readOnly={readOnly}\n                    updateLinkHelp={newLinkHelp => setLinkHelp(newLinkHelp)}\n                    updateHelpText={newHelpText => setHelpText(newHelpText)}\n                  />\n                );\n              }\n              return null;\n            }),\n            nodes.map(node => {\n              if (node.id > 1 && nodePositions[node.id] && !node.isDeleted) {\n                return (\n                  <VisualizerNode\n                    key={`node-${node.id}`}\n                    node={node}\n                    readOnly={readOnly}\n                    updateHelpText={newHelpText => setHelpText(newHelpText)}\n                    updateNodeHelp={newNodeHelp => setNodeHelp(newNodeHelp)}\n                    {...(addingLink && {\n                      onMouseOver: () => drawPotentialLinkToNode(node),\n                    })}\n                  />\n                );\n              }\n              return null;\n            }),\n          ]}\n          {addingLink && (\n            <PotentialLink\n              id=\"workflow-potentialLink\"\n              markerEnd=\"url(#workflow-triangle)\"\n              stroke=\"#93969A\"\n              strokeDasharray=\"5,5\"\n              strokeWidth=\"2\"\n            />\n          )}\n        </g>\n      </WorkflowSVG>\n      <div css=\"position: absolute; top: 75px;right: 20px;display: flex;\">\n        {showTools && (\n          <WorkflowTools\n            onFitGraph={handleFitGraph}\n            onPan={handlePan}\n            onPanToMiddle={handlePanToMiddle}\n            onZoomChange={handleZoomChange}\n            zoomPercentage={zoomPercentage}\n          />\n        )}\n        {showLegend && <WorkflowLegend />}\n      </div>\n    </>\n  );\n}\n\nVisualizerGraph.propTypes = {\n  readOnly: bool.isRequired,\n};\n\nexport default withI18n()(VisualizerGraph);\n","import 'styled-components/macro';\nimport React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Button as PFButton } from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { WorkflowDispatchContext } from '../../../contexts/Workflow';\n\nconst Button = styled(PFButton)`\n  && {\n    background-color: #5cb85c;\n    padding: 5px 8px;\n    --pf-global--FontSize--md: 14px;\n    margin-top: 20px;\n  }\n`;\n\nconst StartPanel = styled.div`\n  background-color: white;\n  border: 1px solid #c7c7c7;\n  padding: 60px 80px;\n  text-align: center;\n`;\n\nconst StartPanelWrapper = styled.div`\n  align-items: center;\n  background-color: #f6f6f6;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n`;\n\nfunction VisualizerStartScreen({ i18n, readOnly }) {\n  const dispatch = useContext(WorkflowDispatchContext);\n  return (\n    <div css=\"flex: 1\">\n      <StartPanelWrapper>\n        <StartPanel>\n          {readOnly ? (\n            <p>\n              {i18n._(t`This workflow does not have any nodes configured.`)}\n            </p>\n          ) : (\n            <>\n              <p>{i18n._(t`Please click the Start button to begin.`)}</p>\n              <Button\n                id=\"visualizer-start\"\n                aria-label={i18n._(t`Start`)}\n                onClick={() =>\n                  dispatch({ type: 'START_ADD_NODE', sourceNodeId: 1 })\n                }\n                variant=\"primary\"\n              >\n                {i18n._(t`Start`)}\n              </Button>\n            </>\n          )}\n        </StartPanel>\n      </StartPanelWrapper>\n    </div>\n  );\n}\n\nexport default withI18n()(VisualizerStartScreen);\n","import 'styled-components/macro';\nimport React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { bool, func, shape } from 'prop-types';\nimport {\n  Badge as PFBadge,\n  Button,\n  Title,\n  Tooltip,\n} from '@patternfly/react-core';\nimport {\n  BookIcon,\n  CompassIcon,\n  RocketIcon,\n  TimesIcon,\n  TrashAltIcon,\n  WrenchIcon,\n} from '@patternfly/react-icons';\nimport styled from 'styled-components';\nimport LaunchButton from '../../../components/LaunchButton';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\n\nconst Badge = styled(PFBadge)`\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  margin-left: 10px;\n`;\n\nconst ActionButton = styled(Button)`\n  padding: 6px 10px;\n  margin: 0px 6px;\n  border: none;\n  &:hover {\n    background-color: #0066cc;\n    color: white;\n  }\n\n  &.pf-m-active {\n    background-color: #0066cc;\n    color: white;\n  }\n`;\nActionButton.displayName = 'ActionButton';\n\nconst DOCLINK =\n  'https://docs.ansible.com/ansible-tower/latest/html/userguide/workflow_templates.html#ug-wf-editor';\n\nfunction VisualizerToolbar({\n  i18n,\n  onClose,\n  onSave,\n  template,\n  hasUnsavedChanges,\n  readOnly,\n}) {\n  const dispatch = useContext(WorkflowDispatchContext);\n\n  const { nodes, showLegend, showTools } = useContext(WorkflowStateContext);\n\n  const totalNodes = nodes.reduce((n, node) => n + !node.isDeleted, 0) - 1;\n\n  return (\n    <div id=\"visualizer-toolbar\">\n      <div css=\"align-items: center; border-bottom: 1px solid grey; display: flex; height: 56px; padding: 0px 20px;\">\n        <Title\n          headingLevel=\"h2\"\n          size=\"xl\"\n          id=\"visualizer-toolbar-template-name\"\n        >\n          {template.name}\n        </Title>\n        <div css=\"align-items: center; display: flex; flex: 1; justify-content: flex-end\">\n          <div>{i18n._(t`Total Nodes`)}</div>\n          <Badge id=\"visualizer-total-nodes-badge\" isRead>\n            {totalNodes}\n          </Badge>\n          <Tooltip content={i18n._(t`Toggle legend`)} position=\"bottom\">\n            <ActionButton\n              aria-label={i18n._(t`Toggle legend`)}\n              id=\"visualizer-toggle-legend\"\n              isActive={totalNodes > 0 && showLegend}\n              isDisabled={totalNodes === 0}\n              onClick={() => dispatch({ type: 'TOGGLE_LEGEND' })}\n              variant=\"plain\"\n            >\n              <CompassIcon />\n            </ActionButton>\n          </Tooltip>\n          <Tooltip content={i18n._(t`Toggle tools`)} position=\"bottom\">\n            <ActionButton\n              aria-label={i18n._(t`Toggle tools`)}\n              id=\"visualizer-toggle-tools\"\n              isActive={totalNodes > 0 && showTools}\n              isDisabled={totalNodes === 0}\n              onClick={() => dispatch({ type: 'TOGGLE_TOOLS' })}\n              variant=\"plain\"\n            >\n              <WrenchIcon />\n            </ActionButton>\n          </Tooltip>\n          <Tooltip\n            content={i18n._(t`Workflow documentation`)}\n            position=\"bottom\"\n          >\n            <ActionButton\n              aria-label={i18n._(t`Workflow documentation`)}\n              id=\"visualizer-documentation\"\n              variant=\"plain\"\n              component=\"a\"\n              target=\"_blank\"\n              href={DOCLINK}\n            >\n              <BookIcon />\n            </ActionButton>\n          </Tooltip>\n          {template.summary_fields?.user_capabilities?.start && (\n            <Tooltip content={i18n._(t`Launch workflow`)} position=\"bottom\">\n              <LaunchButton\n                resource={template}\n                aria-label={i18n._(t`Launch workflow`)}\n              >\n                {({ handleLaunch }) => (\n                  <ActionButton\n                    id=\"visualizer-launch\"\n                    variant=\"plain\"\n                    isDisabled={hasUnsavedChanges || totalNodes === 0}\n                    onClick={handleLaunch}\n                  >\n                    <RocketIcon />\n                  </ActionButton>\n                )}\n              </LaunchButton>\n            </Tooltip>\n          )}\n          {!readOnly && (\n            <>\n              <Tooltip content={i18n._(t`Delete all nodes`)} position=\"bottom\">\n                <ActionButton\n                  id=\"visualizer-delete-all\"\n                  aria-label={i18n._(t`Delete all nodes`)}\n                  isDisabled={totalNodes === 0}\n                  onClick={() =>\n                    dispatch({\n                      type: 'SET_SHOW_DELETE_ALL_NODES_MODAL',\n                      value: true,\n                    })\n                  }\n                  variant=\"plain\"\n                >\n                  <TrashAltIcon />\n                </ActionButton>\n              </Tooltip>\n              <Button\n                id=\"visualizer-save\"\n                css=\"margin: 0 32px\"\n                aria-label={i18n._(t`Save`)}\n                variant=\"primary\"\n                onClick={onSave}\n              >\n                {i18n._(t`Save`)}\n              </Button>\n            </>\n          )}\n          <Button\n            id=\"visualizer-close\"\n            aria-label={i18n._(t`Close`)}\n            onClick={onClose}\n            variant=\"plain\"\n          >\n            <TimesIcon />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nVisualizerToolbar.propTypes = {\n  onClose: func.isRequired,\n  onSave: func.isRequired,\n  template: shape().isRequired,\n  hasUnsavedChanges: bool.isRequired,\n  readOnly: bool.isRequired,\n};\n\nexport default withI18n()(VisualizerToolbar);\n","import React, { useCallback, useEffect, useReducer } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport styled from 'styled-components';\nimport { shape } from 'prop-types';\nimport { t } from '@lingui/macro';\nimport {\n  WorkflowDispatchContext,\n  WorkflowStateContext,\n} from '../../../contexts/Workflow';\nimport { getAddedAndRemoved } from '../../../util/lists';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { layoutGraph } from '../../../components/Workflow/WorkflowUtils';\nimport ContentError from '../../../components/ContentError';\nimport ContentLoading from '../../../components/ContentLoading';\nimport workflowReducer from '../../../components/Workflow/workflowReducer';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { DeleteAllNodesModal, UnsavedChangesModal } from './Modals';\nimport {\n  LinkAddModal,\n  LinkDeleteModal,\n  LinkEditModal,\n} from './Modals/LinkModals';\nimport {\n  NodeAddModal,\n  NodeEditModal,\n  NodeDeleteModal,\n  NodeViewModal,\n} from './Modals/NodeModals';\nimport VisualizerGraph from './VisualizerGraph';\nimport VisualizerStartScreen from './VisualizerStartScreen';\nimport VisualizerToolbar from './VisualizerToolbar';\nimport {\n  WorkflowApprovalTemplatesAPI,\n  WorkflowJobTemplateNodesAPI,\n  WorkflowJobTemplatesAPI,\n} from '../../../api';\n\nconst CenteredContent = styled.div`\n  align-items: center;\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n  justify-content: center;\n`;\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n`;\n\nconst getAggregatedCredentials = (\n  originalNodeOverride = [],\n  templateDefaultCredentials = []\n) => {\n  let theArray = [];\n\n  const isCredentialOverriden = templateDefaultCred => {\n    let credentialHasOverride = false;\n    originalNodeOverride.forEach(overrideCred => {\n      if (\n        templateDefaultCred.credential_type === overrideCred.credential_type\n      ) {\n        if (\n          (!templateDefaultCred.vault_id && !overrideCred.inputs.vault_id) ||\n          (templateDefaultCred.vault_id &&\n            overrideCred.inputs.vault_id &&\n            templateDefaultCred.vault_id === overrideCred.inputs.vault_id)\n        ) {\n          credentialHasOverride = true;\n        }\n      }\n    });\n\n    return credentialHasOverride;\n  };\n\n  if (templateDefaultCredentials.length > 0) {\n    templateDefaultCredentials.forEach(defaultCred => {\n      if (!isCredentialOverriden(defaultCred)) {\n        theArray.push(defaultCred);\n      }\n    });\n  }\n\n  theArray = theArray.concat(originalNodeOverride);\n\n  return theArray;\n};\n\nconst fetchWorkflowNodes = async (\n  templateId,\n  pageNo = 1,\n  workflowNodes = []\n) => {\n  const { data } = await WorkflowJobTemplatesAPI.readNodes(templateId, {\n    page_size: 200,\n    page: pageNo,\n  });\n  if (data.next) {\n    return fetchWorkflowNodes(\n      templateId,\n      pageNo + 1,\n      workflowNodes.concat(data.results)\n    );\n  }\n  return workflowNodes.concat(data.results);\n};\n\nfunction Visualizer({ template, i18n }) {\n  const history = useHistory();\n  const [state, dispatch] = useReducer(workflowReducer, {\n    addLinkSourceNode: null,\n    addLinkTargetNode: null,\n    addNodeSource: null,\n    addNodeTarget: null,\n    addingLink: false,\n    contentError: null,\n    isLoading: true,\n    linkToDelete: null,\n    linkToEdit: null,\n    links: [],\n    nextNodeId: 0,\n    nodePositions: null,\n    nodeToDelete: null,\n    nodeToEdit: null,\n    nodeToView: null,\n    nodes: [],\n    showDeleteAllNodesModal: false,\n    showLegend: false,\n    showTools: false,\n    showUnsavedChangesModal: false,\n    unsavedChanges: false,\n  });\n\n  const {\n    addLinkSourceNode,\n    addLinkTargetNode,\n    addNodeSource,\n    contentError,\n    isLoading,\n    linkToDelete,\n    linkToEdit,\n    links,\n    nodeToDelete,\n    nodeToEdit,\n    nodeToView,\n    nodes,\n    showDeleteAllNodesModal,\n    showUnsavedChangesModal,\n    unsavedChanges,\n  } = state;\n\n  const handleVisualizerClose = () => {\n    if (unsavedChanges) {\n      dispatch({ type: 'TOGGLE_UNSAVED_CHANGES_MODAL' });\n    } else {\n      history.push(`/templates/workflow_job_template/${template.id}/details`);\n    }\n  };\n\n  const associateNodes = (newLinks, originalLinkMap) => {\n    const associateNodeRequests = [];\n    newLinks.forEach(link => {\n      switch (link.linkType) {\n        case 'success':\n          associateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.associateSuccessNode(\n              originalLinkMap[link.source.id].id,\n              originalLinkMap[link.target.id].id\n            )\n          );\n          break;\n        case 'failure':\n          associateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.associateFailureNode(\n              originalLinkMap[link.source.id].id,\n              originalLinkMap[link.target.id].id\n            )\n          );\n          break;\n        case 'always':\n          associateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.associateAlwaysNode(\n              originalLinkMap[link.source.id].id,\n              originalLinkMap[link.target.id].id\n            )\n          );\n          break;\n        default:\n      }\n    });\n\n    return associateNodeRequests;\n  };\n\n  const disassociateNodes = (originalLinkMap, deletedNodeIds, linkMap) => {\n    const disassociateNodeRequests = [];\n    Object.keys(originalLinkMap).forEach(key => {\n      const node = originalLinkMap[key];\n      node.success_nodes.forEach(successNodeId => {\n        if (\n          !deletedNodeIds.includes(successNodeId) &&\n          (!linkMap[node.id] ||\n            !linkMap[node.id][successNodeId] ||\n            linkMap[node.id][successNodeId] !== 'success')\n        ) {\n          disassociateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.disassociateSuccessNode(\n              node.id,\n              successNodeId\n            )\n          );\n        }\n      });\n      node.failure_nodes.forEach(failureNodeId => {\n        if (\n          !deletedNodeIds.includes(failureNodeId) &&\n          (!linkMap[node.id] ||\n            !linkMap[node.id][failureNodeId] ||\n            linkMap[node.id][failureNodeId] !== 'failure')\n        ) {\n          disassociateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.disassociateFailuresNode(\n              node.id,\n              failureNodeId\n            )\n          );\n        }\n      });\n      node.always_nodes.forEach(alwaysNodeId => {\n        if (\n          !deletedNodeIds.includes(alwaysNodeId) &&\n          (!linkMap[node.id] ||\n            !linkMap[node.id][alwaysNodeId] ||\n            linkMap[node.id][alwaysNodeId] !== 'always')\n        ) {\n          disassociateNodeRequests.push(\n            WorkflowJobTemplateNodesAPI.disassociateAlwaysNode(\n              node.id,\n              alwaysNodeId\n            )\n          );\n        }\n      });\n    });\n\n    return disassociateNodeRequests;\n  };\n\n  useEffect(() => {\n    async function fetchData() {\n      try {\n        const workflowNodes = await fetchWorkflowNodes(template.id);\n        dispatch({\n          type: 'GENERATE_NODES_AND_LINKS',\n          nodes: workflowNodes,\n          i18n,\n        });\n      } catch (error) {\n        dispatch({ type: 'SET_CONTENT_ERROR', value: error });\n      } finally {\n        dispatch({ type: 'SET_IS_LOADING', value: false });\n      }\n    }\n    fetchData();\n  }, [template.id, i18n]);\n\n  // Update positions of nodes/links\n  useEffect(() => {\n    if (nodes) {\n      const newNodePositions = {};\n      const nonDeletedNodes = nodes.filter(node => !node.isDeleted);\n      const g = layoutGraph(nonDeletedNodes, links);\n\n      g.nodes().forEach(node => {\n        newNodePositions[node] = g.node(node);\n      });\n\n      dispatch({ type: 'SET_NODE_POSITIONS', value: newNodePositions });\n    }\n  }, [links, nodes]);\n\n  const { error: saveVisualizerError, request: saveVisualizer } = useRequest(\n    useCallback(async () => {\n      const nodeRequests = [];\n      const approvalTemplateRequests = [];\n      const originalLinkMap = {};\n      const deletedNodeIds = [];\n      const associateCredentialRequests = [];\n      const disassociateCredentialRequests = [];\n\n      const generateLinkMapAndNewLinks = () => {\n        const linkMap = {};\n        const newLinks = [];\n\n        links.forEach(link => {\n          if (link.source.id !== 1) {\n            const realLinkSourceId = originalLinkMap[link.source.id].id;\n            const realLinkTargetId = originalLinkMap[link.target.id].id;\n            if (!linkMap[realLinkSourceId]) {\n              linkMap[realLinkSourceId] = {};\n            }\n            linkMap[realLinkSourceId][realLinkTargetId] = link.linkType;\n            switch (link.linkType) {\n              case 'success':\n                if (\n                  !originalLinkMap[link.source.id].success_nodes.includes(\n                    originalLinkMap[link.target.id].id\n                  )\n                ) {\n                  newLinks.push(link);\n                }\n                break;\n              case 'failure':\n                if (\n                  !originalLinkMap[link.source.id].failure_nodes.includes(\n                    originalLinkMap[link.target.id].id\n                  )\n                ) {\n                  newLinks.push(link);\n                }\n                break;\n              case 'always':\n                if (\n                  !originalLinkMap[link.source.id].always_nodes.includes(\n                    originalLinkMap[link.target.id].id\n                  )\n                ) {\n                  newLinks.push(link);\n                }\n                break;\n              default:\n            }\n          }\n        });\n\n        return [linkMap, newLinks];\n      };\n\n      nodes.forEach(node => {\n        // node with id=1 is the artificial start node\n        if (node.id === 1) {\n          return;\n        }\n        if (node.originalNodeObject && !node.isDeleted) {\n          const {\n            id,\n            success_nodes,\n            failure_nodes,\n            always_nodes,\n          } = node.originalNodeObject;\n          originalLinkMap[node.id] = {\n            id,\n            success_nodes,\n            failure_nodes,\n            always_nodes,\n          };\n        }\n        if (node.isDeleted && node.originalNodeObject) {\n          deletedNodeIds.push(node.originalNodeObject.id);\n          nodeRequests.push(\n            WorkflowJobTemplateNodesAPI.destroy(node.originalNodeObject.id)\n          );\n        } else if (!node.isDeleted && !node.originalNodeObject) {\n          if (\n            node.fullUnifiedJobTemplate.type === 'workflow_approval_template'\n          ) {\n            nodeRequests.push(\n              WorkflowJobTemplatesAPI.createNode(template.id, {}).then(\n                ({ data }) => {\n                  node.originalNodeObject = data;\n                  originalLinkMap[node.id] = {\n                    id: data.id,\n                    success_nodes: [],\n                    failure_nodes: [],\n                    always_nodes: [],\n                  };\n                  approvalTemplateRequests.push(\n                    WorkflowJobTemplateNodesAPI.createApprovalTemplate(\n                      data.id,\n                      {\n                        name: node.fullUnifiedJobTemplate.name,\n                        description: node.fullUnifiedJobTemplate.description,\n                        timeout: node.fullUnifiedJobTemplate.timeout,\n                      }\n                    )\n                  );\n                }\n              )\n            );\n          } else {\n            nodeRequests.push(\n              WorkflowJobTemplatesAPI.createNode(template.id, {\n                ...node.promptValues,\n                inventory: node.promptValues?.inventory?.id || null,\n                unified_job_template: node.fullUnifiedJobTemplate.id,\n              }).then(({ data }) => {\n                node.originalNodeObject = data;\n                originalLinkMap[node.id] = {\n                  id: data.id,\n                  success_nodes: [],\n                  failure_nodes: [],\n                  always_nodes: [],\n                };\n                if (node.promptValues?.removedCredentials?.length > 0) {\n                  node.promptValues.removedCredentials.forEach(cred => {\n                    disassociateCredentialRequests.push(\n                      WorkflowJobTemplateNodesAPI.disassociateCredentials(\n                        data.id,\n                        cred.id\n                      )\n                    );\n                  });\n                }\n                if (node.promptValues?.addedCredentials?.length > 0) {\n                  node.promptValues.addedCredentials.forEach(cred => {\n                    associateCredentialRequests.push(\n                      WorkflowJobTemplateNodesAPI.associateCredentials(\n                        data.id,\n                        cred.id\n                      )\n                    );\n                  });\n                }\n              })\n            );\n          }\n        } else if (node.isEdited) {\n          if (\n            node.fullUnifiedJobTemplate.type === 'workflow_approval_template'\n          ) {\n            if (\n              node.originalNodeObject.summary_fields.unified_job_template\n                .unified_job_type === 'workflow_approval'\n            ) {\n              approvalTemplateRequests.push(\n                WorkflowApprovalTemplatesAPI.update(\n                  node.originalNodeObject.summary_fields.unified_job_template\n                    .id,\n                  {\n                    name: node.fullUnifiedJobTemplate.name,\n                    description: node.fullUnifiedJobTemplate.description,\n                    timeout: node.fullUnifiedJobTemplate.timeout,\n                  }\n                )\n              );\n            } else {\n              approvalTemplateRequests.push(\n                WorkflowJobTemplateNodesAPI.createApprovalTemplate(\n                  node.originalNodeObject.id,\n                  {\n                    name: node.fullUnifiedJobTemplate.name,\n                    description: node.fullUnifiedJobTemplate.description,\n                    timeout: node.fullUnifiedJobTemplate.timeout,\n                  }\n                )\n              );\n            }\n          } else {\n            nodeRequests.push(\n              WorkflowJobTemplateNodesAPI.replace(node.originalNodeObject.id, {\n                ...node.promptValues,\n                inventory: node.promptValues?.inventory?.id || null,\n                unified_job_template: node.fullUnifiedJobTemplate.id,\n              }).then(() => {\n                const {\n                  added: addedCredentials,\n                  removed: removedCredentials,\n                } = getAddedAndRemoved(\n                  getAggregatedCredentials(\n                    node?.originalNodeCredentials,\n                    node.launchConfig?.defaults?.credentials\n                  ),\n                  node.promptValues?.credentials\n                );\n\n                if (addedCredentials.length > 0) {\n                  addedCredentials.forEach(cred => {\n                    associateCredentialRequests.push(\n                      WorkflowJobTemplateNodesAPI.associateCredentials(\n                        node.originalNodeObject.id,\n                        cred.id\n                      )\n                    );\n                  });\n                }\n                if (removedCredentials?.length > 0) {\n                  removedCredentials.forEach(cred =>\n                    disassociateCredentialRequests.push(\n                      WorkflowJobTemplateNodesAPI.disassociateCredentials(\n                        node.originalNodeObject.id,\n                        cred.id\n                      )\n                    )\n                  );\n                }\n              })\n            );\n          }\n        }\n      });\n\n      await Promise.all(nodeRequests);\n      // Creating approval templates needs to happen after the node has been created\n      // since we reference the node in the approval template request.\n      await Promise.all(approvalTemplateRequests);\n      const [linkMap, newLinks] = generateLinkMapAndNewLinks(originalLinkMap);\n      await Promise.all(\n        disassociateNodes(originalLinkMap, deletedNodeIds, linkMap)\n      );\n      await Promise.all(associateNodes(newLinks, originalLinkMap));\n\n      await Promise.all(disassociateCredentialRequests);\n      await Promise.all(associateCredentialRequests);\n\n      history.push(`/templates/workflow_job_template/${template.id}/details`);\n    }, [links, nodes, history, template.id]),\n    {}\n  );\n\n  const {\n    error: nodeRequestError,\n    dismissError: dismissNodeRequestError,\n  } = useDismissableError(saveVisualizerError);\n\n  if (isLoading) {\n    return (\n      <CenteredContent>\n        <ContentLoading />\n      </CenteredContent>\n    );\n  }\n\n  if (contentError) {\n    return (\n      <CenteredContent>\n        <ContentError error={contentError} />\n      </CenteredContent>\n    );\n  }\n\n  const readOnly = !template?.summary_fields?.user_capabilities?.edit;\n\n  return (\n    <WorkflowStateContext.Provider value={state}>\n      <WorkflowDispatchContext.Provider value={dispatch}>\n        <Wrapper>\n          <VisualizerToolbar\n            onClose={handleVisualizerClose}\n            onSave={() => saveVisualizer(nodes)}\n            hasUnsavedChanges={unsavedChanges}\n            template={template}\n            readOnly={readOnly}\n          />\n          {links.length > 0 ? (\n            <VisualizerGraph readOnly={readOnly} />\n          ) : (\n            <VisualizerStartScreen readOnly={readOnly} />\n          )}\n        </Wrapper>\n        {nodeToDelete && <NodeDeleteModal />}\n        {linkToDelete && <LinkDeleteModal />}\n        {linkToEdit && <LinkEditModal />}\n        {addLinkSourceNode && addLinkTargetNode && <LinkAddModal />}\n        {addNodeSource && <NodeAddModal />}\n        {nodeToEdit && <NodeEditModal />}\n        {showUnsavedChangesModal && (\n          <UnsavedChangesModal\n            onExit={() =>\n              history.push(\n                `/templates/workflow_job_template/${template.id}/details`\n              )\n            }\n            onSaveAndExit={() => saveVisualizer(nodes)}\n          />\n        )}\n        {showDeleteAllNodesModal && <DeleteAllNodesModal />}\n        {nodeToView && <NodeViewModal readOnly={readOnly} />}\n        {nodeRequestError && (\n          <AlertModal\n            isOpen\n            variant=\"error\"\n            title={i18n._(t`Error!`)}\n            onClose={dismissNodeRequestError}\n          >\n            {i18n._(t`There was an error saving the workflow.`)}\n            <ErrorDetail error={nodeRequestError} />\n          </AlertModal>\n        )}\n      </WorkflowDispatchContext.Provider>\n    </WorkflowStateContext.Provider>\n  );\n}\n\nVisualizer.propTypes = {\n  template: shape().isRequired,\n};\n\nexport default withI18n()(Visualizer);\n","import React, { useEffect, useCallback } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useLocation,\n  useParams,\n  useRouteMatch,\n} from 'react-router-dom';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport { useConfig } from '../../contexts/Config';\nimport useRequest from '../../util/useRequest';\nimport AppendBody from '../../components/AppendBody';\nimport ContentError from '../../components/ContentError';\nimport FullPage from '../../components/FullPage';\nimport JobList from '../../components/JobList';\nimport NotificationList from '../../components/NotificationList';\nimport { Schedules } from '../../components/Schedule';\nimport { ResourceAccessList } from '../../components/ResourceAccessList';\nimport WorkflowJobTemplateDetail from './WorkflowJobTemplateDetail';\nimport WorkflowJobTemplateEdit from './WorkflowJobTemplateEdit';\nimport { WorkflowJobTemplatesAPI, OrganizationsAPI } from '../../api';\nimport TemplateSurvey from './TemplateSurvey';\nimport { Visualizer } from './WorkflowJobTemplateVisualizer';\nimport ContentLoading from '../../components/ContentLoading';\n\nfunction WorkflowJobTemplate({ i18n, setBreadcrumb }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n  const { id: templateId } = useParams();\n  const { me = {} } = useConfig();\n\n  const {\n    result: { isNotifAdmin, template },\n    isLoading: hasRolesandTemplateLoading,\n    error: rolesAndTemplateError,\n    request: loadTemplateAndRoles,\n  } = useRequest(\n    useCallback(async () => {\n      const [{ data }, actions, notifAdminRes] = await Promise.all([\n        WorkflowJobTemplatesAPI.readDetail(templateId),\n        WorkflowJobTemplatesAPI.readWorkflowJobTemplateOptions(templateId),\n        OrganizationsAPI.read({\n          page_size: 1,\n          role_level: 'notification_admin_role',\n        }),\n      ]);\n\n      if (actions.data.actions.PUT) {\n        if (data.webhook_service && data?.related?.webhook_key) {\n          const {\n            data: { webhook_key },\n          } = await WorkflowJobTemplatesAPI.readWebhookKey(templateId);\n\n          data.webhook_key = webhook_key;\n        }\n      }\n      setBreadcrumb(data);\n\n      return {\n        template: data,\n        isNotifAdmin: notifAdminRes.data.results.length > 0,\n      };\n    }, [setBreadcrumb, templateId]),\n    { isNotifAdmin: false, template: null }\n  );\n  useEffect(() => {\n    loadTemplateAndRoles();\n  }, [loadTemplateAndRoles, location.pathname]);\n\n  const createSchedule = data => {\n    return WorkflowJobTemplatesAPI.createSchedule(templateId, data);\n  };\n\n  const loadScheduleOptions = useCallback(() => {\n    return WorkflowJobTemplatesAPI.readScheduleOptions(templateId);\n  }, [templateId]);\n\n  const loadSchedules = useCallback(\n    params => {\n      return WorkflowJobTemplatesAPI.readSchedules(templateId, params);\n    },\n    [templateId]\n  );\n\n  const canSeeNotificationsTab = me.is_system_auditor || isNotifAdmin;\n  const canAddAndEditSurvey =\n    template?.summary_fields?.user_capabilities.edit ||\n    template?.summary_fields?.user_capabilities.delete;\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Templates`)}\n        </>\n      ),\n      link: `/templates`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details` },\n    { name: i18n._(t`Access`), link: `${match.url}/access` },\n  ];\n\n  if (canSeeNotificationsTab) {\n    tabsArray.push({\n      name: i18n._(t`Notifications`),\n      link: `${match.url}/notifications`,\n    });\n  }\n\n  if (template) {\n    tabsArray.push({\n      name: i18n._(t`计划`),\n      link: `${match.url}/schedules`,\n    });\n  }\n\n  tabsArray.push(\n    {\n      name: i18n._(t`可视化`),\n      link: `${match.url}/visualizer`,\n    },\n    {\n      name: i18n._(t`Completed Jobs`),\n      link: `${match.url}/completed_jobs`,\n    },\n    {\n      name: canAddAndEditSurvey ? i18n._(t`Survey`) : i18n._(t`View Survey`),\n      link: `${match.url}/survey`,\n    }\n  );\n\n  tabsArray.forEach((tab, n) => {\n    tab.id = n;\n  });\n\n  let showCardHeader = true;\n\n  if (\n    location.pathname.endsWith('edit') ||\n    location.pathname.includes('schedules/')\n  ) {\n    showCardHeader = false;\n  }\n\n  const contentError = rolesAndTemplateError;\n\n  if (hasRolesandTemplateLoading) {\n    return <ContentLoading />;\n  }\n  if (!hasRolesandTemplateLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response.status === 404 && (\n              <span>\n                {i18n._(t`Template not found.`)}{' '}\n                <Link to=\"/templates\">{i18n._(t`View all Templates.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect\n            from=\"/templates/:templateType/:id\"\n            to=\"/templates/:templateType/:id/details\"\n            exact\n          />\n          {template && (\n            <Route key=\"details\" path=\"/templates/:templateType/:id/details\">\n              <WorkflowJobTemplateDetail template={template} />\n            </Route>\n          )}\n          {template && (\n            <Route key=\"edit\" path=\"/templates/:templateType/:id/edit\">\n              <WorkflowJobTemplateEdit template={template} />\n            </Route>\n          )}\n          {template && (\n            <Route key=\"access\" path=\"/templates/:templateType/:id/access\">\n              <ResourceAccessList\n                resource={template}\n                apiModel={WorkflowJobTemplatesAPI}\n              />\n            </Route>\n          )}\n          {template && (\n            <Route\n              key=\"schedules\"\n              path=\"/templates/:templateType/:id/schedules\"\n            >\n              <Schedules\n                createSchedule={createSchedule}\n                setBreadcrumb={setBreadcrumb}\n                unifiedJobTemplate={template}\n                loadSchedules={loadSchedules}\n                loadScheduleOptions={loadScheduleOptions}\n              />\n            </Route>\n          )}\n          {canSeeNotificationsTab && (\n            <Route path=\"/templates/:templateType/:id/notifications\">\n              <NotificationList\n                id={Number(templateId)}\n                canToggleNotifications={isNotifAdmin}\n                apiModel={WorkflowJobTemplatesAPI}\n                showApprovalsToggle\n              />\n            </Route>\n          )}\n          {template && (\n            <Route\n              key=\"wfjt-visualizer\"\n              path=\"/templates/workflow_job_template/:id/visualizer\"\n            >\n              <AppendBody>\n                <FullPage>\n                  <Visualizer template={template} />\n                </FullPage>\n              </AppendBody>\n            </Route>\n          )}\n          {template?.id && (\n            <Route path=\"/templates/:templateType/:id/completed_jobs\">\n              <JobList\n                defaultParams={{\n                  workflow_job__workflow_job_template: template.id,\n                }}\n              />\n            </Route>\n          )}\n          {template && (\n            <Route path=\"/templates/:templateType/:id/survey\">\n              <TemplateSurvey\n                template={template}\n                canEdit={canAddAndEditSurvey}\n              />\n            </Route>\n          )}\n          {!hasRolesandTemplateLoading && (\n            <Route key=\"not-found\" path=\"*\">\n              <ContentError isNotFound>\n                {match.params.id && (\n                  <Link\n                    to={`/templates/${match.params.templateType}/${match.params.id}/details`}\n                  >\n                    {i18n._(t`View Template Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            </Route>\n          )}\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport { WorkflowJobTemplate as _WorkflowJobTemplate };\nexport default withI18n()(WorkflowJobTemplate);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport JobTemplateForm from '../shared/JobTemplateForm';\nimport { JobTemplatesAPI, OrganizationsAPI } from '../../../api';\n\nfunction JobTemplateAdd() {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n\n  async function handleSubmit(values) {\n    const {\n      labels,\n      instanceGroups,\n      initialInstanceGroups,\n      credentials,\n      webhook_credential,\n      webhook_key,\n      webhook_url,\n      ...remainingValues\n    } = values;\n\n    setFormSubmitError(null);\n    remainingValues.project = remainingValues.project.id;\n    remainingValues.webhook_credential = webhook_credential?.id;\n    try {\n      const {\n        data: { id, type },\n      } = await JobTemplatesAPI.create(remainingValues);\n      await Promise.all([\n        submitLabels(id, labels, values.project.summary_fields.organization.id),\n        submitInstanceGroups(id, instanceGroups),\n        submitCredentials(id, credentials),\n      ]);\n      history.push(`/templates/${type}/${id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  }\n\n  async function submitLabels(templateId, labels = [], orgId) {\n    if (!orgId) {\n      try {\n        const {\n          data: { results },\n        } = await OrganizationsAPI.read();\n        orgId = results[0].id;\n      } catch (err) {\n        throw err;\n      }\n    }\n    const associationPromises = labels.map(label =>\n      JobTemplatesAPI.associateLabel(templateId, label, orgId)\n    );\n\n    return Promise.all([...associationPromises]);\n  }\n\n  function submitInstanceGroups(templateId, addedGroups = []) {\n    const associatePromises = addedGroups.map(group =>\n      JobTemplatesAPI.associateInstanceGroup(templateId, group.id)\n    );\n    return Promise.all(associatePromises);\n  }\n\n  function submitCredentials(templateId, credentials = []) {\n    const associateCredentials = credentials.map(cred =>\n      JobTemplatesAPI.associateCredentials(templateId, cred.id)\n    );\n    return Promise.all(associateCredentials);\n  }\n\n  function handleCancel() {\n    history.push(`/templates`);\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <JobTemplateForm\n            handleCancel={handleCancel}\n            handleSubmit={handleSubmit}\n            submitError={formSubmitError}\n            isOverrideDisabledLookup\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default JobTemplateAdd;\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\n\nimport { WorkflowJobTemplatesAPI, OrganizationsAPI } from '../../../api';\nimport WorkflowJobTemplateForm from '../shared/WorkflowJobTemplateForm';\n\nfunction WorkflowJobTemplateAdd() {\n  const history = useHistory();\n  const [formSubmitError, setFormSubmitError] = useState(null);\n\n  const handleSubmit = async values => {\n    const {\n      labels,\n      inventory,\n      organization,\n      webhook_credential,\n      webhook_key,\n      ...templatePayload\n    } = values;\n    templatePayload.inventory = inventory?.id;\n    templatePayload.organization = organization?.id;\n    templatePayload.webhook_credential = webhook_credential?.id;\n    const organizationId =\n      organization?.id || inventory?.summary_fields?.organization.id;\n    try {\n      const {\n        data: { id },\n      } = await WorkflowJobTemplatesAPI.create(templatePayload);\n      await Promise.all(await submitLabels(id, labels, organizationId));\n      history.push(`/templates/workflow_job_template/${id}/visualizer`);\n    } catch (err) {\n      setFormSubmitError(err);\n    }\n  };\n\n  const submitLabels = async (templateId, labels = [], organizationId) => {\n    if (!organizationId) {\n      try {\n        const {\n          data: { results },\n        } = await OrganizationsAPI.read();\n        organizationId = results[0].id;\n      } catch (err) {\n        throw err;\n      }\n    }\n    const associatePromises = labels.map(label =>\n      WorkflowJobTemplatesAPI.associateLabel(templateId, label, organizationId)\n    );\n    return [...associatePromises];\n  };\n\n  const handleCancel = () => {\n    history.push(`/templates`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <WorkflowJobTemplateForm\n            handleCancel={handleCancel}\n            handleSubmit={handleSubmit}\n            submitError={formSubmitError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default WorkflowJobTemplateAdd;\n","import React, { useState, useCallback, useRef } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { PageSection } from '@patternfly/react-core';\n\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\nimport { TemplateList } from './TemplateList';\nimport Template from './Template';\nimport WorkflowJobTemplate from './WorkflowJobTemplate';\nimport JobTemplateAdd from './JobTemplateAdd';\nimport WorkflowJobTemplateAdd from './WorkflowJobTemplateAdd';\n\nfunction Templates({ i18n }) {\n  const initScreenHeader = useRef({\n    '/templates': i18n._(t`Templates`),\n    '/templates/job_template/add': i18n._(t`Create New Job Template`),\n    '/templates/workflow_job_template/add': i18n._(\n      t`Create New Workflow Template`\n    ),\n  });\n  const [breadcrumbConfig, setScreenHeader] = useState(\n    initScreenHeader.current\n  );\n\n  const [schedule, setSchedule] = useState();\n  const [template, setTemplate] = useState();\n\n  const setBreadcrumbConfig = useCallback(\n    (passedTemplate, passedSchedule) => {\n      if (passedTemplate && passedTemplate.name !== template?.name) {\n        setTemplate(passedTemplate);\n      }\n      if (passedSchedule && passedSchedule.name !== schedule?.name) {\n        setSchedule(passedSchedule);\n      }\n      if (!template) return;\n      const templatePath = `/templates/${template.type}/${template.id}`;\n      const schedulesPath = `${templatePath}/schedules`;\n      const surveyPath = `${templatePath}/survey`;\n      setScreenHeader({\n        ...initScreenHeader.current,\n        [templatePath]: `${template.name}`,\n        [`${templatePath}/details`]: i18n._(t`Details`),\n        [`${templatePath}/edit`]: i18n._(t`Edit Details`),\n        [`${templatePath}/access`]: i18n._(t`Access`),\n        [`${templatePath}/notifications`]: i18n._(t`Notifications`),\n        [`${templatePath}/completed_jobs`]: i18n._(t`Completed Jobs`),\n        [surveyPath]: i18n._(t`Survey`),\n        [`${surveyPath}/add`]: i18n._(t`Add Question`),\n        [`${surveyPath}/edit`]: i18n._(t`Edit Question`),\n        [schedulesPath]: i18n._(t`计划`),\n        [`${schedulesPath}/add`]: i18n._(t`Create New Schedule`),\n        [`${schedulesPath}/${schedule?.id}`]: `${schedule?.name}`,\n        [`${schedulesPath}/${schedule?.id}/details`]: i18n._(\n          t`Schedule Details`\n        ),\n        [`${schedulesPath}/${schedule?.id}/edit`]: i18n._(t`Edit Schedule`),\n      });\n    },\n    [i18n, template, schedule]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"job_template,workflow_job_template,workflow_job_template_node\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path=\"/templates/job_template/add\">\n          <JobTemplateAdd />\n        </Route>\n        <Route path=\"/templates/workflow_job_template/add\">\n          <WorkflowJobTemplateAdd />\n        </Route>\n        <Route path=\"/templates/job_template/:id\">\n          <Template setBreadcrumb={setBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/templates/workflow_job_template/:id\">\n          <WorkflowJobTemplate setBreadcrumb={setBreadcrumbConfig} />\n        </Route>\n        <Route path=\"/templates\">\n          <PageSection>\n            <TemplateList />\n          </PageSection>\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport { Templates as _Templates };\nexport default withI18n()(withRouter(Templates));\n","import 'styled-components/macro';\nimport React, { Fragment } from 'react';\nimport { string, bool, func } from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  DataListAction,\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Label,\n  Tooltip,\n} from '@patternfly/react-core';\n\nimport { Link } from 'react-router-dom';\nimport { PencilAltIcon } from '@patternfly/react-icons';\nimport DataListCell from '../../../components/DataListCell';\n\nimport { User } from '../../../types';\n\nfunction UserListItem({ user, isSelected, onSelect, detailUrl, i18n }) {\n  const labelId = `check-action-${user.id}`;\n\n  let user_type;\n  if (user.is_superuser) {\n    user_type = i18n._(t`System Administrator`);\n  } else if (user.is_system_auditor) {\n    user_type = i18n._(t`System Auditor`);\n  } else {\n    user_type = i18n._(t`Normal User`);\n  }\n\n  const ldapUser = user.ldap_dn;\n  const socialAuthUser = user.auth.length > 0;\n\n  return (\n    <DataListItem key={user.id} aria-labelledby={labelId} id={`${user.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-user-${user.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"username\" aria-label={i18n._(t`username`)}>\n              <span id={labelId}>\n                <Link to={`${detailUrl}`} id={labelId}>\n                  <b>{user.username}</b>\n                </Link>\n              </span>\n              {ldapUser && (\n                <span css=\"margin-left: 12px\">\n                  <Label aria-label={i18n._(t`ldap user`)}>\n                    {i18n._(t`LDAP`)}\n                  </Label>\n                </span>\n              )}\n              {socialAuthUser && (\n                <span css=\"margin-left: 12px\">\n                  <Label aria-label={i18n._(t`social login`)}>\n                    {i18n._(t`SOCIAL`)}\n                  </Label>\n                </span>\n              )}\n            </DataListCell>,\n            <DataListCell\n              key=\"first-name\"\n              aria-label={i18n._(t`user first name`)}\n            >\n              {user.first_name && (\n                <Fragment>\n                  <b css=\"margin-right: 24px\">{i18n._(t`First Name`)}</b>\n                  {user.first_name}\n                </Fragment>\n              )}\n            </DataListCell>,\n            <DataListCell\n              key=\"last-name\"\n              aria-label={i18n._(t`user last name`)}\n            >\n              {user.last_name && (\n                <Fragment>\n                  <b css=\"margin-right: 24px\">{i18n._(t`Last Name`)}</b>\n                  {user.last_name}\n                </Fragment>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"user-type\" aria-label={i18n._(t`user type`)}>\n              {user_type}\n            </DataListCell>,\n          ]}\n        />\n        <DataListAction\n          aria-label=\"actions\"\n          aria-labelledby={labelId}\n          id={labelId}\n        >\n          {user.summary_fields.user_capabilities.edit && (\n            <Tooltip content={i18n._(t`编辑用户`)} position=\"top\">\n              <Button\n                aria-label={i18n._(t`编辑用户`)}\n                variant=\"plain\"\n                component={Link}\n                to={`/users/${user.id}/edit`}\n              >\n                <PencilAltIcon />\n              </Button>\n            </Tooltip>\n          )}\n        </DataListAction>\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nUserListItem.prototype = {\n  user: User.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(UserListItem);\n","import React, { useEffect, useCallback } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { UsersAPI } from '../../../api';\nimport AlertModal from '../../../components/AlertModal';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport UserListItem from './UserListItem';\n\nconst QS_CONFIG = getQSConfig('user', {\n  page: 1,\n  page_size: 20,\n  order_by: 'username',\n});\n\nfunction UserList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const {\n    result: {\n      users,\n      itemCount,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchUsers,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        UsersAPI.read(params),\n        UsersAPI.readOptions(),\n      ]);\n      return {\n        users: response.data.results,\n        itemCount: response.data.count,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      users: [],\n      itemCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchUsers();\n  }, [fetchUsers]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    users\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteUsers,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.map(user => UsersAPI.destroy(user.id)));\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchUsers,\n    }\n  );\n\n  const handleUserDelete = async () => {\n    await deleteUsers();\n    setSelected([]);\n  };\n\n  const hasContentLoading = isDeleteLoading || isLoading;\n  const canAdd = actions && actions.POST;\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={hasContentLoading}\n            items={users}\n            itemCount={itemCount}\n            pluralizedItemName={i18n._(t`用户`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`Username`),\n                key: 'username__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`First Name`),\n                key: 'first_name__icontains',\n              },\n              {\n                name: i18n._(t`Last Name`),\n                key: 'last_name__icontains',\n              },\n            ]}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`Username`),\n                key: 'username',\n              },\n              {\n                name: i18n._(t`First Name`),\n                key: 'first_name',\n              },\n              {\n                name: i18n._(t`Last Name`),\n                key: 'last_name',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={isSelected =>\n                  setSelected(isSelected ? [...users] : [])\n                }\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  ...(canAdd\n                    ? [\n                        <ToolbarAddButton\n                          key=\"add\"\n                          linkTo={`${match.url}/add`}\n                        />,\n                      ]\n                    : []),\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleUserDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName=\"Users\"\n                  />,\n                ]}\n              />\n            )}\n            renderItem={o => (\n              <UserListItem\n                key={o.id}\n                user={o}\n                detailUrl={`${match.url}/${o.id}/details`}\n                isSelected={selected.some(row => row.id === o.id)}\n                onSelect={() => handleSelect(o)}\n              />\n            )}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton key=\"add\" linkTo={`${match.url}/add`} />\n              ) : null\n            }\n          />\n        </Card>\n      </PageSection>\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more users.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(UserList);\n","import React, { useCallback, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField, useFormikContext } from 'formik';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, {\n  PasswordField,\n  FormSubmitError,\n} from '../../../components/FormField';\nimport OrganizationLookup from '../../../components/Lookup/OrganizationLookup';\nimport { required, requiredEmail } from '../../../util/validators';\nimport { FormColumnLayout } from '../../../components/FormLayout';\n\nfunction UserFormFields({ user, i18n }) {\n  const [organization, setOrganization] = useState(null);\n  const { setFieldValue } = useFormikContext();\n\n  const ldapUser = user.ldap_dn;\n  const socialAuthUser = user.auth?.length > 0;\n  const externalAccount = user.external_account;\n\n  const userTypeOptions = [\n    {\n      value: 'normal',\n      key: 'normal',\n      label: i18n._(t`Normal User`),\n      isDisabled: false,\n    },\n    {\n      value: 'auditor',\n      key: 'auditor',\n      label: i18n._(t`System Auditor`),\n      isDisabled: false,\n    },\n    {\n      value: 'administrator',\n      key: 'administrator',\n      label: i18n._(t`System Administrator`),\n      isDisabled: false,\n    },\n  ];\n\n  const [, organizationMeta, organizationHelpers] = useField({\n    name: 'organization',\n    validate: !user.id\n      ? required(i18n._(t`Select a value for this field`), i18n)\n      : () => undefined,\n  });\n\n  const [userTypeField, userTypeMeta] = useField('user_type');\n\n  const onOrganizationChange = useCallback(\n    value => {\n      setFieldValue('organization', value.id);\n      setOrganization(value);\n    },\n    [setFieldValue]\n  );\n\n  return (\n    <>\n      <FormField\n        id=\"user-username\"\n        label={i18n._(t`Username`)}\n        name=\"username\"\n        type=\"text\"\n        validate={\n          !ldapUser && !externalAccount ? required(null, i18n) : () => undefined\n        }\n        isRequired={!ldapUser && !externalAccount}\n      />\n      <FormField\n        id=\"user-email\"\n        label={i18n._(t`Email`)}\n        name=\"email\"\n        validate={requiredEmail(i18n)}\n        isRequired\n      />\n      {!ldapUser && !(socialAuthUser && externalAccount) && (\n        <>\n          <PasswordField\n            id=\"user-password\"\n            label={i18n._(t`Password`)}\n            name=\"password\"\n            validate={\n              !user.id\n                ? required(i18n._(t`This field must not be blank`), i18n)\n                : () => undefined\n            }\n            isRequired={!user.id}\n          />\n          <PasswordField\n            id=\"user-confirm-password\"\n            label={i18n._(t`Confirm Password`)}\n            name=\"confirm_password\"\n            validate={\n              !user.id\n                ? required(i18n._(t`This field must not be blank`), i18n)\n                : () => undefined\n            }\n            isRequired={!user.id}\n          />\n        </>\n      )}\n      <FormField\n        id=\"user-first-name\"\n        label={i18n._(t`First Name`)}\n        name=\"first_name\"\n        type=\"text\"\n      />\n      <FormField\n        id=\"user-last-name\"\n        label={i18n._(t`Last Name`)}\n        name=\"last_name\"\n        type=\"text\"\n      />\n      {!user.id && (\n        <OrganizationLookup\n          helperTextInvalid={organizationMeta.error}\n          isValid={!organizationMeta.touched || !organizationMeta.error}\n          onBlur={() => organizationHelpers.setTouched()}\n          onChange={onOrganizationChange}\n          value={organization}\n          required\n          autoPopulate={!user?.id}\n        />\n      )}\n      <FormGroup\n        fieldId=\"user-type\"\n        helperTextInvalid={userTypeMeta.error}\n        isRequired\n        validated={\n          !userTypeMeta.touched || !userTypeMeta.error ? 'default' : 'error'\n        }\n        label={i18n._(t`User Type`)}\n      >\n        <AnsibleSelect\n          isValid={!userTypeMeta.touched || !userTypeMeta.error}\n          id=\"user-type\"\n          data={userTypeOptions}\n          {...userTypeField}\n        />\n      </FormGroup>\n    </>\n  );\n}\n\nfunction UserForm({ user, handleCancel, handleSubmit, submitError, i18n }) {\n  const handleValidateAndSubmit = (values, { setErrors }) => {\n    if (values.password !== values.confirm_password) {\n      setErrors({\n        confirm_password: i18n._(\n          t`This value does not match the password you entered previously. Please confirm that password.`\n        ),\n      });\n    } else {\n      values.is_superuser = values.user_type === 'administrator';\n      values.is_system_auditor = values.user_type === 'auditor';\n      if (!values.password || values.password === '') {\n        delete values.password;\n      }\n      const { confirm_password, ...submitValues } = values;\n      handleSubmit(submitValues);\n    }\n  };\n\n  let userType;\n  if (user.is_superuser) {\n    userType = 'administrator';\n  } else if (user.is_system_auditor) {\n    userType = 'auditor';\n  } else {\n    userType = 'normal';\n  }\n\n  return (\n    <Formik\n      initialValues={{\n        first_name: user.first_name || '',\n        last_name: user.last_name || '',\n        organization: user.organization || '',\n        email: user.email || '',\n        username: user.username || '',\n        password: '',\n        confirm_password: '',\n        user_type: userType,\n      }}\n      onSubmit={handleValidateAndSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <UserFormFields user={user} i18n={i18n} />\n            <FormSubmitError error={submitError} />\n            <FormActionGroup\n              onCancel={handleCancel}\n              onSubmit={formik.handleSubmit}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nUserForm.propTypes = {\n  handleCancel: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  user: PropTypes.shape({}),\n};\n\nUserForm.defaultProps = {\n  user: {},\n};\n\nexport default withI18n()(UserForm);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CardBody } from '../../../components/Card';\nimport UserForm from '../shared/UserForm';\nimport { OrganizationsAPI } from '../../../api';\n\nfunction UserAdd() {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    setFormSubmitError(null);\n    const { organization, ...userValues } = values;\n    try {\n      const {\n        data: { id },\n      } = await OrganizationsAPI.createUser(organization, userValues);\n      history.push(`/users/${id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/users`);\n  };\n\n  return (\n    <PageSection>\n      <Card>\n        <CardBody>\n          <UserForm\n            handleCancel={handleCancel}\n            handleSubmit={handleSubmit}\n            submitError={formSubmitError}\n          />\n        </CardBody>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default UserAdd;\n","import React, { useCallback } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport { Button, Label } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport { DetailList, Detail } from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { formatDateString } from '../../../util/dates';\nimport { UsersAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\n\nfunction UserDetail({ user, i18n }) {\n  const {\n    id,\n    username,\n    email,\n    first_name,\n    last_name,\n    last_login,\n    created,\n    is_superuser,\n    is_system_auditor,\n    summary_fields,\n  } = user;\n  const history = useHistory();\n\n  const { request: deleteUser, isLoading, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await UsersAPI.destroy(id);\n      history.push(`/users`);\n    }, [id, history])\n  );\n\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  let user_type;\n  if (is_superuser) {\n    user_type = i18n._(t`System Administrator`);\n  } else if (is_system_auditor) {\n    user_type = i18n._(t`System Auditor`);\n  } else {\n    user_type = i18n._(t`Normal User`);\n  }\n\n  let userAuthType;\n  if (user.ldap_dn) {\n    userAuthType = i18n._(t`LDAP`);\n  } else if (user.auth.length > 0) {\n    userAuthType = i18n._(t`SOCIAL`);\n  }\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`Username`)}\n          value={username}\n          dataCy=\"user-detail-username\"\n        />\n        <Detail label={i18n._(t`Email`)} value={email} />\n        <Detail label={i18n._(t`First Name`)} value={`${first_name}`} />\n        <Detail label={i18n._(t`Last Name`)} value={`${last_name}`} />\n        <Detail label={i18n._(t`User Type`)} value={`${user_type}`} />\n        {userAuthType && (\n          <Detail\n            label={i18n._(t`类型`)}\n            value={\n              <Label aria-label={i18n._(t`login type`)}>{userAuthType}</Label>\n            }\n          />\n        )}\n        {last_login && (\n          <Detail\n            label={i18n._(t`Last Login`)}\n            value={formatDateString(last_login)}\n          />\n        )}\n        <Detail label={i18n._(t`已创建`)} value={formatDateString(created)} />\n      </DetailList>\n      <CardActionsRow>\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.edit && (\n            <Button\n              aria-label={i18n._(t`edit`)}\n              component={Link}\n              to={`/users/${id}/edit`}\n            >\n              {i18n._(t`Edit`)}\n            </Button>\n          )}\n        {summary_fields.user_capabilities &&\n          summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={username}\n              modalTitle={i18n._(t`Delete User`)}\n              onConfirm={deleteUser}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to delete user.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(UserDetail);\n","import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { CardBody } from '../../../components/Card';\nimport UserForm from '../shared/UserForm';\nimport { UsersAPI } from '../../../api';\n\nfunction UserEdit({ user }) {\n  const [formSubmitError, setFormSubmitError] = useState(null);\n\n  const history = useHistory();\n\n  const handleSubmit = async values => {\n    setFormSubmitError(null);\n    try {\n      await UsersAPI.update(user.id, values);\n      history.push(`/users/${user.id}/details`);\n    } catch (error) {\n      setFormSubmitError(error);\n    }\n  };\n\n  const handleCancel = () => {\n    history.push(`/users/${user.id}/details`);\n  };\n\n  return (\n    <CardBody>\n      <UserForm\n        user={user}\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n        submitError={formSubmitError}\n      />\n    </CardBody>\n  );\n}\n\nexport default withI18n()(UserEdit);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport {\n  DataListItemCells,\n  DataListItemRow,\n  DataListItem,\n} from '@patternfly/react-core';\nimport DataListCell from '../../../components/DataListCell';\n\nexport default function UserOrganizationListItem({ organization }) {\n  const labelId = `organization-${organization.id}`;\n  return (\n    <DataListItem aria-labelledby={labelId}>\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key={organization.id}>\n              <Link\n                to={`/organizations/${organization.id}/details`}\n                id={labelId}\n              >\n                <b>{organization.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key={organization.description}>\n              {organization.description}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n","import React, { useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { t } from '@lingui/macro';\n\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport useRequest from '../../../util/useRequest';\nimport { UsersAPI } from '../../../api';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport UserOrganizationListItem from './UserOrganizationListItem';\n\nconst QS_CONFIG = getQSConfig('organizations', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n  type: 'organization',\n});\n\nfunction UserOrganizationsList({ i18n }) {\n  const location = useLocation();\n  const { id: userId } = useParams();\n\n  const {\n    result: { organizations, count },\n    error: contentError,\n    isLoading,\n    request: fetchOrgs,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const {\n        data: { results, count: orgCount },\n      } = await UsersAPI.readOrganizations(userId, params);\n      return {\n        organizations: results,\n        count: orgCount,\n      };\n    }, [userId, location.search]),\n    {\n      organizations: [],\n      count: 0,\n    }\n  );\n\n  useEffect(() => {\n    fetchOrgs();\n  }, [fetchOrgs]);\n\n  return (\n    <PaginatedDataList\n      items={organizations}\n      contentError={contentError}\n      hasContentLoading={isLoading}\n      itemCount={count}\n      pluralizedItemName={i18n._(t`Organizations`)}\n      qsConfig={QS_CONFIG}\n      renderItem={organization => (\n        <UserOrganizationListItem\n          key={organization.id}\n          value={organization.name}\n          organization={organization}\n          detailUrl={`/organizations/${organization.id}/details`}\n          onSelect={() => {}}\n          isSelected={false}\n        />\n      )}\n    />\n  );\n}\n\nexport default withI18n()(UserOrganizationsList);\n","import React from 'react';\nimport UserOrganizationsList from './UserOrganizationsList';\n\nfunction UserOrganizations() {\n  return <UserOrganizationsList />;\n}\nexport default UserOrganizations;\n","import React from 'react';\nimport { bool, func } from 'prop-types';\nimport { Link } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  DataListItemCells,\n  DataListItemRow,\n  DataListItem,\n  DataListCheck,\n  Split,\n  SplitItem,\n} from '@patternfly/react-core';\nimport DataListCell from '../../../components/DataListCell';\nimport { Team } from '../../../types';\n\nfunction UserTeamListItem({ team, isSelected, onSelect, i18n }) {\n  return (\n    <DataListItem\n      key={team.id}\n      id={`${team.id}`}\n      aria-labelledby={`team-${team.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          aria-labelledby={`team-${team.id}`}\n          checked={isSelected}\n          id={`team-${team.id}`}\n          onChange={onSelect}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\">\n              <Link to={`/teams/${team.id}/details`} id={`team-${team.id}`}>\n                {team.name}\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"organization\">\n              {team.summary_fields.organization && (\n                <Split hasGutter>\n                  <SplitItem>\n                    <b>{i18n._(t`组织`)}</b>{' '}\n                  </SplitItem>\n                  <SplitItem>\n                    <Link\n                      to={`/organizations/${team.summary_fields.organization.id}/details`}\n                    >\n                      <b>{team.summary_fields.organization.name}</b>\n                    </Link>\n                  </SplitItem>\n                </Split>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"description\">{team.description}</DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nUserTeamListItem.prototype = {\n  team: Team.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(UserTeamListItem);\n","import React, { useState, useCallback, useEffect } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { t } from '@lingui/macro';\n\nimport PaginatedDataList, {\n  ToolbarAddButton,\n} from '../../../components/PaginatedDataList';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport DisassociateButton from '../../../components/DisassociateButton';\nimport AssociateModal from '../../../components/AssociateModal';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { TeamsAPI, UsersAPI } from '../../../api';\nimport { getQSConfig, mergeParams, parseQueryString } from '../../../util/qs';\n\nimport UserTeamListItem from './UserTeamListItem';\n\nconst QS_CONFIG = getQSConfig('teams', {\n  page: 1,\n  page_size: 20,\n  order_by: 'name',\n});\n\nfunction UserTeamList({ i18n }) {\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const location = useLocation();\n  const { id: userId } = useParams();\n\n  const {\n    result: {\n      teams,\n      count,\n      userOptions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n    error: contentError,\n    isLoading,\n    request: fetchTeams,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { results, count: teamCount },\n        },\n        actionsResponse,\n        usersResponse,\n      ] = await Promise.all([\n        UsersAPI.readTeams(userId, params),\n        UsersAPI.readTeamsOptions(userId),\n        UsersAPI.readOptions(),\n      ]);\n      return {\n        teams: results,\n        count: teamCount,\n        userOptions: usersResponse.data.actions,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [userId, location.search]),\n    {\n      teams: [],\n      count: 0,\n      roles: {},\n      userOptions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchTeams();\n  }, [fetchTeams]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    teams\n  );\n\n  const disassociateUserRoles = team => {\n    return [\n      UsersAPI.disassociateRole(\n        userId,\n        team.summary_fields.object_roles.admin_role.id\n      ),\n      UsersAPI.disassociateRole(\n        userId,\n        team.summary_fields.object_roles.member_role.id\n      ),\n      UsersAPI.disassociateRole(\n        userId,\n        team.summary_fields.object_roles.read_role.id\n      ),\n    ];\n  };\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateTeams,\n    deletionError: disassociateError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(selected.flatMap(team => disassociateUserRoles(team)));\n      /* eslint-disable-next-line react-hooks/exhaustive-deps */\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTeams,\n    }\n  );\n\n  const { request: handleAssociate, error: associateError } = useRequest(\n    useCallback(\n      async teamsToAssociate => {\n        await Promise.all(\n          teamsToAssociate.map(team =>\n            UsersAPI.associateRole(\n              userId,\n              team.summary_fields.object_roles.member_role.id\n            )\n          )\n        );\n        fetchTeams();\n      },\n      [userId, fetchTeams]\n    )\n  );\n\n  const handleDisassociate = async () => {\n    await disassociateTeams();\n    setSelected([]);\n  };\n\n  const { error, dismissError } = useDismissableError(\n    associateError || disassociateError\n  );\n\n  const canAdd =\n    userOptions && Object.prototype.hasOwnProperty.call(userOptions, 'POST');\n\n  const fetchTeamsToAssociate = useCallback(\n    params => {\n      return TeamsAPI.read(\n        mergeParams(params, {\n          not__member_role__members__id: userId,\n          not__admin_role__members__id: userId,\n        })\n      );\n    },\n    [userId]\n  );\n\n  const readTeamOptions = useCallback(() => UsersAPI.readTeamsOptions(userId), [\n    userId,\n  ]);\n\n  return (\n    <>\n      <PaginatedDataList\n        items={teams}\n        contentError={contentError}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        itemCount={count}\n        pluralizedItemName={i18n._(t`团队`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        renderItem={team => (\n          <UserTeamListItem\n            key={team.id}\n            value={team.name}\n            team={team}\n            detailUrl={`/teams/${team.id}/details`}\n            onSelect={() => handleSelect(team)}\n            isSelected={selected.some(row => row.id === team.id)}\n          />\n        )}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...teams] : [])\n            }\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"associate\"\n                      onClick={() => setIsModalOpen(true)}\n                      defaultLabel={i18n._(t`Associate`)}\n                    />,\n                  ]\n                : []),\n              <DisassociateButton\n                key=\"disassociate\"\n                onDisassociate={handleDisassociate}\n                itemsToDisassociate={selected}\n                modalTitle={i18n._(t`Disassociate related team(s)?`)}\n                modalNote={i18n._(\n                  t`This action will disassociate all roles for this user from the selected teams.`\n                )}\n              />,\n            ]}\n            emptyStateControls={\n              canAdd ? (\n                <ToolbarAddButton\n                  key=\"add\"\n                  onClick={() => setIsModalOpen(true)}\n                />\n              ) : null\n            }\n          />\n        )}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`名称`),\n            key: 'name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`组织`),\n            key: 'organization__name__icontains',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n      />\n      {isModalOpen && (\n        <AssociateModal\n          header={i18n._(t`团队`)}\n          fetchRequest={fetchTeamsToAssociate}\n          isModalOpen={isModalOpen}\n          onAssociate={handleAssociate}\n          onClose={() => setIsModalOpen(false)}\n          title={i18n._(t`Select Teams`)}\n          optionsRequest={readTeamOptions}\n        />\n      )}\n      {error && (\n        <AlertModal\n          isOpen={error}\n          onClose={dismissError}\n          title={i18n._(t`Error!`)}\n          variant=\"error\"\n        >\n          {associateError\n            ? i18n._(t`Failed to associate.`)\n            : i18n._(t`Failed to disassociate one or more teams.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(UserTeamList);\n","import React from 'react';\nimport UserTeamList from './UserTeamList';\n\nexport default function UserTeams() {\n  return <UserTeamList />;\n}\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Formik, useField } from 'formik';\nimport { Form, FormGroup } from '@patternfly/react-core';\nimport AnsibleSelect from '../../../components/AnsibleSelect';\nimport FormActionGroup from '../../../components/FormActionGroup/FormActionGroup';\nimport FormField, { FormSubmitError } from '../../../components/FormField';\nimport ApplicationLookup from '../../../components/Lookup/ApplicationLookup';\nimport Popover from '../../../components/Popover';\nimport { required } from '../../../util/validators';\n\nimport { FormColumnLayout } from '../../../components/FormLayout';\n\nfunction UserTokenFormFields({ i18n }) {\n  const [applicationField, applicationMeta, applicationHelpers] = useField(\n    'application'\n  );\n\n  const [scopeField, scopeMeta, scopeHelpers] = useField({\n    name: 'scope',\n    validate: required(i18n._(t`Please enter a value.`), i18n),\n  });\n\n  return (\n    <>\n      <FormGroup\n        fieldId=\"application-lookup\"\n        name=\"application\"\n        validated={\n          !applicationMeta.touched || !applicationMeta.error\n            ? 'default'\n            : 'error'\n        }\n        helperTextInvalid={applicationMeta.error}\n      >\n        <ApplicationLookup\n          value={applicationField.value}\n          onChange={value => {\n            applicationHelpers.setValue(value);\n          }}\n          label={\n            <span>\n              {i18n._(t`Application`)}\n              <Popover\n                content={i18n._(\n                  t`Select the application that this token will belong to.`\n                )}\n              />\n            </span>\n          }\n          touched={applicationMeta.touched}\n        />\n      </FormGroup>\n      <FormField\n        id=\"token-description\"\n        name=\"description\"\n        type=\"text\"\n        label={i18n._(t`描述`)}\n      />\n\n      <FormGroup\n        name=\"scope\"\n        fieldId=\"token-scope\"\n        helperTextInvalid={scopeMeta.error}\n        isRequired\n        validated={!scopeMeta.touched || !scopeMeta.error ? 'default' : 'error'}\n        label={i18n._(t`Scope`)}\n        labelIcon={\n          <Popover\n            content={i18n._(t`Specify a scope for the token's access`)}\n          />\n        }\n      >\n        <AnsibleSelect\n          {...scopeField}\n          id=\"token-scope\"\n          data={[\n            { key: 'default', label: '', value: '' },\n            { key: 'read', value: 'read', label: i18n._(t`Read`) },\n            { key: 'write', value: 'write', label: i18n._(t`Write`) },\n          ]}\n          onChange={(event, value) => {\n            scopeHelpers.setValue(value);\n          }}\n        />\n      </FormGroup>\n    </>\n  );\n}\n\nfunction UserTokenForm({\n  handleCancel,\n  handleSubmit,\n  submitError,\n  i18n,\n  token = {},\n}) {\n  return (\n    <Formik\n      initialValues={{\n        description: token.description || '',\n        application: token.application || null,\n        scope: token.scope || '',\n      }}\n      onSubmit={handleSubmit}\n    >\n      {formik => (\n        <Form autoComplete=\"off\" onSubmit={formik.handleSubmit}>\n          <FormColumnLayout>\n            <UserTokenFormFields i18n={i18n} />\n            {submitError && <FormSubmitError error={submitError} />}\n            <FormActionGroup\n              onCancel={handleCancel}\n              onSubmit={() => {\n                formik.handleSubmit();\n              }}\n            />\n          </FormColumnLayout>\n        </Form>\n      )}\n    </Formik>\n  );\n}\nexport default withI18n()(UserTokenForm);\n","import React, { useCallback } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\n\nimport { CardBody } from '../../../components/Card';\nimport { TokensAPI, UsersAPI } from '../../../api';\nimport useRequest from '../../../util/useRequest';\nimport UserTokenFrom from '../shared/UserTokenForm';\n\nfunction UserTokenAdd({ onSuccessfulAdd }) {\n  const history = useHistory();\n  const { id: userId } = useParams();\n  const { error: submitError, request: handleSubmit } = useRequest(\n    useCallback(\n      async formData => {\n        let response;\n        if (formData.application) {\n          response = await UsersAPI.createToken(userId, {\n            ...formData,\n            application: formData.application?.id || null,\n          });\n        } else {\n          response = await TokensAPI.create(formData);\n        }\n\n        onSuccessfulAdd(response.data);\n\n        history.push(`/users/${userId}/tokens/${response.data.id}/details`);\n      },\n      [history, userId, onSuccessfulAdd]\n    )\n  );\n\n  const handleCancel = () => {\n    history.push(`/users/${userId}/tokens`);\n  };\n\n  return (\n    <CardBody>\n      <UserTokenFrom\n        handleCancel={handleCancel}\n        handleSubmit={handleSubmit}\n        submitError={submitError}\n      />\n    </CardBody>\n  );\n}\nexport default UserTokenAdd;\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  DataListItemCells,\n  DataListCheck,\n  DataListItemRow,\n  DataListItem,\n} from '@patternfly/react-core';\nimport styled from 'styled-components';\nimport { toTitleCase } from '../../../util/strings';\n\nimport { formatDateString } from '../../../util/dates';\nimport DataListCell from '../../../components/DataListCell';\n\nconst Label = styled.b`\n  margin-right: 20px;\n`;\n\nconst NameLabel = styled.b`\n  margin-right: 5px;\n`;\n\nfunction UserTokenListItem({ i18n, token, isSelected, onSelect }) {\n  const { id } = useParams();\n  const labelId = `check-action-${token.id}`;\n  return (\n    <DataListItem key={token.id} aria-labelledby={labelId} id={`${token.id}`}>\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-token-${token.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell aria-label={i18n._(t`Token type`)} key=\"type\">\n              <Link to={`/users/${id}/tokens/${token.id}/details`}>\n                {token.summary_fields?.application\n                  ? i18n._(t`Application access token`)\n                  : i18n._(t`Personal access token`)}\n              </Link>\n            </DataListCell>,\n            <DataListCell\n              aria-label={i18n._(t`Application name`)}\n              key=\"applicationName\"\n            >\n              {token.summary_fields?.application && (\n                <span>\n                  <NameLabel>{i18n._(t`Application`)}</NameLabel>\n                  <Link\n                    to={`/applications/${token.summary_fields.application.id}/details`}\n                  >\n                    {token.summary_fields.application.name}\n                  </Link>\n                </span>\n              )}\n            </DataListCell>,\n            <DataListCell aria-label={i18n._(t`Scope`)} key=\"scope\">\n              <Label>{i18n._(t`Scope`)}</Label>\n              {toTitleCase(token.scope)}\n            </DataListCell>,\n            <DataListCell aria-label={i18n._(t`Expiration`)} key=\"expiration\">\n              <Label>{i18n._(t`Expires`)}</Label>\n              {formatDateString(token.expires)}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(UserTokenListItem);\n","import React, { useCallback, useEffect } from 'react';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport PaginatedDataList, {\n  ToolbarAddButton,\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport useSelected from '../../../util/useSelected';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport { UsersAPI, TokensAPI } from '../../../api';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport UserTokensListItem from './UserTokenListItem';\n\nconst QS_CONFIG = getQSConfig('user', {\n  page: 1,\n  page_size: 20,\n  order_by: 'application__name',\n});\nfunction UserTokenList({ i18n }) {\n  const location = useLocation();\n  const { id } = useParams();\n\n  const {\n    error,\n    isLoading,\n    request: fetchTokens,\n    result: { tokens, itemCount, relatedSearchableKeys, searchableKeys },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [\n        {\n          data: { results, count },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        UsersAPI.readTokens(id, params),\n        UsersAPI.readTokenOptions(id),\n      ]);\n      const modifiedResults = results.map(result => {\n        result.summary_fields = {\n          user: result.summary_fields.user,\n          application: result.summary_fields.application,\n          user_capabilities: { delete: true },\n        };\n        result.name = result.summary_fields.application?.name;\n        return result;\n      });\n      return {\n        tokens: modifiedResults,\n        itemCount: count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [id, location.search]),\n    { tokens: [], itemCount: 0, relatedSearchableKeys: [], searchableKeys: [] }\n  );\n\n  useEffect(() => {\n    fetchTokens();\n  }, [fetchTokens]);\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    tokens\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteTokens,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(() => {\n      return Promise.all(\n        selected.map(({ id: tokenId }) => TokensAPI.destroy(tokenId))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchTokens,\n    }\n  );\n  const handleDelete = async () => {\n    await deleteTokens();\n    setSelected([]);\n  };\n\n  const canAdd = true;\n\n  return (\n    <>\n      <PaginatedDataList\n        contentError={error}\n        hasContentLoading={isLoading || isDeleteLoading}\n        items={tokens}\n        itemCount={itemCount}\n        pluralizedItemName={i18n._(t`Tokens`)}\n        qsConfig={QS_CONFIG}\n        onRowClick={handleSelect}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`Application name`),\n            key: 'application__name__icontains',\n            isDefault: true,\n          },\n          {\n            name: i18n._(t`描述`),\n            key: 'description__icontains',\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`Application name`),\n            key: 'application__name',\n          },\n          {\n            name: i18n._(t`Scope`),\n            key: 'scope',\n          },\n          {\n            name: i18n._(t`Expires`),\n            key: 'expires',\n          },\n          {\n            name: i18n._(t`已创建`),\n            key: 'created',\n          },\n          {\n            name: i18n._(t`更改`),\n            key: 'modified',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderToolbar={props => (\n          <DataListToolbar\n            {...props}\n            showSelectAll\n            isAllSelected={isAllSelected}\n            qsConfig={QS_CONFIG}\n            onSelectAll={isSelected =>\n              setSelected(isSelected ? [...tokens] : [])\n            }\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <ToolbarAddButton\n                      key=\"add\"\n                      linkTo={`${location.pathname}/add`}\n                    />,\n                  ]\n                : []),\n              <ToolbarDeleteButton\n                key=\"delete\"\n                onDelete={handleDelete}\n                itemsToDelete={selected}\n                pluralizedItemName={i18n._(t`User tokens`)}\n              />,\n            ]}\n          />\n        )}\n        renderItem={token => (\n          <UserTokensListItem\n            key={token.id}\n            token={token}\n            onSelect={() => {\n              handleSelect(token);\n            }}\n            isSelected={selected.some(row => row.id === token.id)}\n          />\n        )}\n        emptyStateControls={\n          canAdd ? (\n            <ToolbarAddButton key=\"add\" linkTo={`${location.pathname}/add`} />\n          ) : null\n        }\n      />\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"danger\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more user tokens.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(UserTokenList);\n","import React, { useCallback } from 'react';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  DetailList,\n  Detail,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport { TokensAPI } from '../../../api';\nimport { formatDateString } from '../../../util/dates';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { toTitleCase } from '../../../util/strings';\n\nfunction UserTokenDetail({ token, i18n }) {\n  const {\n    scope,\n    description,\n    created,\n    modified,\n    expires,\n    summary_fields,\n  } = token;\n  const history = useHistory();\n  const { id, tokenId } = useParams();\n  const { request: deleteToken, isLoading, error: deleteError } = useRequest(\n    useCallback(async () => {\n      await TokensAPI.destroy(tokenId);\n      history.push(`/users/${id}/tokens`);\n    }, [tokenId, id, history])\n  );\n  const { error, dismissError } = useDismissableError(deleteError);\n\n  return (\n    <CardBody>\n      <DetailList>\n        <Detail\n          label={i18n._(t`Application`)}\n          value={summary_fields?.application?.name}\n          dataCy=\"application-token-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`描述`)}\n          value={description}\n          dataCy=\"application-token-detail-description\"\n        />\n        <Detail\n          label={i18n._(t`Scope`)}\n          value={toTitleCase(scope)}\n          dataCy=\"application-token-detail-scope\"\n        />\n        <Detail\n          label={i18n._(t`Expires`)}\n          value={formatDateString(expires)}\n          dataCy=\"application-token-detail-expires\"\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={created}\n          user={summary_fields.user}\n          dataCy=\"application-token-detail-created\"\n        />\n        <UserDateDetail\n          label={i18n._(t`上次修改时间`)}\n          date={modified}\n          user={summary_fields.user}\n          dataCy=\"application-token-detail-last-modified\"\n        />\n      </DetailList>\n      <CardActionsRow>\n        <DeleteButton\n          name={summary_fields?.application?.name}\n          modalTitle={i18n._(t`Delete User Token`)}\n          onConfirm={deleteToken}\n          isDisabled={isLoading}\n        >\n          {i18n._(t`删除`)}\n        </DeleteButton>\n      </CardActionsRow>\n      {error && (\n        <AlertModal\n          isOpen={error}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissError}\n        >\n          {i18n._(t`Failed to user token.`)}\n          <ErrorDetail error={error} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nexport default withI18n()(UserTokenDetail);\n","import React, { useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Link,\n  Redirect,\n  Route,\n  Switch,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport RoutedTabs from '../../../components/RoutedTabs';\nimport ContentError from '../../../components/ContentError';\nimport { TokensAPI } from '../../../api';\nimport useRequest from '../../../util/useRequest';\nimport UserTokenDetail from '../UserTokenDetail';\n\nfunction UserToken({ i18n, setBreadcrumb, user }) {\n  const location = useLocation();\n  const { id, tokenId } = useParams();\n  const {\n    isLoading,\n    error,\n    request: fetchToken,\n    result: { token },\n  } = useRequest(\n    useCallback(async () => {\n      const response = await TokensAPI.readDetail(tokenId);\n      setBreadcrumb(user, response.data);\n      return {\n        token: response.data,\n      };\n    }, [setBreadcrumb, user, tokenId]),\n    { token: null }\n  );\n  useEffect(() => {\n    fetchToken();\n  }, [fetchToken]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Tokens`)}\n        </>\n      ),\n      link: `/users/${id}/tokens`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `/users/${id}/tokens/${tokenId}/details`,\n      id: 0,\n    },\n  ];\n\n  let showCardHeader = true;\n\n  if (location.pathname.endsWith('edit')) {\n    showCardHeader = false;\n  }\n\n  if (!isLoading && error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response.status === 404 && (\n              <span>\n                {i18n._(t`Token not found.`)}{' '}\n                <Link to=\"/users/:id/tokens\">\n                  {i18n._(t`View all tokens.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <>\n      {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n      <Switch>\n        <Redirect\n          from=\"/users/:id/tokens/:tokenId\"\n          to=\"/users/:id/tokens/:tokenId/details\"\n          exact\n        />\n        {token && (\n          <Route path=\"/users/:id/tokens/:tokenId/details\">\n            <UserTokenDetail token={token} />\n          </Route>\n        )}\n        <Route key=\"not-found\" path=\"*\">\n          {!isLoading && (\n            <ContentError isNotFound>\n              {id && (\n                <Link to={`/users/${id}/tokens`}>{i18n._(t`View Tokens`)}</Link>\n              )}\n            </ContentError>\n          )}\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(UserToken);\n","import React, { useCallback, useState } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport styled from 'styled-components';\nimport { Switch, Route, useParams } from 'react-router-dom';\nimport {\n  Alert,\n  ClipboardCopy,\n  ClipboardCopyVariant,\n  Modal,\n} from '@patternfly/react-core';\nimport { formatDateString } from '../../../util/dates';\nimport { Detail, DetailList } from '../../../components/DetailList';\nimport UserTokenAdd from '../UserTokenAdd';\nimport UserTokenList from '../UserTokenList';\nimport UserToken from '../UserToken';\n\nconst TokenAlert = styled(Alert)`\n  margin-bottom: 20px;\n`;\n\nfunction UserTokens({ i18n, setBreadcrumb, user }) {\n  const [tokenModalSource, setTokenModalSource] = useState(null);\n  const { id } = useParams();\n\n  const onSuccessfulAdd = useCallback(token => setTokenModalSource(token), [\n    setTokenModalSource,\n  ]);\n\n  return (\n    <>\n      <Switch>\n        <Route key=\"add\" path=\"/users/:id/tokens/add\">\n          <UserTokenAdd id={Number(id)} onSuccessfulAdd={onSuccessfulAdd} />\n        </Route>\n        <Route key=\"token\" path=\"/users/:id/tokens/:tokenId\">\n          <UserToken\n            user={user}\n            setBreadcrumb={setBreadcrumb}\n            id={Number(id)}\n          />\n        </Route>\n        <Route key=\"list\" path=\"/users/:id/tokens\">\n          <UserTokenList id={Number(id)} />\n        </Route>\n      </Switch>\n      {tokenModalSource && (\n        <Modal\n          aria-label={i18n._(t`Token information`)}\n          isOpen\n          variant=\"medium\"\n          title={i18n._(t`Token information`)}\n          onClose={() => setTokenModalSource(null)}\n        >\n          <TokenAlert\n            variant=\"info\"\n            isInline\n            title={i18n._(\n              t`This is the only time the token value and associated refresh token value will be shown.`\n            )}\n          />\n          <DetailList stacked>\n            {tokenModalSource.token && (\n              <Detail\n                label={i18n._(t`Token`)}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {tokenModalSource.token}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n            {tokenModalSource.refresh_token && (\n              <Detail\n                label={i18n._(t`Refresh Token`)}\n                value={\n                  <ClipboardCopy\n                    isReadOnly\n                    variant={ClipboardCopyVariant.expansion}\n                  >\n                    {tokenModalSource.refresh_token}\n                  </ClipboardCopy>\n                }\n              />\n            )}\n            <Detail\n              label={i18n._(t`Expires`)}\n              value={formatDateString(tokenModalSource.expires)}\n            />\n          </DetailList>\n        </Modal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(UserTokens);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Chip,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport { DetailList, Detail } from '../../../components/DetailList';\nimport DataListCell from '../../../components/DataListCell';\n\nfunction UserRolesListItem({ role, i18n, detailUrl, onSelect }) {\n  const labelId = `userRole-${role.id}`;\n  return (\n    <DataListItem key={role.id} aria-labelledby={labelId} id={`${role.id}`}>\n      <DataListItemRow>\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"name\" aria-label={i18n._(t`Resource name`)}>\n              {role.summary_fields.resource_name ? (\n                <Link to={`${detailUrl}`} id={labelId}>\n                  <b>{role.summary_fields.resource_name}</b>\n                </Link>\n              ) : (\n                <b>{i18n._(t`System`)}</b>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"type\" aria-label={i18n._(t`Resource type`)}>\n              {role.summary_fields && (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`类型`)}\n                    value={role.summary_fields.resource_type_display_name}\n                  />\n                </DetailList>\n              )}\n            </DataListCell>,\n            <DataListCell key=\"role\" aria-label={i18n._(t`Resource role`)}>\n              {role.name && (\n                <DetailList stacked>\n                  <Detail\n                    label={i18n._(t`Role`)}\n                    value={\n                      <Chip\n                        key={role.name}\n                        aria-label={role.name}\n                        onClick={() => onSelect(role)}\n                        isReadOnly={\n                          !role.summary_fields.user_capabilities.unattach\n                        }\n                      >\n                        {role.name}\n                      </Chip>\n                    }\n                  />\n                </DetailList>\n              )}\n            </DataListCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nexport default withI18n()(UserRolesListItem);\n","import React, { useCallback, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Button,\n  EmptyState,\n  EmptyStateBody,\n  EmptyStateIcon,\n  Title,\n} from '@patternfly/react-core';\nimport { CubesIcon } from '@patternfly/react-icons';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport { UsersAPI, RolesAPI } from '../../../api';\nimport useRequest, { useDeleteItems } from '../../../util/useRequest';\nimport PaginatedDataList from '../../../components/PaginatedDataList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport AlertModal from '../../../components/AlertModal';\n\nimport DatalistToolbar from '../../../components/DataListToolbar';\nimport UserRolesListItem from './UserRolesListItem';\nimport UserAndTeamAccessAdd from '../../../components/UserAndTeamAccessAdd/UserAndTeamAccessAdd';\n\nconst QS_CONFIG = getQSConfig('roles', {\n  page: 1,\n  page_size: 20,\n  order_by: 'id',\n});\n// TODO Figure out how to best conduct a search of this list.\n// Since we only have a role ID in the top level of each role object\n// we can't really search using the normal search parameters.\nfunction UserRolesList({ i18n, user }) {\n  const { search } = useLocation();\n  const [roleToDisassociate, setRoleToDisassociate] = useState(null);\n\n  const {\n    isLoading,\n    request: fetchRoles,\n    error,\n    result: {\n      roleCount,\n      roles,\n      actions,\n      relatedSearchableKeys,\n      searchableKeys,\n    },\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, search);\n      const [\n        {\n          data: { results, count },\n        },\n        actionsResponse,\n      ] = await Promise.all([\n        UsersAPI.readRoles(user.id, params),\n        UsersAPI.readOptions(),\n      ]);\n      return {\n        roleCount: count,\n        roles: results,\n        actions: actionsResponse.data.actions,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [user.id, search]),\n    {\n      roles: [],\n      roleCount: 0,\n      actions: {},\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchRoles();\n  }, [fetchRoles]);\n\n  const {\n    isLoading: isDisassociateLoading,\n    deleteItems: disassociateRole,\n    deletionError: disassociationError,\n    clearDeletionError: clearDisassociationError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      setRoleToDisassociate(null);\n      await RolesAPI.disassociateUserRole(\n        roleToDisassociate.id,\n        parseInt(user.id, 10)\n      );\n    }, [roleToDisassociate, user.id]),\n    { qsConfig: QS_CONFIG, fetchItems: fetchRoles }\n  );\n\n  const canAdd =\n    user?.summary_fields?.user_capabilities?.edit ||\n    (actions && Object.prototype.hasOwnProperty.call(actions, 'POST'));\n\n  const detailUrl = role => {\n    const { resource_id, resource_type } = role.summary_fields;\n\n    if (!role || !resource_type) {\n      return null;\n    }\n\n    if (resource_type?.includes('template')) {\n      return `/templates/${resource_type}/${resource_id}/details`;\n    }\n    if (resource_type?.includes('inventory')) {\n      return `/inventories/${resource_type}/${resource_id}/details`;\n    }\n    return `/${resource_type}s/${resource_id}/details`;\n  };\n  const isSysAdmin = roles.some(role => role.name === 'System Administrator');\n  if (isSysAdmin) {\n    return (\n      <EmptyState variant=\"full\">\n        <EmptyStateIcon icon={CubesIcon} />\n        <Title headingLevel=\"h5\" size=\"lg\">\n          {i18n._(t`System Administrator`)}\n        </Title>\n        <EmptyStateBody>\n          {i18n._(\n            t`System administrators have unrestricted access to all resources.`\n          )}\n        </EmptyStateBody>\n      </EmptyState>\n    );\n  }\n  return (\n    <>\n      <PaginatedDataList\n        contentError={error}\n        hasContentLoading={isLoading || isDisassociateLoading}\n        items={roles}\n        itemCount={roleCount}\n        pluralizedItemName={i18n._(t`User Roles`)}\n        qsConfig={QS_CONFIG}\n        toolbarSearchColumns={[\n          {\n            name: i18n._(t`Role`),\n            key: 'role_field__icontains',\n            isDefault: true,\n          },\n        ]}\n        toolbarSortColumns={[\n          {\n            name: i18n._(t`ID`),\n            key: 'id',\n          },\n        ]}\n        toolbarSearchableKeys={searchableKeys}\n        toolbarRelatedSearchableKeys={relatedSearchableKeys}\n        renderItem={role => {\n          return (\n            <UserRolesListItem\n              key={role.id}\n              value={role.name}\n              role={role}\n              detailUrl={detailUrl(role)}\n              isSelected={false}\n              onSelect={item => {\n                setRoleToDisassociate(item);\n              }}\n            />\n          );\n        }}\n        renderToolbar={props => (\n          <DatalistToolbar\n            {...props}\n            qsConfig={QS_CONFIG}\n            additionalControls={[\n              ...(canAdd\n                ? [\n                    <UserAndTeamAccessAdd\n                      apiModel={UsersAPI}\n                      onFetchData={fetchRoles}\n                      title={i18n._(t`Add user permissions`)}\n                    />,\n                  ]\n                : []),\n            ]}\n          />\n        )}\n      />\n      {roleToDisassociate && (\n        <AlertModal\n          aria-label={i18n._(t`Disassociate role`)}\n          isOpen={roleToDisassociate}\n          variant=\"error\"\n          title={i18n._(t`Disassociate role!`)}\n          onClose={() => setRoleToDisassociate(null)}\n          actions={[\n            <Button\n              key=\"disassociate\"\n              variant=\"danger\"\n              aria-label={i18n._(t`Confirm disassociate`)}\n              onClick={() => disassociateRole()}\n            >\n              {i18n._(t`Disassociate`)}\n            </Button>,\n            <Button\n              key=\"cancel\"\n              variant=\"secondary\"\n              aria-label={i18n._(t`取消`)}\n              onClick={() => setRoleToDisassociate(null)}\n            >\n              {i18n._(t`取消`)}\n            </Button>,\n          ]}\n        >\n          <div>\n            {i18n._(\n              t`This action will disassociate the following role from ${roleToDisassociate.summary_fields.resource_name}:`\n            )}\n            <br />\n            <strong>{roleToDisassociate.name}</strong>\n          </div>\n        </AlertModal>\n      )}\n      {disassociationError && (\n        <AlertModal\n          isOpen={disassociationError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDisassociationError}\n        >\n          {i18n._(t`Failed to delete role.`)}\n          <ErrorDetail error={disassociationError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\nexport default withI18n()(UserRolesList);\n","import React, { useEffect, useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport {\n  Switch,\n  Route,\n  Redirect,\n  Link,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport useRequest from '../../util/useRequest';\nimport { UsersAPI } from '../../api';\nimport ContentError from '../../components/ContentError';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport UserDetail from './UserDetail';\nimport UserEdit from './UserEdit';\nimport UserOrganizations from './UserOrganizations';\nimport UserTeams from './UserTeams';\nimport UserTokens from './UserTokens';\nimport UserRolesList from './UserRoles/UserRolesList';\n\nfunction User({ i18n, setBreadcrumb, me }) {\n  const location = useLocation();\n  const match = useRouteMatch('/users/:id');\n  const userListUrl = `/users`;\n  const {\n    result: user,\n    error: contentError,\n    isLoading,\n    request: fetchUser,\n  } = useRequest(\n    useCallback(async () => {\n      const { data } = await UsersAPI.readDetail(match.params.id);\n      return data;\n    }, [match.params.id]),\n    null\n  );\n\n  useEffect(() => {\n    fetchUser();\n  }, [fetchUser, location.pathname]);\n\n  useEffect(() => {\n    if (user) {\n      setBreadcrumb(user);\n    }\n  }, [user, setBreadcrumb]);\n\n  const tabsArray = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Users`)}\n        </>\n      ),\n      link: `/users`,\n      id: 99,\n    },\n    { name: i18n._(t`Details`), link: `${match.url}/details`, id: 0 },\n    {\n      name: i18n._(t`Organizations`),\n      link: `${match.url}/organizations`,\n      id: 1,\n    },\n    { name: i18n._(t`团队`), link: `${match.url}/teams`, id: 2 },\n    { name: i18n._(t`Roles`), link: `${match.url}/roles`, id: 3 },\n  ];\n\n  if (me?.id === Number(match.params.id)) {\n    tabsArray.push({\n      name: i18n._(t`Tokens`),\n      link: `${match.url}/tokens`,\n      id: 4,\n    });\n  }\n\n  let showCardHeader = true;\n  if (\n    ['edit', 'add', 'tokens'].some(name => location.pathname.includes(name))\n  ) {\n    showCardHeader = false;\n  }\n\n  if (!isLoading && contentError) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={contentError}>\n            {contentError.response && contentError.response.status === 404 && (\n              <span>\n                {i18n._(t`User not found.`)}{' '}\n                <Link to={userListUrl}>{i18n._(t`View all Users.`)}</Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  return (\n    <PageSection>\n      <Card>\n        {showCardHeader && <RoutedTabs tabsArray={tabsArray} />}\n        <Switch>\n          <Redirect from=\"/users/:id\" to=\"/users/:id/details\" exact />\n          {user && [\n            <Route path=\"/users/:id/edit\" key=\"edit\">\n              <UserEdit user={user} />\n            </Route>,\n            <Route path=\"/users/:id/details\" key=\"details\">\n              <UserDetail user={user} />\n            </Route>,\n            <Route path=\"/users/:id/organizations\" key=\"organizations\">\n              <UserOrganizations id={Number(match.params.id)} />\n            </Route>,\n            <Route path=\"/users/:id/teams\" key=\"teams\">\n              <UserTeams />\n            </Route>,\n            <Route path=\"/users/:id/roles\" key=\"roles\">\n              <UserRolesList user={user} />\n            </Route>,\n            <Route path=\"/users/:id/tokens\" key=\"tokens\">\n              <UserTokens\n                user={user}\n                setBreadcrumb={setBreadcrumb}\n                id={Number(match.params.id)}\n              />\n            </Route>,\n          ]}\n          <Route key=\"not-found\" path=\"*\">\n            {!isLoading && (\n              <ContentError isNotFound>\n                {match.params.id && (\n                  <Link to={`/users/${match.params.id}/details`}>\n                    {i18n._(t`View User Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            )}\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(User);\n","import React, { Fragment, useState, useCallback } from 'react';\nimport { Route, useRouteMatch, Switch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\n\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\nimport { Config } from '../../contexts/Config';\n\nimport UsersList from './UserList/UserList';\nimport UserAdd from './UserAdd/UserAdd';\nimport User from './User';\n\nfunction Users({ i18n }) {\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/users': i18n._(t`用户`),\n    '/users/add': i18n._(t`Create New User`),\n  });\n  const match = useRouteMatch();\n\n  const addUserBreadcrumb = useCallback(\n    (user, token) => {\n      if (!user) {\n        return;\n      }\n\n      setBreadcrumbConfig({\n        '/users': i18n._(t`用户`),\n        '/users/add': i18n._(t`Create New User`),\n        [`/users/${user.id}`]: `${user.username}`,\n        [`/users/${user.id}/edit`]: i18n._(t`Edit Details`),\n        [`/users/${user.id}/details`]: i18n._(t`Details`),\n        [`/users/${user.id}/roles`]: i18n._(t`Roles`),\n        [`/users/${user.id}/teams`]: i18n._(t`团队`),\n        [`/users/${user.id}/organizations`]: i18n._(t`Organizations`),\n        [`/users/${user.id}/tokens`]: i18n._(t`Tokens`),\n        [`/users/${user.id}/tokens/add`]: i18n._(t`Create user token`),\n        [`/users/${user.id}/tokens/${token && token.id}`]: i18n._(\n          t`Application Name`\n        ),\n        [`/users/${user.id}/tokens/${token && token.id}/details`]: i18n._(\n          t`Details`\n        ),\n      });\n    },\n    [i18n]\n  );\n  return (\n    <Fragment>\n      <ScreenHeader streamType=\"user\" breadcrumbConfig={breadcrumbConfig} />\n      <Switch>\n        <Route path={`${match.path}/add`}>\n          <UserAdd />\n        </Route>\n        <Route path={`${match.path}/:id`}>\n          <Config>\n            {({ me }) => (\n              <User setBreadcrumb={addUserBreadcrumb} me={me || {}} />\n            )}\n          </Config>\n        </Route>\n        <Route path={`${match.path}`}>\n          <UsersList />\n        </Route>\n      </Switch>\n    </Fragment>\n  );\n}\n\nexport { Users as _Users };\nexport default withI18n()(Users);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Label, Tooltip } from '@patternfly/react-core';\nimport { CheckIcon, InfoCircleIcon } from '@patternfly/react-icons';\nimport { WorkflowApproval } from '../../../types';\nimport { formatDateString } from '../../../util/dates';\n\nfunction WorkflowApprovalStatus({ workflowApproval, i18n }) {\n  if (workflowApproval.status === 'pending') {\n    return workflowApproval.approval_expiration\n      ? i18n._(\n          t`Expires on ${formatDateString(\n            workflowApproval.approval_expiration\n          )}`\n        )\n      : i18n._(t`Never expires`);\n  }\n\n  if (workflowApproval.timed_out) {\n    return <Label color=\"red\">{i18n._(t`Timed out`)}</Label>;\n  }\n\n  if (workflowApproval.canceled_on) {\n    return <Label color=\"red\">{i18n._(t`Canceled`)}</Label>;\n  }\n\n  if (workflowApproval.status === 'failed' && workflowApproval.failed) {\n    return (\n      <Tooltip\n        content={i18n._(\n          t`Denied by ${\n            workflowApproval.summary_fields.approved_or_denied_by.username\n          } - ${formatDateString(workflowApproval.finished)}`\n        )}\n        position=\"top\"\n      >\n        <Label variant=\"outline\" color=\"red\" icon={<InfoCircleIcon />}>\n          {i18n._(t`Denied`)}\n        </Label>\n      </Tooltip>\n    );\n  }\n\n  if (workflowApproval.status === 'successful') {\n    return (\n      <Tooltip\n        content={i18n._(\n          t`Approved by ${\n            workflowApproval.summary_fields.approved_or_denied_by.username\n          } - ${formatDateString(workflowApproval.finished)}`\n        )}\n        position=\"top\"\n      >\n        <Label variant=\"outline\" color=\"green\" icon={<CheckIcon />}>\n          {i18n._(t`Approved`)}\n        </Label>\n      </Tooltip>\n    );\n  }\n\n  return null;\n}\n\nWorkflowApprovalStatus.defaultProps = {\n  workflowApproval: WorkflowApproval.isRequired,\n};\n\nexport default withI18n()(WorkflowApprovalStatus);\n","import React from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { string, bool, func } from 'prop-types';\nimport {\n  DataListCheck,\n  DataListItem,\n  DataListItemCells,\n  DataListItemRow,\n  Label,\n} from '@patternfly/react-core';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport DataListCell from '../../../components/DataListCell';\nimport { WorkflowApproval } from '../../../types';\nimport { formatDateString } from '../../../util/dates';\nimport WorkflowApprovalStatus from '../shared/WorkflowApprovalStatus';\n\nconst StatusCell = styled(DataListCell)`\n  @media screen and (min-width: 768px) {\n    display: flex;\n    justify-content: flex-end;\n  }\n`;\n\nconst JobLabel = styled.b`\n  margin-right: 24px;\n`;\n\nfunction WorkflowApprovalListItem({\n  workflowApproval,\n  isSelected,\n  onSelect,\n  detailUrl,\n  i18n,\n}) {\n  const labelId = `check-action-${workflowApproval.id}`;\n  const workflowJob = workflowApproval?.summary_fields?.source_workflow_job;\n\n  const getStatus = () => {\n    if (\n      workflowApproval.status === 'pending' &&\n      workflowApproval.approval_expiration\n    ) {\n      return (\n        <Label>\n          {i18n._(\n            t`Expires on ${formatDateString(\n              workflowApproval.approval_expiration\n            )}`\n          )}\n        </Label>\n      );\n    }\n    if (\n      workflowApproval.status === 'pending' &&\n      !workflowApproval.approval_expiration\n    ) {\n      return <Label>{i18n._(t`Never expires`)}</Label>;\n    }\n    return <WorkflowApprovalStatus workflowApproval={workflowApproval} />;\n  };\n\n  return (\n    <DataListItem\n      key={workflowApproval.id}\n      aria-labelledby={labelId}\n      id={`${workflowApproval.id}`}\n    >\n      <DataListItemRow>\n        <DataListCheck\n          id={`select-workflowApproval-${workflowApproval.id}`}\n          checked={isSelected}\n          onChange={onSelect}\n          aria-labelledby={labelId}\n        />\n        <DataListItemCells\n          dataListCells={[\n            <DataListCell key=\"title\">\n              <Link to={`${detailUrl}`}>\n                <b>{workflowApproval.name}</b>\n              </Link>\n            </DataListCell>,\n            <DataListCell key=\"job\">\n              <>\n                <JobLabel>{i18n._(t`Job`)}</JobLabel>\n                {workflowJob && workflowJob?.id ? (\n                  <Link to={`/jobs/workflow/${workflowJob?.id}`}>\n                    {`${workflowJob?.id} - ${workflowJob?.name}`}\n                  </Link>\n                ) : (\n                  i18n._(t`Deleted`)\n                )}\n              </>\n            </DataListCell>,\n            <StatusCell key=\"status\">\n              <div>{getStatus()}</div>\n            </StatusCell>,\n          ]}\n        />\n      </DataListItemRow>\n    </DataListItem>\n  );\n}\n\nWorkflowApprovalListItem.propTypes = {\n  workflowApproval: WorkflowApproval.isRequired,\n  detailUrl: string.isRequired,\n  isSelected: bool.isRequired,\n  onSelect: func.isRequired,\n};\n\nexport default withI18n()(WorkflowApprovalListItem);\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { KebabifiedContext } from '../../../contexts/Kebabified';\nimport { WorkflowApproval } from '../../../types';\n\nfunction cannotApprove(item) {\n  return !item.can_approve_or_deny;\n}\n\nfunction WorkflowApprovalListApproveButton({ onApprove, selectedItems, i18n }) {\n  const { isKebabified } = useContext(KebabifiedContext);\n\n  const renderTooltip = () => {\n    if (selectedItems.length === 0) {\n      return i18n._(t`Select a row to approve`);\n    }\n\n    const itemsUnableToApprove = selectedItems\n      .filter(cannotApprove)\n      .map(item => item.name)\n      .join(', ');\n\n    if (selectedItems.some(cannotApprove)) {\n      return i18n._(\n        t`You are unable to act on the following workflow approvals: ${itemsUnableToApprove}`\n      );\n    }\n\n    return i18n._(t`Approve`);\n  };\n\n  const isDisabled =\n    selectedItems.length === 0 || selectedItems.some(cannotApprove);\n\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"approve\"\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={onApprove}\n        >\n          {i18n._(t`Approve`)}\n        </DropdownItem>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              isDisabled={isDisabled}\n              aria-label={i18n._(t`Approve`)}\n              variant=\"primary\"\n              onClick={onApprove}\n            >\n              {i18n._(t`Approve`)}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n    </>\n  );\n}\n\nWorkflowApprovalListApproveButton.propTypes = {\n  onApprove: PropTypes.func.isRequired,\n  selectedItems: PropTypes.arrayOf(WorkflowApproval),\n};\n\nWorkflowApprovalListApproveButton.defaultProps = {\n  selectedItems: [],\n};\n\nexport default withI18n()(WorkflowApprovalListApproveButton);\n","import React, { useContext } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport PropTypes from 'prop-types';\nimport { Button, DropdownItem, Tooltip } from '@patternfly/react-core';\nimport { KebabifiedContext } from '../../../contexts/Kebabified';\nimport { WorkflowApproval } from '../../../types';\n\nfunction cannotDeny(item) {\n  return !item.can_approve_or_deny;\n}\n\nfunction WorkflowApprovalListDenyButton({ onDeny, selectedItems, i18n }) {\n  const { isKebabified } = useContext(KebabifiedContext);\n\n  const renderTooltip = () => {\n    if (selectedItems.length === 0) {\n      return i18n._(t`Select a row to deny`);\n    }\n\n    const itemsUnableToDeny = selectedItems\n      .filter(cannotDeny)\n      .map(item => item.name)\n      .join(', ');\n\n    if (selectedItems.some(cannotDeny)) {\n      return i18n._(\n        t`You are unable to act on the following workflow approvals: ${itemsUnableToDeny}`\n      );\n    }\n\n    return i18n._(t`Deny`);\n  };\n\n  const isDisabled =\n    selectedItems.length === 0 || selectedItems.some(cannotDeny);\n\n  return (\n    <>\n      {isKebabified ? (\n        <DropdownItem\n          key=\"deny\"\n          isDisabled={isDisabled}\n          component=\"button\"\n          onClick={onDeny}\n        >\n          {i18n._(t`Deny`)}\n        </DropdownItem>\n      ) : (\n        <Tooltip content={renderTooltip()} position=\"top\">\n          <div>\n            <Button\n              isDisabled={isDisabled}\n              aria-label={i18n._(t`Deny`)}\n              variant=\"danger\"\n              onClick={onDeny}\n            >\n              {i18n._(t`Deny`)}\n            </Button>\n          </div>\n        </Tooltip>\n      )}\n    </>\n  );\n}\n\nWorkflowApprovalListDenyButton.propTypes = {\n  onDeny: PropTypes.func.isRequired,\n  selectedItems: PropTypes.arrayOf(WorkflowApproval),\n};\n\nWorkflowApprovalListDenyButton.defaultProps = {\n  selectedItems: [],\n};\n\nexport default withI18n()(WorkflowApprovalListDenyButton);\n","import React, { useCallback, useEffect } from 'react';\nimport { useLocation, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { WorkflowApprovalsAPI } from '../../../api';\nimport PaginatedDataList, {\n  ToolbarDeleteButton,\n} from '../../../components/PaginatedDataList';\nimport AlertModal from '../../../components/AlertModal';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport DataListToolbar from '../../../components/DataListToolbar';\nimport WorkflowApprovalListItem from './WorkflowApprovalListItem';\nimport useRequest, {\n  useDeleteItems,\n  useDismissableError,\n} from '../../../util/useRequest';\nimport useSelected from '../../../util/useSelected';\nimport { getQSConfig, parseQueryString } from '../../../util/qs';\nimport useWsWorkflowApprovals from './useWsWorkflowApprovals';\nimport WorkflowApprovalListApproveButton from './WorkflowApprovalListApproveButton';\nimport WorkflowApprovalListDenyButton from './WorkflowApprovalListDenyButton';\n\nconst QS_CONFIG = getQSConfig('workflow_approvals', {\n  page: 1,\n  page_size: 20,\n  order_by: '-started',\n});\n\nfunction WorkflowApprovalsList({ i18n }) {\n  const location = useLocation();\n  const match = useRouteMatch();\n\n  const {\n    result: { results, count, relatedSearchableKeys, searchableKeys },\n    error: contentError,\n    isLoading: isWorkflowApprovalsLoading,\n    request: fetchWorkflowApprovals,\n  } = useRequest(\n    useCallback(async () => {\n      const params = parseQueryString(QS_CONFIG, location.search);\n      const [response, actionsResponse] = await Promise.all([\n        WorkflowApprovalsAPI.read(params),\n        WorkflowApprovalsAPI.readOptions(),\n      ]);\n      return {\n        results: response.data.results,\n        count: response.data.count,\n        relatedSearchableKeys: (\n          actionsResponse?.data?.related_search_fields || []\n        ).map(val => val.slice(0, -8)),\n        searchableKeys: Object.keys(\n          actionsResponse.data.actions?.GET || {}\n        ).filter(key => actionsResponse.data.actions?.GET[key].filterable),\n      };\n    }, [location]),\n    {\n      results: [],\n      count: 0,\n      relatedSearchableKeys: [],\n      searchableKeys: [],\n    }\n  );\n\n  useEffect(() => {\n    fetchWorkflowApprovals();\n  }, [fetchWorkflowApprovals]);\n\n  const fetchWorkflowApprovalsById = useCallback(\n    async ids => {\n      const params = { ...parseQueryString(QS_CONFIG, location.search) };\n      params.id__in = ids.join(',');\n      const { data } = await WorkflowApprovalsAPI.read(params);\n      return data.results;\n    },\n    [location.search] // eslint-disable-line react-hooks/exhaustive-deps\n  );\n\n  const workflowApprovals = useWsWorkflowApprovals(\n    results,\n    fetchWorkflowApprovals,\n    fetchWorkflowApprovalsById,\n    QS_CONFIG\n  );\n\n  const { selected, isAllSelected, handleSelect, setSelected } = useSelected(\n    workflowApprovals\n  );\n\n  const {\n    isLoading: isDeleteLoading,\n    deleteItems: deleteWorkflowApprovals,\n    deletionError,\n    clearDeletionError,\n  } = useDeleteItems(\n    useCallback(async () => {\n      return Promise.all(\n        selected.map(({ id }) => WorkflowApprovalsAPI.destroy(id))\n      );\n    }, [selected]),\n    {\n      qsConfig: QS_CONFIG,\n      allItemsSelected: isAllSelected,\n      fetchItems: fetchWorkflowApprovals,\n    }\n  );\n\n  const handleDelete = async () => {\n    await deleteWorkflowApprovals();\n    setSelected([]);\n  };\n\n  const {\n    error: approveApprovalError,\n    isLoading: isApproveLoading,\n    request: approveWorkflowApprovals,\n  } = useRequest(\n    useCallback(async () => {\n      return Promise.all(\n        selected.map(({ id }) => WorkflowApprovalsAPI.approve(id))\n      );\n    }, [selected]),\n    {}\n  );\n\n  const handleApprove = async () => {\n    await approveWorkflowApprovals();\n    setSelected([]);\n  };\n\n  const {\n    error: denyApprovalError,\n    isLoading: isDenyLoading,\n    request: denyWorkflowApprovals,\n  } = useRequest(\n    useCallback(async () => {\n      return Promise.all(\n        selected.map(({ id }) => WorkflowApprovalsAPI.deny(id))\n      );\n    }, [selected]),\n    {}\n  );\n\n  const handleDeny = async () => {\n    await denyWorkflowApprovals();\n    setSelected([]);\n  };\n\n  const {\n    error: actionError,\n    dismissError: dismissActionError,\n  } = useDismissableError(approveApprovalError || denyApprovalError);\n\n  return (\n    <>\n      <PageSection>\n        <Card>\n          <PaginatedDataList\n            contentError={contentError}\n            hasContentLoading={\n              isWorkflowApprovalsLoading ||\n              isDeleteLoading ||\n              isApproveLoading ||\n              isDenyLoading\n            }\n            items={workflowApprovals}\n            itemCount={count}\n            pluralizedItemName={i18n._(t`工作流审批`)}\n            qsConfig={QS_CONFIG}\n            onRowClick={handleSelect}\n            toolbarSearchColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name__icontains',\n                isDefault: true,\n              },\n              {\n                name: i18n._(t`描述`),\n                key: 'description__icontains',\n              },\n            ]}\n            toolbarSearchableKeys={searchableKeys}\n            toolbarRelatedSearchableKeys={relatedSearchableKeys}\n            toolbarSortColumns={[\n              {\n                name: i18n._(t`名称`),\n                key: 'name',\n              },\n              {\n                name: i18n._(t`开始时间`),\n                key: 'started',\n              },\n            ]}\n            renderToolbar={props => (\n              <DataListToolbar\n                {...props}\n                showSelectAll\n                isAllSelected={isAllSelected}\n                onSelectAll={set =>\n                  setSelected(set ? [...workflowApprovals] : [])\n                }\n                qsConfig={QS_CONFIG}\n                additionalControls={[\n                  <WorkflowApprovalListApproveButton\n                    key=\"approve\"\n                    onApprove={handleApprove}\n                    selectedItems={selected}\n                  />,\n                  <WorkflowApprovalListDenyButton\n                    key=\"deny\"\n                    onDeny={handleDeny}\n                    selectedItems={selected}\n                  />,\n                  <ToolbarDeleteButton\n                    key=\"delete\"\n                    onDelete={handleDelete}\n                    itemsToDelete={selected}\n                    pluralizedItemName={i18n._(t`工作流审批`)}\n                    cannotDelete={item =>\n                      item.status === 'pending' ||\n                      !item.summary_fields.user_capabilities.delete\n                    }\n                    errorMessage={i18n._(\n                      t`These approvals cannot be deleted due to insufficient permissions or a pending job status`\n                    )}\n                  />,\n                ]}\n              />\n            )}\n            renderItem={workflowApproval => (\n              <WorkflowApprovalListItem\n                key={workflowApproval.id}\n                workflowApproval={workflowApproval}\n                detailUrl={`${match.url}/${workflowApproval.id}`}\n                isSelected={selected.some(\n                  row => row.id === workflowApproval.id\n                )}\n                onSelect={() => handleSelect(workflowApproval)}\n                onSuccessfulAction={fetchWorkflowApprovals}\n              />\n            )}\n          />\n        </Card>\n      </PageSection>\n      {deletionError && (\n        <AlertModal\n          isOpen={deletionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={clearDeletionError}\n        >\n          {i18n._(t`Failed to delete one or more workflow approval.`)}\n          <ErrorDetail error={deletionError} />\n        </AlertModal>\n      )}\n      {actionError && (\n        <AlertModal\n          isOpen={actionError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissActionError}\n        >\n          {approveApprovalError\n            ? i18n._(t`Failed to approve one or more workflow approval.`)\n            : i18n._(t`Failed to deny one or more workflow approval.`)}\n          <ErrorDetail error={actionError} />\n        </AlertModal>\n      )}\n    </>\n  );\n}\n\nexport default withI18n()(WorkflowApprovalsList);\n","import WorkflowApprovalList from './WorkflowApprovalList';\n\nexport default WorkflowApprovalList;\nexport { default as WorkflowApprovalListItem } from './WorkflowApprovalListItem';\n","import { useState, useEffect } from 'react';\nimport useWebsocket from '../../../util/useWebsocket';\nimport useThrottle from '../../../util/useThrottle';\n\nexport default function useWsWorkflowApprovals(\n  initialWorkflowApprovals,\n  fetchWorkflowApprovals\n) {\n  const [workflowApprovals, setWorkflowApprovals] = useState(\n    initialWorkflowApprovals\n  );\n  const [reloadEntireList, setReloadEntireList] = useState(false);\n  const throttledListRefresh = useThrottle(reloadEntireList, 1000);\n  const lastMessage = useWebsocket({\n    jobs: ['status_changed'],\n    control: ['limit_reached_1'],\n  });\n\n  useEffect(() => {\n    setWorkflowApprovals(initialWorkflowApprovals);\n  }, [initialWorkflowApprovals]);\n\n  useEffect(\n    function reloadWorkflowApprovalsList() {\n      (async () => {\n        if (!throttledListRefresh) {\n          return;\n        }\n        setReloadEntireList(false);\n        fetchWorkflowApprovals();\n      })();\n    },\n    [throttledListRefresh, fetchWorkflowApprovals]\n  );\n\n  useEffect(\n    function processWsMessage() {\n      if (!(lastMessage?.type === 'workflow_approval')) {\n        return;\n      }\n\n      const index = workflowApprovals.findIndex(\n        p => p.id === lastMessage.unified_job_id\n      );\n\n      if (\n        (index > -1 &&\n          !['new', 'pending', 'waiting', 'running'].includes(\n            lastMessage.status\n          )) ||\n        (index === -1 && lastMessage.status === 'pending')\n      ) {\n        setReloadEntireList(true);\n      }\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps,\n    [lastMessage]\n  );\n\n  return workflowApprovals;\n}\n","import React, { useCallback } from 'react';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport { Link, useHistory, useParams } from 'react-router-dom';\nimport { Button } from '@patternfly/react-core';\nimport AlertModal from '../../../components/AlertModal';\nimport { CardBody, CardActionsRow } from '../../../components/Card';\nimport DeleteButton from '../../../components/DeleteButton';\nimport {\n  Detail,\n  DetailList,\n  UserDateDetail,\n} from '../../../components/DetailList';\nimport ErrorDetail from '../../../components/ErrorDetail';\nimport WorkflowApprovalStatus from '../shared/WorkflowApprovalStatus';\nimport { formatDateString, secondsToHHMMSS } from '../../../util/dates';\nimport { WorkflowApprovalsAPI } from '../../../api';\nimport useRequest, { useDismissableError } from '../../../util/useRequest';\nimport { WorkflowApproval } from '../../../types';\n\nfunction WorkflowApprovalDetail({ i18n, workflowApproval }) {\n  const { id: workflowApprovalId } = useParams();\n  const history = useHistory();\n  const {\n    request: deleteWorkflowApproval,\n    isLoading: isDeleteLoading,\n    error: deleteApprovalError,\n  } = useRequest(\n    useCallback(async () => {\n      await WorkflowApprovalsAPI.destroy(workflowApprovalId);\n      history.push(`/workflow_approvals`);\n    }, [workflowApprovalId, history])\n  );\n\n  const {\n    error: deleteError,\n    dismissError: dismissDeleteError,\n  } = useDismissableError(deleteApprovalError);\n\n  const {\n    error: approveApprovalError,\n    isLoading: isApproveLoading,\n    request: approveWorkflowApproval,\n  } = useRequest(\n    useCallback(async () => {\n      await WorkflowApprovalsAPI.approve(workflowApprovalId);\n      history.push(`/workflow_approvals/${workflowApprovalId}`);\n    }, [workflowApprovalId, history]),\n    {}\n  );\n\n  const {\n    error: approveError,\n    dismissError: dismissApproveError,\n  } = useDismissableError(approveApprovalError);\n\n  const {\n    error: denyApprovalError,\n    isLoading: isDenyLoading,\n    request: denyWorkflowApproval,\n  } = useRequest(\n    useCallback(async () => {\n      await WorkflowApprovalsAPI.deny(workflowApprovalId);\n      history.push(`/workflow_approvals/${workflowApprovalId}`);\n    }, [workflowApprovalId, history]),\n    {}\n  );\n\n  const {\n    error: denyError,\n    dismissError: dismissDenyError,\n  } = useDismissableError(denyApprovalError);\n\n  const sourceWorkflowJob =\n    workflowApproval?.summary_fields?.source_workflow_job;\n\n  const sourceWorkflowJobTemplate =\n    workflowApproval?.summary_fields?.workflow_job_template;\n\n  const isLoading = isDeleteLoading || isApproveLoading || isDenyLoading;\n\n  return (\n    <CardBody>\n      <DetailList gutter=\"sm\">\n        <Detail\n          label={i18n._(t`名称`)}\n          value={workflowApproval.name}\n          dataCy=\"wa-detail-name\"\n        />\n        <Detail\n          label={i18n._(t`描述`)}\n          value={workflowApproval.description}\n          dataCy=\"wa-detail-description\"\n        />\n        {workflowApproval.status === 'pending' && (\n          <Detail\n            label={i18n._(t`Expires`)}\n            value={\n              workflowApproval.approval_expiration\n                ? formatDateString(workflowApproval.approval_expiration)\n                : i18n._(t`Never`)\n            }\n            dataCy=\"wa-detail-expires\"\n          />\n        )}\n        {workflowApproval.status !== 'pending' && (\n          <Detail\n            label={i18n._(t`状态`)}\n            value={\n              <WorkflowApprovalStatus workflowApproval={workflowApproval} />\n            }\n            dataCy=\"wa-detail-status\"\n          />\n        )}\n        {workflowApproval.summary_fields.approved_or_denied_by && (\n          <Detail\n            label={i18n._(t`Actor`)}\n            value={\n              <Link\n                to={`/users/${workflowApproval.summary_fields.approved_or_denied_by.id}`}\n              >\n                {workflowApproval.summary_fields.approved_or_denied_by.username}\n              </Link>\n            }\n            dataCy=\"wa-detail-actor\"\n          />\n        )}\n        <Detail\n          label={i18n._(t`Explanation`)}\n          value={workflowApproval.job_explanation}\n          dataCy=\"wa-detail-explanation\"\n        />\n        <Detail\n          label={i18n._(t`Workflow Job`)}\n          value={\n            sourceWorkflowJob && sourceWorkflowJob?.id ? (\n              <Link to={`/jobs/workflow/${sourceWorkflowJob?.id}`}>\n                {`${sourceWorkflowJob?.id} - ${sourceWorkflowJob?.name}`}\n              </Link>\n            ) : (\n              i18n._(t`Deleted`)\n            )\n          }\n          dataCy=\"wa-detail-source-job\"\n        />\n        <Detail\n          label={i18n._(t`Workflow Job Template`)}\n          value={\n            sourceWorkflowJobTemplate && (\n              <Link\n                to={`/templates/workflow_job_template/${sourceWorkflowJobTemplate?.id}`}\n              >\n                {sourceWorkflowJobTemplate?.name}\n              </Link>\n            )\n          }\n          dataCy=\"wa-detail-source-workflow\"\n        />\n        <UserDateDetail\n          label={i18n._(t`已创建`)}\n          date={workflowApproval.created}\n          user={workflowApproval.summary_fields.created_by}\n          dataCy=\"wa-detail-created-by\"\n        />\n        <Detail\n          label={i18n._(t`上次修改时间`)}\n          value={formatDateString(workflowApproval.modified)}\n          dataCy=\"wa-detail-last-modified\"\n        />\n        <Detail\n          label={i18n._(t`结束时间`)}\n          value={formatDateString(workflowApproval.finished)}\n          dataCy=\"wa-detail-finished\"\n        />\n        <Detail\n          label={i18n._(t`Canceled`)}\n          value={formatDateString(workflowApproval.canceled_on)}\n          dataCy=\"wa-detail-canceled\"\n        />\n        <Detail\n          label={i18n._(t`Elapsed`)}\n          value={secondsToHHMMSS(workflowApproval.elapsed)}\n          dataCy=\"wa-detail-elapsed\"\n        />\n      </DetailList>\n      <CardActionsRow>\n        {workflowApproval.can_approve_or_deny && (\n          <>\n            <Button\n              aria-label={i18n._(t`Approve`)}\n              variant=\"primary\"\n              onClick={approveWorkflowApproval}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`Approve`)}\n            </Button>\n            <Button\n              aria-label={i18n._(t`Deny`)}\n              variant=\"danger\"\n              onClick={denyWorkflowApproval}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`Deny`)}\n            </Button>\n          </>\n        )}\n        {workflowApproval.status !== 'pending' &&\n          workflowApproval.summary_fields.user_capabilities &&\n          workflowApproval.summary_fields.user_capabilities.delete && (\n            <DeleteButton\n              name={workflowApproval.name}\n              modalTitle={i18n._(t`Delete Workflow Approval`)}\n              onConfirm={deleteWorkflowApproval}\n              isDisabled={isLoading}\n            >\n              {i18n._(t`删除`)}\n            </DeleteButton>\n          )}\n      </CardActionsRow>\n      {deleteError && (\n        <AlertModal\n          isOpen={deleteError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissDeleteError}\n        >\n          {i18n._(t`Failed to delete workflow approval.`)}\n          <ErrorDetail error={deleteError} />\n        </AlertModal>\n      )}\n      {approveError && (\n        <AlertModal\n          isOpen={approveError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissApproveError}\n        >\n          {i18n._(t`Failed to approve workflow approval.`)}\n          <ErrorDetail error={approveError} />\n        </AlertModal>\n      )}\n      {denyError && (\n        <AlertModal\n          isOpen={denyError}\n          variant=\"error\"\n          title={i18n._(t`Error!`)}\n          onClose={dismissDenyError}\n        >\n          {i18n._(t`Failed to deny workflow approval.`)}\n          <ErrorDetail error={denyError} />\n        </AlertModal>\n      )}\n    </CardBody>\n  );\n}\n\nWorkflowApprovalDetail.defaultProps = {\n  workflowApproval: WorkflowApproval.isRequired,\n};\n\nexport default withI18n()(WorkflowApprovalDetail);\n","import WorkflowApprovalDetail from './WorkflowApprovalDetail';\n\nexport default WorkflowApprovalDetail;\n","import React, { useEffect, useCallback } from 'react';\nimport { t } from '@lingui/macro';\nimport { withI18n } from '@lingui/react';\nimport { Card, PageSection } from '@patternfly/react-core';\nimport { CaretLeftIcon } from '@patternfly/react-icons';\nimport {\n  Link,\n  Switch,\n  Route,\n  Redirect,\n  useParams,\n  useRouteMatch,\n  useLocation,\n} from 'react-router-dom';\nimport useRequest from '../../util/useRequest';\nimport RoutedTabs from '../../components/RoutedTabs';\nimport ContentError from '../../components/ContentError';\nimport { WorkflowApprovalsAPI } from '../../api';\nimport WorkflowApprovalDetail from './WorkflowApprovalDetail';\n\nfunction WorkflowApproval({ setBreadcrumb, i18n }) {\n  const { id: workflowApprovalId } = useParams();\n  const match = useRouteMatch();\n  const location = useLocation();\n  const {\n    result: { workflowApproval },\n    isLoading,\n    error,\n    request: fetchWorkflowApproval,\n  } = useRequest(\n    useCallback(async () => {\n      const detail = await WorkflowApprovalsAPI.readDetail(workflowApprovalId);\n      setBreadcrumb(detail.data);\n      return {\n        workflowApproval: detail.data,\n      };\n    }, [workflowApprovalId, setBreadcrumb]),\n    { workflowApproval: null }\n  );\n\n  useEffect(() => {\n    fetchWorkflowApproval();\n  }, [fetchWorkflowApproval, location.pathname]);\n\n  if (!isLoading && error) {\n    return (\n      <PageSection>\n        <Card>\n          <ContentError error={error}>\n            {error.response.status === 404 && (\n              <span>\n                {i18n._(t`Workflow Approval not found.`)}{' '}\n                <Link to=\"/workflow_approvals\">\n                  {i18n._(t`View all Workflow Approvals.`)}\n                </Link>\n              </span>\n            )}\n          </ContentError>\n        </Card>\n      </PageSection>\n    );\n  }\n\n  const tabs = [\n    {\n      name: (\n        <>\n          <CaretLeftIcon />\n          {i18n._(t`Back to Workflow Approvals`)}\n        </>\n      ),\n      link: `/workflow_approvals`,\n      id: 99,\n    },\n    {\n      name: i18n._(t`Details`),\n      link: `${match.url}/details`,\n      id: 0,\n    },\n  ];\n  return (\n    <PageSection>\n      <Card>\n        <RoutedTabs tabsArray={tabs} />\n        <Switch>\n          <Redirect\n            from=\"/workflow_approvals/:id\"\n            to=\"/workflow_approvals/:id/details\"\n            exact\n          />\n          {workflowApproval && (\n            <Route path=\"/workflow_approvals/:id/details\">\n              <WorkflowApprovalDetail\n                workflowApproval={workflowApproval}\n                isLoading={isLoading}\n              />\n            </Route>\n          )}\n          <Route key=\"not-found\" path=\"*\">\n            {!isLoading && (\n              <ContentError isNotFound>\n                {match.params.id && (\n                  <Link to={`/workflow_approvals/${match.params.id}/details`}>\n                    {i18n._(t`View Workflow Approval Details`)}\n                  </Link>\n                )}\n              </ContentError>\n            )}\n          </Route>\n        </Switch>\n      </Card>\n    </PageSection>\n  );\n}\n\nexport default withI18n()(WorkflowApproval);\n","import React, { useState, useCallback } from 'react';\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\nimport { withI18n } from '@lingui/react';\nimport { t } from '@lingui/macro';\nimport WorkflowApprovalList from './WorkflowApprovalList';\nimport WorkflowApproval from './WorkflowApproval';\nimport ScreenHeader from '../../components/ScreenHeader/ScreenHeader';\n\nfunction WorkflowApprovals({ i18n }) {\n  const match = useRouteMatch();\n  const [breadcrumbConfig, setBreadcrumbConfig] = useState({\n    '/workflow_approvals': i18n._(t`工作流审批`),\n  });\n\n  const updateBreadcrumbConfig = useCallback(\n    workflowApproval => {\n      const { id } = workflowApproval;\n      setBreadcrumbConfig({\n        '/workflow_approvals': i18n._(t`工作流审批`),\n        [`/workflow_approvals/${id}`]: workflowApproval.name,\n        [`/workflow_approvals/${id}/details`]: i18n._(t`Details`),\n      });\n    },\n    [i18n]\n  );\n\n  return (\n    <>\n      <ScreenHeader\n        streamType=\"workflow_approval\"\n        breadcrumbConfig={breadcrumbConfig}\n      />\n      <Switch>\n        <Route path={`${match.url}/:id`}>\n          <WorkflowApproval setBreadcrumb={updateBreadcrumbConfig} />\n        </Route>\n        <Route path={`${match.url}`}>\n          <WorkflowApprovalList />\n        </Route>\n      </Switch>\n    </>\n  );\n}\n\nexport default withI18n()(WorkflowApprovals);\n","import { t } from '@lingui/macro';\n\nimport ActivityStream from './screens/ActivityStream';\nimport Applications from './screens/Application';\nimport Credentials from './screens/Credential';\nimport CredentialTypes from './screens/CredentialType';\nimport Dashboard from './screens/Dashboard';\nimport Hosts from './screens/Host';\nimport InstanceGroups from './screens/InstanceGroup';\nimport Inventory from './screens/Inventory';\nimport { Jobs } from './screens/Job';\nimport ManagementJobs from './screens/ManagementJob';\nimport NotificationTemplates from './screens/NotificationTemplate';\nimport Organizations from './screens/Organization';\nimport Projects from './screens/Project';\nimport Schedules from './screens/Schedule';\nimport Settings from './screens/Setting';\nimport Teams from './screens/Team';\nimport Templates from './screens/Template';\nimport Users from './screens/User';\nimport WorkflowApprovals from './screens/WorkflowApproval';\n\n// Ideally, this should just be a regular object that we export, but we\n// need the i18n. When lingui3 arrives, we will be able to import i18n\n// directly and we can replace this function with a simple export.\n\nfunction getRouteConfig(i18n) {\n  return [\n    {\n      groupTitle: i18n._(t`视图`),\n      groupId: 'views_group',\n      routes: [\n        {\n          title: i18n._(t`仪表盘`),\n          path: '/home',\n          screen: Dashboard,\n        },\n        {\n          title: i18n._(t`作业`),\n          path: '/jobs',\n          screen: Jobs,\n        },\n        {\n          title: i18n._(t`计划`),\n          path: '/schedules',\n          screen: Schedules,\n        },\n        {\n          title: i18n._(t`活动流`),\n          path: '/activity_stream',\n          screen: ActivityStream,\n        },\n        {\n          title: i18n._(t`工作流`),\n          path: '/workflow_approvals',\n          screen: WorkflowApprovals,\n        },\n      ],\n    },\n    {\n      groupTitle: i18n._(t`资源`),\n      groupId: 'resources_group',\n      routes: [\n        {\n          title: i18n._(t`模板`),\n          path: '/templates',\n          screen: Templates,\n        },\n        {\n          title: i18n._(t`凭证`),\n          path: '/credentials',\n          screen: Credentials,\n        },\n        {\n          title: i18n._(t`项目`),\n          path: '/projects',\n          screen: Projects,\n        },\n        {\n          title: i18n._(t`清单`),\n          path: '/inventories',\n          screen: Inventory,\n        },\n        {\n          title: i18n._(t`主机`),\n          path: '/hosts',\n          screen: Hosts,\n        },\n      ],\n    },\n    {\n      groupTitle: i18n._(t`权限`),\n      groupId: 'access_group',\n      routes: [\n        {\n          title: i18n._(t`组织`),\n          path: '/organizations',\n          screen: Organizations,\n        },\n        {\n          title: i18n._(t`用户`),\n          path: '/users',\n          screen: Users,\n        },\n        {\n          title: i18n._(t`团队`),\n          path: '/teams',\n          screen: Teams,\n        },\n      ],\n    },\n    {\n      groupTitle: i18n._(t`管理`),\n      groupId: 'administration_group',\n      routes: [\n        {\n          title: i18n._(t`凭证类型`),\n          path: '/credential_types',\n          screen: CredentialTypes,\n        },\n        {\n          title: i18n._(t`通知`),\n          path: '/notification_templates',\n          screen: NotificationTemplates,\n        },\n        {\n          title: i18n._(t`管理作业`),\n          path: '/management_jobs',\n          screen: ManagementJobs,\n        },\n        {\n          title: i18n._(t`实例组`),\n          path: '/instance_groups',\n          screen: InstanceGroups,\n        },\n        {\n          title: i18n._(t`应用`),\n          path: '/applications',\n          screen: Applications,\n        },\n      ],\n    },\n    {\n      groupTitle: i18n._(t`设置`),\n      groupId: 'settings',\n      routes: [\n        {\n          title: i18n._(t`设置`),\n          path: '/settings',\n          screen: Settings,\n        },\n      ],\n    },\n  ];\n}\n\nexport default getRouteConfig;\n","import React from 'react';\nimport {\n  useRouteMatch,\n  useLocation,\n  HashRouter,\n  Route,\n  Switch,\n  Redirect,\n} from 'react-router-dom';\nimport { I18n, I18nProvider } from '@lingui/react';\n\nimport AppContainer from './components/AppContainer';\nimport Background from './components/Background';\nimport NotFound from './screens/NotFound';\nimport Login from './screens/Login';\n\nimport ja from './locales/ja/messages';\nimport en from './locales/en/messages';\nimport { isAuthenticated } from './util/auth';\nimport { getLanguageWithoutRegionCode } from './util/language';\n\nimport getRouteConfig from './routeConfig';\n\nconst ProtectedRoute = ({ children, ...rest }) =>\n  isAuthenticated(document.cookie) ? (\n    <Route {...rest}>{children}</Route>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n\nfunction App() {\n  const catalogs = { en, ja };\n  let language = getLanguageWithoutRegionCode(navigator);\n  if (!Object.keys(catalogs).includes(language)) {\n    // If there isn't a string catalog available for the browser's\n    // preferred language, default to one that has strings.\n    language = 'en';\n  }\n  const match = useRouteMatch();\n  const { hash, search, pathname } = useLocation();\n\n  return (\n    <I18nProvider language={language} catalogs={catalogs}>\n      <I18n>\n        {({ i18n }) => (\n          <Background>\n            <Switch>\n              <Route exact strict path=\"/*/\">\n                <Redirect to={`${pathname.slice(0, -1)}${search}${hash}`} />\n              </Route>\n              <Route path=\"/login\">\n                <Login isAuthenticated={isAuthenticated} />\n              </Route>\n              <Route exact path=\"/\">\n                <Redirect to=\"/home\" />\n              </Route>\n              <ProtectedRoute>\n                <AppContainer navRouteConfig={getRouteConfig(i18n)}>\n                  <Switch>\n                    {getRouteConfig(i18n)\n                      .flatMap(({ routes }) => routes)\n                      .map(({ path, screen: Screen }) => (\n                        <ProtectedRoute key={path} path={path}>\n                          <Screen match={match} />\n                        </ProtectedRoute>\n                      ))\n                      .concat(\n                        <ProtectedRoute key=\"not-found\" path=\"*\">\n                          <NotFound />\n                        </ProtectedRoute>\n                      )}\n                  </Switch>\n                </AppContainer>\n              </ProtectedRoute>\n            </Switch>\n          </Background>\n        )}\n      </I18n>\n    </I18nProvider>\n  );\n}\n\nexport default () => (\n  <HashRouter>\n    <App />\n  </HashRouter>\n);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './setupCSP';\nimport '@patternfly/react-core/dist/styles/base.css';\nimport App from './App';\nimport { BrandName } from './variables';\n\ndocument.title = `Ansible ${BrandName}`;\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('app') || document.createElement('div')\n);\n"],"sourceRoot":""}